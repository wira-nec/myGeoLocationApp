import{a as z,b as ke,c as JV,d as xl,e as Be,f as Fn,g as kh,h as Mm,i as Ah,j as Wr}from"./chunk-TWZW5B45.js";var so,PO=Be(()=>{"use strict";so={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}});function OO(e){let t=Yr();for(let n=0,i=e.length;n<i;++n)dg(t,e[n]);return t}function Q_e(e,t,n){let i=Math.min.apply(null,e),r=Math.min.apply(null,t),o=Math.max.apply(null,e),s=Math.max.apply(null,t);return el(i,r,o,s,n)}function iv(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function aD(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function lD(e,t,n){let i,r;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?r=e[1]-n:e[3]<n?r=n-e[3]:r=0,i*i+r*r}function Cc(e,t){return LO(e,t[0],t[1])}function Ou(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function LO(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function sD(e,t){let n=e[0],i=e[1],r=e[2],o=e[3],s=t[0],a=t[1],l=so.UNKNOWN;return s<n?l=l|so.LEFT:s>r&&(l=l|so.RIGHT),a<i?l=l|so.BELOW:a>o&&(l=l|so.ABOVE),l===so.UNKNOWN&&(l=so.INTERSECTING),l}function Yr(){return[1/0,1/0,-1/0,-1/0]}function el(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function cg(e){return el(1/0,1/0,-1/0,-1/0,e)}function cD(e,t){let n=e[0],i=e[1];return el(n,i,n,i,t)}function rv(e,t,n,i,r){let o=cg(r);return NO(o,e,t,n,i)}function Lu(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function lq(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function dg(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function NO(e,t,n,i,r){for(;n<i;n+=r)J_e(e,t[n],t[n+1]);return e}function J_e(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function dD(e,t){let n;return n=t(ov(e)),n||(n=t(sv(e)),n)||(n=t(av(e)),n)||(n=t(Fl(e)),n)?n:!1}function sb(e){let t=0;return sf(e)||(t=mn(e)*ar(e)),t}function ov(e){return[e[0],e[1]]}function sv(e){return[e[2],e[1]]}function Il(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function cq(e,t){let n;if(t==="bottom-left")n=ov(e);else if(t==="bottom-right")n=sv(e);else if(t==="top-left")n=Fl(e);else if(t==="top-right")n=av(e);else throw new Error("Invalid corner");return n}function ab(e,t,n,i,r){let[o,s,a,l,c,d,u,f]=BO(e,t,n,i);return el(Math.min(o,a,c,u),Math.min(s,l,d,f),Math.max(o,a,c,u),Math.max(s,l,d,f),r)}function BO(e,t,n,i){let r=t*i[0]/2,o=t*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,c=r*a,d=o*s,u=o*a,f=e[0],p=e[1];return[f-l+u,p-c-d,f-l-u,p-c+d,f+l-u,p+c+d,f+l+u,p+c-d,f-l+u,p-c-d]}function ar(e){return e[3]-e[1]}function vd(e,t,n){let i=n||Yr();return Cr(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):cg(i),i}function Fl(e){return[e[0],e[3]]}function av(e){return[e[2],e[3]]}function mn(e){return e[2]-e[0]}function Cr(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function sf(e){return e[2]<e[0]||e[3]<e[1]}function dq(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function uq(e,t,n){let i=!1,r=sD(e,t),o=sD(e,n);if(r===so.INTERSECTING||o===so.INTERSECTING)i=!0;else{let s=e[0],a=e[1],l=e[2],c=e[3],d=t[0],u=t[1],f=n[0],p=n[1],m=(p-u)/(f-d),v,C;o&so.ABOVE&&!(r&so.ABOVE)&&(v=f-(p-c)/m,i=v>=s&&v<=l),!i&&o&so.RIGHT&&!(r&so.RIGHT)&&(C=p-(f-l)*m,i=C>=a&&C<=c),!i&&o&so.BELOW&&!(r&so.BELOW)&&(v=f-(p-a)/m,i=v>=s&&v<=l),!i&&o&so.LEFT&&!(r&so.LEFT)&&(C=p-(f-s)*m,i=C>=a&&C<=c)}return i}function hq(e,t,n,i){if(sf(e))return cg(n);let r=[];if(i>1){let a=e[2]-e[0],l=e[3]-e[1];for(let c=0;c<i;++c)r.push(e[0]+a*c/i,e[1],e[2],e[1]+l*c/i,e[2]-a*c/i,e[3],e[0],e[3]-l*c/i)}else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);let o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return Q_e(o,s,n)}function VO(e,t){let n=t.getExtent(),i=Il(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){let r=mn(n),s=Math.floor((i[0]-n[0])/r)*r;e[0]-=s,e[2]-=s}return e}function uD(e,t,n){if(t.canWrapX()){let i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];VO(e,t);let r=mn(i);if(mn(e)>r&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+r,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-r,e[3]]]}return[e]}var zn=Be(()=>{"use strict";PO()});function Yn(e,t,n){return Math.min(Math.max(e,t),n)}function fq(e,t,n,i,r,o){let s=r-n,a=o-i;if(s!==0||a!==0){let l=((e-n)*s+(t-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return Nu(e,t,n,i)}function Nu(e,t,n,i){let r=n-e,o=i-t;return r*r+o*o}function pq(e){let t=e.length;for(let i=0;i<t;i++){let r=i,o=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){let l=Math.abs(e[a][i]);l>o&&(o=l,r=a)}if(o===0)return null;let s=e[r];e[r]=e[i],e[i]=s;for(let a=i+1;a<t;a++){let l=-e[a][i]/e[i][i];for(let c=i;c<t+1;c++)i==c?e[a][c]=0:e[a][c]+=l*e[i][c]}}let n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let r=i-1;r>=0;r--)e[r][t]-=e[r][i]*n[i]}return n}function hD(e){return e*180/Math.PI}function yc(e){return e*Math.PI/180}function xc(e,t){let n=e%t;return n*t<0?n+t:n}function xs(e,t,n){return e+n*(t-e)}function lv(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}function lb(e,t){return Math.floor(lv(e,t))}function cb(e,t){return Math.ceil(lv(e,t))}function fD(e,t,n){if(e>=t&&e<n)return e;let i=n-t;return((e-t)%i+i)%i+t}var lr=Be(()=>{"use strict"});function gq(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function e1e(e,t,n){return e?t.replace("{x}",e[0].toFixed(n)).replace("{y}",e[1].toFixed(n)):""}function ug(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function cv(e,t){let n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=r,e[1]=o,e}function mq(e,t){return e[0]*=t,e[1]*=t,e}function vq(e,t){return e1e(e,"{x}, {y}",t)}function dv(e,t){if(t.canWrapX()){let n=mn(t.getExtent()),i=HO(e,t,n);i&&(e[0]-=i*n)}return e}function HO(e,t,n){let i=t.getExtent(),r=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||mn(i),r=Math.floor((e[0]-i[0])/n)),r}var Bu=Be(()=>{"use strict";zn()});function Cd(e){for(let t in e)delete e[t]}function bc(e){let t;for(t in e)return!1;return!t}var wc=Be(()=>{"use strict"});function rn(e,t,n,i,r){if(r){let s=n;n=function(a){return e.removeEventListener(t,n),s.call(i??this,a)}}else i&&i!==e&&(n=n.bind(i));let o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function uv(e,t,n,i){return rn(e,t,n,i,!0)}function Bn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Cd(e))}var Sa=Be(()=>{"use strict";wc()});function pD(...e){t1e>Cq.warn||console.warn(...e)}var Cq,t1e,GO=Be(()=>{"use strict";Cq={info:1,warn:2,error:3,none:4},t1e=Cq.info});var kl,zO=Be(()=>{"use strict";kl={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}});var UO,lf,db=Be(()=>{"use strict";zO();UO=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||kl[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},lf=UO});function yq(e,t,n,i){let r=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let o=0;o<r;o+=i){t[o]=hv*e[o]/180;let s=ub*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));s>gD?s=gD:s<-gD&&(s=-gD),t[o+1]=s}return t}function xq(e,t,n,i){let r=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let o=0;o<r;o+=i)t[o]=180*e[o]/hv,t[o+1]=360*Math.atan(Math.exp(e[o+1]/ub))/Math.PI-90;return t}var ub,hv,n1e,i1e,gD,cf,WO,bq=Be(()=>{"use strict";db();ub=6378137,hv=Math.PI*ub,n1e=[-hv,-hv,hv,hv],i1e=[-180,-85,180,85],gD=ub*Math.log(Math.tan(Math.PI/2)),cf=class extends lf{constructor(t){super({code:t,units:"m",extent:n1e,global:!0,worldExtent:i1e,getPointResolution:function(n,i){return n/Math.cosh(i[1]/ub)}})}},WO=[new cf("EPSG:3857"),new cf("EPSG:102100"),new cf("EPSG:102113"),new cf("EPSG:900913"),new cf("http://www.opengis.net/def/crs/EPSG/0/3857"),new cf("http://www.opengis.net/gml/srs/epsg.xml#3857")]});var r1e,wq,o1e,Vu,jO,_q=Be(()=>{"use strict";db();r1e=6378137,wq=[-180,-90,180,90],o1e=Math.PI*r1e/180,Vu=class extends lf{constructor(t,n){super({code:t,units:"degrees",extent:wq,axisOrientation:n,global:!0,metersPerUnit:o1e,worldExtent:wq})}},jO=[new Vu("CRS:84"),new Vu("EPSG:4326","neu"),new Vu("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vu("urn:ogc:def:crs:OGC:2:84"),new Vu("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Vu("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vu("http://www.opengis.net/def/crs/EPSG/0/4326","neu")]});function Sq(){mD={}}function Eq(e){return mD[e]||mD[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Dq(e,t){mD[e]=t}var mD,Rq=Be(()=>{"use strict";mD={}});function Tq(){hg={}}function df(e,t,n){let i=e.getCode(),r=t.getCode();i in hg||(hg[i]={}),hg[i][r]=n}function vD(e,t){return e in hg&&t in hg[e]?hg[e][t]:null}var hg,Iq=Be(()=>{"use strict";hg={}});function f1e(e,t,n){let i=e-5e5,s=(n.north?t:t-1e7)/CD/(yD*Lq),a=s+c1e*Math.sin(2*s)+d1e*Math.sin(4*s)+u1e*Math.sin(6*s)+h1e*Math.sin(8*s),l=Math.sin(a),c=l*l,d=Math.cos(a),u=l/d,f=u*u,p=f*f,m=1-Al*c,v=Math.sqrt(1-Al*c),C=yD/v,y=(1-Al)/m,b=fg*d**2,w=b*b,S=i/(C*CD),D=S*S,R=D*S,T=R*S,k=T*S,M=k*S,B=a-u/y*(D/2-T/24*(5+3*f+10*b-4*w-9*fg))+M/720*(61+90*f+298*b+45*p-252*fg-3*w),L=(S-R/6*(1+2*f+b)+k/120*(5-2*b+28*f-3*w+8*fg+24*p))/d;return L=fD(L+yc(Nq(n.number)),-Math.PI,Math.PI),[hD(L),hD(B)]}function m1e(e,t,n){e=fD(e,p1e,g1e),t<kq?t=kq:t>Aq&&(t=Aq);let i=yc(t),r=Math.sin(i),o=Math.cos(i),s=r/o,a=s*s,l=a*a,c=yc(e),d=Nq(n.number),u=yc(d),f=yD/Math.sqrt(1-Al*r**2),p=fg*o**2,m=o*fD(c-u,-Math.PI,Math.PI),v=m*m,C=v*m,y=C*m,b=y*m,w=b*m,S=yD*(Lq*i-s1e*Math.sin(2*i)+a1e*Math.sin(4*i)-l1e*Math.sin(6*i)),D=CD*f*(m+C/6*(1-a+p)+b/120*(5-18*a+l+72*p-58*fg))+5e5,R=CD*(S+f*s*(v/2+y/24*(5-a+9*p+4*p**2)+w/720*(61-58*a+l+600*p-330*fg)));return n.north||(R+=1e7),[D,R]}function Nq(e){return(e-1)*6-180+3}function Bq(e){let t=0;for(let r of v1e){let o=e.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,i=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(i=!0,n=t-32600),n?{number:n,north:i}:null}function Mq(e,t){return function(n,i,r,o){let s=n.length;r=r>1?r:2,o=o??r,i||(r>2?i=n.slice():i=new Array(s));for(let a=0;a<s;a+=o){let l=n[a],c=n[a+1],d=e(l,c,t);i[a]=d[0],i[a+1]=d[1]}return i}}function Vq(e){return Bq(e)?new lf({code:e,units:"m"}):null}function Hq(e){let t=Bq(e.getCode());return t?{forward:Mq(m1e,t),inverse:Mq(f1e,t)}:null}var CD,Al,xD,bD,fg,Fq,fv,Pq,$O,qO,Oq,Lq,s1e,a1e,l1e,c1e,d1e,u1e,h1e,yD,kq,Aq,p1e,g1e,v1e,Gq=Be(()=>{"use strict";lr();db();CD=.9996,Al=.00669438,xD=Al*Al,bD=xD*Al,fg=Al/(1-Al),Fq=Math.sqrt(1-Al),fv=(1-Fq)/(1+Fq),Pq=fv*fv,$O=Pq*fv,qO=$O*fv,Oq=qO*fv,Lq=1-Al/4-3*xD/64-5*bD/256,s1e=3*Al/8+3*xD/32+45*bD/1024,a1e=15*xD/256+45*bD/1024,l1e=35*bD/3072,c1e=3/2*fv-27/32*$O+269/512*Oq,d1e=21/16*Pq-55/32*qO,u1e=151/96*$O-417/128*Oq,h1e=1097/512*qO,yD=6378137;kq=-80,Aq=84,p1e=-180,g1e=180;v1e=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/]});function KO(e,t,n){n=n||C1e;let i=yc(e[1]),r=yc(t[1]),o=(r-i)/2,s=yc(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var C1e,zq=Be(()=>{"use strict";lr();C1e=63710088e-1});var Kq={};kh(Kq,{METERS_PER_UNIT:()=>kl,Projection:()=>lf,addCommon:()=>qq,addCoordinateTransforms:()=>w1e,addEquivalentProjections:()=>ZO,addEquivalentTransforms:()=>Wq,addProjection:()=>wD,addProjections:()=>Uq,clearAllProjections:()=>b1e,clearUserProjection:()=>E1e,cloneTransform:()=>SD,createProjection:()=>fb,createSafeCoordinateTransform:()=>R1e,createTransformFromCoordinateTransform:()=>hb,disableCoordinateWarning:()=>_D,equivalent:()=>pb,fromLonLat:()=>bs,fromUserCoordinate:()=>Pl,fromUserExtent:()=>tl,fromUserResolution:()=>$q,get:()=>zi,getPointResolution:()=>pg,getTransform:()=>uf,getTransformFromProjections:()=>Ml,getUserProjection:()=>yd,identityTransform:()=>QO,setUserProjection:()=>jq,toLonLat:()=>_1e,toUserCoordinate:()=>pv,toUserExtent:()=>Gu,toUserResolution:()=>eL,transform:()=>Hu,transformExtent:()=>JO,transformWithProjections:()=>S1e,useGeographic:()=>D1e});function _D(e){YO=!(e===void 0?!0:e)}function SD(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function QO(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function wD(e){Dq(e.getCode(),e),df(e,e,SD)}function Uq(e){e.forEach(wD)}function zi(e){if(typeof e!="string")return e;let t=Eq(e);if(t)return t;for(let n of x1e){let i=n(e);if(i)return i}return null}function pg(e,t,n,i){e=zi(e);let r,o=e.getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){let s=e.getMetersPerUnit();s&&(r=r*s/kl[i])}}else{let s=e.getUnits();if(s=="degrees"&&!i||i=="degrees")r=t;else{let a=Ml(e,zi("EPSG:4326"));if(!a&&s!=="degrees")r=t*e.getMetersPerUnit();else{let c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=a(c,c,2);let d=KO(c.slice(0,2),c.slice(2,4)),u=KO(c.slice(4,6),c.slice(6,8));r=(d+u)/2}let l=i?kl[i]:e.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function ZO(e){Uq(e),e.forEach(function(t){e.forEach(function(n){t!==n&&df(t,n,SD)})})}function Wq(e,t,n,i){e.forEach(function(r){t.forEach(function(o){df(r,o,n),df(o,r,i)})})}function b1e(){Sq(),Tq()}function fb(e,t){return e?typeof e=="string"?zi(e):e:zi(t)}function hb(e){return function(t,n,i,r){let o=t.length;i=i!==void 0?i:2,r=r??i,n=n!==void 0?n:new Array(o);for(let s=0;s<o;s+=r){let a=e(t.slice(s,s+i)),l=a.length;for(let c=0,d=r;c<d;++c)n[s+c]=c>=l?t[s+c]:a[c]}return n}}function w1e(e,t,n,i){let r=zi(e),o=zi(t);df(r,o,hb(n)),df(o,r,hb(i))}function bs(e,t){return _D(),Hu(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function _1e(e,t){let n=Hu(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=xc(i+180,360)-180),n}function pb(e,t){if(e===t)return!0;let n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Ml(e,t)===SD)&&n}function Ml(e,t){let n=e.getCode(),i=t.getCode(),r=vD(n,i);if(r)return r;let o=null,s=null;for(let l of y1e)o||(o=l(e)),s||(s=l(t));if(!o&&!s)return null;let a="EPSG:4326";if(s)if(o)r=XO(o.inverse,s.forward);else{let l=vD(n,a);l&&(r=XO(l,s.forward))}else{let l=vD(a,i);l&&(r=XO(o.inverse,l))}return r&&(wD(e),wD(t),df(e,t,r)),r}function XO(e,t){return function(n,i,r,o){return i=e(n,i,r,o),t(i,i,r,o)}}function uf(e,t){let n=zi(e),i=zi(t);return Ml(n,i)}function Hu(e,t,n){let i=uf(t,n);if(!i){let r=zi(t).getCode(),o=zi(n).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(e,void 0,e.length)}function JO(e,t,n,i){let r=uf(t,n);return hq(e,r,void 0,i)}function S1e(e,t,n){return Ml(t,n)(e)}function jq(e){Qs=zi(e)}function E1e(){Qs=null}function yd(){return Qs}function D1e(){jq("EPSG:4326")}function pv(e,t){return Qs?Hu(e,t,Qs):e}function Pl(e,t){return Qs?Hu(e,Qs,t):(YO&&!ug(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(YO=!1,pD("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Gu(e,t){return Qs?JO(e,t,Qs):e}function tl(e,t){return Qs?JO(e,Qs,t):e}function eL(e,t){if(!Qs)return e;let n=zi(t).getMetersPerUnit(),i=Qs.getMetersPerUnit();return n&&i?e*n/i:e}function $q(e,t){if(!Qs)return e;let n=zi(t).getMetersPerUnit(),i=Qs.getMetersPerUnit();return n&&i?e*i/n:e}function R1e(e,t,n){return function(i){let r,o;if(e.canWrapX()){let s=e.getExtent(),a=mn(s);i=i.slice(0),o=HO(i,e,a),o&&(i[0]=i[0]-o*a),i[0]=Yn(i[0],s[0],s[2]),i[1]=Yn(i[1],s[1],s[3]),r=n(i)}else r=n(i);return o&&t.canWrapX()&&(r[0]+=o*mn(t.getExtent())),r}}function qq(){ZO(WO),ZO(jO),Wq(jO,WO,yq,xq)}var y1e,x1e,YO,Qs,Ar=Be(()=>{"use strict";GO();Bu();zn();lr();db();zO();bq();_q();Rq();Iq();Gq();zq();y1e=[Hq],x1e=[Vq],YO=!0;Qs=null;qq()});var Ol,ED=Be(()=>{"use strict";Ol={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}});var _c,gv=Be(()=>{"use strict";_c={PROPERTYCHANGE:"propertychange"}});var bt,yr=Be(()=>{"use strict";bt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}});var tL,hf,gb=Be(()=>{"use strict";tL=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},hf=tL});function Xq(e,t,n){let i,r;n=n||Ea;let o=0,s=e.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+n(e[i],t),r<0?o=i+1:(s=i,a=!r);return a?o:~o}function Ea(e,t){return e>t?1:e<t?-1:0}function Yq(e,t){return e<t?1:e>t?-1:0}function mv(e,t,n){if(e[0]<=t)return 0;let i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){let o=e[r];if(o===t)return r;if(o<t)return n(t,e[r-1],o)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(e[r]<t)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(e[r]<=t)return r;return i-1}for(let r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return i-1}function Zq(e,t,n){for(;t<n;){let i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function vv(e,t){let n=Array.isArray(t)?t:[t],i=n.length;for(let r=0;r<i;r++)e[e.length]=n[r]}function ws(e,t){let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Qq(e,t,n){let i=t||Ea;return e.every(function(r,o){if(o===0)return!0;let s=i(e[o-1],r);return!(s>0||n&&s===0)})}var Zr=Be(()=>{"use strict"});function zu(){return!0}function Uu(){return!1}function Wu(){}function DD(e){let t,n,i;return function(){let r=Array.prototype.slice.call(arguments);return(!n||this!==i||!ws(r,n))&&(i=this,n=r,t=e.apply(this,arguments)),t}}function Jq(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}var Js=Be(()=>{"use strict";Zr()});var nL,Mo,xd=Be(()=>{"use strict";nL=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Mo=nL});var iL,ff,mb=Be(()=>{"use strict";gb();Js();wc();xd();iL=class extends hf{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;let i=this.listeners_||(this.listeners_={}),r=i[t]||(i[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){let n=typeof t=="string",i=n?t:t.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let o=n?new Mo(t):t;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let l;for(let c=0,d=r.length;c<d;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(o):l=r[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Wu);delete s[i]}return l}disposeInternal(){this.listeners_&&Cd(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;let i=this.listeners_[t];if(!i)return;let r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[r]=Wu,++this.pendingRemovals_[t]):(i.splice(r,1),i.length===0&&delete this.listeners_[t]))}},ff=iL});function T1e(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)Bn(e[t]);else Bn(e)}var Cv,RD,rL=Be(()=>{"use strict";yr();mb();Sa();Cv=class extends ff{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(bt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){let i=t.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=rn(this,t[o],n);return r}return rn(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){let r=t.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=uv(this,t[o],n)}else i=uv(this,t,n);return n.ol_key=i,i}unInternal(t,n){let i=n.ol_key;if(i)T1e(i);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}};Cv.prototype.on;Cv.prototype.once;Cv.prototype.un;RD=Cv});function kn(){throw new Error("Unimplemented abstract method.")}function qt(e){return e.ol_uid||(e.ol_uid=String(++I1e))}var I1e,cr=Be(()=>{"use strict";I1e=0});var TD,oL,Mr,Ll=Be(()=>{"use strict";gv();rL();xd();wc();cr();TD=class extends Mo{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}},oL=class extends RD{constructor(t){super(),this.on,this.once,this.un,qt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new TD(i,t,n)),i=_c.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new TD(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){let r=this.values_||(this.values_={});if(i)r[t]=n;else{let o=r[t];r[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(let i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){let i=this.values_[t];delete this.values_[t],bc(this.values_)&&(this.values_=null),n||this.notify(t,i)}}},Mr=oL});var eK={};kh(eK,{default:()=>Pr});var sL,Pr,pf=Be(()=>{"use strict";ED();Ll();Sa();Js();sL=class extends Mr{constructor(t){super();let n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,i=this.listenerKeys.length;n<i;++n)Bn(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){let n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Wu&&this.listenerKeys.push(rn(t,Ol.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}},Pr=sL});var vb,rK,bd,yv,cL,k1e,iK,dL,gf=Be(()=>{"use strict";vb="ol-hidden",rK="ol-selectable",bd="ol-unselectable",yv="ol-control",cL="ol-collapsed",k1e=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),iK=["style","variant","weight","size","lineHeight","family"],dL=function(e){let t=e.match(k1e);if(!t)return null;let n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=iK.length;i<r;++i){let o=t[i+1];o!==void 0&&(n[iK[i]]=o)}return n.families=n.family.split(/,\s?/),n}});var Po,yb=Be(()=>{"use strict";Po={ADD:"add",REMOVE:"remove"}});var sK,xv,fL,ea,bv=Be(()=>{"use strict";yb();Ll();xd();sK={LENGTH:"length"},xv=class extends Mo{constructor(t,n,i){super(t),this.element=n,this.index=i}},fL=class extends Mr{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,i=t.length;n<i;++n)this.push(t[n]);return this}forEach(t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)t(n[i],i,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(sK.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new xv(Po.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;let n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new xv(Po.REMOVE,n,t)),n}setAt(t,n){let i=this.getLength();if(t>=i){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);let r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new xv(Po.REMOVE,r,t)),this.dispatchEvent(new xv(Po.ADD,n,t))}updateLength_(){this.set(sK.LENGTH,this.array_.length)}assertUnique_(t,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==n)throw new Error("Duplicate item added to a unique collection")}},ea=fL});var gg,M1e,Tpt,aK,mL,lK,AD,vL,MD,mg=Be(()=>{"use strict";gg=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",M1e=gg.includes("safari")&&!gg.includes("chrom"),Tpt=M1e&&(gg.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(gg)),aK=gg.includes("webkit")&&!gg.includes("edge"),mL=gg.includes("macintosh"),lK=typeof devicePixelRatio<"u"?devicePixelRatio:1,AD=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,vL=typeof Image<"u"&&Image.prototype.decode,MD=function(){let e=!1;try{let t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}()});function vn(e,t){if(!e)throw new Error(t)}var Da=Be(()=>{"use strict"});var bo,PD=Be(()=>{"use strict";bo={ANIMATING:0,INTERACTING:1}});var Nl,fK=Be(()=>{"use strict";Nl={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}});function bL(e,t,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!t)return i;let l=t?0:o[0]*r,c=t?0:o[1]*r,d=a?a[0]:0,u=a?a[1]:0,f=e[0]+l/2+d,p=e[2]-l/2+d,m=e[1]+c/2+u,v=e[3]-c/2+u;f>p&&(f=(p+f)/2,p=f),m>v&&(m=(v+m)/2,v=m);let C=Yn(i[0],f,p),y=Yn(i[1],m,v);if(s&&n&&r){let b=30*r;C+=-b*Math.log(1+Math.max(0,f-i[0])/b)+b*Math.log(1+Math.max(0,i[0]-p)/b),y+=-b*Math.log(1+Math.max(0,m-i[1])/b)+b*Math.log(1+Math.max(0,i[1]-v)/b)}return[C,y]}}function pK(e){return e}var gK=Be(()=>{"use strict";lr()});function wL(e){return Math.pow(e,3)}function Bl(e){return 1-wL(1-e)}function mK(e){return 3*e*e-2*e*e*e}function vK(e){return e}var vf=Be(()=>{"use strict"});function Oo(){return[1,0,0,1,0,0]}function yK(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function xr(e,t){let n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function ts(e,t,n,i,r,o,s,a){let l=Math.sin(o),c=Math.cos(o);return e[0]=i*c,e[1]=r*l,e[2]=-i*l,e[3]=r*c,e[4]=s*i*c-a*i*l+t,e[5]=s*r*l+a*r*c+n,e}function OD(e,t){let n=P1e(t);vn(n!==0,"Transformation matrix cannot be inverted");let i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5];return e[0]=s/n,e[1]=-r/n,e[2]=-o/n,e[3]=i/n,e[4]=(o*l-s*a)/n,e[5]=-(i*l-r*a)/n,e}function P1e(e){return e[0]*e[3]-e[1]*e[2]}function xK(e){return"matrix("+e.join(", ")+")"}function CK(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}function bK(e,t){let n=CK(e),i=CK(t);for(let r=0;r<6;++r)if(Math.round((n[r]-i[r])*O1e[r])!==0)return!1;return!0}var egt,O1e,Sc=Be(()=>{"use strict";Da();egt=new Array(6);O1e=[1e5,1e5,1e5,1e5,2,2]});function Ra(e,t,n,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=i){let c=e[l],d=e[l+1];o[a++]=r[0]*c+r[2]*d+r[4],o[a++]=r[1]*c+r[3]*d+r[5];for(let u=2;u<s;u++)o[a++]=e[l+u]}return o&&o.length!=a&&(o.length=a),o}function LD(e,t,n,i,r,o,s){s=s||[];let a=Math.cos(r),l=Math.sin(r),c=o[0],d=o[1],u=0;for(let f=t;f<n;f+=i){let p=e[f]-c,m=e[f+1]-d;s[u++]=c+p*a-m*l,s[u++]=d+p*l+m*a;for(let v=f+2;v<f+i;++v)s[u++]=e[v]}return s&&s.length!=u&&(s.length=u),s}function wK(e,t,n,i,r,o,s,a){a=a||[];let l=s[0],c=s[1],d=0;for(let u=t;u<n;u+=i){let f=e[u]-l,p=e[u+1]-c;a[d++]=l+r*f,a[d++]=c+o*p;for(let m=u+2;m<u+i;++m)a[d++]=e[m]}return a&&a.length!=d&&(a.length=d),a}function _K(e,t,n,i,r,o,s){s=s||[];let a=0;for(let l=t;l<n;l+=i){s[a++]=e[l]+r,s[a++]=e[l+1]+o;for(let c=l+2;c<l+i;++c)s[a++]=e[c]}return s&&s.length!=a&&(s.length=a),s}var Cf=Be(()=>{"use strict"});var SK,L1e,_L,EK,DK=Be(()=>{"use strict";Ll();zn();Js();Ar();Sc();cr();Cf();SK=Oo(),L1e=[NaN,NaN],_L=class extends Mr{constructor(){super(),this.extent_=Yr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=DD((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return kn()}closestPointXY(t,n,i,r){return kn()}containsXY(t,n){return this.closestPointXY(t,n,L1e,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return kn()}getExtent(t){if(this.extentRevision_!=this.getRevision()){let n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&cg(n),this.extentRevision_=this.getRevision()}return dq(this.extent_,t)}rotate(t,n){kn()}scale(t,n,i){kn()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return kn()}getType(){return kn()}applyTransform(t){kn()}intersectsExtent(t){return kn()}translate(t,n){kn()}transform(t,n){let i=zi(t),r=i.getUnits()=="tile-pixels"?function(o,s,a){let l=i.getExtent(),c=i.getWorldExtent(),d=ar(c)/ar(l);ts(SK,c[0],c[3],d,-d,0,0,0);let u=Ra(o,0,o.length,a,SK,s),f=uf(i,n);return f?f(u,u,a):u}:uf(i,n);return this.applyTransform(r),this}},EK=_L});function N1e(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function RK(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function TK(e,t,n){let i=e.getFlatCoordinates();if(!i)return null;let r=e.getStride();return Ra(i,0,i.length,r,t,n)}var SL,wv,bb=Be(()=>{"use strict";zn();cr();DK();Cf();SL=class extends EK{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return rv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return kn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=RK(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){kn()}setLayout(t,n,i){let r;if(t)r=RK(t);else{for(let o=0;o<i;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=N1e(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){let i=this.getFlatCoordinates();if(i){let r=this.getStride();LD(i,0,i.length,r,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=Il(this.getExtent()));let r=this.getFlatCoordinates();if(r){let o=this.getStride();wK(r,0,r.length,o,t,n,i,r),this.changed()}}translate(t,n){let i=this.getFlatCoordinates();if(i){let r=this.getStride();_K(i,0,i.length,r,t,n,i),this.changed()}}};wv=SL});function EL(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1],a=0,l=0;for(;t<n;t+=i){let c=e[t]-o,d=e[t+1]-s;r+=l*c-a*d,a=c,l=d}return r/2}function IK(e,t,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){let a=n[o];r+=EL(e,t,a,i),t=a}return r}var DL=Be(()=>{"use strict"});function FK(e,t,n,i,r,o,s){let a=e[t],l=e[t+1],c=e[n]-a,d=e[n+1]-l,u;if(c===0&&d===0)u=t;else{let f=((r-a)*c+(o-l)*d)/(c*c+d*d);if(f>1)u=n;else if(f>0){for(let p=0;p<i;++p)s[p]=xs(e[t+p],e[n+p],f);s.length=i;return}else u=t}for(let f=0;f<i;++f)s[f]=e[u+f];s.length=i}function RL(e,t,n,i,r){let o=e[t],s=e[t+1];for(t+=i;t<n;t+=i){let a=e[t],l=e[t+1],c=Nu(o,s,a,l);c>r&&(r=c),o=a,s=l}return r}function kK(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){let a=n[o];r=RL(e,t,a,i,r),t=a}return r}function TL(e,t,n,i,r,o,s,a,l,c,d){if(t==n)return c;let u,f;if(r===0){if(f=Nu(s,a,e[t],e[t+1]),f<c){for(u=0;u<i;++u)l[u]=e[t+u];return l.length=i,f}return c}d=d||[NaN,NaN];let p=t+i;for(;p<n;)if(FK(e,p-i,p,i,s,a,d),f=Nu(s,a,d[0],d[1]),f<c){for(c=f,u=0;u<i;++u)l[u]=d[u];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(o&&(FK(e,n-i,t,i,s,a,d),f=Nu(s,a,d[0],d[1]),f<c)){for(c=f,u=0;u<i;++u)l[u]=d[u];l.length=i}return c}function AK(e,t,n,i,r,o,s,a,l,c,d){d=d||[NaN,NaN];for(let u=0,f=n.length;u<f;++u){let p=n[u];c=TL(e,t,p,i,r,o,s,a,l,c,d),t=p}return c}var IL=Be(()=>{"use strict";lr()});function MK(e,t,n,i){for(let r=0,o=n.length;r<o;++r)e[t++]=n[r];return t}function FL(e,t,n,i){for(let r=0,o=n.length;r<o;++r){let s=n[r];for(let a=0;a<i;++a)e[t++]=s[a]}return t}function PK(e,t,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=FL(e,t,n[s],i);r[o++]=l,t=l}return r.length=o,r}var ND=Be(()=>{"use strict"});function yf(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=t;s<n;s+=i)r[o++]=e.slice(s,s+i);return r.length=o,r}function _v(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];r[o++]=yf(e,t,l,i,r[o]),t=l}return r.length=o,r}function kL(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];r[o++]=l.length===1&&l[0]===t?[]:_v(e,t,l,i,r[o]),t=l[l.length-1]}return r.length=o,r}var BD=Be(()=>{"use strict"});function wb(e,t,n,i,r,o,s){let a=(n-t)/i;if(a<3){for(;t<n;t+=i)o[s++]=e[t],o[s++]=e[t+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[t,n-i],d=0;for(;c.length>0;){let u=c.pop(),f=c.pop(),p=0,m=e[f],v=e[f+1],C=e[u],y=e[u+1];for(let b=f+i;b<u;b+=i){let w=e[b],S=e[b+1],D=fq(w,S,m,v,C,y);D>p&&(d=b,p=D)}p>r&&(l[(d-t)/i]=1,f+i<d&&c.push(f,d),d+i<u&&c.push(d,u))}for(let u=0;u<a;++u)l[u]&&(o[s++]=e[t+u*i],o[s++]=e[t+u*i+1]);return s}function OK(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){let d=n[l];s=wb(e,t,d,i,r,o,s),a.push(s),t=d}return s}function xf(e,t){return t*Math.round(e/t)}function B1e(e,t,n,i,r,o,s){if(t==n)return s;let a=xf(e[t],r),l=xf(e[t+1],r);t+=i,o[s++]=a,o[s++]=l;let c,d;do if(c=xf(e[t],r),d=xf(e[t+1],r),t+=i,t==n)return o[s++]=c,o[s++]=d,s;while(c==a&&d==l);for(;t<n;){let u=xf(e[t],r),f=xf(e[t+1],r);if(t+=i,u==c&&f==d)continue;let p=c-a,m=d-l,v=u-a,C=f-l;if(p*C==m*v&&(p<0&&v<p||p==v||p>0&&v>p)&&(m<0&&C<m||m==C||m>0&&C>m)){c=u,d=f;continue}o[s++]=c,o[s++]=d,a=c,l=d,c=u,d=f}return o[s++]=c,o[s++]=d,s}function VD(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){let d=n[l];s=B1e(e,t,d,i,r,o,s),a.push(s),t=d}return s}var _b=Be(()=>{"use strict";lr()});var AL,ML,LK=Be(()=>{"use strict";zn();bb();DL();IL();ND();BD();_b();AL=class e extends wv{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new e(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,r){return r<lD(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(RL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),TL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,r))}getArea(){return EL(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return yf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){let n=[];return n.length=wb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=FL(this.flatCoordinates,0,t,this.stride),this.changed()}},ML=AL});var NK={};kh(NK,{default:()=>ju});var PL,ju,HD=Be(()=>{"use strict";zn();lr();bb();ND();PL=class e extends wv{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){let t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,r){let o=this.flatCoordinates,s=Nu(t,n,o[0],o[1]);if(s<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return cD(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return LO(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=MK(this.flatCoordinates,0,t,this.stride),this.changed()}},ju=PL});function BK(e,t,n,i,r){return!dD(r,function(s){return!bf(e,t,n,i,s[0],s[1])})}function bf(e,t,n,i,r,o){let s=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){let c=e[t],d=e[t+1];l<=o?d>o&&(c-a)*(o-l)-(r-a)*(d-l)>0&&s++:d<=o&&(c-a)*(o-l)-(r-a)*(d-l)<0&&s--,a=c,l=d}return s!==0}function GD(e,t,n,i,r,o){if(n.length===0||!bf(e,t,n[0],i,r,o))return!1;for(let s=1,a=n.length;s<a;++s)if(bf(e,n[s-1],n[s],i,r,o))return!1;return!0}var zD=Be(()=>{"use strict";zn()});function Sb(e,t,n,i,r,o,s){let a,l,c,d,u,f,p,m=r[o+1],v=[];for(let b=0,w=n.length;b<w;++b){let S=n[b];for(d=e[S-i],f=e[S-i+1],a=t;a<S;a+=i)u=e[a],p=e[a+1],(m<=f&&p<=m||f<=m&&m<=p)&&(c=(m-f)/(p-f)*(u-d)+d,v.push(c)),d=u,f=p}let C=NaN,y=-1/0;for(v.sort(Ea),d=v[0],a=1,l=v.length;a<l;++a){u=v[a];let b=Math.abs(u-d);b>y&&(c=(d+u)/2,GD(e,t,n,i,c,m)&&(C=c,y=b)),d=u}return isNaN(C)&&(C=r[o]),s?(s.push(C,m,y),s):[C,m,y]}function VK(e,t,n,i,r){let o=[];for(let s=0,a=n.length;s<a;++s){let l=n[s];o=Sb(e,t,l,i,r,2*s,o),t=l[l.length-1]}return o}var OL=Be(()=>{"use strict";Zr();zD()});function HK(e,t,n,i,r){let o;for(t+=i;t<n;t+=i)if(o=r(e.slice(t-i,t),e.slice(t,t+i)),o)return o;return!1}var GK=Be(()=>{"use strict"});function zK(e,t,n,i,r,o){return o=o??NO(Yr(),e,t,n,i),Cr(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:HK(e,t,n,i,function(s,a){return uq(r,s,a)}):!1}function LL(e,t,n,i,r){return!!(zK(e,t,n,i,r)||bf(e,t,n,i,r[0],r[1])||bf(e,t,n,i,r[0],r[3])||bf(e,t,n,i,r[2],r[1])||bf(e,t,n,i,r[2],r[3]))}function UK(e,t,n,i,r){if(!LL(e,t,n[0],i,r))return!1;if(n.length===1)return!0;for(let o=1,s=n.length;o<s;++o)if(BK(e,n[o-1],n[o],i,r)&&!zK(e,n[o-1],n[o],i,r))return!1;return!0}var NL=Be(()=>{"use strict";zn();zD();GK()});function WK(e,t,n,i){for(;t<n-i;){for(let r=0;r<i;++r){let o=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=o}t+=i,n-=i}}var jK=Be(()=>{"use strict"});function BL(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1];for(;t<n;t+=i){let a=e[t],l=e[t+1];r+=(a-o)*(l+s),o=a,s=l}return r===0?void 0:r>0}function $K(e,t,n,i,r){r=r!==void 0?r:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=BL(e,t,a,i);if(o===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=a}return!0}function VL(e,t,n,i,r){r=r!==void 0?r:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=BL(e,t,a,i);(o===0?r&&l||!r&&!l:r&&!l||!r&&l)&&WK(e,t,a,i),t=a}return t}function qK(e,t){let n=[],i=0,r=0,o;for(let s=0,a=t.length;s<a;++s){let l=t[s],c=BL(e,i,l,2);if(o===void 0&&(o=c),c===o)n.push(t.slice(r,s+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=s+1,i=l}return n}var HL=Be(()=>{"use strict";jK()});function GL(e){if(sf(e))throw new Error("Cannot create polygon from empty extent");let t=e[0],n=e[1],i=e[2],r=e[3],o=[t,n,t,r,i,r,i,n,t,n];return new UD(o,"XY",[o.length])}var UD,KK,zL=Be(()=>{"use strict";Zr();zn();LK();HD();bb();DL();IL();zD();ND();BD();OL();NL();HL();_b();UD=class e extends wv{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?vv(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,r){return r<lD(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kK(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),AK(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,r))}containsXY(t,n){return GD(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return IK(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),VL(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,_v(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let t=Il(this.getExtent());this.flatInteriorPoint_=Sb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ju(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new ML(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){let t=this.layout,n=this.flatCoordinates,i=this.ends_,r=[],o=0;for(let s=0,a=i.length;s<a;++s){let l=i[s],c=new ML(n.slice(o,l),t);r.push(c),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;$K(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=VL(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let n=[],i=[];return n.length=VD(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return UK(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=PK(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},KK=UD});function UL(e,t,n,i){let r=mn(t)/n[0],o=ar(t)/n[1];return i?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function WL(e,t,n){let i=Math.min(e,t),r=50;return i*=Math.log(1+r*Math.max(0,e/t-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/e-1))/r+1),Yn(i,n/2,t*2)}function XK(e,t,n,i){return t=t!==void 0?t:!0,function(r,o,s,a){if(r!==void 0){let l=e[0],c=e[e.length-1],d=n?UL(l,n,s,i):l;if(a)return t?WL(r,d,c):Yn(r,c,d);let u=Math.min(d,r),f=Math.floor(mv(e,u,o));return e[f]>d&&f<e.length-1?e[f+1]:e[f]}}}function YK(e,t,n,i,r,o){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(s,a,l,c){if(s!==void 0){let d=r?UL(t,r,l,o):t;if(c)return i?WL(s,d,n):Yn(s,n,d);let u=1e-9,f=Math.ceil(Math.log(t/d)/Math.log(e)-u),p=-a*(.5-u)+.5,m=Math.min(d,s),v=Math.floor(Math.log(t/m)/Math.log(e)+p),C=Math.max(f,v),y=t/Math.pow(e,C);return Yn(y,n,d)}}}function jL(e,t,n,i,r){return n=n!==void 0?n:!0,function(o,s,a,l){if(o!==void 0){let c=i?UL(e,i,a,r):e;return!n||!l?Yn(o,t,c):WL(o,c,t)}}}var ZK=Be(()=>{"use strict";Zr();zn();lr()});function Sv(e){if(e!==void 0)return 0}function $L(e){if(e!==void 0)return e}function QK(e){let t=2*Math.PI/e;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function JK(e){let t=e===void 0?yc(5):e;return function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n}}var WD=Be(()=>{"use strict";lr()});function jD(e,t){setTimeout(function(){e(t)},0)}function V1e(e){if(e.extent!==void 0){let n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return bL(e.extent,e.constrainOnlyCenter,n)}let t=fb(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){let n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,bL(n,!1,!1)}return pK}function H1e(e){let t,n,i,s=e.minZoom!==void 0?e.minZoom:qL,a=e.maxZoom!==void 0?e.maxZoom:28,l=e.zoomFactor!==void 0?e.zoomFactor:2,c=e.multiWorld!==void 0?e.multiWorld:!1,d=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,u=e.showFullExtent!==void 0?e.showFullExtent:!1,f=fb(e.projection,"EPSG:3857"),p=f.getExtent(),m=e.constrainOnlyCenter,v=e.extent;if(!c&&!v&&f.isGlobal()&&(m=!1,v=p),e.resolutions!==void 0){let C=e.resolutions;n=C[s],i=C[a]!==void 0?C[a]:C[C.length-1],e.constrainResolution?t=XK(C,d,!m&&v,u):t=jL(n,i,d,!m&&v,u)}else{let y=(p?Math.max(mn(p),ar(p)):360*kl.degrees/f.getMetersPerUnit())/256/Math.pow(2,qL),b=y/Math.pow(2,28-qL);n=e.maxResolution,n!==void 0?s=0:n=y/Math.pow(l,s),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(l,a):i=y/Math.pow(l,a):i=b),a=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-s),e.constrainResolution?t=YK(l,n,i,d,!m&&v,u):t=jL(n,i,d,!m&&v,u)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}function G1e(e){if(e.enableRotation!==void 0?e.enableRotation:!0){let n=e.constrainRotation;return n===void 0||n===!0?JK():n===!1?$L:typeof n=="number"?QK(n):$L}return Sv}function z1e(e){return!(e.sourceCenter&&e.targetCenter&&!ug(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function KL(e,t,n,i,r){let o=Math.cos(-r),s=Math.sin(-r),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,s=-s;let c=a*o-l*s,d=l*o+a*s;return[c,d]}var qL,XL,_s,Eb=Be(()=>{"use strict";Ll();PD();fK();Zr();Da();gK();Bu();vf();zn();Js();zL();lr();Ar();ZK();WD();qL=0,XL=class extends Mr{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=fb(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&_D(),t.center&&(t.center=Pl(t.center,this.projection_)),t.extent&&(t.extent=tl(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){let n=Object.assign({},t);for(let a in Nl)delete n[a];this.setProperties(n,!0);let i=H1e(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;let r=V1e(t),o=i.constraint,s=G1e(t);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;let i=this.getCenterInternal();if(i){let r=t||[0,0,0,0];n=n||[0,0,0,0];let o=this.getResolution(),s=o/2*(r[3]-n[3]+n[1]-r[1]),a=o/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(t){let n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Pl(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Pl(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){let d=arguments[r];d.center&&this.setCenterInternal(d.center),d.zoom!==void 0?this.setZoom(d.zoom):d.resolution&&this.setResolution(d.resolution),d.rotation!==void 0&&this.setRotation(d.rotation)}if(r===n){i&&jD(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<n;++r){let d=arguments[r],u={start:o,complete:!1,anchor:d.anchor,duration:d.duration!==void 0?d.duration:1e3,easing:d.easing||mK,callback:i};if(d.center&&(u.sourceCenter=s,u.targetCenter=d.center.slice(),s=u.targetCenter),d.zoom!==void 0?(u.sourceResolution=a,u.targetResolution=this.getResolutionForZoom(d.zoom),a=u.targetResolution):d.resolution&&(u.sourceResolution=a,u.targetResolution=d.resolution,a=u.targetResolution),d.rotation!==void 0){u.sourceRotation=l;let f=xc(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+f,l=u.targetRotation}z1e(u)?u.complete=!0:o+=u.duration,c.push(u)}this.animations_.push(c),this.setHint(bo.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[bo.ANIMATING]>0}getInteracting(){return this.hints_[bo.INTERACTING]>0}cancelAnimations(){this.setHint(bo.ANIMATING,-this.hints_[bo.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){let r=this.animations_[n];if(r[0].callback&&jD(r[0].callback,!1),!t)for(let o=0,s=r.length;o<s;++o){let a=r[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let t=Date.now(),n=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],o=!0;for(let s=0,a=r.length;s<a;++s){let l=r[s];if(l.complete)continue;let c=t-l.start,d=l.duration>0?c/l.duration:1;d>=1?(l.complete=!0,d=1):o=!1;let u=l.easing(d);if(l.sourceCenter){let f=l.sourceCenter[0],p=l.sourceCenter[1],m=l.targetCenter[0],v=l.targetCenter[1];this.nextCenter_=l.targetCenter;let C=f+u*(m-f),y=p+u*(v-p);this.targetCenter_=[C,y]}if(l.sourceResolution&&l.targetResolution){let f=u===1?l.targetResolution:l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){let p=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(f,0,p,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let f=u===1?xc(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){let p=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(p,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(bo.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=r[0].callback;s&&jD(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],cv(i,t-this.getRotation()),gq(i,n)),i}calculateCenterZoom(t,n){let i,r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){let s=n[0]-t*(n[0]-r[0])/o,a=n[1]-t*(n[1]-r[1])/o;i=[s,a]}return i}getViewportSize_(t){let n=this.viewportSize_;if(t){let i=n[0],r=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let t=this.getCenterInternal();return t&&pv(t,this.getProjection())}getCenterInternal(){return this.get(Nl.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){let n=this.calculateExtentInternal(t);return Gu(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();let n=this.getCenterInternal();vn(n,"The view center is not defined");let i=this.getResolution();vn(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return vn(r!==void 0,"The view rotation is not defined"),ab(n,i,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Nl.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(tl(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();let i=mn(t)/n[0],r=ar(t)/n[1];return Math.max(i,r)}getResolutionForValueFunction(t){t=t||2;let n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(t);return function(o){return n/Math.pow(t,o*r)}}getRotation(){return this.get(Nl.ROTATION)}getValueForResolutionFunction(t){let n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/n;return function(s){return Math.log(i/s)/n/o}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){let t=this.getProjection(),n=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();r=KL(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t,n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,r;if(this.resolutions_){let o=mv(this.resolutions_,t,1);n=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let n=Yn(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Yn(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(vn(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){vn(!sf(t),"Cannot fit empty extent provided as `geometry`");let r=tl(t,this.getProjection());i=GL(r)}else if(t.getType()==="Circle"){let r=tl(t.getExtent(),this.getProjection());i=GL(r),i.rotate(this.getRotation(),Il(r))}else{let r=yd();r?i=t.clone().transform(r,this.getProjection()):i=t}this.fitInternal(i,n)}rotatedExtentForGeometry(t){let n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),o=t.getFlatCoordinates(),s=t.getStride(),a=1/0,l=1/0,c=-1/0,d=-1/0;for(let u=0,f=o.length;u<f;u+=s){let p=o[u]*i-o[u+1]*r,m=o[u]*r+o[u+1]*i;a=Math.min(a,p),l=Math.min(l,m),c=Math.max(c,p),d=Math.max(d,m)}return[a,l,c,d]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());let r=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1,s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;let a=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let c=this.getRotation(),d=Math.sin(c),u=Math.cos(c),f=Il(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;let p=f[0]*u-f[1]*d,m=f[1]*u+f[0]*d,v=this.getConstrainedCenter([p,m],l),C=n.callback?n.callback:Wu;n.duration!==void 0?this.animateInternal({resolution:l,center:v,duration:n.duration,easing:n.easing},C):(this.targetResolution_=l,this.targetCenter_=v,this.applyTargetState_(!1,!0),jD(C,!0))}centerOn(t,n,i){this.centerOnInternal(Pl(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(KL(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,r){let o,s=this.padding_;if(s&&t){let a=this.getViewportSizeMinusPadding_(-i),l=KL(t,r,[a[0]/2+s[3],a[1]/2+s[0]],n,i);o=[t[0]-l[0],t[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){let n=pv(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){let n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Pl(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Pl(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Pl(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){let i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(Nl.ROTATION)!==r&&this.set(Nl.ROTATION,r),this.get(Nl.RESOLUTION)!==s&&(this.set(Nl.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Nl.CENTER)||!ug(this.get(Nl.CENTER),a))&&this.set(Nl.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;let r=n||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!ug(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:t,easing:Bl,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(bo.INTERACTING,1)}endInteraction(t,n,i){i=i&&Pl(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(bo.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){let i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}};_s=XL});function _i(e,t,n,i){let r;return n&&n.length?r=n.shift():AD?r=new OffscreenCanvas(e||300,t||300):r=document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}function Ev(){return YL||(YL=_i(1,1)),YL}function vg(e){let t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function tX(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function nX(e){let t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function ZL(e,t){let n=t.parentNode;n&&n.replaceChild(e,t)}function $D(e){for(;e.lastChild;)e.lastChild.remove()}function iX(e,t){let n=e.childNodes;for(let i=0;;++i){let r=n[i],o=t[i];if(!r&&!o)break;if(r!==o){if(!r){e.appendChild(o);continue}if(!o){e.removeChild(r),--i;continue}e.insertBefore(o,r)}}}var YL,Lo=Be(()=>{"use strict";mg()});var gi,m4=Be(()=>{"use strict";gi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}});var v4,QD,C4=Be(()=>{"use strict";Ll();Da();lr();cr();m4();v4=class extends Mr{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;let n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[gi.OPACITY]=t.opacity!==void 0?t.opacity:1,vn(typeof n[gi.OPACITY]=="number","Layer opacity must be a number"),n[gi.VISIBLE]=t.visible!==void 0?t.visible:!0,n[gi.Z_INDEX]=t.zIndex,n[gi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[gi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[gi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[gi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){let n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=Yn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return kn()}getLayerStatesArray(t){return kn()}getExtent(){return this.get(gi.EXTENT)}getMaxResolution(){return this.get(gi.MAX_RESOLUTION)}getMinResolution(){return this.get(gi.MIN_RESOLUTION)}getMinZoom(){return this.get(gi.MIN_ZOOM)}getMaxZoom(){return this.get(gi.MAX_ZOOM)}getOpacity(){return this.get(gi.OPACITY)}getSourceState(){return kn()}getVisible(){return this.get(gi.VISIBLE)}getZIndex(){return this.get(gi.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(gi.EXTENT,t)}setMaxResolution(t){this.set(gi.MAX_RESOLUTION,t)}setMinResolution(t){this.set(gi.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(gi.MAX_ZOOM,t)}setMinZoom(t){this.set(gi.MIN_ZOOM,t)}setOpacity(t){vn(typeof t=="number","Layer opacity must be a number"),this.set(gi.OPACITY,t)}setVisible(t){this.set(gi.VISIBLE,t)}setZIndex(t){this.set(gi.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},QD=v4});var ns,Iv=Be(()=>{"use strict";ns={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}});function Tb(e,t){if(!e.visible)return!1;let n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;let i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}var b4,bg,Fv=Be(()=>{"use strict";Eb();Da();yr();Sa();zn();Iv();C4();m4();b4=class extends QD{constructor(t){let n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(gi.SOURCE,this.handleSourcePropertyChange_);let i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(gi.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Bn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let t=this.getSource();t&&(this.sourceChangeKey_=rn(t,bt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n,i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof _s?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(s=>s.layer===this),!r)return!1}else r=this.getLayerState();let o=this.getExtent();return Tb(r,n.viewState)&&(!o||Cr(o,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n=this.getSource()?.getAttributions();if(!n)return[];let i=t instanceof _s?t.getViewStateAndExtent():t,r=n(i);return Array.isArray(r)||(r=[r]),r}render(t,n){let i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){let n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(gi.MAP,t)}getMapInternal(){return this.get(gi.MAP)}setMap(t){this.mapPrecomposeKey_&&(Bn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Bn(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=rn(t,ns.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=rn(this,bt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){let n=t.frameState.layerStatesArray,i=this.getLayerState(!1);vn(!n.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(t){this.set(gi.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};bg=b4});function JD(e,t,n=0,i=e.length-1,r=W1e){for(;i>n;){if(i-n>600){let l=i-n+1,c=t-n+1,d=Math.log(l),u=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*u*(l-u)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*u/l+f)),m=Math.min(i,Math.floor(t+(l-c)*u/l+f));JD(e,t,p,m,r)}let o=e[t],s=n,a=i;for(Ib(e,n,t),r(e[i],o)>0&&Ib(e,n,i);s<a;){for(Ib(e,s,a),s++,a--;r(e[s],o)<0;)s++;for(;r(e[a],o)>0;)a--}r(e[n],o)===0?Ib(e,n,a):(a++,Ib(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}}function Ib(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function W1e(e,t){return e<t?-1:e>t?1:0}var EX=Be(()=>{"use strict"});function j1e(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function kv(e,t){Fb(e,0,e.children.length,t,e)}function Fb(e,t,n,i,r){r||(r=Av(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){let s=e.children[o];kb(r,e.leaf?i(s):s)}return r}function kb(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function $1e(e,t){return e.minX-t.minX}function q1e(e,t){return e.minY-t.minY}function w4(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function eR(e){return e.maxX-e.minX+(e.maxY-e.minY)}function K1e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function X1e(e,t){let n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function _4(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function tR(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Av(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function DX(e,t,n,i,r){let o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=i)continue;let s=t+Math.ceil((n-t)/i/2)*i;JD(e,s,t,n,r),o.push(t,s,s,n)}}var Mv,S4=Be(()=>{"use strict";EX();Mv=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data,i=[];if(!tR(t,n))return i;let r=this.toBBox,o=[];for(;n;){for(let s=0;s<n.children.length;s++){let a=n.children[s],l=n.leaf?r(a):a;tR(t,l)&&(n.leaf?i.push(a):_4(t,l)?this._all(a,i):o.push(a))}n=o.pop()}return i}collides(t){let n=this.data;if(!tR(t,n))return!1;let i=[];for(;n;){for(let r=0;r<n.children.length;r++){let o=n.children[r],s=n.leaf?this.toBBox(o):o;if(tR(t,s)){if(n.leaf||_4(t,s))return!0;i.push(o)}}n=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){let i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Av([]),this}remove(t,n){if(!t)return this;let i=this.data,r=this.toBBox(t),o=[],s=[],a,l,c;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],a=s.pop(),c=!0),i.leaf){let d=j1e(t,i.children,n);if(d!==-1)return i.children.splice(d,1),o.push(i),this._condense(o),this}!c&&!i.leaf&&_4(i,r)?(o.push(i),s.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){let i=[];for(;t;)t.leaf?n.push(...t.children):i.push(...t.children),t=i.pop();return n}_build(t,n,i,r){let o=i-n+1,s=this._maxEntries,a;if(o<=s)return a=Av(t.slice(n,i+1)),kv(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=Av([]),a.leaf=!1,a.height=r;let l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));DX(t,n,i,c,this.compareMinX);for(let d=n;d<=i;d+=c){let u=Math.min(d+c-1,i);DX(t,d,u,l,this.compareMinY);for(let f=d;f<=u;f+=l){let p=Math.min(f+l-1,u);a.children.push(this._build(t,f,p,r-1))}}return kv(a,this.toBBox),a}_chooseSubtree(t,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let o=1/0,s=1/0,a;for(let l=0;l<n.children.length;l++){let c=n.children[l],d=w4(c),u=K1e(t,c)-d;u<s?(s=u,o=d<o?d:o,a=c):u===s&&d<o&&(o=d,a=c)}n=a||n.children[0]}return n}_insert(t,n,i){let r=i?t:this.toBBox(t),o=[],s=this._chooseSubtree(r,this.data,n,o);for(s.children.push(t),kb(s,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(t,n){let i=t[n],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);let s=this._chooseSplitIndex(i,o,r),a=Av(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,kv(i,this.toBBox),kv(a,this.toBBox),n?t[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(t,n){this.data=Av([t,n]),this.data.height=t.height+1,this.data.leaf=!1,kv(this.data,this.toBBox)}_chooseSplitIndex(t,n,i){let r,o=1/0,s=1/0;for(let a=n;a<=i-n;a++){let l=Fb(t,0,a,this.toBBox),c=Fb(t,a,i,this.toBBox),d=X1e(l,c),u=w4(l)+w4(c);d<o?(o=d,r=a,s=u<s?u:s):d===o&&u<s&&(s=u,r=a)}return r||i-n}_chooseSplitAxis(t,n,i){let r=t.leaf?this.compareMinX:$1e,o=t.leaf?this.compareMinY:q1e,s=this._allDistMargin(t,n,i,r),a=this._allDistMargin(t,n,i,o);s<a&&t.children.sort(r)}_allDistMargin(t,n,i,r){t.children.sort(r);let o=this.toBBox,s=Fb(t,0,n,o),a=Fb(t,i-n,i,o),l=eR(s)+eR(a);for(let c=n;c<i-n;c++){let d=t.children[c];kb(s,t.leaf?o(d):d),l+=eR(s)}for(let c=i-n-1;c>=n;c--){let d=t.children[c];kb(a,t.leaf?o(d):d),l+=eR(a)}return l}_adjustParentBBoxes(t,n,i){for(let r=i;r>=0;r--)kb(n[r],t)}_condense(t){for(let n=t.length-1,i;n>=0;n--)t[n].children.length===0?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():kv(t[n],this.toBBox)}}});function Y1e(){return E4||(E4=_i(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),E4}function nR(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function Mb(e){throw new Error('failed to parse "'+e+'" as color')}function RX(e){if(e.toLowerCase().startsWith("rgb")){let o=e.match(Q1e)||e.match(Z1e)||e.match(J1e);if(o){let s=o[4],a=100/255;return[Yn(nR(o[1],a)+.5|0,0,255),Yn(nR(o[2],a)+.5|0,0,255),Yn(nR(o[3],a)+.5|0,0,255),s!==void 0?Yn(nR(s,100),0,1):1]}Mb(e)}if(e.startsWith("#")){if(eSe.test(e)){let o=e.substring(1),s=o.length<=4?1:2,a=[0,0,0,255];for(let l=0,c=o.length;l<c;l+=s){let d=parseInt(o.substring(l,l+s),16);s===1&&(d+=d<<4),a[l/s]=d}return a[3]=a[3]/255,a}Mb(e)}let t=Y1e();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=e,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=e,t.fillStyle===n&&Mb(e));let i=t.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return RX(i);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);let r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=lv(r[3]/255,3),r}function TX(e){return typeof e=="string"?e:Ob(e)}function IX(e){if(e.length===4)return e;let t=e.slice();return t[3]=1,t}function R4(e){return e>.0031308?Math.pow(e,1/2.4)*269.025-14.025:e*3294.6}function T4(e){return e>.2068965?Math.pow(e,3):(e-4/29)*(108/841)}function I4(e){return e>10.314724?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function F4(e){return e>.0088564?Math.pow(e,1/3):e/(108/841)+4/29}function k4(e){let t=I4(e[0]),n=I4(e[1]),i=I4(e[2]),r=F4(t*.222488403+n*.716873169+i*.06060791),o=500*(F4(t*.452247074+n*.399439023+i*.148375274)-r),s=200*(r-F4(t*.016863605+n*.117638439+i*.865350722)),a=Math.atan2(s,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+s*s),a<0?a+360:a,e[3]]}function FX(e){let t=(e[0]+16)/116,n=e[1],i=e[2]*Math.PI/180,r=T4(t),o=T4(t+n/500*Math.cos(i)),s=T4(t-n/200*Math.sin(i)),a=R4(o*3.021973625-r*1.617392459-s*.404875592),l=R4(o*-.943766287+r*1.916279586+s*.027607165),c=R4(o*.069407491-r*.22898585+s*1.159737864);return[Yn(a+.5|0,0,255),Yn(l+.5|0,0,255),Yn(c+.5|0,0,255),e[3]]}function Pb(e){if(e==="none")return iR;if(Ab.hasOwnProperty(e))return Ab[e];if(D4>=tSe){let n=0;for(let i in Ab)(n++&3)===0&&(delete Ab[i],--D4)}let t=RX(e);t.length!==4&&Mb(e);for(let n of t)isNaN(n)&&Mb(e);return Ab[e]=t,++D4,t}function Dc(e){return Array.isArray(e)?e:Pb(e)}function Ob(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let i=e[2];i!=(i|0)&&(i=i+.5|0);let r=e[3]===void 0?1:Math.round(e[3]*1e3)/1e3;return"rgba("+t+","+n+","+i+","+r+")"}var iR,E4,Z1e,Q1e,J1e,eSe,tSe,Ab,D4,Rc=Be(()=>{"use strict";Lo();lr();iR=[NaN,NaN,NaN,0];Z1e=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Q1e=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,J1e=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,eSe=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;tSe=1024,Ab={},D4=0});function A4(e){return e[0]>0&&e[1]>0}function kX(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function Or(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var Ed=Be(()=>{"use strict"});function iSe(e){return e in O4}function Nb(e){let t=[];for(let n of nSe)Bb(e,n)&&t.push(O4[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Bb(e,t){return(e&t)===t}function _f(e,t){return e===t}function L4(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function No(e,t,n){switch(typeof e){case"boolean":{if(_f(t,ta))return new Lr(ta,e?"true":"false");if(!Bb(t,Ss))throw new Error(`got a boolean, but expected ${Nb(t)}`);return new Lr(Ss,e)}case"number":{if(_f(t,Lb))return new Lr(Lb,Or(e));if(_f(t,Ss))return new Lr(Ss,!!e);if(_f(t,ta))return new Lr(ta,e.toString());if(!Bb(t,Un))throw new Error(`got a number, but expected ${Nb(t)}`);return new Lr(Un,e)}case"string":{if(_f(t,nl))return new Lr(nl,Pb(e));if(_f(t,Ss))return new Lr(Ss,!!e);if(!Bb(t,ta))throw new Error(`got a string, but expected ${Nb(t)}`);return new Lr(ta,e)}default:}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(e.length===0)throw new Error("empty expression");if(typeof e[0]=="string")return pSe(e,t,n);for(let i of e)if(typeof i!="number")throw new Error("expected an array of numbers");if(_f(t,Lb)){if(e.length!==2)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new Lr(Lb,e)}if(_f(t,nl)){if(e.length===3)return new Lr(nl,[...e,1]);if(e.length===4)return new Lr(nl,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!Bb(t,Sf))throw new Error(`got an array of numbers, but expected ${Nb(t)}`);return new Lr(Sf,e)}function AX(e,t,n){let i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=e[o+1];switch(typeof s){case"number":{r[o]=new Lr(Un,s);break}case"string":{r[o]=new Lr(ta,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&n.properties.add(String(s))}return r}function oSe(e,t,n){let i=e[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Lr(ta,i)]}function sSe(e,t,n){n.featureId=!0}function aSe(e,t,n){n.geometryType=!0}function M4(e,t,n){n.mapState=!0}function Pv(e,t,n){let i=e[0];if(e.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function En(e,t){return function(n,i,r){let o=n[0],s=n.length-1;if(e===t){if(s!==e){let a=e===1?"":"s";throw new Error(`expected ${e} argument${a} for ${o}, got ${s}`)}}else if(s<e||s>t){let a=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function MX(e,t,n){let i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=No(e[o+1],t,n);r[o]=s}return r}function mi(e){return function(t,n,i){let r=t.length-1,o=new Array(r);for(let s=0;s<r;++s){let a=No(t[s+1],e,i);o[s]=a}return o}}function lSe(e,t,n){let i=e[0],r=e.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function PX(e,t,n){let i=e[0],r=e.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function cSe(e,t,n){let i=e.length-1,r=ta|Un|Ss,o=No(e[1],r,n),s=No(e[e.length-1],t,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=No(e[l+2],o.type,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=No(e[l+3],s.type,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...a,s]}function dSe(e,t,n){let i=e[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let o=new Lr(Un,r),s;try{s=No(e[2],Un,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){try{let c=No(e[l+3],Un,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=No(e[l+4],t,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,s,...a]}function uSe(e,t,n){let i=No(e[e.length-1],t,n),r=new Array(e.length-1);for(let o=0;o<r.length-1;o+=2){try{let s=No(e[o+1],Ss,n);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=No(e[o+2],i.type,n);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function hSe(e,t,n){let i=e[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=ta}else r=Un;let o=new Array(i.length);for(let a=0;a<o.length;a++)try{let l=No(i[a],r,n);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[No(e[1],r,n),...o]}function fSe(e,t,n){let i;try{i=No(e[1],Un,n)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let r=e[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let o=new Array(r.length);for(let s=0;s<o.length;s++){let a;try{a=No(r[s],nl,n)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof Lr))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[i,...o]}function on(...e){return function(t,n,i){let r=t[0],o;for(let s=0;s<e.length;s++){let a=e[s](t,n,i);if(s==e.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new P4(n,r,...o)}}function pSe(e,t,n){let i=e[0],r=rSe[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(e,t,n)}function N4(e){if(!e)return"";let t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return N4(e.getGeometries()[0]);default:return""}}var wg,Ss,Un,ta,nl,Sf,Lb,rR,O4,nSe,Lr,P4,Ne,rSe,B4=Be(()=>{"use strict";Zr();Rc();Ed();wg=0,Ss=1<<wg++,Un=1<<wg++,ta=1<<wg++,nl=1<<wg++,Sf=1<<wg++,Lb=1<<wg++,rR=Math.pow(2,wg)-1,O4={[Ss]:"boolean",[Un]:"number",[ta]:"string",[nl]:"color",[Sf]:"number[]",[Lb]:"size"},nSe=Object.keys(O4).map(Number).sort(Ea);Lr=class{constructor(t,n){if(!iSe(t))throw new Error(`literal expressions must have a specific type, got ${Nb(t)}`);this.type=t,this.value=n}},P4=class{constructor(t,n,...i){this.type=t,this.operator=n,this.args=i}};Ne={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},rSe={[Ne.Get]:on(En(1,1/0),AX),[Ne.Var]:on(En(1,1),oSe),[Ne.Has]:on(En(1,1/0),AX),[Ne.Id]:on(sSe,Pv),[Ne.Concat]:on(En(2,1/0),mi(ta)),[Ne.GeometryType]:on(aSe,Pv),[Ne.LineMetric]:on(Pv),[Ne.Resolution]:on(M4,Pv),[Ne.Zoom]:on(M4,Pv),[Ne.Time]:on(M4,Pv),[Ne.Any]:on(En(2,1/0),mi(Ss)),[Ne.All]:on(En(2,1/0),mi(Ss)),[Ne.Not]:on(En(1,1),mi(Ss)),[Ne.Equal]:on(En(2,2),mi(rR)),[Ne.NotEqual]:on(En(2,2),mi(rR)),[Ne.GreaterThan]:on(En(2,2),mi(Un)),[Ne.GreaterThanOrEqualTo]:on(En(2,2),mi(Un)),[Ne.LessThan]:on(En(2,2),mi(Un)),[Ne.LessThanOrEqualTo]:on(En(2,2),mi(Un)),[Ne.Multiply]:on(En(2,1/0),MX),[Ne.Coalesce]:on(En(2,1/0),MX),[Ne.Divide]:on(En(2,2),mi(Un)),[Ne.Add]:on(En(2,1/0),mi(Un)),[Ne.Subtract]:on(En(2,2),mi(Un)),[Ne.Clamp]:on(En(3,3),mi(Un)),[Ne.Mod]:on(En(2,2),mi(Un)),[Ne.Pow]:on(En(2,2),mi(Un)),[Ne.Abs]:on(En(1,1),mi(Un)),[Ne.Floor]:on(En(1,1),mi(Un)),[Ne.Ceil]:on(En(1,1),mi(Un)),[Ne.Round]:on(En(1,1),mi(Un)),[Ne.Sin]:on(En(1,1),mi(Un)),[Ne.Cos]:on(En(1,1),mi(Un)),[Ne.Atan]:on(En(1,2),mi(Un)),[Ne.Sqrt]:on(En(1,1),mi(Un)),[Ne.Match]:on(En(4,1/0),PX,cSe),[Ne.Between]:on(En(3,3),mi(Un)),[Ne.Interpolate]:on(En(6,1/0),PX,dSe),[Ne.Case]:on(En(3,1/0),lSe,uSe),[Ne.In]:on(En(2,2),hSe),[Ne.Number]:on(En(1,1/0),mi(rR)),[Ne.String]:on(En(1,1/0),mi(rR)),[Ne.Array]:on(En(1,1/0),mi(Un)),[Ne.Color]:on(En(1,4),mi(Un)),[Ne.Band]:on(En(1,3),mi(Un)),[Ne.Palette]:on(En(2,2),fSe),[Ne.ToString]:on(En(1,1),mi(Ss|Un|ta|nl))}});function V4(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Dd(e,t,n){let i=No(e,t,n);return Tc(i,n)}function Tc(e,t){if(e instanceof Lr){if(e.type===nl&&typeof e.value=="string"){let i=Pb(e.value);return function(){return i}}return function(){return e.value}}let n=e.operator;switch(n){case Ne.Number:case Ne.String:case Ne.Coalesce:return gSe(e,t);case Ne.Get:case Ne.Var:case Ne.Has:return mSe(e,t);case Ne.Id:return i=>i.featureId;case Ne.GeometryType:return i=>i.geometryType;case Ne.Concat:{let i=e.args.map(r=>Tc(r,t));return r=>"".concat(...i.map(o=>o(r).toString()))}case Ne.Resolution:return i=>i.resolution;case Ne.Any:case Ne.All:case Ne.Between:case Ne.In:case Ne.Not:return CSe(e,t);case Ne.Equal:case Ne.NotEqual:case Ne.LessThan:case Ne.LessThanOrEqualTo:case Ne.GreaterThan:case Ne.GreaterThanOrEqualTo:return vSe(e,t);case Ne.Multiply:case Ne.Divide:case Ne.Add:case Ne.Subtract:case Ne.Clamp:case Ne.Mod:case Ne.Pow:case Ne.Abs:case Ne.Floor:case Ne.Ceil:case Ne.Round:case Ne.Sin:case Ne.Cos:case Ne.Atan:case Ne.Sqrt:return ySe(e,t);case Ne.Case:return xSe(e,t);case Ne.Match:return bSe(e,t);case Ne.Interpolate:return wSe(e,t);case Ne.ToString:return _Se(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function gSe(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Tc(e.args[o],t);switch(n){case Ne.Coalesce:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Ne.Number:case Ne.String:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function mSe(e,t){let i=e.args[0].value;switch(e.operator){case Ne.Get:return r=>{let o=e.args,s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let d=o[a].value;s=s[d]}return s};case Ne.Var:return r=>r.variables[i];case Ne.Has:return r=>{let o=e.args;if(!(i in r.properties))return!1;let s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let d=o[a].value;if(!s||!Object.hasOwn(s,d))return!1;s=s[d]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function vSe(e,t){let n=e.operator,i=Tc(e.args[0],t),r=Tc(e.args[1],t);switch(n){case Ne.Equal:return o=>i(o)===r(o);case Ne.NotEqual:return o=>i(o)!==r(o);case Ne.LessThan:return o=>i(o)<r(o);case Ne.LessThanOrEqualTo:return o=>i(o)<=r(o);case Ne.GreaterThan:return o=>i(o)>r(o);case Ne.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function CSe(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Tc(e.args[o],t);switch(n){case Ne.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case Ne.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case Ne.Between:return o=>{let s=r[0](o),a=r[1](o),l=r[2](o);return s>=a&&s<=l};case Ne.In:return o=>{let s=r[0](o);for(let a=1;a<i;++a)if(s===r[a](o))return!0;return!1};case Ne.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function ySe(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Tc(e.args[o],t);switch(n){case Ne.Multiply:return o=>{let s=1;for(let a=0;a<i;++a)s*=r[a](o);return s};case Ne.Divide:return o=>r[0](o)/r[1](o);case Ne.Add:return o=>{let s=0;for(let a=0;a<i;++a)s+=r[a](o);return s};case Ne.Subtract:return o=>r[0](o)-r[1](o);case Ne.Clamp:return o=>{let s=r[0](o),a=r[1](o);if(s<a)return a;let l=r[2](o);return s>l?l:s};case Ne.Mod:return o=>r[0](o)%r[1](o);case Ne.Pow:return o=>Math.pow(r[0](o),r[1](o));case Ne.Abs:return o=>Math.abs(r[0](o));case Ne.Floor:return o=>Math.floor(r[0](o));case Ne.Ceil:return o=>Math.ceil(r[0](o));case Ne.Round:return o=>Math.round(r[0](o));case Ne.Sin:return o=>Math.sin(r[0](o));case Ne.Cos:return o=>Math.cos(r[0](o));case Ne.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case Ne.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function xSe(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Tc(e.args[r],t);return r=>{for(let o=0;o<n-1;o+=2)if(i[o](r))return i[o+1](r);return i[n-1](r)}}function bSe(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Tc(e.args[r],t);return r=>{let o=i[0](r);for(let s=1;s<n-1;s+=2)if(o===i[s](r))return i[s+1](r);return i[n-1](r)}}function wSe(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Tc(e.args[r],t);return r=>{let o=i[0](r),s=i[1](r),a,l;for(let c=2;c<n;c+=2){let d=i[c](r),u=i[c+1](r),f=Array.isArray(u);if(f&&(u=IX(u)),d>=s)return c===2?u:f?SSe(o,s,a,l,d,u):Vb(o,s,a,l,d,u);a=d,l=u}return l}}function _Se(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Tc(e.args[o],t);switch(n){case Ne.ToString:return o=>{let s=r[0](o);return e.args[0].type===nl?Ob(s):s.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Vb(e,t,n,i,r,o){let s=r-n;if(s===0)return i;let a=t-n,l=e===1?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1);return i+l*(o-i)}function SSe(e,t,n,i,r,o){if(r-n===0)return i;let a=k4(i),l=k4(o),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let d=[Vb(e,t,n,a[0],r,l[0]),Vb(e,t,n,a[1],r,l[1]),a[2]+Vb(e,t,n,0,r,c),Vb(e,t,n,i[3],r,o[3])];return FX(d)}var OX=Be(()=>{"use strict";Rc();B4()});var Qt,$u=Be(()=>{"use strict";Qt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}});function LX(e,t,n){let i=e,r=!0,o=!1,s=!1,a=[uv(i,bt.LOAD,function(){s=!0,o||t()})];return i.src&&vL?(o=!0,i.decode().then(function(){r&&t()}).catch(function(l){r&&(s?t():n())})):a.push(uv(i,bt.ERROR,n)),function(){r=!1,a.forEach(Bn)}}function ESe(e,t){return new Promise((n,i)=>{function r(){s(),n(e)}function o(){s(),i(new Error("Image load error"))}function s(){e.removeEventListener("load",r),e.removeEventListener("error",o)}e.addEventListener("load",r),e.addEventListener("error",o),t&&(e.src=t)})}function NX(e,t){return t&&(e.src=t),e.src&&vL?new Promise((n,i)=>e.decode().then(()=>n(e)).catch(r=>e.complete&&e.width?n(e):i(r))):ESe(e)}var H4=Be(()=>{"use strict";yr();Sa();mg()});function G4(e,t,n){let i=n?Dc(n):"null";return t+":"+e+":"+i}var z4,Es,Hb=Be(()=>{"use strict";$u();Rc();Lo();z4=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(let n in this.cache_){let i=this.cache_[n];(t++&3)===0&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,i){let r=G4(t,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,i){let r=G4(t,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,i,r,o){let s=G4(t,n,i),a=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===Qt.IDLE&&r.load(),r.getImageState()===Qt.LOADING?r.ready().then(()=>{this.patternCache_[s]=Ev().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=Ev().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};Es=new z4});function Ov(e,t,n,i,r,o){let s=t===void 0?void 0:Es.get(t,n,r);return s||(s=new oR(e,e&&"src"in e?e.src||void 0:t,n,i,r),Es.set(t,n,r,s,o)),o&&s&&!Es.getPattern(t,n,r)&&Es.set(t,n,r,s,o),s}var Gb,oR,BX,zb=Be(()=>{"use strict";H4();$u();Rc();Lo();yr();mb();Hb();Gb=null,oR=class extends ff{constructor(t,n,i,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?Qt.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Qt.LOADED){Gb||(Gb=_i(1,1,void 0,{willReadFrequently:!0})),Gb.drawImage(this.image_,0,0);try{Gb.getImageData(0,0,1,1),this.tainted_=!1}catch{Gb=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(bt.CHANGE)}handleImageError_(){this.imageState_=Qt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Qt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let t=this.size_[0],n=this.size_[1],i=_i(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Qt.IDLE){this.image_||this.initializeImage_(),this.imageState_=Qt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&NX(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Qt.LOADED)return;let n=this.image_,i=_i(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=i.canvas;i.scale(t,t),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=TX(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Qt.LOADED||this.imageState_===Qt.ERROR)t();else{let n=()=>{(this.imageState_===Qt.LOADED||this.imageState_===Qt.ERROR)&&(this.removeEventListener(bt.CHANGE,n),t())};this.addEventListener(bt.CHANGE,n)}})),this.ready_}};BX=oR});function Ta(e){return e?Array.isArray(e)?Ob(e):typeof e=="object"&&"src"in e?DSe(e):e:null}function DSe(e){if(!e.offset||!e.size)return Es.getPattern(e.src,"anonymous",e.color);let t=e.src+":"+e.offset,n=Es.getPattern(t,void 0,e.color);if(n)return n;let i=Es.get(e.src,"anonymous",null);if(i.getImageState()!==Qt.LOADED)return null;let r=_i(e.size[0],e.size[1]);return r.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),Ov(r.canvas,t,void 0,Qt.LOADED,e.color,!0),Es.getPattern(t,void 0,e.color)}var Ub=Be(()=>{"use strict";$u();Rc();Lo();zb();Hb()});function HX(e,t){return Lv||(Lv=_i(1,1)),e!=U4&&(Lv.font=e,U4=Lv.font),Lv.measureText(t)}function sR(e,t){return HX(e,t).width}function j4(e,t,n){if(t in n)return n[t];let i=t.split(`
`).reduce((r,o)=>Math.max(r,sR(e,o)),0);return n[t]=i,i}function GX(e,t){let n=[],i=[],r=[],o=0,s=0,a=0,l=0;for(let c=0,d=t.length;c<=d;c+=2){let u=t[c];if(u===`
`||c===d){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}let f=t[c+1]||e.font,p=sR(f,u);n.push(p),s+=p;let m=RSe(f);i.push(m),l=Math.max(l,m)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}function zX(e,t,n,i,r,o,s,a,l,c,d){e.save(),n!==1&&(e.globalAlpha===void 0?e.globalAlpha=u=>u.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,c),e.scale(d[0],d[1]),TSe(i,e)):d[0]<0||d[1]<0?(e.translate(l,c),e.scale(d[0],d[1]),e.drawImage(i,r,o,s,a,0,0,s,a)):e.drawImage(i,r,o,s,a,l,c,s*d[0],a*d[1]),e.restore()}function TSe(e,t){let n=e.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}var aR,wo,Td,Ia,Fa,Id,qu,Ku,Ef,_g,Xu,Yu,Rd,Lv,U4,W4,VX,RSe,Zu=Be(()=>{"use strict";Ll();gf();Lo();mg();wc();aR="10px sans-serif",wo="#000",Td="round",Ia=[],Fa=0,Id="round",qu=10,Ku="#000",Ef="center",_g="middle",Xu=[0,0,0,0],Yu=1,Rd=new Mr,Lv=null,W4={},VX=function(){let t="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function a(c,d,u){let f=!0;for(let p=0;p<i;++p){let m=n[p];if(s=sR(c+" "+d+" "+t+m,r),u!=m){let v=sR(c+" "+d+" "+t+u+","+m,r);f=f&&v!=s}}return!!f}function l(){let c=!0,d=Rd.getKeys();for(let u=0,f=d.length;u<f;++u){let p=d[u];if(Rd.get(p)<100){let[m,v,C]=p.split(`
`);a(m,v,C)?(Cd(W4),Lv=null,U4=void 0,Rd.set(p,100)):(Rd.set(p,Rd.get(p)+1,!0),c=!1)}}c&&(clearInterval(o),o=void 0)}return function(c){let d=dL(c);if(!d)return;let u=d.families;for(let f=0,p=u.length;f<p;++f){let m=u[f],v=d.style+`
`+d.weight+`
`+m;Rd.get(v)===void 0&&(Rd.set(v,100,!0),a(d.style,d.weight,m)||(Rd.set(v,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),RSe=function(){let e;return function(t){let n=W4[t];if(n==null){if(AD){let i=dL(t),r=HX(t,"\u017Dg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);W4[t]=n}return n}}()});var $4,lR,q4=Be(()=>{"use strict";Ed();cr();$4=class e{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Or(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return kn()}getImage(t){return kn()}getHitDetectionImage(){return kn()}getPixelRatio(t){return 1}getImageState(){return kn()}getImageSize(){return kn()}getOrigin(){return kn()}getSize(){return kn()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Or(t)}listenImageChange(t){kn()}load(){kn()}unlistenImageChange(t){kn()}ready(){return Promise.resolve()}},lR=$4});var K4,cR,X4=Be(()=>{"use strict";$u();Rc();Ub();Lo();Zu();zb();Hb();q4();K4=class e extends lR{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Qt.LOADING:Qt.LOADED,this.imageState_===Qt.LOADING&&this.ready().then(()=>this.imageState_=Qt.LOADED),this.render()}clone(){let t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){let t=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-n[0]/i[0],t[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let n=this.fill_?.getKey(),i=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(","),r=Es.get(i,null,null)?.getImage(1);if(!r){let o=this.renderOptions_,s=Math.ceil(o.size*t),a=_i(s,s);this.draw_(o,a,t),r=a.canvas,Es.set(i,null,null,new BX(r,void 0,null,Qt.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){let R=r;r=o,o=R}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),c=Math.sqrt(o*o-l*l),d=r-c,u=Math.sqrt(l*l+d*d),f=u/l;if(t==="miter"&&f<=i)return f*n;let p=n/2/f,m=n/2*(d/u),C=Math.sqrt((r+p)*(r+p)+m*m)-r;if(this.radius2_===void 0||t==="bevel")return C*2;let y=r*Math.sin(a),b=Math.sqrt(r*r-y*y),w=o-b,D=Math.sqrt(y*y+w*w)/y;if(D<=i){let R=D*n/2-o-r;return 2*Math.max(C,R)}return C*2}createRenderOptions(){let t=Td,n=Id,i=0,r=null,o=0,s,a=0;this.stroke_&&(s=Ta(this.stroke_.getColor()??Ku),a=this.stroke_.getWidth()??Yu,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Id,t=this.stroke_.getLineCap()??Td,i=this.stroke_.getMiterLimit()??qu);let l=this.calculateLineJoinSize_(n,a,i),c=Math.max(this.radius,this.radius2_||0),d=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:a,size:d,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=wo),n.fillStyle=Ta(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Dc(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=_i(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_,i=this.radius;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let a=0;a<n;a++){let l=o+a*s,c=a%2===0?i:r;t.lineTo(c*Math.cos(l),c*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=wo,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},cR=K4});var Y4,Sg,dR=Be(()=>{"use strict";X4();Y4=class e extends cR{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){let t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}},Sg=Y4});var Z4,na,Nv=Be(()=>{"use strict";$u();Rc();cr();zb();Z4=class e{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){let t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){let n=Ov(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Qt.IDLE&&n.load(),n.getImageState()===Qt.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){let t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?qt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:Dc(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},na=Z4});var WX={};kh(WX,{default:()=>Ic});function UX(e,t,n,i){return n!==void 0&&i!==void 0?[n/e,i/t]:n!==void 0?n/e:i!==void 0?i/t:1}var Q4,Ic,Wb=Be(()=>{"use strict";$u();Da();Rc();yr();cr();zb();q4();Q4=class e extends lR{constructor(t){t=t||{};let n=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;let s=t.img!==void 0?t.img:null,a=t.src;vn(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||qt(s)),vn(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),vn(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(t.src!==void 0?l=Qt.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?Qt.LOADED:Qt.IDLE:l=Qt.LOADING:l=Qt.LOADED),this.color_=t.color!==void 0?Dc(t.color):null,this.iconImage_=Ov(s,a,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let c,d;if(t.size)[c,d]=t.size;else{let u=this.getImage(1);if(u.width&&u.height)c=u.width,d=u.height;else if(u instanceof HTMLImageElement){this.initialOptions_=t;let f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;let p=this.iconImage_.getSize();this.setScale(UX(p[0],p[1],t.width,t.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(UX(c,d,t.width,t.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}let n=this.getDisplacement(),i=this.getScaleArray();return[t[0]-n[0]/i[0],t[1]+n[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){let n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Qt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){let t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Qt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(bt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(bt.CHANGE,t)}ready(){return this.iconImage_.ready()}},Ic=Q4});var J4,ka,jb=Be(()=>{"use strict";J4=class e{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){let t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}},ka=J4});var $X={};kh($X,{createDefaultStyle:()=>uR,createEditingStyle:()=>ISe,default:()=>Aa,toFunction:()=>tN});function tN(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(vn(typeof e.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}function uR(e,t){if(!eN){let n=new na({color:"rgba(255,255,255,0.4)"}),i=new ka({color:"#3399CC",width:1.25});eN=[new Df({image:new Sg({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return eN}function ISe(){let e={},t=[255,255,255,1],n=[0,153,255,1],i=3;return e.Polygon=[new Df({fill:new na({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new Df({stroke:new ka({color:t,width:i+2})}),new Df({stroke:new ka({color:n,width:i})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new Df({image:new Sg({radius:i*2,fill:new na({color:n}),stroke:new ka({color:t,width:i/2})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function jX(e){return e.getGeometry()}var Df,eN,Aa,Bv=Be(()=>{"use strict";Da();dR();Nv();jb();Df=class e{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=jX,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new e({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=jX,this.geometry_=t}setZIndex(t){this.zIndex_=t}};eN=null;Aa=Df});var FSe,nN,Rf,hR=Be(()=>{"use strict";Ed();Nv();FSe="#333",nN=class e{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Or(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new na({color:FSe}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Or(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}},Rf=nN});function kSe(e){return!0}function YX(e){let t=L4(),n=ASe(e,t),i=V4();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,t.featureId){let s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return t.geometryType&&(i.geometryType=N4(r.getGeometry())),n(i)}}function oN(e){let t=L4(),n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=iN(e[s],t);let r=V4(),o=new Array(n);return function(s,a){if(r.properties=s.getPropertiesInternal(),r.resolution=a,t.featureId){let c=s.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<n;++c){let d=i[c](r);d&&(o[l]=d,l+=1)}return o.length=l,o}}function ASe(e,t){let n=e.length,i=new Array(n);for(let r=0;r<n;++r){let o=e[r],s="filter"in o?Dd(o.filter,Ss,t):kSe,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=iN(o.style[c],t)}else a=[iN(o.style,t)];i[r]={filter:s,styles:a}}return function(r){let o=[],s=!1;for(let a=0;a<n;++a){let l=i[a].filter;if(l(r)&&!(e[a].else&&s)){s=!0;for(let c of i[a].styles){let d=c(r);d&&o.push(d)}}}return o}}function iN(e,t){let n=$b(e,"",t),i=qb(e,"",t),r=MSe(e,t),o=PSe(e,t),s=Ma(e,"z-index",t);if(!n&&!i&&!r&&!o&&!bc(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));let a=new Aa;return function(l){let c=!0;if(n){let d=n(l);d&&(c=!1),a.setFill(d)}if(i){let d=i(l);d&&(c=!1),a.setStroke(d)}if(r){let d=r(l);d&&(c=!1),a.setText(d)}if(o){let d=o(l);d&&(c=!1),a.setImage(d)}return s&&a.setZIndex(s(l)),c?null:a}}function $b(e,t,n){let i;if(t+"fill-pattern-src"in e)i=BSe(e,t+"fill-",n);else{if(e[t+"fill-color"]==="none")return o=>null;i=sN(e,t+"fill-color",n)}if(!i)return null;let r=new na;return function(o){let s=i(o);return s===iR?null:(r.setColor(s),r)}}function qb(e,t,n){let i=Ma(e,t+"stroke-width",n),r=sN(e,t+"stroke-color",n);if(!i&&!r)return null;let o=Qu(e,t+"stroke-line-cap",n),s=Qu(e,t+"stroke-line-join",n),a=ZX(e,t+"stroke-line-dash",n),l=Ma(e,t+"stroke-line-dash-offset",n),c=Ma(e,t+"stroke-miter-limit",n),d=new ka;return function(u){if(r){let f=r(u);if(f===iR)return null;d.setColor(f)}if(i&&d.setWidth(i(u)),o){let f=o(u);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");d.setLineCap(f)}if(s){let f=s(u);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");d.setLineJoin(f)}return a&&d.setLineDash(a(u)),l&&d.setLineDashOffset(l(u)),c&&d.setMiterLimit(c(u)),d}}function MSe(e,t){let n="text-",i=Qu(e,n+"value",t);if(!i)return null;let r=$b(e,n,t),o=$b(e,n+"background-",t),s=qb(e,n,t),a=qb(e,n+"background-",t),l=Qu(e,n+"font",t),c=Ma(e,n+"max-angle",t),d=Ma(e,n+"offset-x",t),u=Ma(e,n+"offset-y",t),f=Vv(e,n+"overflow",t),p=Qu(e,n+"placement",t),m=Ma(e,n+"repeat",t),v=gR(e,n+"scale",t),C=Vv(e,n+"rotate-with-view",t),y=Ma(e,n+"rotation",t),b=Qu(e,n+"align",t),w=Qu(e,n+"justify",t),S=Qu(e,n+"baseline",t),D=Vv(e,n+"keep-upright",t),R=ZX(e,n+"padding",t),T=mR(e,n+"declutter-mode"),k=new Rf({declutterMode:T});return function(M){if(k.setText(i(M)),r&&k.setFill(r(M)),o&&k.setBackgroundFill(o(M)),s&&k.setStroke(s(M)),a&&k.setBackgroundStroke(a(M)),l&&k.setFont(l(M)),c&&k.setMaxAngle(c(M)),d&&k.setOffsetX(d(M)),u&&k.setOffsetY(u(M)),f&&k.setOverflow(f(M)),p){let B=p(M);if(B!=="point"&&B!=="line")throw new Error("Expected point or line for text-placement");k.setPlacement(B)}if(m&&k.setRepeat(m(M)),v&&k.setScale(v(M)),C&&k.setRotateWithView(C(M)),y&&k.setRotation(y(M)),b){let B=b(M);if(B!=="left"&&B!=="center"&&B!=="right"&&B!=="end"&&B!=="start")throw new Error("Expected left, right, center, start, or end for text-align");k.setTextAlign(B)}if(w){let B=w(M);if(B!=="left"&&B!=="right"&&B!=="center")throw new Error("Expected left, right, or center for text-justify");k.setJustify(B)}if(S){let B=S(M);if(B!=="bottom"&&B!=="top"&&B!=="middle"&&B!=="alphabetic"&&B!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");k.setTextBaseline(B)}return R&&k.setPadding(R(M)),D&&k.setKeepUpright(D(M)),k}}function PSe(e,t){return"icon-src"in e?OSe(e,t):"shape-points"in e?LSe(e,t):"circle-radius"in e?NSe(e,t):null}function OSe(e,t){let n="icon-",i=n+"src",r=QX(e[i],i),o=fR(e,n+"anchor",t),s=gR(e,n+"scale",t),a=Ma(e,n+"opacity",t),l=fR(e,n+"displacement",t),c=Ma(e,n+"rotation",t),d=Vv(e,n+"rotate-with-view",t),u=KX(e,n+"anchor-origin"),f=XX(e,n+"anchor-x-units"),p=XX(e,n+"anchor-y-units"),m=zSe(e,n+"color"),v=HSe(e,n+"cross-origin"),C=GSe(e,n+"offset"),y=KX(e,n+"offset-origin"),b=pR(e,n+"width"),w=pR(e,n+"height"),S=VSe(e,n+"size"),D=mR(e,n+"declutter-mode"),R=new Ic({src:r,anchorOrigin:u,anchorXUnits:f,anchorYUnits:p,color:m,crossOrigin:v,offset:C,offsetOrigin:y,height:w,width:b,size:S,declutterMode:D});return function(T){return a&&R.setOpacity(a(T)),l&&R.setDisplacement(l(T)),c&&R.setRotation(c(T)),d&&R.setRotateWithView(d(T)),s&&R.setScale(s(T)),o&&R.setAnchor(o(T)),R}}function LSe(e,t){let n="shape-",i=n+"points",r=n+"radius",o=rN(e[i],i),s=rN(e[r],r),a=$b(e,n,t),l=qb(e,n,t),c=gR(e,n+"scale",t),d=fR(e,n+"displacement",t),u=Ma(e,n+"rotation",t),f=Vv(e,n+"rotate-with-view",t),p=pR(e,n+"radius2"),m=pR(e,n+"angle"),v=mR(e,n+"declutter-mode"),C=new cR({points:o,radius:s,radius2:p,angle:m,declutterMode:v});return function(y){return a&&C.setFill(a(y)),l&&C.setStroke(l(y)),d&&C.setDisplacement(d(y)),u&&C.setRotation(u(y)),f&&C.setRotateWithView(f(y)),c&&C.setScale(c(y)),C}}function NSe(e,t){let n="circle-",i=$b(e,n,t),r=qb(e,n,t),o=Ma(e,n+"radius",t),s=gR(e,n+"scale",t),a=fR(e,n+"displacement",t),l=Ma(e,n+"rotation",t),c=Vv(e,n+"rotate-with-view",t),d=mR(e,n+"declutter-mode"),u=new Sg({radius:5,declutterMode:d});return function(f){return o&&u.setRadius(o(f)),i&&u.setFill(i(f)),r&&u.setStroke(r(f)),a&&u.setDisplacement(a(f)),l&&u.setRotation(l(f)),c&&u.setRotateWithView(c(f)),s&&u.setScale(s(f)),u}}function Ma(e,t,n){if(!(t in e))return;let i=Dd(e[t],Un,n);return function(r){return rN(i(r),t)}}function Qu(e,t,n){if(!(t in e))return null;let i=Dd(e[t],ta,n);return function(r){return QX(i(r),t)}}function BSe(e,t,n){let i=Qu(e,t+"pattern-src",n),r=qX(e,t+"pattern-offset",n),o=qX(e,t+"pattern-size",n),s=sN(e,t+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:o&&o(a),color:s&&s(a)}}}function Vv(e,t,n){if(!(t in e))return null;let i=Dd(e[t],Ss,n);return function(r){let o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function sN(e,t,n){if(!(t in e))return null;let i=Dd(e[t],nl,n);return function(r){return JX(i(r),t)}}function ZX(e,t,n){if(!(t in e))return null;let i=Dd(e[t],Sf,n);return function(r){return Kb(i(r),t)}}function fR(e,t,n){if(!(t in e))return null;let i=Dd(e[t],Sf,n);return function(r){let o=Kb(i(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function qX(e,t,n){if(!(t in e))return null;let i=Dd(e[t],Sf,n);return function(r){return eY(i(r),t)}}function gR(e,t,n){if(!(t in e))return null;let i=Dd(e[t],Sf|Un,n);return function(r){return USe(i(r),t)}}function pR(e,t){let n=e[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function VSe(e,t){let n=e[t];if(n!==void 0){if(typeof n=="number")return Or(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function HSe(e,t){let n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function KX(e,t){let n=e[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function XX(e,t){let n=e[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function GSe(e,t){let n=e[t];if(n!==void 0)return Kb(n,t)}function mR(e,t){let n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function zSe(e,t){let n=e[t];if(n!==void 0)return JX(n,t)}function Kb(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);let n=e.length;for(let i=0;i<n;++i)if(typeof e[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return e}function QX(e,t){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}function rN(e,t){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}function JX(e,t){if(typeof e=="string")return e;let n=Kb(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function eY(e,t){let n=Kb(e,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function USe(e,t){return typeof e=="number"?e:eY(e,t)}var tY=Be(()=>{"use strict";Rc();OX();B4();wc();Ed();dR();Nv();Wb();X4();jb();Bv();hR()});function WSe(e){if(e===void 0)return uR;if(!e)return null;if(typeof e=="function"||e instanceof Aa)return e;if(!Array.isArray(e))return oN([e]);if(e.length===0)return[];let t=e.length,n=e[0];if(n instanceof Aa){let r=new Array(t);for(let o=0;o<t;++o){let s=e[o];if(!(s instanceof Aa))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in n){let r=new Array(t);for(let o=0;o<t;++o){let s=e[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return YX(r)}return oN(e)}var nY,aN,vR,lN=Be(()=>{"use strict";S4();tY();Bv();Fv();nY={RENDER_ORDER:"renderOrder"},aN=class extends bg{constructor(t){t=t||{};let n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(nY.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){let i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new Mv(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(nY.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?uR:t;let n=WSe(t);this.styleFunction_=t===null?void 0:tN(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}};vR=aN});var cN,CR,dN=Be(()=>{"use strict";xd();cN=class extends Mo{constructor(t,n,i,r){super(t),this.inversePixelTransform=n,this.frameState=i,this.context=r}},CR=cN});var _N,ER,SN=Be(()=>{"use strict";Lo();_N=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Ev(),{get:(t,n)=>{if(typeof Ev()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,i)=>(this.push_(n,i),!0)})}push_(...t){let n=this.instructions_,i=this.zIndex+this.offset_;n[i]||(n[i]=[]),n[i].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){let o=n[i];if(typeof o=="function"){o(t);continue}let s=n[++i];if(typeof t[o]=="function")t[o](...s);else{if(typeof s=="function"){t[o]=s(t);continue}t[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},ER=_N});var JSe,EN,vY,CY=Be(()=>{"use strict";$u();rL();yr();cr();JSe=5,EN=class extends RD{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=JSe}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return kn()}getData(t){return null}prepareFrame(t){return kn()}renderFrame(t,n){return kn()}forEachFeatureAtCoordinate(t,n,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){let n=t.target;(n.getState()===Qt.LOADED||n.getState()===Qt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Qt.LOADED&&n!=Qt.ERROR&&t.addEventListener(bt.CHANGE,this.boundHandleImageChange_),n==Qt.IDLE&&(t.load(),n=t.getState()),n==Qt.LOADED}renderIfReadyAndVisible(){let t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}},vY=EN});function eEe(){zv=_i(1,1,void 0,{willReadFrequently:!0})}var RN,zv,DN,DR,TN=Be(()=>{"use strict";Zr();Rc();Lo();zn();dN();Iv();SN();Sc();CY();RN=[],zv=null;DN=class extends vY{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Oo(),this.pixelTransform=Oo(),this.inversePixelTransform=Oo(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,i){zv||eEe(),zv.clearRect(0,0,1,1);let r;try{zv.drawImage(t,n,i,1,1,0,0,1,1),r=zv.getImageData(0,0,1,1).data}catch{return zv=null,null}return r}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,n,i){let r=this.getLayer().getClassName(),o,s;if(t&&t.className===r&&(!i||t&&t.style.backgroundColor&&ws(Dc(t.style.backgroundColor),Dc(i)))){let a=t.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&bK(s.canvas.style.transform,n)?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=_i();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,n,i){let r=Fl(i),o=av(i),s=sv(i),a=ov(i);xr(n.coordinateToPixelTransform,r),xr(n.coordinateToPixelTransform,o),xr(n.coordinateToPixelTransform,s),xr(n.coordinateToPixelTransform,a);let l=this.inversePixelTransform;xr(l,r),xr(l,o),xr(l,s),xr(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}prepareContainer(t,n){let i=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,s=t.pixelRatio,a=Math.round(mn(i)/r*s),l=Math.round(ar(i)/r*s);ts(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,o,-a/2,-l/2),OD(this.inversePixelTransform,this.pixelTransform);let c=xK(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(t)),!this.containerReused){let d=this.context.canvas;d.width!=a||d.height!=l?(d.width=a,d.height=l):this.context.clearRect(0,0,a,l),c!==d.style.transform&&(d.style.transform=c)}}dispatchRenderEvent_(t,n,i){let r=this.getLayer();if(r.hasListener(t)){let o=new CR(t,this.inversePixelTransform,i,n);r.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(ns.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(ns.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new ER),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(ns.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(ns.POSTRENDER,this.context,t))}getRenderTransform(t,n,i,r,o,s,a){let l=o/2,c=s/2,d=r/n,u=-d,f=-t[0]+a,p=-t[1];return ts(this.tempTransform,l,c,d,u,-i,f,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}},DR=DN});function TY(e){return e?typeof e=="function"?e:(Array.isArray(e)||(e=[e]),t=>e):null}var LN,FR,NN=Be(()=>{"use strict";Ll();Ar();LN=class extends Mr{constructor(t){super(),this.projection=zi(t.projection),this.attributions_=TY(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;let n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=TY(t),this.changed()}setState(t){this.state_=t,this.changed()}};FR=LN});var PY={};kh(PY,{createStyleFunction:()=>MY,default:()=>If});function MY(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(vn(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}var UN,If,MR=Be(()=>{"use strict";Ll();Da();yr();Sa();UN=class e extends Mr{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){let n=t;this.setGeometry(n)}else{let n=t;this.setProperties(n)}}clone(){let t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let n=this.getGeometry();n&&t.setGeometry(n.clone());let i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Bn(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=rn(t,bt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?MY(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};If=UN});function WN(e,t,n,i,r,o,s){let a,l,c=(n-t)/i;if(c===1)a=t;else if(c===2)a=t,l=r;else if(c!==0){let d=e[t],u=e[t+1],f=0,p=[0];for(let C=t+i;C<n;C+=i){let y=e[C],b=e[C+1];f+=Math.sqrt((y-d)*(y-d)+(b-u)*(b-u)),p.push(f),d=y,u=b}let m=r*f,v=Xq(p,m);v<0?(l=(m-p[-v-2])/(p[-v-1]-p[-v-2]),a=t+(-v-2)*i):a=t+v*i}s=s>1?s:2,o=o||new Array(s);for(let d=0;d<s;++d)o[d]=a===void 0?NaN:l===void 0?e[a+d]:xs(e[a+d],e[a+i+d],l);return o}var OY=Be(()=>{"use strict";Zr();lr()});function LY(e,t,n,i){let r=e[t],o=e[t+1],s=0;for(let a=t+i;a<n;a+=i){let l=e[a],c=e[a+1];s+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return s}var NY=Be(()=>{"use strict"});var jN,PR,$N=Be(()=>{"use strict";jN=class{drawCustom(t,n,i,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,i){}drawFeature(t,n,i){}drawGeometryCollection(t,n,i){}drawLineString(t,n,i){}drawMultiLineString(t,n,i){}drawMultiPoint(t,n,i){}drawMultiPolygon(t,n,i){}drawPoint(t,n,i){}drawPolygon(t,n,i){}drawText(t,n,i){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}},PR=jN});var qN,BY,VY=Be(()=>{"use strict";Zr();Ub();zn();bb();Cf();lr();Sc();$N();Zu();qN=class extends PR{constructor(t,n,i,r,o,s,a){super(),this.context_=t,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?lv(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Oo()}drawImages_(t,n,i,r){if(!this.image_)return;let o=Ra(t,n,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let d=0,u=o.length;d<u;d+=2){let f=o[d]-this.imageAnchorX_,p=o[d+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let m=f+this.imageAnchorX_,v=p+this.imageAnchorY_;ts(a,m,v,1,1,c,-m,-v),s.save(),s.transform.apply(s,a),s.translate(m,v),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(t,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=Ra(t,n,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=r){let l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(t,n,i,r,o){let s=this.context_,a=Ra(t,n,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),i}drawRings_(t,n,i,r){for(let o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(t,n,i[o],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Cr(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=TK(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}}drawFeature(t,n){let i=n.getGeometryFunction()(t);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(t){let n=t.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Cr(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){let n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getExtent();if(Cr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=t.getFlatCoordinates(),o=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(r,o,s[l],a,!1);i.stroke()}if(this.text_!==""){let i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Cr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Cr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_,i=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),s=t.getStride();n.beginPath();for(let a=0,l=o.length;a<l;++a){let c=o[a];r=this.drawRings_(i,r,c,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){let n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){let n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),ws(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){let n=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:Ef;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{let i=t.getColor();this.fillState_={fillStyle:Ta(i||wo)}}if(!n)this.strokeState_=null;else{let i=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),s=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),d=o||Ia;this.strokeState_={lineCap:r!==void 0?r:Td,lineDash:this.pixelRatio_===1?d:d.map(u=>u*this.pixelRatio_),lineDashOffset:(s||Fa)*this.pixelRatio_,lineJoin:a!==void 0?a:Id,lineWidth:(l!==void 0?l:Yu)*this.pixelRatio_,miterLimit:c!==void 0?c:qu,strokeStyle:Ta(i||Ku)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}let i=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();let s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(t){if(!t)this.text_="";else{let n=t.getFill();if(!n)this.textFillState_=null;else{let p=n.getColor();this.textFillState_={fillStyle:Ta(p||wo)}}let i=t.getStroke();if(!i)this.textStrokeState_=null;else{let p=i.getColor(),m=i.getLineCap(),v=i.getLineDash(),C=i.getLineDashOffset(),y=i.getLineJoin(),b=i.getWidth(),w=i.getMiterLimit();this.textStrokeState_={lineCap:m!==void 0?m:Td,lineDash:v||Ia,lineDashOffset:C||Fa,lineJoin:y!==void 0?y:Id,lineWidth:b!==void 0?b:Yu,miterLimit:w!==void 0?w:qu,strokeStyle:Ta(p||Ku)}}let r=t.getFont(),o=t.getOffsetX(),s=t.getOffsetY(),a=t.getRotateWithView(),l=t.getRotation(),c=t.getScaleArray(),d=t.getText(),u=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:r!==void 0?r:aR,textAlign:u!==void 0?u:Ef,textBaseline:f!==void 0?f:_g},this.text_=d!==void 0?Array.isArray(d)?d.reduce((p,m,v)=>p+=v%2?" ":m,""):d:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},BY=qN});function GY(e,t){return parseInt(qt(e),10)-parseInt(qt(t),10)}function KN(e,t){let n=XN(e,t);return n*n}function XN(e,t){return hEe*e/t}function fEe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(o||s){let l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}}function YN(e,t,n,i,r,o,s,a){let l=[],c=n.getImage();if(c){let f=!0,p=c.getImageState();p==Qt.LOADED||p==Qt.ERROR?f=!1:p==Qt.IDLE&&c.load(),f&&l.push(c.ready())}let d=n.getFill();d&&d.loading()&&l.push(d.ready());let u=l.length>0;return u&&Promise.all(l).then(()=>r(null)),pEe(e,t,n,i,o,s,a),u}function pEe(e,t,n,i,r,o,s){let a=n.getGeometryFunction()(t);if(!a)return;let l=a.simplifyTransformed(i,r);if(n.getRenderer())zY(e,l,n,t,s);else{let d=HY[l.getType()];d(e,l,n,t,s,o)}}function zY(e,t,n,i,r){if(t.getType()=="GeometryCollection"){let s=t.getGeometries();for(let a=0,l=s.length;a<l;++a)zY(e,s[a],n,i,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function gEe(e,t,n,i,r,o){let s=t.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let c=HY[s[a].getType()];c(e,s[a],n,i,r,o)}}function mEe(e,t,n,i,r){let o=n.getStroke();if(o){let a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,i,r)}let s=n.getText();if(s&&s.getText()){let a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(t,i,r)}}function vEe(e,t,n,i,r){let o=n.getStroke();if(o){let a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,i,r)}let s=n.getText();if(s&&s.getText()){let a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(t,i,r)}}function CEe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(s||o){let l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}function yEe(e,t,n,i,r,o){let s=n.getImage(),a=n.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=Qt.LOADED)return;let d=e.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,c),d.drawPoint(t,i,r)}if(l){let d=e.getBuilder(n.getZIndex(),"Text");d.setTextStyle(a,c),d.drawText(t,i,r)}}function xEe(e,t,n,i,r,o){let s=n.getImage(),a=s&&s.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),d=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=Qt.LOADED)return;let u=e.getBuilder(n.getZIndex(),"Image");u.setImageStyle(s,d),u.drawMultiPoint(t,i,r)}if(c){let u=e.getBuilder(n.getZIndex(),"Text");u.setTextStyle(l,d),u.drawText(t,i,r)}}function bEe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(o||s){let l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}var hEe,HY,UY=Be(()=>{"use strict";$u();cr();hEe=.5,HY={Point:yEe,LineString:mEe,Polygon:bEe,MultiPoint:xEe,MultiLineString:vEe,MultiPolygon:CEe,GeometryCollection:gEe,Circle:fEe}});function _Ee(e,t,n,i,r,o,s){let a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(n,i,r):e,!0),t.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=wEe,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=t.getType();try{let d;c=="text"||c=="json"?d=a.responseText:c=="xml"?d=a.responseXML||a.responseText:c=="arraybuffer"&&(d=a.response),d?o(t.readFeatures(d,{extent:n,featureProjection:r}),t.readProjection(d)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function ZN(e,t){return function(n,i,r,o,s){_Ee(e,t,n,i,r,(a,l)=>{this.addFeatures(a),o!==void 0&&o(a)},()=>{this.changed(),s!==void 0&&s()})}}var wEe,WY=Be(()=>{"use strict";wEe=!1});function jY(e,t){return[[-1/0,-1/0,1/0,1/0]]}var $Y=Be(()=>{"use strict";Ar()});function qY(e,t,n,i){let r=[],o=Yr();for(let s=0,a=n.length;s<a;++s){let l=n[s];o=rv(e,t,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return r}var KY=Be(()=>{"use strict";zn()});var QN=Be(()=>{"use strict";HD()});var XY,Zb,Rg,YY=Be(()=>{"use strict";Zr();zn();Js();KY();OL();OY();HL();_b();Cf();Ar();Sc();XY=Oo(),Zb=class e{constructor(t,n,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?cD(this.flatCoordinates_):rv(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let t=Il(this.getExtent());this.flatInteriorPoints_=Sb(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let t=qK(this.flatCoordinates_,this.ends_),n=qY(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=VK(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=WN(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let t=this.flatCoordinates_,n=0,i=this.ends_;for(let r=0,o=i.length;r<o;++r){let s=i[r],a=WN(t,n,s,2,.5);vv(this.flatMidpoints_,a),n=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=zi(t);let n=t.getExtent(),i=t.getWorldExtent();if(n&&i){let r=ar(i)/ar(n);ts(XY,i[0],i[3],r,-r,0,0,0),Ra(this.flatCoordinates_,0,this.flatCoordinates_.length,2,XY,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new e(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=DD((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=wb(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=OK(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,r);break;case"Polygon":r=[],i.length=VD(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new e(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}};Zb.prototype.getFlatCoordinates=Zb.prototype.getOrientedFlatCoordinates;Rg=Zb});var JN,e6,ZY=Be(()=>{"use strict";S4();zn();wc();cr();JN=class{constructor(t){this.rbush_=new Mv(t),this.items_={}}insert(t,n){let i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(i),this.items_[qt(n)]=i}load(t,n){let i=new Array(n.length);for(let r=0,o=n.length;r<o;r++){let s=t[r],a=n[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[qt(a)]=l}this.rbush_.load(i)}remove(t){let n=qt(t),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(t,n){let i=this.items_[qt(n)],r=[i.minX,i.minY,i.maxX,i.maxY];Lu(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){let n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let i;for(let r=0,o=t.length;r<o;r++)if(i=n(t[r]),i)return i;return i}isEmpty(){return bc(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){let n=this.rbush_.toJSON();return el(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(let n in t.items_)this.items_[n]=t.items_[n]}},e6=JN});var il,QY=Be(()=>{"use strict";il={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}});var JY={};kh(JY,{VectorSourceEvent:()=>Fc,default:()=>Wv});var Fc,t6,Wv,OR=Be(()=>{"use strict";bv();yb();gv();Zr();Da();xd();yr();Sa();zn();WY();Js();$Y();wc();YY();ZY();cr();NN();QY();Fc=class extends Mo{constructor(t,n,i){super(t),this.feature=n,this.features=i}},t6=class extends FR{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Wu,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(vn(this.format_,"`format` must be set when `url` is set"),this.loader_=ZN(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:jY;let n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new e6:null,this.loadedExtentsRtree_=new e6,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(t.features)?r=t.features:t.features&&(i=t.features,r=i.getArray()),!n&&i===void 0&&(i=new ea(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){let n=qt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);let i=t.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new Fc(il.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof Rg||(this.featureChangeKeys_[t]=[rn(n,bt.CHANGE,this.handleFeatureChange_,this),rn(n,_c.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let i=!0;if(n.getId()!==void 0){let r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof Rg){let o=this.idIndex_[r];o instanceof Rg?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:i=!1}else i=!1}return i&&(vn(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){let n=[],i=[],r=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=qt(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){let a=i[o],l=qt(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let d=c.getExtent();n.push(d),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(il.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new Fc(il.ADDFEATURE,i[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(il.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(il.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(Po.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),t.addEventListener(Po.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Bn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(let i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let n=new Fc(il.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){let i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(r){let o=r.getGeometry();if(o instanceof Rg||o.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(i){let r=i.getGeometry();if(r instanceof Rg||r.intersectsExtent(t)){let o=n(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),bc(this.nullGeometryFeatures_)||vv(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){let n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);let r=uD(t,n);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){let i=t[0],r=t[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return n=n||zu,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){let d=c.getGeometry(),u=a;if(a=d instanceof Rg?0:d.closestPointXY(i,r,s,a),a<u){o=c;let f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){let n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){let n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){let n=t.target,i=qt(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{let s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}let o=n.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Fc(il.CHANGEFEATURE,n))}hasFeature(t){let n=t.getId();return n!==void 0?n in this.idIndex_:qt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&bc(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,i){let r=this.loadedExtentsRtree_,o=this.strategy_(t,n,i);for(let s=0,a=o.length;s<a;++s){let l=o[s];r.forEachInExtent(l,function(d){return Ou(d.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Fc(il.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,d=>{--this.loadingExtentsCount_,this.dispatchEvent(new Fc(il.FEATURESLOADEND,void 0,d))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Fc(il.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){let n=this.loadedExtentsRtree_,i=n.forEachInExtent(t,function(r){if(Lu(r.extent,t))return r});i&&n.remove(i)}removeFeatures(t){let n=!1;for(let i=0,r=t.length;i<r;++i)n=this.removeFeatureInternal(t[i])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){let n=qt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(Bn),delete this.featureChangeKeys_[n];let r=t.getId();if(r!==void 0){let o=r.toString(),s=this.idIndex_[o];s===t?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(t),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[n],this.hasListener(il.REMOVEFEATURE)&&this.dispatchEvent(new Fc(il.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(let n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){vn(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(ZN(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}},Wv=t6});var Qb,Jb,Fd,Ju,n6,Nt,Tg=Be(()=>{"use strict";Qb={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Jb=[Qb.FILL],Fd=[Qb.STROKE],Ju=[Qb.BEGIN_PATH],n6=[Qb.CLOSE_PATH],Nt=Qb});var i6,kd,jv=Be(()=>{"use strict";Zr();Ub();PO();zn();BD();$N();Zu();Tg();i6=class extends PR{constructor(t,n,i,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){let n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})}appendFlatPointCoordinates(t,n){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=t.length;a<l;a+=n)r[0]=t[a],r[1]=t[a+1],Cc(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(t,n,i,r,o,s){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(n+=r);let d=t[n],u=t[n+1],f=this.tmpCoordinate_,p=!0,m,v,C;for(m=n+r;m<i;m+=r)f[0]=t[m],f[1]=t[m+1],C=sD(c,f),C!==v?(p&&(a[l++]=d,a[l++]=u,p=!1),a[l++]=f[0],a[l++]=f[1]):C===so.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],p=!1):p=!0,d=f[0],u=f[1],v=C;return(o&&p||m===n+r)&&(a[l++]=d,a[l++]=u),l}drawCustomCoordinates_(t,n,i,r,o){for(let s=0,a=i.length;s<a;++s){let l=i[s],c=this.appendFlatLineCoordinates(t,n,l,r,!1,!1);o.push(c),n=l}return n}drawCustom(t,n,i,r,o){this.beginGeometry(t,n,o);let s=t.getType(),a=t.getStride(),l=this.coordinates.length,c,d,u,f,p;switch(s){case"MultiPolygon":c=t.getOrientedFlatCoordinates(),f=[];let m=t.getEndss();p=0;for(let v=0,C=m.length;v<C;++v){let y=[];p=this.drawCustomCoordinates_(c,p,m[v],a,y),f.push(y)}this.instructions.push([Nt.CUSTOM,l,f,t,i,kL,o]),this.hitDetectionInstructions.push([Nt.CUSTOM,l,f,t,r||i,kL,o]);break;case"Polygon":case"MultiLineString":u=[],c=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,t.getEnds(),a,u),this.instructions.push([Nt.CUSTOM,l,u,t,i,_v,o]),this.hitDetectionInstructions.push([Nt.CUSTOM,l,u,t,r||i,_v,o]);break;case"LineString":case"Circle":c=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([Nt.CUSTOM,l,d,t,i,yf,o]),this.hitDetectionInstructions.push([Nt.CUSTOM,l,d,t,r||i,yf,o]);break;case"MultiPoint":c=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,a),d>l&&(this.instructions.push([Nt.CUSTOM,l,d,t,i,yf,o]),this.hitDetectionInstructions.push([Nt.CUSTOM,l,d,t,r||i,yf,o]));break;case"Point":c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([Nt.CUSTOM,l,d,t,i,void 0,o]),this.hitDetectionInstructions.push([Nt.CUSTOM,l,d,t,r||i,void 0,o]);break;default:}this.endGeometry(n)}beginGeometry(t,n,i){this.beginGeometryInstruction1_=[Nt.BEGIN_GEOMETRY,n,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Nt.BEGIN_GEOMETRY,n,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let t=this.hitDetectionInstructions;t.reverse();let n,i=t.length,r,o,s=-1;for(n=0;n<i;++n)r=t[n],o=r[0],o==Nt.END_GEOMETRY?s=n:o==Nt.BEGIN_GEOMETRY&&(r[2]=n,Zq(this.hitDetectionInstructions,s,n),s=-1)}fillStyleToState(t,n={}){if(t){let i=t.getColor();n.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,n.fillStyle=Ta(i||wo)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){let i=t.getColor();n.strokeStyle=Ta(i||Ku);let r=t.getLineCap();n.lineCap=r!==void 0?r:Td;let o=t.getLineDash();n.lineDash=o?o.slice():Ia;let s=t.getLineDashOffset();n.lineDashOffset=s||Fa;let a=t.getLineJoin();n.lineJoin=a!==void 0?a:Id;let l=t.getWidth();n.lineWidth=l!==void 0?l:Yu;let c=t.getMiterLimit();n.miterLimit=c!==void 0?c:qu,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){let i=this.state;this.fillStyleToState(t,i),this.strokeStyleToState(n,i)}createFill(t){let n=t.fillStyle,i=[Nt.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[Nt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){let i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,n){let i=t.strokeStyle,r=t.lineCap,o=t.lineDash,s=t.lineDashOffset,a=t.lineJoin,l=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||o!=t.currentLineDash&&!ws(t.currentLineDash,o)||t.currentLineDashOffset!=s||t.currentLineJoin!=a||t.currentLineWidth!=l||t.currentMiterLimit!=c)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=s,t.currentLineJoin=a,t.currentLineWidth=l,t.currentMiterLimit=c)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let n=[Nt.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=aD(this.maxExtent),this.maxLineWidth>0)){let t=this.resolution*(this.maxLineWidth+1)/2;iv(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},kd=i6});var r6,eZ,tZ=Be(()=>{"use strict";zn();jv();Tg();r6=class extends kd{constructor(t,n,i,r){super(t,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,i){if(!this.image_||this.maxExtent&&!Cc(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,i);let r=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([Nt.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Nt.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,i){if(!this.image_)return;this.beginGeometry(t,n,i);let r=t.getFlatCoordinates(),o=[];for(let l=0,c=r.length;l<c;l+=t.getStride())(!this.maxExtent||Cc(this.maxExtent,r.slice(l,l+2)))&&o.push(r[l],r[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([Nt.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Nt.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){let i=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}},eZ=r6});var o6,nZ,iZ=Be(()=>{"use strict";Zu();jv();Tg();o6=class extends kd{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinates_(t,n,i,r){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,i,r,!1,!1),a=[Nt.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,n,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ia,Fa],Ju);let a=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Fd),this.endGeometry(n)}drawMultiLineString(t,n,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ia,Fa],Ju);let a=t.getEnds(),l=t.getFlatCoordinates(),c=t.getStride(),d=0;for(let u=0,f=a.length;u<f;++u)d=this.drawFlatCoordinates_(l,d,a[u],c);this.hitDetectionInstructions.push(Fd),this.endGeometry(n)}finish(){let t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Fd),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Fd),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Ju)}},nZ=o6});var s6,a6,rZ=Be(()=>{"use strict";_b();Zu();jv();Tg();s6=class extends kd{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinatess_(t,n,i,r){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=i.length;this.instructions.push(Ju),this.hitDetectionInstructions.push(Ju);for(let c=0;c<l;++c){let d=i[c],u=this.coordinates.length,f=this.appendFlatLineCoordinates(t,n,d,r,!0,!a),p=[Nt.MOVE_TO_LINE_TO,u,f];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(n6),this.hitDetectionInstructions.push(n6)),n=d}return s&&(this.instructions.push(Jb),this.hitDetectionInstructions.push(Jb)),a&&(this.instructions.push(Fd),this.hitDetectionInstructions.push(Fd)),n}drawCircle(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Nt.SET_FILL_STYLE,wo]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ia,Fa]);let a=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let d=[Nt.CIRCLE,c];this.instructions.push(Ju,d),this.hitDetectionInstructions.push(Ju,d),r.fillStyle!==void 0&&(this.instructions.push(Jb),this.hitDetectionInstructions.push(Jb)),r.strokeStyle!==void 0&&(this.instructions.push(Fd),this.hitDetectionInstructions.push(Fd)),this.endGeometry(n)}drawPolygon(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Nt.SET_FILL_STYLE,wo]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ia,Fa]);let a=t.getEnds(),l=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(n)}drawMultiPolygon(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Nt.SET_FILL_STYLE,wo]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ia,Fa]);let a=t.getEndss(),l=t.getOrientedFlatCoordinates(),c=t.getStride(),d=0;for(let u=0,f=a.length;u<f;++u)d=this.drawFlatCoordinatess_(l,d,a[u],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let t=this.tolerance;if(t!==0){let n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=xf(n[i],t)}return super.finish()}setFillStrokeStyles_(){let t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}},a6=s6});function oZ(e,t,n,i,r){let o=[],s=n,a=0,l=t.slice(n,2);for(;a<e&&s+r<i;){let[c,d]=l.slice(-2),u=t[s+r],f=t[s+r+1],p=Math.sqrt((u-c)*(u-c)+(f-d)*(f-d));if(a+=p,a>=e){let m=(e-a+p)/p,v=xs(c,u,m),C=xs(d,f,m);l.push(v,C),o.push(l),l=[v,C],a==e&&(s+=r),a=0}else if(a<e)l.push(t[s+r],t[s+r+1]),s+=r;else{let m=p-a,v=xs(c,u,m/p),C=xs(d,f,m/p);l.push(v,C),o.push(l),l=[v,C],a=0,s+=r}}return a>0&&o.push(l),o}var sZ=Be(()=>{"use strict";lr()});function aZ(e,t,n,i,r){let o=n,s=n,a=0,l=0,c=n,d,u,f,p,m,v,C,y,b,w;for(u=n;u<i;u+=r){let S=t[u],D=t[u+1];m!==void 0&&(b=S-m,w=D-v,p=Math.sqrt(b*b+w*w),C!==void 0&&(l+=f,d=Math.acos((C*b+y*w)/(f*p)),d>e&&(l>a&&(a=l,o=c,s=u),l=0,c=u-r)),f=p,C=b,y=w),m=S,v=D}return l+=p,l>a?[c,u]:[o,s]}var lZ=Be(()=>{"use strict"});var ew,l6,cZ,c6=Be(()=>{"use strict";Ub();zn();sZ();lZ();cr();Zu();jv();Tg();ew={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},l6=class extends kd{constructor(t,n,i,r){super(t,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[wo]={fillStyle:wo},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,i){let r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;let a=this.coordinates,l=a.length,c=t.getType(),d=null,u=t.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!Cr(this.maxExtent,t.getExtent()))return;let f;if(d=t.getFlatCoordinates(),c=="LineString")f=[d.length];else if(c=="MultiLineString")f=t.getEnds();else if(c=="Polygon")f=t.getEnds().slice(0,1);else if(c=="MultiPolygon"){let C=t.getEndss();f=[];for(let y=0,b=C.length;y<b;++y)f.push(C[y][0])}this.beginGeometry(t,n,i);let p=s.repeat,m=p?void 0:s.textAlign,v=0;for(let C=0,y=f.length;C<y;++C){let b;p?b=oZ(p*this.resolution,d,v,f[C],u):b=[d.slice(v,f[C])];for(let w=0,S=b.length;w<S;++w){let D=b[w],R=0,T=D.length;if(m==null){let M=aZ(s.maxAngle,D,0,D.length,2);R=M[0],T=M[1]}for(let M=R;M<T;M+=u)a.push(D[M],D[M+1]);let k=a.length;v=f[C],this.drawChars_(l,k),l=k}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=t.getFlatCoordinates();break;case"LineString":d=t.getFlatMidpoint();break;case"Circle":d=t.getCenter();break;case"MultiLineString":d=t.getFlatMidpoints(),u=2;break;case"Polygon":d=t.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),u=3;break;case"MultiPolygon":let S=t.getFlatInteriorPoints();d=[];for(let D=0,R=S.length;D<R;D+=3)s.overflow||f.push(S[D+2]/this.resolution),d.push(S[D],S[D+1]);if(d.length===0)return;u=2;break;default:}let p=this.appendFlatPointCoordinates(d,u);if(p===l)return;if(f&&(p-l)/2!==d.length/u){let S=l/2;f=f.filter((D,R)=>{let T=a[(S+R)*2]===d[R*u]&&a[(S+R)*2+1]===d[R*u+1];return T||--S,T})}this.saveTextStates_();let m=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,v=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(t,n,i);let C=s.padding;if(C!=Xu&&(s.scale[0]<0||s.scale[1]<0)){let S=s.padding[0],D=s.padding[1],R=s.padding[2],T=s.padding[3];s.scale[0]<0&&(D=-D,T=-T),s.scale[1]<0&&(S=-S,R=-R),C=[S,D,R,T]}let y=this.pixelRatio;this.instructions.push([Nt.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==Xu?Xu:C.map(function(S){return S*y}),m,v,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);let b=1/y,w=m?m.slice(0):null;w&&(w[1]=wo),this.hitDetectionInstructions.push([Nt.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[b,b],NaN,this.declutterMode_,this.declutterImageWithText_,C,w,v,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?wo:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){let t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Ef,justify:n.justify,textBaseline:n.textBaseline||_g,scale:n.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(t,n){let i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=ew[r.textBaseline],d=this.textOffsetY_*l,u=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Nt.DRAW_CHARS,t,n,c,r.overflow,a,r.maxAngle,l,d,o,f*l,u,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([Nt.DRAW_CHARS,t,n,c,r.overflow,a&&wo,r.maxAngle,l,d,o,f*l,u,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let i,r,o;if(!t)this.text_="";else{let s=t.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Ta(s.getColor()||wo)):(r=null,this.textFillState_=r);let a=t.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let v=a.getLineDash(),C=a.getLineDashOffset(),y=a.getWidth(),b=a.getMiterLimit();o.lineCap=a.getLineCap()||Td,o.lineDash=v?v.slice():Ia,o.lineDashOffset=C===void 0?Fa:C,o.lineJoin=a.getLineJoin()||Id,o.lineWidth=y===void 0?Yu:y,o.miterLimit=b===void 0?qu:b,o.strokeStyle=Ta(a.getColor()||Ku)}i=this.textState_;let l=t.getFont()||aR;VX(l);let c=t.getScaleArray();i.overflow=t.getOverflow(),i.font=l,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||_g,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Xu,i.scale=c===void 0?[1,1]:c;let d=t.getOffsetX(),u=t.getOffsetY(),f=t.getRotateWithView(),p=t.getKeepUpright(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=d===void 0?0:d,this.textOffsetY_=u===void 0?0:u,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=p===void 0?!0:p,this.textRotation_=m===void 0?0:m,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:qt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+qt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}},cZ=l6});var SEe,d6,dZ,uZ=Be(()=>{"use strict";jv();tZ();iZ();rZ();c6();SEe={Circle:a6,Default:kd,Image:eZ,LineString:nZ,Polygon:a6,Text:cZ},d6=class{constructor(t,n,i,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let t={};for(let n in this.buildersByZIndex_){t[n]=t[n]||{};let i=this.buildersByZIndex_[n];for(let r in i){let o=i[r].finish();t[n][r]=o}}return t}getBuilder(t,n){let i=t!==void 0?t.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[n];if(o===void 0){let s=SEe[n];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o}return o}},dZ=d6});function hZ(e,t,n,i,r,o,s,a,l,c,d,u,f=!0){let p=e[t],m=e[t+1],v=0,C=0,y=0,b=0;function w(){v=p,C=m,t+=i,p=e[t],m=e[t+1],b+=y,y=Math.sqrt((p-v)*(p-v)+(m-C)*(m-C))}do w();while(t<n-i&&b+y<o);let S=y===0?0:(o-b)/y,D=xs(v,p,S),R=xs(C,m,S),T=t-i,k=b,M=o+a*l(c,r,d);for(;t<n-i&&b+y<M;)w();S=y===0?0:(M-b)/y;let B=xs(v,p,S),L=xs(C,m,S),V=!1;if(f)if(u){let fe=[D,R,B,L];LD(fe,0,4,2,u,fe,fe),V=fe[0]>fe[2]}else V=D>B;let ee=Math.PI,re=[],se=T+i===t;t=T,y=0,b=k,p=e[t],m=e[t+1];let ge;if(se){w(),ge=Math.atan2(m-C,p-v),V&&(ge+=ge>0?-ee:ee);let fe=(B+D)/2,Ee=(L+R)/2;return re[0]=[fe,Ee,(M-o)/2,ge,r],re}r=r.replace(/\n/g," ");for(let fe=0,Ee=r.length;fe<Ee;){w();let te=Math.atan2(m-C,p-v);if(V&&(te+=te>0?-ee:ee),ge!==void 0){let Q=te-ge;if(Q+=Q>ee?-2*ee:Q<-ee?2*ee:0,Math.abs(Q)>s)return null}ge=te;let oe=fe,J=0;for(;fe<Ee;++fe){let Q=V?Ee-fe-1:fe,ce=a*l(c,r[Q],d);if(t+i<n&&b+y<o+J+ce/2)break;J+=ce}if(fe===oe)continue;let A=V?r.substring(Ee-oe,Ee-fe):r.substring(oe,fe);S=y===0?0:(o+J/2-b)/y;let ae=xs(v,p,S),K=xs(C,m,S);re.push([ae,K,J/2,te,A]),o+=J}return re}var fZ=Be(()=>{"use strict";lr();Cf()});function pZ(e){return e[3].declutterBox}function u6(e,t){return t==="start"?t=gZ.test(e)?"right":"left":t==="end"&&(t=gZ.test(e)?"left":"right"),ew[t]}function EEe(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}function DEe(e,t,n){return n%2===0&&(e+=t),e}var $v,Ff,eh,th,kf,gZ,h6,mZ,vZ=Be(()=>{"use strict";Zr();zn();NY();fZ();Cf();Sc();SN();Zu();Tg();c6();$v=Yr(),Ff=[],eh=[],th=[],kf=[];gZ=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");h6=class{constructor(t,n,i,r,o){this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Oo(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new ER:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,i,r){let o=t+n+i+r;if(this.labels_[o])return this.labels_[o];let s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],c=this.pixelRatio,d=[l.scale[0]*c,l.scale[1]*c],u=l.justify?ew[l.justify]:u6(Array.isArray(t)?t[0]:t,l.textAlign||Ef),f=r&&s.lineWidth?s.lineWidth:0,p=Array.isArray(t)?t:String(t).split(`
`).reduce(EEe,[]),{width:m,height:v,widths:C,heights:y,lineWidths:b}=GX(l,p),w=m+f,S=[],D=(w+2)*d[0],R=(v+f)*d[1],T={width:D<0?Math.floor(D):Math.ceil(D),height:R<0?Math.floor(R):Math.ceil(R),contextInstructions:S};(d[0]!=1||d[1]!=1)&&S.push("scale",d),r&&(S.push("strokeStyle",s.strokeStyle),S.push("lineWidth",f),S.push("lineCap",s.lineCap),S.push("lineJoin",s.lineJoin),S.push("miterLimit",s.miterLimit),S.push("setLineDash",[s.lineDash]),S.push("lineDashOffset",s.lineDashOffset)),i&&S.push("fillStyle",a.fillStyle),S.push("textBaseline","middle"),S.push("textAlign","center");let k=.5-u,M=u*w+k*f,B=[],L=[],V=0,ee=0,re=0,se=0,ge;for(let fe=0,Ee=p.length;fe<Ee;fe+=2){let te=p[fe];if(te===`
`){ee+=V,V=0,M=u*w+k*f,++se;continue}let oe=p[fe+1]||l.font;oe!==ge&&(r&&B.push("font",oe),i&&L.push("font",oe),ge=oe),V=Math.max(V,y[re]);let J=[te,M+k*C[re]+u*(C[re]-b[se]),.5*(f+V)+ee];M+=C[re],r&&B.push("strokeText",J),i&&L.push("fillText",J),++re}return Array.prototype.push.apply(S,B),Array.prototype.push.apply(S,L),this.labels_[o]=T,T}replayTextBackground_(t,n,i,r,o,s,a){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,n),s&&(this.alignAndScaleFill_=s[2],t.fillStyle=s[1],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())}calculateImageOrLabelDimensions_(t,n,i,r,o,s,a,l,c,d,u,f,p,m,v,C){a*=f[0],l*=f[1];let y=i-a,b=r-l,w=o+c>t?t-c:o,S=s+d>n?n-d:s,D=m[3]+w*f[0]+m[1],R=m[0]+S*f[1]+m[2],T=y-m[3],k=b-m[0];(v||u!==0)&&(Ff[0]=T,kf[0]=T,Ff[1]=k,eh[1]=k,eh[0]=T+D,th[0]=eh[0],th[1]=k+R,kf[1]=th[1]);let M;return u!==0?(M=ts(Oo(),i,r,1,1,u,-i,-r),xr(M,Ff),xr(M,eh),xr(M,th),xr(M,kf),el(Math.min(Ff[0],eh[0],th[0],kf[0]),Math.min(Ff[1],eh[1],th[1],kf[1]),Math.max(Ff[0],eh[0],th[0],kf[0]),Math.max(Ff[1],eh[1],th[1],kf[1]),$v)):el(Math.min(T,T+D),Math.min(k,k+R),Math.max(T,T+D),Math.max(k,k+R),$v),p&&(y=Math.round(y),b=Math.round(b)),{drawImageX:y,drawImageY:b,drawImageW:w,drawImageH:S,originX:c,originY:d,declutterBox:{minX:$v[0],minY:$v[1],maxX:$v[2],maxY:$v[3],value:C},canvasTransform:M,scale:f}}replayImageOrLabel_(t,n,i,r,o,s,a){let l=!!(s||a),c=r.declutterBox,d=a?a[2]*r.scale[0]/2:0;return c.minX-d<=n[0]&&c.maxX+d>=0&&c.minY-d<=n[1]&&c.maxY+d>=0&&(l&&this.replayTextBackground_(t,Ff,eh,th,kf,s,a),zX(t,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){let n=this.alignAndScaleFill_;if(n){let i=xr(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(i[0]%r,i[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,i,r){let o=this.textStates[n],s=this.createLabel(t,n,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=u6(Array.isArray(t)?t[0]:t,o.textAlign||Ef),d=ew[o.textBaseline||_g],u=a&&a.lineWidth?a.lineWidth:0,f=s.width/l-2*o.scale[0],p=c*f+2*(.5-c)*u,m=d*s.height/l+2*(.5-d)*u;return{label:s,anchorX:p,anchorY:m}}execute_(t,n,i,r,o,s,a,l){let c=this.zIndexContext_,d;this.pixelCoordinates_&&ws(i,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=Ra(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),yK(this.renderedTransform_,i));let u=0,f=r.length,p=0,m,v,C,y,b,w,S,D,R,T,k,M,B,L=0,V=0,ee=this.coordinateCache_,re=this.viewRotation_,se=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,ge={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:re},fe=this.instructions!=r||this.overlaps?0:200,Ee,te,oe,J;for(;u<f;){let A=r[u];switch(A[0]){case Nt.BEGIN_GEOMETRY:Ee=A[1],J=A[3],Ee.getGeometry()?a!==void 0&&!Cr(a,J.getExtent())?u=A[2]+1:++u:u=A[2],c&&(c.zIndex=A[4]);break;case Nt.BEGIN_PATH:L>fe&&(this.fill_(t),L=0),V>fe&&(t.stroke(),V=0),!L&&!V&&(t.beginPath(),b=NaN,w=NaN),++u;break;case Nt.CIRCLE:p=A[1];let K=d[p],Q=d[p+1],ce=d[p+2],Me=d[p+3],ze=ce-K,Ve=Me-Q,ye=Math.sqrt(ze*ze+Ve*Ve);t.moveTo(K+ye,Q),t.arc(K,Q,ye,0,2*Math.PI,!0),++u;break;case Nt.CLOSE_PATH:t.closePath(),++u;break;case Nt.CUSTOM:p=A[1],m=A[2];let vt=A[3],q=A[4],Vt=A[5];ge.geometry=vt,ge.feature=Ee,u in ee||(ee[u]=[]);let St=ee[u];Vt?Vt(d,p,m,2,St):(St[0]=d[p],St[1]=d[p+1],St.length=2),c&&(c.zIndex=A[6]),q(St,ge),++u;break;case Nt.DRAW_IMAGE:p=A[1],m=A[2],R=A[3],v=A[4],C=A[5];let _t=A[6],wt=A[7],Ze=A[8],gt=A[9],Ht=A[10],xn=A[11],$n=A[12],ur=A[13];y=A[14]||"declutter";let Tn=A[15];if(!R&&A.length>=20){T=A[19],k=A[20],M=A[21],B=A[22];let Er=this.drawLabelWithPointPlacement_(T,k,M,B);R=Er.label,A[3]=R;let ds=A[23];v=(Er.anchorX-ds)*this.pixelRatio,A[4]=v;let Dr=A[24];C=(Er.anchorY-Dr)*this.pixelRatio,A[5]=C,_t=R.height,A[6]=_t,ur=R.width,A[13]=ur}let ei;A.length>25&&(ei=A[25]);let Ei,Zt,qn;A.length>17?(Ei=A[16],Zt=A[17],qn=A[18]):(Ei=Xu,Zt=null,qn=null),Ht&&se?xn+=re:!Ht&&!se&&(xn-=re);let Pi=0;for(;p<m;p+=2){if(ei&&ei[Pi++]<ur/this.pixelRatio)continue;let Er=this.calculateImageOrLabelDimensions_(R.width,R.height,d[p],d[p+1],ur,_t,v,C,Ze,gt,xn,$n,o,Ei,!!Zt||!!qn,Ee),ds=[t,n,R,Er,wt,Zt,qn];if(l){let Dr,fo,hr;if(Tn){let Vn=m-p;if(!Tn[Vn]){Tn[Vn]={args:ds,declutterMode:y};continue}let fr=Tn[Vn];Dr=fr.args,fo=fr.declutterMode,delete Tn[Vn],hr=pZ(Dr)}let Di,$i;if(Dr&&(fo!=="declutter"||!l.collides(hr))&&(Di=!0),(y!=="declutter"||!l.collides(Er.declutterBox))&&($i=!0),fo==="declutter"&&y==="declutter"){let Vn=Di&&$i;Di=Vn,$i=Vn}Di&&(fo!=="none"&&l.insert(hr),this.replayImageOrLabel_.apply(this,Dr)),$i&&(y!=="none"&&l.insert(Er.declutterBox),this.replayImageOrLabel_.apply(this,ds))}else this.replayImageOrLabel_.apply(this,ds)}++u;break;case Nt.DRAW_CHARS:let li=A[1],Ie=A[2],de=A[3],me=A[4];B=A[5];let Je=A[6],Mt=A[7],ln=A[8];M=A[9];let Qi=A[10];T=A[11],Array.isArray(T)&&(T=T.reduce(DEe,"")),k=A[12];let Hs=[A[13],A[13]];y=A[14]||"declutter";let ho=A[15],Oi=this.textStates[k],ji=Oi.font,Ji=[Oi.scale[0]*Mt,Oi.scale[1]*Mt],Ga;ji in this.widths_?Ga=this.widths_[ji]:(Ga={},this.widths_[ji]=Ga);let Ro=LY(d,li,Ie,2),rc=Math.abs(Ji[0])*j4(ji,T,Ga);if(me||rc<=Ro){let Er=this.textStates[k].textAlign,ds=(Ro-rc)*u6(T,Er),Dr=hZ(d,li,Ie,2,T,ds,Je,Math.abs(Ji[0]),j4,ji,Ga,se?0:this.viewRotation_,ho);e:if(Dr){let fo=[],hr,Di,$i,Vn,fr;if(M)for(hr=0,Di=Dr.length;hr<Di;++hr){fr=Dr[hr],$i=fr[4],Vn=this.createLabel($i,k,"",M),v=fr[2]+(Ji[0]<0?-Qi:Qi),C=de*Vn.height+(.5-de)*2*Qi*Ji[1]/Ji[0]-ln;let us=this.calculateImageOrLabelDimensions_(Vn.width,Vn.height,fr[0],fr[1],Vn.width,Vn.height,v,C,0,0,fr[3],Hs,!1,Xu,!1,Ee);if(l&&y==="declutter"&&l.collides(us.declutterBox))break e;fo.push([t,n,Vn,us,1,null,null])}if(B)for(hr=0,Di=Dr.length;hr<Di;++hr){fr=Dr[hr],$i=fr[4],Vn=this.createLabel($i,k,B,""),v=fr[2],C=de*Vn.height-ln;let us=this.calculateImageOrLabelDimensions_(Vn.width,Vn.height,fr[0],fr[1],Vn.width,Vn.height,v,C,0,0,fr[3],Hs,!1,Xu,!1,Ee);if(l&&y==="declutter"&&l.collides(us.declutterBox))break e;fo.push([t,n,Vn,us,1,null,null])}l&&y!=="none"&&l.load(fo.map(pZ));for(let us=0,dp=fo.length;us<dp;++us)this.replayImageOrLabel_.apply(this,fo[us])}}++u;break;case Nt.END_GEOMETRY:if(s!==void 0){Ee=A[1];let Er=s(Ee,J,y);if(Er)return Er}++u;break;case Nt.FILL:fe?L++:this.fill_(t),++u;break;case Nt.MOVE_TO_LINE_TO:for(p=A[1],m=A[2],te=d[p],oe=d[p+1],t.moveTo(te,oe),b=te+.5|0,w=oe+.5|0,p+=2;p<m;p+=2)te=d[p],oe=d[p+1],S=te+.5|0,D=oe+.5|0,(p==m-2||S!==b||D!==w)&&(t.lineTo(te,oe),b=S,w=D);++u;break;case Nt.SET_FILL_STYLE:this.alignAndScaleFill_=A[2],L&&(this.fill_(t),L=0,V&&(t.stroke(),V=0)),t.fillStyle=A[1],++u;break;case Nt.SET_STROKE_STYLE:V&&(t.stroke(),V=0),this.setStrokeStyle_(t,A),++u;break;case Nt.STROKE:fe?V++:t.stroke(),++u;break;default:++u;break}}L&&this.fill_(t),V&&t.stroke()}execute(t,n,i,r,o,s){this.viewRotation_=r,this.execute_(t,n,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(t,n,i,r,o){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}},mZ=h6});function REe(e){if(f6[e]!==void 0)return f6[e];let t=e*2+1,n=e*e,i=new Array(n+1);for(let o=0;o<=e;++o)for(let s=0;s<=e;++s){let a=o*o+s*s;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((e+o)*t+(e+s))*4+3),o>0&&l.push(((e-o)*t+(e+s))*4+3),s>0&&(l.push(((e+o)*t+(e-s))*4+3),o>0&&l.push(((e-o)*t+(e-s))*4+3))}let r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return f6[e]=r,r}var Ig,g6,CZ,p6,f6,yZ,xZ=Be(()=>{"use strict";Zr();Lo();zn();Cf();wc();Sc();vZ();Ig=["Polygon","Circle","LineString","Image","Text","Default"],g6=["Image","Text"],CZ=Ig.filter(e=>!g6.includes(e)),p6=class{constructor(t,n,i,r,o,s,a){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Oo(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(t,n){let i=this.getClipCoords(n);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,n){for(let i in t){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let o=t[i];for(let s in o){let a=o[s];r[s]=new mZ(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(t){for(let n in this.executorsByZIndex_){let i=this.executorsByZIndex_[n];for(let r=0,o=t.length;r<o;++r)if(t[r]in i)return!0}return!1}forEachFeatureAtCoordinate(t,n,i,r,o,s){r=Math.round(r);let a=r*2+1,l=ts(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-t[0],-t[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=_i(a,a));let d=this.hitDetectionContext_;d.canvas.width!==a||d.canvas.height!==a?(d.canvas.width=a,d.canvas.height=a):c||d.clearRect(0,0,a,a);let u;this.renderBuffer_!==void 0&&(u=Yr(),dg(u,t),iv(u,n*(this.renderBuffer_+r),u));let f=REe(r),p;function m(D,R,T){let k=d.getImageData(0,0,a,a).data;for(let M=0,B=f.length;M<B;M++)if(k[f[M]]>0){if(!s||T==="none"||p!=="Image"&&p!=="Text"||s.includes(D)){let L=(f[M]-3)/4,V=r-L%a,ee=r-(L/a|0),re=o(D,R,V*V+ee*ee);if(re)return re}d.clearRect(0,0,a,a);break}}let v=Object.keys(this.executorsByZIndex_).map(Number);v.sort(Ea);let C,y,b,w,S;for(C=v.length-1;C>=0;--C){let D=v[C].toString();for(b=this.executorsByZIndex_[D],y=Ig.length-1;y>=0;--y)if(p=Ig[y],w=b[p],w!==void 0&&(S=w.executeHitDetection(d,l,i,m,u),S))return S}}getClipCoords(t){let n=this.maxExtent_;if(!n)return null;let i=n[0],r=n[1],o=n[2],s=n[3],a=[i,r,i,s,o,s,o,r];return Ra(a,0,8,2,t,a),a}isEmpty(){return bc(this.executorsByZIndex_)}execute(t,n,i,r,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?Yq:Ea),s=s||Ig;let c=Ig.length;for(let d=0,u=l.length;d<u;++d){let f=l[d].toString(),p=this.executorsByZIndex_[f];for(let m=0,v=s.length;m<v;++m){let C=s[m],y=p[C];if(y!==void 0){let b=a===null?void 0:y.getZIndexContext(),w=b?b.getContext():t,S=this.maxExtent_&&C!=="Image"&&C!=="Text";if(S&&(w.save(),this.clip(w,i)),!b||C==="Text"||C==="Image"?y.execute(w,n,i,r,o,a):b.pushFunction(D=>y.execute(D,n,i,r,o,a)),S&&w.restore(),b){b.offset();let D=l[d]*c+m;this.deferredZIndexContexts_[D]||(this.deferredZIndexContexts_[D]=[]),this.deferredZIndexContexts_[D].push(b)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Ea);for(let i=0,r=n.length;i<r;++i)t[n[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[i]].length=0}},f6={};yZ=p6});var m6=Be(()=>{"use strict";Nv();Wb();jb();Bv();hR()});function bZ(e,t,n,i,r,o,s,a,l){let c=l?Gu(r,l):r,d=e[0]*kc,u=e[1]*kc,f=_i(d,u);f.imageSmoothingEnabled=!1;let p=f.canvas,m=new BY(f,kc,r,null,s,a,l?Ml(yd(),l):null),v=n.length,C=Math.floor((256*256*256-1)/v),y={};for(let w=1;w<=v;++w){let S=n[w-1],D=S.getStyleFunction()||i;if(!D)continue;let R=D(S,o);if(!R)continue;Array.isArray(R)||(R=[R]);let k=(w*C).toString(16).padStart(7,"#00000");for(let M=0,B=R.length;M<B;++M){let L=R[M],V=L.getGeometryFunction()(S);if(!V||!Cr(c,V.getExtent()))continue;let ee=L.clone(),re=ee.getFill();re&&re.setColor(k);let se=ee.getStroke();se&&(se.setColor(k),se.setLineDash(null)),ee.setText(void 0);let ge=L.getImage();if(ge){let oe=ge.getImageSize();if(!oe)continue;let J=_i(oe[0],oe[1],void 0,{alpha:!1}),A=J.canvas;J.fillStyle=k,J.fillRect(0,0,A.width,A.height),ee.setImage(new Ic({img:A,anchor:ge.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ge.getOrigin(),opacity:1,size:ge.getSize(),scale:ge.getScale(),rotation:ge.getRotation(),rotateWithView:ge.getRotateWithView()}))}let fe=ee.getZIndex()||0,Ee=y[fe];Ee||(Ee={},y[fe]=Ee,Ee.Polygon=[],Ee.Circle=[],Ee.LineString=[],Ee.Point=[]);let te=V.getType();if(te==="GeometryCollection"){let oe=V.getGeometriesArrayRecursive();for(let J=0,A=oe.length;J<A;++J){let ae=oe[J];Ee[ae.getType().replace("Multi","")].push(ae,ee)}}else Ee[te.replace("Multi","")].push(V,ee)}}let b=Object.keys(y).map(Number).sort(Ea);for(let w=0,S=b.length;w<S;++w){let D=y[b[w]];for(let R in D){let T=D[R];for(let k=0,M=T.length;k<M;k+=2){m.setStyle(T[k+1]);for(let B=0,L=t.length;B<L;++B)m.setTransform(t[B]),m.drawGeometry(T[k])}}}return f.getImageData(0,0,p.width,p.height)}function wZ(e,t,n){let i=[];if(n){let r=Math.floor(Math.round(e[0])*kc),o=Math.floor(Math.round(e[1])*kc),s=(Yn(r,0,n.width-1)+Yn(o,0,n.height-1)*n.width)*4,a=n.data[s],l=n.data[s+1],d=n.data[s+2]+256*(l+256*a),u=Math.floor((256*256*256-1)/t.length);d&&d%u===0&&i.push(t[d/u-1])}return i}var kc,_Z=Be(()=>{"use strict";Zr();Lo();zn();lr();Ar();m6();VY();kc=.5});var v6,SZ,EZ=Be(()=>{"use strict";PD();Zr();Bu();Lo();zn();Ar();Iv();uZ();xZ();_Z();cr();UY();TN();v6=class extends DR{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Yr(),this.wrappedRenderedExtent_=Yr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,i){let r=n.extent,o=n.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,d=l.getExtent(),u=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),p=n.pixelRatio,m=n.viewHints,v=!(m[bo.ANIMATING]||m[bo.INTERACTING]),C=this.context,y=Math.round(mn(r)/a*p),b=Math.round(ar(r)/a*p),w=u.getWrapX()&&l.canWrapX(),S=w?mn(d):null,D=w?Math.ceil((r[2]-d[2])/S)+1:1,R=w?Math.floor((r[0]-d[0])/S):0;do{let T=this.getRenderTransform(s,a,0,p,y,b,R*S);n.declutter&&(T=T.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],T,c,v,i===void 0?Ig:i?g6:CZ,i?f&&n.declutter[f]:void 0)}while(++R<D)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=_i(this.context.canvas.width,this.context.canvas.height,RN))}resetDrawContext_(){if(this.opacity_!==1){let t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,vg(this.context),RN.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){let i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;let r=t.viewState;this.prepareContainer(t,n);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(ns.PRERENDER)||this.getLayer().hasListener(ns.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,t);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=tl(i.extent,l);a=Cr(c,t.extent),this.clipped_=a&&!Ou(c,t.extent),this.clipped_&&this.clipUnrotated(o,t,c)}return a&&this.renderWorlds(s,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),d=[],u=i[0]*kc,f=i[1]*kc;d.push(this.getRenderTransform(r,o,s,kc,u,f,0).slice());let p=c.getSource(),m=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!Ou(m,l)){let C=l[0],y=mn(m),b=0,w;for(;C<m[0];)--b,w=y*b,d.push(this.getRenderTransform(r,o,s,kc,u,f,w).slice()),C+=y;for(b=0,C=l[2];C>m[2];)++b,w=y*b,d.push(this.getRenderTransform(r,o,s,kc,u,f,w).slice()),C-=y}let v=yd();this.hitDetectionImageData_=bZ(i,d,this.renderedFeatures_,c.getStyleFunction(),l,o,s,KN(o,this.renderedPixelRatio_),v?a:null)}n(wZ(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,i,r,o){if(!this.replayGroup_)return;let s=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),c={},d=function(f,p,m){let v=qt(f),C=c[v];if(C){if(C!==!0&&m<C.distanceSq){if(m===0)return c[v]=!0,o.splice(o.lastIndexOf(C),1),r(f,l,p);C.geometry=p,C.distanceSq=m}}else{if(m===0)return c[v]=!0,r(f,l,p);o.push(c[v]={feature:f,layer:l,geometry:p,distanceSq:m,callback:r})}},u=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,d,u?n.declutter?.[u]?.all().map(f=>f.value):null)}handleFontsChanged(){let t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){let n=this.getLayer(),i=n.getSource();if(!i)return!1;let r=t.viewHints[bo.ANIMATING],o=t.viewHints[bo.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=t.extent,c=t.viewState,d=c.projection,u=c.resolution,f=t.pixelRatio,p=n.getRevision(),m=n.getRenderBuffer(),v=n.getRenderOrder();v===void 0&&(v=GY);let C=c.center.slice(),y=iv(l,m*u),b=y.slice(),w=[y.slice()],S=d.getExtent();if(i.getWrapX()&&d.canWrapX()&&!Ou(S,t.extent)){let se=mn(S),ge=Math.max(mn(y)/2,se);y[0]=S[0]-ge,y[2]=S[2]+ge,dv(C,d);let fe=VO(w[0],d);fe[0]<S[0]&&fe[2]<S[2]?w.push([fe[0]+se,fe[1],fe[2]+se,fe[3]]):fe[0]>S[0]&&fe[2]>S[2]&&w.push([fe[0]-se,fe[1],fe[2]-se,fe[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&this.renderedFrameDeclutter_===!!t.declutter&&Ou(this.wrappedRenderedExtent_,y))return ws(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let D=new dZ(XN(u,f),y,u,f),R=yd(),T;if(R){for(let se=0,ge=w.length;se<ge;++se){let fe=w[se],Ee=Gu(fe,d);i.loadFeatures(Ee,eL(u,d),R)}T=Ml(R,d)}else for(let se=0,ge=w.length;se<ge;++se)i.loadFeatures(w[se],u,d);let k=KN(u,f),M=!0,B=(se,ge)=>{let fe,Ee=se.getStyleFunction()||n.getStyleFunction();if(Ee&&(fe=Ee(se,u)),fe){let te=this.renderFeature(se,k,fe,D,T,this.getLayer().getDeclutter(),ge);M=M&&!te}},L=Gu(y,d),V=i.getFeaturesInExtent(L);v&&V.sort(v);for(let se=0,ge=V.length;se<ge;++se)B(V[se],se);this.renderedFeatures_=V,this.ready=M;let ee=D.finish(),re=new yZ(y,u,f,i.getOverlaps(),ee,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=u,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=b,this.wrappedRenderedExtent_=y,this.renderedCenter_=C,this.renderedProjection_=d,this.renderedPixelRatio_=f,this.replayGroup_=re,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,i,r,o,s,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,d=i.length;c<d;++c)l=YN(r,t,i[c],n,this.boundHandleStyleImageChange_,o,s,a)||l;else l=YN(r,t,i,n,this.boundHandleStyleImageChange_,o,s,a);return l}},SZ=v6});var DZ={};kh(DZ,{default:()=>Fg});var C6,Fg,LR=Be(()=>{"use strict";EZ();lN();C6=class extends vR{constructor(t){super(t)}createRenderer(){return new SZ(this)}},Fg=C6});var NR=Fn((Kv,tw)=>{"use strict";(function(){var e,t="4.17.21",n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",c=1,d=2,u=4,f=1,p=2,m=1,v=2,C=4,y=8,b=16,w=32,S=64,D=128,R=256,T=512,k=30,M="...",B=800,L=16,V=1,ee=2,re=3,se=1/0,ge=9007199254740991,fe=17976931348623157e292,Ee=NaN,te=4294967295,oe=te-1,J=te>>>1,A=[["ary",D],["bind",m],["bindKey",v],["curry",y],["curryRight",b],["flip",T],["partial",w],["partialRight",S],["rearg",R]],ae="[object Arguments]",K="[object Array]",Q="[object AsyncFunction]",ce="[object Boolean]",Me="[object Date]",ze="[object DOMException]",Ve="[object Error]",ye="[object Function]",vt="[object GeneratorFunction]",q="[object Map]",Vt="[object Number]",St="[object Null]",_t="[object Object]",wt="[object Promise]",Ze="[object Proxy]",gt="[object RegExp]",Ht="[object Set]",xn="[object String]",$n="[object Symbol]",ur="[object Undefined]",Tn="[object WeakMap]",ei="[object WeakSet]",Ei="[object ArrayBuffer]",Zt="[object DataView]",qn="[object Float32Array]",Pi="[object Float64Array]",li="[object Int8Array]",Ie="[object Int16Array]",de="[object Int32Array]",me="[object Uint8Array]",Je="[object Uint8ClampedArray]",Mt="[object Uint16Array]",ln="[object Uint32Array]",Qi=/\b__p \+= '';/g,Hs=/\b(__p \+=) '' \+/g,ho=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Oi=/&(?:amp|lt|gt|quot|#39);/g,ji=/[&<>"']/g,Ji=RegExp(Oi.source),Ga=RegExp(ji.source),Ro=/<%-([\s\S]+?)%>/g,rc=/<%([\s\S]+?)%>/g,Er=/<%=([\s\S]+?)%>/g,ds=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dr=/^\w*$/,fo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hr=/[\\^$.*+?()[\]{}|]/g,Di=RegExp(hr.source),$i=/^\s+/,Vn=/\s/,fr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,us=/\{\n\/\* \[wrapped with (.+)\] \*/,dp=/,? & /,N=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X=/[()=,{}\[\]\/\s]/,U=/\\(\\)?/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Y=/\w*$/,Z=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,Fe=/^\[object .+?Constructor\]$/,xe=/^0o[0-7]+$/i,Ce=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,et=/['\n\r\u2028\u2029\\]/g,mt="\\ud800-\\udfff",tt="\\u0300-\\u036f",at="\\ufe20-\\ufe2f",Wt="\\u20d0-\\u20ff",yi=tt+at+Wt,po="\\u2700-\\u27bf",er="a-z\\xdf-\\xf6\\xf8-\\xff",Wo="\\xac\\xb1\\xd7\\xf7",Jd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jo="\\u2000-\\u206f",fl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",la="A-Z\\xc0-\\xd6\\xd8-\\xde",hs="\\ufe0e\\ufe0f",R_=Wo+Jd+jo+fl,KC="['\u2019]",HF="["+mt+"]",T_="["+R_+"]",xh="["+yi+"]",I_="\\d+",GF="["+po+"]",XC="["+er+"]",up="[^"+mt+R_+I_+po+er+la+"]",eu="\\ud83c[\\udffb-\\udfff]",zF="(?:"+xh+"|"+eu+")",bh="[^"+mt+"]",YC="(?:\\ud83c[\\udde6-\\uddff]){2}",ZC="[\\ud800-\\udbff][\\udc00-\\udfff]",wh="["+la+"]",F_="\\u200d",k_="(?:"+XC+"|"+up+")",UF="(?:"+wh+"|"+up+")",A_="(?:"+KC+"(?:d|ll|m|re|s|t|ve))?",QC="(?:"+KC+"(?:D|LL|M|RE|S|T|VE))?",Hc=zF+"?",M_="["+hs+"]?",WF="(?:"+F_+"(?:"+[bh,YC,ZC].join("|")+")"+M_+Hc+")*",jF="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$F="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",JC=M_+Hc+WF,qF="(?:"+[GF,YC,ZC].join("|")+")"+JC,P_="(?:"+[bh+xh+"?",xh,YC,ZC,HF].join("|")+")",KF=RegExp(KC,"g"),XF=RegExp(xh,"g"),ey=RegExp(eu+"(?="+eu+")|"+P_+JC,"g"),YF=RegExp([wh+"?"+XC+"+"+A_+"(?="+[T_,wh,"$"].join("|")+")",UF+"+"+QC+"(?="+[T_,wh+k_,"$"].join("|")+")",wh+"?"+k_+"+"+A_,wh+"+"+QC,$F,jF,I_,qF].join("|"),"g"),ZF=RegExp("["+F_+mt+yi+hs+"]"),QF=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,JF=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ek=-1,Bi={};Bi[qn]=Bi[Pi]=Bi[li]=Bi[Ie]=Bi[de]=Bi[me]=Bi[Je]=Bi[Mt]=Bi[ln]=!0,Bi[ae]=Bi[K]=Bi[Ei]=Bi[ce]=Bi[Zt]=Bi[Me]=Bi[Ve]=Bi[ye]=Bi[q]=Bi[Vt]=Bi[_t]=Bi[gt]=Bi[Ht]=Bi[xn]=Bi[Tn]=!1;var Ri={};Ri[ae]=Ri[K]=Ri[Ei]=Ri[Zt]=Ri[ce]=Ri[Me]=Ri[qn]=Ri[Pi]=Ri[li]=Ri[Ie]=Ri[de]=Ri[q]=Ri[Vt]=Ri[_t]=Ri[gt]=Ri[Ht]=Ri[xn]=Ri[$n]=Ri[me]=Ri[Je]=Ri[Mt]=Ri[ln]=!0,Ri[Ve]=Ri[ye]=Ri[Tn]=!1;var tk={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},nk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},un={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},O_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xm=parseFloat,ik=parseInt,L_=typeof global=="object"&&global&&global.Object===Object&&global,N_=typeof self=="object"&&self&&self.Object===Object&&self,no=L_||N_||Function("return this")(),ty=typeof Kv=="object"&&Kv&&!Kv.nodeType&&Kv,tu=ty&&typeof tw=="object"&&tw&&!tw.nodeType&&tw,B_=tu&&tu.exports===ty,ny=B_&&L_.process,za=function(){try{var ue=tu&&tu.require&&tu.require("util").types;return ue||ny&&ny.binding&&ny.binding("util")}catch{}}(),V_=za&&za.isArrayBuffer,H_=za&&za.isDate,rk=za&&za.isMap,G_=za&&za.isRegExp,z_=za&&za.isSet,U_=za&&za.isTypedArray;function Gs(ue,Pe,De){switch(De.length){case 0:return ue.call(Pe);case 1:return ue.call(Pe,De[0]);case 2:return ue.call(Pe,De[0],De[1]);case 3:return ue.call(Pe,De[0],De[1],De[2])}return ue.apply(Pe,De)}function ok(ue,Pe,De,yt){for(var hn=-1,di=ue==null?0:ue.length;++hn<di;){var go=ue[hn];Pe(yt,go,De(go),ue)}return yt}function ca(ue,Pe){for(var De=-1,yt=ue==null?0:ue.length;++De<yt&&Pe(ue[De],De,ue)!==!1;);return ue}function sk(ue,Pe){for(var De=ue==null?0:ue.length;De--&&Pe(ue[De],De,ue)!==!1;);return ue}function W_(ue,Pe){for(var De=-1,yt=ue==null?0:ue.length;++De<yt;)if(!Pe(ue[De],De,ue))return!1;return!0}function Gc(ue,Pe){for(var De=-1,yt=ue==null?0:ue.length,hn=0,di=[];++De<yt;){var go=ue[De];Pe(go,De,ue)&&(di[hn++]=go)}return di}function bm(ue,Pe){var De=ue==null?0:ue.length;return!!De&&W(ue,Pe,0)>-1}function iy(ue,Pe,De){for(var yt=-1,hn=ue==null?0:ue.length;++yt<hn;)if(De(Pe,ue[yt]))return!0;return!1}function qi(ue,Pe){for(var De=-1,yt=ue==null?0:ue.length,hn=Array(yt);++De<yt;)hn[De]=Pe(ue[De],De,ue);return hn}function zc(ue,Pe){for(var De=-1,yt=Pe.length,hn=ue.length;++De<yt;)ue[hn+De]=Pe[De];return ue}function ry(ue,Pe,De,yt){var hn=-1,di=ue==null?0:ue.length;for(yt&&di&&(De=ue[++hn]);++hn<di;)De=Pe(De,ue[hn],hn,ue);return De}function ak(ue,Pe,De,yt){var hn=ue==null?0:ue.length;for(yt&&hn&&(De=ue[--hn]);hn--;)De=Pe(De,ue[hn],hn,ue);return De}function Gr(ue,Pe){for(var De=-1,yt=ue==null?0:ue.length;++De<yt;)if(Pe(ue[De],De,ue))return!0;return!1}var oy=xt("length");function lk(ue){return ue.split("")}function F(ue){return ue.match(N)||[]}function _(ue,Pe,De){var yt;return De(ue,function(hn,di,go){if(Pe(hn,di,go))return yt=di,!1}),yt}function I(ue,Pe,De,yt){for(var hn=ue.length,di=De+(yt?1:-1);yt?di--:++di<hn;)if(Pe(ue[di],di,ue))return di;return-1}function W(ue,Pe,De){return Pe===Pe?oae(ue,Pe,De):I(ue,Oe,De)}function ne(ue,Pe,De,yt){for(var hn=De-1,di=ue.length;++hn<di;)if(yt(ue[hn],Pe))return hn;return-1}function Oe(ue){return ue!==ue}function nt(ue,Pe){var De=ue==null?0:ue.length;return De?sr(ue,Pe)/De:Ee}function xt(ue){return function(Pe){return Pe==null?e:Pe[ue]}}function en(ue){return function(Pe){return ue==null?e:ue[Pe]}}function Kn(ue,Pe,De,yt,hn){return hn(ue,function(di,go,Vi){De=yt?(yt=!1,di):Pe(De,di,go,Vi)}),De}function ci(ue,Pe){var De=ue.length;for(ue.sort(Pe);De--;)ue[De]=ue[De].value;return ue}function sr(ue,Pe){for(var De,yt=-1,hn=ue.length;++yt<hn;){var di=Pe(ue[yt]);di!==e&&(De=De===e?di:De+di)}return De}function _h(ue,Pe){for(var De=-1,yt=Array(ue);++De<ue;)yt[De]=Pe(De);return yt}function ck(ue,Pe){return qi(Pe,function(De){return[De,ue[De]]})}function sy(ue){return ue&&ue.slice(0,c7(ue)+1).replace($i,"")}function zs(ue){return function(Pe){return ue(Pe)}}function wm(ue,Pe){return qi(Pe,function(De){return ue[De]})}function hp(ue,Pe){return ue.has(Pe)}function ay(ue,Pe){for(var De=-1,yt=ue.length;++De<yt&&W(Pe,ue[De],0)>-1;);return De}function j_(ue,Pe){for(var De=ue.length;De--&&W(Pe,ue[De],0)>-1;);return De}function dk(ue,Pe){for(var De=ue.length,yt=0;De--;)ue[De]===Pe&&++yt;return yt}var $_=en(tk),q_=en(nk);function K_(ue){return"\\"+O_[ue]}function ly(ue,Pe){return ue==null?e:ue[Pe]}function Uc(ue){return ZF.test(ue)}function X_(ue){return QF.test(ue)}function uk(ue){for(var Pe,De=[];!(Pe=ue.next()).done;)De.push(Pe.value);return De}function cy(ue){var Pe=-1,De=Array(ue.size);return ue.forEach(function(yt,hn){De[++Pe]=[hn,yt]}),De}function Y_(ue,Pe){return function(De){return ue(Pe(De))}}function Wc(ue,Pe){for(var De=-1,yt=ue.length,hn=0,di=[];++De<yt;){var go=ue[De];(go===Pe||go===l)&&(ue[De]=l,di[hn++]=De)}return di}function fp(ue){var Pe=-1,De=Array(ue.size);return ue.forEach(function(yt){De[++Pe]=yt}),De}function rae(ue){var Pe=-1,De=Array(ue.size);return ue.forEach(function(yt){De[++Pe]=[yt,yt]}),De}function oae(ue,Pe,De){for(var yt=De-1,hn=ue.length;++yt<hn;)if(ue[yt]===Pe)return yt;return-1}function sae(ue,Pe,De){for(var yt=De+1;yt--;)if(ue[yt]===Pe)return yt;return yt}function _m(ue){return Uc(ue)?lae(ue):oy(ue)}function oc(ue){return Uc(ue)?cae(ue):lk(ue)}function c7(ue){for(var Pe=ue.length;Pe--&&Vn.test(ue.charAt(Pe)););return Pe}var aae=en(un);function lae(ue){for(var Pe=ey.lastIndex=0;ey.test(ue);)++Pe;return Pe}function cae(ue){return ue.match(ey)||[]}function dae(ue){return ue.match(YF)||[]}var uae=function ue(Pe){Pe=Pe==null?no:Sh.defaults(no.Object(),Pe,Sh.pick(no,JF));var De=Pe.Array,yt=Pe.Date,hn=Pe.Error,di=Pe.Function,go=Pe.Math,Vi=Pe.Object,hk=Pe.RegExp,hae=Pe.String,pl=Pe.TypeError,Z_=De.prototype,fae=di.prototype,Sm=Vi.prototype,Q_=Pe["__core-js_shared__"],J_=fae.toString,Ti=Sm.hasOwnProperty,pae=0,d7=function(){var h=/[^.]+$/.exec(Q_&&Q_.keys&&Q_.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),e1=Sm.toString,gae=J_.call(Vi),mae=no._,vae=hk("^"+J_.call(Ti).replace(hr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),t1=B_?Pe.Buffer:e,Eh=Pe.Symbol,n1=Pe.Uint8Array,u7=t1?t1.allocUnsafe:e,i1=Y_(Vi.getPrototypeOf,Vi),h7=Vi.create,f7=Sm.propertyIsEnumerable,r1=Z_.splice,p7=Eh?Eh.isConcatSpreadable:e,dy=Eh?Eh.iterator:e,pp=Eh?Eh.toStringTag:e,o1=function(){try{var h=yp(Vi,"defineProperty");return h({},"",{}),h}catch{}}(),Cae=Pe.clearTimeout!==no.clearTimeout&&Pe.clearTimeout,yae=yt&&yt.now!==no.Date.now&&yt.now,xae=Pe.setTimeout!==no.setTimeout&&Pe.setTimeout,s1=go.ceil,a1=go.floor,fk=Vi.getOwnPropertySymbols,bae=t1?t1.isBuffer:e,g7=Pe.isFinite,wae=Z_.join,_ae=Y_(Vi.keys,Vi),mo=go.max,fs=go.min,Sae=yt.now,Eae=Pe.parseInt,m7=go.random,Dae=Z_.reverse,pk=yp(Pe,"DataView"),uy=yp(Pe,"Map"),gk=yp(Pe,"Promise"),Em=yp(Pe,"Set"),hy=yp(Pe,"WeakMap"),fy=yp(Vi,"create"),l1=hy&&new hy,Dm={},Rae=xp(pk),Tae=xp(uy),Iae=xp(gk),Fae=xp(Em),kae=xp(hy),c1=Eh?Eh.prototype:e,py=c1?c1.valueOf:e,v7=c1?c1.toString:e;function H(h){if(Rr(h)&&!fn(h)&&!(h instanceof Hn)){if(h instanceof gl)return h;if(Ti.call(h,"__wrapped__"))return CV(h)}return new gl(h)}var Rm=function(){function h(){}return function(g){if(!pr(g))return{};if(h7)return h7(g);h.prototype=g;var x=new h;return h.prototype=e,x}}();function d1(){}function gl(h,g){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=e}H.templateSettings={escape:Ro,evaluate:rc,interpolate:Er,variable:"",imports:{_:H}},H.prototype=d1.prototype,H.prototype.constructor=H,gl.prototype=Rm(d1.prototype),gl.prototype.constructor=gl;function Hn(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Aae(){var h=new Hn(this.__wrapped__);return h.__actions__=da(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=da(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=da(this.__views__),h}function Mae(){if(this.__filtered__){var h=new Hn(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function Pae(){var h=this.__wrapped__.value(),g=this.__dir__,x=fn(h),E=g<0,P=x?h.length:0,G=$le(0,P,this.__views__),ie=G.start,le=G.end,he=le-ie,Ge=E?le:ie-1,Ue=this.__iteratees__,qe=Ue.length,ht=0,Dt=fs(he,this.__takeCount__);if(!x||!E&&P==he&&Dt==he)return G7(h,this.__actions__);var jt=[];e:for(;he--&&ht<Dt;){Ge+=g;for(var In=-1,$t=h[Ge];++In<qe;){var Nn=Ue[In],Xn=Nn.iteratee,ja=Nn.type,js=Xn($t);if(ja==ee)$t=js;else if(!js){if(ja==V)continue e;break e}}jt[ht++]=$t}return jt}Hn.prototype=Rm(d1.prototype),Hn.prototype.constructor=Hn;function gp(h){var g=-1,x=h==null?0:h.length;for(this.clear();++g<x;){var E=h[g];this.set(E[0],E[1])}}function Oae(){this.__data__=fy?fy(null):{},this.size=0}function Lae(h){var g=this.has(h)&&delete this.__data__[h];return this.size-=g?1:0,g}function Nae(h){var g=this.__data__;if(fy){var x=g[h];return x===s?e:x}return Ti.call(g,h)?g[h]:e}function Bae(h){var g=this.__data__;return fy?g[h]!==e:Ti.call(g,h)}function Vae(h,g){var x=this.__data__;return this.size+=this.has(h)?0:1,x[h]=fy&&g===e?s:g,this}gp.prototype.clear=Oae,gp.prototype.delete=Lae,gp.prototype.get=Nae,gp.prototype.has=Bae,gp.prototype.set=Vae;function nu(h){var g=-1,x=h==null?0:h.length;for(this.clear();++g<x;){var E=h[g];this.set(E[0],E[1])}}function Hae(){this.__data__=[],this.size=0}function Gae(h){var g=this.__data__,x=u1(g,h);if(x<0)return!1;var E=g.length-1;return x==E?g.pop():r1.call(g,x,1),--this.size,!0}function zae(h){var g=this.__data__,x=u1(g,h);return x<0?e:g[x][1]}function Uae(h){return u1(this.__data__,h)>-1}function Wae(h,g){var x=this.__data__,E=u1(x,h);return E<0?(++this.size,x.push([h,g])):x[E][1]=g,this}nu.prototype.clear=Hae,nu.prototype.delete=Gae,nu.prototype.get=zae,nu.prototype.has=Uae,nu.prototype.set=Wae;function iu(h){var g=-1,x=h==null?0:h.length;for(this.clear();++g<x;){var E=h[g];this.set(E[0],E[1])}}function jae(){this.size=0,this.__data__={hash:new gp,map:new(uy||nu),string:new gp}}function $ae(h){var g=_1(this,h).delete(h);return this.size-=g?1:0,g}function qae(h){return _1(this,h).get(h)}function Kae(h){return _1(this,h).has(h)}function Xae(h,g){var x=_1(this,h),E=x.size;return x.set(h,g),this.size+=x.size==E?0:1,this}iu.prototype.clear=jae,iu.prototype.delete=$ae,iu.prototype.get=qae,iu.prototype.has=Kae,iu.prototype.set=Xae;function mp(h){var g=-1,x=h==null?0:h.length;for(this.__data__=new iu;++g<x;)this.add(h[g])}function Yae(h){return this.__data__.set(h,s),this}function Zae(h){return this.__data__.has(h)}mp.prototype.add=mp.prototype.push=Yae,mp.prototype.has=Zae;function sc(h){var g=this.__data__=new nu(h);this.size=g.size}function Qae(){this.__data__=new nu,this.size=0}function Jae(h){var g=this.__data__,x=g.delete(h);return this.size=g.size,x}function ele(h){return this.__data__.get(h)}function tle(h){return this.__data__.has(h)}function nle(h,g){var x=this.__data__;if(x instanceof nu){var E=x.__data__;if(!uy||E.length<n-1)return E.push([h,g]),this.size=++x.size,this;x=this.__data__=new iu(E)}return x.set(h,g),this.size=x.size,this}sc.prototype.clear=Qae,sc.prototype.delete=Jae,sc.prototype.get=ele,sc.prototype.has=tle,sc.prototype.set=nle;function C7(h,g){var x=fn(h),E=!x&&bp(h),P=!x&&!E&&Fh(h),G=!x&&!E&&!P&&km(h),ie=x||E||P||G,le=ie?_h(h.length,hae):[],he=le.length;for(var Ge in h)(g||Ti.call(h,Ge))&&!(ie&&(Ge=="length"||P&&(Ge=="offset"||Ge=="parent")||G&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||au(Ge,he)))&&le.push(Ge);return le}function y7(h){var g=h.length;return g?h[Dk(0,g-1)]:e}function ile(h,g){return S1(da(h),vp(g,0,h.length))}function rle(h){return S1(da(h))}function mk(h,g,x){(x!==e&&!ac(h[g],x)||x===e&&!(g in h))&&ru(h,g,x)}function gy(h,g,x){var E=h[g];(!(Ti.call(h,g)&&ac(E,x))||x===e&&!(g in h))&&ru(h,g,x)}function u1(h,g){for(var x=h.length;x--;)if(ac(h[x][0],g))return x;return-1}function ole(h,g,x,E){return Dh(h,function(P,G,ie){g(E,P,x(P),ie)}),E}function x7(h,g){return h&&$c(g,To(g),h)}function sle(h,g){return h&&$c(g,ha(g),h)}function ru(h,g,x){g=="__proto__"&&o1?o1(h,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):h[g]=x}function vk(h,g){for(var x=-1,E=g.length,P=De(E),G=h==null;++x<E;)P[x]=G?e:Zk(h,g[x]);return P}function vp(h,g,x){return h===h&&(x!==e&&(h=h<=x?h:x),g!==e&&(h=h>=g?h:g)),h}function ml(h,g,x,E,P,G){var ie,le=g&c,he=g&d,Ge=g&u;if(x&&(ie=P?x(h,E,P,G):x(h)),ie!==e)return ie;if(!pr(h))return h;var Ue=fn(h);if(Ue){if(ie=Kle(h),!le)return da(h,ie)}else{var qe=ps(h),ht=qe==ye||qe==vt;if(Fh(h))return W7(h,le);if(qe==_t||qe==ae||ht&&!P){if(ie=he||ht?{}:cV(h),!le)return he?Nle(h,sle(ie,h)):Lle(h,x7(ie,h))}else{if(!Ri[qe])return P?h:{};ie=Xle(h,qe,le)}}G||(G=new sc);var Dt=G.get(h);if(Dt)return Dt;G.set(h,ie),BV(h)?h.forEach(function($t){ie.add(ml($t,g,x,$t,h,G))}):LV(h)&&h.forEach(function($t,Nn){ie.set(Nn,ml($t,g,x,Nn,h,G))});var jt=Ge?he?Nk:Lk:he?ha:To,In=Ue?e:jt(h);return ca(In||h,function($t,Nn){In&&(Nn=$t,$t=h[Nn]),gy(ie,Nn,ml($t,g,x,Nn,h,G))}),ie}function ale(h){var g=To(h);return function(x){return b7(x,h,g)}}function b7(h,g,x){var E=x.length;if(h==null)return!E;for(h=Vi(h);E--;){var P=x[E],G=g[P],ie=h[P];if(ie===e&&!(P in h)||!G(ie))return!1}return!0}function w7(h,g,x){if(typeof h!="function")throw new pl(r);return wy(function(){h.apply(e,x)},g)}function my(h,g,x,E){var P=-1,G=bm,ie=!0,le=h.length,he=[],Ge=g.length;if(!le)return he;x&&(g=qi(g,zs(x))),E?(G=iy,ie=!1):g.length>=n&&(G=hp,ie=!1,g=new mp(g));e:for(;++P<le;){var Ue=h[P],qe=x==null?Ue:x(Ue);if(Ue=E||Ue!==0?Ue:0,ie&&qe===qe){for(var ht=Ge;ht--;)if(g[ht]===qe)continue e;he.push(Ue)}else G(g,qe,E)||he.push(Ue)}return he}var Dh=X7(jc),_7=X7(yk,!0);function lle(h,g){var x=!0;return Dh(h,function(E,P,G){return x=!!g(E,P,G),x}),x}function h1(h,g,x){for(var E=-1,P=h.length;++E<P;){var G=h[E],ie=g(G);if(ie!=null&&(le===e?ie===ie&&!Wa(ie):x(ie,le)))var le=ie,he=G}return he}function cle(h,g,x,E){var P=h.length;for(x=bn(x),x<0&&(x=-x>P?0:P+x),E=E===e||E>P?P:bn(E),E<0&&(E+=P),E=x>E?0:HV(E);x<E;)h[x++]=g;return h}function S7(h,g){var x=[];return Dh(h,function(E,P,G){g(E,P,G)&&x.push(E)}),x}function $o(h,g,x,E,P){var G=-1,ie=h.length;for(x||(x=Zle),P||(P=[]);++G<ie;){var le=h[G];g>0&&x(le)?g>1?$o(le,g-1,x,E,P):zc(P,le):E||(P[P.length]=le)}return P}var Ck=Y7(),E7=Y7(!0);function jc(h,g){return h&&Ck(h,g,To)}function yk(h,g){return h&&E7(h,g,To)}function f1(h,g){return Gc(g,function(x){return lu(h[x])})}function Cp(h,g){g=Th(g,h);for(var x=0,E=g.length;h!=null&&x<E;)h=h[qc(g[x++])];return x&&x==E?h:e}function D7(h,g,x){var E=g(h);return fn(h)?E:zc(E,x(h))}function Us(h){return h==null?h===e?ur:St:pp&&pp in Vi(h)?jle(h):rce(h)}function xk(h,g){return h>g}function dle(h,g){return h!=null&&Ti.call(h,g)}function ule(h,g){return h!=null&&g in Vi(h)}function hle(h,g,x){return h>=fs(g,x)&&h<mo(g,x)}function bk(h,g,x){for(var E=x?iy:bm,P=h[0].length,G=h.length,ie=G,le=De(G),he=1/0,Ge=[];ie--;){var Ue=h[ie];ie&&g&&(Ue=qi(Ue,zs(g))),he=fs(Ue.length,he),le[ie]=!x&&(g||P>=120&&Ue.length>=120)?new mp(ie&&Ue):e}Ue=h[0];var qe=-1,ht=le[0];e:for(;++qe<P&&Ge.length<he;){var Dt=Ue[qe],jt=g?g(Dt):Dt;if(Dt=x||Dt!==0?Dt:0,!(ht?hp(ht,jt):E(Ge,jt,x))){for(ie=G;--ie;){var In=le[ie];if(!(In?hp(In,jt):E(h[ie],jt,x)))continue e}ht&&ht.push(jt),Ge.push(Dt)}}return Ge}function fle(h,g,x,E){return jc(h,function(P,G,ie){g(E,x(P),G,ie)}),E}function vy(h,g,x){g=Th(g,h),h=fV(h,g);var E=h==null?h:h[qc(Cl(g))];return E==null?e:Gs(E,h,x)}function R7(h){return Rr(h)&&Us(h)==ae}function ple(h){return Rr(h)&&Us(h)==Ei}function gle(h){return Rr(h)&&Us(h)==Me}function Cy(h,g,x,E,P){return h===g?!0:h==null||g==null||!Rr(h)&&!Rr(g)?h!==h&&g!==g:mle(h,g,x,E,Cy,P)}function mle(h,g,x,E,P,G){var ie=fn(h),le=fn(g),he=ie?K:ps(h),Ge=le?K:ps(g);he=he==ae?_t:he,Ge=Ge==ae?_t:Ge;var Ue=he==_t,qe=Ge==_t,ht=he==Ge;if(ht&&Fh(h)){if(!Fh(g))return!1;ie=!0,Ue=!1}if(ht&&!Ue)return G||(G=new sc),ie||km(h)?sV(h,g,x,E,P,G):Ule(h,g,he,x,E,P,G);if(!(x&f)){var Dt=Ue&&Ti.call(h,"__wrapped__"),jt=qe&&Ti.call(g,"__wrapped__");if(Dt||jt){var In=Dt?h.value():h,$t=jt?g.value():g;return G||(G=new sc),P(In,$t,x,E,G)}}return ht?(G||(G=new sc),Wle(h,g,x,E,P,G)):!1}function vle(h){return Rr(h)&&ps(h)==q}function wk(h,g,x,E){var P=x.length,G=P,ie=!E;if(h==null)return!G;for(h=Vi(h);P--;){var le=x[P];if(ie&&le[2]?le[1]!==h[le[0]]:!(le[0]in h))return!1}for(;++P<G;){le=x[P];var he=le[0],Ge=h[he],Ue=le[1];if(ie&&le[2]){if(Ge===e&&!(he in h))return!1}else{var qe=new sc;if(E)var ht=E(Ge,Ue,he,h,g,qe);if(!(ht===e?Cy(Ue,Ge,f|p,E,qe):ht))return!1}}return!0}function T7(h){if(!pr(h)||Jle(h))return!1;var g=lu(h)?vae:Fe;return g.test(xp(h))}function Cle(h){return Rr(h)&&Us(h)==gt}function yle(h){return Rr(h)&&ps(h)==Ht}function xle(h){return Rr(h)&&F1(h.length)&&!!Bi[Us(h)]}function I7(h){return typeof h=="function"?h:h==null?fa:typeof h=="object"?fn(h)?A7(h[0],h[1]):k7(h):ZV(h)}function _k(h){if(!by(h))return _ae(h);var g=[];for(var x in Vi(h))Ti.call(h,x)&&x!="constructor"&&g.push(x);return g}function ble(h){if(!pr(h))return ice(h);var g=by(h),x=[];for(var E in h)E=="constructor"&&(g||!Ti.call(h,E))||x.push(E);return x}function Sk(h,g){return h<g}function F7(h,g){var x=-1,E=ua(h)?De(h.length):[];return Dh(h,function(P,G,ie){E[++x]=g(P,G,ie)}),E}function k7(h){var g=Vk(h);return g.length==1&&g[0][2]?uV(g[0][0],g[0][1]):function(x){return x===h||wk(x,h,g)}}function A7(h,g){return Gk(h)&&dV(g)?uV(qc(h),g):function(x){var E=Zk(x,h);return E===e&&E===g?Qk(x,h):Cy(g,E,f|p)}}function p1(h,g,x,E,P){h!==g&&Ck(g,function(G,ie){if(P||(P=new sc),pr(G))wle(h,g,ie,x,p1,E,P);else{var le=E?E(Uk(h,ie),G,ie+"",h,g,P):e;le===e&&(le=G),mk(h,ie,le)}},ha)}function wle(h,g,x,E,P,G,ie){var le=Uk(h,x),he=Uk(g,x),Ge=ie.get(he);if(Ge){mk(h,x,Ge);return}var Ue=G?G(le,he,x+"",h,g,ie):e,qe=Ue===e;if(qe){var ht=fn(he),Dt=!ht&&Fh(he),jt=!ht&&!Dt&&km(he);Ue=he,ht||Dt||jt?fn(le)?Ue=le:zr(le)?Ue=da(le):Dt?(qe=!1,Ue=W7(he,!0)):jt?(qe=!1,Ue=j7(he,!0)):Ue=[]:_y(he)||bp(he)?(Ue=le,bp(le)?Ue=GV(le):(!pr(le)||lu(le))&&(Ue=cV(he))):qe=!1}qe&&(ie.set(he,Ue),P(Ue,he,E,G,ie),ie.delete(he)),mk(h,x,Ue)}function M7(h,g){var x=h.length;if(x)return g+=g<0?x:0,au(g,x)?h[g]:e}function P7(h,g,x){g.length?g=qi(g,function(G){return fn(G)?function(ie){return Cp(ie,G.length===1?G[0]:G)}:G}):g=[fa];var E=-1;g=qi(g,zs(zt()));var P=F7(h,function(G,ie,le){var he=qi(g,function(Ge){return Ge(G)});return{criteria:he,index:++E,value:G}});return ci(P,function(G,ie){return Ole(G,ie,x)})}function _le(h,g){return O7(h,g,function(x,E){return Qk(h,E)})}function O7(h,g,x){for(var E=-1,P=g.length,G={};++E<P;){var ie=g[E],le=Cp(h,ie);x(le,ie)&&yy(G,Th(ie,h),le)}return G}function Sle(h){return function(g){return Cp(g,h)}}function Ek(h,g,x,E){var P=E?ne:W,G=-1,ie=g.length,le=h;for(h===g&&(g=da(g)),x&&(le=qi(h,zs(x)));++G<ie;)for(var he=0,Ge=g[G],Ue=x?x(Ge):Ge;(he=P(le,Ue,he,E))>-1;)le!==h&&r1.call(le,he,1),r1.call(h,he,1);return h}function L7(h,g){for(var x=h?g.length:0,E=x-1;x--;){var P=g[x];if(x==E||P!==G){var G=P;au(P)?r1.call(h,P,1):Ik(h,P)}}return h}function Dk(h,g){return h+a1(m7()*(g-h+1))}function Ele(h,g,x,E){for(var P=-1,G=mo(s1((g-h)/(x||1)),0),ie=De(G);G--;)ie[E?G:++P]=h,h+=x;return ie}function Rk(h,g){var x="";if(!h||g<1||g>ge)return x;do g%2&&(x+=h),g=a1(g/2),g&&(h+=h);while(g);return x}function An(h,g){return Wk(hV(h,g,fa),h+"")}function Dle(h){return y7(Am(h))}function Rle(h,g){var x=Am(h);return S1(x,vp(g,0,x.length))}function yy(h,g,x,E){if(!pr(h))return h;g=Th(g,h);for(var P=-1,G=g.length,ie=G-1,le=h;le!=null&&++P<G;){var he=qc(g[P]),Ge=x;if(he==="__proto__"||he==="constructor"||he==="prototype")return h;if(P!=ie){var Ue=le[he];Ge=E?E(Ue,he,le):e,Ge===e&&(Ge=pr(Ue)?Ue:au(g[P+1])?[]:{})}gy(le,he,Ge),le=le[he]}return h}var N7=l1?function(h,g){return l1.set(h,g),h}:fa,Tle=o1?function(h,g){return o1(h,"toString",{configurable:!0,enumerable:!1,value:eA(g),writable:!0})}:fa;function Ile(h){return S1(Am(h))}function vl(h,g,x){var E=-1,P=h.length;g<0&&(g=-g>P?0:P+g),x=x>P?P:x,x<0&&(x+=P),P=g>x?0:x-g>>>0,g>>>=0;for(var G=De(P);++E<P;)G[E]=h[E+g];return G}function Fle(h,g){var x;return Dh(h,function(E,P,G){return x=g(E,P,G),!x}),!!x}function g1(h,g,x){var E=0,P=h==null?E:h.length;if(typeof g=="number"&&g===g&&P<=J){for(;E<P;){var G=E+P>>>1,ie=h[G];ie!==null&&!Wa(ie)&&(x?ie<=g:ie<g)?E=G+1:P=G}return P}return Tk(h,g,fa,x)}function Tk(h,g,x,E){var P=0,G=h==null?0:h.length;if(G===0)return 0;g=x(g);for(var ie=g!==g,le=g===null,he=Wa(g),Ge=g===e;P<G;){var Ue=a1((P+G)/2),qe=x(h[Ue]),ht=qe!==e,Dt=qe===null,jt=qe===qe,In=Wa(qe);if(ie)var $t=E||jt;else Ge?$t=jt&&(E||ht):le?$t=jt&&ht&&(E||!Dt):he?$t=jt&&ht&&!Dt&&(E||!In):Dt||In?$t=!1:$t=E?qe<=g:qe<g;$t?P=Ue+1:G=Ue}return fs(G,oe)}function B7(h,g){for(var x=-1,E=h.length,P=0,G=[];++x<E;){var ie=h[x],le=g?g(ie):ie;if(!x||!ac(le,he)){var he=le;G[P++]=ie===0?0:ie}}return G}function V7(h){return typeof h=="number"?h:Wa(h)?Ee:+h}function Ua(h){if(typeof h=="string")return h;if(fn(h))return qi(h,Ua)+"";if(Wa(h))return v7?v7.call(h):"";var g=h+"";return g=="0"&&1/h==-se?"-0":g}function Rh(h,g,x){var E=-1,P=bm,G=h.length,ie=!0,le=[],he=le;if(x)ie=!1,P=iy;else if(G>=n){var Ge=g?null:Gle(h);if(Ge)return fp(Ge);ie=!1,P=hp,he=new mp}else he=g?[]:le;e:for(;++E<G;){var Ue=h[E],qe=g?g(Ue):Ue;if(Ue=x||Ue!==0?Ue:0,ie&&qe===qe){for(var ht=he.length;ht--;)if(he[ht]===qe)continue e;g&&he.push(qe),le.push(Ue)}else P(he,qe,x)||(he!==le&&he.push(qe),le.push(Ue))}return le}function Ik(h,g){return g=Th(g,h),h=fV(h,g),h==null||delete h[qc(Cl(g))]}function H7(h,g,x,E){return yy(h,g,x(Cp(h,g)),E)}function m1(h,g,x,E){for(var P=h.length,G=E?P:-1;(E?G--:++G<P)&&g(h[G],G,h););return x?vl(h,E?0:G,E?G+1:P):vl(h,E?G+1:0,E?P:G)}function G7(h,g){var x=h;return x instanceof Hn&&(x=x.value()),ry(g,function(E,P){return P.func.apply(P.thisArg,zc([E],P.args))},x)}function Fk(h,g,x){var E=h.length;if(E<2)return E?Rh(h[0]):[];for(var P=-1,G=De(E);++P<E;)for(var ie=h[P],le=-1;++le<E;)le!=P&&(G[P]=my(G[P]||ie,h[le],g,x));return Rh($o(G,1),g,x)}function z7(h,g,x){for(var E=-1,P=h.length,G=g.length,ie={};++E<P;){var le=E<G?g[E]:e;x(ie,h[E],le)}return ie}function kk(h){return zr(h)?h:[]}function Ak(h){return typeof h=="function"?h:fa}function Th(h,g){return fn(h)?h:Gk(h,g)?[h]:vV(xi(h))}var kle=An;function Ih(h,g,x){var E=h.length;return x=x===e?E:x,!g&&x>=E?h:vl(h,g,x)}var U7=Cae||function(h){return no.clearTimeout(h)};function W7(h,g){if(g)return h.slice();var x=h.length,E=u7?u7(x):new h.constructor(x);return h.copy(E),E}function Mk(h){var g=new h.constructor(h.byteLength);return new n1(g).set(new n1(h)),g}function Ale(h,g){var x=g?Mk(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.byteLength)}function Mle(h){var g=new h.constructor(h.source,Y.exec(h));return g.lastIndex=h.lastIndex,g}function Ple(h){return py?Vi(py.call(h)):{}}function j7(h,g){var x=g?Mk(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.length)}function $7(h,g){if(h!==g){var x=h!==e,E=h===null,P=h===h,G=Wa(h),ie=g!==e,le=g===null,he=g===g,Ge=Wa(g);if(!le&&!Ge&&!G&&h>g||G&&ie&&he&&!le&&!Ge||E&&ie&&he||!x&&he||!P)return 1;if(!E&&!G&&!Ge&&h<g||Ge&&x&&P&&!E&&!G||le&&x&&P||!ie&&P||!he)return-1}return 0}function Ole(h,g,x){for(var E=-1,P=h.criteria,G=g.criteria,ie=P.length,le=x.length;++E<ie;){var he=$7(P[E],G[E]);if(he){if(E>=le)return he;var Ge=x[E];return he*(Ge=="desc"?-1:1)}}return h.index-g.index}function q7(h,g,x,E){for(var P=-1,G=h.length,ie=x.length,le=-1,he=g.length,Ge=mo(G-ie,0),Ue=De(he+Ge),qe=!E;++le<he;)Ue[le]=g[le];for(;++P<ie;)(qe||P<G)&&(Ue[x[P]]=h[P]);for(;Ge--;)Ue[le++]=h[P++];return Ue}function K7(h,g,x,E){for(var P=-1,G=h.length,ie=-1,le=x.length,he=-1,Ge=g.length,Ue=mo(G-le,0),qe=De(Ue+Ge),ht=!E;++P<Ue;)qe[P]=h[P];for(var Dt=P;++he<Ge;)qe[Dt+he]=g[he];for(;++ie<le;)(ht||P<G)&&(qe[Dt+x[ie]]=h[P++]);return qe}function da(h,g){var x=-1,E=h.length;for(g||(g=De(E));++x<E;)g[x]=h[x];return g}function $c(h,g,x,E){var P=!x;x||(x={});for(var G=-1,ie=g.length;++G<ie;){var le=g[G],he=E?E(x[le],h[le],le,x,h):e;he===e&&(he=h[le]),P?ru(x,le,he):gy(x,le,he)}return x}function Lle(h,g){return $c(h,Hk(h),g)}function Nle(h,g){return $c(h,aV(h),g)}function v1(h,g){return function(x,E){var P=fn(x)?ok:ole,G=g?g():{};return P(x,h,zt(E,2),G)}}function Tm(h){return An(function(g,x){var E=-1,P=x.length,G=P>1?x[P-1]:e,ie=P>2?x[2]:e;for(G=h.length>3&&typeof G=="function"?(P--,G):e,ie&&Ws(x[0],x[1],ie)&&(G=P<3?e:G,P=1),g=Vi(g);++E<P;){var le=x[E];le&&h(g,le,E,G)}return g})}function X7(h,g){return function(x,E){if(x==null)return x;if(!ua(x))return h(x,E);for(var P=x.length,G=g?P:-1,ie=Vi(x);(g?G--:++G<P)&&E(ie[G],G,ie)!==!1;);return x}}function Y7(h){return function(g,x,E){for(var P=-1,G=Vi(g),ie=E(g),le=ie.length;le--;){var he=ie[h?le:++P];if(x(G[he],he,G)===!1)break}return g}}function Ble(h,g,x){var E=g&m,P=xy(h);function G(){var ie=this&&this!==no&&this instanceof G?P:h;return ie.apply(E?x:this,arguments)}return G}function Z7(h){return function(g){g=xi(g);var x=Uc(g)?oc(g):e,E=x?x[0]:g.charAt(0),P=x?Ih(x,1).join(""):g.slice(1);return E[h]()+P}}function Im(h){return function(g){return ry(XV(KV(g).replace(KF,"")),h,"")}}function xy(h){return function(){var g=arguments;switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3]);case 5:return new h(g[0],g[1],g[2],g[3],g[4]);case 6:return new h(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new h(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var x=Rm(h.prototype),E=h.apply(x,g);return pr(E)?E:x}}function Vle(h,g,x){var E=xy(h);function P(){for(var G=arguments.length,ie=De(G),le=G,he=Fm(P);le--;)ie[le]=arguments[le];var Ge=G<3&&ie[0]!==he&&ie[G-1]!==he?[]:Wc(ie,he);if(G-=Ge.length,G<x)return nV(h,g,C1,P.placeholder,e,ie,Ge,e,e,x-G);var Ue=this&&this!==no&&this instanceof P?E:h;return Gs(Ue,this,ie)}return P}function Q7(h){return function(g,x,E){var P=Vi(g);if(!ua(g)){var G=zt(x,3);g=To(g),x=function(le){return G(P[le],le,P)}}var ie=h(g,x,E);return ie>-1?P[G?g[ie]:ie]:e}}function J7(h){return su(function(g){var x=g.length,E=x,P=gl.prototype.thru;for(h&&g.reverse();E--;){var G=g[E];if(typeof G!="function")throw new pl(r);if(P&&!ie&&w1(G)=="wrapper")var ie=new gl([],!0)}for(E=ie?E:x;++E<x;){G=g[E];var le=w1(G),he=le=="wrapper"?Bk(G):e;he&&zk(he[0])&&he[1]==(D|y|w|R)&&!he[4].length&&he[9]==1?ie=ie[w1(he[0])].apply(ie,he[3]):ie=G.length==1&&zk(G)?ie[le]():ie.thru(G)}return function(){var Ge=arguments,Ue=Ge[0];if(ie&&Ge.length==1&&fn(Ue))return ie.plant(Ue).value();for(var qe=0,ht=x?g[qe].apply(this,Ge):Ue;++qe<x;)ht=g[qe].call(this,ht);return ht}})}function C1(h,g,x,E,P,G,ie,le,he,Ge){var Ue=g&D,qe=g&m,ht=g&v,Dt=g&(y|b),jt=g&T,In=ht?e:xy(h);function $t(){for(var Nn=arguments.length,Xn=De(Nn),ja=Nn;ja--;)Xn[ja]=arguments[ja];if(Dt)var js=Fm($t),$a=dk(Xn,js);if(E&&(Xn=q7(Xn,E,P,Dt)),G&&(Xn=K7(Xn,G,ie,Dt)),Nn-=$a,Dt&&Nn<Ge){var Ur=Wc(Xn,js);return nV(h,g,C1,$t.placeholder,x,Xn,Ur,le,he,Ge-Nn)}var lc=qe?x:this,du=ht?lc[h]:h;return Nn=Xn.length,le?Xn=oce(Xn,le):jt&&Nn>1&&Xn.reverse(),Ue&&he<Nn&&(Xn.length=he),this&&this!==no&&this instanceof $t&&(du=In||xy(du)),du.apply(lc,Xn)}return $t}function eV(h,g){return function(x,E){return fle(x,h,g(E),{})}}function y1(h,g){return function(x,E){var P;if(x===e&&E===e)return g;if(x!==e&&(P=x),E!==e){if(P===e)return E;typeof x=="string"||typeof E=="string"?(x=Ua(x),E=Ua(E)):(x=V7(x),E=V7(E)),P=h(x,E)}return P}}function Pk(h){return su(function(g){return g=qi(g,zs(zt())),An(function(x){var E=this;return h(g,function(P){return Gs(P,E,x)})})})}function x1(h,g){g=g===e?" ":Ua(g);var x=g.length;if(x<2)return x?Rk(g,h):g;var E=Rk(g,s1(h/_m(g)));return Uc(g)?Ih(oc(E),0,h).join(""):E.slice(0,h)}function Hle(h,g,x,E){var P=g&m,G=xy(h);function ie(){for(var le=-1,he=arguments.length,Ge=-1,Ue=E.length,qe=De(Ue+he),ht=this&&this!==no&&this instanceof ie?G:h;++Ge<Ue;)qe[Ge]=E[Ge];for(;he--;)qe[Ge++]=arguments[++le];return Gs(ht,P?x:this,qe)}return ie}function tV(h){return function(g,x,E){return E&&typeof E!="number"&&Ws(g,x,E)&&(x=E=e),g=cu(g),x===e?(x=g,g=0):x=cu(x),E=E===e?g<x?1:-1:cu(E),Ele(g,x,E,h)}}function b1(h){return function(g,x){return typeof g=="string"&&typeof x=="string"||(g=yl(g),x=yl(x)),h(g,x)}}function nV(h,g,x,E,P,G,ie,le,he,Ge){var Ue=g&y,qe=Ue?ie:e,ht=Ue?e:ie,Dt=Ue?G:e,jt=Ue?e:G;g|=Ue?w:S,g&=~(Ue?S:w),g&C||(g&=~(m|v));var In=[h,g,P,Dt,qe,jt,ht,le,he,Ge],$t=x.apply(e,In);return zk(h)&&pV($t,In),$t.placeholder=E,gV($t,h,g)}function Ok(h){var g=go[h];return function(x,E){if(x=yl(x),E=E==null?0:fs(bn(E),292),E&&g7(x)){var P=(xi(x)+"e").split("e"),G=g(P[0]+"e"+(+P[1]+E));return P=(xi(G)+"e").split("e"),+(P[0]+"e"+(+P[1]-E))}return g(x)}}var Gle=Em&&1/fp(new Em([,-0]))[1]==se?function(h){return new Em(h)}:iA;function iV(h){return function(g){var x=ps(g);return x==q?cy(g):x==Ht?rae(g):ck(g,h(g))}}function ou(h,g,x,E,P,G,ie,le){var he=g&v;if(!he&&typeof h!="function")throw new pl(r);var Ge=E?E.length:0;if(Ge||(g&=~(w|S),E=P=e),ie=ie===e?ie:mo(bn(ie),0),le=le===e?le:bn(le),Ge-=P?P.length:0,g&S){var Ue=E,qe=P;E=P=e}var ht=he?e:Bk(h),Dt=[h,g,x,E,P,Ue,qe,G,ie,le];if(ht&&nce(Dt,ht),h=Dt[0],g=Dt[1],x=Dt[2],E=Dt[3],P=Dt[4],le=Dt[9]=Dt[9]===e?he?0:h.length:mo(Dt[9]-Ge,0),!le&&g&(y|b)&&(g&=~(y|b)),!g||g==m)var jt=Ble(h,g,x);else g==y||g==b?jt=Vle(h,g,le):(g==w||g==(m|w))&&!P.length?jt=Hle(h,g,x,E):jt=C1.apply(e,Dt);var In=ht?N7:pV;return gV(In(jt,Dt),h,g)}function rV(h,g,x,E){return h===e||ac(h,Sm[x])&&!Ti.call(E,x)?g:h}function oV(h,g,x,E,P,G){return pr(h)&&pr(g)&&(G.set(g,h),p1(h,g,e,oV,G),G.delete(g)),h}function zle(h){return _y(h)?e:h}function sV(h,g,x,E,P,G){var ie=x&f,le=h.length,he=g.length;if(le!=he&&!(ie&&he>le))return!1;var Ge=G.get(h),Ue=G.get(g);if(Ge&&Ue)return Ge==g&&Ue==h;var qe=-1,ht=!0,Dt=x&p?new mp:e;for(G.set(h,g),G.set(g,h);++qe<le;){var jt=h[qe],In=g[qe];if(E)var $t=ie?E(In,jt,qe,g,h,G):E(jt,In,qe,h,g,G);if($t!==e){if($t)continue;ht=!1;break}if(Dt){if(!Gr(g,function(Nn,Xn){if(!hp(Dt,Xn)&&(jt===Nn||P(jt,Nn,x,E,G)))return Dt.push(Xn)})){ht=!1;break}}else if(!(jt===In||P(jt,In,x,E,G))){ht=!1;break}}return G.delete(h),G.delete(g),ht}function Ule(h,g,x,E,P,G,ie){switch(x){case Zt:if(h.byteLength!=g.byteLength||h.byteOffset!=g.byteOffset)return!1;h=h.buffer,g=g.buffer;case Ei:return!(h.byteLength!=g.byteLength||!G(new n1(h),new n1(g)));case ce:case Me:case Vt:return ac(+h,+g);case Ve:return h.name==g.name&&h.message==g.message;case gt:case xn:return h==g+"";case q:var le=cy;case Ht:var he=E&f;if(le||(le=fp),h.size!=g.size&&!he)return!1;var Ge=ie.get(h);if(Ge)return Ge==g;E|=p,ie.set(h,g);var Ue=sV(le(h),le(g),E,P,G,ie);return ie.delete(h),Ue;case $n:if(py)return py.call(h)==py.call(g)}return!1}function Wle(h,g,x,E,P,G){var ie=x&f,le=Lk(h),he=le.length,Ge=Lk(g),Ue=Ge.length;if(he!=Ue&&!ie)return!1;for(var qe=he;qe--;){var ht=le[qe];if(!(ie?ht in g:Ti.call(g,ht)))return!1}var Dt=G.get(h),jt=G.get(g);if(Dt&&jt)return Dt==g&&jt==h;var In=!0;G.set(h,g),G.set(g,h);for(var $t=ie;++qe<he;){ht=le[qe];var Nn=h[ht],Xn=g[ht];if(E)var ja=ie?E(Xn,Nn,ht,g,h,G):E(Nn,Xn,ht,h,g,G);if(!(ja===e?Nn===Xn||P(Nn,Xn,x,E,G):ja)){In=!1;break}$t||($t=ht=="constructor")}if(In&&!$t){var js=h.constructor,$a=g.constructor;js!=$a&&"constructor"in h&&"constructor"in g&&!(typeof js=="function"&&js instanceof js&&typeof $a=="function"&&$a instanceof $a)&&(In=!1)}return G.delete(h),G.delete(g),In}function su(h){return Wk(hV(h,e,bV),h+"")}function Lk(h){return D7(h,To,Hk)}function Nk(h){return D7(h,ha,aV)}var Bk=l1?function(h){return l1.get(h)}:iA;function w1(h){for(var g=h.name+"",x=Dm[g],E=Ti.call(Dm,g)?x.length:0;E--;){var P=x[E],G=P.func;if(G==null||G==h)return P.name}return g}function Fm(h){var g=Ti.call(H,"placeholder")?H:h;return g.placeholder}function zt(){var h=H.iteratee||tA;return h=h===tA?I7:h,arguments.length?h(arguments[0],arguments[1]):h}function _1(h,g){var x=h.__data__;return Qle(g)?x[typeof g=="string"?"string":"hash"]:x.map}function Vk(h){for(var g=To(h),x=g.length;x--;){var E=g[x],P=h[E];g[x]=[E,P,dV(P)]}return g}function yp(h,g){var x=ly(h,g);return T7(x)?x:e}function jle(h){var g=Ti.call(h,pp),x=h[pp];try{h[pp]=e;var E=!0}catch{}var P=e1.call(h);return E&&(g?h[pp]=x:delete h[pp]),P}var Hk=fk?function(h){return h==null?[]:(h=Vi(h),Gc(fk(h),function(g){return f7.call(h,g)}))}:rA,aV=fk?function(h){for(var g=[];h;)zc(g,Hk(h)),h=i1(h);return g}:rA,ps=Us;(pk&&ps(new pk(new ArrayBuffer(1)))!=Zt||uy&&ps(new uy)!=q||gk&&ps(gk.resolve())!=wt||Em&&ps(new Em)!=Ht||hy&&ps(new hy)!=Tn)&&(ps=function(h){var g=Us(h),x=g==_t?h.constructor:e,E=x?xp(x):"";if(E)switch(E){case Rae:return Zt;case Tae:return q;case Iae:return wt;case Fae:return Ht;case kae:return Tn}return g});function $le(h,g,x){for(var E=-1,P=x.length;++E<P;){var G=x[E],ie=G.size;switch(G.type){case"drop":h+=ie;break;case"dropRight":g-=ie;break;case"take":g=fs(g,h+ie);break;case"takeRight":h=mo(h,g-ie);break}}return{start:h,end:g}}function qle(h){var g=h.match(us);return g?g[1].split(dp):[]}function lV(h,g,x){g=Th(g,h);for(var E=-1,P=g.length,G=!1;++E<P;){var ie=qc(g[E]);if(!(G=h!=null&&x(h,ie)))break;h=h[ie]}return G||++E!=P?G:(P=h==null?0:h.length,!!P&&F1(P)&&au(ie,P)&&(fn(h)||bp(h)))}function Kle(h){var g=h.length,x=new h.constructor(g);return g&&typeof h[0]=="string"&&Ti.call(h,"index")&&(x.index=h.index,x.input=h.input),x}function cV(h){return typeof h.constructor=="function"&&!by(h)?Rm(i1(h)):{}}function Xle(h,g,x){var E=h.constructor;switch(g){case Ei:return Mk(h);case ce:case Me:return new E(+h);case Zt:return Ale(h,x);case qn:case Pi:case li:case Ie:case de:case me:case Je:case Mt:case ln:return j7(h,x);case q:return new E;case Vt:case xn:return new E(h);case gt:return Mle(h);case Ht:return new E;case $n:return Ple(h)}}function Yle(h,g){var x=g.length;if(!x)return h;var E=x-1;return g[E]=(x>1?"& ":"")+g[E],g=g.join(x>2?", ":" "),h.replace(fr,`{
/* [wrapped with `+g+`] */
`)}function Zle(h){return fn(h)||bp(h)||!!(p7&&h&&h[p7])}function au(h,g){var x=typeof h;return g=g??ge,!!g&&(x=="number"||x!="symbol"&&Ce.test(h))&&h>-1&&h%1==0&&h<g}function Ws(h,g,x){if(!pr(x))return!1;var E=typeof g;return(E=="number"?ua(x)&&au(g,x.length):E=="string"&&g in x)?ac(x[g],h):!1}function Gk(h,g){if(fn(h))return!1;var x=typeof h;return x=="number"||x=="symbol"||x=="boolean"||h==null||Wa(h)?!0:Dr.test(h)||!ds.test(h)||g!=null&&h in Vi(g)}function Qle(h){var g=typeof h;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?h!=="__proto__":h===null}function zk(h){var g=w1(h),x=H[g];if(typeof x!="function"||!(g in Hn.prototype))return!1;if(h===x)return!0;var E=Bk(x);return!!E&&h===E[0]}function Jle(h){return!!d7&&d7 in h}var ece=Q_?lu:oA;function by(h){var g=h&&h.constructor,x=typeof g=="function"&&g.prototype||Sm;return h===x}function dV(h){return h===h&&!pr(h)}function uV(h,g){return function(x){return x==null?!1:x[h]===g&&(g!==e||h in Vi(x))}}function tce(h){var g=T1(h,function(E){return x.size===a&&x.clear(),E}),x=g.cache;return g}function nce(h,g){var x=h[1],E=g[1],P=x|E,G=P<(m|v|D),ie=E==D&&x==y||E==D&&x==R&&h[7].length<=g[8]||E==(D|R)&&g[7].length<=g[8]&&x==y;if(!(G||ie))return h;E&m&&(h[2]=g[2],P|=x&m?0:C);var le=g[3];if(le){var he=h[3];h[3]=he?q7(he,le,g[4]):le,h[4]=he?Wc(h[3],l):g[4]}return le=g[5],le&&(he=h[5],h[5]=he?K7(he,le,g[6]):le,h[6]=he?Wc(h[5],l):g[6]),le=g[7],le&&(h[7]=le),E&D&&(h[8]=h[8]==null?g[8]:fs(h[8],g[8])),h[9]==null&&(h[9]=g[9]),h[0]=g[0],h[1]=P,h}function ice(h){var g=[];if(h!=null)for(var x in Vi(h))g.push(x);return g}function rce(h){return e1.call(h)}function hV(h,g,x){return g=mo(g===e?h.length-1:g,0),function(){for(var E=arguments,P=-1,G=mo(E.length-g,0),ie=De(G);++P<G;)ie[P]=E[g+P];P=-1;for(var le=De(g+1);++P<g;)le[P]=E[P];return le[g]=x(ie),Gs(h,this,le)}}function fV(h,g){return g.length<2?h:Cp(h,vl(g,0,-1))}function oce(h,g){for(var x=h.length,E=fs(g.length,x),P=da(h);E--;){var G=g[E];h[E]=au(G,x)?P[G]:e}return h}function Uk(h,g){if(!(g==="constructor"&&typeof h[g]=="function")&&g!="__proto__")return h[g]}var pV=mV(N7),wy=xae||function(h,g){return no.setTimeout(h,g)},Wk=mV(Tle);function gV(h,g,x){var E=g+"";return Wk(h,Yle(E,sce(qle(E),x)))}function mV(h){var g=0,x=0;return function(){var E=Sae(),P=L-(E-x);if(x=E,P>0){if(++g>=B)return arguments[0]}else g=0;return h.apply(e,arguments)}}function S1(h,g){var x=-1,E=h.length,P=E-1;for(g=g===e?E:g;++x<g;){var G=Dk(x,P),ie=h[G];h[G]=h[x],h[x]=ie}return h.length=g,h}var vV=tce(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(fo,function(x,E,P,G){g.push(P?G.replace(U,"$1"):E||x)}),g});function qc(h){if(typeof h=="string"||Wa(h))return h;var g=h+"";return g=="0"&&1/h==-se?"-0":g}function xp(h){if(h!=null){try{return J_.call(h)}catch{}try{return h+""}catch{}}return""}function sce(h,g){return ca(A,function(x){var E="_."+x[0];g&x[1]&&!bm(h,E)&&h.push(E)}),h.sort()}function CV(h){if(h instanceof Hn)return h.clone();var g=new gl(h.__wrapped__,h.__chain__);return g.__actions__=da(h.__actions__),g.__index__=h.__index__,g.__values__=h.__values__,g}function ace(h,g,x){(x?Ws(h,g,x):g===e)?g=1:g=mo(bn(g),0);var E=h==null?0:h.length;if(!E||g<1)return[];for(var P=0,G=0,ie=De(s1(E/g));P<E;)ie[G++]=vl(h,P,P+=g);return ie}function lce(h){for(var g=-1,x=h==null?0:h.length,E=0,P=[];++g<x;){var G=h[g];G&&(P[E++]=G)}return P}function cce(){var h=arguments.length;if(!h)return[];for(var g=De(h-1),x=arguments[0],E=h;E--;)g[E-1]=arguments[E];return zc(fn(x)?da(x):[x],$o(g,1))}var dce=An(function(h,g){return zr(h)?my(h,$o(g,1,zr,!0)):[]}),uce=An(function(h,g){var x=Cl(g);return zr(x)&&(x=e),zr(h)?my(h,$o(g,1,zr,!0),zt(x,2)):[]}),hce=An(function(h,g){var x=Cl(g);return zr(x)&&(x=e),zr(h)?my(h,$o(g,1,zr,!0),e,x):[]});function fce(h,g,x){var E=h==null?0:h.length;return E?(g=x||g===e?1:bn(g),vl(h,g<0?0:g,E)):[]}function pce(h,g,x){var E=h==null?0:h.length;return E?(g=x||g===e?1:bn(g),g=E-g,vl(h,0,g<0?0:g)):[]}function gce(h,g){return h&&h.length?m1(h,zt(g,3),!0,!0):[]}function mce(h,g){return h&&h.length?m1(h,zt(g,3),!0):[]}function vce(h,g,x,E){var P=h==null?0:h.length;return P?(x&&typeof x!="number"&&Ws(h,g,x)&&(x=0,E=P),cle(h,g,x,E)):[]}function yV(h,g,x){var E=h==null?0:h.length;if(!E)return-1;var P=x==null?0:bn(x);return P<0&&(P=mo(E+P,0)),I(h,zt(g,3),P)}function xV(h,g,x){var E=h==null?0:h.length;if(!E)return-1;var P=E-1;return x!==e&&(P=bn(x),P=x<0?mo(E+P,0):fs(P,E-1)),I(h,zt(g,3),P,!0)}function bV(h){var g=h==null?0:h.length;return g?$o(h,1):[]}function Cce(h){var g=h==null?0:h.length;return g?$o(h,se):[]}function yce(h,g){var x=h==null?0:h.length;return x?(g=g===e?1:bn(g),$o(h,g)):[]}function xce(h){for(var g=-1,x=h==null?0:h.length,E={};++g<x;){var P=h[g];E[P[0]]=P[1]}return E}function wV(h){return h&&h.length?h[0]:e}function bce(h,g,x){var E=h==null?0:h.length;if(!E)return-1;var P=x==null?0:bn(x);return P<0&&(P=mo(E+P,0)),W(h,g,P)}function wce(h){var g=h==null?0:h.length;return g?vl(h,0,-1):[]}var _ce=An(function(h){var g=qi(h,kk);return g.length&&g[0]===h[0]?bk(g):[]}),Sce=An(function(h){var g=Cl(h),x=qi(h,kk);return g===Cl(x)?g=e:x.pop(),x.length&&x[0]===h[0]?bk(x,zt(g,2)):[]}),Ece=An(function(h){var g=Cl(h),x=qi(h,kk);return g=typeof g=="function"?g:e,g&&x.pop(),x.length&&x[0]===h[0]?bk(x,e,g):[]});function Dce(h,g){return h==null?"":wae.call(h,g)}function Cl(h){var g=h==null?0:h.length;return g?h[g-1]:e}function Rce(h,g,x){var E=h==null?0:h.length;if(!E)return-1;var P=E;return x!==e&&(P=bn(x),P=P<0?mo(E+P,0):fs(P,E-1)),g===g?sae(h,g,P):I(h,Oe,P,!0)}function Tce(h,g){return h&&h.length?M7(h,bn(g)):e}var Ice=An(_V);function _V(h,g){return h&&h.length&&g&&g.length?Ek(h,g):h}function Fce(h,g,x){return h&&h.length&&g&&g.length?Ek(h,g,zt(x,2)):h}function kce(h,g,x){return h&&h.length&&g&&g.length?Ek(h,g,e,x):h}var Ace=su(function(h,g){var x=h==null?0:h.length,E=vk(h,g);return L7(h,qi(g,function(P){return au(P,x)?+P:P}).sort($7)),E});function Mce(h,g){var x=[];if(!(h&&h.length))return x;var E=-1,P=[],G=h.length;for(g=zt(g,3);++E<G;){var ie=h[E];g(ie,E,h)&&(x.push(ie),P.push(E))}return L7(h,P),x}function jk(h){return h==null?h:Dae.call(h)}function Pce(h,g,x){var E=h==null?0:h.length;return E?(x&&typeof x!="number"&&Ws(h,g,x)?(g=0,x=E):(g=g==null?0:bn(g),x=x===e?E:bn(x)),vl(h,g,x)):[]}function Oce(h,g){return g1(h,g)}function Lce(h,g,x){return Tk(h,g,zt(x,2))}function Nce(h,g){var x=h==null?0:h.length;if(x){var E=g1(h,g);if(E<x&&ac(h[E],g))return E}return-1}function Bce(h,g){return g1(h,g,!0)}function Vce(h,g,x){return Tk(h,g,zt(x,2),!0)}function Hce(h,g){var x=h==null?0:h.length;if(x){var E=g1(h,g,!0)-1;if(ac(h[E],g))return E}return-1}function Gce(h){return h&&h.length?B7(h):[]}function zce(h,g){return h&&h.length?B7(h,zt(g,2)):[]}function Uce(h){var g=h==null?0:h.length;return g?vl(h,1,g):[]}function Wce(h,g,x){return h&&h.length?(g=x||g===e?1:bn(g),vl(h,0,g<0?0:g)):[]}function jce(h,g,x){var E=h==null?0:h.length;return E?(g=x||g===e?1:bn(g),g=E-g,vl(h,g<0?0:g,E)):[]}function $ce(h,g){return h&&h.length?m1(h,zt(g,3),!1,!0):[]}function qce(h,g){return h&&h.length?m1(h,zt(g,3)):[]}var Kce=An(function(h){return Rh($o(h,1,zr,!0))}),Xce=An(function(h){var g=Cl(h);return zr(g)&&(g=e),Rh($o(h,1,zr,!0),zt(g,2))}),Yce=An(function(h){var g=Cl(h);return g=typeof g=="function"?g:e,Rh($o(h,1,zr,!0),e,g)});function Zce(h){return h&&h.length?Rh(h):[]}function Qce(h,g){return h&&h.length?Rh(h,zt(g,2)):[]}function Jce(h,g){return g=typeof g=="function"?g:e,h&&h.length?Rh(h,e,g):[]}function $k(h){if(!(h&&h.length))return[];var g=0;return h=Gc(h,function(x){if(zr(x))return g=mo(x.length,g),!0}),_h(g,function(x){return qi(h,xt(x))})}function SV(h,g){if(!(h&&h.length))return[];var x=$k(h);return g==null?x:qi(x,function(E){return Gs(g,e,E)})}var ede=An(function(h,g){return zr(h)?my(h,g):[]}),tde=An(function(h){return Fk(Gc(h,zr))}),nde=An(function(h){var g=Cl(h);return zr(g)&&(g=e),Fk(Gc(h,zr),zt(g,2))}),ide=An(function(h){var g=Cl(h);return g=typeof g=="function"?g:e,Fk(Gc(h,zr),e,g)}),rde=An($k);function ode(h,g){return z7(h||[],g||[],gy)}function sde(h,g){return z7(h||[],g||[],yy)}var ade=An(function(h){var g=h.length,x=g>1?h[g-1]:e;return x=typeof x=="function"?(h.pop(),x):e,SV(h,x)});function EV(h){var g=H(h);return g.__chain__=!0,g}function lde(h,g){return g(h),h}function E1(h,g){return g(h)}var cde=su(function(h){var g=h.length,x=g?h[0]:0,E=this.__wrapped__,P=function(G){return vk(G,h)};return g>1||this.__actions__.length||!(E instanceof Hn)||!au(x)?this.thru(P):(E=E.slice(x,+x+(g?1:0)),E.__actions__.push({func:E1,args:[P],thisArg:e}),new gl(E,this.__chain__).thru(function(G){return g&&!G.length&&G.push(e),G}))});function dde(){return EV(this)}function ude(){return new gl(this.value(),this.__chain__)}function hde(){this.__values__===e&&(this.__values__=VV(this.value()));var h=this.__index__>=this.__values__.length,g=h?e:this.__values__[this.__index__++];return{done:h,value:g}}function fde(){return this}function pde(h){for(var g,x=this;x instanceof d1;){var E=CV(x);E.__index__=0,E.__values__=e,g?P.__wrapped__=E:g=E;var P=E;x=x.__wrapped__}return P.__wrapped__=h,g}function gde(){var h=this.__wrapped__;if(h instanceof Hn){var g=h;return this.__actions__.length&&(g=new Hn(this)),g=g.reverse(),g.__actions__.push({func:E1,args:[jk],thisArg:e}),new gl(g,this.__chain__)}return this.thru(jk)}function mde(){return G7(this.__wrapped__,this.__actions__)}var vde=v1(function(h,g,x){Ti.call(h,x)?++h[x]:ru(h,x,1)});function Cde(h,g,x){var E=fn(h)?W_:lle;return x&&Ws(h,g,x)&&(g=e),E(h,zt(g,3))}function yde(h,g){var x=fn(h)?Gc:S7;return x(h,zt(g,3))}var xde=Q7(yV),bde=Q7(xV);function wde(h,g){return $o(D1(h,g),1)}function _de(h,g){return $o(D1(h,g),se)}function Sde(h,g,x){return x=x===e?1:bn(x),$o(D1(h,g),x)}function DV(h,g){var x=fn(h)?ca:Dh;return x(h,zt(g,3))}function RV(h,g){var x=fn(h)?sk:_7;return x(h,zt(g,3))}var Ede=v1(function(h,g,x){Ti.call(h,x)?h[x].push(g):ru(h,x,[g])});function Dde(h,g,x,E){h=ua(h)?h:Am(h),x=x&&!E?bn(x):0;var P=h.length;return x<0&&(x=mo(P+x,0)),k1(h)?x<=P&&h.indexOf(g,x)>-1:!!P&&W(h,g,x)>-1}var Rde=An(function(h,g,x){var E=-1,P=typeof g=="function",G=ua(h)?De(h.length):[];return Dh(h,function(ie){G[++E]=P?Gs(g,ie,x):vy(ie,g,x)}),G}),Tde=v1(function(h,g,x){ru(h,x,g)});function D1(h,g){var x=fn(h)?qi:F7;return x(h,zt(g,3))}function Ide(h,g,x,E){return h==null?[]:(fn(g)||(g=g==null?[]:[g]),x=E?e:x,fn(x)||(x=x==null?[]:[x]),P7(h,g,x))}var Fde=v1(function(h,g,x){h[x?0:1].push(g)},function(){return[[],[]]});function kde(h,g,x){var E=fn(h)?ry:Kn,P=arguments.length<3;return E(h,zt(g,4),x,P,Dh)}function Ade(h,g,x){var E=fn(h)?ak:Kn,P=arguments.length<3;return E(h,zt(g,4),x,P,_7)}function Mde(h,g){var x=fn(h)?Gc:S7;return x(h,I1(zt(g,3)))}function Pde(h){var g=fn(h)?y7:Dle;return g(h)}function Ode(h,g,x){(x?Ws(h,g,x):g===e)?g=1:g=bn(g);var E=fn(h)?ile:Rle;return E(h,g)}function Lde(h){var g=fn(h)?rle:Ile;return g(h)}function Nde(h){if(h==null)return 0;if(ua(h))return k1(h)?_m(h):h.length;var g=ps(h);return g==q||g==Ht?h.size:_k(h).length}function Bde(h,g,x){var E=fn(h)?Gr:Fle;return x&&Ws(h,g,x)&&(g=e),E(h,zt(g,3))}var Vde=An(function(h,g){if(h==null)return[];var x=g.length;return x>1&&Ws(h,g[0],g[1])?g=[]:x>2&&Ws(g[0],g[1],g[2])&&(g=[g[0]]),P7(h,$o(g,1),[])}),R1=yae||function(){return no.Date.now()};function Hde(h,g){if(typeof g!="function")throw new pl(r);return h=bn(h),function(){if(--h<1)return g.apply(this,arguments)}}function TV(h,g,x){return g=x?e:g,g=h&&g==null?h.length:g,ou(h,D,e,e,e,e,g)}function IV(h,g){var x;if(typeof g!="function")throw new pl(r);return h=bn(h),function(){return--h>0&&(x=g.apply(this,arguments)),h<=1&&(g=e),x}}var qk=An(function(h,g,x){var E=m;if(x.length){var P=Wc(x,Fm(qk));E|=w}return ou(h,E,g,x,P)}),FV=An(function(h,g,x){var E=m|v;if(x.length){var P=Wc(x,Fm(FV));E|=w}return ou(g,E,h,x,P)});function kV(h,g,x){g=x?e:g;var E=ou(h,y,e,e,e,e,e,g);return E.placeholder=kV.placeholder,E}function AV(h,g,x){g=x?e:g;var E=ou(h,b,e,e,e,e,e,g);return E.placeholder=AV.placeholder,E}function MV(h,g,x){var E,P,G,ie,le,he,Ge=0,Ue=!1,qe=!1,ht=!0;if(typeof h!="function")throw new pl(r);g=yl(g)||0,pr(x)&&(Ue=!!x.leading,qe="maxWait"in x,G=qe?mo(yl(x.maxWait)||0,g):G,ht="trailing"in x?!!x.trailing:ht);function Dt(Ur){var lc=E,du=P;return E=P=e,Ge=Ur,ie=h.apply(du,lc),ie}function jt(Ur){return Ge=Ur,le=wy(Nn,g),Ue?Dt(Ur):ie}function In(Ur){var lc=Ur-he,du=Ur-Ge,QV=g-lc;return qe?fs(QV,G-du):QV}function $t(Ur){var lc=Ur-he,du=Ur-Ge;return he===e||lc>=g||lc<0||qe&&du>=G}function Nn(){var Ur=R1();if($t(Ur))return Xn(Ur);le=wy(Nn,In(Ur))}function Xn(Ur){return le=e,ht&&E?Dt(Ur):(E=P=e,ie)}function ja(){le!==e&&U7(le),Ge=0,E=he=P=le=e}function js(){return le===e?ie:Xn(R1())}function $a(){var Ur=R1(),lc=$t(Ur);if(E=arguments,P=this,he=Ur,lc){if(le===e)return jt(he);if(qe)return U7(le),le=wy(Nn,g),Dt(he)}return le===e&&(le=wy(Nn,g)),ie}return $a.cancel=ja,$a.flush=js,$a}var Gde=An(function(h,g){return w7(h,1,g)}),zde=An(function(h,g,x){return w7(h,yl(g)||0,x)});function Ude(h){return ou(h,T)}function T1(h,g){if(typeof h!="function"||g!=null&&typeof g!="function")throw new pl(r);var x=function(){var E=arguments,P=g?g.apply(this,E):E[0],G=x.cache;if(G.has(P))return G.get(P);var ie=h.apply(this,E);return x.cache=G.set(P,ie)||G,ie};return x.cache=new(T1.Cache||iu),x}T1.Cache=iu;function I1(h){if(typeof h!="function")throw new pl(r);return function(){var g=arguments;switch(g.length){case 0:return!h.call(this);case 1:return!h.call(this,g[0]);case 2:return!h.call(this,g[0],g[1]);case 3:return!h.call(this,g[0],g[1],g[2])}return!h.apply(this,g)}}function Wde(h){return IV(2,h)}var jde=kle(function(h,g){g=g.length==1&&fn(g[0])?qi(g[0],zs(zt())):qi($o(g,1),zs(zt()));var x=g.length;return An(function(E){for(var P=-1,G=fs(E.length,x);++P<G;)E[P]=g[P].call(this,E[P]);return Gs(h,this,E)})}),Kk=An(function(h,g){var x=Wc(g,Fm(Kk));return ou(h,w,e,g,x)}),PV=An(function(h,g){var x=Wc(g,Fm(PV));return ou(h,S,e,g,x)}),$de=su(function(h,g){return ou(h,R,e,e,e,g)});function qde(h,g){if(typeof h!="function")throw new pl(r);return g=g===e?g:bn(g),An(h,g)}function Kde(h,g){if(typeof h!="function")throw new pl(r);return g=g==null?0:mo(bn(g),0),An(function(x){var E=x[g],P=Ih(x,0,g);return E&&zc(P,E),Gs(h,this,P)})}function Xde(h,g,x){var E=!0,P=!0;if(typeof h!="function")throw new pl(r);return pr(x)&&(E="leading"in x?!!x.leading:E,P="trailing"in x?!!x.trailing:P),MV(h,g,{leading:E,maxWait:g,trailing:P})}function Yde(h){return TV(h,1)}function Zde(h,g){return Kk(Ak(g),h)}function Qde(){if(!arguments.length)return[];var h=arguments[0];return fn(h)?h:[h]}function Jde(h){return ml(h,u)}function eue(h,g){return g=typeof g=="function"?g:e,ml(h,u,g)}function tue(h){return ml(h,c|u)}function nue(h,g){return g=typeof g=="function"?g:e,ml(h,c|u,g)}function iue(h,g){return g==null||b7(h,g,To(g))}function ac(h,g){return h===g||h!==h&&g!==g}var rue=b1(xk),oue=b1(function(h,g){return h>=g}),bp=R7(function(){return arguments}())?R7:function(h){return Rr(h)&&Ti.call(h,"callee")&&!f7.call(h,"callee")},fn=De.isArray,sue=V_?zs(V_):ple;function ua(h){return h!=null&&F1(h.length)&&!lu(h)}function zr(h){return Rr(h)&&ua(h)}function aue(h){return h===!0||h===!1||Rr(h)&&Us(h)==ce}var Fh=bae||oA,lue=H_?zs(H_):gle;function cue(h){return Rr(h)&&h.nodeType===1&&!_y(h)}function due(h){if(h==null)return!0;if(ua(h)&&(fn(h)||typeof h=="string"||typeof h.splice=="function"||Fh(h)||km(h)||bp(h)))return!h.length;var g=ps(h);if(g==q||g==Ht)return!h.size;if(by(h))return!_k(h).length;for(var x in h)if(Ti.call(h,x))return!1;return!0}function uue(h,g){return Cy(h,g)}function hue(h,g,x){x=typeof x=="function"?x:e;var E=x?x(h,g):e;return E===e?Cy(h,g,e,x):!!E}function Xk(h){if(!Rr(h))return!1;var g=Us(h);return g==Ve||g==ze||typeof h.message=="string"&&typeof h.name=="string"&&!_y(h)}function fue(h){return typeof h=="number"&&g7(h)}function lu(h){if(!pr(h))return!1;var g=Us(h);return g==ye||g==vt||g==Q||g==Ze}function OV(h){return typeof h=="number"&&h==bn(h)}function F1(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=ge}function pr(h){var g=typeof h;return h!=null&&(g=="object"||g=="function")}function Rr(h){return h!=null&&typeof h=="object"}var LV=rk?zs(rk):vle;function pue(h,g){return h===g||wk(h,g,Vk(g))}function gue(h,g,x){return x=typeof x=="function"?x:e,wk(h,g,Vk(g),x)}function mue(h){return NV(h)&&h!=+h}function vue(h){if(ece(h))throw new hn(i);return T7(h)}function Cue(h){return h===null}function yue(h){return h==null}function NV(h){return typeof h=="number"||Rr(h)&&Us(h)==Vt}function _y(h){if(!Rr(h)||Us(h)!=_t)return!1;var g=i1(h);if(g===null)return!0;var x=Ti.call(g,"constructor")&&g.constructor;return typeof x=="function"&&x instanceof x&&J_.call(x)==gae}var Yk=G_?zs(G_):Cle;function xue(h){return OV(h)&&h>=-ge&&h<=ge}var BV=z_?zs(z_):yle;function k1(h){return typeof h=="string"||!fn(h)&&Rr(h)&&Us(h)==xn}function Wa(h){return typeof h=="symbol"||Rr(h)&&Us(h)==$n}var km=U_?zs(U_):xle;function bue(h){return h===e}function wue(h){return Rr(h)&&ps(h)==Tn}function _ue(h){return Rr(h)&&Us(h)==ei}var Sue=b1(Sk),Eue=b1(function(h,g){return h<=g});function VV(h){if(!h)return[];if(ua(h))return k1(h)?oc(h):da(h);if(dy&&h[dy])return uk(h[dy]());var g=ps(h),x=g==q?cy:g==Ht?fp:Am;return x(h)}function cu(h){if(!h)return h===0?h:0;if(h=yl(h),h===se||h===-se){var g=h<0?-1:1;return g*fe}return h===h?h:0}function bn(h){var g=cu(h),x=g%1;return g===g?x?g-x:g:0}function HV(h){return h?vp(bn(h),0,te):0}function yl(h){if(typeof h=="number")return h;if(Wa(h))return Ee;if(pr(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=pr(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=sy(h);var x=ve.test(h);return x||xe.test(h)?ik(h.slice(2),x?2:8):Z.test(h)?Ee:+h}function GV(h){return $c(h,ha(h))}function Due(h){return h?vp(bn(h),-ge,ge):h===0?h:0}function xi(h){return h==null?"":Ua(h)}var Rue=Tm(function(h,g){if(by(g)||ua(g)){$c(g,To(g),h);return}for(var x in g)Ti.call(g,x)&&gy(h,x,g[x])}),zV=Tm(function(h,g){$c(g,ha(g),h)}),A1=Tm(function(h,g,x,E){$c(g,ha(g),h,E)}),Tue=Tm(function(h,g,x,E){$c(g,To(g),h,E)}),Iue=su(vk);function Fue(h,g){var x=Rm(h);return g==null?x:x7(x,g)}var kue=An(function(h,g){h=Vi(h);var x=-1,E=g.length,P=E>2?g[2]:e;for(P&&Ws(g[0],g[1],P)&&(E=1);++x<E;)for(var G=g[x],ie=ha(G),le=-1,he=ie.length;++le<he;){var Ge=ie[le],Ue=h[Ge];(Ue===e||ac(Ue,Sm[Ge])&&!Ti.call(h,Ge))&&(h[Ge]=G[Ge])}return h}),Aue=An(function(h){return h.push(e,oV),Gs(UV,e,h)});function Mue(h,g){return _(h,zt(g,3),jc)}function Pue(h,g){return _(h,zt(g,3),yk)}function Oue(h,g){return h==null?h:Ck(h,zt(g,3),ha)}function Lue(h,g){return h==null?h:E7(h,zt(g,3),ha)}function Nue(h,g){return h&&jc(h,zt(g,3))}function Bue(h,g){return h&&yk(h,zt(g,3))}function Vue(h){return h==null?[]:f1(h,To(h))}function Hue(h){return h==null?[]:f1(h,ha(h))}function Zk(h,g,x){var E=h==null?e:Cp(h,g);return E===e?x:E}function Gue(h,g){return h!=null&&lV(h,g,dle)}function Qk(h,g){return h!=null&&lV(h,g,ule)}var zue=eV(function(h,g,x){g!=null&&typeof g.toString!="function"&&(g=e1.call(g)),h[g]=x},eA(fa)),Uue=eV(function(h,g,x){g!=null&&typeof g.toString!="function"&&(g=e1.call(g)),Ti.call(h,g)?h[g].push(x):h[g]=[x]},zt),Wue=An(vy);function To(h){return ua(h)?C7(h):_k(h)}function ha(h){return ua(h)?C7(h,!0):ble(h)}function jue(h,g){var x={};return g=zt(g,3),jc(h,function(E,P,G){ru(x,g(E,P,G),E)}),x}function $ue(h,g){var x={};return g=zt(g,3),jc(h,function(E,P,G){ru(x,P,g(E,P,G))}),x}var que=Tm(function(h,g,x){p1(h,g,x)}),UV=Tm(function(h,g,x,E){p1(h,g,x,E)}),Kue=su(function(h,g){var x={};if(h==null)return x;var E=!1;g=qi(g,function(G){return G=Th(G,h),E||(E=G.length>1),G}),$c(h,Nk(h),x),E&&(x=ml(x,c|d|u,zle));for(var P=g.length;P--;)Ik(x,g[P]);return x});function Xue(h,g){return WV(h,I1(zt(g)))}var Yue=su(function(h,g){return h==null?{}:_le(h,g)});function WV(h,g){if(h==null)return{};var x=qi(Nk(h),function(E){return[E]});return g=zt(g),O7(h,x,function(E,P){return g(E,P[0])})}function Zue(h,g,x){g=Th(g,h);var E=-1,P=g.length;for(P||(P=1,h=e);++E<P;){var G=h==null?e:h[qc(g[E])];G===e&&(E=P,G=x),h=lu(G)?G.call(h):G}return h}function Que(h,g,x){return h==null?h:yy(h,g,x)}function Jue(h,g,x,E){return E=typeof E=="function"?E:e,h==null?h:yy(h,g,x,E)}var jV=iV(To),$V=iV(ha);function ehe(h,g,x){var E=fn(h),P=E||Fh(h)||km(h);if(g=zt(g,4),x==null){var G=h&&h.constructor;P?x=E?new G:[]:pr(h)?x=lu(G)?Rm(i1(h)):{}:x={}}return(P?ca:jc)(h,function(ie,le,he){return g(x,ie,le,he)}),x}function the(h,g){return h==null?!0:Ik(h,g)}function nhe(h,g,x){return h==null?h:H7(h,g,Ak(x))}function ihe(h,g,x,E){return E=typeof E=="function"?E:e,h==null?h:H7(h,g,Ak(x),E)}function Am(h){return h==null?[]:wm(h,To(h))}function rhe(h){return h==null?[]:wm(h,ha(h))}function ohe(h,g,x){return x===e&&(x=g,g=e),x!==e&&(x=yl(x),x=x===x?x:0),g!==e&&(g=yl(g),g=g===g?g:0),vp(yl(h),g,x)}function she(h,g,x){return g=cu(g),x===e?(x=g,g=0):x=cu(x),h=yl(h),hle(h,g,x)}function ahe(h,g,x){if(x&&typeof x!="boolean"&&Ws(h,g,x)&&(g=x=e),x===e&&(typeof g=="boolean"?(x=g,g=e):typeof h=="boolean"&&(x=h,h=e)),h===e&&g===e?(h=0,g=1):(h=cu(h),g===e?(g=h,h=0):g=cu(g)),h>g){var E=h;h=g,g=E}if(x||h%1||g%1){var P=m7();return fs(h+P*(g-h+xm("1e-"+((P+"").length-1))),g)}return Dk(h,g)}var lhe=Im(function(h,g,x){return g=g.toLowerCase(),h+(x?qV(g):g)});function qV(h){return Jk(xi(h).toLowerCase())}function KV(h){return h=xi(h),h&&h.replace(be,$_).replace(XF,"")}function che(h,g,x){h=xi(h),g=Ua(g);var E=h.length;x=x===e?E:vp(bn(x),0,E);var P=x;return x-=g.length,x>=0&&h.slice(x,P)==g}function dhe(h){return h=xi(h),h&&Ga.test(h)?h.replace(ji,q_):h}function uhe(h){return h=xi(h),h&&Di.test(h)?h.replace(hr,"\\$&"):h}var hhe=Im(function(h,g,x){return h+(x?"-":"")+g.toLowerCase()}),fhe=Im(function(h,g,x){return h+(x?" ":"")+g.toLowerCase()}),phe=Z7("toLowerCase");function ghe(h,g,x){h=xi(h),g=bn(g);var E=g?_m(h):0;if(!g||E>=g)return h;var P=(g-E)/2;return x1(a1(P),x)+h+x1(s1(P),x)}function mhe(h,g,x){h=xi(h),g=bn(g);var E=g?_m(h):0;return g&&E<g?h+x1(g-E,x):h}function vhe(h,g,x){h=xi(h),g=bn(g);var E=g?_m(h):0;return g&&E<g?x1(g-E,x)+h:h}function Che(h,g,x){return x||g==null?g=0:g&&(g=+g),Eae(xi(h).replace($i,""),g||0)}function yhe(h,g,x){return(x?Ws(h,g,x):g===e)?g=1:g=bn(g),Rk(xi(h),g)}function xhe(){var h=arguments,g=xi(h[0]);return h.length<3?g:g.replace(h[1],h[2])}var bhe=Im(function(h,g,x){return h+(x?"_":"")+g.toLowerCase()});function whe(h,g,x){return x&&typeof x!="number"&&Ws(h,g,x)&&(g=x=e),x=x===e?te:x>>>0,x?(h=xi(h),h&&(typeof g=="string"||g!=null&&!Yk(g))&&(g=Ua(g),!g&&Uc(h))?Ih(oc(h),0,x):h.split(g,x)):[]}var _he=Im(function(h,g,x){return h+(x?" ":"")+Jk(g)});function She(h,g,x){return h=xi(h),x=x==null?0:vp(bn(x),0,h.length),g=Ua(g),h.slice(x,x+g.length)==g}function Ehe(h,g,x){var E=H.templateSettings;x&&Ws(h,g,x)&&(g=e),h=xi(h),g=A1({},g,E,rV);var P=A1({},g.imports,E.imports,rV),G=To(P),ie=wm(P,G),le,he,Ge=0,Ue=g.interpolate||Ke,qe="__p += '",ht=hk((g.escape||Ke).source+"|"+Ue.source+"|"+(Ue===Er?j:Ke).source+"|"+(g.evaluate||Ke).source+"|$","g"),Dt="//# sourceURL="+(Ti.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ek+"]")+`
`;h.replace(ht,function($t,Nn,Xn,ja,js,$a){return Xn||(Xn=ja),qe+=h.slice(Ge,$a).replace(et,K_),Nn&&(le=!0,qe+=`' +
__e(`+Nn+`) +
'`),js&&(he=!0,qe+=`';
`+js+`;
__p += '`),Xn&&(qe+=`' +
((__t = (`+Xn+`)) == null ? '' : __t) +
'`),Ge=$a+$t.length,$t}),qe+=`';
`;var jt=Ti.call(g,"variable")&&g.variable;if(!jt)qe=`with (obj) {
`+qe+`
}
`;else if(X.test(jt))throw new hn(o);qe=(he?qe.replace(Qi,""):qe).replace(Hs,"$1").replace(ho,"$1;"),qe="function("+(jt||"obj")+`) {
`+(jt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qe+`return __p
}`;var In=YV(function(){return di(G,Dt+"return "+qe).apply(e,ie)});if(In.source=qe,Xk(In))throw In;return In}function Dhe(h){return xi(h).toLowerCase()}function Rhe(h){return xi(h).toUpperCase()}function The(h,g,x){if(h=xi(h),h&&(x||g===e))return sy(h);if(!h||!(g=Ua(g)))return h;var E=oc(h),P=oc(g),G=ay(E,P),ie=j_(E,P)+1;return Ih(E,G,ie).join("")}function Ihe(h,g,x){if(h=xi(h),h&&(x||g===e))return h.slice(0,c7(h)+1);if(!h||!(g=Ua(g)))return h;var E=oc(h),P=j_(E,oc(g))+1;return Ih(E,0,P).join("")}function Fhe(h,g,x){if(h=xi(h),h&&(x||g===e))return h.replace($i,"");if(!h||!(g=Ua(g)))return h;var E=oc(h),P=ay(E,oc(g));return Ih(E,P).join("")}function khe(h,g){var x=k,E=M;if(pr(g)){var P="separator"in g?g.separator:P;x="length"in g?bn(g.length):x,E="omission"in g?Ua(g.omission):E}h=xi(h);var G=h.length;if(Uc(h)){var ie=oc(h);G=ie.length}if(x>=G)return h;var le=x-_m(E);if(le<1)return E;var he=ie?Ih(ie,0,le).join(""):h.slice(0,le);if(P===e)return he+E;if(ie&&(le+=he.length-le),Yk(P)){if(h.slice(le).search(P)){var Ge,Ue=he;for(P.global||(P=hk(P.source,xi(Y.exec(P))+"g")),P.lastIndex=0;Ge=P.exec(Ue);)var qe=Ge.index;he=he.slice(0,qe===e?le:qe)}}else if(h.indexOf(Ua(P),le)!=le){var ht=he.lastIndexOf(P);ht>-1&&(he=he.slice(0,ht))}return he+E}function Ahe(h){return h=xi(h),h&&Ji.test(h)?h.replace(Oi,aae):h}var Mhe=Im(function(h,g,x){return h+(x?" ":"")+g.toUpperCase()}),Jk=Z7("toUpperCase");function XV(h,g,x){return h=xi(h),g=x?e:g,g===e?X_(h)?dae(h):F(h):h.match(g)||[]}var YV=An(function(h,g){try{return Gs(h,e,g)}catch(x){return Xk(x)?x:new hn(x)}}),Phe=su(function(h,g){return ca(g,function(x){x=qc(x),ru(h,x,qk(h[x],h))}),h});function Ohe(h){var g=h==null?0:h.length,x=zt();return h=g?qi(h,function(E){if(typeof E[1]!="function")throw new pl(r);return[x(E[0]),E[1]]}):[],An(function(E){for(var P=-1;++P<g;){var G=h[P];if(Gs(G[0],this,E))return Gs(G[1],this,E)}})}function Lhe(h){return ale(ml(h,c))}function eA(h){return function(){return h}}function Nhe(h,g){return h==null||h!==h?g:h}var Bhe=J7(),Vhe=J7(!0);function fa(h){return h}function tA(h){return I7(typeof h=="function"?h:ml(h,c))}function Hhe(h){return k7(ml(h,c))}function Ghe(h,g){return A7(h,ml(g,c))}var zhe=An(function(h,g){return function(x){return vy(x,h,g)}}),Uhe=An(function(h,g){return function(x){return vy(h,x,g)}});function nA(h,g,x){var E=To(g),P=f1(g,E);x==null&&!(pr(g)&&(P.length||!E.length))&&(x=g,g=h,h=this,P=f1(g,To(g)));var G=!(pr(x)&&"chain"in x)||!!x.chain,ie=lu(h);return ca(P,function(le){var he=g[le];h[le]=he,ie&&(h.prototype[le]=function(){var Ge=this.__chain__;if(G||Ge){var Ue=h(this.__wrapped__),qe=Ue.__actions__=da(this.__actions__);return qe.push({func:he,args:arguments,thisArg:h}),Ue.__chain__=Ge,Ue}return he.apply(h,zc([this.value()],arguments))})}),h}function Whe(){return no._===this&&(no._=mae),this}function iA(){}function jhe(h){return h=bn(h),An(function(g){return M7(g,h)})}var $he=Pk(qi),qhe=Pk(W_),Khe=Pk(Gr);function ZV(h){return Gk(h)?xt(qc(h)):Sle(h)}function Xhe(h){return function(g){return h==null?e:Cp(h,g)}}var Yhe=tV(),Zhe=tV(!0);function rA(){return[]}function oA(){return!1}function Qhe(){return{}}function Jhe(){return""}function efe(){return!0}function tfe(h,g){if(h=bn(h),h<1||h>ge)return[];var x=te,E=fs(h,te);g=zt(g),h-=te;for(var P=_h(E,g);++x<h;)g(x);return P}function nfe(h){return fn(h)?qi(h,qc):Wa(h)?[h]:da(vV(xi(h)))}function ife(h){var g=++pae;return xi(h)+g}var rfe=y1(function(h,g){return h+g},0),ofe=Ok("ceil"),sfe=y1(function(h,g){return h/g},1),afe=Ok("floor");function lfe(h){return h&&h.length?h1(h,fa,xk):e}function cfe(h,g){return h&&h.length?h1(h,zt(g,2),xk):e}function dfe(h){return nt(h,fa)}function ufe(h,g){return nt(h,zt(g,2))}function hfe(h){return h&&h.length?h1(h,fa,Sk):e}function ffe(h,g){return h&&h.length?h1(h,zt(g,2),Sk):e}var pfe=y1(function(h,g){return h*g},1),gfe=Ok("round"),mfe=y1(function(h,g){return h-g},0);function vfe(h){return h&&h.length?sr(h,fa):0}function Cfe(h,g){return h&&h.length?sr(h,zt(g,2)):0}return H.after=Hde,H.ary=TV,H.assign=Rue,H.assignIn=zV,H.assignInWith=A1,H.assignWith=Tue,H.at=Iue,H.before=IV,H.bind=qk,H.bindAll=Phe,H.bindKey=FV,H.castArray=Qde,H.chain=EV,H.chunk=ace,H.compact=lce,H.concat=cce,H.cond=Ohe,H.conforms=Lhe,H.constant=eA,H.countBy=vde,H.create=Fue,H.curry=kV,H.curryRight=AV,H.debounce=MV,H.defaults=kue,H.defaultsDeep=Aue,H.defer=Gde,H.delay=zde,H.difference=dce,H.differenceBy=uce,H.differenceWith=hce,H.drop=fce,H.dropRight=pce,H.dropRightWhile=gce,H.dropWhile=mce,H.fill=vce,H.filter=yde,H.flatMap=wde,H.flatMapDeep=_de,H.flatMapDepth=Sde,H.flatten=bV,H.flattenDeep=Cce,H.flattenDepth=yce,H.flip=Ude,H.flow=Bhe,H.flowRight=Vhe,H.fromPairs=xce,H.functions=Vue,H.functionsIn=Hue,H.groupBy=Ede,H.initial=wce,H.intersection=_ce,H.intersectionBy=Sce,H.intersectionWith=Ece,H.invert=zue,H.invertBy=Uue,H.invokeMap=Rde,H.iteratee=tA,H.keyBy=Tde,H.keys=To,H.keysIn=ha,H.map=D1,H.mapKeys=jue,H.mapValues=$ue,H.matches=Hhe,H.matchesProperty=Ghe,H.memoize=T1,H.merge=que,H.mergeWith=UV,H.method=zhe,H.methodOf=Uhe,H.mixin=nA,H.negate=I1,H.nthArg=jhe,H.omit=Kue,H.omitBy=Xue,H.once=Wde,H.orderBy=Ide,H.over=$he,H.overArgs=jde,H.overEvery=qhe,H.overSome=Khe,H.partial=Kk,H.partialRight=PV,H.partition=Fde,H.pick=Yue,H.pickBy=WV,H.property=ZV,H.propertyOf=Xhe,H.pull=Ice,H.pullAll=_V,H.pullAllBy=Fce,H.pullAllWith=kce,H.pullAt=Ace,H.range=Yhe,H.rangeRight=Zhe,H.rearg=$de,H.reject=Mde,H.remove=Mce,H.rest=qde,H.reverse=jk,H.sampleSize=Ode,H.set=Que,H.setWith=Jue,H.shuffle=Lde,H.slice=Pce,H.sortBy=Vde,H.sortedUniq=Gce,H.sortedUniqBy=zce,H.split=whe,H.spread=Kde,H.tail=Uce,H.take=Wce,H.takeRight=jce,H.takeRightWhile=$ce,H.takeWhile=qce,H.tap=lde,H.throttle=Xde,H.thru=E1,H.toArray=VV,H.toPairs=jV,H.toPairsIn=$V,H.toPath=nfe,H.toPlainObject=GV,H.transform=ehe,H.unary=Yde,H.union=Kce,H.unionBy=Xce,H.unionWith=Yce,H.uniq=Zce,H.uniqBy=Qce,H.uniqWith=Jce,H.unset=the,H.unzip=$k,H.unzipWith=SV,H.update=nhe,H.updateWith=ihe,H.values=Am,H.valuesIn=rhe,H.without=ede,H.words=XV,H.wrap=Zde,H.xor=tde,H.xorBy=nde,H.xorWith=ide,H.zip=rde,H.zipObject=ode,H.zipObjectDeep=sde,H.zipWith=ade,H.entries=jV,H.entriesIn=$V,H.extend=zV,H.extendWith=A1,nA(H,H),H.add=rfe,H.attempt=YV,H.camelCase=lhe,H.capitalize=qV,H.ceil=ofe,H.clamp=ohe,H.clone=Jde,H.cloneDeep=tue,H.cloneDeepWith=nue,H.cloneWith=eue,H.conformsTo=iue,H.deburr=KV,H.defaultTo=Nhe,H.divide=sfe,H.endsWith=che,H.eq=ac,H.escape=dhe,H.escapeRegExp=uhe,H.every=Cde,H.find=xde,H.findIndex=yV,H.findKey=Mue,H.findLast=bde,H.findLastIndex=xV,H.findLastKey=Pue,H.floor=afe,H.forEach=DV,H.forEachRight=RV,H.forIn=Oue,H.forInRight=Lue,H.forOwn=Nue,H.forOwnRight=Bue,H.get=Zk,H.gt=rue,H.gte=oue,H.has=Gue,H.hasIn=Qk,H.head=wV,H.identity=fa,H.includes=Dde,H.indexOf=bce,H.inRange=she,H.invoke=Wue,H.isArguments=bp,H.isArray=fn,H.isArrayBuffer=sue,H.isArrayLike=ua,H.isArrayLikeObject=zr,H.isBoolean=aue,H.isBuffer=Fh,H.isDate=lue,H.isElement=cue,H.isEmpty=due,H.isEqual=uue,H.isEqualWith=hue,H.isError=Xk,H.isFinite=fue,H.isFunction=lu,H.isInteger=OV,H.isLength=F1,H.isMap=LV,H.isMatch=pue,H.isMatchWith=gue,H.isNaN=mue,H.isNative=vue,H.isNil=yue,H.isNull=Cue,H.isNumber=NV,H.isObject=pr,H.isObjectLike=Rr,H.isPlainObject=_y,H.isRegExp=Yk,H.isSafeInteger=xue,H.isSet=BV,H.isString=k1,H.isSymbol=Wa,H.isTypedArray=km,H.isUndefined=bue,H.isWeakMap=wue,H.isWeakSet=_ue,H.join=Dce,H.kebabCase=hhe,H.last=Cl,H.lastIndexOf=Rce,H.lowerCase=fhe,H.lowerFirst=phe,H.lt=Sue,H.lte=Eue,H.max=lfe,H.maxBy=cfe,H.mean=dfe,H.meanBy=ufe,H.min=hfe,H.minBy=ffe,H.stubArray=rA,H.stubFalse=oA,H.stubObject=Qhe,H.stubString=Jhe,H.stubTrue=efe,H.multiply=pfe,H.nth=Tce,H.noConflict=Whe,H.noop=iA,H.now=R1,H.pad=ghe,H.padEnd=mhe,H.padStart=vhe,H.parseInt=Che,H.random=ahe,H.reduce=kde,H.reduceRight=Ade,H.repeat=yhe,H.replace=xhe,H.result=Zue,H.round=gfe,H.runInContext=ue,H.sample=Pde,H.size=Nde,H.snakeCase=bhe,H.some=Bde,H.sortedIndex=Oce,H.sortedIndexBy=Lce,H.sortedIndexOf=Nce,H.sortedLastIndex=Bce,H.sortedLastIndexBy=Vce,H.sortedLastIndexOf=Hce,H.startCase=_he,H.startsWith=She,H.subtract=mfe,H.sum=vfe,H.sumBy=Cfe,H.template=Ehe,H.times=tfe,H.toFinite=cu,H.toInteger=bn,H.toLength=HV,H.toLower=Dhe,H.toNumber=yl,H.toSafeInteger=Due,H.toString=xi,H.toUpper=Rhe,H.trim=The,H.trimEnd=Ihe,H.trimStart=Fhe,H.truncate=khe,H.unescape=Ahe,H.uniqueId=ife,H.upperCase=Mhe,H.upperFirst=Jk,H.each=DV,H.eachRight=RV,H.first=wV,nA(H,function(){var h={};return jc(H,function(g,x){Ti.call(H.prototype,x)||(h[x]=g)}),h}(),{chain:!1}),H.VERSION=t,ca(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){H[h].placeholder=H}),ca(["drop","take"],function(h,g){Hn.prototype[h]=function(x){x=x===e?1:mo(bn(x),0);var E=this.__filtered__&&!g?new Hn(this):this.clone();return E.__filtered__?E.__takeCount__=fs(x,E.__takeCount__):E.__views__.push({size:fs(x,te),type:h+(E.__dir__<0?"Right":"")}),E},Hn.prototype[h+"Right"]=function(x){return this.reverse()[h](x).reverse()}}),ca(["filter","map","takeWhile"],function(h,g){var x=g+1,E=x==V||x==re;Hn.prototype[h]=function(P){var G=this.clone();return G.__iteratees__.push({iteratee:zt(P,3),type:x}),G.__filtered__=G.__filtered__||E,G}}),ca(["head","last"],function(h,g){var x="take"+(g?"Right":"");Hn.prototype[h]=function(){return this[x](1).value()[0]}}),ca(["initial","tail"],function(h,g){var x="drop"+(g?"":"Right");Hn.prototype[h]=function(){return this.__filtered__?new Hn(this):this[x](1)}}),Hn.prototype.compact=function(){return this.filter(fa)},Hn.prototype.find=function(h){return this.filter(h).head()},Hn.prototype.findLast=function(h){return this.reverse().find(h)},Hn.prototype.invokeMap=An(function(h,g){return typeof h=="function"?new Hn(this):this.map(function(x){return vy(x,h,g)})}),Hn.prototype.reject=function(h){return this.filter(I1(zt(h)))},Hn.prototype.slice=function(h,g){h=bn(h);var x=this;return x.__filtered__&&(h>0||g<0)?new Hn(x):(h<0?x=x.takeRight(-h):h&&(x=x.drop(h)),g!==e&&(g=bn(g),x=g<0?x.dropRight(-g):x.take(g-h)),x)},Hn.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Hn.prototype.toArray=function(){return this.take(te)},jc(Hn.prototype,function(h,g){var x=/^(?:filter|find|map|reject)|While$/.test(g),E=/^(?:head|last)$/.test(g),P=H[E?"take"+(g=="last"?"Right":""):g],G=E||/^find/.test(g);P&&(H.prototype[g]=function(){var ie=this.__wrapped__,le=E?[1]:arguments,he=ie instanceof Hn,Ge=le[0],Ue=he||fn(ie),qe=function(Nn){var Xn=P.apply(H,zc([Nn],le));return E&&ht?Xn[0]:Xn};Ue&&x&&typeof Ge=="function"&&Ge.length!=1&&(he=Ue=!1);var ht=this.__chain__,Dt=!!this.__actions__.length,jt=G&&!ht,In=he&&!Dt;if(!G&&Ue){ie=In?ie:new Hn(this);var $t=h.apply(ie,le);return $t.__actions__.push({func:E1,args:[qe],thisArg:e}),new gl($t,ht)}return jt&&In?h.apply(this,le):($t=this.thru(qe),jt?E?$t.value()[0]:$t.value():$t)})}),ca(["pop","push","shift","sort","splice","unshift"],function(h){var g=Z_[h],x=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",E=/^(?:pop|shift)$/.test(h);H.prototype[h]=function(){var P=arguments;if(E&&!this.__chain__){var G=this.value();return g.apply(fn(G)?G:[],P)}return this[x](function(ie){return g.apply(fn(ie)?ie:[],P)})}}),jc(Hn.prototype,function(h,g){var x=H[g];if(x){var E=x.name+"";Ti.call(Dm,E)||(Dm[E]=[]),Dm[E].push({name:g,func:x})}}),Dm[C1(e,v).name]=[{name:"wrapper",func:e}],Hn.prototype.clone=Aae,Hn.prototype.reverse=Mae,Hn.prototype.value=Pae,H.prototype.at=cde,H.prototype.chain=dde,H.prototype.commit=ude,H.prototype.next=hde,H.prototype.plant=pde,H.prototype.reverse=gde,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=mde,H.prototype.first=H.prototype.head,dy&&(H.prototype[dy]=fde),H},Sh=uae();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(no._=Sh,define(function(){return Sh})):tu?((tu.exports=Sh)._=Sh,ty._=Sh):no._=Sh}).call(Kv)});var LZ=Fn((HR,S6)=>{"use strict";(function(t,n){typeof HR=="object"&&typeof S6=="object"?S6.exports=n():typeof define=="function"&&define.amd?define([],n):typeof HR=="object"?HR.Pusher=n():t.Pusher=n()})(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(i,r,o){n.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,r){if(r&1&&(i=n(i)),r&8||r&4&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),r&2&&typeof i!="string")for(var s in i)n.d(o,s,function(a){return i[a]}.bind(null,s));return o},n.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(r,"a",r),r},n.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var p=function(m,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var b in y)y.hasOwnProperty(b)&&(C[b]=y[b])},p(m,v)};return function(m,v){p(m,v);function C(){this.constructor=m}m.prototype=v===null?Object.create(v):(C.prototype=v.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=256,o=function(){function p(m){m===void 0&&(m="="),this._paddingCharacter=m}return p.prototype.encodedLength=function(m){return this._paddingCharacter?(m+2)/3*4|0:(m*8+5)/6|0},p.prototype.encode=function(m){for(var v="",C=0;C<m.length-2;C+=3){var y=m[C]<<16|m[C+1]<<8|m[C+2];v+=this._encodeByte(y>>>3*6&63),v+=this._encodeByte(y>>>2*6&63),v+=this._encodeByte(y>>>1*6&63),v+=this._encodeByte(y>>>0*6&63)}var b=m.length-C;if(b>0){var y=m[C]<<16|(b===2?m[C+1]<<8:0);v+=this._encodeByte(y>>>3*6&63),v+=this._encodeByte(y>>>2*6&63),b===2?v+=this._encodeByte(y>>>1*6&63):v+=this._paddingCharacter||"",v+=this._paddingCharacter||""}return v},p.prototype.maxDecodedLength=function(m){return this._paddingCharacter?m/4*3|0:(m*6+7)/8|0},p.prototype.decodedLength=function(m){return this.maxDecodedLength(m.length-this._getPaddingLength(m))},p.prototype.decode=function(m){if(m.length===0)return new Uint8Array(0);for(var v=this._getPaddingLength(m),C=m.length-v,y=new Uint8Array(this.maxDecodedLength(C)),b=0,w=0,S=0,D=0,R=0,T=0,k=0;w<C-4;w+=4)D=this._decodeChar(m.charCodeAt(w+0)),R=this._decodeChar(m.charCodeAt(w+1)),T=this._decodeChar(m.charCodeAt(w+2)),k=this._decodeChar(m.charCodeAt(w+3)),y[b++]=D<<2|R>>>4,y[b++]=R<<4|T>>>2,y[b++]=T<<6|k,S|=D&r,S|=R&r,S|=T&r,S|=k&r;if(w<C-1&&(D=this._decodeChar(m.charCodeAt(w)),R=this._decodeChar(m.charCodeAt(w+1)),y[b++]=D<<2|R>>>4,S|=D&r,S|=R&r),w<C-2&&(T=this._decodeChar(m.charCodeAt(w+2)),y[b++]=R<<4|T>>>2,S|=T&r),w<C-3&&(k=this._decodeChar(m.charCodeAt(w+3)),y[b++]=T<<6|k,S|=k&r),S!==0)throw new Error("Base64Coder: incorrect characters for decoding");return y},p.prototype._encodeByte=function(m){var v=m;return v+=65,v+=25-m>>>8&6,v+=51-m>>>8&-75,v+=61-m>>>8&-15,v+=62-m>>>8&3,String.fromCharCode(v)},p.prototype._decodeChar=function(m){var v=r;return v+=(42-m&m-44)>>>8&-r+m-43+62,v+=(46-m&m-48)>>>8&-r+m-47+63,v+=(47-m&m-58)>>>8&-r+m-48+52,v+=(64-m&m-91)>>>8&-r+m-65+0,v+=(96-m&m-123)>>>8&-r+m-97+26,v},p.prototype._getPaddingLength=function(m){var v=0;if(this._paddingCharacter){for(var C=m.length-1;C>=0&&m[C]===this._paddingCharacter;C--)v++;if(m.length<4||v>2)throw new Error("Base64Coder: incorrect padding")}return v},p}();t.Coder=o;var s=new o;function a(p){return s.encode(p)}t.encode=a;function l(p){return s.decode(p)}t.decode=l;var c=function(p){i(m,p);function m(){return p!==null&&p.apply(this,arguments)||this}return m.prototype._encodeByte=function(v){var C=v;return C+=65,C+=25-v>>>8&6,C+=51-v>>>8&-75,C+=61-v>>>8&-13,C+=62-v>>>8&49,String.fromCharCode(C)},m.prototype._decodeChar=function(v){var C=r;return C+=(44-v&v-46)>>>8&-r+v-45+62,C+=(94-v&v-96)>>>8&-r+v-95+63,C+=(47-v&v-58)>>>8&-r+v-48+52,C+=(64-v&v-91)>>>8&-r+v-65+0,C+=(96-v&v-123)>>>8&-r+v-97+26,C},m}(o);t.URLSafeCoder=c;var d=new c;function u(p){return d.encode(p)}t.encodeURLSafe=u;function f(p){return d.decode(p)}t.decodeURLSafe=f,t.encodedLength=function(p){return s.encodedLength(p)},t.maxDecodedLength=function(p){return s.maxDecodedLength(p)},t.decodedLength=function(p){return s.decodedLength(p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="utf8: invalid string",r="utf8: invalid source encoding";function o(l){for(var c=new Uint8Array(s(l)),d=0,u=0;u<l.length;u++){var f=l.charCodeAt(u);f<128?c[d++]=f:f<2048?(c[d++]=192|f>>6,c[d++]=128|f&63):f<55296?(c[d++]=224|f>>12,c[d++]=128|f>>6&63,c[d++]=128|f&63):(u++,f=(f&1023)<<10,f|=l.charCodeAt(u)&1023,f+=65536,c[d++]=240|f>>18,c[d++]=128|f>>12&63,c[d++]=128|f>>6&63,c[d++]=128|f&63)}return c}t.encode=o;function s(l){for(var c=0,d=0;d<l.length;d++){var u=l.charCodeAt(d);if(u<128)c+=1;else if(u<2048)c+=2;else if(u<55296)c+=3;else if(u<=57343){if(d>=l.length-1)throw new Error(i);d++,c+=4}else throw new Error(i)}return c}t.encodedLength=s;function a(l){for(var c=[],d=0;d<l.length;d++){var u=l[d];if(u&128){var f=void 0;if(u<224){if(d>=l.length)throw new Error(r);var p=l[++d];if((p&192)!==128)throw new Error(r);u=(u&31)<<6|p&63,f=128}else if(u<240){if(d>=l.length-1)throw new Error(r);var p=l[++d],m=l[++d];if((p&192)!==128||(m&192)!==128)throw new Error(r);u=(u&15)<<12|(p&63)<<6|m&63,f=2048}else if(u<248){if(d>=l.length-2)throw new Error(r);var p=l[++d],m=l[++d],v=l[++d];if((p&192)!==128||(m&192)!==128||(v&192)!==128)throw new Error(r);u=(u&15)<<18|(p&63)<<12|(m&63)<<6|v&63,f=65536}else throw new Error(r);if(u<f||u>=55296&&u<=57343)throw new Error(r);if(u>=65536){if(u>1114111)throw new Error(r);u-=65536,c.push(String.fromCharCode(55296|u>>10)),u=56320|u&1023}}c.push(String.fromCharCode(u))}return c.join("")}t.decode=a},function(e,t,n){e.exports=n(3).default},function(e,t,n){"use strict";n.r(t);class i{constructor(_,I){this.lastId=0,this.prefix=_,this.name=I}create(_){this.lastId++;var I=this.lastId,W=this.prefix+I,ne=this.name+"["+I+"]",Oe=!1,nt=function(){Oe||(_.apply(null,arguments),Oe=!0)};return this[I]=nt,{number:I,id:W,name:ne,callback:nt}}remove(_){delete this[_.number]}}var r=new i("_pusher_script_","Pusher.ScriptReceivers"),o={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=o;class a{constructor(_){this.options=_,this.receivers=_.receivers||r,this.loading={}}load(_,I,W){var ne=this;if(ne.loading[_]&&ne.loading[_].length>0)ne.loading[_].push(W);else{ne.loading[_]=[W];var Oe=un.createScriptRequest(ne.getPath(_,I)),nt=ne.receivers.create(function(xt){if(ne.receivers.remove(nt),ne.loading[_]){var en=ne.loading[_];delete ne.loading[_];for(var Kn=function(sr){sr||Oe.cleanup()},ci=0;ci<en.length;ci++)en[ci](xt,Kn)}});Oe.send(nt)}}getRoot(_){var I,W=un.getDocument().location.protocol;return _&&_.useTLS||W==="https:"?I=this.options.cdn_https:I=this.options.cdn_http,I.replace(/\/*$/,"")+"/"+this.options.version}getPath(_,I){return this.getRoot(I)+"/"+_+this.options.suffix+".js"}}var l=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),c=new a({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:l});let d={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var f={buildLogSuffix:function(F){let _="See:",I=d.urls[F];if(!I)return"";let W;return I.fullUrl?W=I.fullUrl:I.path&&(W=d.baseUrl+I.path),W?`${_} ${W}`:""}},p=function(F){return F.UserAuthentication="user-authentication",F.ChannelAuthorization="channel-authorization",F}(p||{});class m extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(_){super(_),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(_,I){super(I),this.status=_,Object.setPrototypeOf(this,new.target.prototype)}}var k=function(F,_,I,W,ne){let Oe=un.createXHR();Oe.open("POST",I.endpoint,!0),Oe.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var nt in I.headers)Oe.setRequestHeader(nt,I.headers[nt]);if(I.headersProvider!=null){let xt=I.headersProvider();for(var nt in xt)Oe.setRequestHeader(nt,xt[nt])}return Oe.onreadystatechange=function(){if(Oe.readyState===4)if(Oe.status===200){let xt,en=!1;try{xt=JSON.parse(Oe.responseText),en=!0}catch{ne(new R(200,`JSON returned from ${W.toString()} endpoint was invalid, yet status code was 200. Data was: ${Oe.responseText}`),null)}en&&ne(null,xt)}else{let xt="";switch(W){case p.UserAuthentication:xt=f.buildLogSuffix("authenticationEndpoint");break;case p.ChannelAuthorization:xt=`Clients must be authorized to join private or presence channels. ${f.buildLogSuffix("authorizationEndpoint")}`;break}ne(new R(Oe.status,`Unable to retrieve auth string from ${W.toString()} endpoint - received status: ${Oe.status} from ${I.endpoint}. ${xt}`),null)}},Oe.send(_),Oe};function M(F){return Ee(ge(F))}for(var B=String.fromCharCode,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V={},ee=0,re=L.length;ee<re;ee++)V[L.charAt(ee)]=ee;var se=function(F){var _=F.charCodeAt(0);return _<128?F:_<2048?B(192|_>>>6)+B(128|_&63):B(224|_>>>12&15)+B(128|_>>>6&63)+B(128|_&63)},ge=function(F){return F.replace(/[^\x00-\x7F]/g,se)},fe=function(F){var _=[0,2,1][F.length%3],I=F.charCodeAt(0)<<16|(F.length>1?F.charCodeAt(1):0)<<8|(F.length>2?F.charCodeAt(2):0),W=[L.charAt(I>>>18),L.charAt(I>>>12&63),_>=2?"=":L.charAt(I>>>6&63),_>=1?"=":L.charAt(I&63)];return W.join("")},Ee=window.btoa||function(F){return F.replace(/[\s\S]{1,3}/g,fe)};class te{constructor(_,I,W,ne){this.clear=I,this.timer=_(()=>{this.timer&&(this.timer=ne(this.timer))},W)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var oe=te;function J(F){window.clearTimeout(F)}function A(F){window.clearInterval(F)}class ae extends oe{constructor(_,I){super(setTimeout,J,_,function(W){return I(),null})}}class K extends oe{constructor(_,I){super(setInterval,A,_,function(W){return I(),W})}}var Q={now(){return Date.now?Date.now():new Date().valueOf()},defer(F){return new ae(0,F)},method(F,..._){var I=Array.prototype.slice.call(arguments,1);return function(W){return W[F].apply(W,I.concat(arguments))}}},ce=Q;function Me(F,..._){for(var I=0;I<_.length;I++){var W=_[I];for(var ne in W)W[ne]&&W[ne].constructor&&W[ne].constructor===Object?F[ne]=Me(F[ne]||{},W[ne]):F[ne]=W[ne]}return F}function ze(){for(var F=["Pusher"],_=0;_<arguments.length;_++)typeof arguments[_]=="string"?F.push(arguments[_]):F.push(ei(arguments[_]));return F.join(" : ")}function Ve(F,_){var I=Array.prototype.indexOf;if(F===null)return-1;if(I&&F.indexOf===I)return F.indexOf(_);for(var W=0,ne=F.length;W<ne;W++)if(F[W]===_)return W;return-1}function ye(F,_){for(var I in F)Object.prototype.hasOwnProperty.call(F,I)&&_(F[I],I,F)}function vt(F){var _=[];return ye(F,function(I,W){_.push(W)}),_}function q(F){var _=[];return ye(F,function(I){_.push(I)}),_}function Vt(F,_,I){for(var W=0;W<F.length;W++)_.call(I||window,F[W],W,F)}function St(F,_){for(var I=[],W=0;W<F.length;W++)I.push(_(F[W],W,F,I));return I}function _t(F,_){var I={};return ye(F,function(W,ne){I[ne]=_(W)}),I}function wt(F,_){_=_||function(ne){return!!ne};for(var I=[],W=0;W<F.length;W++)_(F[W],W,F,I)&&I.push(F[W]);return I}function Ze(F,_){var I={};return ye(F,function(W,ne){(_&&_(W,ne,F,I)||W)&&(I[ne]=W)}),I}function gt(F){var _=[];return ye(F,function(I,W){_.push([W,I])}),_}function Ht(F,_){for(var I=0;I<F.length;I++)if(_(F[I],I,F))return!0;return!1}function xn(F,_){for(var I=0;I<F.length;I++)if(!_(F[I],I,F))return!1;return!0}function $n(F){return _t(F,function(_){return typeof _=="object"&&(_=ei(_)),encodeURIComponent(M(_.toString()))})}function ur(F){var _=Ze(F,function(W){return W!==void 0}),I=St(gt($n(_)),ce.method("join","=")).join("&");return I}function Tn(F){var _=[],I=[];return function W(ne,Oe){var nt,xt,en;switch(typeof ne){case"object":if(!ne)return null;for(nt=0;nt<_.length;nt+=1)if(_[nt]===ne)return{$ref:I[nt]};if(_.push(ne),I.push(Oe),Object.prototype.toString.apply(ne)==="[object Array]")for(en=[],nt=0;nt<ne.length;nt+=1)en[nt]=W(ne[nt],Oe+"["+nt+"]");else{en={};for(xt in ne)Object.prototype.hasOwnProperty.call(ne,xt)&&(en[xt]=W(ne[xt],Oe+"["+JSON.stringify(xt)+"]"))}return en;case"number":case"string":case"boolean":return ne}}(F,"$")}function ei(F){try{return JSON.stringify(F)}catch{return JSON.stringify(Tn(F))}}class Ei{constructor(){this.globalLog=_=>{window.console&&window.console.log&&window.console.log(_)}}debug(..._){this.log(this.globalLog,_)}warn(..._){this.log(this.globalLogWarn,_)}error(..._){this.log(this.globalLogError,_)}globalLogWarn(_){window.console&&window.console.warn?window.console.warn(_):this.globalLog(_)}globalLogError(_){window.console&&window.console.error?window.console.error(_):this.globalLogWarn(_)}log(_,...I){var W=ze.apply(this,arguments);oy.log?oy.log(W):oy.logToConsole&&_.bind(this)(W)}}var Zt=new Ei,qn=function(F,_,I,W,ne){(I.headers!==void 0||I.headersProvider!=null)&&Zt.warn(`To send headers with the ${W.toString()} request, you must use AJAX, rather than JSONP.`);var Oe=F.nextAuthCallbackID.toString();F.nextAuthCallbackID++;var nt=F.getDocument(),xt=nt.createElement("script");F.auth_callbacks[Oe]=function(ci){ne(null,ci)};var en="Pusher.auth_callbacks['"+Oe+"']";xt.src=I.endpoint+"?callback="+encodeURIComponent(en)+"&"+_;var Kn=nt.getElementsByTagName("head")[0]||nt.documentElement;Kn.insertBefore(xt,Kn.firstChild)},Pi=qn;class li{constructor(_){this.src=_}send(_){var I=this,W="Error loading "+I.src;I.script=document.createElement("script"),I.script.id=_.id,I.script.src=I.src,I.script.type="text/javascript",I.script.charset="UTF-8",I.script.addEventListener?(I.script.onerror=function(){_.callback(W)},I.script.onload=function(){_.callback(null)}):I.script.onreadystatechange=function(){(I.script.readyState==="loaded"||I.script.readyState==="complete")&&_.callback(null)},I.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(I.errorScript=document.createElement("script"),I.errorScript.id=_.id+"_error",I.errorScript.text=_.name+"('"+W+"');",I.script.async=I.errorScript.async=!1):I.script.async=!0;var ne=document.getElementsByTagName("head")[0];ne.insertBefore(I.script,ne.firstChild),I.errorScript&&ne.insertBefore(I.errorScript,I.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ie{constructor(_,I){this.url=_,this.data=I}send(_){if(!this.request){var I=ur(this.data),W=this.url+"/"+_.number+"?"+I;this.request=un.createScriptRequest(W),this.request.send(_)}}cleanup(){this.request&&this.request.cleanup()}}var de=function(F,_){return function(I,W){var ne="http"+(_?"s":"")+"://",Oe=ne+(F.host||F.options.host)+F.options.path,nt=un.createJSONPRequest(Oe,I),xt=un.ScriptReceivers.create(function(en,Kn){r.remove(xt),nt.cleanup(),Kn&&Kn.host&&(F.host=Kn.host),W&&W(en,Kn)});nt.send(xt)}},me={name:"jsonp",getAgent:de},Je=me;function Mt(F,_,I){var W=F+(_.useTLS?"s":""),ne=_.useTLS?_.hostTLS:_.hostNonTLS;return W+"://"+ne+I}function ln(F,_){var I="/app/"+F,W="?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+(_?"&"+_:"");return I+W}var Qi={getInitial:function(F,_){var I=(_.httpPath||"")+ln(F,"flash=false");return Mt("ws",_,I)}},Hs={getInitial:function(F,_){var I=(_.httpPath||"/pusher")+ln(F);return Mt("http",_,I)}},ho={getInitial:function(F,_){return Mt("http",_,_.httpPath||"/pusher")},getPath:function(F,_){return ln(F)}};class Oi{constructor(){this._callbacks={}}get(_){return this._callbacks[ji(_)]}add(_,I,W){var ne=ji(_);this._callbacks[ne]=this._callbacks[ne]||[],this._callbacks[ne].push({fn:I,context:W})}remove(_,I,W){if(!_&&!I&&!W){this._callbacks={};return}var ne=_?[ji(_)]:vt(this._callbacks);I||W?this.removeCallback(ne,I,W):this.removeAllCallbacks(ne)}removeCallback(_,I,W){Vt(_,function(ne){this._callbacks[ne]=wt(this._callbacks[ne]||[],function(Oe){return I&&I!==Oe.fn||W&&W!==Oe.context}),this._callbacks[ne].length===0&&delete this._callbacks[ne]},this)}removeAllCallbacks(_){Vt(_,function(I){delete this._callbacks[I]},this)}}function ji(F){return"_"+F}class Ji{constructor(_){this.callbacks=new Oi,this.global_callbacks=[],this.failThrough=_}bind(_,I,W){return this.callbacks.add(_,I,W),this}bind_global(_){return this.global_callbacks.push(_),this}unbind(_,I,W){return this.callbacks.remove(_,I,W),this}unbind_global(_){return _?(this.global_callbacks=wt(this.global_callbacks||[],I=>I!==_),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(_,I,W){for(var ne=0;ne<this.global_callbacks.length;ne++)this.global_callbacks[ne](_,I);var Oe=this.callbacks.get(_),nt=[];if(W?nt.push(I,W):I&&nt.push(I),Oe&&Oe.length>0)for(var ne=0;ne<Oe.length;ne++)Oe[ne].fn.apply(Oe[ne].context||window,nt);else this.failThrough&&this.failThrough(_,I);return this}}class Ga extends Ji{constructor(_,I,W,ne,Oe){super(),this.initialize=un.transportConnectionInitializer,this.hooks=_,this.name=I,this.priority=W,this.key=ne,this.options=Oe,this.state="new",this.timeline=Oe.timeline,this.activityTimeout=Oe.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var _=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(_,this.options)}catch(I){return ce.defer(()=>{this.onError(I),this.changeState("closed")}),!1}return this.bindListeners(),Zt.debug("Connecting",{transport:this.name,url:_}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(_){return this.state==="open"?(ce.defer(()=>{this.socket&&this.socket.send(_)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(_){this.emit("error",{type:"WebSocketError",error:_}),this.timeline.error(this.buildTimelineMessage({error:_.toString()}))}onClose(_){_?this.changeState("closed",{code:_.code,reason:_.reason,wasClean:_.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(_){this.emit("message",_)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=_=>{this.onError(_)},this.socket.onclose=_=>{this.onClose(_)},this.socket.onmessage=_=>{this.onMessage(_)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(_,I){this.state=_,this.timeline.info(this.buildTimelineMessage({state:_,params:I})),this.emit(_,I)}buildTimelineMessage(_){return Me({cid:this.id},_)}}class Ro{constructor(_){this.hooks=_}isSupported(_){return this.hooks.isSupported(_)}createConnection(_,I,W,ne){return new Ga(this.hooks,_,I,W,ne)}}var rc=new Ro({urls:Qi,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!un.getWebSocketAPI()},isSupported:function(){return!!un.getWebSocketAPI()},getSocket:function(F){return un.createWebSocket(F)}}),Er={urls:Hs,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ds=Me({getSocket:function(F){return un.HTTPFactory.createStreamingSocket(F)}},Er),Dr=Me({getSocket:function(F){return un.HTTPFactory.createPollingSocket(F)}},Er),fo={isSupported:function(){return un.isXHRSupported()}},hr=new Ro(Me({},ds,fo)),Di=new Ro(Me({},Dr,fo)),$i={ws:rc,xhr_streaming:hr,xhr_polling:Di},Vn=$i,fr=new Ro({file:"sockjs",urls:ho,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(F,_){return new window.SockJS(F,null,{js_path:c.getPath("sockjs",{useTLS:_.useTLS}),ignore_null_origin:_.ignoreNullOrigin})},beforeOpen:function(F,_){F.send(JSON.stringify({path:_}))}}),us={isSupported:function(F){var _=un.isXDRSupported(F.useTLS);return _}},dp=new Ro(Me({},ds,us)),N=new Ro(Me({},Dr,us));Vn.xdr_streaming=dp,Vn.xdr_polling=N,Vn.sockjs=fr;var X=Vn;class U extends Ji{constructor(){super();var _=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){_.emit("online")},!1),window.addEventListener("offline",function(){_.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var j=new U;class Y{constructor(_,I,W){this.manager=_,this.transport=I,this.minPingDelay=W.minPingDelay,this.maxPingDelay=W.maxPingDelay,this.pingDelay=void 0}createConnection(_,I,W,ne){ne=Me({},ne,{activityTimeout:this.pingDelay});var Oe=this.transport.createConnection(_,I,W,ne),nt=null,xt=function(){Oe.unbind("open",xt),Oe.bind("closed",en),nt=ce.now()},en=Kn=>{if(Oe.unbind("closed",en),Kn.code===1002||Kn.code===1003)this.manager.reportDeath();else if(!Kn.wasClean&&nt){var ci=ce.now()-nt;ci<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ci/2,this.minPingDelay))}};return Oe.bind("open",xt),Oe}isSupported(_){return this.manager.isAlive()&&this.transport.isSupported(_)}}let Z={decodeMessage:function(F){try{var _=JSON.parse(F.data),I=_.data;if(typeof I=="string")try{I=JSON.parse(_.data)}catch{}var W={event:_.event,channel:_.channel,data:I};return _.user_id&&(W.user_id=_.user_id),W}catch(ne){throw{type:"MessageParseError",error:ne,data:F.data}}},encodeMessage:function(F){return JSON.stringify(F)},processHandshake:function(F){var _=Z.decodeMessage(F);if(_.event==="pusher:connection_established"){if(!_.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:_.data.socket_id,activityTimeout:_.data.activity_timeout*1e3}}else{if(_.event==="pusher:error")return{action:this.getCloseAction(_.data),error:this.getCloseError(_.data)};throw"Invalid handshake"}},getCloseAction:function(F){return F.code<4e3?F.code>=1002&&F.code<=1004?"backoff":null:F.code===4e3?"tls_only":F.code<4100?"refused":F.code<4200?"backoff":F.code<4300?"retry":"refused"},getCloseError:function(F){return F.code!==1e3&&F.code!==1001?{type:"PusherError",data:{code:F.code,message:F.reason||F.message}}:null}};var ve=Z;class Fe extends Ji{constructor(_,I){super(),this.id=_,this.transport=I,this.activityTimeout=I.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(_){return this.transport.send(_)}send_event(_,I,W){var ne={event:_,data:I};return W&&(ne.channel=W),Zt.debug("Event sent",ne),this.send(ve.encodeMessage(ne))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var _={message:W=>{var ne;try{ne=ve.decodeMessage(W)}catch(Oe){this.emit("error",{type:"MessageParseError",error:Oe,data:W.data})}if(ne!==void 0){switch(Zt.debug("Event recd",ne),ne.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ne.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ne)}},activity:()=>{this.emit("activity")},error:W=>{this.emit("error",W)},closed:W=>{I(),W&&W.code&&this.handleCloseEvent(W),this.transport=null,this.emit("closed")}},I=()=>{ye(_,(W,ne)=>{this.transport.unbind(ne,W)})};ye(_,(W,ne)=>{this.transport.bind(ne,W)})}handleCloseEvent(_){var I=ve.getCloseAction(_),W=ve.getCloseError(_);W&&this.emit("error",W),I&&this.emit(I,{action:I,error:W})}}class xe{constructor(_,I){this.transport=_,this.callback=I,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=_=>{this.unbindListeners();var I;try{I=ve.processHandshake(_)}catch(W){this.finish("error",{error:W}),this.transport.close();return}I.action==="connected"?this.finish("connected",{connection:new Fe(I.id,this.transport),activityTimeout:I.activityTimeout}):(this.finish(I.action,{error:I.error}),this.transport.close())},this.onClosed=_=>{this.unbindListeners();var I=ve.getCloseAction(_)||"backoff",W=ve.getCloseError(_);this.finish(I,{error:W})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(_,I){this.callback(Me({transport:this.transport,action:_},I))}}class Ce{constructor(_,I){this.timeline=_,this.options=I||{}}send(_,I){this.timeline.isEmpty()||this.timeline.send(un.TimelineTransport.getAgent(this,_),I)}}class be extends Ji{constructor(_,I){super(function(W,ne){Zt.debug("No callbacks on "+_+" for "+W)}),this.name=_,this.pusher=I,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(_,I){return I(null,{auth:""})}trigger(_,I){if(_.indexOf("client-")!==0)throw new m("Event '"+_+"' does not start with 'client-'");if(!this.subscribed){var W=f.buildLogSuffix("triggeringClientEvents");Zt.warn(`Client event triggered before channel 'subscription_succeeded' event . ${W}`)}return this.pusher.send_event(_,I,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(_){var I=_.event,W=_.data;if(I==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(_);else if(I==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(_);else if(I.indexOf("pusher_internal:")!==0){var ne={};this.emit(I,W,ne)}}handleSubscriptionSucceededEvent(_){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",_.data)}handleSubscriptionCountEvent(_){_.data.subscription_count&&(this.subscriptionCount=_.data.subscription_count),this.emit("pusher:subscription_count",_.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(_,I)=>{_?(this.subscriptionPending=!1,Zt.error(_.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:_.message},_ instanceof R?{status:_.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:I.auth,channel_data:I.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Ke extends be{authorize(_,I){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:_},I)}}class et{constructor(){this.reset()}get(_){return Object.prototype.hasOwnProperty.call(this.members,_)?{id:_,info:this.members[_]}:null}each(_){ye(this.members,(I,W)=>{_(this.get(W))})}setMyID(_){this.myID=_}onSubscription(_){this.members=_.presence.hash,this.count=_.presence.count,this.me=this.get(this.myID)}addMember(_){return this.get(_.user_id)===null&&this.count++,this.members[_.user_id]=_.user_info,this.get(_.user_id)}removeMember(_){var I=this.get(_.user_id);return I&&(delete this.members[_.user_id],this.count--),I}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var mt=function(F,_,I,W){function ne(Oe){return Oe instanceof I?Oe:new I(function(nt){nt(Oe)})}return new(I||(I=Promise))(function(Oe,nt){function xt(ci){try{Kn(W.next(ci))}catch(sr){nt(sr)}}function en(ci){try{Kn(W.throw(ci))}catch(sr){nt(sr)}}function Kn(ci){ci.done?Oe(ci.value):ne(ci.value).then(xt,en)}Kn((W=W.apply(F,_||[])).next())})};class tt extends Ke{constructor(_,I){super(_,I),this.members=new et}authorize(_,I){super.authorize(_,(W,ne)=>mt(this,void 0,void 0,function*(){if(!W)if(ne=ne,ne.channel_data!=null){var Oe=JSON.parse(ne.channel_data);this.members.setMyID(Oe.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let nt=f.buildLogSuffix("authorizationEndpoint");Zt.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${nt}, or the user should be signed in.`),I("Invalid auth response");return}I(W,ne)}))}handleEvent(_){var I=_.event;if(I.indexOf("pusher_internal:")===0)this.handleInternalEvent(_);else{var W=_.data,ne={};_.user_id&&(ne.user_id=_.user_id),this.emit(I,W,ne)}}handleInternalEvent(_){var I=_.event,W=_.data;switch(I){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(_);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(_);break;case"pusher_internal:member_added":var ne=this.members.addMember(W);this.emit("pusher:member_added",ne);break;case"pusher_internal:member_removed":var Oe=this.members.removeMember(W);Oe&&this.emit("pusher:member_removed",Oe);break}}handleSubscriptionSucceededEvent(_){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(_.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var at=n(1),Wt=n(0);class yi extends Ke{constructor(_,I,W){super(_,I),this.key=null,this.nacl=W}authorize(_,I){super.authorize(_,(W,ne)=>{if(W){I(W,ne);return}let Oe=ne.shared_secret;if(!Oe){I(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Wt.decode)(Oe),delete ne.shared_secret,I(null,ne)})}trigger(_,I){throw new w("Client events are not currently supported for encrypted channels")}handleEvent(_){var I=_.event,W=_.data;if(I.indexOf("pusher_internal:")===0||I.indexOf("pusher:")===0){super.handleEvent(_);return}this.handleEncryptedEvent(I,W)}handleEncryptedEvent(_,I){if(!this.key){Zt.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!I.ciphertext||!I.nonce){Zt.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+I);return}let W=Object(Wt.decode)(I.ciphertext);if(W.length<this.nacl.secretbox.overheadLength){Zt.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${W.length}`);return}let ne=Object(Wt.decode)(I.nonce);if(ne.length<this.nacl.secretbox.nonceLength){Zt.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ne.length}`);return}let Oe=this.nacl.secretbox.open(W,ne,this.key);if(Oe===null){Zt.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(nt,xt)=>{if(nt){Zt.error(`Failed to make a request to the authEndpoint: ${xt}. Unable to fetch new key, so dropping encrypted event`);return}if(Oe=this.nacl.secretbox.open(W,ne,this.key),Oe===null){Zt.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(_,this.getDataToEmit(Oe))});return}this.emit(_,this.getDataToEmit(Oe))}getDataToEmit(_){let I=Object(at.decode)(_);try{return JSON.parse(I)}catch{return I}}}class po extends Ji{constructor(_,I){super(),this.state="initialized",this.connection=null,this.key=_,this.options=I,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var W=un.getNetwork();W.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),W.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(_){return this.connection?this.connection.send(_):!1}send_event(_,I,W){return this.connection?this.connection.send_event(_,I,W):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var _=(I,W)=>{I?this.runner=this.strategy.connect(0,_):W.action==="error"?(this.emit("error",{type:"HandshakeError",error:W.error}),this.timeline.error({handshakeError:W.error})):(this.abortConnecting(),this.handshakeCallbacks[W.action](W))};this.runner=this.strategy.connect(0,_)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var _=this.abandonConnection();_.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(_){this.timeline.info({action:"retry",delay:_}),_>0&&this.emit("connecting_in",Math.round(_/1e3)),this.retryTimer=new ae(_||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ae(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ae(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ae(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(_){return Me({},_,{message:I=>{this.resetActivityCheck(),this.emit("message",I)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:I=>{this.emit("error",I)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(_){return Me({},_,{connected:I=>{this.activityTimeout=Math.min(this.options.activityTimeout,I.activityTimeout,I.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(I.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let _=I=>W=>{W.error&&this.emit("error",{type:"WebSocketError",error:W.error}),I(W)};return{tls_only:_(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:_(()=>{this.disconnect()}),backoff:_(()=>{this.retryIn(1e3)}),retry:_(()=>{this.retryIn(0)})}}setConnection(_){this.connection=_;for(var I in this.connectionCallbacks)this.connection.bind(I,this.connectionCallbacks[I]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var _ in this.connectionCallbacks)this.connection.unbind(_,this.connectionCallbacks[_]);var I=this.connection;return this.connection=null,I}}updateState(_,I){var W=this.state;if(this.state=_,W!==_){var ne=_;ne==="connected"&&(ne+=" with new socket ID "+I.socket_id),Zt.debug("State changed",W+" -> "+ne),this.timeline.info({state:_,params:I}),this.emit("state_change",{previous:W,current:_}),this.emit(_,I)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class er{constructor(){this.channels={}}add(_,I){return this.channels[_]||(this.channels[_]=Wo(_,I)),this.channels[_]}all(){return q(this.channels)}find(_){return this.channels[_]}remove(_){var I=this.channels[_];return delete this.channels[_],I}disconnect(){ye(this.channels,function(_){_.disconnect()})}}function Wo(F,_){if(F.indexOf("private-encrypted-")===0){if(_.config.nacl)return jo.createEncryptedChannel(F,_,_.config.nacl);let I="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",W=f.buildLogSuffix("encryptedChannelSupport");throw new w(`${I}. ${W}`)}else{if(F.indexOf("private-")===0)return jo.createPrivateChannel(F,_);if(F.indexOf("presence-")===0)return jo.createPresenceChannel(F,_);if(F.indexOf("#")===0)throw new v('Cannot create a channel with name "'+F+'".');return jo.createChannel(F,_)}}var Jd={createChannels(){return new er},createConnectionManager(F,_){return new po(F,_)},createChannel(F,_){return new be(F,_)},createPrivateChannel(F,_){return new Ke(F,_)},createPresenceChannel(F,_){return new tt(F,_)},createEncryptedChannel(F,_,I){return new yi(F,_,I)},createTimelineSender(F,_){return new Ce(F,_)},createHandshake(F,_){return new xe(F,_)},createAssistantToTheTransportManager(F,_,I){return new Y(F,_,I)}},jo=Jd;class fl{constructor(_){this.options=_||{},this.livesLeft=this.options.lives||1/0}getAssistant(_){return jo.createAssistantToTheTransportManager(this,_,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class la{constructor(_,I){this.strategies=_,this.loop=!!I.loop,this.failFast=!!I.failFast,this.timeout=I.timeout,this.timeoutLimit=I.timeoutLimit}isSupported(){return Ht(this.strategies,ce.method("isSupported"))}connect(_,I){var W=this.strategies,ne=0,Oe=this.timeout,nt=null,xt=(en,Kn)=>{Kn?I(null,Kn):(ne=ne+1,this.loop&&(ne=ne%W.length),ne<W.length?(Oe&&(Oe=Oe*2,this.timeoutLimit&&(Oe=Math.min(Oe,this.timeoutLimit))),nt=this.tryStrategy(W[ne],_,{timeout:Oe,failFast:this.failFast},xt)):I(!0))};return nt=this.tryStrategy(W[ne],_,{timeout:Oe,failFast:this.failFast},xt),{abort:function(){nt.abort()},forceMinPriority:function(en){_=en,nt&&nt.forceMinPriority(en)}}}tryStrategy(_,I,W,ne){var Oe=null,nt=null;return W.timeout>0&&(Oe=new ae(W.timeout,function(){nt.abort(),ne(!0)})),nt=_.connect(I,function(xt,en){xt&&Oe&&Oe.isRunning()&&!W.failFast||(Oe&&Oe.ensureAborted(),ne(xt,en))}),{abort:function(){Oe&&Oe.ensureAborted(),nt.abort()},forceMinPriority:function(xt){nt.forceMinPriority(xt)}}}}class hs{constructor(_){this.strategies=_}isSupported(){return Ht(this.strategies,ce.method("isSupported"))}connect(_,I){return R_(this.strategies,_,function(W,ne){return function(Oe,nt){if(ne[W].error=Oe,Oe){KC(ne)&&I(!0);return}Vt(ne,function(xt){xt.forceMinPriority(nt.transport.priority)}),I(null,nt)}})}}function R_(F,_,I){var W=St(F,function(ne,Oe,nt,xt){return ne.connect(_,I(Oe,xt))});return{abort:function(){Vt(W,HF)},forceMinPriority:function(ne){Vt(W,function(Oe){Oe.forceMinPriority(ne)})}}}function KC(F){return xn(F,function(_){return!!_.error})}function HF(F){!F.error&&!F.aborted&&(F.abort(),F.aborted=!0)}class T_{constructor(_,I,W){this.strategy=_,this.transports=I,this.ttl=W.ttl||1800*1e3,this.usingTLS=W.useTLS,this.timeline=W.timeline}isSupported(){return this.strategy.isSupported()}connect(_,I){var W=this.usingTLS,ne=I_(W),Oe=ne&&ne.cacheSkipCount?ne.cacheSkipCount:0,nt=[this.strategy];if(ne&&ne.timestamp+this.ttl>=ce.now()){var xt=this.transports[ne.transport];xt&&(["ws","wss"].includes(ne.transport)||Oe>3?(this.timeline.info({cached:!0,transport:ne.transport,latency:ne.latency}),nt.push(new la([xt],{timeout:ne.latency*2+1e3,failFast:!0}))):Oe++)}var en=ce.now(),Kn=nt.pop().connect(_,function ci(sr,_h){sr?(XC(W),nt.length>0?(en=ce.now(),Kn=nt.pop().connect(_,ci)):I(sr)):(GF(W,_h.transport.name,ce.now()-en,Oe),I(null,_h))});return{abort:function(){Kn.abort()},forceMinPriority:function(ci){_=ci,Kn&&Kn.forceMinPriority(ci)}}}}function xh(F){return"pusherTransport"+(F?"TLS":"NonTLS")}function I_(F){var _=un.getLocalStorage();if(_)try{var I=_[xh(F)];if(I)return JSON.parse(I)}catch{XC(F)}return null}function GF(F,_,I,W){var ne=un.getLocalStorage();if(ne)try{ne[xh(F)]=ei({timestamp:ce.now(),transport:_,latency:I,cacheSkipCount:W})}catch{}}function XC(F){var _=un.getLocalStorage();if(_)try{delete _[xh(F)]}catch{}}class up{constructor(_,{delay:I}){this.strategy=_,this.options={delay:I}}isSupported(){return this.strategy.isSupported()}connect(_,I){var W=this.strategy,ne,Oe=new ae(this.options.delay,function(){ne=W.connect(_,I)});return{abort:function(){Oe.ensureAborted(),ne&&ne.abort()},forceMinPriority:function(nt){_=nt,ne&&ne.forceMinPriority(nt)}}}}class eu{constructor(_,I,W){this.test=_,this.trueBranch=I,this.falseBranch=W}isSupported(){var _=this.test()?this.trueBranch:this.falseBranch;return _.isSupported()}connect(_,I){var W=this.test()?this.trueBranch:this.falseBranch;return W.connect(_,I)}}class zF{constructor(_){this.strategy=_}isSupported(){return this.strategy.isSupported()}connect(_,I){var W=this.strategy.connect(_,function(ne,Oe){Oe&&W.abort(),I(ne,Oe)});return W}}function bh(F){return function(){return F.isSupported()}}var YC=function(F,_,I){var W={};function ne(X_,uk,cy,Y_,Wc){var fp=I(F,X_,uk,cy,Y_,Wc);return W[X_]=fp,fp}var Oe=Object.assign({},_,{hostNonTLS:F.wsHost+":"+F.wsPort,hostTLS:F.wsHost+":"+F.wssPort,httpPath:F.wsPath}),nt=Object.assign({},Oe,{useTLS:!0}),xt=Object.assign({},_,{hostNonTLS:F.httpHost+":"+F.httpPort,hostTLS:F.httpHost+":"+F.httpsPort,httpPath:F.httpPath}),en={loop:!0,timeout:15e3,timeoutLimit:6e4},Kn=new fl({minPingDelay:1e4,maxPingDelay:F.activityTimeout}),ci=new fl({lives:2,minPingDelay:1e4,maxPingDelay:F.activityTimeout}),sr=ne("ws","ws",3,Oe,Kn),_h=ne("wss","ws",3,nt,Kn),ck=ne("sockjs","sockjs",1,xt),sy=ne("xhr_streaming","xhr_streaming",1,xt,ci),zs=ne("xdr_streaming","xdr_streaming",1,xt,ci),wm=ne("xhr_polling","xhr_polling",1,xt),hp=ne("xdr_polling","xdr_polling",1,xt),ay=new la([sr],en),j_=new la([_h],en),dk=new la([ck],en),$_=new la([new eu(bh(sy),sy,zs)],en),q_=new la([new eu(bh(wm),wm,hp)],en),K_=new la([new eu(bh($_),new hs([$_,new up(q_,{delay:4e3})]),q_)],en),ly=new eu(bh(K_),K_,dk),Uc;return _.useTLS?Uc=new hs([ay,new up(ly,{delay:2e3})]):Uc=new hs([ay,new up(j_,{delay:2e3}),new up(ly,{delay:5e3})]),new T_(new zF(new eu(bh(sr),Uc,ly)),W,{ttl:18e5,timeline:_.timeline,useTLS:_.useTLS})},ZC=YC,wh=function(){var F=this;F.timeline.info(F.buildTimelineMessage({transport:F.name+(F.options.useTLS?"s":"")})),F.hooks.isInitialized()?F.changeState("initialized"):F.hooks.file?(F.changeState("initializing"),c.load(F.hooks.file,{useTLS:F.options.useTLS},function(_,I){F.hooks.isInitialized()?(F.changeState("initialized"),I(!0)):(_&&F.onError(_),F.onClose(),I(!1))})):F.onClose()},F_={getRequest:function(F){var _=new window.XDomainRequest;return _.ontimeout=function(){F.emit("error",new C),F.close()},_.onerror=function(I){F.emit("error",I),F.close()},_.onprogress=function(){_.responseText&&_.responseText.length>0&&F.onChunk(200,_.responseText)},_.onload=function(){_.responseText&&_.responseText.length>0&&F.onChunk(200,_.responseText),F.emit("finished",200),F.close()},_},abortRequest:function(F){F.ontimeout=F.onerror=F.onprogress=F.onload=null,F.abort()}},k_=F_;let UF=256*1024;class A_ extends Ji{constructor(_,I,W){super(),this.hooks=_,this.method=I,this.url=W}start(_){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},un.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(_)}close(){this.unloader&&(un.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(_,I){for(;;){var W=this.advanceBuffer(I);if(W)this.emit("chunk",{status:_,data:W});else break}this.isBufferTooLong(I)&&this.emit("buffer_too_long")}advanceBuffer(_){var I=_.slice(this.position),W=I.indexOf(`
`);return W!==-1?(this.position+=W+1,I.slice(0,W)):null}isBufferTooLong(_){return this.position===_.length&&_.length>UF}}var QC=function(F){return F[F.CONNECTING=0]="CONNECTING",F[F.OPEN=1]="OPEN",F[F.CLOSED=3]="CLOSED",F}(QC||{}),Hc=QC,M_=1;class WF{constructor(_,I){this.hooks=_,this.session=P_(1e3)+"/"+KF(8),this.location=jF(I),this.readyState=Hc.CONNECTING,this.openStream()}send(_){return this.sendRaw(JSON.stringify([_]))}ping(){this.hooks.sendHeartbeat(this)}close(_,I){this.onClose(_,I,!0)}sendRaw(_){if(this.readyState===Hc.OPEN)try{return un.createSocketRequest("POST",JC($F(this.location,this.session))).start(_),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(_,I,W){this.closeStream(),this.readyState=Hc.CLOSED,this.onclose&&this.onclose({code:_,reason:I,wasClean:W})}onChunk(_){if(_.status===200){this.readyState===Hc.OPEN&&this.onActivity();var I,W=_.data.slice(0,1);switch(W){case"o":I=JSON.parse(_.data.slice(1)||"{}"),this.onOpen(I);break;case"a":I=JSON.parse(_.data.slice(1)||"[]");for(var ne=0;ne<I.length;ne++)this.onEvent(I[ne]);break;case"m":I=JSON.parse(_.data.slice(1)||"null"),this.onEvent(I);break;case"h":this.hooks.onHeartbeat(this);break;case"c":I=JSON.parse(_.data.slice(1)||"[]"),this.onClose(I[0],I[1],!0);break}}}onOpen(_){this.readyState===Hc.CONNECTING?(_&&_.hostname&&(this.location.base=qF(this.location.base,_.hostname)),this.readyState=Hc.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(_){this.readyState===Hc.OPEN&&this.onmessage&&this.onmessage({data:_})}onActivity(){this.onactivity&&this.onactivity()}onError(_){this.onerror&&this.onerror(_)}openStream(){this.stream=un.createSocketRequest("POST",JC(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",_=>{this.onChunk(_)}),this.stream.bind("finished",_=>{this.hooks.onFinished(this,_)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(_){ce.defer(()=>{this.onError(_),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function jF(F){var _=/([^\?]*)\/*(\??.*)/.exec(F);return{base:_[1],queryString:_[2]}}function $F(F,_){return F.base+"/"+_+"/xhr_send"}function JC(F){var _=F.indexOf("?")===-1?"?":"&";return F+_+"t="+ +new Date+"&n="+M_++}function qF(F,_){var I=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(F);return I[1]+_+I[3]}function P_(F){return un.randomInt(F)}function KF(F){for(var _=[],I=0;I<F;I++)_.push(P_(32).toString(32));return _.join("")}var XF=WF,ey={getReceiveURL:function(F,_){return F.base+"/"+_+"/xhr_streaming"+F.queryString},onHeartbeat:function(F){F.sendRaw("[]")},sendHeartbeat:function(F){F.sendRaw("[]")},onFinished:function(F,_){F.onClose(1006,"Connection interrupted ("+_+")",!1)}},YF=ey,ZF={getReceiveURL:function(F,_){return F.base+"/"+_+"/xhr"+F.queryString},onHeartbeat:function(){},sendHeartbeat:function(F){F.sendRaw("[]")},onFinished:function(F,_){_===200?F.reconnect():F.onClose(1006,"Connection interrupted ("+_+")",!1)}},QF=ZF,JF={getRequest:function(F){var _=un.getXHRAPI(),I=new _;return I.onreadystatechange=I.onprogress=function(){switch(I.readyState){case 3:I.responseText&&I.responseText.length>0&&F.onChunk(I.status,I.responseText);break;case 4:I.responseText&&I.responseText.length>0&&F.onChunk(I.status,I.responseText),F.emit("finished",I.status),F.close();break}},I},abortRequest:function(F){F.onreadystatechange=null,F.abort()}},ek=JF,Bi={createStreamingSocket(F){return this.createSocket(YF,F)},createPollingSocket(F){return this.createSocket(QF,F)},createSocket(F,_){return new XF(F,_)},createXHR(F,_){return this.createRequest(ek,F,_)},createRequest(F,_,I){return new A_(F,_,I)}},Ri=Bi;Ri.createXDR=function(F,_){return this.createRequest(k_,F,_)};var tk=Ri,nk={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:l,getDefaultStrategy:ZC,Transports:X,transportConnectionInitializer:wh,HTTPFactory:tk,TimelineTransport:Je,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(F){window.Pusher=F;var _=()=>{this.onDocumentBody(F.ready)};window.JSON?_():c.load("json2",{},_)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:k,jsonp:Pi}},onDocumentBody(F){document.body?F():setTimeout(()=>{this.onDocumentBody(F)},0)},createJSONPRequest(F,_){return new Ie(F,_)},createScriptRequest(F){return new li(F)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var F=this.getXHRAPI();return new F},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return j},createWebSocket(F){var _=this.getWebSocketAPI();return new _(F)},createSocketRequest(F,_){if(this.isXHRSupported())return this.HTTPFactory.createXHR(F,_);if(this.isXDRSupported(_.indexOf("https:")===0))return this.HTTPFactory.createXDR(F,_);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var F=this.getXHRAPI();return!!F&&new F().withCredentials!==void 0},isXDRSupported(F){var _=F?"https:":"http:",I=this.getProtocol();return!!window.XDomainRequest&&I===_},addUnloadListener(F){window.addEventListener!==void 0?window.addEventListener("unload",F,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",F)},removeUnloadListener(F){window.addEventListener!==void 0?window.removeEventListener("unload",F,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",F)},randomInt(F){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*F)}},un=nk,O_=function(F){return F[F.ERROR=3]="ERROR",F[F.INFO=6]="INFO",F[F.DEBUG=7]="DEBUG",F}(O_||{}),xm=O_;class ik{constructor(_,I,W){this.key=_,this.session=I,this.events=[],this.options=W||{},this.sent=0,this.uniqueID=0}log(_,I){_<=this.options.level&&(this.events.push(Me({},I,{timestamp:ce.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(_){this.log(xm.ERROR,_)}info(_){this.log(xm.INFO,_)}debug(_){this.log(xm.DEBUG,_)}isEmpty(){return this.events.length===0}send(_,I){var W=Me({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],_(W,(ne,Oe)=>{ne||this.sent++,I&&I(ne,Oe)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class L_{constructor(_,I,W,ne){this.name=_,this.priority=I,this.transport=W,this.options=ne||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(_,I){if(this.isSupported()){if(this.priority<_)return N_(new y,I)}else return N_(new D,I);var W=!1,ne=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Oe=null,nt=function(){ne.unbind("initialized",nt),ne.connect()},xt=function(){Oe=jo.createHandshake(ne,function(sr){W=!0,ci(),I(null,sr)})},en=function(sr){ci(),I(sr)},Kn=function(){ci();var sr;sr=ei(ne),I(new b(sr))},ci=function(){ne.unbind("initialized",nt),ne.unbind("open",xt),ne.unbind("error",en),ne.unbind("closed",Kn)};return ne.bind("initialized",nt),ne.bind("open",xt),ne.bind("error",en),ne.bind("closed",Kn),ne.initialize(),{abort:()=>{W||(ci(),Oe?Oe.close():ne.close())},forceMinPriority:sr=>{W||this.priority<sr&&(Oe?Oe.close():ne.close())}}}}function N_(F,_){return ce.defer(function(){_(F)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:no}=un;var ty=function(F,_,I,W,ne,Oe){var nt=no[I];if(!nt)throw new S(I);var xt=(!F.enabledTransports||Ve(F.enabledTransports,_)!==-1)&&(!F.disabledTransports||Ve(F.disabledTransports,_)===-1),en;return xt?(ne=Object.assign({ignoreNullOrigin:F.ignoreNullOrigin},ne),en=new L_(_,W,Oe?Oe.getAssistant(nt):nt,ne)):en=tu,en},tu={isSupported:function(){return!1},connect:function(F,_){var I=ce.defer(function(){_(new D)});return{abort:function(){I.ensureAborted()},forceMinPriority:function(){}}}};function B_(F){if(F==null)throw"You must pass an options object";if(F.cluster==null)throw"Options object must provide a cluster";"disableStats"in F&&Zt.warn("The disableStats option is deprecated in favor of enableStats")}let ny=(F,_)=>{var I="socket_id="+encodeURIComponent(F.socketId);for(var W in _.params)I+="&"+encodeURIComponent(W)+"="+encodeURIComponent(_.params[W]);if(_.paramsProvider!=null){let ne=_.paramsProvider();for(var W in ne)I+="&"+encodeURIComponent(W)+"="+encodeURIComponent(ne[W])}return I};var V_=F=>{if(typeof un.getAuthorizers()[F.transport]>"u")throw`'${F.transport}' is not a recognized auth transport`;return(_,I)=>{let W=ny(_,F);un.getAuthorizers()[F.transport](un,W,F,p.UserAuthentication,I)}};let H_=(F,_)=>{var I="socket_id="+encodeURIComponent(F.socketId);I+="&channel_name="+encodeURIComponent(F.channelName);for(var W in _.params)I+="&"+encodeURIComponent(W)+"="+encodeURIComponent(_.params[W]);if(_.paramsProvider!=null){let ne=_.paramsProvider();for(var W in ne)I+="&"+encodeURIComponent(W)+"="+encodeURIComponent(ne[W])}return I};var G_=F=>{if(typeof un.getAuthorizers()[F.transport]>"u")throw`'${F.transport}' is not a recognized auth transport`;return(_,I)=>{let W=H_(_,F);un.getAuthorizers()[F.transport](un,W,F,p.ChannelAuthorization,I)}};let z_=(F,_,I)=>{let W={authTransport:_.transport,authEndpoint:_.endpoint,auth:{params:_.params,headers:_.headers}};return(ne,Oe)=>{let nt=F.channel(ne.channelName);I(nt,W).authorize(ne.socketId,Oe)}};function U_(F,_){let I={activityTimeout:F.activityTimeout||s.activityTimeout,cluster:F.cluster,httpPath:F.httpPath||s.httpPath,httpPort:F.httpPort||s.httpPort,httpsPort:F.httpsPort||s.httpsPort,pongTimeout:F.pongTimeout||s.pongTimeout,statsHost:F.statsHost||s.stats_host,unavailableTimeout:F.unavailableTimeout||s.unavailableTimeout,wsPath:F.wsPath||s.wsPath,wsPort:F.wsPort||s.wsPort,wssPort:F.wssPort||s.wssPort,enableStats:W_(F),httpHost:Gs(F),useTLS:sk(F),wsHost:ok(F),userAuthenticator:Gc(F),channelAuthorizer:iy(F,_)};return"disabledTransports"in F&&(I.disabledTransports=F.disabledTransports),"enabledTransports"in F&&(I.enabledTransports=F.enabledTransports),"ignoreNullOrigin"in F&&(I.ignoreNullOrigin=F.ignoreNullOrigin),"timelineParams"in F&&(I.timelineParams=F.timelineParams),"nacl"in F&&(I.nacl=F.nacl),I}function Gs(F){return F.httpHost?F.httpHost:F.cluster?`sockjs-${F.cluster}.pusher.com`:s.httpHost}function ok(F){return F.wsHost?F.wsHost:ca(F.cluster)}function ca(F){return`ws-${F}.pusher.com`}function sk(F){return un.getProtocol()==="https:"?!0:F.forceTLS!==!1}function W_(F){return"enableStats"in F?F.enableStats:"disableStats"in F?!F.disableStats:!1}function Gc(F){let _=Object.assign(Object.assign({},s.userAuthentication),F.userAuthentication);return"customHandler"in _&&_.customHandler!=null?_.customHandler:V_(_)}function bm(F,_){let I;return"channelAuthorization"in F?I=Object.assign(Object.assign({},s.channelAuthorization),F.channelAuthorization):(I={transport:F.authTransport||s.authTransport,endpoint:F.authEndpoint||s.authEndpoint},"auth"in F&&("params"in F.auth&&(I.params=F.auth.params),"headers"in F.auth&&(I.headers=F.auth.headers)),"authorizer"in F&&(I.customHandler=z_(_,I,F.authorizer))),I}function iy(F,_){let I=bm(F,_);return"customHandler"in I&&I.customHandler!=null?I.customHandler:G_(I)}class qi extends Ji{constructor(_){super(function(I,W){Zt.debug(`No callbacks on watchlist events for ${I}`)}),this.pusher=_,this.bindWatchlistInternalEvent()}handleEvent(_){_.data.events.forEach(I=>{this.emit(I.name,I)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",_=>{var I=_.event;I==="pusher_internal:watchlist_events"&&this.handleEvent(_)})}}function zc(){let F,_;return{promise:new Promise((W,ne)=>{F=W,_=ne}),resolve:F,reject:_}}var ry=zc;class ak extends Ji{constructor(_){super(function(I,W){Zt.debug("No callbacks on user for "+I)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(I,W)=>{if(I){Zt.warn(`Error during signin: ${I}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:W.auth,user_data:W.user_data})},this.pusher=_,this.pusher.connection.bind("state_change",({previous:I,current:W})=>{I!=="connected"&&W==="connected"&&this._signin(),I==="connected"&&W!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new qi(_),this.pusher.connection.bind("message",I=>{var W=I.event;W==="pusher:signin_success"&&this._onSigninSuccess(I.data),this.serverToUserChannel&&this.serverToUserChannel.name===I.channel&&this.serverToUserChannel.handleEvent(I)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(_){try{this.user_data=JSON.parse(_.user_data)}catch{Zt.error(`Failed parsing user data after signin: ${_.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Zt.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){let _=I=>{I.subscriptionPending&&I.subscriptionCancelled?I.reinstateSubscription():!I.subscriptionPending&&this.pusher.connection.state==="connected"&&I.subscribe()};this.serverToUserChannel=new be(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((I,W)=>{I.indexOf("pusher_internal:")===0||I.indexOf("pusher:")===0||this.emit(I,W)}),_(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:_,resolve:I,reject:W}=ry();_.done=!1;let ne=()=>{_.done=!0};_.then(ne).catch(ne),this.signinDonePromise=_,this._signinDoneResolve=I}}class Gr{static ready(){Gr.isReady=!0;for(var _=0,I=Gr.instances.length;_<I;_++)Gr.instances[_].connect()}static getClientFeatures(){return vt(Ze({ws:un.Transports.ws},function(_){return _.isSupported({})}))}constructor(_,I){lk(_),B_(I),this.key=_,this.config=U_(I,this),this.channels=jo.createChannels(),this.global_emitter=new Ji,this.sessionID=un.randomInt(1e9),this.timeline=new ik(this.key,this.sessionID,{cluster:this.config.cluster,features:Gr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:xm.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=jo.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+un.TimelineTransport.name}));var W=ne=>un.getDefaultStrategy(this.config,ne,ty);this.connection=jo.createConnectionManager(this.key,{getStrategy:W,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ne=>{var Oe=ne.event,nt=Oe.indexOf("pusher_internal:")===0;if(ne.channel){var xt=this.channel(ne.channel);xt&&xt.handleEvent(ne)}nt||this.global_emitter.emit(ne.event,ne.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ne=>{Zt.warn(ne)}),Gr.instances.push(this),this.timeline.info({instances:Gr.instances.length}),this.user=new ak(this),Gr.isReady&&this.connect()}channel(_){return this.channels.find(_)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var _=this.connection.isUsingTLS(),I=this.timelineSender;this.timelineSenderTimer=new K(6e4,function(){I.send(_)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(_,I,W){return this.global_emitter.bind(_,I,W),this}unbind(_,I,W){return this.global_emitter.unbind(_,I,W),this}bind_global(_){return this.global_emitter.bind_global(_),this}unbind_global(_){return this.global_emitter.unbind_global(_),this}unbind_all(_){return this.global_emitter.unbind_all(),this}subscribeAll(){var _;for(_ in this.channels.channels)this.channels.channels.hasOwnProperty(_)&&this.subscribe(_)}subscribe(_){var I=this.channels.add(_,this);return I.subscriptionPending&&I.subscriptionCancelled?I.reinstateSubscription():!I.subscriptionPending&&this.connection.state==="connected"&&I.subscribe(),I}unsubscribe(_){var I=this.channels.find(_);I&&I.subscriptionPending?I.cancelSubscription():(I=this.channels.remove(_),I&&I.subscribed&&I.unsubscribe())}send_event(_,I,W){return this.connection.send_event(_,I,W)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Gr.instances=[],Gr.isReady=!1,Gr.logToConsole=!1,Gr.Runtime=un,Gr.ScriptReceivers=un.ScriptReceivers,Gr.DependenciesReceivers=un.DependenciesReceivers,Gr.auth_callbacks=un.auth_callbacks;var oy=t.default=Gr;function lk(F){if(F==null)throw"You must pass your app key when you instantiate Pusher."}un.setup(Gr)}])})});var _te=Fn((Q8,J8)=>{"use strict";(function(e,t){typeof Q8=="object"&&typeof J8<"u"?J8.exports=t((pf(),Ah(eK)),(Bv(),Ah($X)),(Wb(),Ah(WX)),(LR(),Ah(DZ)),(OR(),Ah(JY)),(HD(),Ah(NK)),(MR(),Ah(PY)),(Ar(),Ah(Kq))):typeof define=="function"&&define.amd?define(["ol/control/Control","ol/style/Style","ol/style/Icon","ol/layer/Vector","ol/source/Vector","ol/geom/Point","ol/Feature","ol/proj"],t):(e=typeof globalThis<"u"?globalThis:e||self).Geocoder=t(e.ol.control.Control,e.ol.style.Style,e.ol.style.Icon,e.ol.layer.Vector,e.ol.source.Vector,e.ol.geom.Point,e.ol.Feature,e.ol.proj)})(Q8,function(e,t,n,i,r,o,s,a){"use strict";function l(Ie){return Ie&&typeof Ie=="object"&&"default"in Ie?Ie:{default:Ie}}function c(Ie){if(Ie&&Ie.__esModule)return Ie;var de=Object.create(null);return Ie&&Object.keys(Ie).forEach(function(me){if(me!=="default"){var Je=Object.getOwnPropertyDescriptor(Ie,me);Object.defineProperty(de,me,Je.get?Je:{enumerable:!0,get:function(){return Ie[me]}})}}),de.default=Ie,Object.freeze(de)}var d=l(e),u=l(t),f=l(n),p=l(i),m=l(r),v=l(o),C=l(s),y=c(a),b="gcd-container",w="gcd-button-control",S="gcd-input-query",D="gcd-input-label",R="gcd-input-search",T={namespace:"ol-geocoder",spin:"gcd-pseudo-rotate",hidden:"gcd-hidden",address:"gcd-address",country:"gcd-country",city:"gcd-city",road:"gcd-road",olControl:"ol-control",glass:{container:"gcd-gl-container",control:"gcd-gl-control",button:"gcd-gl-btn",input:"gcd-gl-input",expanded:"gcd-gl-expanded",search:"gcd-gl-search",result:"gcd-gl-result"},inputText:{container:"gcd-txt-container",control:"gcd-txt-control",label:"gcd-txt-label",input:"gcd-txt-input",search:"gcd-txt-search",icon:"gcd-txt-glass",result:"gcd-txt-result"}},k={containerId:b,buttonControlId:w,inputQueryId:S,inputLabelId:D,inputSearchId:R,cssClasses:T};let M=Object.freeze({__proto__:null,containerId:b,buttonControlId:w,inputQueryId:S,inputLabelId:D,inputSearchId:R,cssClasses:T,default:k}),B="addresschosen",L="nominatim",V="reverse",ee="glass-button",re="text-input",se="bing",ge="mapquest",fe="opencage",Ee="osm",te="photon",oe="https://dev.virtualearth.net/REST/v1/Locations",J="https://nominatim.openstreetmap.org/search",A="https://api.opencagedata.com/geocode/v1/json?",ae="https://nominatim.openstreetmap.org/search",K="https://photon.komoot.io/api/",Q={provider:Ee,label:"",placeholder:"Search for an address",featureStyle:null,targetType:ee,lang:"en-US",limit:5,keepOpen:!1,preventDefault:!1,preventPanning:!1,preventMarker:!1,defaultFlyResolution:10,debug:!1};function ce(Ie,de="Assertion failed"){if(!Ie)throw typeof Error<"u"?new Error(de):de}function Me(Ie){let de=function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){let me=Date.now();performance.timing&&performance.timing.navigationStart&&(me=performance.timing.navigationStart),window.performance.now=()=>Date.now()-me}return window.performance.now()}().toString(36);return Ie?Ie+de:de}function ze(Ie){return/^\d+$/u.test(Ie)}function Ve(Ie,de,me){if(Array.isArray(Ie))return void Ie.forEach(ln=>Ve(ln,de));let Je=Array.isArray(de)?de:de.split(/\s+/u),Mt=Je.length;for(;Mt--;)vt(Ie,Je[Mt])||wt(Ie,Je[Mt],me)}function ye(Ie,de,me){if(Array.isArray(Ie))return void Ie.forEach(ln=>ye(ln,de,me));let Je=Array.isArray(de)?de:de.split(/\s+/u),Mt=Je.length;for(;Mt--;)vt(Ie,Je[Mt])&&Ze(Ie,Je[Mt],me)}function vt(Ie,de){return Ie.classList?Ie.classList.contains(de):_t(de).test(Ie.className)}function q(Ie){for(;Ie.firstChild;)Ie.firstChild.remove()}function Vt(Ie,de){return Ie.replace(/\{\s*([\w-]+)\s*\}/gu,(me,Je)=>{let Mt=de[Je]===void 0?"":de[Je];return String(Mt).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")})}function St(Ie,de){let me;if(Array.isArray(Ie)){if(me=document.createElement(Ie[0]),Ie[1].id&&(me.id=Ie[1].id),Ie[1].classname&&(me.className=Ie[1].classname),Ie[1].attr){let{attr:Mt}=Ie[1];if(Array.isArray(Mt)){let ln=-1;for(;++ln<Mt.length;)me.setAttribute(Mt[ln].name,Mt[ln].value)}else me.setAttribute(Mt.name,Mt.value)}}else me=document.createElement(Ie);me.innerHTML=de;let Je=document.createDocumentFragment();for(;me.childNodes[0];)Je.append(me.childNodes[0]);return me.append(Je),me}function _t(Ie){return new RegExp(`(^|\\s+) ${Ie} (\\s+|$)`,"u")}function wt(Ie,de,me){Ie.classList?Ie.classList.add(de):Ie.className=`${Ie.className} ${de}`.trim(),me&&ze(me)&&window.setTimeout(()=>Ze(Ie,de),me)}function Ze(Ie,de,me){Ie.classList?Ie.classList.remove(de):Ie.className=Ie.className.replace(_t(de)," ").trim(),me&&ze(me)&&window.setTimeout(()=>wt(Ie,de),me)}let gt=M.cssClasses;class Ht{constructor(de){this.options=de,this.els=this.createControl()}createControl(){let de,me,Je;return this.options.targetType===re?(me=`${gt.namespace} ${gt.inputText.container}`,de=St(["div",{id:M.containerId,classname:me}],Ht.input),Je={container:de,control:de.querySelector(`.${gt.inputText.control}`),label:de.querySelector(`.${gt.inputText.label}`),input:de.querySelector(`.${gt.inputText.input}`),search:de.querySelector(`.${gt.inputText.search}`),result:de.querySelector(`.${gt.inputText.result}`)},Je.label.innerHTML=this.options.label):(me=`${gt.namespace} ${gt.glass.container}`,de=St(["div",{id:M.containerId,classname:me}],Ht.glass),Je={container:de,control:de.querySelector(`.${gt.glass.control}`),button:de.querySelector(`.${gt.glass.button}`),input:de.querySelector(`.${gt.glass.input}`),search:de.querySelector(`.${gt.glass.search}`),result:de.querySelector(`.${gt.glass.result}`)}),Je.input.placeholder=this.options.placeholder,Je}}function xn(Ie){return new Promise((de,me)=>{let Je=function(ln,Qi){return Qi&&typeof Qi=="object"&&(ln+=(/\?/u.test(ln)?"&":"?")+$n(Qi)),ln}(Ie.url,Ie.data),Mt={method:"GET",mode:"cors",credentials:"same-origin"};Ie.jsonp?function(ln,Qi,Hs){let{head:ho}=document,Oi=document.createElement("script"),ji=`f${Math.round(Math.random()*Date.now())}`;Oi.setAttribute("src",`${ln+(ln.indexOf("?")>0?"&":"?")+Qi}=${ji}`),window[ji]=Ji=>{window[ji]=void 0,setTimeout(()=>ho.removeChild(Oi),0),Hs(Ji)},ho.append(Oi)}(Je,Ie.callbackName,de):fetch(Je,Mt).then(ln=>ln.json()).then(de).catch(me)})}function $n(Ie){return Object.keys(Ie).reduce((de,me)=>(de.push(typeof Ie[me]=="object"?$n(Ie[me]):`${encodeURIComponent(me)}=${encodeURIComponent(Ie[me])}`),de),[]).join("&")}Ht.glass=`
  <div class="${gt.glass.control} ${gt.olControl}">
    <button type="button" id="${M.buttonControlId}" class="${gt.glass.button}"></button>
    <input type="text" id="${M.inputQueryId}" class="${gt.glass.input}" autocomplete="off" placeholder="Search ...">
    <a id="${M.inputSearchId}" class="${gt.glass.search} ${gt.hidden}"></a>
  </div>
  <ul class="${gt.glass.result}"></ul>
`,Ht.input=`
  <div class="${gt.inputText.control}">
    <label type="button" id="${M.inputSearchId}" class="${gt.inputText.label}"></label>
    <input type="text" id="${M.inputQueryId}" class="${gt.inputText.input}" autocomplete="off" placeholder="Search ...">
    <span class="${gt.inputText.icon}"></span>
    <button type="button" id="${M.inputSearchId}" class="${gt.inputText.search} ${gt.hidden}"></button>
  </div>
  <ul class="${gt.inputText.result}"></ul>
`;class ur{constructor(){this.settings={url:K,params:{q:"",limit:10,lang:"en"},langs:["de","it","fr","en"]}}getParameters(de){return de.lang=de.lang.toLowerCase(),{url:this.settings.url,params:{q:de.query,limit:de.limit||this.settings.params.limit,lang:this.settings.langs.includes(de.lang)?de.lang:this.settings.params.lang}}}handleResponse(de){return de.features.length===0?[]:de.features.map(me=>({lon:me.geometry.coordinates[0],lat:me.geometry.coordinates[1],address:{name:me.properties.name,postcode:me.properties.postcode,city:me.properties.city,state:me.properties.state,country:me.properties.country},original:{formatted:me.properties.name,details:me.properties}}))}}class Tn{constructor(de){this.settings=ke(z({url:ae},de),{params:{q:"",format:"json",addressdetails:1,limit:10,countrycodes:"",viewbox:"","accept-language":"en-US"}})}getParameters(de){return{url:this.settings.url,params:{q:de.query,format:this.settings.params.format,addressdetails:this.settings.params.addressdetails,limit:de.limit||this.settings.params.limit,countrycodes:de.countrycodes||this.settings.params.countrycodes,viewbox:de.viewbox||this.settings.params.viewbox,"accept-language":de.lang||this.settings.params["accept-language"]}}}handleResponse(de){return de.length===0?[]:de.map(me=>({lon:me.lon,lat:me.lat,bbox:me.boundingbox,address:{name:me.display_name,road:me.address.road||"",houseNumber:me.address.house_number||"",postcode:me.address.postcode,city:me.address.city||me.address.town,state:me.address.state,country:me.address.country},original:{formatted:me.display_name,details:me.address}}))}}class ei{constructor(){this.settings={url:J,params:{q:"",key:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}}getParameters(de){return{url:this.settings.url,params:{q:de.query,key:de.key,format:"json",addressdetails:1,limit:de.limit||this.settings.params.limit,countrycodes:de.countrycodes||this.settings.params.countrycodes,"accept-language":de.lang||this.settings.params["accept-language"]}}}handleResponse(de){return de.length===0?[]:de.map(me=>({lon:me.lon,lat:me.lat,address:{name:me.address.neighbourhood||"",road:me.address.road||"",postcode:me.address.postcode,city:me.address.city||me.address.town,state:me.address.state,country:me.address.country},original:{formatted:me.display_name,details:me.address}}))}}class Ei{constructor(){this.settings={url:oe,callbackName:"jsonp",params:{query:"",key:"",includeNeighborhood:0,maxResults:10}}}getParameters(de){return{url:this.settings.url,callbackName:this.settings.callbackName,params:{query:de.query,key:de.key,includeNeighborhood:de.includeNeighborhood||this.settings.params.includeNeighborhood,maxResults:de.maxResults||this.settings.params.maxResults}}}handleResponse(de){let{resources:me}=de.resourceSets[0];return me.length===0?[]:me.map(Je=>({lon:Je.point.coordinates[1],lat:Je.point.coordinates[0],address:{name:Je.name},original:{formatted:Je.address.formattedAddress,details:Je.address}}))}}class Zt{constructor(){this.settings={url:A,params:{q:"",key:"",limit:10,countrycode:"",pretty:1,no_annotations:1}}}getParameters(de){return{url:this.settings.url,params:{q:de.query,key:de.key,limit:de.limit||this.settings.params.limit,countrycode:de.countrycodes||this.settings.params.countrycodes}}}handleResponse(de){return de.results.length===0?[]:de.results.map(me=>({lon:me.geometry.lng,lat:me.geometry.lat,address:{name:me.components.house_number||"",road:me.components.road||"",postcode:me.components.postcode,city:me.components.city||me.components.town,state:me.components.state,country:me.components.country},original:{formatted:me.formatted,details:me.components}}))}}let qn=M.cssClasses;class Pi{constructor(de,me){this.Base=de,this.layerName=Me("geocoder-layer-"),this.layer=new p.default({background:"transparent",name:this.layerName,source:new m.default,displayInLayerSwitcher:!1}),this.options=de.options,this.options.provider=typeof this.options.provider=="string"?this.options.provider.toLowerCase():this.options.provider,this.provider=this.newProvider(),this.els=me,this.container=this.els.container,this.registeredListeners={mapClick:!1},this.setListeners()}setListeners(){let de=me=>{me.stopPropagation(),vt(this.els.control,qn.glass.expanded)?this.collapse():this.expand()};this.els.input.addEventListener("keypress",me=>{let Je=me.target.value.trim();(me.key?me.key==="Enter":me.which?me.which===13:me.keyCode&&me.keyCode===13)&&(me.preventDefault(),this.query(Je))},!1),this.els.input.addEventListener("click",me=>me.stopPropagation(),!1),this.els.input.addEventListener("input",me=>{me.target.value.trim().length!==0?ye(this.els.search,qn.hidden):Ve(this.els.search,qn.hidden)},!1),this.els.search.addEventListener("click",()=>{this.els.input.focus(),this.query(this.els.input.value)},!1),this.options.targetType===ee&&this.els.button.addEventListener("click",de,!1)}query(de){this.provider||(this.provider=this.newProvider());let me=this.provider.getParameters({query:de,key:this.options.key,lang:this.options.lang,countrycodes:this.options.countrycodes,viewbox:this.options.viewbox,limit:this.options.limit});this.clearResults(this.options.keepOpen===!1),Ve(this.els.search,qn.spin);let Je={url:me.url,data:me.params};me.callbackName&&(Je.jsonp=!0,Je.callbackName=me.callbackName),xn(Je).then(Mt=>{this.options.debug&&console.info(Mt),ye(this.els.search,qn.spin);let ln=this.provider.handleResponse(Mt);ln&&(this.createList(ln),this.listenMapClick())}).catch(()=>{ye(this.els.search,qn.spin);let Mt=St("li","<h5>Error! No internet connection?</h5>");this.els.result.append(Mt)})}createList(de){let me=this.els.result;de.forEach(Je=>{let Mt;if(this.options.provider===Ee?Mt=`<span class="${qn.road}">${Je.address.name}</span>`:Mt=this.addressTemplate(Je.address),de.length==1)this.chosen(Je,Mt,Je.address,Je.original);else{let ln=St("li",`<a href="#">${Mt}</a>`);ln.addEventListener("click",Qi=>{Qi.preventDefault(),this.chosen(Je,Mt,Je.address,Je.original)},!1),me.append(ln)}})}chosen(de,me,Je,Mt){let ln=this.Base.getMap(),Qi=[Number.parseFloat(de.lon),Number.parseFloat(de.lat)],Hs=ln.getView().getProjection(),ho=y.transform(Qi,"EPSG:4326",Hs),{bbox:Oi}=de;Oi&&(Oi=y.transformExtent([parseFloat(Oi[2]),parseFloat(Oi[0]),parseFloat(Oi[3]),parseFloat(Oi[1])],"EPSG:4326",Hs));let ji={formatted:me,details:Je,original:Mt};if(this.clearResults(!0),this.options.preventDefault===!0||this.options.preventMarker===!0)this.Base.dispatchEvent({type:B,address:ji,coordinate:ho,bbox:Oi,place:de});else{let Ji=this.createFeature(ho,ji);this.Base.dispatchEvent({type:B,address:ji,feature:Ji,coordinate:ho,bbox:Oi,place:de})}this.options.preventDefault!==!0&&this.options.preventPanning!==!0&&(Oi?ln.getView().fit(Oi,{duration:500}):ln.getView().animate({center:ho,resolution:this.options.defaultFlyResolution,duration:500}))}createFeature(de){let me=new C.default(new v.default(de));return this.addLayer(),me.setStyle(this.options.featureStyle),me.setId(Me("geocoder-ft-")),this.getSource().addFeature(me),me}addressTemplate(de){let me=[];return de.name&&me.push(['<span class="',qn.road,'">{name}</span>'].join("")),(de.road||de.building||de.house_number)&&me.push(['<span class="',qn.road,'">{building} {road} {house_number}</span>'].join("")),(de.city||de.town||de.village)&&me.push(['<span class="',qn.city,'">{postcode} {city} {town} {village}</span>'].join("")),(de.state||de.country)&&me.push(['<span class="',qn.country,'">{state} {country}</span>'].join("")),Vt(me.join("<br>"),de)}newProvider(){switch(this.options.provider){case Ee:return new Tn(this.options);case ge:return new ei;case te:return new ur;case se:return new Ei;case fe:return new Zt;default:return this.options.provider}}expand(){ye(this.els.input,qn.spin),Ve(this.els.control,qn.glass.expanded),window.setTimeout(()=>this.els.input.focus(),100),this.listenMapClick()}collapse(){this.els.input.value="",this.els.input.blur(),Ve(this.els.search,qn.hidden),ye(this.els.control,qn.glass.expanded),q(this.els.result)}listenMapClick(){if(this.registeredListeners.mapClick)return;let de=this,me=this.Base.getMap().getTargetElement();this.registeredListeners.mapClick=!0,me.addEventListener("click",{handleEvent(Je){me.removeEventListener(Je.type,this,!1),de.registeredListeners.mapClick=!1}},!1)}clearResults(de){de&&this.options.targetType===ee?this.collapse():q(this.els.result)}getSource(){return this.layer.getSource()}addLayer(){let de=!1,me=this.Base.getMap();me.getLayers().forEach(Je=>{Je===this.layer&&(de=!0)}),de||me.addLayer(this.layer)}}class li extends d.default{constructor(de=L,me){ce(typeof de=="string","@param `type` should be string!"),ce(de===L||de===V,`@param 'type' should be '${L}'
      or '${V}'!`);let Je=z(ke(z({},Q),{featureStyle:[new u.default({image:new f.default({anchor:[.5,1],src:'data:image/svg+xml;charset=utf-8,<svg width="26" height="42" viewBox="0 0 26 42" xmlns="http://www.w3.org/2000/svg"><polygon points="1,18 14,42 25,18" fill="rgb(75,75,75)" /><ellipse cx="13" cy="13" rx="13" ry="13" fill="rgb(75,75,75)" /><ellipse cx="13" cy="14" rx="6" ry="6" fill="yellow" /></svg>'})})]}),me),Mt,ln,Qi=new Ht(Je);if(de===L&&(Mt=Qi.els.container),super(z({element:Mt},Je)),!(this instanceof li))return new li;this.options=Je,this.container=Mt,de===L&&(ln=new Pi(this,Qi.els),this.layer=ln.layer)}getLayer(){return this.layer}getSource(){return this.getLayer().getSource()}setProvider(de){this.options.provider=de}setProviderKey(de){this.options.key=de}}return li})});var qoe=Fn(()=>{"use strict"});var jn=Fn((ZI,Koe)=>{"use strict";(function(e,t){typeof ZI=="object"?Koe.exports=ZI=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(ZI,function(){var e=e||function(t,n){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof global<"u"&&global.crypto&&(i=global.crypto),!i&&typeof JV=="function")try{i=qoe()}catch{}var r=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function y(){}return function(b){var w;return y.prototype=b,w=new y,y.prototype=null,w}}(),s={},a=s.lib={},l=a.Base=function(){return{extend:function(y){var b=o(this);return y&&b.mixIn(y),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var b in y)y.hasOwnProperty(b)&&(this[b]=y[b]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=l.extend({init:function(y,b){y=this.words=y||[],b!=n?this.sigBytes=b:this.sigBytes=y.length*4},toString:function(y){return(y||u).stringify(this)},concat:function(y){var b=this.words,w=y.words,S=this.sigBytes,D=y.sigBytes;if(this.clamp(),S%4)for(var R=0;R<D;R++){var T=w[R>>>2]>>>24-R%4*8&255;b[S+R>>>2]|=T<<24-(S+R)%4*8}else for(var k=0;k<D;k+=4)b[S+k>>>2]=w[k>>>2];return this.sigBytes+=D,this},clamp:function(){var y=this.words,b=this.sigBytes;y[b>>>2]&=4294967295<<32-b%4*8,y.length=t.ceil(b/4)},clone:function(){var y=l.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var b=[],w=0;w<y;w+=4)b.push(r());return new c.init(b,y)}}),d=s.enc={},u=d.Hex={stringify:function(y){for(var b=y.words,w=y.sigBytes,S=[],D=0;D<w;D++){var R=b[D>>>2]>>>24-D%4*8&255;S.push((R>>>4).toString(16)),S.push((R&15).toString(16))}return S.join("")},parse:function(y){for(var b=y.length,w=[],S=0;S<b;S+=2)w[S>>>3]|=parseInt(y.substr(S,2),16)<<24-S%8*4;return new c.init(w,b/2)}},f=d.Latin1={stringify:function(y){for(var b=y.words,w=y.sigBytes,S=[],D=0;D<w;D++){var R=b[D>>>2]>>>24-D%4*8&255;S.push(String.fromCharCode(R))}return S.join("")},parse:function(y){for(var b=y.length,w=[],S=0;S<b;S++)w[S>>>2]|=(y.charCodeAt(S)&255)<<24-S%4*8;return new c.init(w,b)}},p=d.Utf8={stringify:function(y){try{return decodeURIComponent(escape(f.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return f.parse(unescape(encodeURIComponent(y)))}},m=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=p.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var b,w=this._data,S=w.words,D=w.sigBytes,R=this.blockSize,T=R*4,k=D/T;y?k=t.ceil(k):k=t.max((k|0)-this._minBufferSize,0);var M=k*R,B=t.min(M*4,D);if(M){for(var L=0;L<M;L+=R)this._doProcessBlock(S,L);b=S.splice(0,M),w.sigBytes-=B}return new c.init(b,B)},clone:function(){var y=l.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0}),v=a.Hasher=m.extend({cfg:l.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var b=this._doFinalize();return b},blockSize:512/32,_createHelper:function(y){return function(b,w){return new y.init(w).finalize(b)}},_createHmacHelper:function(y){return function(b,w){return new C.HMAC.init(y,w).finalize(b)}}}),C=s.algo={};return s}(Math);return e})});var E_=Fn((QI,Xoe)=>{"use strict";(function(e,t){typeof QI=="object"?Xoe.exports=QI=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(QI,function(e){return function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,s=n.x64={},a=s.Word=r.extend({init:function(c,d){this.high=c,this.low=d}}),l=s.WordArray=r.extend({init:function(c,d){c=this.words=c||[],d!=t?this.sigBytes=d:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,d=c.length,u=[],f=0;f<d;f++){var p=c[f];u.push(p.high),u.push(p.low)}return o.create(u,this.sigBytes)},clone:function(){for(var c=r.clone.call(this),d=c.words=this.words.slice(0),u=d.length,f=0;f<u;f++)d[f]=d[f].clone();return c}})}(),e})});var Zoe=Fn((JI,Yoe)=>{"use strict";(function(e,t){typeof JI=="object"?Yoe.exports=JI=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(JI,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,n=t.lib,i=n.WordArray,r=i.init,o=i.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var a=s.byteLength,l=[],c=0;c<a;c++)l[c>>>2]|=s[c]<<24-c%4*8;r.call(this,l,a)}else r.apply(this,arguments)};o.prototype=i}}(),e.lib.WordArray})});var Joe=Fn((eF,Qoe)=>{"use strict";(function(e,t){typeof eF=="object"?Qoe.exports=eF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(eF,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.enc,o=r.Utf16=r.Utf16BE={stringify:function(a){for(var l=a.words,c=a.sigBytes,d=[],u=0;u<c;u+=2){var f=l[u>>>2]>>>16-u%4*8&65535;d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var l=a.length,c=[],d=0;d<l;d++)c[d>>>1]|=a.charCodeAt(d)<<16-d%2*16;return i.create(c,l*2)}};r.Utf16LE={stringify:function(a){for(var l=a.words,c=a.sigBytes,d=[],u=0;u<c;u+=2){var f=s(l[u>>>2]>>>16-u%4*8&65535);d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var l=a.length,c=[],d=0;d<l;d++)c[d>>>1]|=s(a.charCodeAt(d)<<16-d%2*16);return i.create(c,l*2)}};function s(a){return a<<8&4278255360|a>>>8&16711935}}(),e.enc.Utf16})});var lp=Fn((tF,ese)=>{"use strict";(function(e,t){typeof tF=="object"?ese.exports=tF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(tF,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.enc,o=r.Base64={stringify:function(a){var l=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var u=[],f=0;f<c;f+=3)for(var p=l[f>>>2]>>>24-f%4*8&255,m=l[f+1>>>2]>>>24-(f+1)%4*8&255,v=l[f+2>>>2]>>>24-(f+2)%4*8&255,C=p<<16|m<<8|v,y=0;y<4&&f+y*.75<c;y++)u.push(d.charAt(C>>>6*(3-y)&63));var b=d.charAt(64);if(b)for(;u.length%4;)u.push(b);return u.join("")},parse:function(a){var l=a.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var u=0;u<c.length;u++)d[c.charCodeAt(u)]=u}var f=c.charAt(64);if(f){var p=a.indexOf(f);p!==-1&&(l=p)}return s(a,l,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(a,l,c){for(var d=[],u=0,f=0;f<l;f++)if(f%4){var p=c[a.charCodeAt(f-1)]<<f%4*2,m=c[a.charCodeAt(f)]>>>6-f%4*2,v=p|m;d[u>>>2]|=v<<24-u%4*8,u++}return i.create(d,u)}}(),e.enc.Base64})});var nse=Fn((nF,tse)=>{"use strict";(function(e,t){typeof nF=="object"?tse.exports=nF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(nF,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.enc,o=r.Base64url={stringify:function(a,l){l===void 0&&(l=!0);var c=a.words,d=a.sigBytes,u=l?this._safe_map:this._map;a.clamp();for(var f=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,C=c[p+2>>>2]>>>24-(p+2)%4*8&255,y=m<<16|v<<8|C,b=0;b<4&&p+b*.75<d;b++)f.push(u.charAt(y>>>6*(3-b)&63));var w=u.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(a,l){l===void 0&&(l=!0);var c=a.length,d=l?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var f=0;f<d.length;f++)u[d.charCodeAt(f)]=f}var p=d.charAt(64);if(p){var m=a.indexOf(p);m!==-1&&(c=m)}return s(a,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(a,l,c){for(var d=[],u=0,f=0;f<l;f++)if(f%4){var p=c[a.charCodeAt(f-1)]<<f%4*2,m=c[a.charCodeAt(f)]>>>6-f%4*2,v=p|m;d[u>>>2]|=v<<24-u%4*8,u++}return i.create(d,u)}}(),e.enc.Base64url})});var cp=Fn((iF,ise)=>{"use strict";(function(e,t){typeof iF=="object"?ise.exports=iF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(iF,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[];(function(){for(var p=0;p<64;p++)a[p]=t.abs(t.sin(p+1))*4294967296|0})();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,m){for(var v=0;v<16;v++){var C=m+v,y=p[C];p[C]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var b=this._hash.words,w=p[m+0],S=p[m+1],D=p[m+2],R=p[m+3],T=p[m+4],k=p[m+5],M=p[m+6],B=p[m+7],L=p[m+8],V=p[m+9],ee=p[m+10],re=p[m+11],se=p[m+12],ge=p[m+13],fe=p[m+14],Ee=p[m+15],te=b[0],oe=b[1],J=b[2],A=b[3];te=c(te,oe,J,A,w,7,a[0]),A=c(A,te,oe,J,S,12,a[1]),J=c(J,A,te,oe,D,17,a[2]),oe=c(oe,J,A,te,R,22,a[3]),te=c(te,oe,J,A,T,7,a[4]),A=c(A,te,oe,J,k,12,a[5]),J=c(J,A,te,oe,M,17,a[6]),oe=c(oe,J,A,te,B,22,a[7]),te=c(te,oe,J,A,L,7,a[8]),A=c(A,te,oe,J,V,12,a[9]),J=c(J,A,te,oe,ee,17,a[10]),oe=c(oe,J,A,te,re,22,a[11]),te=c(te,oe,J,A,se,7,a[12]),A=c(A,te,oe,J,ge,12,a[13]),J=c(J,A,te,oe,fe,17,a[14]),oe=c(oe,J,A,te,Ee,22,a[15]),te=d(te,oe,J,A,S,5,a[16]),A=d(A,te,oe,J,M,9,a[17]),J=d(J,A,te,oe,re,14,a[18]),oe=d(oe,J,A,te,w,20,a[19]),te=d(te,oe,J,A,k,5,a[20]),A=d(A,te,oe,J,ee,9,a[21]),J=d(J,A,te,oe,Ee,14,a[22]),oe=d(oe,J,A,te,T,20,a[23]),te=d(te,oe,J,A,V,5,a[24]),A=d(A,te,oe,J,fe,9,a[25]),J=d(J,A,te,oe,R,14,a[26]),oe=d(oe,J,A,te,L,20,a[27]),te=d(te,oe,J,A,ge,5,a[28]),A=d(A,te,oe,J,D,9,a[29]),J=d(J,A,te,oe,B,14,a[30]),oe=d(oe,J,A,te,se,20,a[31]),te=u(te,oe,J,A,k,4,a[32]),A=u(A,te,oe,J,L,11,a[33]),J=u(J,A,te,oe,re,16,a[34]),oe=u(oe,J,A,te,fe,23,a[35]),te=u(te,oe,J,A,S,4,a[36]),A=u(A,te,oe,J,T,11,a[37]),J=u(J,A,te,oe,B,16,a[38]),oe=u(oe,J,A,te,ee,23,a[39]),te=u(te,oe,J,A,ge,4,a[40]),A=u(A,te,oe,J,w,11,a[41]),J=u(J,A,te,oe,R,16,a[42]),oe=u(oe,J,A,te,M,23,a[43]),te=u(te,oe,J,A,V,4,a[44]),A=u(A,te,oe,J,se,11,a[45]),J=u(J,A,te,oe,Ee,16,a[46]),oe=u(oe,J,A,te,D,23,a[47]),te=f(te,oe,J,A,w,6,a[48]),A=f(A,te,oe,J,B,10,a[49]),J=f(J,A,te,oe,fe,15,a[50]),oe=f(oe,J,A,te,k,21,a[51]),te=f(te,oe,J,A,se,6,a[52]),A=f(A,te,oe,J,R,10,a[53]),J=f(J,A,te,oe,ee,15,a[54]),oe=f(oe,J,A,te,S,21,a[55]),te=f(te,oe,J,A,L,6,a[56]),A=f(A,te,oe,J,Ee,10,a[57]),J=f(J,A,te,oe,M,15,a[58]),oe=f(oe,J,A,te,ge,21,a[59]),te=f(te,oe,J,A,T,6,a[60]),A=f(A,te,oe,J,re,10,a[61]),J=f(J,A,te,oe,D,15,a[62]),oe=f(oe,J,A,te,V,21,a[63]),b[0]=b[0]+te|0,b[1]=b[1]+oe|0,b[2]=b[2]+J|0,b[3]=b[3]+A|0},_doFinalize:function(){var p=this._data,m=p.words,v=this._nDataBytes*8,C=p.sigBytes*8;m[C>>>5]|=128<<24-C%32;var y=t.floor(v/4294967296),b=v;m[(C+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,m[(C+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,p.sigBytes=(m.length+1)*4,this._process();for(var w=this._hash,S=w.words,D=0;D<4;D++){var R=S[D];S[D]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return w},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});function c(p,m,v,C,y,b,w){var S=p+(m&v|~m&C)+y+w;return(S<<b|S>>>32-b)+m}function d(p,m,v,C,y,b,w){var S=p+(m&C|v&~C)+y+w;return(S<<b|S>>>32-b)+m}function u(p,m,v,C,y,b,w){var S=p+(m^v^C)+y+w;return(S<<b|S>>>32-b)+m}function f(p,m,v,C,y,b,w){var S=p+(v^(m|~C))+y+w;return(S<<b|S>>>32-b)+m}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5})});var s7=Fn((rF,rse)=>{"use strict";(function(e,t){typeof rF=="object"?rse.exports=rF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(rF,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.algo,s=[],a=o.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,c){for(var d=this._hash.words,u=d[0],f=d[1],p=d[2],m=d[3],v=d[4],C=0;C<80;C++){if(C<16)s[C]=l[c+C]|0;else{var y=s[C-3]^s[C-8]^s[C-14]^s[C-16];s[C]=y<<1|y>>>31}var b=(u<<5|u>>>27)+v+s[C];C<20?b+=(f&p|~f&m)+1518500249:C<40?b+=(f^p^m)+1859775393:C<60?b+=(f&p|f&m|p&m)-1894007588:b+=(f^p^m)-899497514,v=m,m=p,p=f<<30|f>>>2,f=u,u=b}d[0]=d[0]+u|0,d[1]=d[1]+f|0,d[2]=d[2]+p|0,d[3]=d[3]+m|0,d[4]=d[4]+v|0},_doFinalize:function(){var l=this._data,c=l.words,d=this._nDataBytes*8,u=l.sigBytes*8;return c[u>>>5]|=128<<24-u%32,c[(u+64>>>9<<4)+14]=Math.floor(d/4294967296),c[(u+64>>>9<<4)+15]=d,l.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var l=r.clone.call(this);return l._hash=this._hash.clone(),l}});t.SHA1=r._createHelper(a),t.HmacSHA1=r._createHmacHelper(a)}(),e.SHA1})});var sF=Fn((oF,ose)=>{"use strict";(function(e,t){typeof oF=="object"?ose.exports=oF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(oF,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[],l=[];(function(){function u(v){for(var C=t.sqrt(v),y=2;y<=C;y++)if(!(v%y))return!1;return!0}function f(v){return(v-(v|0))*4294967296|0}for(var p=2,m=0;m<64;)u(p)&&(m<8&&(a[m]=f(t.pow(p,1/2))),l[m]=f(t.pow(p,1/3)),m++),p++})();var c=[],d=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(u,f){for(var p=this._hash.words,m=p[0],v=p[1],C=p[2],y=p[3],b=p[4],w=p[5],S=p[6],D=p[7],R=0;R<64;R++){if(R<16)c[R]=u[f+R]|0;else{var T=c[R-15],k=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,M=c[R-2],B=(M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10;c[R]=k+c[R-7]+B+c[R-16]}var L=b&w^~b&S,V=m&v^m&C^v&C,ee=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),re=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),se=D+re+L+l[R]+c[R],ge=ee+V;D=S,S=w,w=b,b=y+se|0,y=C,C=v,v=m,m=se+ge|0}p[0]=p[0]+m|0,p[1]=p[1]+v|0,p[2]=p[2]+C|0,p[3]=p[3]+y|0,p[4]=p[4]+b|0,p[5]=p[5]+w|0,p[6]=p[6]+S|0,p[7]=p[7]+D|0},_doFinalize:function(){var u=this._data,f=u.words,p=this._nDataBytes*8,m=u.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=t.floor(p/4294967296),f[(m+64>>>9<<4)+15]=p,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA256=o._createHelper(d),n.HmacSHA256=o._createHmacHelper(d)}(Math),e.SHA256})});var ase=Fn((aF,sse)=>{"use strict";(function(e,t,n){typeof aF=="object"?sse.exports=aF=t(jn(),sF()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(aF,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.algo,o=r.SHA256,s=r.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=o._doFinalize.call(this);return a.sigBytes-=4,a}});t.SHA224=o._createHelper(s),t.HmacSHA224=o._createHmacHelper(s)}(),e.SHA224})});var a7=Fn((lF,lse)=>{"use strict";(function(e,t,n){typeof lF=="object"?lse.exports=lF=t(jn(),E_()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(lF,function(e){return function(){var t=e,n=t.lib,i=n.Hasher,r=t.x64,o=r.Word,s=r.WordArray,a=t.algo;function l(){return o.create.apply(o,arguments)}var c=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],d=[];(function(){for(var f=0;f<80;f++)d[f]=l()})();var u=a.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(f,p){for(var m=this._hash.words,v=m[0],C=m[1],y=m[2],b=m[3],w=m[4],S=m[5],D=m[6],R=m[7],T=v.high,k=v.low,M=C.high,B=C.low,L=y.high,V=y.low,ee=b.high,re=b.low,se=w.high,ge=w.low,fe=S.high,Ee=S.low,te=D.high,oe=D.low,J=R.high,A=R.low,ae=T,K=k,Q=M,ce=B,Me=L,ze=V,Ve=ee,ye=re,vt=se,q=ge,Vt=fe,St=Ee,_t=te,wt=oe,Ze=J,gt=A,Ht=0;Ht<80;Ht++){var xn,$n,ur=d[Ht];if(Ht<16)$n=ur.high=f[p+Ht*2]|0,xn=ur.low=f[p+Ht*2+1]|0;else{var Tn=d[Ht-15],ei=Tn.high,Ei=Tn.low,Zt=(ei>>>1|Ei<<31)^(ei>>>8|Ei<<24)^ei>>>7,qn=(Ei>>>1|ei<<31)^(Ei>>>8|ei<<24)^(Ei>>>7|ei<<25),Pi=d[Ht-2],li=Pi.high,Ie=Pi.low,de=(li>>>19|Ie<<13)^(li<<3|Ie>>>29)^li>>>6,me=(Ie>>>19|li<<13)^(Ie<<3|li>>>29)^(Ie>>>6|li<<26),Je=d[Ht-7],Mt=Je.high,ln=Je.low,Qi=d[Ht-16],Hs=Qi.high,ho=Qi.low;xn=qn+ln,$n=Zt+Mt+(xn>>>0<qn>>>0?1:0),xn=xn+me,$n=$n+de+(xn>>>0<me>>>0?1:0),xn=xn+ho,$n=$n+Hs+(xn>>>0<ho>>>0?1:0),ur.high=$n,ur.low=xn}var Oi=vt&Vt^~vt&_t,ji=q&St^~q&wt,Ji=ae&Q^ae&Me^Q&Me,Ga=K&ce^K&ze^ce&ze,Ro=(ae>>>28|K<<4)^(ae<<30|K>>>2)^(ae<<25|K>>>7),rc=(K>>>28|ae<<4)^(K<<30|ae>>>2)^(K<<25|ae>>>7),Er=(vt>>>14|q<<18)^(vt>>>18|q<<14)^(vt<<23|q>>>9),ds=(q>>>14|vt<<18)^(q>>>18|vt<<14)^(q<<23|vt>>>9),Dr=c[Ht],fo=Dr.high,hr=Dr.low,Di=gt+ds,$i=Ze+Er+(Di>>>0<gt>>>0?1:0),Di=Di+ji,$i=$i+Oi+(Di>>>0<ji>>>0?1:0),Di=Di+hr,$i=$i+fo+(Di>>>0<hr>>>0?1:0),Di=Di+xn,$i=$i+$n+(Di>>>0<xn>>>0?1:0),Vn=rc+Ga,fr=Ro+Ji+(Vn>>>0<rc>>>0?1:0);Ze=_t,gt=wt,_t=Vt,wt=St,Vt=vt,St=q,q=ye+Di|0,vt=Ve+$i+(q>>>0<ye>>>0?1:0)|0,Ve=Me,ye=ze,Me=Q,ze=ce,Q=ae,ce=K,K=Di+Vn|0,ae=$i+fr+(K>>>0<Di>>>0?1:0)|0}k=v.low=k+K,v.high=T+ae+(k>>>0<K>>>0?1:0),B=C.low=B+ce,C.high=M+Q+(B>>>0<ce>>>0?1:0),V=y.low=V+ze,y.high=L+Me+(V>>>0<ze>>>0?1:0),re=b.low=re+ye,b.high=ee+Ve+(re>>>0<ye>>>0?1:0),ge=w.low=ge+q,w.high=se+vt+(ge>>>0<q>>>0?1:0),Ee=S.low=Ee+St,S.high=fe+Vt+(Ee>>>0<St>>>0?1:0),oe=D.low=oe+wt,D.high=te+_t+(oe>>>0<wt>>>0?1:0),A=R.low=A+gt,R.high=J+Ze+(A>>>0<gt>>>0?1:0)},_doFinalize:function(){var f=this._data,p=f.words,m=this._nDataBytes*8,v=f.sigBytes*8;p[v>>>5]|=128<<24-v%32,p[(v+128>>>10<<5)+30]=Math.floor(m/4294967296),p[(v+128>>>10<<5)+31]=m,f.sigBytes=p.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var f=i.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});t.SHA512=i._createHelper(u),t.HmacSHA512=i._createHmacHelper(u)}(),e.SHA512})});var dse=Fn((cF,cse)=>{"use strict";(function(e,t,n){typeof cF=="object"?cse.exports=cF=t(jn(),E_(),a7()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(cF,function(e){return function(){var t=e,n=t.x64,i=n.Word,r=n.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=16,l}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384})});var hse=Fn((dF,use)=>{"use strict";(function(e,t,n){typeof dF=="object"?use.exports=dF=t(jn(),E_()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(dF,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.x64,a=s.Word,l=n.algo,c=[],d=[],u=[];(function(){for(var m=1,v=0,C=0;C<24;C++){c[m+5*v]=(C+1)*(C+2)/2%64;var y=v%5,b=(2*m+3*v)%5;m=y,v=b}for(var m=0;m<5;m++)for(var v=0;v<5;v++)d[m+5*v]=v+(2*m+3*v)%5*5;for(var w=1,S=0;S<24;S++){for(var D=0,R=0,T=0;T<7;T++){if(w&1){var k=(1<<T)-1;k<32?R^=1<<k:D^=1<<k-32}w&128?w=w<<1^113:w<<=1}u[S]=a.create(D,R)}})();var f=[];(function(){for(var m=0;m<25;m++)f[m]=a.create()})();var p=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],v=0;v<25;v++)m[v]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,v){for(var C=this._state,y=this.blockSize/2,b=0;b<y;b++){var w=m[v+2*b],S=m[v+2*b+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var D=C[b];D.high^=S,D.low^=w}for(var R=0;R<24;R++){for(var T=0;T<5;T++){for(var k=0,M=0,B=0;B<5;B++){var D=C[T+5*B];k^=D.high,M^=D.low}var L=f[T];L.high=k,L.low=M}for(var T=0;T<5;T++)for(var V=f[(T+4)%5],ee=f[(T+1)%5],re=ee.high,se=ee.low,k=V.high^(re<<1|se>>>31),M=V.low^(se<<1|re>>>31),B=0;B<5;B++){var D=C[T+5*B];D.high^=k,D.low^=M}for(var ge=1;ge<25;ge++){var k,M,D=C[ge],fe=D.high,Ee=D.low,te=c[ge];te<32?(k=fe<<te|Ee>>>32-te,M=Ee<<te|fe>>>32-te):(k=Ee<<te-32|fe>>>64-te,M=fe<<te-32|Ee>>>64-te);var oe=f[d[ge]];oe.high=k,oe.low=M}var J=f[0],A=C[0];J.high=A.high,J.low=A.low;for(var T=0;T<5;T++)for(var B=0;B<5;B++){var ge=T+5*B,D=C[ge],ae=f[ge],K=f[(T+1)%5+5*B],Q=f[(T+2)%5+5*B];D.high=ae.high^~K.high&Q.high,D.low=ae.low^~K.low&Q.low}var D=C[0],ce=u[R];D.high^=ce.high,D.low^=ce.low}},_doFinalize:function(){var m=this._data,v=m.words,C=this._nDataBytes*8,y=m.sigBytes*8,b=this.blockSize*32;v[y>>>5]|=1<<24-y%32,v[(t.ceil((y+1)/b)*b>>>5)-1]|=128,m.sigBytes=v.length*4,this._process();for(var w=this._state,S=this.cfg.outputLength/8,D=S/8,R=[],T=0;T<D;T++){var k=w[T],M=k.high,B=k.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,R.push(B),R.push(M)}return new r.init(R,S)},clone:function(){for(var m=o.clone.call(this),v=m._state=this._state.slice(0),C=0;C<25;C++)v[C]=v[C].clone();return m}});n.SHA3=o._createHelper(p),n.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var pse=Fn((uF,fse)=>{"use strict";(function(e,t){typeof uF=="object"?fse.exports=uF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(uF,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),f=r.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,D){for(var R=0;R<16;R++){var T=D+R,k=S[T];S[T]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var M=this._hash.words,B=u.words,L=f.words,V=a.words,ee=l.words,re=c.words,se=d.words,ge,fe,Ee,te,oe,J,A,ae,K,Q;J=ge=M[0],A=fe=M[1],ae=Ee=M[2],K=te=M[3],Q=oe=M[4];for(var ce,R=0;R<80;R+=1)ce=ge+S[D+V[R]]|0,R<16?ce+=m(fe,Ee,te)+B[0]:R<32?ce+=v(fe,Ee,te)+B[1]:R<48?ce+=C(fe,Ee,te)+B[2]:R<64?ce+=y(fe,Ee,te)+B[3]:ce+=b(fe,Ee,te)+B[4],ce=ce|0,ce=w(ce,re[R]),ce=ce+oe|0,ge=oe,oe=te,te=w(Ee,10),Ee=fe,fe=ce,ce=J+S[D+ee[R]]|0,R<16?ce+=b(A,ae,K)+L[0]:R<32?ce+=y(A,ae,K)+L[1]:R<48?ce+=C(A,ae,K)+L[2]:R<64?ce+=v(A,ae,K)+L[3]:ce+=m(A,ae,K)+L[4],ce=ce|0,ce=w(ce,se[R]),ce=ce+Q|0,J=Q,Q=K,K=w(ae,10),ae=A,A=ce;ce=M[1]+Ee+K|0,M[1]=M[2]+te+Q|0,M[2]=M[3]+oe+J|0,M[3]=M[4]+ge+A|0,M[4]=M[0]+fe+ae|0,M[0]=ce},_doFinalize:function(){var S=this._data,D=S.words,R=this._nDataBytes*8,T=S.sigBytes*8;D[T>>>5]|=128<<24-T%32,D[(T+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,S.sigBytes=(D.length+1)*4,this._process();for(var k=this._hash,M=k.words,B=0;B<5;B++){var L=M[B];M[B]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return k},clone:function(){var S=o.clone.call(this);return S._hash=this._hash.clone(),S}});function m(S,D,R){return S^D^R}function v(S,D,R){return S&D|~S&R}function C(S,D,R){return(S|~D)^R}function y(S,D,R){return S&R|D&~R}function b(S,D,R){return S^(D|~R)}function w(S,D){return S<<D|S>>>32-D}n.RIPEMD160=o._createHelper(p),n.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var fF=Fn((hF,gse)=>{"use strict";(function(e,t){typeof hF=="object"?gse.exports=hF=t(jn()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hF,function(e){(function(){var t=e,n=t.lib,i=n.Base,r=t.enc,o=r.Utf8,s=t.algo,a=s.HMAC=i.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=o.parse(c));var d=l.blockSize,u=d*4;c.sigBytes>u&&(c=l.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),p=this._iKey=c.clone(),m=f.words,v=p.words,C=0;C<d;C++)m[C]^=1549556828,v[C]^=909522486;f.sigBytes=p.sigBytes=u,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,d=c.finalize(l);c.reset();var u=c.finalize(this._oKey.clone().concat(d));return u}})})()})});var vse=Fn((pF,mse)=>{"use strict";(function(e,t,n){typeof pF=="object"?mse.exports=pF=t(jn(),sF(),fF()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(pF,function(e){return function(){var t=e,n=t.lib,i=n.Base,r=n.WordArray,o=t.algo,s=o.SHA256,a=o.HMAC,l=o.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var u=this.cfg,f=a.create(u.hasher,c),p=r.create(),m=r.create([1]),v=p.words,C=m.words,y=u.keySize,b=u.iterations;v.length<y;){var w=f.update(d).finalize(m);f.reset();for(var S=w.words,D=S.length,R=w,T=1;T<b;T++){R=f.finalize(R),f.reset();for(var k=R.words,M=0;M<D;M++)S[M]^=k[M]}p.concat(w),C[0]++}return p.sigBytes=y*4,p}});t.PBKDF2=function(c,d,u){return l.create(u).compute(c,d)}}(),e.PBKDF2})});var yh=Fn((gF,Cse)=>{"use strict";(function(e,t,n){typeof gF=="object"?Cse.exports=gF=t(jn(),s7(),fF()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(gF,function(e){return function(){var t=e,n=t.lib,i=n.Base,r=n.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,c){for(var d,u=this.cfg,f=u.hasher.create(),p=r.create(),m=p.words,v=u.keySize,C=u.iterations;m.length<v;){d&&f.update(d),d=f.update(l).finalize(c),f.reset();for(var y=1;y<C;y++)d=f.finalize(d),f.reset();p.concat(d)}return p.sigBytes=v*4,p}});t.EvpKDF=function(l,c,d){return a.create(d).compute(l,c)}}(),e.EvpKDF})});var Do=Fn((mF,yse)=>{"use strict";(function(e,t,n){typeof mF=="object"?yse.exports=mF=t(jn(),yh()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(mF,function(e){e.lib.Cipher||function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,a=n.enc,l=a.Utf8,c=a.Base64,d=n.algo,u=d.EvpKDF,f=i.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(L,V){return this.create(this._ENC_XFORM_MODE,L,V)},createDecryptor:function(L,V){return this.create(this._DEC_XFORM_MODE,L,V)},init:function(L,V,ee){this.cfg=this.cfg.extend(ee),this._xformMode=L,this._key=V,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(L){return this._append(L),this._process()},finalize:function(L){L&&this._append(L);var V=this._doFinalize();return V},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function L(V){return typeof V=="string"?B:T}return function(V){return{encrypt:function(ee,re,se){return L(re).encrypt(V,ee,re,se)},decrypt:function(ee,re,se){return L(re).decrypt(V,ee,re,se)}}}}()}),p=i.StreamCipher=f.extend({_doFinalize:function(){var L=this._process(!0);return L},blockSize:1}),m=n.mode={},v=i.BlockCipherMode=r.extend({createEncryptor:function(L,V){return this.Encryptor.create(L,V)},createDecryptor:function(L,V){return this.Decryptor.create(L,V)},init:function(L,V){this._cipher=L,this._iv=V}}),C=m.CBC=function(){var L=v.extend();L.Encryptor=L.extend({processBlock:function(ee,re){var se=this._cipher,ge=se.blockSize;V.call(this,ee,re,ge),se.encryptBlock(ee,re),this._prevBlock=ee.slice(re,re+ge)}}),L.Decryptor=L.extend({processBlock:function(ee,re){var se=this._cipher,ge=se.blockSize,fe=ee.slice(re,re+ge);se.decryptBlock(ee,re),V.call(this,ee,re,ge),this._prevBlock=fe}});function V(ee,re,se){var ge,fe=this._iv;fe?(ge=fe,this._iv=t):ge=this._prevBlock;for(var Ee=0;Ee<se;Ee++)ee[re+Ee]^=ge[Ee]}return L}(),y=n.pad={},b=y.Pkcs7={pad:function(L,V){for(var ee=V*4,re=ee-L.sigBytes%ee,se=re<<24|re<<16|re<<8|re,ge=[],fe=0;fe<re;fe+=4)ge.push(se);var Ee=o.create(ge,re);L.concat(Ee)},unpad:function(L){var V=L.words[L.sigBytes-1>>>2]&255;L.sigBytes-=V}},w=i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:C,padding:b}),reset:function(){var L;f.reset.call(this);var V=this.cfg,ee=V.iv,re=V.mode;this._xformMode==this._ENC_XFORM_MODE?L=re.createEncryptor:(L=re.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==L?this._mode.init(this,ee&&ee.words):(this._mode=L.call(re,this,ee&&ee.words),this._mode.__creator=L)},_doProcessBlock:function(L,V){this._mode.processBlock(L,V)},_doFinalize:function(){var L,V=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(V.pad(this._data,this.blockSize),L=this._process(!0)):(L=this._process(!0),V.unpad(L)),L},blockSize:128/32}),S=i.CipherParams=r.extend({init:function(L){this.mixIn(L)},toString:function(L){return(L||this.formatter).stringify(this)}}),D=n.format={},R=D.OpenSSL={stringify:function(L){var V,ee=L.ciphertext,re=L.salt;return re?V=o.create([1398893684,1701076831]).concat(re).concat(ee):V=ee,V.toString(c)},parse:function(L){var V,ee=c.parse(L),re=ee.words;return re[0]==1398893684&&re[1]==1701076831&&(V=o.create(re.slice(2,4)),re.splice(0,4),ee.sigBytes-=16),S.create({ciphertext:ee,salt:V})}},T=i.SerializableCipher=r.extend({cfg:r.extend({format:R}),encrypt:function(L,V,ee,re){re=this.cfg.extend(re);var se=L.createEncryptor(ee,re),ge=se.finalize(V),fe=se.cfg;return S.create({ciphertext:ge,key:ee,iv:fe.iv,algorithm:L,mode:fe.mode,padding:fe.padding,blockSize:L.blockSize,formatter:re.format})},decrypt:function(L,V,ee,re){re=this.cfg.extend(re),V=this._parse(V,re.format);var se=L.createDecryptor(ee,re).finalize(V.ciphertext);return se},_parse:function(L,V){return typeof L=="string"?V.parse(L,this):L}}),k=n.kdf={},M=k.OpenSSL={execute:function(L,V,ee,re,se){if(re||(re=o.random(64/8)),se)var ge=u.create({keySize:V+ee,hasher:se}).compute(L,re);else var ge=u.create({keySize:V+ee}).compute(L,re);var fe=o.create(ge.words.slice(V),ee*4);return ge.sigBytes=V*4,S.create({key:ge,iv:fe,salt:re})}},B=i.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:M}),encrypt:function(L,V,ee,re){re=this.cfg.extend(re);var se=re.kdf.execute(ee,L.keySize,L.ivSize,re.salt,re.hasher);re.iv=se.iv;var ge=T.encrypt.call(this,L,V,se.key,re);return ge.mixIn(se),ge},decrypt:function(L,V,ee,re){re=this.cfg.extend(re),V=this._parse(V,re.format);var se=re.kdf.execute(ee,L.keySize,L.ivSize,V.salt,re.hasher);re.iv=se.iv;var ge=T.decrypt.call(this,L,V,se.key,re);return ge}})}()})});var bse=Fn((vF,xse)=>{"use strict";(function(e,t,n){typeof vF=="object"?xse.exports=vF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(vF,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize;n.call(this,i,r,s,o),this._prevBlock=i.slice(r,r+s)}}),t.Decryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=i.slice(r,r+s);n.call(this,i,r,s,o),this._prevBlock=a}});function n(i,r,o,s){var a,l=this._iv;l?(a=l.slice(0),this._iv=void 0):a=this._prevBlock,s.encryptBlock(a,0);for(var c=0;c<o;c++)i[r+c]^=a[c]}return t}(),e.mode.CFB})});var _se=Fn((CF,wse)=>{"use strict";(function(e,t,n){typeof CF=="object"?wse.exports=CF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(CF,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=this._iv,l=this._counter;a&&(l=this._counter=a.slice(0),this._iv=void 0);var c=l.slice(0);o.encryptBlock(c,0),l[s-1]=l[s-1]+1|0;for(var d=0;d<s;d++)i[r+d]^=c[d]}});return t.Decryptor=n,t}(),e.mode.CTR})});var Ese=Fn((yF,Sse)=>{"use strict";(function(e,t,n){typeof yF=="object"?Sse.exports=yF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(yF,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(o){if((o>>24&255)===255){var s=o>>16&255,a=o>>8&255,l=o&255;s===255?(s=0,a===255?(a=0,l===255?l=0:++l):++a):++s,o=0,o+=s<<16,o+=a<<8,o+=l}else o+=1<<24;return o}function i(o){return(o[0]=n(o[0]))===0&&(o[1]=n(o[1])),o}var r=t.Encryptor=t.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,d=this._counter;c&&(d=this._counter=c.slice(0),this._iv=void 0),i(d);var u=d.slice(0);a.encryptBlock(u,0);for(var f=0;f<l;f++)o[s+f]^=u[f]}});return t.Decryptor=r,t}(),e.mode.CTRGladman})});var Rse=Fn((xF,Dse)=>{"use strict";(function(e,t,n){typeof xF=="object"?Dse.exports=xF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(xF,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=this._iv,l=this._keystream;a&&(l=this._keystream=a.slice(0),this._iv=void 0),o.encryptBlock(l,0);for(var c=0;c<s;c++)i[r+c]^=l[c]}});return t.Decryptor=n,t}(),e.mode.OFB})});var Ise=Fn((bF,Tse)=>{"use strict";(function(e,t,n){typeof bF=="object"?Tse.exports=bF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(bF,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(n,i){this._cipher.encryptBlock(n,i)}}),t.Decryptor=t.extend({processBlock:function(n,i){this._cipher.decryptBlock(n,i)}}),t}(),e.mode.ECB})});var kse=Fn((wF,Fse)=>{"use strict";(function(e,t,n){typeof wF=="object"?Fse.exports=wF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(wF,function(e){return e.pad.AnsiX923={pad:function(t,n){var i=t.sigBytes,r=n*4,o=r-i%r,s=i+o-1;t.clamp(),t.words[s>>>2]|=o<<24-s%4*8,t.sigBytes+=o},unpad:function(t){var n=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=n}},e.pad.Ansix923})});var Mse=Fn((_F,Ase)=>{"use strict";(function(e,t,n){typeof _F=="object"?Ase.exports=_F=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(_F,function(e){return e.pad.Iso10126={pad:function(t,n){var i=n*4,r=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(t){var n=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=n}},e.pad.Iso10126})});var Ose=Fn((SF,Pse)=>{"use strict";(function(e,t,n){typeof SF=="object"?Pse.exports=SF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(SF,function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var Nse=Fn((EF,Lse)=>{"use strict";(function(e,t,n){typeof EF=="object"?Lse.exports=EF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(EF,function(e){return e.pad.ZeroPadding={pad:function(t,n){var i=n*4;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var n=t.words,i=t.sigBytes-1,i=t.sigBytes-1;i>=0;i--)if(n[i>>>2]>>>24-i%4*8&255){t.sigBytes=i+1;break}}},e.pad.ZeroPadding})});var Vse=Fn((DF,Bse)=>{"use strict";(function(e,t,n){typeof DF=="object"?Bse.exports=DF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(DF,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var Gse=Fn((RF,Hse)=>{"use strict";(function(e,t,n){typeof RF=="object"?Hse.exports=RF=t(jn(),Do()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(RF,function(e){return function(t){var n=e,i=n.lib,r=i.CipherParams,o=n.enc,s=o.Hex,a=n.format,l=a.Hex={stringify:function(c){return c.ciphertext.toString(s)},parse:function(c){var d=s.parse(c);return r.create({ciphertext:d})}}}(),e.format.Hex})});var Use=Fn((TF,zse)=>{"use strict";(function(e,t,n){typeof TF=="object"?zse.exports=TF=t(jn(),lp(),cp(),yh(),Do()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(TF,function(e){return function(){var t=e,n=t.lib,i=n.BlockCipher,r=t.algo,o=[],s=[],a=[],l=[],c=[],d=[],u=[],f=[],p=[],m=[];(function(){for(var y=[],b=0;b<256;b++)b<128?y[b]=b<<1:y[b]=b<<1^283;for(var w=0,S=0,b=0;b<256;b++){var D=S^S<<1^S<<2^S<<3^S<<4;D=D>>>8^D&255^99,o[w]=D,s[D]=w;var R=y[w],T=y[R],k=y[T],M=y[D]*257^D*16843008;a[w]=M<<24|M>>>8,l[w]=M<<16|M>>>16,c[w]=M<<8|M>>>24,d[w]=M;var M=k*16843009^T*65537^R*257^w*16843008;u[D]=M<<24|M>>>8,f[D]=M<<16|M>>>16,p[D]=M<<8|M>>>24,m[D]=M,w?(w=R^y[y[y[k^R]]],S^=y[y[S]]):w=S=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],C=r.AES=i.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,w=b.words,S=b.sigBytes/4,D=this._nRounds=S+6,R=(D+1)*4,T=this._keySchedule=[],k=0;k<R;k++)k<S?T[k]=w[k]:(y=T[k-1],k%S?S>6&&k%S==4&&(y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255]):(y=y<<8|y>>>24,y=o[y>>>24]<<24|o[y>>>16&255]<<16|o[y>>>8&255]<<8|o[y&255],y^=v[k/S|0]<<24),T[k]=T[k-S]^y);for(var M=this._invKeySchedule=[],B=0;B<R;B++){var k=R-B;if(B%4)var y=T[k];else var y=T[k-4];B<4||k<=4?M[B]=y:M[B]=u[o[y>>>24]]^f[o[y>>>16&255]]^p[o[y>>>8&255]]^m[o[y&255]]}}},encryptBlock:function(y,b){this._doCryptBlock(y,b,this._keySchedule,a,l,c,d,o)},decryptBlock:function(y,b){var w=y[b+1];y[b+1]=y[b+3],y[b+3]=w,this._doCryptBlock(y,b,this._invKeySchedule,u,f,p,m,s);var w=y[b+1];y[b+1]=y[b+3],y[b+3]=w},_doCryptBlock:function(y,b,w,S,D,R,T,k){for(var M=this._nRounds,B=y[b]^w[0],L=y[b+1]^w[1],V=y[b+2]^w[2],ee=y[b+3]^w[3],re=4,se=1;se<M;se++){var ge=S[B>>>24]^D[L>>>16&255]^R[V>>>8&255]^T[ee&255]^w[re++],fe=S[L>>>24]^D[V>>>16&255]^R[ee>>>8&255]^T[B&255]^w[re++],Ee=S[V>>>24]^D[ee>>>16&255]^R[B>>>8&255]^T[L&255]^w[re++],te=S[ee>>>24]^D[B>>>16&255]^R[L>>>8&255]^T[V&255]^w[re++];B=ge,L=fe,V=Ee,ee=te}var ge=(k[B>>>24]<<24|k[L>>>16&255]<<16|k[V>>>8&255]<<8|k[ee&255])^w[re++],fe=(k[L>>>24]<<24|k[V>>>16&255]<<16|k[ee>>>8&255]<<8|k[B&255])^w[re++],Ee=(k[V>>>24]<<24|k[ee>>>16&255]<<16|k[B>>>8&255]<<8|k[L&255])^w[re++],te=(k[ee>>>24]<<24|k[B>>>16&255]<<16|k[L>>>8&255]<<8|k[V&255])^w[re++];y[b]=ge,y[b+1]=fe,y[b+2]=Ee,y[b+3]=te},keySize:256/32});t.AES=i._createHelper(C)}(),e.AES})});var jse=Fn((IF,Wse)=>{"use strict";(function(e,t,n){typeof IF=="object"?Wse.exports=IF=t(jn(),lp(),cp(),yh(),Do()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(IF,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=n.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o.DES=r.extend({_doReset:function(){for(var v=this._key,C=v.words,y=[],b=0;b<56;b++){var w=s[b]-1;y[b]=C[w>>>5]>>>31-w%32&1}for(var S=this._subKeys=[],D=0;D<16;D++){for(var R=S[D]=[],T=l[D],b=0;b<24;b++)R[b/6|0]|=y[(a[b]-1+T)%28]<<31-b%6,R[4+(b/6|0)]|=y[28+(a[b+24]-1+T)%28]<<31-b%6;R[0]=R[0]<<1|R[0]>>>31;for(var b=1;b<7;b++)R[b]=R[b]>>>(b-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var k=this._invSubKeys=[],b=0;b<16;b++)k[b]=S[15-b]},encryptBlock:function(v,C){this._doCryptBlock(v,C,this._subKeys)},decryptBlock:function(v,C){this._doCryptBlock(v,C,this._invSubKeys)},_doCryptBlock:function(v,C,y){this._lBlock=v[C],this._rBlock=v[C+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var b=0;b<16;b++){for(var w=y[b],S=this._lBlock,D=this._rBlock,R=0,T=0;T<8;T++)R|=c[T][((D^w[T])&d[T])>>>0];this._lBlock=D,this._rBlock=S^R}var k=this._lBlock;this._lBlock=this._rBlock,this._rBlock=k,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),v[C]=this._lBlock,v[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(v,C){var y=(this._lBlock>>>v^this._rBlock)&C;this._rBlock^=y,this._lBlock^=y<<v}function p(v,C){var y=(this._rBlock>>>v^this._lBlock)&C;this._lBlock^=y,this._rBlock^=y<<v}t.DES=r._createHelper(u);var m=o.TripleDES=r.extend({_doReset:function(){var v=this._key,C=v.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=C.slice(0,2),b=C.length<4?C.slice(0,2):C.slice(2,4),w=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=u.createEncryptor(i.create(y)),this._des2=u.createEncryptor(i.create(b)),this._des3=u.createEncryptor(i.create(w))},encryptBlock:function(v,C){this._des1.encryptBlock(v,C),this._des2.decryptBlock(v,C),this._des3.encryptBlock(v,C)},decryptBlock:function(v,C){this._des3.decryptBlock(v,C),this._des2.encryptBlock(v,C),this._des1.decryptBlock(v,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=r._createHelper(m)}(),e.TripleDES})});var qse=Fn((FF,$se)=>{"use strict";(function(e,t,n){typeof FF=="object"?$se.exports=FF=t(jn(),lp(),cp(),yh(),Do()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(FF,function(e){return function(){var t=e,n=t.lib,i=n.StreamCipher,r=t.algo,o=r.RC4=i.extend({_doReset:function(){for(var l=this._key,c=l.words,d=l.sigBytes,u=this._S=[],f=0;f<256;f++)u[f]=f;for(var f=0,p=0;f<256;f++){var m=f%d,v=c[m>>>2]>>>24-m%4*8&255;p=(p+u[f]+v)%256;var C=u[f];u[f]=u[p],u[p]=C}this._i=this._j=0},_doProcessBlock:function(l,c){l[c]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var l=this._S,c=this._i,d=this._j,u=0,f=0;f<4;f++){c=(c+1)%256,d=(d+l[c])%256;var p=l[c];l[c]=l[d],l[d]=p,u|=l[(l[c]+l[d])%256]<<24-f*8}return this._i=c,this._j=d,u}t.RC4=i._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)s.call(this)}});t.RC4Drop=i._createHelper(a)}(),e.RC4})});var Xse=Fn((kF,Kse)=>{"use strict";(function(e,t,n){typeof kF=="object"?Kse.exports=kF=t(jn(),lp(),cp(),yh(),Do()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(kF,function(e){return function(){var t=e,n=t.lib,i=n.StreamCipher,r=t.algo,o=[],s=[],a=[],l=r.Rabbit=i.extend({_doReset:function(){for(var d=this._key.words,u=this.cfg.iv,f=0;f<4;f++)d[f]=(d[f]<<8|d[f]>>>24)&16711935|(d[f]<<24|d[f]>>>8)&4278255360;var p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var f=0;f<4;f++)c.call(this);for(var f=0;f<8;f++)m[f]^=p[f+4&7];if(u){var v=u.words,C=v[0],y=v[1],b=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=b>>>16|w&4294901760,D=w<<16|b&65535;m[0]^=b,m[1]^=S,m[2]^=w,m[3]^=D,m[4]^=b,m[5]^=S,m[6]^=w,m[7]^=D;for(var f=0;f<4;f++)c.call(this)}},_doProcessBlock:function(d,u){var f=this._X;c.call(this),o[0]=f[0]^f[5]>>>16^f[3]<<16,o[1]=f[2]^f[7]>>>16^f[5]<<16,o[2]=f[4]^f[1]>>>16^f[7]<<16,o[3]=f[6]^f[3]>>>16^f[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,d[u+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var d=this._X,u=this._C,f=0;f<8;f++)s[f]=u[f];u[0]=u[0]+1295307597+this._b|0,u[1]=u[1]+3545052371+(u[0]>>>0<s[0]>>>0?1:0)|0,u[2]=u[2]+886263092+(u[1]>>>0<s[1]>>>0?1:0)|0,u[3]=u[3]+1295307597+(u[2]>>>0<s[2]>>>0?1:0)|0,u[4]=u[4]+3545052371+(u[3]>>>0<s[3]>>>0?1:0)|0,u[5]=u[5]+886263092+(u[4]>>>0<s[4]>>>0?1:0)|0,u[6]=u[6]+1295307597+(u[5]>>>0<s[5]>>>0?1:0)|0,u[7]=u[7]+3545052371+(u[6]>>>0<s[6]>>>0?1:0)|0,this._b=u[7]>>>0<s[7]>>>0?1:0;for(var f=0;f<8;f++){var p=d[f]+u[f],m=p&65535,v=p>>>16,C=((m*m>>>17)+m*v>>>15)+v*v,y=((p&4294901760)*p|0)+((p&65535)*p|0);a[f]=C^y}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=i._createHelper(l)}(),e.Rabbit})});var Zse=Fn((AF,Yse)=>{"use strict";(function(e,t,n){typeof AF=="object"?Yse.exports=AF=t(jn(),lp(),cp(),yh(),Do()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(AF,function(e){return function(){var t=e,n=t.lib,i=n.StreamCipher,r=t.algo,o=[],s=[],a=[],l=r.RabbitLegacy=i.extend({_doReset:function(){var d=this._key.words,u=this.cfg.iv,f=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],p=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var m=0;m<4;m++)c.call(this);for(var m=0;m<8;m++)p[m]^=f[m+4&7];if(u){var v=u.words,C=v[0],y=v[1],b=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=b>>>16|w&4294901760,D=w<<16|b&65535;p[0]^=b,p[1]^=S,p[2]^=w,p[3]^=D,p[4]^=b,p[5]^=S,p[6]^=w,p[7]^=D;for(var m=0;m<4;m++)c.call(this)}},_doProcessBlock:function(d,u){var f=this._X;c.call(this),o[0]=f[0]^f[5]>>>16^f[3]<<16,o[1]=f[2]^f[7]>>>16^f[5]<<16,o[2]=f[4]^f[1]>>>16^f[7]<<16,o[3]=f[6]^f[3]>>>16^f[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,d[u+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var d=this._X,u=this._C,f=0;f<8;f++)s[f]=u[f];u[0]=u[0]+1295307597+this._b|0,u[1]=u[1]+3545052371+(u[0]>>>0<s[0]>>>0?1:0)|0,u[2]=u[2]+886263092+(u[1]>>>0<s[1]>>>0?1:0)|0,u[3]=u[3]+1295307597+(u[2]>>>0<s[2]>>>0?1:0)|0,u[4]=u[4]+3545052371+(u[3]>>>0<s[3]>>>0?1:0)|0,u[5]=u[5]+886263092+(u[4]>>>0<s[4]>>>0?1:0)|0,u[6]=u[6]+1295307597+(u[5]>>>0<s[5]>>>0?1:0)|0,u[7]=u[7]+3545052371+(u[6]>>>0<s[6]>>>0?1:0)|0,this._b=u[7]>>>0<s[7]>>>0?1:0;for(var f=0;f<8;f++){var p=d[f]+u[f],m=p&65535,v=p>>>16,C=((m*m>>>17)+m*v>>>15)+v*v,y=((p&4294901760)*p|0)+((p&65535)*p|0);a[f]=C^y}d[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,d[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,d[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,d[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,d[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,d[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,d[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,d[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=i._createHelper(l)}(),e.RabbitLegacy})});var Jse=Fn((MF,Qse)=>{"use strict";(function(e,t,n){typeof MF=="object"?Qse.exports=MF=t(jn(),lp(),cp(),yh(),Do()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(MF,function(e){return function(){var t=e,n=t.lib,i=n.BlockCipher,r=t.algo;let o=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function c(m,v){let C=v>>24&255,y=v>>16&255,b=v>>8&255,w=v&255,S=m.sbox[0][C]+m.sbox[1][y];return S=S^m.sbox[2][b],S=S+m.sbox[3][w],S}function d(m,v,C){let y=v,b=C,w;for(let S=0;S<o;++S)y=y^m.pbox[S],b=c(m,y)^b,w=y,y=b,b=w;return w=y,y=b,b=w,b=b^m.pbox[o],y=y^m.pbox[o+1],{left:y,right:b}}function u(m,v,C){let y=v,b=C,w;for(let S=o+1;S>1;--S)y=y^m.pbox[S],b=c(m,y)^b,w=y,y=b,b=w;return w=y,y=b,b=w,b=b^m.pbox[1],y=y^m.pbox[0],{left:y,right:b}}function f(m,v,C){for(let D=0;D<4;D++){m.sbox[D]=[];for(let R=0;R<256;R++)m.sbox[D][R]=a[D][R]}let y=0;for(let D=0;D<o+2;D++)m.pbox[D]=s[D]^v[y],y++,y>=C&&(y=0);let b=0,w=0,S=0;for(let D=0;D<o+2;D+=2)S=d(m,b,w),b=S.left,w=S.right,m.pbox[D]=b,m.pbox[D+1]=w;for(let D=0;D<4;D++)for(let R=0;R<256;R+=2)S=d(m,b,w),b=S.left,w=S.right,m.sbox[D][R]=b,m.sbox[D][R+1]=w;return!0}var p=r.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,v=m.words,C=m.sigBytes/4;f(l,v,C)}},encryptBlock:function(m,v){var C=d(l,m[v],m[v+1]);m[v]=C.left,m[v+1]=C.right},decryptBlock:function(m,v){var C=u(l,m[v],m[v+1]);m[v]=C.left,m[v+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=i._createHelper(p)}(),e.Blowfish})});var tae=Fn((PF,eae)=>{"use strict";(function(e,t,n){typeof PF=="object"?eae.exports=PF=t(jn(),E_(),Zoe(),Joe(),lp(),nse(),cp(),s7(),sF(),ase(),a7(),dse(),hse(),pse(),fF(),vse(),yh(),Do(),bse(),_se(),Ese(),Rse(),Ise(),kse(),Mse(),Ose(),Nse(),Vse(),Gse(),Use(),jse(),qse(),Xse(),Zse(),Jse()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(PF,function(e){return e})});function cA(e,t){return Object.is(e,t)}var vo=null,M1=!1,dA=1,pa=Symbol("SIGNAL");function Ln(e){let t=vo;return vo=e,t}function uA(){return vo}var Pm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ey(e){if(M1)throw new Error("");if(vo===null)return;vo.consumerOnSignalRead(e);let t=vo.nextProducerIndex++;if(B1(vo),t<vo.producerNode.length&&vo.producerNode[t]!==e&&Sy(vo)){let n=vo.producerNode[t];N1(n,vo.producerIndexOfThis[t])}vo.producerNode[t]!==e&&(vo.producerNode[t]=e,vo.producerIndexOfThis[t]=Sy(vo)?tH(e,vo,t):0),vo.producerLastReadVersion[t]=e.version}function eH(){dA++}function hA(e){if(!(Sy(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===dA)){if(!e.producerMustRecompute(e)&&!L1(e)){lA(e);return}e.producerRecomputeValue(e),lA(e)}}function fA(e){if(e.liveConsumerNode===void 0)return;let t=M1;M1=!0;try{for(let n of e.liveConsumerNode)n.dirty||yfe(n)}finally{M1=t}}function pA(){return vo?.consumerAllowSignalWrites!==!1}function yfe(e){e.dirty=!0,fA(e),e.consumerMarkedDirty?.(e)}function lA(e){e.dirty=!1,e.lastCleanEpoch=dA}function Dy(e){return e&&(e.nextProducerIndex=0),Ln(e)}function O1(e,t){if(Ln(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Sy(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)N1(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function L1(e){B1(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(hA(n),i!==n.version))return!0}return!1}function Ry(e){if(B1(e),Sy(e))for(let t=0;t<e.producerNode.length;t++)N1(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function tH(e,t,n){if(nH(e),e.liveConsumerNode.length===0&&iH(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=tH(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function N1(e,t){if(nH(e),e.liveConsumerNode.length===1&&iH(e))for(let i=0;i<e.producerNode.length;i++)N1(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];B1(r),r.producerIndexOfThis[i]=t}}function Sy(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function B1(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function nH(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function iH(e){return e.producerNode!==void 0}function V1(e,t){let n=Object.create(xfe);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(hA(n),Ey(n),n.value===P1)throw n.error;return n.value};return i[pa]=n,i}var sA=Symbol("UNSET"),aA=Symbol("COMPUTING"),P1=Symbol("ERRORED"),xfe=ke(z({},Pm),{value:sA,dirty:!0,error:null,equal:cA,kind:"computed",producerMustRecompute(e){return e.value===sA||e.value===aA},producerRecomputeValue(e){if(e.value===aA)throw new Error("Detected cycle in computations.");let t=e.value;e.value=aA;let n=Dy(e),i,r=!1;try{i=e.computation(),Ln(null),r=t!==sA&&t!==P1&&i!==P1&&e.equal(t,i)}catch(o){i=P1,e.error=o}finally{O1(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function bfe(){throw new Error}var rH=bfe;function oH(e){rH(e)}function gA(e){rH=e}var wfe=null;function mA(e,t){let n=Object.create(H1);n.value=e,t!==void 0&&(n.equal=t);let i=()=>(Ey(n),n.value);return i[pa]=n,i}function Ty(e,t){pA()||oH(e),e.equal(e.value,t)||(e.value=t,_fe(e))}function vA(e,t){pA()||oH(e),Ty(e,t(e.value))}var H1=ke(z({},Pm),{equal:cA,value:void 0,kind:"signal"});function _fe(e){e.version++,eH(),fA(e),wfe?.()}function CA(e){let t=Ln(null);try{return e()}finally{Ln(t)}}var yA;function Iy(){return yA}function uu(e){let t=yA;return yA=e,t}var G1=Symbol("NotFound");function Ut(e){return typeof e=="function"}function Om(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var z1=Om(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wp(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Gn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Ut(i))try{i()}catch(o){t=o instanceof z1?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{sH(o)}catch(s){t=t??[],s instanceof z1?t=[...t,...s.errors]:t.push(s)}}if(t)throw new z1(t)}}add(t){var n;if(t&&t!==this)if(this.closed)sH(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&wp(n,t)}remove(t){let{_finalizers:n}=this;n&&wp(n,t),t instanceof e&&t._removeParent(this)}};Gn.EMPTY=(()=>{let e=new Gn;return e.closed=!0,e})();var xA=Gn.EMPTY;function U1(e){return e instanceof Gn||e&&"closed"in e&&Ut(e.remove)&&Ut(e.add)&&Ut(e.unsubscribe)}function sH(e){Ut(e)?e():e.unsubscribe()}var cc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lm={setTimeout(e,t,...n){let{delegate:i}=Lm;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Lm;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function W1(e){Lm.setTimeout(()=>{let{onUnhandledError:t}=cc;if(t)t(e);else throw e})}function Fy(){}var aH=bA("C",void 0,void 0);function lH(e){return bA("E",void 0,e)}function cH(e){return bA("N",e,void 0)}function bA(e,t,n){return{kind:e,value:t,error:n}}var _p=null;function Nm(e){if(cc.useDeprecatedSynchronousErrorHandling){let t=!_p;if(t&&(_p={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=_p;if(_p=null,n)throw i}}else e()}function dH(e){cc.useDeprecatedSynchronousErrorHandling&&_p&&(_p.errorThrown=!0,_p.error=e)}var Sp=class extends Gn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,U1(t)&&t.add(this)):this.destination=Ife}static create(t,n,i){return new hu(t,n,i)}next(t){this.isStopped?_A(cH(t),this):this._next(t)}error(t){this.isStopped?_A(lH(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_A(aH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Rfe=Function.prototype.bind;function wA(e,t){return Rfe.call(e,t)}var SA=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){j1(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){j1(i)}else j1(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){j1(n)}}},hu=class extends Sp{constructor(t,n,i){super();let r;if(Ut(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&cc.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&wA(t.next,o),error:t.error&&wA(t.error,o),complete:t.complete&&wA(t.complete,o)}):r=t}this.destination=new SA(r)}};function j1(e){cc.useDeprecatedSynchronousErrorHandling?dH(e):W1(e)}function Tfe(e){throw e}function _A(e,t){let{onStoppedNotification:n}=cc;n&&Lm.setTimeout(()=>n(e,t))}var Ife={closed:!0,next:Fy,error:Tfe,complete:Fy};var Bm=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $s(e){return e}function EA(...e){return DA(e)}function DA(e){return e.length===0?$s:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var Gt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=kfe(n)?n:new hu(n,i,r);return Nm(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=uH(i),new i((r,o)=>{let s=new hu({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Bm](){return this}pipe(...n){return DA(n)(this)}toPromise(n){return n=uH(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function uH(e){var t;return(t=e??cc.Promise)!==null&&t!==void 0?t:Promise}function Ffe(e){return e&&Ut(e.next)&&Ut(e.error)&&Ut(e.complete)}function kfe(e){return e&&e instanceof Sp||Ffe(e)&&U1(e)}function RA(e){return Ut(e?.lift)}function sn(e){return t=>{if(RA(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function tn(e,t,n,i,r){return new TA(e,t,n,i,r)}var TA=class extends Sp{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Vm(){return sn((e,t)=>{let n=null;e._refCount++;let i=tn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Hm=class extends Gt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,RA(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Gn;let n=this.getSubject();t.add(this.source.subscribe(tn(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Gn.EMPTY)}return t}refCount(){return Vm()(this)}};var hH=Om(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class e extends Gt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new $1(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new hH}next(n){Nm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Nm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Nm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?xA:(this.currentObservers=null,o.push(n),new Gn(()=>{this.currentObservers=null,wp(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Gt;return n.source=this,n}}return e.create=(t,n)=>new $1(t,n),e})(),$1=class extends ut{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:xA}};var ii=class extends ut{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var ky={now(){return(ky.delegate||Date).now()},delegate:void 0};var Ay=class extends ut{constructor(t=1/0,n=1/0,i=ky){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var q1=class extends Gn{constructor(t,n){super()}schedule(t,n=0){return this}};var My={setInterval(e,t,...n){let{delegate:i}=My;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=My;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var K1=class extends q1{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return My.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&My.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wp(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Gm=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Gm.now=ky.now;var X1=class extends Gm{constructor(t,n=Gm.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var Py=new X1(K1),fH=Py;var Io=new Gt(e=>e.complete());function Y1(e){return e&&Ut(e.schedule)}function IA(e){return e[e.length-1]}function Z1(e){return Ut(IA(e))?e.pop():void 0}function Kc(e){return Y1(IA(e))?e.pop():void 0}function pH(e,t){return typeof IA(e)=="number"?e.pop():t}function mH(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function gH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ep(e){return this instanceof Ep?(this.v=e,this):new Ep(e)}function vH(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(p){return function(m){return Promise.resolve(m).then(p,u)}}function a(p,m){i[p]&&(r[p]=function(v){return new Promise(function(C,y){o.push([p,v,C,y])>1||l(p,v)})},m&&(r[p]=m(r[p])))}function l(p,m){try{c(i[p](m))}catch(v){f(o[0][3],v)}}function c(p){p.value instanceof Ep?Promise.resolve(p.value.v).then(d,u):f(o[0][2],p)}function d(p){l("next",p)}function u(p){l("throw",p)}function f(p,m){p(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function CH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gH=="function"?gH(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var zm=e=>e&&typeof e.length=="number"&&typeof e!="function";function Q1(e){return Ut(e?.then)}function J1(e){return Ut(e[Bm])}function eS(e){return Symbol.asyncIterator&&Ut(e?.[Symbol.asyncIterator])}function tS(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Afe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nS=Afe();function iS(e){return Ut(e?.[nS])}function rS(e){return vH(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Ep(n.read());if(r)return yield Ep(void 0);yield yield Ep(i)}}finally{n.releaseLock()}})}function oS(e){return Ut(e?.getReader)}function Ii(e){if(e instanceof Gt)return e;if(e!=null){if(J1(e))return Mfe(e);if(zm(e))return Pfe(e);if(Q1(e))return Ofe(e);if(eS(e))return yH(e);if(iS(e))return Lfe(e);if(oS(e))return Nfe(e)}throw tS(e)}function Mfe(e){return new Gt(t=>{let n=e[Bm]();if(Ut(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Pfe(e){return new Gt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ofe(e){return new Gt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,W1)})}function Lfe(e){return new Gt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function yH(e){return new Gt(t=>{Bfe(e,t).catch(n=>t.error(n))})}function Nfe(e){return yH(rS(e))}function Bfe(e,t){var n,i,r,o;return mH(this,void 0,void 0,function*(){try{for(n=CH(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function ga(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function sS(e,t=0){return sn((n,i)=>{n.subscribe(tn(i,r=>ga(i,e,()=>i.next(r),t),()=>ga(i,e,()=>i.complete(),t),r=>ga(i,e,()=>i.error(r),t)))})}function aS(e,t=0){return sn((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function xH(e,t){return Ii(e).pipe(aS(t),sS(t))}function bH(e,t){return Ii(e).pipe(aS(t),sS(t))}function wH(e,t){return new Gt(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function _H(e,t){return new Gt(n=>{let i;return ga(n,t,()=>{i=e[nS](),ga(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>Ut(i?.return)&&i.return()})}function lS(e,t){if(!e)throw new Error("Iterable cannot be null");return new Gt(n=>{ga(n,t,()=>{let i=e[Symbol.asyncIterator]();ga(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function SH(e,t){return lS(rS(e),t)}function EH(e,t){if(e!=null){if(J1(e))return xH(e,t);if(zm(e))return wH(e,t);if(Q1(e))return bH(e,t);if(eS(e))return lS(e,t);if(iS(e))return _H(e,t);if(oS(e))return SH(e,t)}throw tS(e)}function Ki(e,t){return t?EH(e,t):Ii(e)}function Et(...e){let t=Kc(e);return Ki(e,t)}function Mh(e,t){let n=Ut(e)?e:()=>e,i=r=>r.error(n());return new Gt(t?r=>t.schedule(i,0,r):i)}function cS(e){return!!e&&(e instanceof Gt||Ut(e.lift)&&Ut(e.subscribe))}var fu=Om(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function DH(e){return e instanceof Date&&!isNaN(e)}function Pt(e,t){return sn((n,i)=>{let r=0;n.subscribe(tn(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:Vfe}=Array;function Hfe(e,t){return Vfe(t)?e(...t):e(t)}function Um(e){return Pt(t=>Hfe(e,t))}var{isArray:Gfe}=Array,{getPrototypeOf:zfe,prototype:Ufe,keys:Wfe}=Object;function dS(e){if(e.length===1){let t=e[0];if(Gfe(t))return{args:t,keys:null};if(jfe(t)){let n=Wfe(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function jfe(e){return e&&typeof e=="object"&&zfe(e)===Ufe}function uS(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Wm(...e){let t=Kc(e),n=Z1(e),{args:i,keys:r}=dS(e);if(i.length===0)return Ki([],t);let o=new Gt($fe(i,t,r?s=>uS(r,s):$s));return n?o.pipe(Um(n)):o}function $fe(e,t,n=$s){return i=>{RH(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)RH(t,()=>{let c=Ki(e[l],t),d=!1;c.subscribe(tn(i,u=>{o[l]=u,d||(d=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function RH(e,t,n){e?ga(n,e,t):t()}function TH(e,t,n,i,r,o,s,a){let l=[],c=0,d=0,u=!1,f=()=>{u&&!l.length&&!c&&t.complete()},p=v=>c<i?m(v):l.push(v),m=v=>{o&&t.next(v),c++;let C=!1;Ii(n(v,d++)).subscribe(tn(t,y=>{r?.(y),o?p(y):t.next(y)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){let y=l.shift();s?ga(t,s,()=>m(y)):m(y)}f()}catch(y){t.error(y)}}))};return e.subscribe(tn(t,p,()=>{u=!0,f()})),()=>{a?.()}}function jr(e,t,n=1/0){return Ut(t)?jr((i,r)=>Pt((o,s)=>t(i,o,r,s))(Ii(e(i,r))),n):(typeof t=="number"&&(n=t),sn((i,r)=>TH(i,r,e,n)))}function hS(e=1/0){return jr($s,e)}function IH(){return hS(1)}function Ph(...e){return IH()(Ki(e,Kc(e)))}function jm(e){return new Gt(t=>{Ii(e()).subscribe(t)})}function Oy(...e){let t=Z1(e),{args:n,keys:i}=dS(e),r=new Gt(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let u=!1;Ii(n[d]).subscribe(tn(o,f=>{u||(u=!0,c--),a[d]=f},()=>l--,void 0,()=>{(!l||!u)&&(c||o.next(i?uS(i,a):a),o.complete())}))}});return t?r.pipe(Um(t)):r}var qfe=["addListener","removeListener"],Kfe=["addEventListener","removeEventListener"],Xfe=["on","off"];function Dp(e,t,n,i){if(Ut(n)&&(i=n,n=void 0),i)return Dp(e,t,n).pipe(Um(i));let[r,o]=Qfe(e)?Kfe.map(s=>a=>e[s](t,a,n)):Yfe(e)?qfe.map(FH(e,t)):Zfe(e)?Xfe.map(FH(e,t)):[];if(!r&&zm(e))return jr(s=>Dp(s,t,n))(Ii(e));if(!r)throw new TypeError("Invalid event target");return new Gt(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function FH(e,t){return n=>i=>e[n](t,i)}function Yfe(e){return Ut(e.addListener)&&Ut(e.removeListener)}function Zfe(e){return Ut(e.on)&&Ut(e.off)}function Qfe(e){return Ut(e.addEventListener)&&Ut(e.removeEventListener)}function kH(e=0,t,n=fH){let i=-1;return t!=null&&(Y1(t)?n=t:i=t),new Gt(r=>{let o=DH(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function dc(...e){let t=Kc(e),n=pH(e,1/0),i=e;return i.length?i.length===1?Ii(i[0]):hS(n)(Ki(i,t)):Io}function pn(e,t){return sn((n,i)=>{let r=0;n.subscribe(tn(i,o=>e.call(t,o,r++)&&i.next(o)))})}function AH(e){return sn((t,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,n.next(c)}s&&n.complete()},l=()=>{o=null,s&&n.complete()};t.subscribe(tn(n,c=>{i=!0,r=c,o||Ii(e(c)).subscribe(o=tn(n,a,l))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function fS(e,t=Py){return AH(()=>kH(e,t))}function Xc(e){return sn((t,n)=>{let i=null,r=!1,o;i=t.subscribe(tn(n,void 0,void 0,s=>{o=Ii(e(s,Xc(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function MH(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(tn(s,d=>{let u=c++;l=a?e(l,d,u):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Oh(e,t){return Ut(t)?jr(e,t,1):jr(e,1)}function Yc(e,t=Py){return sn((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+e,d=t.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}n.subscribe(tn(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Lh(e){return sn((t,n)=>{let i=!1;t.subscribe(tn(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Tr(e){return e<=0?()=>Io:sn((t,n)=>{let i=0;t.subscribe(tn(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Rp(e,t=$s){return e=e??Jfe,sn((n,i)=>{let r,o=!0;n.subscribe(tn(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function Jfe(e,t){return e===t}function pS(e=epe){return sn((t,n)=>{let i=!1;t.subscribe(tn(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function epe(){return new fu}function uc(e){return sn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function bl(e,t){let n=arguments.length>=2;return i=>i.pipe(e?pn((r,o)=>e(r,o,i)):$s,Tr(1),n?Lh(t):pS(()=>new fu))}function $m(e){return e<=0?()=>Io:sn((t,n)=>{let i=[];t.subscribe(tn(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function FA(e,t){let n=arguments.length>=2;return i=>i.pipe(e?pn((r,o)=>e(r,o,i)):$s,$m(1),n?Lh(t):pS(()=>new fu))}function gS(){return sn((e,t)=>{let n,i=!1;e.subscribe(tn(t,r=>{let o=n;n=r,i&&t.next([o,r]),i=!0}))})}function kA(e,t){return sn(MH(e,t,arguments.length>=2,!0))}function Nh(e={}){let{connector:t=()=>new ut,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,d=!1,u=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),s=l=void 0,d=u=!1},m=()=>{let v=s;p(),v?.unsubscribe()};return sn((v,C)=>{c++,!u&&!d&&f();let y=l=l??t();C.add(()=>{c--,c===0&&!u&&!d&&(a=AA(m,r))}),y.subscribe(C),!s&&c>0&&(s=new hu({next:b=>y.next(b),error:b=>{u=!0,f(),a=AA(p,n,b),y.error(b)},complete:()=>{d=!0,f(),a=AA(p,i),y.complete()}}),Ii(v).subscribe(s))})(o)}}function AA(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new hu({next:()=>{i.unsubscribe(),e()}});return Ii(t(...n)).subscribe(i)}function pu(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Nh({connector:()=>new Ay(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ly(e){return pn((t,n)=>e<=n)}function qo(...e){let t=Kc(e);return sn((n,i)=>{(t?Ph(e,n,t):Ph(e,n)).subscribe(i)})}function Ko(e,t){return sn((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(tn(i,l=>{r?.unsubscribe();let c=0,d=o++;Ii(e(l,d)).subscribe(r=tn(i,u=>i.next(t?t(l,u,d,c++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Hi(e){return sn((t,n)=>{Ii(e).subscribe(tn(n,()=>n.complete(),Fy)),!n.closed&&t.subscribe(n)})}function mS(e,t=!1){return sn((n,i)=>{let r=0;n.subscribe(tn(i,o=>{let s=e(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}function gr(e,t,n){let i=Ut(e)||t||n?{next:e,error:t,complete:n}:e;return i?sn((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(tn(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):$s}var EG="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ft=class extends Error{code;constructor(t,n){super(DG(t,n)),this.code=t}};function tpe(e){return`NG0${Math.abs(e)}`}function DG(e,t){return`${tpe(e)}${t?": "+t:""}`}var RG=Symbol("InputSignalNode#UNSET"),npe=ke(z({},H1),{transformFn:void 0,applyValueToInputSignal(e,t){Ty(e,t)}});function TG(e,t){let n=Object.create(npe);n.value=e,n.transformFn=t?.transform;function i(){if(Ey(n),n.value===RG){let r=null;throw new ft(-950,r)}return n.value}return i[pa]=n,i}function Xy(e){return{toString:e}.toString()}var vS="__parameters__";function ipe(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function IG(e,t,n){return Xy(()=>{let i=ipe(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let u=l.hasOwnProperty(vS)?l[vS]:Object.defineProperty(l,vS,{value:[]})[vS];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Jm=globalThis;function Gi(e){for(let t in e)if(e[t]===Gi)return t;throw Error("Could not find renamed property on target object.")}function rpe(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function va(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(va).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function $A(e,t){return e?t?`${e} ${t}`:e:t||""}var ope=Gi({__forward_ref__:Gi});function id(e){return e.__forward_ref__=id,e.toString=function(){return va(this())},e}function Xo(e){return FG(e)?e():e}function FG(e){return typeof e=="function"&&e.hasOwnProperty(ope)&&e.__forward_ref__===id}function Se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rt(e){return{providers:e.providers||[],imports:e.imports||[]}}function eE(e){return PH(e,AG)||PH(e,MG)}function kG(e){return eE(e)!==null}function PH(e,t){return e.hasOwnProperty(t)?e[t]:null}function spe(e){let t=e&&(e[AG]||e[MG]);return t||null}function OH(e){return e&&(e.hasOwnProperty(LH)||e.hasOwnProperty(ape))?e[LH]:null}var AG=Gi({\u0275prov:Gi}),LH=Gi({\u0275inj:Gi}),MG=Gi({ngInjectableDef:Gi}),ape=Gi({ngInjectorDef:Gi}),Re=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function PG(e){return e&&!!e.\u0275providers}var lpe=Gi({\u0275cmp:Gi}),cpe=Gi({\u0275dir:Gi}),dpe=Gi({\u0275pipe:Gi}),upe=Gi({\u0275mod:Gi}),TS=Gi({\u0275fac:Gi}),Hy=Gi({__NG_ELEMENT_ID__:Gi}),NH=Gi({__NG_ENV_ID__:Gi});function Yy(e){return typeof e=="string"?e:e==null?"":String(e)}function hpe(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Yy(e)}function OG(e,t){throw new ft(-200,e)}function XM(e,t){throw new ft(-201,!1)}var Mn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Mn||{}),qA;function LG(){return qA}function ma(e){let t=qA;return qA=e,t}function NG(e,t,n){let i=eE(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Mn.Optional)return null;if(t!==void 0)return t;XM(e,"Injector")}var fpe={},Tp=fpe,KA="__NG_DI_FLAG__",IS=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=n;return this.injector.get(t,i.optional?G1:Tp,i)}},FS="ngTempTokenPath",ppe="ngTokenPath",gpe=/\n/gm,mpe="\u0275",BH="__source";function vpe(e,t=Mn.Default){if(Iy()===void 0)throw new ft(-203,!1);if(Iy()===null)return NG(e,void 0,t);{let n=Iy(),i;return n instanceof IS?i=n.injector:i=n,i.get(e,t&Mn.Optional?null:void 0,t)}}function lt(e,t=Mn.Default){return(LG()||vpe)(Xo(e),t)}function O(e,t=Mn.Default){return lt(e,tE(t))}function tE(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function XA(e){let t=[];for(let n=0;n<e.length;n++){let i=Xo(e[n]);if(Array.isArray(i)){if(i.length===0)throw new ft(900,!1);let r,o=Mn.Default;for(let s=0;s<i.length;s++){let a=i[s],l=Cpe(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(lt(r,o))}else t.push(lt(i))}return t}function BG(e,t){return e[KA]=t,e.prototype[KA]=t,e}function Cpe(e){return e[KA]}function ype(e,t,n,i){let r=e[FS];throw t[BH]&&r.unshift(t[BH]),e.message=xpe(`
`+e.message,r,n,i),e[ppe]=r,e[FS]=null,e}function xpe(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==mpe?e.slice(2):e;let r=va(t);if(Array.isArray(t))r=t.map(va).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):va(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(gpe,`
  `)}`}var nE=BG(IG("Optional"),8);var VG=BG(IG("SkipSelf"),4);function Fp(e,t){let n=e.hasOwnProperty(TS);return n?e[TS]:null}function bpe(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function wpe(e){return e.flat(Number.POSITIVE_INFINITY)}function YM(e,t){e.forEach(n=>Array.isArray(n)?YM(n,t):t(n))}function HG(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function kS(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _pe(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function Spe(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Zy(e,t,n){let i=Qy(e,t);return i>=0?e[i|1]=n:(i=~i,Spe(e,i,t,n)),i}function MA(e,t){let n=Qy(e,t);if(n>=0)return e[n|1]}function Qy(e,t){return Epe(e,t,1)}function Epe(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Qc={},qs=[],e0=new Re(""),GG=new Re("",-1),zG=new Re(""),AS=class{get(t,n=Tp){if(n===Tp){let i=new Error(`NullInjectorError: No provider for ${va(t)}!`);throw i.name="NullInjectorError",i}return n}};function UG(e,t){let n=e[upe]||null;if(!n&&t===!0)throw new Error(`Type ${va(e)} does not have '\u0275mod' property.`);return n}function kp(e){return e[lpe]||null}function WG(e){return e[cpe]||null}function Dpe(e){return e[dpe]||null}function d0(e){return{\u0275providers:e}}function Rpe(...e){return{\u0275providers:jG(!0,e),\u0275fromNgModule:!0}}function jG(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return YM(t,s=>{let a=s;YA(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&$G(r,o),n}function $G(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];ZM(r,o=>{t(o,i)})}}function YA(e,t,n,i){if(e=Xo(e),!e)return!1;let r=null,o=OH(e),s=!o&&kp(e);if(!o&&!s){let l=e.ngModule;if(o=OH(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)YA(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{YM(o.imports,d=>{YA(d,t,n,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&$G(c,t)}if(!a){let c=Fp(r)||(()=>new r);t({provide:r,useFactory:c,deps:qs},r),t({provide:zG,useValue:r,multi:!0},r),t({provide:e0,useValue:()=>lt(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;ZM(l,d=>{t(d,c)})}}else return!1;return r!==e&&e.providers!==void 0}function ZM(e,t){for(let n of e)PG(n)&&(n=n.\u0275providers),Array.isArray(n)?ZM(n,t):t(n)}var Tpe=Gi({provide:String,useValue:Gi});function qG(e){return e!==null&&typeof e=="object"&&Tpe in e}function Ipe(e){return!!(e&&e.useExisting)}function Fpe(e){return!!(e&&e.useFactory)}function t0(e){return typeof e=="function"}function kpe(e){return!!e.useClass}var iE=new Re(""),wS={},VH={},PA;function rE(){return PA===void 0&&(PA=new AS),PA}var io=class{},Gy=class extends io{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,QA(t,s=>this.processProvider(s)),this.records.set(GG,qm(void 0,this)),r.has("environment")&&this.records.set(io,qm(void 0,this));let o=this.records.get(iE);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zG,qs,Mn.Self))}retrieve(t,n){let i=n;return this.get(t,i.optional?G1:Tp,i)}destroy(){By(this),this._destroyed=!0;let t=Ln(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ln(t)}}onDestroy(t){return By(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){By(this);let n=uu(this),i=ma(void 0),r;try{return t()}finally{uu(n),ma(i)}}get(t,n=Tp,i=Mn.Default){if(By(this),t.hasOwnProperty(NH))return t[NH](this);i=tE(i);let r,o=uu(this),s=ma(void 0);try{if(!(i&Mn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=Lpe(t)&&eE(t);c&&this.injectableDefInScope(c)?l=qm(ZA(t),wS):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Mn.Self?rE():this.parent;return n=i&Mn.Optional&&n===Tp?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[FS]=a[FS]||[]).unshift(va(t)),o)throw a;return ype(a,t,"R3InjectorError",this.source)}else throw a}finally{ma(s),uu(o)}}resolveInjectorInitializers(){let t=Ln(null),n=uu(this),i=ma(void 0),r;try{let o=this.get(e0,qs,Mn.Self);for(let s of o)s()}finally{uu(n),ma(i),Ln(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(va(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Xo(t);let n=t0(t)?t:Xo(t&&t.provide),i=Mpe(t);if(!t0(t)&&t.multi===!0){let r=this.records.get(n);r||(r=qm(void 0,wS,!0),r.factory=()=>XA(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Ln(null);try{return n.value===VH?OG(va(t)):n.value===wS&&(n.value=VH,n.value=n.factory()),typeof n.value=="object"&&n.value&&Ope(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ln(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Xo(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ZA(e){let t=eE(e),n=t!==null?t.factory:Fp(e);if(n!==null)return n;if(e instanceof Re)throw new ft(204,!1);if(e instanceof Function)return Ape(e);throw new ft(204,!1)}function Ape(e){if(e.length>0)throw new ft(204,!1);let n=spe(e);return n!==null?()=>n.factory(e):()=>new e}function Mpe(e){if(qG(e))return qm(void 0,e.useValue);{let t=KG(e);return qm(t,wS)}}function KG(e,t,n){let i;if(t0(e)){let r=Xo(e);return Fp(r)||ZA(r)}else if(qG(e))i=()=>Xo(e.useValue);else if(Fpe(e))i=()=>e.useFactory(...XA(e.deps||[]));else if(Ipe(e))i=()=>lt(Xo(e.useExisting));else{let r=Xo(e&&(e.useClass||e.provide));if(Ppe(e))i=()=>new r(...XA(e.deps));else return Fp(r)||ZA(r)}return i}function By(e){if(e.destroyed)throw new ft(205,!1)}function qm(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ppe(e){return!!e.deps}function Ope(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Lpe(e){return typeof e=="function"||typeof e=="object"&&e instanceof Re}function QA(e,t){for(let n of e)Array.isArray(n)?QA(n,t):n&&PG(n)?QA(n.\u0275providers,t):t(n)}function Ka(e,t){let n;e instanceof Gy?(By(e),n=e):n=new IS(e);let i,r=uu(n),o=ma(void 0);try{return t()}finally{uu(r),ma(o)}}function XG(){return LG()!==void 0||Iy()!=null}function Jy(e){if(!XG())throw new ft(-203,!1)}function Npe(e){return typeof e=="function"}var xu=0,wn=1,an=2,gs=3,fc=4,xa=5,zy=6,MS=7,Ks=8,n0=9,gu=10,mr=11,Uy=12,HH=13,u0=14,_l=15,Ap=16,Km=17,mu=18,oE=19,YG=20,Bh=21,OA=22,Mp=23,wl=24,Zm=25,Fo=26,ZG=1;var Pp=7,PS=8,i0=9,Ca=10;function Vh(e){return Array.isArray(e)&&typeof e[ZG]=="object"}function bu(e){return Array.isArray(e)&&e[ZG]===!0}function QM(e){return(e.flags&4)!==0}function h0(e){return e.componentOffset>-1}function sE(e){return(e.flags&1)===1}function Jc(e){return!!e.template}function OS(e){return(e[an]&512)!==0}function ex(e){return(e[an]&256)===256}var JA=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function QG(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var Yo=(()=>{let e=()=>JG;return e.ngInherit=!0,e})();function JG(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vpe),Bpe}function Bpe(){let e=tz(this),t=e?.current;if(t){let n=e.previous;if(n===Qc)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Vpe(e,t,n,i,r){let o=this.declaredInputs[i],s=tz(e)||Hpe(e,{previous:Qc,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new JA(c&&c.currentValue,n,l===Qc),QG(e,t,r,n)}var ez="__ngSimpleChanges__";function tz(e){return e[ez]||null}function Hpe(e,t){return e[ez]=t}var GH=null;var Li=function(e,t=null,n){GH?.(e,t,n)},nz="svg",Gpe="math";function ed(e){for(;Array.isArray(e);)e=e[xu];return e}function iz(e,t){return ed(t[e])}function rd(e,t){return ed(t[e.index])}function JM(e,t){return e.data[t]}function rz(e,t){return e[t]}function td(e,t){let n=t[e];return Vh(n)?n:n[xu]}function zpe(e){return(e[an]&4)===4}function eP(e){return(e[an]&128)===128}function Upe(e){return bu(e[gs])}function r0(e,t){return t==null?null:e[t]}function oz(e){e[Km]=0}function sz(e){e[an]&1024||(e[an]|=1024,eP(e)&&f0(e))}function Wpe(e,t){for(;e>0;)t=t[u0],e--;return t}function aE(e){return!!(e[an]&9216||e[wl]?.dirty)}function eM(e){e[gu].changeDetectionScheduler?.notify(8),e[an]&64&&(e[an]|=1024),aE(e)&&f0(e)}function f0(e){e[gu].changeDetectionScheduler?.notify(0);let t=Op(e);for(;t!==null&&!(t[an]&8192||(t[an]|=8192,!eP(t)));)t=Op(t)}function az(e,t){if(ex(e))throw new ft(911,!1);e[Bh]===null&&(e[Bh]=[]),e[Bh].push(t)}function jpe(e,t){if(e[Bh]===null)return;let n=e[Bh].indexOf(t);n!==-1&&e[Bh].splice(n,1)}function Op(e){let t=e[gs];return bu(t)?t[gs]:t}function tP(e){return e[MS]??=[]}function nP(e){return e.cleanup??=[]}function $pe(e,t,n,i){let r=tP(t);r.push(n),e.firstCreatePass&&nP(e).push(i,r.length-1)}var _n={lFrame:gz(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tM=!1;function qpe(){return _n.lFrame.elementDepthCount}function Kpe(){_n.lFrame.elementDepthCount++}function Xpe(){_n.lFrame.elementDepthCount--}function iP(){return _n.bindingsEnabled}function lz(){return _n.skipHydrationRootTNode!==null}function Ype(e){return _n.skipHydrationRootTNode===e}function Zpe(){_n.skipHydrationRootTNode=null}function Sn(){return _n.lFrame.lView}function vr(){return _n.lFrame.tView}function ui(e){return _n.lFrame.contextLView=e,e[Ks]}function hi(e){return _n.lFrame.contextLView=null,e}function ms(){let e=cz();for(;e!==null&&e.type===64;)e=e.parent;return e}function cz(){return _n.lFrame.currentTNode}function Qpe(){let e=_n.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Gh(e,t){let n=_n.lFrame;n.currentTNode=e,n.isParent=t}function rP(){return _n.lFrame.isParent}function oP(){_n.lFrame.isParent=!1}function Jpe(){return _n.lFrame.contextLView}function dz(){return tM}function LS(e){let t=tM;return tM=e,t}function uz(){let e=_n.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ege(e){return _n.lFrame.bindingIndex=e}function p0(){return _n.lFrame.bindingIndex++}function hz(e){let t=_n.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function tge(){return _n.lFrame.inI18n}function nge(e,t){let n=_n.lFrame;n.bindingIndex=n.bindingRootIndex=e,nM(t)}function ige(){return _n.lFrame.currentDirectiveIndex}function nM(e){_n.lFrame.currentDirectiveIndex=e}function rge(e){let t=_n.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function sP(){return _n.lFrame.currentQueryIndex}function lE(e){_n.lFrame.currentQueryIndex=e}function oge(e){let t=e[wn];return t.type===2?t.declTNode:t.type===1?e[xa]:null}function fz(e,t,n){if(n&Mn.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&Mn.Host);)if(r=oge(o),r===null||(o=o[u0],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=_n.lFrame=pz();return i.currentTNode=t,i.lView=e,!0}function aP(e){let t=pz(),n=e[wn];_n.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function pz(){let e=_n.lFrame,t=e===null?null:e.child;return t===null?gz(e):t}function gz(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function mz(){let e=_n.lFrame;return _n.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var vz=mz;function lP(){let e=mz();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function sge(e){return(_n.lFrame.contextLView=Wpe(e,_n.lFrame.contextLView))[Ks]}function Hp(){return _n.lFrame.selectedIndex}function Lp(e){_n.lFrame.selectedIndex=e}function cE(){let e=_n.lFrame;return JM(e.tView,e.selectedIndex)}function Gp(){_n.lFrame.currentNamespace=nz}function tx(){age()}function age(){_n.lFrame.currentNamespace=null}function lge(){return _n.lFrame.currentNamespace}var Cz=!0;function dE(){return Cz}function uE(e){Cz=e}function cge(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=JG(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function cP(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function _S(e,t,n){yz(e,t,3,n)}function SS(e,t,n,i){(e[an]&3)===n&&yz(e,t,n,i)}function LA(e,t){let n=e[an];(n&3)===t&&(n&=16383,n+=1,e[an]=n)}function yz(e,t,n,i){let r=i!==void 0?e[Km]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Km]+=65536),(a<o||o==-1)&&(dge(e,n,t,l),e[Km]=(e[Km]&4294901760)+l+2),l++}function zH(e,t){Li(4,e,t);let n=Ln(null);try{t.call(e)}finally{Ln(n),Li(5,e,t)}}function dge(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[an]>>14<e[Km]>>16&&(e[an]&3)===t&&(e[an]+=16384,zH(a,o)):zH(a,o)}var Qm=-1,Np=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i}};function uge(e){return(e.flags&8)!==0}function hge(e){return(e.flags&16)!==0}function fge(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];pge(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function xz(e){return e===3||e===4||e===6}function pge(e){return e.charCodeAt(0)===64}function o0(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?UH(e,n,r,null,t[++i]):UH(e,n,r,null,null))}}return e}function UH(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function bz(e){return e!==Qm}function NS(e){return e&32767}function gge(e){return e>>16}function BS(e,t){let n=gge(e),i=t;for(;n>0;)i=i[u0],n--;return i}var iM=!0;function VS(e){let t=iM;return iM=e,t}var mge=256,wz=mge-1,_z=5,vge=0,Zc={};function Cge(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Hy)&&(i=n[Hy]),i==null&&(i=n[Hy]=vge++);let r=i&wz,o=1<<r;t.data[e+(r>>_z)]|=o}function HS(e,t){let n=Sz(e,t);if(n!==-1)return n;let i=t[wn];i.firstCreatePass&&(e.injectorIndex=t.length,NA(i.data,e),NA(t,null),NA(i.blueprint,null));let r=dP(e,t),o=e.injectorIndex;if(bz(r)){let s=NS(r),a=BS(r,t),l=a[wn].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function NA(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Sz(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function dP(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Iz(r),i===null)return Qm;if(n++,r=r[u0],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Qm}function rM(e,t,n){Cge(e,t,n)}function yge(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(xz(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function Ez(e,t,n){if(n&Mn.Optional||e!==void 0)return e;XM(t,"NodeInjector")}function Dz(e,t,n,i){if(n&Mn.Optional&&i===void 0&&(i=null),(n&(Mn.Self|Mn.Host))===0){let r=e[n0],o=ma(void 0);try{return r?r.get(t,i,n&Mn.Optional):NG(t,i,n&Mn.Optional)}finally{ma(o)}}return Ez(i,t,n)}function Rz(e,t,n,i=Mn.Default,r){if(e!==null){if(t[an]&2048&&!(i&Mn.Self)){let s=_ge(e,t,n,i,Zc);if(s!==Zc)return s}let o=Tz(e,t,n,i,Zc);if(o!==Zc)return o}return Dz(t,n,i,r)}function Tz(e,t,n,i,r){let o=bge(n);if(typeof o=="function"){if(!fz(t,e,i))return i&Mn.Host?Ez(r,n,i):Dz(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Mn.Optional))XM(n);else return s}finally{vz()}}else if(typeof o=="number"){let s=null,a=Sz(e,t),l=Qm,c=i&Mn.Host?t[_l][xa]:null;for((a===-1||i&Mn.SkipSelf)&&(l=a===-1?dP(e,t):t[a+8],l===Qm||!jH(i,!1)?a=-1:(s=t[wn],a=NS(l),t=BS(l,t)));a!==-1;){let d=t[wn];if(WH(o,a,d.data)){let u=xge(a,t,n,s,i,c);if(u!==Zc)return u}l=t[a+8],l!==Qm&&jH(i,t[wn].data[a+8]===c)&&WH(o,a,t)?(s=d,a=NS(l),t=BS(l,t)):a=-1}}return r}function xge(e,t,n,i,r,o){let s=t[wn],a=s.data[e+8],l=i==null?h0(a)&&iM:i!=s&&(a.type&3)!==0,c=r&Mn.Host&&o===a,d=ES(a,s,n,l,c);return d!==null?Wy(t,s,d,a):Zc}function ES(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,d=o>>20,u=i?a:a+d,f=r?a+d:c;for(let p=u;p<f;p++){let m=s[p];if(p<l&&n===m||p>=l&&m.type===n)return p}if(r){let p=s[l];if(p&&Jc(p)&&p.type===n)return l}return null}function Wy(e,t,n,i){let r=e[n],o=t.data;if(r instanceof Np){let s=r;s.resolving&&OG(hpe(o[n]));let a=VS(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?ma(s.injectImpl):null,d=fz(e,i,Mn.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&cge(n,o[n],t)}finally{c!==null&&ma(c),VS(a),s.resolving=!1,vz()}}return r}function bge(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Hy)?e[Hy]:void 0;return typeof t=="number"?t>=0?t&wz:wge:t}function WH(e,t,n){let i=1<<e;return!!(n[t+(e>>_z)]&i)}function jH(e,t){return!(e&Mn.Self)&&!(e&Mn.Host&&t)}var Ip=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Rz(this._tNode,this._lView,t,tE(i),n)}};function wge(){return new Ip(ms(),Sn())}function Ys(e){return Xy(()=>{let t=e.prototype.constructor,n=t[TS]||oM(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[TS]||oM(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function oM(e){return FG(e)?()=>{let t=oM(Xo(e));return t&&t()}:Fp(e)}function _ge(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[an]&2048&&!OS(s);){let a=Tz(o,s,n,i|Mn.Self,Zc);if(a!==Zc)return a;let l=o.parent;if(!l){let c=s[YG];if(c){let d=c.get(n,Zc,i);if(d!==Zc)return d}l=Iz(s),s=s[u0]}o=l}return r}function Iz(e){let t=e[wn],n=t.type;return n===2?t.declTNode:n===1?e[xa]:null}function Fz(e){return yge(ms(),e)}function $H(e,t=null,n=null,i){let r=kz(e,t,n,i);return r.resolveInjectorInitializers(),r}function kz(e,t=null,n=null,i,r=new Set){let o=[n||qs,Rpe(e)];return i=i||(typeof e=="object"?void 0:va(e)),new Gy(o,t||rE(),i||null,r)}var Pn=class e{static THROW_IF_NOT_FOUND=Tp;static NULL=new AS;static create(t,n){if(Array.isArray(t))return $H({name:""},n,t,"");{let i=t.name??"";return $H({name:i},t.parent,t.providers,i)}}static \u0275prov=Se({token:e,providedIn:"any",factory:()=>lt(GG)});static __NG_ELEMENT_ID__=-1};var s0=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Fz(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Sge=new Re("");Sge.__NG_ELEMENT_ID__=e=>{let t=ms();if(t===null)throw new ft(204,!1);if(t.type&2)return t.value;if(e&Mn.Optional)return null;throw new ft(204,!1)};var Az=!1,Xi=(()=>{class e{static __NG_ELEMENT_ID__=Ege;static __NG_ENV_ID__=n=>n}return e})(),GS=class extends Xi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return az(this._lView,t),()=>jpe(this._lView,t)}};function Ege(){return new GS(Sn())}var Bp=class{},hE=new Re("",{providedIn:"root",factory:()=>!1});var Mz=new Re(""),Pz=new Re(""),zh=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ii(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Se({token:e,providedIn:"root",factory:()=>new e})}return e})();var sM=class extends ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,XG()&&(this.destroyRef=O(Xi,{optional:!0})??void 0,this.pendingTasks=O(zh,{optional:!0})??void 0)}emit(t){let n=Ln(null);try{super.next(t)}finally{Ln(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof Gn&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},_e=sM;function jy(...e){}function Oz(e){let t,n;function i(){e=jy;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function qH(e){return queueMicrotask(()=>e()),()=>{e=jy}}var uP="isAngularZone",zS=uP+"_ID",Dge=0,pt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Az}=t;if(typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ige(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(uP)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ft(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Rge,jy,jy);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Rge={};function hP(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tge(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Oz(()=>{e.callbackScheduled=!1,aM(e),e.isCheckStableRunning=!0,hP(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),aM(e)}function Ige(e){let t=()=>{Tge(e)},n=Dge++;e._inner=e._inner.fork({name:"angular",properties:{[uP]:!0,[zS]:n,[zS+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(Fge(l))return i.invokeTask(o,s,a,l);try{return KH(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),XH(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return KH(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!kge(l)&&t(),XH(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,aM(e),hP(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function aM(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function KH(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function XH(e){e._nesting--,hP(e)}var lM=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function Fge(e){return Lz(e,"__ignore_ng_zone__")}function kge(e){return Lz(e,"__scheduler_tick__")}function Lz(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Xs=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Age=new Re("",{providedIn:"root",factory:()=>{let e=O(pt),t=O(Xs);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function YH(e,t){return TG(e,t)}function Mge(e){return TG(RG,e)}var Nz=(YH.required=Mge,YH);function Pge(){return g0(ms(),Sn())}function g0(e,t){return new Tt(rd(e,t))}var Tt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Pge}return e})();function Bz(e){return e instanceof Tt?e.nativeElement:e}function m0(e){return typeof e=="function"&&e[pa]!==void 0}function od(e,t){let n=mA(e,t?.equal),i=n[pa];return n.set=r=>Ty(i,r),n.update=r=>vA(i,r),n.asReadonly=Oge.bind(n),n}function Oge(){let e=this[pa];if(e.readonlyFn===void 0){let t=()=>this();t[pa]=e,e.readonlyFn=t}return e.readonlyFn}function Vz(e){return m0(e)&&typeof e.set=="function"}function Lge(){return this._results[Symbol.iterator]()}var Hh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ut}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=wpe(t);(this._changesDetected=!bpe(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Lge};function Hz(e){return(e.flags&128)===128}var Gz=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Gz||{}),zz=new Map,Nge=0;function Bge(){return Nge++}function Vge(e){zz.set(e[oE],e)}function cM(e){zz.delete(e[oE])}var ZH="__ngContext__";function v0(e,t){Vh(t)?(e[ZH]=t[oE],Vge(t)):e[ZH]=t}function Uz(e){return jz(e[Uy])}function Wz(e){return jz(e[fc])}function jz(e){for(;e!==null&&!bu(e);)e=e[fc];return e}var dM;function $z(e){dM=e}function qz(){if(dM!==void 0)return dM;if(typeof document<"u")return document;throw new ft(210,!1)}var zp=new Re("",{providedIn:"root",factory:()=>Hge}),Hge="ng",fP=new Re(""),wu=new Re("",{providedIn:"platform",factory:()=>"unknown"});var Ir=new Re(""),nx=new Re("",{providedIn:"root",factory:()=>qz().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Gge="h",zge="b";var Kz=!1,Uge=new Re("",{providedIn:"root",factory:()=>Kz});var pP=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(pP||{}),C0=new Re(""),QH=new Set;function ix(e){QH.has(e)||(QH.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var gP=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=Wge}return e})();function Wge(){return new gP(Sn(),ms())}var Xm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Xm||{}),Xz=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Se({token:e,providedIn:"root",factory:()=>new e})}return e})(),jge=[Xm.EarlyRead,Xm.Write,Xm.MixedReadWrite,Xm.Read],$ge=(()=>{class e{ngZone=O(pt);scheduler=O(Bp);errorHandler=O(Xs,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(C0,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Li(16),this.executing=!0;for(let i of jge)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Li(17)}register(n){let{view:i}=n;i!==void 0?((i[Zm]??=[]).push(n),f0(i),i[an]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(pP.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Se({token:e,providedIn:"root",factory:()=>new e})}return e})(),uM=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o,s=null){this.impl=t,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Zm];t&&(this.view[Zm]=t.filter(n=>n!==this))}};function rx(e,t){!t?.injector&&Jy(rx);let n=t?.injector??O(Pn);return ix("NgAfterRender"),Yz(e,n,t,!1)}function ba(e,t){!t?.injector&&Jy(ba);let n=t?.injector??O(Pn);return ix("NgAfterNextRender"),Yz(e,n,t,!0)}function qge(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Yz(e,t,n,i){let r=t.get(Xz);r.impl??=t.get($ge);let o=t.get(C0,null,{optional:!0}),s=n?.phase??Xm.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Xi):null,l=t.get(gP,null,{optional:!0}),c=new uM(r.impl,qge(e,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(c),c}var Kge=()=>null;function Zz(e,t,n=!1){return Kge(e,t,n)}function Qz(e,t){let n=e.contentQueries;if(n!==null){let i=Ln(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];lE(o),a.contentQueries(2,t[s],s)}}}finally{Ln(i)}}}function hM(e,t,n){lE(0);let i=Ln(null);try{t(e,n)}finally{Ln(i)}}function mP(e,t,n){if(QM(t)){let i=Ln(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Ln(i)}}}var nd=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(nd||{}),CS;function Xge(){if(CS===void 0&&(CS=null,Jm.trustedTypes))try{CS=Jm.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return CS}function fE(e){return Xge()?.createHTML(e)||e}var yS;function Yge(){if(yS===void 0&&(yS=null,Jm.trustedTypes))try{yS=Jm.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return yS}function JH(e){return Yge()?.createHTML(e)||e}var vu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${EG})`}},fM=class extends vu{getTypeName(){return"HTML"}},pM=class extends vu{getTypeName(){return"Style"}},gM=class extends vu{getTypeName(){return"Script"}},mM=class extends vu{getTypeName(){return"URL"}},vM=class extends vu{getTypeName(){return"ResourceURL"}};function pc(e){return e instanceof vu?e.changingThisBreaksApplicationSecurity:e}function Uh(e,t){let n=Zge(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${EG})`)}return n===t}function Zge(e){return e instanceof vu&&e.getTypeName()||null}function Jz(e){return new fM(e)}function e9(e){return new pM(e)}function t9(e){return new gM(e)}function n9(e){return new mM(e)}function i9(e){return new vM(e)}function Qge(e){let t=new yM(e);return Jge()?new CM(t):t}var CM=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(fE(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},yM=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=fE(t),n}};function Jge(){try{return!!new window.DOMParser().parseFromString(fE(""),"text/html")}catch{return!1}}var eme=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pE(e){return e=String(e),e.match(eme)?e:"unsafe:"+e}function _u(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function ox(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var r9=_u("area,br,col,hr,img,wbr"),o9=_u("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),s9=_u("rp,rt"),tme=ox(s9,o9),nme=ox(o9,_u("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ime=ox(s9,_u("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eG=ox(r9,nme,ime,tme),a9=_u("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rme=_u("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ome=_u("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),sme=ox(a9,rme,ome),ame=_u("script,style,template"),xM=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=dme(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=cme(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=tG(t).toLowerCase();if(!eG.hasOwnProperty(n))return this.sanitizedSomething=!0,!ame.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!sme.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;a9[a]&&(l=pE(l)),this.buf.push(" ",s,'="',nG(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=tG(t).toLowerCase();eG.hasOwnProperty(n)&&!r9.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(nG(t))}};function lme(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function cme(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw l9(t);return t}function dme(e){let t=e.firstChild;if(t&&lme(e,t))throw l9(t);return t}function tG(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function l9(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var ume=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hme=/([^\#-~ |!])/g;function nG(e){return e.replace(/&/g,"&amp;").replace(ume,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(hme,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var xS;function vP(e,t){let n=null;try{xS=xS||Qge(e);let i=t?String(t):"";n=xS.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=xS.getInertBodyElement(i)}while(i!==o);let a=new xM().sanitizeChildren(iG(n)||n);return fE(a)}finally{if(n){let i=iG(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function iG(e){return"content"in e&&fme(e)?e.content:null}function fme(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var vs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vs||{});function c9(e){let t=u9();return t?JH(t.sanitize(vs.HTML,e)||""):Uh(e,"HTML")?JH(pc(e)):vP(qz(),Yy(e))}function d9(e){let t=u9();return t?t.sanitize(vs.URL,e)||"":Uh(e,"URL")?pc(e):pE(Yy(e))}function u9(){let e=Sn();return e&&e[gu].sanitizer}var pme=/^>|^->|<!--|-->|--!>|<!-$/g,gme=/(<|>)/g,mme="\u200B$1\u200B";function vme(e){return e.replace(pme,t=>t.replace(gme,mme))}function h9(e){return e.ownerDocument}function f9(e){return e instanceof Function?e():e}function Cme(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var p9="ng-template";function yme(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Cme(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(CP(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function CP(e){return e.type===4&&e.value!==p9}function xme(e,t,n){let i=e.type===4&&!n?p9:e.value;return t===i}function bme(e,t,n){let i=4,r=e.attrs,o=r!==null?Sme(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!hc(i)&&!hc(l))return!1;if(s&&hc(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!xme(e,l,n)||l===""&&t.length===1){if(hc(i))return!1;s=!0}}else if(i&8){if(r===null||!yme(e,r,l,n)){if(hc(i))return!1;s=!0}}else{let c=t[++a],d=wme(l,r,CP(e),n);if(d===-1){if(hc(i))return!1;s=!0;continue}if(c!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),i&2&&c!==u){if(hc(i))return!1;s=!0}}}}return hc(i)||s}function hc(e){return(e&1)===0}function wme(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Eme(t,e)}function g9(e,t,n=!1){for(let i=0;i<t.length;i++)if(bme(e,t[i],n))return!0;return!1}function _me(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function Sme(e){for(let t=0;t<e.length;t++){let n=e[t];if(xz(n))return t}return e.length}function Eme(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function Dme(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function rG(e,t){return e?":not("+t.trim()+")":t}function Rme(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!hc(s)&&(t+=rG(o,r),r=""),i=s,o=o||!hc(i);n++}return r!==""&&(t+=rG(o,r)),t}function Tme(e){return e.map(Rme).join(",")}function Ime(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!hc(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var sd={};function Fme(e,t){return e.createText(t)}function kme(e,t,n){e.setValue(t,n)}function Ame(e,t){return e.createComment(vme(t))}function m9(e,t,n){return e.createElement(t,n)}function US(e,t,n,i,r){e.insertBefore(t,n,i,r)}function v9(e,t,n){e.appendChild(t,n)}function oG(e,t,n,i,r){i!==null?US(e,t,n,i,r):v9(e,t,n)}function Mme(e,t,n){e.removeChild(null,t,n)}function Pme(e,t,n){e.setAttribute(t,"style",n)}function Ome(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function C9(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&fge(e,t,i),r!==null&&Ome(e,t,r),o!==null&&Pme(e,t,o)}function yP(e,t,n,i,r,o,s,a,l,c,d){let u=Fo+i,f=u+r,p=Lme(u,f),m=typeof c=="function"?c():c;return p[wn]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:d}}function Lme(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:sd);return n}function Nme(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=yP(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function xP(e,t,n,i,r,o,s,a,l,c,d){let u=t.blueprint.slice();return u[xu]=r,u[an]=i|4|128|8|64|1024,(c!==null||e&&e[an]&2048)&&(u[an]|=2048),oz(u),u[gs]=u[u0]=e,u[Ks]=n,u[gu]=s||e&&e[gu],u[mr]=a||e&&e[mr],u[n0]=l||e&&e[n0]||null,u[xa]=o,u[oE]=Bge(),u[zy]=d,u[YG]=c,u[_l]=t.type==2?e[_l]:u,u}function Bme(e,t,n){let i=rd(t,e),r=Nme(n),o=e[gu].rendererFactory,s=bP(e,xP(e,r,null,y9(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function y9(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function x9(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function bP(e,t){return e[Uy]?e[HH][fc]=t:e[Uy]=t,e[HH]=t,t}function Xe(e=1){b9(vr(),Sn(),Hp()+e,!1)}function b9(e,t,n,i){if(!i)if((t[an]&3)===3){let o=e.preOrderCheckHooks;o!==null&&_S(t,o,n)}else{let o=e.preOrderHooks;o!==null&&SS(t,o,0,n)}Lp(n)}var gE=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(gE||{});function bM(e,t,n,i){let r=Ln(null);try{let[o,s,a]=e.inputs[n],l=null;(s&gE.SignalBased)!==0&&(l=t[o][pa]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):QG(t,l,o,i)}finally{Ln(r)}}function w9(e,t,n,i,r){let o=Hp(),s=i&2;try{Lp(-1),s&&t.length>Fo&&b9(e,t,Fo,!1),Li(s?2:0,r),n(i,r)}finally{Lp(o),Li(s?3:1,r)}}function mE(e,t,n){Wme(e,t,n),(n.flags&64)===64&&jme(e,t,n)}function wP(e,t,n=rd){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function Vme(e,t,n,i){let o=i.get(Uge,Kz)||n===nd.ShadowDom,s=e.selectRootElement(t,o);return Hme(s),s}function Hme(e){Gme(e)}var Gme=()=>null;function zme(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function _P(e,t,n,i,r,o,s,a){if(!a&&EP(t,e,n,i,r)){h0(t)&&Ume(n,t.index);return}if(t.type&3){let l=rd(t,n);i=zme(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)}else t.type&12}function Ume(e,t){let n=td(t,e);n[an]&16||(n[an]|=64)}function Wme(e,t,n){let i=n.directiveStart,r=n.directiveEnd;h0(n)&&Bme(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||HS(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=Wy(t,e,s,n);if(v0(l,t),o!==null&&Xme(t,s-i,l,a,n,o),Jc(a)){let c=td(n.index,t);c[Ks]=Wy(t,e,s,n)}}}function jme(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=ige();try{Lp(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];nM(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$me(l,c)}}finally{Lp(-1),nM(s)}}function $me(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function SP(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];g9(t,o.selectors,!1)&&(i??=[],Jc(o)?i.unshift(o):i.push(o))}return i}function qme(e,t,n,i,r,o){let s=rd(e,t);Kme(t[mr],s,o,e.value,n,i,r)}function Kme(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Yy(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function Xme(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];bM(i,n,l,c)}}function Yme(e,t){let n=e[n0],i=n?n.get(Xs,null):null;i&&i.handleError(t)}function EP(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],u=t.data[c];bM(u,n[c],d,r),a=!0}if(o)for(let l of o){let c=n[l],d=t.data[l];bM(d,c,i,r),a=!0}return a}function Zme(e,t){let n=td(t,e),i=n[wn];Qme(i,n);let r=n[xu];r!==null&&n[zy]===null&&(n[zy]=Zz(r,n[n0])),Li(18),DP(i,n,n[Ks]),Li(19,n[Ks])}function Qme(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function DP(e,t,n){aP(t);try{let i=e.viewQuery;i!==null&&hM(1,i,n);let r=e.template;r!==null&&w9(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[mu]?.finishViewCreation(e),e.staticContentQueries&&Qz(e,t),e.staticViewQueries&&hM(2,e.viewQuery,n);let o=e.components;o!==null&&Jme(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[an]&=-5,lP()}}function Jme(e,t){for(let n=0;n<t.length;n++)Zme(e,t[n])}function RP(e,t,n,i){let r=Ln(null);try{let o=t.tView,a=e[an]&4096?4096:16,l=xP(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[Ap]=c;let d=e[mu];return d!==null&&(l[mu]=d.createEmbeddedView(o)),DP(o,l,n),l}finally{Ln(r)}}function WS(e,t){return!t||t.firstChild===null||Hz(e)}var e0e;function TP(e,t){return e0e(e,t)}var Cu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Cu||{});function IP(e){return(e.flags&32)===32}function Ym(e,t,n,i,r){if(i!=null){let o,s=!1;bu(i)?o=i:Vh(i)&&(s=!0,i=i[xu]);let a=ed(i);e===0&&n!==null?r==null?v9(t,n,a):US(t,n,a,r||null,!0):e===1&&n!==null?US(t,n,a,r||null,!0):e===2?Mme(t,a,s):e===3&&t.destroyNode(a),o!=null&&d0e(t,e,o,n,r)}}function t0e(e,t){_9(e,t),t[xu]=null,t[xa]=null}function n0e(e,t,n,i,r,o){i[xu]=r,i[xa]=t,CE(e,i,n,1,r,o)}function _9(e,t){t[gu].changeDetectionScheduler?.notify(9),CE(e,t,t[mr],2,null,null)}function i0e(e){let t=e[Uy];if(!t)return BA(e[wn],e);for(;t;){let n=null;if(Vh(t))n=t[Uy];else{let i=t[Ca];i&&(n=i)}if(!n){for(;t&&!t[fc]&&t!==e;)Vh(t)&&BA(t[wn],t),t=t[gs];t===null&&(t=e),Vh(t)&&BA(t[wn],t),n=t&&t[fc]}t=n}}function FP(e,t){let n=e[i0],i=n.indexOf(t);n.splice(i,1)}function kP(e,t){if(ex(t))return;let n=t[mr];n.destroyNode&&CE(e,t,n,3,null,null),i0e(t)}function BA(e,t){if(ex(t))return;let n=Ln(null);try{t[an]&=-129,t[an]|=256,t[wl]&&Ry(t[wl]),o0e(e,t),r0e(e,t),t[wn].type===1&&t[mr].destroy();let i=t[Ap];if(i!==null&&bu(t[gs])){i!==t[gs]&&FP(i,t);let r=t[mu];r!==null&&r.detachView(e)}cM(t)}finally{Ln(n)}}function r0e(e,t){let n=e.cleanup,i=t[MS];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[MS]=null);let r=t[Bh];if(r!==null){t[Bh]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[Mp];if(o!==null){t[Mp]=null;for(let s of o)s.destroy()}}function o0e(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Np)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Li(4,a,l);try{l.call(a)}finally{Li(5,a,l)}}else{Li(4,r,o);try{o.call(r)}finally{Li(5,r,o)}}}}}function S9(e,t,n){return s0e(e,t.parent,n)}function s0e(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[xu];if(h0(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===nd.None||r===nd.Emulated)return null}return rd(i,n)}function E9(e,t,n){return l0e(e,t,n)}function a0e(e,t,n){return e.type&40?rd(e,n):null}var l0e=a0e,sG;function vE(e,t,n,i){let r=S9(e,i,t),o=t[mr],s=i.parent||t[xa],a=E9(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)oG(o,r,n[l],a,!1);else oG(o,r,n,a,!1);sG!==void 0&&sG(o,i,t,n,r)}function Vy(e,t){if(t!==null){let n=t.type;if(n&3)return rd(t,e);if(n&4)return wM(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Vy(e,i);{let r=e[t.index];return bu(r)?wM(-1,r):ed(r)}}else{if(n&128)return Vy(e,t.next);if(n&32)return TP(t,e)()||ed(e[t.index]);{let i=D9(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Op(e[_l]);return Vy(r,i)}else return Vy(e,t.next)}}}return null}function D9(e,t){if(t!==null){let i=e[_l][xa],r=t.projection;return i.projection[r]}return null}function wM(e,t){let n=Ca+e+1;if(n<t.length){let i=t[n],r=i[wn].firstChild;if(r!==null)return Vy(i,r)}return t[Pp]}function AP(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&v0(ed(a),i),n.flags|=2),!IP(n))if(l&8)AP(e,t,n.child,i,r,o,!1),Ym(t,e,r,a,o);else if(l&32){let c=TP(n,i),d;for(;d=c();)Ym(t,e,r,d,o);Ym(t,e,r,a,o)}else l&16?R9(e,t,i,n,r,o):Ym(t,e,r,a,o);n=s?n.projectionNext:n.next}}function CE(e,t,n,i,r,o){AP(n,i,e.firstChild,t,r,o,!1)}function c0e(e,t,n){let i=t[mr],r=S9(e,n,t),o=n.parent||t[xa],s=E9(o,n,t);R9(i,0,t,n,r,s)}function R9(e,t,n,i,r,o){let s=n[_l],l=s[xa].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ym(t,e,r,d,o)}else{let c=l,d=s[gs];Hz(i)&&(c.flags|=128),AP(e,t,c,d,r,o,!0)}}function d0e(e,t,n,i,r){let o=n[Pp],s=ed(n);o!==s&&Ym(t,e,i,o,r);for(let a=Ca;a<n.length;a++){let l=n[a];CE(l[wn],l,e,t,i,o)}}function u0e(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Cu.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Cu.Important),e.setStyle(n,i,r,o))}}function jS(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(ed(o)),bu(o)&&h0e(o,i);let s=n.type;if(s&8)jS(e,t,n.child,i);else if(s&32){let a=TP(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=D9(t,n);if(Array.isArray(a))i.push(...a);else{let l=Op(t[_l]);jS(l[wn],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function h0e(e,t){for(let n=Ca;n<e.length;n++){let i=e[n],r=i[wn].firstChild;r!==null&&jS(i[wn],i,r,t)}e[Pp]!==e[xu]&&t.push(e[Pp])}function T9(e){if(e[Zm]!==null){for(let t of e[Zm])t.impl.addSequence(t);e[Zm].length=0}}var I9=[];function f0e(e){return e[wl]??p0e(e)}function p0e(e){let t=I9.pop()??Object.create(m0e);return t.lView=e,t}function g0e(e){e.lView[wl]!==e&&(e.lView=null,I9.push(e))}var m0e=ke(z({},Pm),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{f0(e.lView)},consumerOnSignalRead(){this.lView[wl]=this}});function v0e(e){let t=e[wl]??Object.create(C0e);return t.lView=e,t}var C0e=ke(z({},Pm),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Op(e.lView);for(;t&&!F9(t[wn]);)t=Op(t);t&&sz(t)},consumerOnSignalRead(){this.lView[wl]=this}});function F9(e){return e.type!==2}function k9(e){if(e[Mp]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[Mp])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[an]&8192)}}var y0e=100;function A9(e,t=!0,n=0){let r=e[gu].rendererFactory,o=!1;o||r.begin?.();try{x0e(e,n)}catch(s){throw t&&Yme(e,s),s}finally{o||r.end?.()}}function x0e(e,t){let n=dz();try{LS(!0),_M(e,t);let i=0;for(;aE(e);){if(i===y0e)throw new ft(103,!1);i++,_M(e,1)}}finally{LS(n)}}function b0e(e,t,n,i){if(ex(t))return;let r=t[an],o=!1,s=!1;aP(t);let a=!0,l=null,c=null;o||(F9(e)?(c=f0e(t),l=Dy(c)):uA()===null?(a=!1,c=v0e(t),l=Dy(c)):t[wl]&&(Ry(t[wl]),t[wl]=null));try{oz(t),ege(e.bindingStartIndex),n!==null&&w9(e,t,n,2,i);let d=(r&3)===3;if(!o)if(d){let p=e.preOrderCheckHooks;p!==null&&_S(t,p,null)}else{let p=e.preOrderHooks;p!==null&&SS(t,p,0,null),LA(t,0)}if(s||w0e(t),k9(t),M9(t,0),e.contentQueries!==null&&Qz(e,t),!o)if(d){let p=e.contentCheckHooks;p!==null&&_S(t,p)}else{let p=e.contentHooks;p!==null&&SS(t,p,1),LA(t,1)}S0e(e,t);let u=e.components;u!==null&&O9(t,u,0);let f=e.viewQuery;if(f!==null&&hM(2,f,i),!o)if(d){let p=e.viewCheckHooks;p!==null&&_S(t,p)}else{let p=e.viewHooks;p!==null&&SS(t,p,2),LA(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[OA]){for(let p of t[OA])p();t[OA]=null}o||(T9(t),t[an]&=-73)}catch(d){throw o||f0(t),d}finally{c!==null&&(O1(c,l),a&&g0e(c)),lP()}}function M9(e,t){for(let n=Uz(e);n!==null;n=Wz(n))for(let i=Ca;i<n.length;i++){let r=n[i];P9(r,t)}}function w0e(e){for(let t=Uz(e);t!==null;t=Wz(t)){if(!(t[an]&2))continue;let n=t[i0];for(let i=0;i<n.length;i++){let r=n[i];sz(r)}}}function _0e(e,t,n){Li(18);let i=td(t,e);P9(i,n),Li(19,i[Ks])}function P9(e,t){eP(e)&&_M(e,t)}function _M(e,t){let i=e[wn],r=e[an],o=e[wl],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&L1(o)),s||=!1,o&&(o.dirty=!1),e[an]&=-9217,s)b0e(i,e,i.template,e[Ks]);else if(r&8192){k9(e),M9(e,1);let a=i.components;a!==null&&O9(e,a,1),T9(e)}}function O9(e,t,n){for(let i=0;i<t.length;i++)_0e(e,t[i],n)}function S0e(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Lp(~r);else{let o=r,s=n[++i],a=n[++i];nge(s,o);let l=t[o];Li(24,l),a(2,l),Li(25,l)}}}finally{Lp(-1)}}function MP(e,t){let n=dz()?64:1088;for(e[gu].changeDetectionScheduler?.notify(t);e;){e[an]|=n;let i=Op(e);if(OS(e)&&!i)return e;e=i}return null}function L9(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function E0e(e,t){let n=Ca+t;if(n<e.length)return e[n]}function PP(e,t,n,i=!0){let r=t[wn];if(R0e(r,t,e,n),i){let s=wM(n,e),a=t[mr],l=a.parentNode(e[Pp]);l!==null&&n0e(r,e[xa],a,t,l,s)}let o=t[zy];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function D0e(e,t){let n=$S(e,t);return n!==void 0&&kP(n[wn],n),n}function $S(e,t){if(e.length<=Ca)return;let n=Ca+t,i=e[n];if(i){let r=i[Ap];r!==null&&r!==e&&FP(r,i),t>0&&(e[n-1][fc]=i[fc]);let o=kS(e,Ca+t);t0e(i[wn],i);let s=o[mu];s!==null&&s.detachView(o[wn]),i[gs]=null,i[fc]=null,i[an]&=-129}return i}function R0e(e,t,n,i){let r=Ca+i,o=n.length;i>0&&(n[r-1][fc]=t),i<o-Ca?(t[fc]=n[r],HG(n,Ca+i,t)):(n.push(t),t[fc]=null),t[gs]=n;let s=t[Ap];s!==null&&n!==s&&N9(s,t);let a=t[mu];a!==null&&a.insertView(e),eM(t),t[an]|=128}function N9(e,t){let n=e[i0],i=t[gs];if(Vh(i))e[an]|=2;else{let r=i[gs][_l];t[_l]!==r&&(e[an]|=2)}n===null?e[i0]=[t]:n.push(t)}var $y=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[wn];return jS(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[Ks]}set context(t){this._lView[Ks]=t}get destroyed(){return ex(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[gs];if(bu(t)){let n=t[PS],i=n?n.indexOf(this):-1;i>-1&&($S(t,i),kS(n,i))}this._attachedToViewContainer=!1}kP(this._lView[wn],this._lView)}onDestroy(t){az(this._lView,t)}markForCheck(){MP(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[an]&=-129}reattach(){eM(this._lView),this._lView[an]|=128}detectChanges(){this._lView[an]|=1024,A9(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=OS(this._lView),n=this._lView[Ap];n!==null&&!t&&FP(n,this._lView),_9(this._lView[wn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=t;let n=OS(this._lView),i=this._lView[Ap];i!==null&&!n&&N9(i,this._lView),eM(this._lView)}};var ya=(()=>{class e{static __NG_ELEMENT_ID__=F0e}return e})(),T0e=ya,I0e=class extends T0e{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=RP(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new $y(r)}};function F0e(){return yE(ms(),Sn())}function yE(e,t){return e.type&4?new I0e(t,e,g0(e,t)):null}function y0(e,t,n,i,r){let o=e.data[t];if(o===null)o=k0e(e,t,n,i,r),tge()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Qpe();o.injectorIndex=s===null?-1:s.injectorIndex}return Gh(o,!0),o}function k0e(e,t,n,i,r){let o=cz(),s=rP(),a=s?o:o&&o.parent,l=e.data[t]=M0e(e,a,n,t,i,r);return A0e(e,l,o,s),l}function A0e(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function M0e(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return lz()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var zet=new RegExp(`^(\\d+)*(${zge}|${Gge})*(.*)`);var P0e=()=>null;function qS(e,t){return P0e(e,t)}var O0e=class{},B9=class{},SM=class{resolveComponentFactory(t){throw Error(`No component factory found for ${va(t)}.`)}},xE=class{static NULL=new SM},yo=class{},Fr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>L0e()}return e})();function L0e(){let e=Sn(),t=ms(),n=td(t.index,e);return(Vh(n)?n:e)[mr]}var N0e=(()=>{class e{static \u0275prov=Se({token:e,providedIn:"root",factory:()=>null})}return e})();var VA={},EM=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=tE(i);let r=this.injector.get(t,VA,i);return r!==VA||n===VA?r:this.parentInjector.get(t,n,i)}};function DM(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=$A(r,a);else if(o==2){let l=a,c=t[++s];i=$A(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function We(e,t=Mn.Default){let n=Sn();if(n===null)return lt(e,t);let i=ms();return Rz(i,n,Xo(e),t)}function OP(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a,l=null,c=null,d=V0e(s);d===null?a=s:[a,l,c]=d,z0e(e,t,n,a,o,l,c)}o!==null&&i!==null&&B0e(n,i,o)}function B0e(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new ft(-301,!1);i.push(t[r],o)}}function V0e(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Jc(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,H0e(s,i,o,r)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?e:e.slice(1)),[i,r,o]):null}function H0e(e,t,n,i){let r=t.length;e.findHostDirectiveDefs(e,t,i),n.set(e,[r,t.length-1])}function G0e(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function z0e(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let f=0;f<a;f++){let p=i[f];!l&&Jc(p)&&(l=!0,G0e(e,n,f)),rM(HS(n,t),e,p.type)}K0e(n,e.data.length,a);for(let f=0;f<a;f++){let p=i[f];p.providersResolver&&p.providersResolver(p)}let c=!1,d=!1,u=x9(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=i[f];if(n.mergedAttrs=o0(n.mergedAttrs,p.hostAttrs),W0e(e,n,t,u,p),q0e(u,p,r),s!==null&&s.has(p)){let[v,C]=s.get(p);n.directiveToIndex.set(p.type,[u,v+n.directiveStart,C+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,u);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!c&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}U0e(e,n,o)}function U0e(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))aG(0,t,r,i),aG(1,t,r,i),cG(t,i,!1);else{let o=n.get(r);lG(0,t,o,i),lG(1,t,o,i),cG(t,i,!0)}}}function aG(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),V9(t,o)}}function lG(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),V9(t,s)}}function V9(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function cG(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||CP(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function W0e(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Fp(r.type,!0)),s=new Np(o,Jc(r),We);e.blueprint[i]=s,n[i]=s,j0e(e,t,i,x9(e,n,r.hostVars,sd),r)}function j0e(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;$0e(s)!=a&&s.push(a),s.push(n,i,o)}}function $0e(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function q0e(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Jc(t)&&(n[""]=e)}}function K0e(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function H9(e,t,n,i,r,o,s,a){let l=t.consts,c=r0(l,s),d=y0(t,e,2,i,c);return o&&OP(t,n,d,r0(l,a),r),d.mergedAttrs=o0(d.mergedAttrs,d.attrs),d.attrs!==null&&DM(d,d.attrs,!1),d.mergedAttrs!==null&&DM(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function G9(e,t){cP(e,t),QM(t)&&e.queries.elementEnd(t)}var KS=class extends xE{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=kp(t);return new a0(n,this.ngModule)}};function X0e(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&gE.SignalBased)!==0};return r&&(o.transform=r),o})}function Y0e(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Z0e(e,t,n){let i=t instanceof io?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new EM(n,i):n}function Q0e(e){let t=e.get(yo,null);if(t===null)throw new ft(407,!1);let n=e.get(N0e,null),i=e.get(Bp,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i}}function J0e(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return m9(t,n,n==="svg"?nz:n==="math"?Gpe:null)}var a0=class extends B9{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=X0e(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Y0e(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Tme(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r){Li(22);let o=Ln(null);try{let s=this.componentDef,a=i?["ng-version","19.2.5"]:Ime(this.componentDef.selectors[0]),l=yP(0,null,null,1,0,null,null,null,null,[a],null),c=Z0e(s,r||this.ngModule,t),d=Q0e(c),u=d.rendererFactory.createRenderer(null,s),f=i?Vme(u,i,s.encapsulation,c):J0e(s,u),p=xP(null,l,null,512|y9(s),null,null,d,u,c,null,Zz(f,c,!0));p[Fo]=f,aP(p);let m=null;try{let v=H9(Fo,l,p,"#host",()=>[this.componentDef],!0,0);f&&(C9(u,f,v),v0(f,p)),mE(l,p,v),mP(l,v,p),G9(l,v),n!==void 0&&eve(v,this.ngContentSelectors,n),m=td(v.index,p),p[Ks]=m[Ks],DP(l,p,null)}catch(v){throw m!==null&&cM(m),cM(p),v}finally{Li(23),lP()}return new RM(this.componentType,p)}finally{Ln(o)}}},RM=class extends O0e{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=JM(n[wn],Fo),this.location=g0(this._tNode,n),this.instance=td(this._tNode.index,n)[Ks],this.hostView=this.changeDetectorRef=new $y(n,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=EP(i,r[wn],r,t,n);this.previousInputValues.set(t,n);let s=td(i.index,r);MP(s,1)}get injector(){return new Ip(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function eve(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var $r=(()=>{class e{static __NG_ELEMENT_ID__=tve}return e})();function tve(){let e=ms();return U9(e,Sn())}var nve=$r,z9=class extends nve{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return g0(this._hostTNode,this._hostLView)}get injector(){return new Ip(this._hostTNode,this._hostLView)}get parentInjector(){let t=dP(this._hostTNode,this._hostLView);if(bz(t)){let n=BS(t,this._hostLView),i=NS(t),r=n[wn].data[i+8];return new Ip(r,n)}else return new Ip(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=dG(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ca}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=qS(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,WS(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!Npe(t),a;if(s)a=n;else{let m=n||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?t:new a0(kp(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(io,null);v&&(o=v)}let d=kp(l.componentType??{}),u=qS(this._lContainer,d?.id??null),f=u?.firstChild??null,p=l.create(c,r,f,o);return this.insertImpl(p.hostView,a,WS(this._hostTNode,u)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(Upe(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[gs],c=new z9(l,l[xa],l[gs]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return PP(s,r,o,i),t.attachToViewContainerRef(),HG(HA(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=dG(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=$S(this._lContainer,n);i&&(kS(HA(this._lContainer),n),kP(i[wn],i))}detach(t){let n=this._adjustIndex(t,-1),i=$S(this._lContainer,n);return i&&kS(HA(this._lContainer),n)!=null?new $y(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function dG(e){return e[PS]}function HA(e){return e[PS]||(e[PS]=[])}function U9(e,t){let n,i=t[e.index];return bu(i)?n=i:(n=L9(i,t,null,e),t[e.index]=n,bP(t,n)),rve(n,t,e,i),new z9(n,e,t)}function ive(e,t){let n=e[mr],i=n.createComment(""),r=rd(t,e),o=n.parentNode(r);return US(n,o,i,n.nextSibling(r),!1),i}var rve=ave,ove=()=>!1;function sve(e,t,n){return ove(e,t,n)}function ave(e,t,n,i){if(e[Pp])return;let r;n.type&8?r=ed(i):r=ive(t,n),e[Pp]=r}var TM=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},IM=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)NP(t,n).matches!==null&&this.queries[n].setDirty()}},XS=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=fve(t):this.predicate=t}},FM=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},kM=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,lve(n,o)),this.matchTNodeWithReadOption(t,n,ES(n,t,o,!1,!1))}else i===ya?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ES(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Tt||r===$r||r===ya&&n.type&4)this.addMatch(n.index,-2);else{let o=ES(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function lve(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function cve(e,t){return e.type&11?g0(e,t):e.type&4?yE(e,t):null}function dve(e,t,n,i){return n===-1?cve(t,e):n===-2?uve(e,t,i):Wy(e,e[wn],n,t)}function uve(e,t,n){if(n===Tt)return g0(t,e);if(n===ya)return yE(t,e);if(n===$r)return U9(t,e)}function W9(e,t,n,i){let r=t[mu].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(dve(t,d,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function AM(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=W9(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=t[-l];for(let u=Ca;u<d.length;u++){let f=d[u];f[Ap]===f[gs]&&AM(f[wn],f,c,i)}if(d[i0]!==null){let u=d[i0];for(let f=0;f<u.length;f++){let p=u[f];AM(p[wn],p,c,i)}}}}}return i}function LP(e,t){return e[mu].queries[t].queryList}function j9(e,t,n){let i=new Hh((n&4)===4);return $pe(e,t,i,i.destroy),(t[mu]??=new IM).queries.push(new TM(i))-1}function hve(e,t,n){let i=vr();return i.firstCreatePass&&(q9(i,new XS(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),j9(i,Sn(),t)}function $9(e,t,n,i){let r=vr();if(r.firstCreatePass){let o=ms();q9(r,new XS(t,n,i),o.index),pve(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return j9(r,Sn(),n)}function fve(e){return e.split(",").map(t=>t.trim())}function q9(e,t,n){e.queries===null&&(e.queries=new FM),e.queries.track(new kM(t,n))}function pve(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function NP(e,t){return e.queries.getByIndex(t)}function K9(e,t){let n=e[wn],i=NP(n,t);return i.crossesNgTemplate?AM(n,e,t,[]):W9(n,e,i,t)}function X9(e,t,n){let i,r=V1(()=>{i._dirtyCounter();let o=Cve(i,e);if(t&&o===void 0)throw new ft(-951,!1);return o});return i=r[pa],i._dirtyCounter=od(0),i._flatValue=void 0,r}function gve(e){return X9(!0,!1,e)}function mve(e){return X9(!0,!0,e)}function vve(e,t){let n=e[pa];n._lView=Sn(),n._queryIndex=t,n._queryList=LP(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function Cve(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[an]&4)return t?void 0:qs;let r=LP(n,i),o=K9(n,i);return r.reset(o,Bz),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}function uG(e,t){return gve(t)}function yve(e,t){return mve(t)}var Y9=(uG.required=yve,uG);var yu=class{},BP=class{};var MM=class extends yu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new KS(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=UG(t);this._bootstrapComponents=f9(o.bootstrap),this._r3Injector=kz(t,n,[{provide:yu,useValue:this},{provide:xE,useValue:this.componentFactoryResolver},...i],va(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},PM=class extends BP{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new MM(this.moduleType,t,[])}};var YS=class extends yu{injector;componentFactoryResolver=new KS(this);instance=null;constructor(t){super();let n=new Gy([...t.providers,{provide:yu,useValue:this},{provide:xE,useValue:this.componentFactoryResolver}],t.parent||rE(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function bE(e,t,n=null){return new YS({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var xve=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=jG(!1,n.type),r=i.length>0?bE([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Se({token:e,providedIn:"environment",factory:()=>new e(lt(io))})}return e})();function Qe(e){return Xy(()=>{let t=Q9(e),n=ke(z({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gz.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(xve).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||nd.Emulated,styles:e.styles||qs,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ix("NgStandalone"),J9(n);let i=e.dependencies;return n.directiveDefs=hG(i,!1),n.pipeDefs=hG(i,!0),n.id=Eve(n),n})}function bve(e){return kp(e)||WG(e)}function wve(e){return e!==null}function It(e){return Xy(()=>({type:e.type,bootstrap:e.bootstrap||qs,declarations:e.declarations||qs,imports:e.imports||qs,exports:e.exports||qs,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _ve(e,t){if(e==null)return Qc;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=gE.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function Sve(e){if(e==null)return Qc;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Lt(e){return Xy(()=>{let t=Q9(e);return J9(t),t})}function Z9(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Q9(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Qc,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||qs,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_ve(e.inputs,t),outputs:Sve(e.outputs),debugInfo:null}}function J9(e){e.features?.forEach(t=>t(e))}function hG(e,t){if(!e)return null;let n=t?Dpe:bve;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(wve)}function Eve(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Dve(e){return Object.getPrototypeOf(e.prototype).constructor}function qr(e){let t=Dve(e.type),n=!0,i=[e];for(;t;){let r;if(Jc(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ft(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=GA(e.inputs),s.declaredInputs=GA(e.declaredInputs),s.outputs=GA(e.outputs);let a=r.hostBindings;a&&kve(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&Ive(e,l),c&&Fve(e,c),Rve(e,r),rpe(e.outputs,r.outputs),Jc(r)&&r.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===qr&&(n=!1)}}t=Object.getPrototypeOf(t)}Tve(i)}function Rve(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function Tve(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=o0(r.hostAttrs,n=o0(n,r.hostAttrs))}}function GA(e){return e===Qc?{}:e===qs?[]:e}function Ive(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function Fve(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function kve(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function eU(e){let t=n=>{let i=Array.isArray(e);n.hostDirectives===null?(n.findHostDirectiveDefs=tU,n.hostDirectives=i?e.map(OM):[e]):i?n.hostDirectives.unshift(...e.map(OM)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function tU(e,t,n){if(e.hostDirectives!==null)for(let i of e.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)fG(OM(o),t,n)}else fG(i,t,n)}function fG(e,t,n){let i=WG(e.directive);Ave(i.declaredInputs,e.inputs),tU(i,t,n),n.set(i,e),t.push(i)}function OM(e){return typeof e=="function"?{directive:Xo(e),inputs:Qc,outputs:Qc}:{directive:Xo(e.directive),inputs:pG(e.inputs),outputs:pG(e.outputs)}}function pG(e){if(e===void 0||e.length===0)return Qc;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function Ave(e,t){for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],r=e[n];e[i]=r}}function nU(e){return Pve(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Mve(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function Pve(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function iU(e,t,n){return e[t]=n}function Sl(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function Ove(e,t,n,i){let r=Sl(e,t,n);return Sl(e,t+1,i)||r}function Lve(e,t,n,i,r){let o=Ove(e,t,n,i);return Sl(e,t+2,r)||o}function Nve(e,t,n,i,r,o,s,a,l){let c=t.consts,d=y0(t,e,4,s||null,a||null);iP()&&OP(t,n,d,r0(c,l),SP),d.mergedAttrs=o0(d.mergedAttrs,d.attrs),cP(t,d);let u=d.tView=yP(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}function rU(e,t,n,i,r,o,s,a,l,c){let d=n+Fo,u=t.firstCreatePass?Nve(d,t,e,i,r,o,s,a,l):t.data[d];Gh(u,!1);let f=Bve(t,e,u,n);dE()&&vE(t,e,f,u),v0(f,e);let p=L9(f,e,f,u);return e[d]=p,bP(e,p),sve(p,u,e),sE(u)&&mE(t,e,u),l!=null&&wP(e,u,c),u}function nn(e,t,n,i,r,o,s,a){let l=Sn(),c=vr(),d=r0(c.consts,o);return rU(l,c,e,t,n,i,r,d,s,a),nn}var Bve=Vve;function Vve(e,t,n,i){return uE(!0),t[mr].createComment("")}var VP=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var oU=new Re("");var sU=(()=>{class e{static \u0275prov=Se({token:e,providedIn:"root",factory:()=>new LM})}return e})(),LM=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Wh(e){return!!e&&typeof e.then=="function"}function HP(e){return!!e&&typeof e.subscribe=="function"}var aU=new Re("");var lU=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=O(aU,{optional:!0})??[];injector=O(Pn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Ka(this.injector,r);if(Wh(o))n.push(o);else if(HP(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GP=new Re("");function Hve(){gA(()=>{throw new ft(600,!1)})}function Gve(e){return e.isBoundToModule}var zve=10;var qa=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(Age);afterRenderManager=O(Xz);zonelessEnabled=O(hE);rootEffectScheduler=O(sU);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ut;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(zh).hasPendingTasks.pipe(Pt(n=>!n));constructor(){O(C0,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=O(io);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){Li(10);let r=n instanceof B9;if(!this._injector.get(lU).done){let f="";throw new ft(405,f)}let s;r?s=n:s=this._injector.get(xE).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Gve(s)?void 0:this._injector.get(yu),l=i||s.selector,c=s.create(Pn.NULL,[],l,a),d=c.location.nativeElement,u=c.injector.get(oU,null);return u?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),DS(this.components,c),u?.unregisterApplication(d)}),this._loadComponent(c),Li(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Li(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(pP.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ft(101,!1);let n=Ln(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ln(n),this.afterTick.next(),Li(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(yo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<zve;)Li(14),this.synchronizeOnce(),Li(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)Uve(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>aE(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;DS(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(GP,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>DS(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ft(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DS(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Uve(e,t,n,i){if(!n&&!aE(e))return;A9(e,t,n&&!i?0:1)}function bi(e,t,n,i){let r=Sn(),o=p0();if(Sl(r,o,t)){let s=vr(),a=cE();qme(a,r,e,t,n,i)}return bi}function cU(e,t,n,i){return Sl(e,p0(),n)?t+Yy(n)+i:sd}function bS(e,t){return e<<17|t<<2}function Vp(e){return e>>17&32767}function Wve(e){return(e&2)==2}function jve(e,t){return e&131071|t<<17}function NM(e){return e|2}function l0(e){return(e&131068)>>2}function zA(e,t){return e&-131069|t<<2}function $ve(e){return(e&1)===1}function BM(e){return e|1}function qve(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Vp(s),l=l0(s);e[i]=n;let c=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||Qy(u,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let f=Vp(e[a+1]);e[i+1]=bS(f,a),f!==0&&(e[f+1]=zA(e[f+1],i)),e[a+1]=jve(e[a+1],i)}else e[i+1]=bS(a,0),a!==0&&(e[a+1]=zA(e[a+1],i)),a=i;else e[i+1]=bS(l,0),a===0?a=i:e[l+1]=zA(e[l+1],i),l=i;c&&(e[i+1]=NM(e[i+1])),gG(e,d,i,!0),gG(e,d,i,!1),Kve(t,d,e,i,o),s=bS(a,l),o?t.classBindings=s:t.styleBindings=s}function Kve(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Qy(o,t)>=0&&(n[i+1]=BM(n[i+1]))}function gG(e,t,n,i){let r=e[n+1],o=t===null,s=i?Vp(r):l0(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];Xve(l,t)&&(a=!0,e[s+1]=i?BM(c):NM(c)),s=i?Vp(c):l0(c)}a&&(e[n+1]=i?NM(r):BM(r))}function Xve(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Qy(e,t)>=0:!1}var Co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dU(e){return e.substring(Co.key,Co.keyEnd)}function Yve(e){return e.substring(Co.value,Co.valueEnd)}function Zve(e){return fU(e),uU(e,c0(e,0,Co.textEnd))}function uU(e,t){let n=Co.textEnd;return n===t?-1:(t=Co.keyEnd=Jve(e,Co.key=t,n),c0(e,t,n))}function Qve(e){return fU(e),hU(e,c0(e,0,Co.textEnd))}function hU(e,t){let n=Co.textEnd,i=Co.key=c0(e,t,n);return n===i?-1:(i=Co.keyEnd=eCe(e,i,n),i=mG(e,i,n,58),i=Co.value=c0(e,i,n),i=Co.valueEnd=tCe(e,i,n),mG(e,i,n,59))}function fU(e){Co.key=0,Co.keyEnd=0,Co.value=0,Co.valueEnd=0,Co.textEnd=e.length}function c0(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Jve(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function eCe(e,t,n){let i;for(;t<n&&((i=e.charCodeAt(t))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)t++;return t}function mG(e,t,n,i){return t=c0(e,t,n),t<n&&t++,t}function tCe(e,t,n){let i=-1,r=-1,o=-1,s=t,a=s;for(;s<n;){let l=e.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=vG(e,l,s,n):t===s-4&&o===85&&r===82&&i===76&&l===40?a=s=vG(e,41,s,n):l>32&&(a=s),o=r,r=i,i=l&-33}return a}function vG(e,t,n,i){let r=-1,o=n;for(;o<i;){let s=e.charCodeAt(o++);if(s==t&&r!==92)return o;s==92&&r===92?r=0:r=s}throw new Error}function dt(e,t,n){let i=Sn(),r=p0();if(Sl(i,r,t)){let o=vr(),s=cE();_P(o,s,i,e,t,i[mr],n,!1)}return dt}function VM(e,t,n,i,r){EP(t,e,n,r?"class":"style",i)}function gc(e,t,n){return mU(e,t,n,!1),gc}function gn(e,t){return mU(e,t,null,!0),gn}function pU(e){zP(yU,nCe,e,!1)}function nCe(e,t){for(let n=Qve(t);n>=0;n=hU(t,n))yU(e,dU(t),Yve(t))}function Xa(e){zP(lCe,gU,e,!0)}function gU(e,t){for(let n=Zve(t);n>=0;n=uU(t,n))Zy(e,dU(t),!0)}function mU(e,t,n,i){let r=Sn(),o=vr(),s=hz(2);if(o.firstUpdatePass&&CU(o,e,s,i),t!==sd&&Sl(r,s,t)){let a=o.data[Hp()];xU(o,a,r,r[mr],e,r[s+1]=dCe(t,n),i,s)}}function zP(e,t,n,i){let r=vr(),o=hz(2);r.firstUpdatePass&&CU(r,null,o,i);let s=Sn();if(n!==sd&&Sl(s,o,n)){let a=r.data[Hp()];if(bU(a,i)&&!vU(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=$A(l,n||"")),VM(r,a,s,n,i)}else cCe(r,a,s,s[mr],s[o+1],s[o+1]=aCe(e,t,n),i,o)}}function vU(e,t){return t>=e.expandoStartIndex}function CU(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Hp()],s=vU(e,n);bU(o,i)&&t===null&&!s&&(t=!1),t=iCe(r,o,t,i),qve(r,o,t,n,s,i)}}function iCe(e,t,n,i){let r=rge(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=UA(null,e,t,n,i),n=qy(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=UA(r,e,t,n,i),o===null){let l=rCe(e,t,i);l!==void 0&&Array.isArray(l)&&(l=UA(null,e,t,l[1],i),l=qy(l,t.attrs,i),oCe(e,t,i,l))}else o=sCe(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function rCe(e,t,n){let i=n?t.classBindings:t.styleBindings;if(l0(i)!==0)return e[Vp(i)]}function oCe(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Vp(r)]=i}function sCe(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=qy(i,s,n)}return qy(i,t.attrs,n)}function UA(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=qy(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function qy(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Zy(e,s,n?!0:t[++o]))}return e===void 0?null:e}function aCe(e,t,n){if(n==null||n==="")return qs;let i=[],r=pc(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function yU(e,t,n){Zy(e,t,pc(n))}function lCe(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Zy(e,i,n)}function cCe(e,t,n,i,r,o,s,a){r===sd&&(r=qs);let l=0,c=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let f=l<r.length?r[l+1]:void 0,p=c<o.length?o[c+1]:void 0,m=null,v;d===u?(l+=2,c+=2,f!==p&&(m=u,v=p)):u===null||d!==null&&d<u?(l+=2,m=d):(c+=2,m=u,v=p),m!==null&&xU(e,t,n,i,m,v,s,a),d=l<r.length?r[l]:null,u=c<o.length?o[c]:null}}function xU(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],d=$ve(c)?CG(l,t,n,r,l0(c),s):void 0;if(!ZS(d)){ZS(o)||Wve(c)&&(o=CG(l,null,n,r,a,s));let u=iz(Hp(),n);u0e(i,s,u,r,o)}}function CG(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),d=c?l[1]:l,u=d===null,f=n[r+1];f===sd&&(f=u?qs:void 0);let p=u?MA(f,i):d===i?f:void 0;if(c&&!ZS(p)&&(p=MA(l,i)),ZS(p)&&(a=p,s))return a;let m=e[r+1];r=s?Vp(m):l0(m)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=MA(l,i))}return a}function ZS(e){return e!==void 0}function dCe(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=va(pc(e)))),e}function bU(e,t){return(e.flags&(t?8:16))!==0}function wU(e,t,n){let i=Sn(),r=cU(i,e,t,n);zP(Zy,gU,r,!0)}function xo(e,t){ix("NgControlFlow");let n=Sn(),i=p0(),r=n[i]!==sd?n[i]:-1,o=r!==-1?yG(n,Fo+r):void 0,s=0;if(Sl(n,i,e)){let a=Ln(null);try{if(o!==void 0&&D0e(o,s),e!==-1){let l=Fo+e,c=yG(n,l),d=uCe(n[wn],l),u=qS(c,d.tView.ssrId),f=RP(n,d,t,{dehydratedView:u});PP(c,f,s,WS(d,u))}}finally{Ln(a)}}else if(o!==void 0){let a=E0e(o,s);a!==void 0&&(a[Ks]=t)}}function yG(e,t){return e[t]}function uCe(e,t){return JM(e,t)}function Le(e,t,n,i){let r=Sn(),o=vr(),s=Fo+e,a=r[mr],l=o.firstCreatePass?H9(s,o,r,t,SP,iP(),n,i):o.data[s],c=hCe(o,r,l,a,t,e);r[s]=c;let d=sE(l);return Gh(l,!0),C9(a,c,l),!IP(l)&&dE()&&vE(o,r,c,l),(qpe()===0||d)&&v0(c,r),Kpe(),d&&(mE(o,r,l),mP(o,l,r)),i!==null&&wP(r,l),Le}function He(){let e=ms();rP()?oP():(e=e.parent,Gh(e,!1));let t=e;Ype(t)&&Zpe(),Xpe();let n=vr();return n.firstCreatePass&&G9(n,t),t.classesWithoutHost!=null&&uge(t)&&VM(n,t,Sn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&hge(t)&&VM(n,t,Sn(),t.stylesWithoutHost,!1),He}function Ct(e,t,n,i){return Le(e,t,n,i),He(),Ct}var hCe=(e,t,n,i,r,o)=>(uE(!0),m9(i,r,lge()));function fCe(e,t,n,i,r){let o=t.consts,s=r0(o,i),a=y0(t,e,8,"ng-container",s);s!==null&&DM(a,s,!0);let l=r0(o,r);return iP()&&OP(t,n,a,l,SP),a.mergedAttrs=o0(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function _U(e,t,n){let i=Sn(),r=vr(),o=e+Fo,s=r.firstCreatePass?fCe(o,r,i,t,n):r.data[o];Gh(s,!0);let a=pCe(r,i,s,e);return i[o]=a,dE()&&vE(r,i,a,s),v0(a,i),sE(s)&&(mE(r,i,s),mP(r,s,i)),n!=null&&wP(i,s),_U}function SU(){let e=ms(),t=vr();return rP()?oP():(e=e.parent,Gh(e,!1)),t.firstCreatePass&&(cP(t,e),QM(e)&&t.queries.elementEnd(e)),SU}function UP(e,t,n){return _U(e,t,n),SU(),UP}var pCe=(e,t,n,i)=>(uE(!0),Ame(t[mr],""));function ro(){return Sn()}function Up(e,t,n){let i=Sn(),r=p0();if(Sl(i,r,t)){let o=vr(),s=cE();_P(o,s,i,e,t,i[mr],n,!0)}return Up}var QS="en-US";var gCe=QS;function mCe(e){typeof e=="string"&&(gCe=e.toLowerCase().replace(/_/g,"-"))}function xG(e,t,n){return function i(r){if(r===Function)return n;let o=h0(e)?td(e.index,t):t;MP(o,5);let s=t[Ks],a=bG(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=bG(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function bG(e,t,n,i){let r=Ln(null);try{return Li(6,t,n),n(i)!==!1}catch(o){return vCe(e,o),!1}finally{Li(7,t,n),Ln(r)}}function vCe(e,t){let n=e[n0],i=n?n.get(Xs,null):null;i&&i.handleError(t)}function wG(e,t,n,i,r,o){let s=t[n],a=t[wn],c=a.data[n].outputs[i],d=s[c],u=a.firstCreatePass?nP(a):null,f=tP(t),p=d.subscribe(o),m=f.length;f.push(o,p),u&&u.push(r,e.index,m,-(m+1))}var CCe=(e,t,n)=>{};function Ft(e,t,n,i){let r=Sn(),o=vr(),s=ms();return EU(o,r,r[mr],s,e,t,i),Ft}function yCe(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[MS],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function EU(e,t,n,i,r,o,s){let a=sE(i),c=e.firstCreatePass?nP(e):null,d=tP(t),u=!0;if(i.type&3||s){let f=rd(i,t),p=s?s(f):f,m=d.length,v=s?y=>s(ed(y[i.index])):i.index,C=null;if(!s&&a&&(C=yCe(e,t,r,i.index)),C!==null){let y=C.__ngLastListenerFn__||C;y.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,u=!1}else{o=xG(i,t,o),CCe(p,r,o);let y=n.listen(p,r,o);d.push(o,y),c&&c.push(r,v,m,m+1)}}else o=xG(i,t,o);if(u){let f=i.outputs?.[r],p=i.hostDirectiveOutputs?.[r];if(p&&p.length)for(let m=0;m<p.length;m+=2){let v=p[m],C=p[m+1];wG(i,t,v,C,r,o)}if(f&&f.length)for(let m of f)wG(i,t,m,r,r,o)}}function Zn(e=1){return sge(e)}function xCe(e,t){let n=null,i=_me(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?g9(e,o,!0):Dme(i,o))return r}return n}function Kr(e){let t=Sn()[_l][xa];if(!t.projection){let n=e?e.length:1,i=t.projection=_pe(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?xCe(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function ri(e,t=0,n,i,r,o){let s=Sn(),a=vr(),l=i?e+1:null;l!==null&&rU(s,a,l,i,r,o,null,n);let c=y0(a,Fo+e,16,null,n||null);c.projection===null&&(c.projection=t),oP();let u=!s[zy]||lz();s[_l][xa].projection[c.projection]===null&&l!==null?bCe(s,a,l):u&&!IP(c)&&c0e(a,s,c)}function bCe(e,t,n){let i=Fo+n,r=t.data[i],o=e[i],s=qS(o,r.tView.ssrId),a=RP(e,r,void 0,{dehydratedView:s});PP(o,a,0,WS(r,s))}function El(e,t,n,i){$9(e,t,n,i)}function tr(e,t,n){hve(e,t,n)}function Qn(e){let t=Sn(),n=vr(),i=sP();lE(i+1);let r=NP(n,i);if(e.dirty&&zpe(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=K9(t,i);e.reset(o,Bz),e.notifyOnChanges()}return!0}return!1}function Jn(){return LP(Sn(),sP())}function DU(e,t,n,i,r){vve(t,$9(e,n,i,r))}function RU(e=1){lE(sP()+e)}function TU(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function Zo(e){let t=Jpe();return rz(t,Fo+e)}function cn(e,t=""){let n=Sn(),i=vr(),r=e+Fo,o=i.firstCreatePass?y0(i,r,1,t,null):i.data[r],s=wCe(i,n,o,t,e);n[r]=s,dE()&&vE(i,n,s,o),Gh(o,!1)}var wCe=(e,t,n,i,r)=>(uE(!0),Fme(t[mr],i));function ko(e){return sx("",e,""),ko}function sx(e,t,n){let i=Sn(),r=cU(i,e,t,n);return r!==sd&&_Ce(i,Hp(),r),sx}function _Ce(e,t,n){let i=iz(t,e);kme(e[mr],i,n)}function WP(e,t,n){Vz(t)&&(t=t());let i=Sn(),r=p0();if(Sl(i,r,t)){let o=vr(),s=cE();_P(o,s,i,e,t,i[mr],n,!1)}return WP}function IU(e,t){let n=Vz(e);return n&&e.set(t),n}function jP(e,t){let n=Sn(),i=vr(),r=ms();return EU(i,n,n[mr],r,e,t),jP}var SCe={};function $P(e){let t=vr(),n=Sn(),i=e+Fo,r=y0(t,i,128,null,null);return Gh(r,!1),TU(t,n,i,SCe),$P}function ECe(e,t,n){let i=vr();if(i.firstCreatePass){let r=Jc(e);HM(n,i.data,i.blueprint,r,!0),HM(t,i.data,i.blueprint,r,!1)}}function HM(e,t,n,i,r){if(e=Xo(e),Array.isArray(e))for(let o=0;o<e.length;o++)HM(e[o],t,n,i,r);else{let o=vr(),s=Sn(),a=ms(),l=t0(e)?e:Xo(e.provide),c=KG(e),d=a.providerIndexes&1048575,u=a.directiveStart,f=a.providerIndexes>>20;if(t0(e)||!e.multi){let p=new Np(c,r,We),m=jA(l,t,r?d:d+f,u);m===-1?(rM(HS(a,s),o,l),WA(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{let p=jA(l,t,d+f,u),m=jA(l,t,d,d+f),v=p>=0&&n[p],C=m>=0&&n[m];if(r&&!C||!r&&!v){rM(HS(a,s),o,l);let y=TCe(r?RCe:DCe,n.length,r,i,c);!r&&C&&(n[m].providerFactory=y),WA(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=FU(n[r?m:p],c,!r&&i);WA(o,e,p>-1?p:m,y)}!r&&i&&C&&n[m].componentProviders++}}}function WA(e,t,n,i){let r=t0(t),o=kpe(t);if(r||o){let l=(o?Xo(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let d=c.indexOf(n);d===-1?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function FU(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function jA(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function DCe(e,t,n,i){return GM(this.multi,[])}function RCe(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Wy(n,n[wn],this.providerFactory.index,i);o=a.slice(0,s),GM(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],GM(r,o);return o}function GM(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function TCe(e,t,n,i,r){let o=new Np(e,n,We);return o.multi=[],o.index=t,o.componentProviders=0,FU(o,r,i&&!n),o}function fi(e,t=[]){return n=>{n.providersResolver=(i,r)=>ECe(i,r?r(e):e,t)}}function kU(e,t,n,i,r,o){return FCe(Sn(),uz(),e,t,n,i,r,o)}function AU(e,t){let n=e[t];return n===sd?void 0:n}function ICe(e,t,n,i,r,o){let s=t+n;return Sl(e,s,r)?iU(e,s+1,o?i.call(o,r):i(r)):AU(e,s+1)}function FCe(e,t,n,i,r,o,s,a){let l=t+n;return Lve(e,l,r,o,s)?iU(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):AU(e,l+3)}function wE(e,t){let n=vr(),i,r=e+Fo;n.firstCreatePass?(i=kCe(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=Fp(i.type,!0)),s,a=ma(We);try{let l=VS(!1),c=o();return VS(l),TU(n,Sn(),r,c),c}finally{ma(a)}}function kCe(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function _E(e,t,n){let i=e+Fo,r=Sn(),o=rz(r,i);return ACe(r,i)?ICe(r,uz(),t,o.transform,n,o):o.transform(n)}function ACe(e,t){return e[wn].data[t].pure}function jh(e,t){return yE(e,t)}var Ky=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qP=new Ky("19.2.5"),zM=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},MU=(()=>{class e{compileModuleSync(n){return new PM(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=UG(n),o=f9(r.declarations).reduce((s,a)=>{let l=kp(a);return l&&s.push(new a0(l)),s},[]);return new zM(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var MCe=(()=>{class e{zone=O(pt);changeDetectionScheduler=O(Bp);applicationRef=O(qa);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PCe=new Re("",{factory:()=>!1});function PU({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new pt(ke(z({},LU()),{scheduleInRootZone:n})),[{provide:pt,useFactory:e},{provide:e0,multi:!0,useFactory:()=>{let i=O(MCe,{optional:!0});return()=>i.initialize()}},{provide:e0,multi:!0,useFactory:()=>{let i=O(OCe);return()=>{i.initialize()}}},t===!0?{provide:Mz,useValue:!0}:[],{provide:Pz,useValue:n??Az}]}function OU(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,i=PU({ngZoneFactory:()=>{let r=LU(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&ix("NgZone_CoalesceEvent"),new pt(r)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return d0([{provide:PCe,useValue:!0},{provide:hE,useValue:!1},i])}function LU(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var OCe=(()=>{class e{subscription=new Gn;initialized=!1;zone=O(pt);pendingTasks=O(zh);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var LCe=(()=>{class e{appRef=O(qa);taskService=O(zh);ngZone=O(pt);zonelessEnabled=O(hE);tracing=O(C0,{optional:!0});disableScheduling=O(Mz,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Gn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zS):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Pz,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lM||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?qH:Oz;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zS+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qH(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NCe(){return typeof $localize<"u"&&$localize.locale||QS}var KP=new Re("",{providedIn:"root",factory:()=>O(KP,Mn.Optional|Mn.SkipSelf)||NCe()});var UM=new Re(""),BCe=new Re("");function Ny(e){return!e.moduleRef}function VCe(e){let t=Ny(e)?e.r3Injector:e.moduleRef.injector,n=t.get(pt);return n.run(()=>{Ny(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Xs,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Ny(e)){let o=()=>t.destroy(),s=e.platformInjector.get(UM);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(UM);s.add(o),e.moduleRef.onDestroy(()=>{DS(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return GCe(i,n,()=>{let o=t.get(lU);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(KP,QS);if(mCe(s||QS),!t.get(BCe,!0))return Ny(e)?t.get(qa):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ny(e)){let l=t.get(qa);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return HCe(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function HCe(e,t){let n=e.injector.get(qa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new ft(-403,!1);t.push(e)}function GCe(e,t,n){try{let i=n();return Wh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var RS=null;function zCe(e=[],t){return Pn.create({name:t,providers:[{provide:iE,useValue:"platform"},{provide:UM,useValue:new Set([()=>RS=null])},...e]})}function UCe(e=[]){if(RS)return RS;let t=zCe(e);return RS=t,Hve(),WCe(t),t}function WCe(e){let t=e.get(fP,null);Ka(e,()=>{t?.forEach(n=>n())})}var Fi=(()=>{class e{static __NG_ELEMENT_ID__=jCe}return e})();function jCe(e){return $Ce(ms(),Sn(),(e&16)===16)}function $Ce(e,t,n){if(h0(e)&&!n){let i=td(e.index,t);return new $y(i,i)}else if(e.type&175){let i=t[_l];return new $y(i,t)}return null}var WM=class{constructor(){}supports(t){return nU(t)}create(t){return new jM(t)}},qCe=(e,t)=>t,jM=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||qCe}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<_G(i,r,o)?n:i,a=_G(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let f=0;f<c;f++){let p=f<o.length?o[f]:o[f]=0,m=p+f;d<=m&&m<c&&(o[f]=p+1)}let u=s.previousIndex;o[u]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!nU(t))throw new ft(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,Mve(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new $M(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new JS),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new JS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},$M=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},qM=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},JS=class{map=new Map;put(t){let n=t.trackById,i=this.map.get(n);i||(i=new qM,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function _G(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function SG(){return new SE([new WM])}var SE=(()=>{class e{factories;static \u0275prov=Se({token:e,providedIn:"root",factory:SG});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||SG()),deps:[[e,new VG,new nE]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new ft(901,!1)}}return e})();function NU(e){Li(8);try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=UCe(i),o=[PU({}),{provide:Bp,useExisting:LCe},...n||[]],s=new YS({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return VCe({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Li(9)}}function pe(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function x0(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function Zs(e){return CA(e)}function ad(e,t){return V1(e,t?.equal)}var KM=class{[pa];constructor(t){this[pa]=t}destroy(){this[pa].destroy()}};function $h(e,t){!t?.injector&&Jy($h);let n=t?.injector??O(Pn),i=t?.manualCleanup!==!0?n.get(Xi):null,r,o=n.get(gP,null,{optional:!0}),s=n.get(Bp);return o!==null&&!t?.forceRoot?(r=YCe(o.view,s,e),i instanceof GS&&i._lView===o.view&&(i=null)):r=ZCe(e,n.get(sU),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new KM(r)}var BU=ke(z({},Pm),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:jy,run(){if(this.dirty=!1,this.hasRun&&!L1(this))return;this.hasRun=!0;let e=i=>(this.cleanupFns??=[]).push(i),t=Dy(this),n=LS(!1);try{this.maybeCleanup(),this.fn(e)}finally{LS(n),O1(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),KCe=ke(z({},BU),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ry(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),XCe=ke(z({},BU),{consumerMarkedDirty(){this.view[an]|=8192,f0(this.view),this.notifier.notify(13)},destroy(){Ry(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Mp]?.delete(this)}});function YCe(e,t,n){let i=Object.create(XCe);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=n,e[Mp]??=new Set,e[Mp].add(i),i.consumerMarkedDirty(i),i}function ZCe(e,t,n){let i=Object.create(KCe);return i.fn=e,i.scheduler=t,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function EE(e,t){let n=kp(e),i=t.elementInjector||rE();return new a0(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}var Ot=new Re("");var GU=null;function Dl(){return GU}function XP(e){GU??=e}var ax=class{},YP=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>O(zU),providedIn:"platform"})}return e})();var zU=(()=>{class e extends YP{_location;_history;_doc=O(Ot);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dl().getBaseHref(this._doc)}onPopState(n){let i=Dl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Dl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function UU(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function VU(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function qh(e){return e&&e[0]!=="?"?`?${e}`:e}var DE=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>O(jU),providedIn:"root"})}return e})(),WU=new Re(""),jU=(()=>{class e extends DE{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return UU(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+qh(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+qh(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+qh(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(lt(YP),lt(WU,8))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kh=(()=>{class e{_subject=new ut;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=eye(VU(HU(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+qh(i))}normalize(n){return e.stripTrailingSlash(JCe(this._basePath,HU(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qh(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qh(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=qh;static joinWithSlash=UU;static stripTrailingSlash=VU;static \u0275fac=function(i){return new(i||e)(lt(DE))};static \u0275prov=Se({token:e,factory:()=>QCe(),providedIn:"root"})}return e})();function QCe(){return new Kh(lt(DE))}function JCe(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function HU(e){return e.replace(/\/index.html$/,"")}function eye(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ZP=/\s+/,$U=[],b0=(()=>{class e{_ngEl;_renderer;initialClasses=$U;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(ZP):$U}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(ZP):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(ZP).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(We(Tt),We(Fr))};static \u0275dir=Lt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var RE=class{$implicit;ngForOf;index;count;constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ld=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new RE(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),qU(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);qU(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(We($r),We(ya),We(SE))};static \u0275dir=Lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function qU(e,t){e.context.$implicit=t.item}var Ya=(()=>{class e{_viewContainer;_context=new TE;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){KU(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){KU(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(We($r),We(ya))};static \u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),TE=class{$implicit=null;ngIf=null};function KU(e,t){if(e&&!e.createEmbeddedView)throw new ft(2020,!1)}var e3=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||e)(We($r))};static \u0275dir=Lt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Yo]})}return e})();function tye(e,t){return new ft(2100,!1)}var QP=class{createSubscription(t,n){return Zs(()=>t.subscribe({next:n,error:i=>{throw i}}))}dispose(t){Zs(()=>t.unsubscribe())}},JP=class{createSubscription(t,n){return t.then(n,i=>{throw i})}dispose(t){}},nye=new JP,iye=new QP,lx=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Wh(n))return nye;if(HP(n))return iye;throw tye(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||e)(We(Fi,16))};static \u0275pipe=Z9({name:"async",type:e,pure:!1})}return e})();var oi=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({})}return e})();function cx(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var IE="browser",XU="server";function t3(e){return e===IE}function FE(e){return e===XU}var Wp=class{};var ME=new Re(""),o3=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new ft(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(lt(ME),lt(pt))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),dx=class{_doc;constructor(t){this._doc=t}manager},kE="ng-app-id";function YU(e){for(let t of e)t.remove()}function ZU(e,t){let n=t.createElement("style");return n.textContent=e,n}function rye(e,t,n,i){let r=e.head?.querySelectorAll(`style[${kE}="${t}"],link[${kE}="${t}"]`);if(r)for(let o of r)o.removeAttribute(kE),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function i3(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var s3=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=FE(o),rye(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,ZU);i?.forEach(r=>this.addUsage(r,this.external,i3))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(YU(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])YU(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,ZU(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,i3(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(kE,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(lt(Ot),lt(zp),lt(nx,8),lt(wu))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),n3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},a3=/%COMP%/g;var JU="%COMP%",oye=`_nghost-${JU}`,sye=`_ngcontent-${JU}`,aye=!0,lye=new Re("",{providedIn:"root",factory:()=>aye});function cye(e){return sye.replace(a3,e)}function dye(e){return oye.replace(a3,e)}function eW(e,t){return t.map(n=>n.replace(a3,e))}var l3=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=FE(a),this.defaultRenderer=new ux(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===nd.ShadowDom&&(i=ke(z({},i),{encapsulation:nd.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof AE?r.applyToHost(n):r instanceof hx&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case nd.Emulated:o=new AE(l,c,i,this.appId,d,s,a,u,f);break;case nd.ShadowDom:return new r3(l,c,n,i,s,a,this.nonce,u,f);default:o=new hx(l,c,i,d,s,a,u,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(lt(o3),lt(s3),lt(zp),lt(lye),lt(Ot),lt(wu),lt(pt),lt(nx),lt(C0,8))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),ux=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(n3[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(QU(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(QU(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new ft(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=n3[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=n3[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Cu.DashCase|Cu.Important)?t.style.setProperty(n,i,r&Cu.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Cu.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=Dl().getGlobalEventTarget(this.doc,t),!t))throw new ft(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function QU(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var r3=class extends ux{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=eW(r.id,d);for(let f of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let f of u){let p=i3(f,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hx=class extends ux{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?eW(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},AE=class extends hx{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,c){let d=r+"-"+i.id;super(t,n,i,o,s,a,l,c,d),this.contentAttr=cye(d),this.hostAttr=dye(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var c3=class extends ax{supportsDOMEvents=!0},PE=class e extends c3{static makeCurrent(){XP(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=uye();return n==null?null:hye(n)}resetBaseElement(){fx=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cx(document.cookie,t)}},fx=null;function uye(){return fx=fx||document.querySelector("base"),fx?fx.getAttribute("href"):null}function hye(e){return new URL(e,document.baseURI).pathname}var fye=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),nW=(()=>{class e extends dx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(lt(Ot))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),tW=["alt","control","meta","shift"],pye={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gye={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},iW=(()=>{class e extends dx{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dl().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),tW.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=pye[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),tW.forEach(s=>{if(s!==r){let a=gye[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(lt(Ot))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})();function d3(e,t){return NU(z({rootComponent:e},mye(t)))}function mye(e){return{appProviders:[...bye,...e?.providers??[]],platformProviders:xye}}function vye(){PE.makeCurrent()}function Cye(){return new Xs}function yye(){return $z(document),document}var xye=[{provide:wu,useValue:IE},{provide:fP,useValue:vye,multi:!0},{provide:Ot,useFactory:yye}];var bye=[{provide:iE,useValue:"root"},{provide:Xs,useFactory:Cye},{provide:ME,useClass:nW,multi:!0,deps:[Ot]},{provide:ME,useClass:iW,multi:!0,deps:[Ot]},l3,s3,o3,{provide:yo,useExisting:l3},{provide:Wp,useClass:fye},[]];var _0=class{},S0=class{},dd=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=n.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var NE=class{encodeKey(t){return rW(t)}encodeValue(t){return rW(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function wye(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var _ye=/%(\d[a-f0-9])/gi,Sye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rW(e){return encodeURIComponent(e).replace(_ye,(t,n)=>Sye[n]??t)}function OE(e){return`${e}`}var Eu=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new NE,t.fromString){if(t.fromObject)throw new ft(2805,!1);this.map=wye(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(OE):[OE(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(OE(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(OE(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var BE=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Eye(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function oW(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function sW(e){return typeof Blob<"u"&&e instanceof Blob}function aW(e){return typeof FormData<"u"&&e instanceof FormData}function Dye(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var px="Content-Type",VE="Accept",g3="X-Request-URL",cW="text/plain",dW="application/json",uW=`${dW}, ${cW}, */*`,w0=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,i,r){this.url=n,this.method=t.toUpperCase();let o;if(Eye(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new dd,this.context??=new BE,!this.params)this.params=new Eu,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||oW(this.body)||sW(this.body)||aW(this.body)||Dye(this.body)?this.body:this.body instanceof Eu?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aW(this.body)?null:sW(this.body)?this.body.type||null:oW(this.body)?null:typeof this.body=="string"?cW:this.body instanceof Eu?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?dW:null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,p)=>f.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,p)=>f.set(p,t.setParams[p]),d)),new e(n,i,s,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Du=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Du||{}),E0=class{headers;status;statusText;url;ok;type;constructor(t,n=200,i="OK"){this.headers=t.headers||new dd,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},gx=class e extends E0{constructor(t={}){super(t)}type=Du.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},D0=class e extends E0{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Du.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Su=class extends E0{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},hW=200,Rye=204;function u3(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var R0=(()=>{class e{handler;constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof w0)o=n;else{let l;r.headers instanceof dd?l=r.headers:l=new dd(r.headers);let c;r.params&&(r.params instanceof Eu?c=r.params:c=new Eu({fromObject:r.params})),o=new w0(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Et(o).pipe(Oh(l=>this.handler.handle(l)));if(n instanceof w0||r.observe==="events")return s;let a=s.pipe(pn(l=>l instanceof D0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Pt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ft(2806,!1);return l.body}));case"blob":return a.pipe(Pt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ft(2807,!1);return l.body}));case"text":return a.pipe(Pt(l=>{if(l.body!==null&&typeof l.body!="string")throw new ft(2808,!1);return l.body}));case"json":default:return a.pipe(Pt(l=>l.body))}case"response":return a;default:throw new ft(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Eu().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,u3(r,i))}post(n,i,r={}){return this.request("POST",n,u3(r,i))}put(n,i,r={}){return this.request("PUT",n,u3(r,i))}static \u0275fac=function(i){return new(i||e)(lt(_0))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),Tye=/^\)\]\}',?\n/;function lW(e){if(e.url)return e.url;let t=g3.toLocaleLowerCase();return e.headers.get(t)}var fW=new Re(""),LE=(()=>{class e{fetchImpl=O(h3,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=O(pt);handle(n){return new Gt(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(f3,o=>i.error(new Su({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Wr(this,null,function*(){let o=this.createRequestInit(n),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,z({signal:i},o)));Iye(p),r.next({type:Du.Sent}),s=yield p}catch(p){r.error(new Su({error:p,status:p.status??0,statusText:p.statusText,url:n.urlWithParams,headers:p.headers}));return}let a=new dd(s.headers),l=s.statusText,c=lW(s)??n.urlWithParams,d=s.status,u=null;if(n.reportProgress&&r.next(new gx({headers:a,status:d,statusText:l,url:c})),s.body){let p=s.headers.get("content-length"),m=[],v=s.body.getReader(),C=0,y,b,w=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Wr(this,null,function*(){for(;;){let{done:D,value:R}=yield v.read();if(D)break;if(m.push(R),C+=R.length,n.reportProgress){b=n.responseType==="text"?(b??"")+(y??=new TextDecoder).decode(R,{stream:!0}):void 0;let T=()=>r.next({type:Du.DownloadProgress,total:p?+p:void 0,loaded:C,partialText:b});w?w.run(T):T()}}}));let S=this.concatChunks(m,C);try{let D=s.headers.get(px)??"";u=this.parseBody(n,S,D)}catch(D){r.error(new Su({error:D,headers:new dd(s.headers),status:s.status,statusText:s.statusText,url:lW(s)??n.urlWithParams}));return}}d===0&&(d=u?hW:0),d>=200&&d<300?(r.next(new D0({body:u,headers:a,status:d,statusText:l,url:c})),r.complete()):r.error(new Su({error:u,headers:a,status:d,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(Tye,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has(VE)||(i[VE]=uW),!n.headers.has(px)){let o=n.detectContentTypeHeader();o!==null&&(i[px]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),h3=class{};function f3(){}function Iye(e){e.then(f3,f3)}function Fye(e,t){return t(e)}function kye(e,t,n){return(i,r)=>Ka(n,()=>t(i,o=>e(o,r)))}var pW=new Re(""),gW=new Re(""),mW=new Re("",{providedIn:"root",factory:()=>!0});var HE=(()=>{class e extends _0{backend;injector;chain=null;pendingTasks=O(zh);contributeToStability=O(mW);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(pW),...this.injector.get(gW,[])]));this.chain=i.reduceRight((r,o)=>kye(r,o,this.injector),Fye)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(uc(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(lt(S0),lt(io))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})();var Aye=/^\)\]\}',?\n/,Mye=RegExp(`^${g3}:`,"m");function Pye(e){return"responseURL"in e&&e.responseURL?e.responseURL:Mye.test(e.getAllResponseHeaders())?e.getResponseHeader(g3):null}var p3=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ft(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ki(i.\u0275loadImpl()):Et(null)).pipe(Ko(()=>new Gt(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,C)=>s.setRequestHeader(v,C.join(","))),n.headers.has(VE)||s.setRequestHeader(VE,uW),!n.headers.has(px)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(px,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",C=new dd(s.getAllResponseHeaders()),y=Pye(s)||n.url;return l=new gx({headers:C,status:s.status,statusText:v,url:y}),l},d=()=>{let{headers:v,status:C,statusText:y,url:b}=c(),w=null;C!==Rye&&(w=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=w?hW:0);let S=C>=200&&C<300;if(n.responseType==="json"&&typeof w=="string"){let D=w;w=w.replace(Aye,"");try{w=w!==""?JSON.parse(w):null}catch(R){w=D,S&&(S=!1,w={error:R,text:w})}}S?(o.next(new D0({body:w,headers:v,status:C,statusText:y,url:b||void 0})),o.complete()):o.error(new Su({error:w,headers:v,status:C,statusText:y,url:b||void 0}))},u=v=>{let{url:C}=c(),y=new Su({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(y)},f=!1,p=v=>{f||(o.next(c()),f=!0);let C={type:Du.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},m=v=>{let C={type:Du.UploadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),o.next(C)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Du.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(lt(Wp))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})(),vW=new Re(""),Oye="XSRF-TOKEN",Lye=new Re("",{providedIn:"root",factory:()=>Oye}),Nye="X-XSRF-TOKEN",Bye=new Re("",{providedIn:"root",factory:()=>Nye}),mx=class{},Vye=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=cx(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||e)(lt(Ot),lt(wu),lt(Lye))};static \u0275prov=Se({token:e,factory:e.\u0275fac})}return e})();function Hye(e,t){let n=e.url.toLowerCase();if(!O(vW)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=O(mx).getToken(),r=O(Bye);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var m3=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(m3||{});function Gye(e,t){return{\u0275kind:e,\u0275providers:t}}function v3(...e){let t=[R0,p3,HE,{provide:_0,useExisting:HE},{provide:S0,useFactory:()=>O(fW,{optional:!0})??O(p3)},{provide:pW,useValue:Hye,multi:!0},{provide:vW,useValue:!0},{provide:mx,useClass:Vye}];for(let n of e)t.push(...n.\u0275providers);return d0(t)}function C3(){return Gye(m3.Fetch,[LE,{provide:fW,useExisting:LE},{provide:S0,useExisting:LE}])}var yW=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(lt(Ot))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var jp=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=lt(zye),r},providedIn:"root"})}return e})(),zye=(()=>{class e extends jp{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case vs.NONE:return i;case vs.HTML:return Uh(i,"HTML")?pc(i):vP(this._doc,String(i)).toString();case vs.STYLE:return Uh(i,"Style")?pc(i):i;case vs.SCRIPT:if(Uh(i,"Script"))return pc(i);throw new ft(5200,!1);case vs.URL:return Uh(i,"URL")?pc(i):pE(String(i));case vs.RESOURCE_URL:if(Uh(i,"ResourceURL"))return pc(i);throw new ft(5201,!1);default:throw new ft(5202,!1)}}bypassSecurityTrustHtml(n){return Jz(n)}bypassSecurityTrustStyle(n){return e9(n)}bypassSecurityTrustScript(n){return t9(n)}bypassSecurityTrustUrl(n){return n9(n)}bypassSecurityTrustResourceUrl(n){return i9(n)}static \u0275fac=function(i){return new(i||e)(lt(Ot))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Cn="primary",Fx=Symbol("RouteTitle"),S3=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Kp(e){return new S3(e)}function RW(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Uye(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ud(e[n],t[n]))return!1;return!0}function ud(e,t){let n=e?E3(e):void 0,i=t?E3(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!TW(e[r],t[r]))return!1;return!0}function E3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function TW(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function IW(e){return e.length>0?e[e.length-1]:null}function Yh(e){return cS(e)?e:Wh(e)?Ki(Promise.resolve(e)):Et(e)}var Wye={exact:kW,subset:AW},FW={exact:jye,subset:$ye,ignored:()=>!0};function xW(e,t,n){return Wye[n.paths](e.root,t.root,n.matrixParams)&&FW[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function jye(e,t){return ud(e,t)}function kW(e,t,n){if(!$p(e.segments,t.segments)||!UE(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!kW(e.children[i],t.children[i],n))return!1;return!0}function $ye(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>TW(e[n],t[n]))}function AW(e,t,n){return MW(e,t,t.segments,n)}function MW(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!$p(r,n)||t.hasChildren()||!UE(r,n,i))}else if(e.segments.length===n.length){if(!$p(e.segments,n)||!UE(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!AW(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!$p(e.segments,r)||!UE(e.segments,r,i)||!e.children[Cn]?!1:MW(e.children[Cn],t,o,i)}}function UE(e,t,n){return t.every((i,r)=>FW[n](e[r].parameters,i.parameters))}var fd=class{root;queryParams;fragment;_queryParamMap;constructor(t=new pi([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Kp(this.queryParams),this._queryParamMap}toString(){return Xye.serialize(this)}},pi=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return WE(this)}},Xh=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Kp(this.parameters),this._parameterMap}toString(){return OW(this)}};function qye(e,t){return $p(e,t)&&e.every((n,i)=>ud(n.parameters,t[i].parameters))}function $p(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function Kye(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===Cn&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Cn&&(n=n.concat(t(r,i)))}),n}var kx=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>new Xp,providedIn:"root"})}return e})(),Xp=class{parse(t){let n=new R3(t);return new fd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${vx(t.root,!0)}`,i=Qye(t.queryParams),r=typeof t.fragment=="string"?`#${Yye(t.fragment)}`:"";return`${n}${i}${r}`}},Xye=new Xp;function WE(e){return e.segments.map(t=>OW(t)).join("/")}function vx(e,t){if(!e.hasChildren())return WE(e);if(t){let n=e.children[Cn]?vx(e.children[Cn],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Cn&&i.push(`${r}:${vx(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Kye(e,(i,r)=>r===Cn?[vx(e.children[Cn],!1)]:[`${r}:${vx(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Cn]!=null?`${WE(e)}/${n[0]}`:`${WE(e)}/(${n.join("//")})`}}function PW(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function GE(e){return PW(e).replace(/%3B/gi,";")}function Yye(e){return encodeURI(e)}function D3(e){return PW(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jE(e){return decodeURIComponent(e)}function bW(e){return jE(e.replace(/\+/g,"%20"))}function OW(e){return`${D3(e.path)}${Zye(e.parameters)}`}function Zye(e){return Object.entries(e).map(([t,n])=>`;${D3(t)}=${D3(n)}`).join("")}function Qye(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${GE(n)}=${GE(r)}`).join("&"):`${GE(n)}=${GE(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Jye=/^[^\/()?;#]+/;function x3(e){let t=e.match(Jye);return t?t[0]:""}var exe=/^[^\/()?;=#]+/;function txe(e){let t=e.match(exe);return t?t[0]:""}var nxe=/^[^=?&#]+/;function ixe(e){let t=e.match(nxe);return t?t[0]:""}var rxe=/^[^&#]+/;function oxe(e){let t=e.match(rxe);return t?t[0]:""}var R3=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pi([],{}):new pi([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Cn]=new pi(t,n)),i}parseSegment(){let t=x3(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ft(4009,!1);return this.capture(t),new Xh(jE(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=txe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=x3(this.remaining);r&&(i=r,this.capture(i))}t[jE(n)]=jE(i)}parseQueryParam(t){let n=ixe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=oxe(this.remaining);s&&(i=s,this.capture(i))}let r=bW(n),o=bW(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=x3(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ft(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Cn);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Cn]:new pi([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ft(4011,!1)}};function LW(e){return e.segments.length>0?new pi([],{[Cn]:e}):e}function NW(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=NW(r);if(i===Cn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new pi(e.segments,t);return sxe(n)}function sxe(e){if(e.numberOfChildren===1&&e.children[Cn]){let t=e.children[Cn];return new pi(e.segments.concat(t.segments),t.children)}return e}function A0(e){return e instanceof fd}function BW(e,t,n=null,i=null){let r=VW(e);return HW(r,t,n,i)}function VW(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new pi(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=LW(i);return t??r}function HW(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return b3(r,r,r,n,i);let o=axe(t);if(o.toRoot())return b3(r,r,new pi([],{}),n,i);let s=lxe(o,r,e),a=s.processChildren?yx(s.segmentGroup,s.index,o.commands):zW(s.segmentGroup,s.index,o.commands);return b3(r,s.segmentGroup,a,n,i)}function qE(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function bx(e){return typeof e=="object"&&e!=null&&e.outlets}function b3(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=n:s=GW(e,t,n);let a=LW(NW(s));return new fd(a,o,r)}function GW(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=GW(o,t,n)}),new pi(e.segments,i)}var KE=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&qE(i[0]))throw new ft(4003,!1);let r=i.find(bx);if(r&&r!==IW(i))throw new ft(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function axe(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new KE(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new KE(n,t,i)}var F0=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function lxe(e,t,n){if(e.isAbsolute)return new F0(t,!0,0);if(!n)return new F0(t,!1,NaN);if(n.parent===null)return new F0(n,!0,0);let i=qE(e.commands[0])?0:1,r=n.segments.length-1+i;return cxe(n,r,e.numberOfDoubleDots)}function cxe(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ft(4005,!1);r=i.segments.length}return new F0(i,!1,r-o)}function dxe(e){return bx(e[0])?e[0].outlets:{[Cn]:e}}function zW(e,t,n){if(e??=new pi([],{}),e.segments.length===0&&e.hasChildren())return yx(e,t,n);let i=uxe(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new pi(e.segments.slice(0,i.pathIndex),{});return o.children[Cn]=new pi(e.segments.slice(i.pathIndex),e.children),yx(o,0,r)}else return i.match&&r.length===0?new pi(e.segments,{}):i.match&&!e.hasChildren()?T3(e,t,n):i.match?yx(e,0,r):T3(e,t,n)}function yx(e,t,n){if(n.length===0)return new pi(e.segments,{});{let i=dxe(n),r={};if(Object.keys(i).some(o=>o!==Cn)&&e.children[Cn]&&e.numberOfChildren===1&&e.children[Cn].segments.length===0){let o=yx(e.children[Cn],t,n);return new pi(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=zW(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new pi(e.segments,r)}}function uxe(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(bx(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!_W(l,c,s))return o;i+=2}else{if(!_W(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function T3(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(bx(o)){let l=hxe(o.outlets);return new pi(i,l)}if(r===0&&qE(n[0])){let l=e.segments[t];i.push(new Xh(l.path,wW(n[0]))),r++;continue}let s=bx(o)?o.outlets[Cn]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&qE(a)?(i.push(new Xh(s,wW(a))),r+=2):(i.push(new Xh(s,{})),r++)}return new pi(i,{})}function hxe(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=T3(new pi([],{}),0,i))}),t}function wW(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function _W(e,t,n){return e==n.path&&ud(t,n.parameters)}var $E="imperative",Ao=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ao||{}),Qa=class{id;url;constructor(t,n){this.id=t,this.url=n}},Yp=class extends Qa{type=Ao.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ru=class extends Qa{urlAfterRedirects;type=Ao.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wa=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(wa||{}),wx=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(wx||{}),hd=class extends Qa{reason;code;type=Ao.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tu=class extends Qa{reason;code;type=Ao.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},M0=class extends Qa{error;target;type=Ao.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_x=class extends Qa{urlAfterRedirects;state;type=Ao.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},XE=class extends Qa{urlAfterRedirects;state;type=Ao.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YE=class extends Qa{urlAfterRedirects;state;shouldActivate;type=Ao.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ZE=class extends Qa{urlAfterRedirects;state;type=Ao.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QE=class extends Qa{urlAfterRedirects;state;type=Ao.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},JE=class{route;type=Ao.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},e2=class{route;type=Ao.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},t2=class{snapshot;type=Ao.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n2=class{snapshot;type=Ao.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i2=class{snapshot;type=Ao.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r2=class{snapshot;type=Ao.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sx=class{},P0=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function fxe(e,t){return e.providers&&!e._injector&&(e._injector=bE(e.providers,t,`Route: ${e.path}`)),e._injector??t}function mc(e){return e.outlet||Cn}function pxe(e,t){let n=e.filter(i=>mc(i)===t);return n.push(...e.filter(i=>mc(i)!==t)),n}function Ax(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var o2=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ax(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new N0(this.rootInjector)}},N0=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new o2(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(lt(io))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),s2=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=I3(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=I3(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=F3(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return F3(t,this._root).map(n=>n.value)}};function I3(e,t){if(e===t.value)return t;for(let n of t.children){let i=I3(e,n);if(i)return i}return null}function F3(e,t){if(e===t.value)return[t];for(let n of t.children){let i=F3(e,n);if(i.length)return i.unshift(t),i}return[]}var Za=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function I0(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ex=class extends s2{snapshot;constructor(t,n){super(t),this.snapshot=n,B3(this,t)}toString(){return this.snapshot.toString()}};function UW(e){let t=gxe(e),n=new ii([new Xh("",{})]),i=new ii({}),r=new ii({}),o=new ii({}),s=new ii(""),a=new pd(n,i,o,s,r,Cn,e,t.root);return a.snapshot=t.root,new Ex(new Za(a,[]),t)}function gxe(e){let t={},n={},i={},r="",o=new qp([],t,i,r,n,Cn,e,null,{});return new Dx("",new Za(o,[]))}var pd=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Pt(c=>c[Fx]))??Et(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pt(t=>Kp(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pt(t=>Kp(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function a2(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:z(z({},t.params),e.params),data:z(z({},t.data),e.data),resolve:z(z(z(z({},e.data),t.data),r?.data),e._resolvedData)}:i={params:z({},e.params),data:z({},e.data),resolve:z(z({},e.data),e._resolvedData??{})},r&&jW(r)&&(i.resolve[Fx]=r.title),i}var qp=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fx]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kp(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Dx=class extends s2{url;constructor(t,n){super(n),this.url=t,B3(this,n)}toString(){return WW(this._root)}};function B3(e,t){t.value._routerState=e,t.children.forEach(n=>B3(e,n))}function WW(e){let t=e.children.length>0?` { ${e.children.map(WW).join(", ")} } `:"";return`${e.value}${t}`}function w3(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ud(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ud(t.params,n.params)||e.paramsSubject.next(n.params),Uye(t.url,n.url)||e.urlSubject.next(n.url),ud(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function k3(e,t){let n=ud(e.params,t.params)&&qye(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||k3(e.parent,t.parent))}function jW(e){return typeof e.title=="string"||e.title===null}var $W=new Re(""),Mx=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Cn;activateEvents=new _e;deactivateEvents=new _e;attachEvents=new _e;detachEvents=new _e;routerOutletData=Nz(void 0);parentContexts=O(N0);location=O($r);changeDetector=O(Fi);inputBinder=O(u2,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ft(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ft(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ft(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ft(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new A3(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Yo]})}return e})(),A3=class{route;childContexts;parent;outletData;constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===pd?this.route:t===N0?this.childContexts:t===$W?this.outletData:this.parent.get(t,n)}},u2=new Re("");function mxe(e,t,n){let i=Rx(e,t._root,n?n._root:void 0);return new Ex(i,t)}function Rx(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=vxe(e,t,n);return new Za(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Rx(e,a)),s}}let i=Cxe(t.value),r=t.children.map(o=>Rx(e,o));return new Za(i,r)}}function vxe(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Rx(e,i,r);return Rx(e,i)})}function Cxe(e){return new pd(new ii(e.url),new ii(e.params),new ii(e.queryParams),new ii(e.fragment),new ii(e.data),e.outlet,e.component,e)}var O0=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},qW="ngNavigationCancelingError";function l2(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=A0(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=KW(!1,wa.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function KW(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[qW]=!0,n.cancellationCode=t,n}function yxe(e){return XW(e)&&A0(e.url)}function XW(e){return!!e&&e[qW]}var xxe=(e,t,n,i)=>Pt(r=>(new M3(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),M3=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),w3(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=I0(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=I0(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=I0(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=I0(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new r2(o.value.snapshot))}),t.children.length&&this.forwardEvent(new n2(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(w3(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),w3(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},c2=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},k0=class{component;route;constructor(t,n){this.component=t,this.route=n}};function bxe(e,t,n){let i=e._root,r=t?t._root:null;return Cx(i,r,n,[i.value])}function wxe(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function B0(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!kG(e)?e:t.get(e):i}function Cx(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=I0(t);return e.children.forEach(s=>{_xe(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xx(a,n.getContext(s),r)),r}function _xe(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Sxe(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new c2(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cx(e,t,a?a.children:null,i,r):Cx(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new k0(a.outlet.component,s))}else s&&xx(t,a,r),r.canActivateChecks.push(new c2(i)),o.component?Cx(e,null,a?a.children:null,i,r):Cx(e,null,n,i,r);return r}function Sxe(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!$p(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$p(e.url,t.url)||!ud(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!k3(e,t)||!ud(e.queryParams,t.queryParams);case"paramsChange":default:return!k3(e,t)}}function xx(e,t,n){let i=I0(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?xx(s,t.children.getContext(o),n):xx(s,null,n):xx(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new k0(t.outlet.component,r)):n.canDeactivateChecks.push(new k0(null,r)):n.canDeactivateChecks.push(new k0(null,r))}function Px(e){return typeof e=="function"}function Exe(e){return typeof e=="boolean"}function Dxe(e){return e&&Px(e.canLoad)}function Rxe(e){return e&&Px(e.canActivate)}function Txe(e){return e&&Px(e.canActivateChild)}function Ixe(e){return e&&Px(e.canDeactivate)}function Fxe(e){return e&&Px(e.canMatch)}function YW(e){return e instanceof fu||e?.name==="EmptyError"}var zE=Symbol("INITIAL_VALUE");function L0(){return Ko(e=>Wm(e.map(t=>t.pipe(Tr(1),qo(zE)))).pipe(Pt(t=>{for(let n of t)if(n!==!0){if(n===zE)return zE;if(n===!1||kxe(n))return n}return!0}),pn(t=>t!==zE),Tr(1)))}function kxe(e){return A0(e)||e instanceof O0}function Axe(e,t){return jr(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Et(ke(z({},n),{guardsResult:!0})):Mxe(s,i,r,e).pipe(jr(a=>a&&Exe(a)?Pxe(i,o,e,t):Et(a)),Pt(a=>ke(z({},n),{guardsResult:a})))})}function Mxe(e,t,n,i){return Ki(e).pipe(jr(r=>Vxe(r.component,r.route,n,t,i)),bl(r=>r!==!0,!0))}function Pxe(e,t,n,i){return Ki(t).pipe(Oh(r=>Ph(Lxe(r.route.parent,i),Oxe(r.route,i),Bxe(e,r.path,n),Nxe(e,r.route,n))),bl(r=>r!==!0,!0))}function Oxe(e,t){return e!==null&&t&&t(new i2(e)),Et(!0)}function Lxe(e,t){return e!==null&&t&&t(new t2(e)),Et(!0)}function Nxe(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Et(!0);let r=i.map(o=>jm(()=>{let s=Ax(t)??n,a=B0(o,s),l=Rxe(a)?a.canActivate(t,e):Ka(s,()=>a(t,e));return Yh(l).pipe(bl())}));return Et(r).pipe(L0())}function Bxe(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wxe(s)).filter(s=>s!==null).map(s=>jm(()=>{let a=s.guards.map(l=>{let c=Ax(s.node)??n,d=B0(l,c),u=Txe(d)?d.canActivateChild(i,e):Ka(c,()=>d(i,e));return Yh(u).pipe(bl())});return Et(a).pipe(L0())}));return Et(o).pipe(L0())}function Vxe(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Et(!0);let s=o.map(a=>{let l=Ax(t)??r,c=B0(a,l),d=Ixe(c)?c.canDeactivate(e,t,n,i):Ka(l,()=>c(e,t,n,i));return Yh(d).pipe(bl())});return Et(s).pipe(L0())}function Hxe(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Et(!0);let o=r.map(s=>{let a=B0(s,e),l=Dxe(a)?a.canLoad(t,n):Ka(e,()=>a(t,n));return Yh(l)});return Et(o).pipe(L0(),ZW(i))}function ZW(e){return EA(gr(t=>{if(typeof t!="boolean")throw l2(e,t)}),Pt(t=>t===!0))}function Gxe(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Et(!0);let o=r.map(s=>{let a=B0(s,e),l=Fxe(a)?a.canMatch(t,n):Ka(e,()=>a(t,n));return Yh(l)});return Et(o).pipe(L0(),ZW(i))}var Tx=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ix=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function T0(e){return Mh(new Tx(e))}function zxe(e){return Mh(new ft(4e3,!1))}function Uxe(e){return Mh(KW(!1,wa.GuardRejected))}var P3=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Et(i);if(r.numberOfChildren>1||!r.children[Cn])return zxe(`${t.redirectTo}`);r=r.children[Cn]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:f,params:p,data:m,title:v}=r,C=Ka(o,()=>a({params:p,data:m,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:f,title:v}));if(C instanceof fd)throw new Ix(C);n=C}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Ix(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new fd(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new pi(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new ft(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},O3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wxe(e,t,n,i,r){let o=QW(e,t,n);return o.matched?(i=fxe(t,i),Gxe(i,t,n,r).pipe(Pt(s=>s===!0?o:z({},O3)))):Et(o)}function QW(e,t,n){if(t.path==="**")return jxe(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?z({},O3):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||RW)(n,e,t);if(!r)return z({},O3);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?z(z({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function jxe(e){return{matched:!0,parameters:e.length>0?IW(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function SW(e,t,n,i){return n.length>0&&Kxe(e,n,i)?{segmentGroup:new pi(t,qxe(i,new pi(n,e.children))),slicedSegments:[]}:n.length===0&&Xxe(e,n,i)?{segmentGroup:new pi(e.segments,$xe(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new pi(e.segments,e.children),slicedSegments:n}}function $xe(e,t,n,i){let r={};for(let o of n)if(h2(e,t,o)&&!i[mc(o)]){let s=new pi([],{});r[mc(o)]=s}return z(z({},i),r)}function qxe(e,t){let n={};n[Cn]=t;for(let i of e)if(i.path===""&&mc(i)!==Cn){let r=new pi([],{});n[mc(i)]=r}return n}function Kxe(e,t,n){return n.some(i=>h2(e,t,i)&&mc(i)!==Cn)}function Xxe(e,t,n){return n.some(i=>h2(e,t,i))}function h2(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Yxe(e,t,n){return t.length===0&&!e.children[n]}var L3=class{};function Zxe(e,t,n,i,r,o,s="emptyOnly"){return new N3(e,t,n,i,r,s,o).recognize()}var Qxe=31,N3=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new P3(this.urlSerializer,this.urlTree)}noMatchError(t){return new ft(4002,`'${t.segmentGroup}'`)}recognize(){let t=SW(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Pt(({children:n,rootSnapshot:i})=>{let r=new Za(i,n),o=new Dx("",r),s=BW(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new qp([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Cn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Cn,n).pipe(Pt(i=>({children:i,rootSnapshot:n})),Xc(i=>{if(i instanceof Ix)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Tx?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(Pt(s=>s instanceof Za?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ki(o).pipe(Oh(s=>{let a=i.children[s],l=pxe(n,s);return this.processSegmentGroup(t,l,a,s,r)}),kA((s,a)=>(s.push(...a),s)),Lh(null),FA(),jr(s=>{if(s===null)return T0(i);let a=JW(s);return Jxe(a),Et(a)}))}processSegment(t,n,i,r,o,s,a){return Ki(n).pipe(Oh(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Xc(c=>{if(c instanceof Tx)return Et(null);throw c}))),bl(l=>!!l),Xc(l=>{if(YW(l))return Yxe(i,r,o)?Et(new L3):T0(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return mc(i)!==s&&(s===Cn||!h2(r,o,i))?T0(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):T0(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:f}=QW(n,r,o);if(!l)return T0(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Qxe&&(this.allowRedirects=!1));let p=new qp(o,c,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,EW(r),mc(r),r.component??r._loadedComponent??null,r,DW(r)),m=a2(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,p,t);return this.applyRedirects.lineralizeSegments(r,v).pipe(jr(C=>this.processSegment(t,i,n,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=Wxe(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Ko(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Ko(({routes:c})=>{let d=i._loadedInjector??t,{parameters:u,consumedSegments:f,remainingSegments:p}=l,m=new qp(f,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,EW(i),mc(i),i.component??i._loadedComponent??null,i,DW(i)),v=a2(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:C,slicedSegments:y}=SW(n,f,p,c);if(y.length===0&&C.hasChildren())return this.processChildren(d,c,C,m).pipe(Pt(w=>new Za(m,w)));if(c.length===0&&y.length===0)return Et(new Za(m,[]));let b=mc(i)===o;return this.processSegment(d,c,C,y,b?Cn:o,!0,m).pipe(Pt(w=>new Za(m,w instanceof Za?[w]:[])))}))):T0(n)))}getChildConfig(t,n,i){return n.children?Et({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Et({routes:n._loadedRoutes,injector:n._loadedInjector}):Hxe(t,n,i,this.urlSerializer).pipe(jr(r=>r?this.configLoader.loadChildren(t,n).pipe(gr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Uxe(n))):Et({routes:[],injector:t})}};function Jxe(e){e.sort((t,n)=>t.value.outlet===Cn?-1:n.value.outlet===Cn?1:t.value.outlet.localeCompare(n.value.outlet))}function ebe(e){let t=e.value.routeConfig;return t&&t.path===""}function JW(e){let t=[],n=new Set;for(let i of e){if(!ebe(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=JW(i.children);t.push(new Za(i.value,r))}return t.filter(i=>!n.has(i))}function EW(e){return e.data||{}}function DW(e){return e.resolve||{}}function tbe(e,t,n,i,r,o){return jr(s=>Zxe(e,t,n,i,s.extractedUrl,r,o).pipe(Pt(({state:a,tree:l})=>ke(z({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function nbe(e,t){return jr(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Et(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of ej(l))s.add(c);let a=0;return Ki(s).pipe(Oh(l=>o.has(l)?ibe(l,i,e,t):(l.data=a2(l,l.parent,e).resolve,Et(void 0))),gr(()=>a++),$m(1),jr(l=>a===s.size?Et(n):Io))})}function ej(e){let t=e.children.map(n=>ej(n)).flat();return[e,...t]}function ibe(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!jW(r)&&(o[Fx]=r.title),rbe(o,e,t,i).pipe(Pt(s=>(e._resolvedData=s,e.data=a2(e,e.parent,n).resolve,null)))}function rbe(e,t,n,i){let r=E3(e);if(r.length===0)return Et({});let o={};return Ki(r).pipe(jr(s=>obe(e[s],t,n,i).pipe(bl(),gr(a=>{if(a instanceof O0)throw l2(new Xp,a);o[s]=a}))),$m(1),Pt(()=>o),Xc(s=>YW(s)?Io:Mh(s)))}function obe(e,t,n,i){let r=Ax(t)??i,o=B0(e,r),s=o.resolve?o.resolve(t,n):Ka(r,()=>o(t,n));return Yh(s)}function _3(e){return Ko(t=>{let n=e(t);return n?Ki(n).pipe(Pt(()=>t)):Et(t)})}var V3=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Cn);return i}getResolvedTitleForRoute(n){return n.data[Fx]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>O(tj),providedIn:"root"})}return e})(),tj=(()=>{class e extends V3{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(lt(yW))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ox=new Re("",{providedIn:"root",factory:()=>({})}),H3=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Ct(0,"router-outlet")},dependencies:[Mx],encapsulation:2})}return e})();function G3(e){let t=e.children&&e.children.map(G3),n=t?ke(z({},e),{children:t}):z({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Cn&&(n.component=H3),n}var Lx=new Re(""),nj=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(MU);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Et(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Yh(n.loadComponent()).pipe(Pt(rj),gr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),uc(()=>{this.componentLoaders.delete(n)})),r=new Hm(i,()=>new ut).pipe(Vm());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ij(i,this.compiler,n,this.onLoadEndListener).pipe(uc(()=>{this.childrenLoaders.delete(i)})),s=new Hm(o,()=>new ut).pipe(Vm());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ij(e,t,n,i){return Yh(e.loadChildren()).pipe(Pt(rj),jr(r=>r instanceof BP||Array.isArray(r)?Et(r):Ki(t.compileModuleAsync(r))),Pt(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Lx,[],{optional:!0,self:!0}).flat()),{routes:s.map(G3),injector:o}}))}function sbe(e){return e&&typeof e=="object"&&"default"in e}function rj(e){return sbe(e)?e.default:e}var f2=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>O(abe),providedIn:"root"})}return e})(),abe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oj=new Re("");var sj=new Re(""),aj=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ut;transitionAbortSubject=new ut;configLoader=O(nj);environmentInjector=O(io);destroyRef=O(Xi);urlSerializer=O(kx);rootContexts=O(N0);location=O(Kh);inputBindingEnabled=O(u2,{optional:!0})!==null;titleStrategy=O(V3);options=O(Ox,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(f2);createViewTransition=O(oj,{optional:!0});navigationErrorHandler=O(sj,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Et(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new JE(r)),i=r=>this.events.next(new e2(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(ke(z({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new ii(null),this.transitions.pipe(pn(i=>i!==null),Ko(i=>{let r=!1,o=!1;return Et(i).pipe(Ko(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",wa.SupersededByNewNavigation),Io;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ke(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Tu(s.id,this.urlSerializer.serialize(s.rawUrl),c,wx.IgnoredSameUrlNavigation)),s.resolve(!1),Io}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Et(s).pipe(Ko(c=>(this.events.next(new Yp(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Io:Promise.resolve(c))),tbe(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),gr(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ke(z({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new _x(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:u,restoredState:f,extras:p}=s,m=new Yp(c,this.urlSerializer.serialize(d),u,f);this.events.next(m);let v=UW(this.rootComponentType).snapshot;return this.currentTransition=i=ke(z({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:ke(z({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Et(i)}else{let c="";return this.events.next(new Tu(s.id,this.urlSerializer.serialize(s.extractedUrl),c,wx.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Io}}),gr(s=>{let a=new XE(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Pt(s=>(this.currentTransition=i=ke(z({},s),{guards:bxe(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),Axe(this.environmentInjector,s=>this.events.next(s)),gr(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw l2(this.urlSerializer,s.guardsResult);let a=new YE(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),pn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",wa.GuardRejected),!1)),_3(s=>{if(s.guards.canActivateChecks.length!==0)return Et(s).pipe(gr(a=>{let l=new ZE(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ko(a=>{let l=!1;return Et(a).pipe(nbe(this.paramsInheritanceStrategy,this.environmentInjector),gr({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",wa.NoDataFromResolver)}}))}),gr(a=>{let l=new QE(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),_3(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(gr(d=>{l.component=d}),Pt(()=>{})));for(let d of l.children)c.push(...a(d));return c};return Wm(a(s.targetSnapshot.root)).pipe(Lh(null),Tr(1))}),_3(()=>this.afterPreactivation()),Ko(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Ki(l).pipe(Pt(()=>i)):Et(i)}),Pt(s=>{let a=mxe(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=ke(z({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),gr(()=>{this.events.next(new Sx)}),xxe(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Tr(1),gr({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ru(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Hi(this.transitionAbortSubject.pipe(gr(s=>{throw s}))),uc(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",wa.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xc(s=>{if(this.destroyed)return i.resolve(!1),Io;if(o=!0,XW(s))this.events.next(new hd(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),yxe(s)?this.events.next(new P0(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new M0(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Ka(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof O0){let{message:c,cancellationCode:d}=l2(this.urlSerializer,l);this.events.next(new hd(i.id,this.urlSerializer.serialize(i.extractedUrl),c,d)),this.events.next(new P0(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Io}))}))}cancelNavigationTransition(n,i,r){let o=new hd(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lbe(e){return e!==$E}var lj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>O(cbe),providedIn:"root"})}return e})(),d2=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},cbe=(()=>{class e extends d2{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ys(e)))(r||e)}})();static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cj=(()=>{class e{urlSerializer=O(kx);options=O(Ox,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Kh);urlHandlingStrategy=O(f2);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fd;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof fd?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=UW(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:()=>O(dbe),providedIn:"root"})}return e})(),dbe=(()=>{class e extends cj{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof Yp?this.updateStateMemento():n instanceof Tu?this.commitTransition(i):n instanceof _x?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof Sx?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof hd&&(n.code===wa.GuardRejected||n.code===wa.NoDataFromResolver)?this.restoreHistory(i):n instanceof M0?this.restoreHistory(i,!0):n instanceof Ru&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=z(z({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",l)}else{let a=z(z({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ys(e)))(r||e)}})();static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function z3(e,t){e.events.pipe(pn(n=>n instanceof Ru||n instanceof hd||n instanceof M0||n instanceof Tu),Pt(n=>n instanceof Ru||n instanceof Tu?0:(n instanceof hd?n.code===wa.Redirect||n.code===wa.SupersededByNewNavigation:!1)?2:1),pn(n=>n!==2),Tr(1)).subscribe(()=>{t()})}var ube={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zh=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(VP);stateManager=O(cj);options=O(Ox,{optional:!0})||{};pendingTasks=O(zh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(aj);urlSerializer=O(kx);location=O(Kh);urlHandlingStrategy=O(f2);_events=new ut;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(lj);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Lx,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(u2,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Gn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof hd&&i.code!==wa.Redirect&&i.code!==wa.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ru)this.navigated=!0;else if(i instanceof P0){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=z({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lbe(r.source)},s);this.scheduleNavigation(a,$E,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}pbe(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$E,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=z({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(G3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let f=r?r.snapshot:this.routerState.snapshot.root;u=VW(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return HW(u,n,d,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=A0(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,$E,null,i)}navigate(n,i={skipLocationChange:!1}){return fbe(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=z({},ube):i===!1?r=z({},hbe):r=i,A0(n))return xW(this.currentUrlTree,n,r);let o=this.parseUrl(n);return xW(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,f)=>{a=u,l=f});let d=this.pendingTasks.add();return z3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fbe(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ft(4008,!1)}function pbe(e){return!(e instanceof Sx)&&!(e instanceof P0)}var mbe=new Re("");function U3(e,...t){return d0([{provide:Lx,multi:!0,useValue:e},[],{provide:pd,useFactory:vbe,deps:[Zh]},{provide:GP,multi:!0,useFactory:Cbe},t.map(n=>n.\u0275providers)])}function vbe(e){return e.routerState.root}function Cbe(){let e=O(Pn);return t=>{let n=e.get(qa);if(t!==n.components[0])return;let i=e.get(Zh),r=e.get(ybe);e.get(xbe)===1&&i.initialNavigation(),e.get(bbe,null,Mn.Optional)?.setUpPreloading(),e.get(mbe,null,Mn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ybe=new Re("",{factory:()=>new ut}),xbe=new Re("",{providedIn:"root",factory:()=>1});var bbe=new Re("");var Cj=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(We(Fr),We(Tt))};static \u0275dir=Lt({type:e})}return e})(),_be=(()=>{class e extends Cj{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ys(e)))(r||e)}})();static \u0275dir=Lt({type:e,features:[qr]})}return e})(),E2=new Re("");var Sbe={provide:E2,useExisting:id(()=>D2),multi:!0};function Ebe(){let e=Dl()?Dl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Dbe=new Re(""),D2=(()=>{class e extends Cj{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Ebe())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(We(Fr),We(Tt),We(Dbe,8))};static \u0275dir=Lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Ft("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[fi([Sbe]),qr]})}return e})();function q3(e){return e==null||K3(e)===0}function K3(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var zx=new Re(""),X3=new Re(""),Rbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,g2=class{static min(t){return Tbe(t)}static max(t){return Ibe(t)}static required(t){return Fbe(t)}static requiredTrue(t){return kbe(t)}static email(t){return Abe(t)}static minLength(t){return Mbe(t)}static maxLength(t){return Pbe(t)}static pattern(t){return Obe(t)}static nullValidator(t){return yj()}static compose(t){return Ej(t)}static composeAsync(t){return Dj(t)}};function Tbe(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Ibe(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function Fbe(e){return q3(e.value)?{required:!0}:null}function kbe(e){return e.value===!0?null:{required:!0}}function Abe(e){return q3(e.value)||Rbe.test(e.value)?null:{email:!0}}function Mbe(e){return t=>{let n=t.value?.length??K3(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function Pbe(e){return t=>{let n=t.value?.length??K3(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Obe(e){if(!e)return yj;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(q3(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function yj(e){return null}function xj(e){return e!=null}function bj(e){return Wh(e)?Ki(e):e}function wj(e){let t={};return e.forEach(n=>{t=n!=null?z(z({},t),n):t}),Object.keys(t).length===0?null:t}function _j(e,t){return t.map(n=>n(e))}function Lbe(e){return!e.validate}function Sj(e){return e.map(t=>Lbe(t)?t:n=>t.validate(n))}function Ej(e){if(!e)return null;let t=e.filter(xj);return t.length==0?null:function(n){return wj(_j(n,t))}}function Y3(e){return e!=null?Ej(Sj(e)):null}function Dj(e){if(!e)return null;let t=e.filter(xj);return t.length==0?null:function(n){let i=_j(n,t).map(bj);return Oy(i).pipe(Pt(wj))}}function Z3(e){return e!=null?Dj(Sj(e)):null}function uj(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Rj(e){return e._rawValidators}function Tj(e){return e._rawAsyncValidators}function W3(e){return e?Array.isArray(e)?e:[e]:[]}function m2(e,t){return Array.isArray(e)?e.includes(t):e===t}function hj(e,t){let n=W3(t);return W3(e).forEach(r=>{m2(n,r)||n.push(r)}),n}function fj(e,t){return W3(t).filter(n=>!m2(e,n))}var v2=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Y3(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Z3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Qh=class extends v2{name;get formDirective(){return null}get path(){return null}},Zp=class extends v2{_parent=null;name=null;valueAccessor=null},C2=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nbe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hot=ke(z({},Nbe),{"[class.ng-submitted]":"isSubmitted"}),Ij=(()=>{class e extends C2{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(We(Zp,2))};static \u0275dir=Lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[qr]})}return e})(),Fj=(()=>{class e extends C2{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(We(Qh,10))};static \u0275dir=Lt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&gn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[qr]})}return e})();var Nx="VALID",p2="INVALID",V0="PENDING",Bx="DISABLED",Jh=class{},y2=class extends Jh{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Hx=class extends Jh{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Gx=class extends Jh{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},H0=class extends Jh{status;source;constructor(t,n){super(),this.status=t,this.source=n}},j3=class extends Jh{source;constructor(t){super(),this.source=t}},$3=class extends Jh{source;constructor(t){super(),this.source=t}};function kj(e){return(R2(e)?e.validators:e)||null}function Bbe(e){return Array.isArray(e)?Y3(e):e||null}function Aj(e,t){return(R2(t)?t.asyncValidators:e)||null}function Vbe(e){return Array.isArray(e)?Z3(e):e||null}function R2(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Hbe(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new ft(1e3,"");if(!i[n])throw new ft(1001,"")}function Gbe(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new ft(1002,"")})}var x2=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Zs(this.statusReactive)}set status(t){Zs(()=>this.statusReactive.set(t))}_status=ad(()=>this.statusReactive());statusReactive=od(void 0);get valid(){return this.status===Nx}get invalid(){return this.status===p2}get pending(){return this.status==V0}get disabled(){return this.status===Bx}get enabled(){return this.status!==Bx}errors;get pristine(){return Zs(this.pristineReactive)}set pristine(t){Zs(()=>this.pristineReactive.set(t))}_pristine=ad(()=>this.pristineReactive());pristineReactive=od(!0);get dirty(){return!this.pristine}get touched(){return Zs(this.touchedReactive)}set touched(t){Zs(()=>this.touchedReactive.set(t))}_touched=ad(()=>this.touchedReactive());touchedReactive=od(!1);get untouched(){return!this.touched}_events=new ut;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fj(t,this._rawAsyncValidators))}hasValidator(t){return m2(this._rawValidators,t)}hasAsyncValidator(t){return m2(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ke(z({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Gx(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Gx(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ke(z({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Hx(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Hx(!0,i))}markAsPending(t={}){this.status=V0;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new H0(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ke(z({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Bx,this.errors=null,this._forEachChild(r=>{r.disable(ke(z({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new y2(this.value,i)),this._events.next(new H0(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ke(z({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Nx,this._forEachChild(i=>{i.enable(ke(z({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ke(z({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nx||this.status===V0)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new y2(this.value,n)),this._events.next(new H0(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ke(z({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bx:Nx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=V0,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=bj(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new H0(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new _e,this.statusChanges=new _e}_calculateStatus(){return this._allControlsDisabled()?Bx:this.errors?p2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(V0)?V0:this._anyControlsHaveStatus(p2)?p2:Nx}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Hx(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Gx(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){R2(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Bbe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Vbe(this._rawAsyncValidators)}},b2=class extends x2{constructor(t,n,i){super(kj(n),Aj(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Gbe(this,!0,t),Object.keys(t).forEach(i=>{Hbe(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var T2=new Re("",{providedIn:"root",factory:()=>Q3}),Q3="always";function zbe(e,t){return[...t.path,e]}function w2(e,t,n=Q3){J3(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Wbe(e,t),$be(e,t),jbe(e,t),Ube(e,t)}function pj(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),S2(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function _2(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Ube(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function J3(e,t){let n=Rj(e);t.validator!==null?e.setValidators(uj(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=Tj(e);t.asyncValidator!==null?e.setAsyncValidators(uj(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();_2(t._rawValidators,r),_2(t._rawAsyncValidators,r)}function S2(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=Rj(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=Tj(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let i=()=>{};return _2(t._rawValidators,i),_2(t._rawAsyncValidators,i),n}function Wbe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Mj(e,t)})}function jbe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Mj(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Mj(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $be(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Pj(e,t){e==null,J3(e,t)}function qbe(e,t){return S2(e,t)}function Kbe(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Xbe(e){return Object.getPrototypeOf(e.constructor)===_be}function Oj(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ybe(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===D2?n=o:Xbe(o)?i=o:r=o}),r||i||n||null}function Zbe(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Qbe={provide:Qh,useExisting:id(()=>Ux)},Vx=Promise.resolve(),Ux=(()=>{class e extends Qh{callSetDisabledState;get submitted(){return Zs(this.submittedReactive)}_submitted=ad(()=>this.submittedReactive());submittedReactive=od(!1);_directives=new Set;form;ngSubmit=new _e;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new b2({},Y3(n),Z3(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Vx.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),w2(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Vx.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Vx.then(()=>{let i=this._findContainer(n.path),r=new b2({});Pj(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Vx.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Vx.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Oj(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||e)(We(zx,10),We(X3,10),We(T2,8))};static \u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Ft("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fi([Qbe]),qr]})}return e})();function gj(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function mj(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Lj=class extends x2{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(kj(n),Aj(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),R2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mj(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){mj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Jbe=e=>e instanceof Lj;var ewe={provide:Zp,useExisting:id(()=>eO)},vj=Promise.resolve(),eO=(()=>{class e extends Zp{_changeDetectorRef;callSetDisabledState;control=new Lj;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ybe(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Kbe(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){w2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){vj.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&pe(i);vj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?zbe(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(We(Qh,9),We(zx,10),We(X3,10),We(E2,10),We(Fi,8),We(T2,8))};static \u0275dir=Lt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[fi([ewe]),qr,Yo]})}return e})();var Nj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var twe={provide:Qh,useExisting:id(()=>tO)},tO=(()=>{class e extends Qh{callSetDisabledState;get submitted(){return Zs(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=ad(()=>this._submittedReactive());_submittedReactive=od(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new _e;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(S2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return w2(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){pj(n.control||null,n,!1),Zbe(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),Oj(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new j3(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new $3(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(pj(i||null,n),Jbe(r)&&(w2(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);Pj(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&qbe(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J3(this.form,this),this._oldForm&&S2(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(We(zx,10),We(X3,10),We(T2,8))};static \u0275dir=Lt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Ft("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fi([twe]),qr,Yo]})}return e})();var nwe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({})}return e})();var Bj=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:T2,useValue:n.callSetDisabledState??Q3}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[nwe]})}return e})();var Qo=[];for(let e=0;e<256;++e)Qo.push((e+256).toString(16).slice(1));function Vj(e,t=0){return(Qo[e[t+0]]+Qo[e[t+1]]+Qo[e[t+2]]+Qo[e[t+3]]+"-"+Qo[e[t+4]]+Qo[e[t+5]]+"-"+Qo[e[t+6]]+Qo[e[t+7]]+"-"+Qo[e[t+8]]+Qo[e[t+9]]+"-"+Qo[e[t+10]]+Qo[e[t+11]]+Qo[e[t+12]]+Qo[e[t+13]]+Qo[e[t+14]]+Qo[e[t+15]]).toLowerCase()}var nO,rwe=new Uint8Array(16);function iO(){if(!nO){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");nO=crypto.getRandomValues.bind(crypto)}return nO(rwe)}var owe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rO={randomUUID:owe};function swe(e,t,n){if(rO.randomUUID&&!t&&!e)return rO.randomUUID();e=e||{};let i=e.random??e.rng?.()??iO();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let r=0;r<16;++r)t[n+r]=i[r];return t}return Vj(i)}var Wx=swe;function Qp(e){return e.buttons===0||e.detail===0}function Jp(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var oO;function Hj(){if(oO==null){let e=typeof document<"u"?document.head:null;oO=!!(e&&(e.createShadowRoot||e.attachShadow))}return oO}function sO(e){if(Hj()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function jx(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function _a(e){return e.composedPath?e.composedPath()[0]:e.target}function Cs(e,t,n,i,r){let o=parseInt(qP.major),s=parseInt(qP.minor);return o>19||o===19&&s>0||o===0&&s===0?e.listen(t,n,i,r):(t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)})}var aO;try{aO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aO=!1}var si=(()=>{class e{_platformId=O(wu);isBrowser=this._platformId?t3(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||aO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $x;function Gj(){if($x==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$x=!0}))}finally{$x=$x||!1}return $x}function ef(e){return Gj()?e:!!e.capture}function G0(e,t=0){return zj(e)?Number(e):arguments.length===2?t:0}function zj(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Ja(e){return e instanceof Tt?e.nativeElement:e}var Uj=new Re("cdk-input-modality-detector-options"),Wj={ignoreKeys:[18,17,224,91,16]},jj=650,lO={passive:!0,capture:!0},$j=(()=>{class e{_platform=O(si);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ii(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(i=>i===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_a(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<jj||(this._modality.next(Qp(n)?"keyboard":"mouse"),this._mostRecentTarget=_a(n))};_onTouchstart=n=>{if(Jp(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_a(n)};constructor(){let n=O(pt),i=O(Ot),r=O(Uj,{optional:!0});if(this._options=z(z({},Wj),r),this.modalityDetected=this._modality.pipe(Ly(1)),this.modalityChanged=this.modalityDetected.pipe(Rp()),this._platform.isBrowser){let o=O(yo).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[Cs(o,i,"keydown",this._onKeydown,lO),Cs(o,i,"mousedown",this._onMousedown,lO),Cs(o,i,"touchstart",this._onTouchstart,lO)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qx=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(qx||{}),qj=new Re("cdk-focus-monitor-default-options"),I2=ef({passive:!0,capture:!0}),gd=(()=>{class e{_ngZone=O(pt);_platform=O(si);_inputModalityDetector=O($j);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=O(Ot,{optional:!0});_stopInputModalityDetector=new ut;constructor(){let n=O(qj,{optional:!0});this._detectionMode=n?.detectionMode||qx.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let i=_a(n);for(let r=i;r;r=r.parentElement)n.type==="focus"?this._onFocus(n,r):this._onBlur(n,r)};monitor(n,i=!1){let r=Ja(n);if(!this._platform.isBrowser||r.nodeType!==1)return Et();let o=sO(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new ut,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let i=Ja(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){let o=Ja(n),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===qx.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===qx.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?jj:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,i){let r=this._elementInfo.get(i),o=_a(n);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(n,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,I2),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,I2)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,I2),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,I2),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((r,o)=>{(o===n||r.checkChildren&&o.contains(n))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var F2=new WeakMap,oo=(()=>{class e{_appRef;_injector=O(Pn);_environmentInjector=O(io);load(n){let i=this._appRef=this._appRef||this._injector.get(qa),r=F2.get(i);r||(r={loaders:new Set,refs:[]},F2.set(i,r),i.onDestroy(()=>{F2.get(i)?.refs.forEach(o=>o.destroy()),F2.delete(i)})),r.loaders.has(n)||(r.loaders.add(n),r.refs.push(EE(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var eg=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return e})();function z0(e){return Array.isArray(e)?e:[e]}var Kj=new Set,tg,Yj=(()=>{class e{_platform=O(si);_nonce=O(nx,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lwe}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&awe(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function awe(e,t){if(!Kj.has(e))try{tg||(tg=document.createElement("style"),t&&tg.setAttribute("nonce",t),tg.setAttribute("type","text/css"),document.head.appendChild(tg)),tg.sheet&&(tg.sheet.insertRule(`@media ${e} {body{ }}`,0),Kj.add(e))}catch(n){console.error(n)}}function lwe(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var ng=(()=>{class e{_mediaMatcher=O(Yj);_zone=O(pt);_queries=new Map;_destroySubject=new ut;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Xj(z0(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=Xj(z0(n)).map(s=>this._registerQuery(s).observable),o=Wm(r);return o=Ph(o.pipe(Tr(1)),o.pipe(Ly(1),Yc(0))),o.pipe(Pt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),o={observable:new Gt(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(qo(i),Pt(({matches:s})=>({query:n,matches:s})),Hi(this._destroySubject)),mql:i};return this._queries.set(n,o),o}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xj(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var Zj=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ig=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({providers:[Zj]})}return e})();var U0=(()=>{class e{_platform=O(si);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return uwe(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let i=dwe(ywe(n));if(i&&(Qj(i)===-1||!this.isVisible(i)))return!1;let r=n.nodeName.toLowerCase(),o=Qj(n);return n.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!vwe(n)?!1:r==="audio"?n.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,i){return Cwe(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dwe(e){try{return e.frameElement}catch{return null}}function uwe(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function hwe(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function fwe(e){return gwe(e)&&e.type=="hidden"}function pwe(e){return mwe(e)&&e.hasAttribute("href")}function gwe(e){return e.nodeName.toLowerCase()=="input"}function mwe(e){return e.nodeName.toLowerCase()=="a"}function t$(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Qj(e){if(!t$(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function vwe(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function Cwe(e){return fwe(e)?!1:hwe(e)||pwe(e)||e.hasAttribute("contenteditable")||t$(e)}function ywe(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var k2=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,n,i,r,o=!1,s){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?ba(t,{injector:this._injector}):setTimeout(t)}},dO=(()=>{class e{_checker=O(U0);_ngZone=O(pt);_document=O(Ot);_injector=O(Pn);constructor(){O(oo).load(eg)}create(n,i=!1){return new k2(n,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tf=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(tf||{}),Jj="cdk-high-contrast-black-on-white",e$="cdk-high-contrast-white-on-black",cO="cdk-high-contrast-active",A2=(()=>{class e{_platform=O(si);_hasCheckedHighContrastMode;_document=O(Ot);_breakpointSubscription;constructor(){this._breakpointSubscription=O(ng).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return tf.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return tf.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return tf.BLACK_ON_WHITE}return tf.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(cO,Jj,e$),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===tf.BLACK_ON_WHITE?n.add(cO,Jj):i===tf.WHITE_ON_BLACK&&n.add(cO,e$)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),W0=(()=>{class e{constructor(){O(A2)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[ig]})}return e})();var uO={},ys=(()=>{class e{_appId=O(zp);getId(n){return this._appId!=="ng"&&(n+=this._appId),uO.hasOwnProperty(n)||(uO[n]=0),`${n}${uO[n]++}`}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var xwe=200,M2=class{_letterKeyStream=new ut;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ut;selectedItem=this._selectedItem;constructor(t,n){let i=typeof n?.debounceInterval=="number"?n.debounceInterval:xwe;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let n=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(gr(n=>this._pressedLetters.push(n)),Yc(t),pn(()=>this._pressedLetters.length>0),Pt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function vc(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var P2=class{_items;_activeItemIndex=-1;_activeItem=od(null);_wrap=!1;_typeaheadSubscription=Gn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,n){this._items=t,t instanceof Hh?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):m0(t)&&(this._effectRef=$h(()=>this._itemsChanged(t()),{injector:n}))}tabOut=new ut;change=new ut;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new M2(n,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,n=10){return this._pageUpAndDown={enabled:t,delta:n},this}setActiveItem(t){let n=this._activeItem();this.updateActiveItem(t),this._activeItem()!==n&&this.change.next(this._activeItemIndex)}onKeydown(t){let n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||vc(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let n=this._getItemsArray(),i=typeof t=="number"?t:n.indexOf(t),r=n[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+t*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,n){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=n,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return m0(this._items)?this._items():this._items instanceof Hh?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let n=this._activeItem();if(n){let i=t.indexOf(n);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Kx=class extends P2{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var o$=" ";function bwe(e,t,n){let i=L2(e,t);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),e.setAttribute(t,i.join(o$)))}function wwe(e,t,n){let i=L2(e,t);n=n.trim();let r=i.filter(o=>o!==n);r.length?e.setAttribute(t,r.join(o$)):e.removeAttribute(t)}function L2(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var s$="cdk-describedby-message",O2="cdk-describedby-host",gO=0,N2=(()=>{class e{_platform=O(si);_document=O(Ot);_messageRegistry=new Map;_messagesContainer=null;_id=`${gO++}`;constructor(){O(oo).load(eg),this._id=O(zp)+"-"+gO++}describe(n,i,r){if(!this._canBeDescribed(n,i))return;let o=pO(i,r);typeof i!="string"?(r$(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(n,o)||this._addMessageReference(n,o)}removeDescription(n,i,r){if(!i||!this._isElementNode(n))return;let o=pO(i,r);if(this._isElementDescribedByMessage(n,o)&&this._removeMessageReference(n,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${O2}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(O2);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){let r=this._document.createElement("div");r$(r,this._id),r.textContent=n,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(pO(n,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){let i=L2(n,"aria-describedby").filter(r=>r.indexOf(s$)!=0);n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){let r=this._messageRegistry.get(i);bwe(n,"aria-describedby",r.messageElement.id),n.setAttribute(O2,this._id),r.referenceCount++}_removeMessageReference(n,i){let r=this._messageRegistry.get(i);r.referenceCount--,wwe(n,"aria-describedby",r.messageElement.id),n.removeAttribute(O2)}_isElementDescribedByMessage(n,i){let r=L2(n,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=n.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pO(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function r$(e,t){e.id||(e.id=`${s$}-${t}-${gO++}`)}var j0=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return e})();var rg;function a$(){if(rg==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return rg=!1,rg;if("scrollBehavior"in document.documentElement.style)rg=!0;else{let e=Element.prototype.scrollTo;e?rg=!/\{\s*\[native code\]\s*\}/.test(e.toString()):rg=!1}}return rg}function mO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var $0,l$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vO(){if($0)return $0;if(typeof document!="object"||!document)return $0=new Set(l$),$0;let e=document.createElement("input");return $0=new Set(l$.filter(t=>(e.setAttribute("type",t),e.type===t))),$0}function md(e){return e!=null&&`${e}`!="false"}function Xr(e){return e==null?"":typeof e=="string"?e:`${e}px`}var Rl=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Rl||{}),CO=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Rl.HIDDEN;constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},c$=ef({passive:!0,capture:!0}),yO=class{_events=new Map;addHandler(t,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,c$)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,c$)))}_delegateEventHandler=t=>{let n=_a(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(t))})}},Xx={enterDuration:225,exitDuration:150},_we=800,d$=ef({passive:!0,capture:!0}),u$=["mousedown","touchstart"],h$=["mouseup","mouseleave","touchend","touchcancel"],Swe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return e})(),Yx=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new yO;constructor(t,n,i,r,o){this._target=t,this._ngZone=n,this._platform=r,r.isBrowser&&(this._containerElement=Ja(i)),o&&o.get(oo).load(Swe)}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=z(z({},Xx),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||Ewe(t,n,r),a=t-r.left,l=n-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),f=u.transitionProperty,p=u.transitionDuration,m=f==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,v=new CO(this,d,i,m);d.style.transform="scale3d(1, 1, 1)",v.state=Rl.FADING_IN,i.persistent||(this._mostRecentTransientRipple=v);let C=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>{C&&(C.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(v)},b=()=>this._destroyRipple(v),w=setTimeout(b,c+100);d.addEventListener("transitionend",y),d.addEventListener("transitioncancel",b),C={onTransitionEnd:y,onTransitionCancel:b,fallbackTimer:w}}),this._activeRipples.set(v,C),(m||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(t.state===Rl.FADING_OUT||t.state===Rl.HIDDEN)return;let n=t.element,i=z(z({},Xx),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Rl.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=Ja(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,u$.forEach(i=>{e._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{h$.forEach(n=>{this._triggerElement.addEventListener(n,this,d$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Rl.FADING_IN?this._startFadeOutTransition(t):t.state===Rl.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Rl.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Rl.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=Qp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+_we;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Jp(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===Rl.VISIBLE||t.config.terminateOnPointerUp&&t.state===Rl.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(u$.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(h$.forEach(n=>t.removeEventListener(n,this,d$)),this._pointerUpEventsRegistered=!1))}};function Ewe(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var xO=new Re("mat-ripple-global-options"),B2=(()=>{class e{_elementRef=O(Tt);_animationMode=O(Ir,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let n=O(pt),i=O(si),r=O(xO,{optional:!0}),o=O(Pn);this._globalOptions=r||{},this._rippleRenderer=new Yx(this,n,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:z(z(z({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,i,z(z({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,z(z({},this.rippleConfig),n))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&gn("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();var q0=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Iu=class extends q0{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,n,i,r,o){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.projectableNodes=o}},Fu=class extends q0{templateRef;viewContainerRef;context;injector;constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},V2=class extends q0{element;constructor(t){super(),this.element=t instanceof Tt?t.nativeElement:t}},og=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Iu)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Fu)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof V2)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var K0=class extends og{outletElement;_appRef;_defaultInjector;_document;constructor(t,n,i,r,o){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let n;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(yu,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||Pn.NULL,o=r.get(io,i.injector);n=EE(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let n=t.element;n.parentNode;let i=this._document.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var X0=(()=>{class e extends og{_moduleRef=O(yu,{optional:!0});_document=O(Ot);_viewContainerRef=O($r);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new _e;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let i=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=i.createComponent(n.component,{index:i.length,injector:n.injector||i.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(n){n.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=n=>{let i=n.element;i.parentNode;let r=this._document.createComment("dom-portal");n.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=n,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[qr]})}return e})();var Zx=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({})}return e})();var f$=new Re("cdk-dir-doc",{providedIn:"root",factory:Dwe});function Dwe(){return O(Ot)}var Rwe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Twe(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Rwe.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Tl=(()=>{class e{value="ltr";change=new _e;constructor(){let n=O(f$,{optional:!0});if(n){let i=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=Twe(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ku=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({})}return e})();var p$=20,Y0=(()=>{class e{_ngZone=O(pt);_platform=O(si);_renderer=O(yo).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ut;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=p$){return this._platform.isBrowser?new Gt(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=n>0?this._scrolled.pipe(fS(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Et()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){let r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(pn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(n){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_scrollableContainsElement(n,i){let r=Ja(i),o=n.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var g$=20,Qx=(()=>{class e{_platform=O(si);_listeners;_viewportSize;_change=new ut;_document=O(Ot,{optional:!0});constructor(){let n=O(pt),i=O(yo).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),r=n.documentElement,o=r.getBoundingClientRect(),s=-o.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(n=g$){return n>0?this._change.pipe(fS(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nf=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({})}return e})(),H2=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[ku,nf,ku,nf]})}return e})();var m$=a$(),G2=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,n){this._viewportRuler=t,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Xr(-this._previousScrollPosition.left),t.style.top=Xr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,i=t.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),m$&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),m$&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var z2=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(pn(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Jx=class{enable(){}disable(){}attach(){}};function bO(e,t){return t.some(n=>{let i=e.bottom<n.top,r=e.top>n.bottom,o=e.right<n.left,s=e.left>n.right;return i||r||o||s})}function v$(e,t){return t.some(n=>{let i=e.top<n.top,r=e.bottom>n.bottom,o=e.left<n.left,s=e.right>n.right;return i||r||o||s})}var U2=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bO(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},_$=(()=>{class e{_scrollDispatcher=O(Y0);_viewportRuler=O(Qx);_ngZone=O(pt);_document=O(Ot);constructor(){}noop=()=>new Jx;close=n=>new z2(this._scrollDispatcher,this._ngZone,this._viewportRuler,n);block=()=>new G2(this._viewportRuler,this._document);reposition=n=>new U2(this._scrollDispatcher,this._viewportRuler,this._ngZone,n);static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rf=class{positionStrategy;scrollStrategy=new Jx;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var W2=class{connectionPair;scrollableViewProperties;constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var S$=(()=>{class e{_attachedOverlays=[];_document=O(Ot);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),E$=(()=>{class e extends S${_ngZone=O(pt);_renderer=O(yo).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ys(e)))(r||e)}})();static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),D$=(()=>{class e extends S${_platform=O(si);_ngZone=O(pt);_renderer=O(yo).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Cs(this._renderer,i,"pointerdown",this._pointerDownListener,r),Cs(this._renderer,i,"click",this._clickListener,r),Cs(this._renderer,i,"auxclick",this._clickListener,r),Cs(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=_a(n)};_clickListener=n=>{let i=_a(n),r=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(C$(a.overlayElement,i)||C$(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n)}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=Ys(e)))(r||e)}})();static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function C$(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===e)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var R$=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return e})(),eb=(()=>{class e{_platform=O(si);_containerElement;_document=O(Ot);_styleLoader=O(oo);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||mO()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(n),mO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(R$)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wO=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,i,r){this._renderer=n,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},ag=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ut;_attachments=new ut;_detachments=new ut;_positionStrategy;_scrollStrategy;_locationChanges=Gn.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new ut;_outsidePointerEvents=new ut;_renders=new ut;_afterRenderRef;_afterNextRenderRef;constructor(t,n,i,r,o,s,a,l,c,d=!1,u,f){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=f,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Zs(()=>rx(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ba(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=z(z({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ke(z({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Xr(this._config.width),t.height=Xr(this._config.height),t.minWidth=Xr(this._config.minWidth),t.minHeight=Xr(this._config.minHeight),t.maxWidth=Xr(this._config.maxWidth),t.maxHeight=Xr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new wO(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,i){let r=z0(n||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Hi(dc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},y$="cdk-overlay-connected-position-bounding-box",Iwe=/([A-Za-z%]+)$/,j2=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ut;_resizeSubscription=Gn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(y$),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,n,a),d=this._getOverlayFit(c,n,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(y$),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(t,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,n,i,r){let o=b$(n),{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-i.width,f=0-a,p=a+o.height-i.height,m=this._subtractOverflows(o.width,d,u),v=this._subtractOverflows(o.height,f,p),C=m*v;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=x$(this._overlayRef.getConfig().minHeight),a=x$(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=b$(n),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),d=0,u=0;return r.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?u=l||-a:u=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Fwe(this._lastScrollVisibility,i)){let r=new W2(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let p=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=p*2,s=t.y-p,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,c=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,d,u,f;if(c)f=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=i.right-t.x;else{let p=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;d=p*2,u=t.x-p,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-m/2)}return{top:s,left:u,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(t,n){let i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Xr(i.height),r.top=Xr(i.top),r.bottom=Xr(i.bottom),r.width=Xr(i.width),r.left=Xr(i.left),r.right=Xr(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Xr(o)),s&&(r.maxWidth=Xr(s))}this._lastBoundingBoxSize=i,sg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){sg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();sg(i,this._getExactOverlayY(n,t,d)),sg(i,this._getExactOverlayX(n,t,d))}else i.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Xr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Xr(s.maxWidth):o&&(i.maxWidth="")),sg(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Xr(o.y);return r}_getExactOverlayX(t,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Xr(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:v$(t,i),isOriginOutsideView:bO(t,i),isOverlayClipped:v$(n,i),isOverlayOutsideView:bO(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&z0(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Tt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}};function sg(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function x$(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(Iwe);return!n||n==="px"?parseFloat(t):null}return e||null}function b$(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function Fwe(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var w$="cdk-global-overlay-wrapper",$2=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(w$),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",p="",m="",v="";l?v="flex-start":d==="center"?(v="center",f?m=u:p=u):f?d==="left"||d==="end"?(v="flex-end",p=u):(d==="right"||d==="start")&&(v="flex-start",m=u):d==="left"||d==="start"?(v="flex-start",p=u):(d==="right"||d==="end")&&(v="flex-end",m=u),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,n.justifyContent=v,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(w$),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},T$=(()=>{class e{_viewportRuler=O(Qx);_document=O(Ot);_platform=O(si);_overlayContainer=O(eb);constructor(){}global(){return new $2}flexibleConnectedTo(n){return new j2(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jo=(()=>{class e{scrollStrategies=O(_$);_overlayContainer=O(eb);_positionBuilder=O(T$);_keyboardDispatcher=O(E$);_injector=O(Pn);_ngZone=O(pt);_document=O(Ot);_directionality=O(Tl);_location=O(Kh);_outsideClickDispatcher=O(D$);_animationsModuleType=O(Ir,{optional:!0});_idGenerator=O(ys);_renderer=O(yo).createRenderer(null,null);_appRef;_styleLoader=O(oo);constructor(){}create(n){this._styleLoader.load(R$);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new rf(n);return s.direction=s.direction||this._directionality.value,new ag(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(io),this._renderer)}position(){return this._positionBuilder}_createPaneElement(n){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(qa)),new K0(n,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var kwe=new Re("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=O(Jo);return()=>e.scrollStrategies.reposition()}});function Awe(e){return()=>e.scrollStrategies.reposition()}var Mwe={provide:kwe,deps:[Jo],useFactory:Awe},Z0=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({providers:[Jo,Mwe],imports:[ku,Zx,H2,H2]})}return e})();var dn=(()=>{class e{constructor(){O(A2)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[ku,ku]})}return e})();var Q0=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,dn]})}return e})();var zwe=["mat-menu-item",""],Uwe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Wwe=["mat-icon, [matMenuItemIcon]","*"];function jwe(e,t){e&1&&(Gp(),Le(0,"svg",2),Ct(1,"polygon",3),He())}var $we=["*"];function qwe(e,t){if(e&1){let n=ro();Le(0,"div",0),Ft("click",function(){ui(n);let r=Zn();return hi(r.closed.emit("click"))})("animationstart",function(r){ui(n);let o=Zn();return hi(o._onAnimationStart(r.animationName))})("animationend",function(r){ui(n);let o=Zn();return hi(o._onAnimationDone(r.animationName))})("animationcancel",function(r){ui(n);let o=Zn();return hi(o._onAnimationDone(r.animationName))}),Le(1,"div",1),ri(2),He()()}if(e&2){let n=Zn();Xa(n._classList),gn("mat-menu-panel-animations-disabled",n._animationsDisabled)("mat-menu-panel-exit-animation",n._panelAnimationState==="void")("mat-menu-panel-animating",n._isAnimating),dt("id",n.panelId),bi("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null)("aria-describedby",n.ariaDescribedby||null)}}var SO=new Re("MAT_MENU_PANEL"),nb=(()=>{class e{_elementRef=O(Tt);_document=O(Ot);_focusMonitor=O(gd);_parentMenu=O(SO,{optional:!0});_changeDetectorRef=O(Fi);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new ut;_focused=new ut;_highlighted=!1;_triggersSubmenu=!1;constructor(){O(oo).load(j0),this._parentMenu?.addItem?.(this)}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&Ft("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(bi("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),gn("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",pe],disableRipple:[2,"disableRipple","disableRipple",pe]},exportAs:["matMenuItem"],attrs:zwe,ngContentSelectors:Wwe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(Kr(Uwe),ri(0),Le(1,"span",0),ri(2,1),He(),Ct(3,"div",1),nn(4,jwe,2,0,":svg:svg",2)),i&2&&(Xe(3),dt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Xe(),xo(r._triggersSubmenu?4:-1))},dependencies:[B2],encapsulation:2,changeDetection:0})}return e})();var Kwe=new Re("MatMenuContent");var Xwe=new Re("mat-menu-default-options",{providedIn:"root",factory:Ywe});function Ywe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var _O="_mat-menu-enter",q2="_mat-menu-exit",J0=(()=>{class e{_elementRef=O(Tt);_changeDetectorRef=O(Fi);_injector=O(Pn);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Hh;_classList={};_panelAnimationState="void";_animationDone=new ut;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(n){let i=this._previousPanelClass,r=z({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(n){this.panelClass=n}closed=new _e;close=this.closed;panelId=O(ys).getId("mat-menu-panel-");constructor(){let n=O(Xwe);this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this.overlapTrigger=n.overlapTrigger,this.hasBackdrop=n.hasBackdrop,this._animationsDisabled=O(Ir,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Kx(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(qo(this._directDescendantItems),Ko(n=>dc(...n.map(i=>i._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=n.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(qo(this._directDescendantItems),Ko(i=>dc(...i.map(r=>r._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){let i=n.keyCode,r=this._keyManager;switch(i){case 27:vc(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(n);return}}focusFirstItem(n="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ba(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(n).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){}setPositionClasses(n=this.xPosition,i=this.yPosition){this._classList=ke(z({},this._classList),{"mat-menu-before":n==="before","mat-menu-after":n==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(n){let i=n===q2;(i||n===_O)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(n){(n===_O||n===q2)&&(this._isAnimating=!0)}_setIsOpen(n){if(this._panelAnimationState=n?"enter":"void",n){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(q2),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(n?_O:q2)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(qo(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let n=null;return this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),n}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(El(o,Kwe,5),El(o,nb,5),El(o,nb,4)),i&2){let s;Qn(s=Jn())&&(r.lazyContent=s.first),Qn(s=Jn())&&(r._allItems=s),Qn(s=Jn())&&(r.items=s)}},viewQuery:function(i,r){if(i&1&&tr(ya,5),i&2){let o;Qn(o=Jn())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&bi("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",pe],hasBackdrop:[2,"hasBackdrop","hasBackdrop",n=>n==null?null:pe(n)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[fi([{provide:SO,useExisting:e}])],ngContentSelectors:$we,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(Kr(),nn(0,qwe,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return e})(),I$=new Re("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=O(Jo);return()=>e.scrollStrategies.reposition()}});function Zwe(e){return()=>e.scrollStrategies.reposition()}var Qwe={provide:I$,deps:[Jo],useFactory:Zwe},Jwe={passive:!0};var tb=new WeakMap,K2=(()=>{class e{_overlay=O(Jo);_element=O(Tt);_viewContainerRef=O($r);_menuItemInstance=O(nb,{optional:!0,self:!0});_dir=O(Tl,{optional:!0});_focusMonitor=O(gd);_ngZone=O(pt);_scrollStrategy=O(I$);_changeDetectorRef=O(Fi);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Gn.EMPTY;_hoverSubscription=Gn.EMPTY;_menuCloseSubscription=Gn.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._parentMaterialMenu,this._menuCloseSubscription=n.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new _e;onMenuOpen=this.menuOpened;menuClosed=new _e;onMenuClose=this.menuClosed;constructor(){let n=O(SO,{optional:!0}),i=O(Fr);this._parentMaterialMenu=n instanceof J0?n:void 0,this._cleanupTouchstart=Cs(i,this._element.nativeElement,"touchstart",r=>{Jp(r)||(this._openedBy="touch")},Jwe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&tb.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let n=this.menu;if(this._menuOpen||!n)return;this._pendingRemoval?.unsubscribe();let i=tb.get(n);tb.set(n,this),i&&i!==this&&i.closeMenu();let r=this._createOverlay(n),o=r.getConfig(),s=o.positionStrategy;this._setPosition(n,s),o.hasBackdrop=n.hasBackdrop==null?!this.triggersSubmenu():n.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(n)),n.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),n instanceof J0&&(n._setIsOpen(!0),n._directDescendantItems.changes.pipe(Hi(n.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof J0&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Tr(1)).subscribe(()=>{i.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&tb.delete(r),this.restoreFocus&&(n==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){let i=this._getOverlayConfig(n);this._subscribeToPositions(n,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof J0&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(n){return new rf({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(n,i){n.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";n.setPositionClasses(o,s)})})}_setPosition(n,i){let[r,o]=n.xPosition==="before"?["end","start"]:["start","end"],[s,a]=n.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[d,u]=[r,o],f=0;if(this.triggersSubmenu()){if(u=r=n.xPosition==="before"?"start":"end",o=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}f=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:f},{originX:o,originY:l,overlayX:u,overlayY:s,offsetY:f},{originX:r,originY:c,overlayX:d,overlayY:a,offsetY:-f},{originX:o,originY:c,overlayX:u,overlayY:a,offsetY:-f}])}_menuClosingActions(){let n=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Et(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(pn(s=>this._menuOpen&&s!==this._menuItemInstance)):Et();return dc(n,r,o,i)}_handleMousedown(n){Qp(n)||(this._openedBy=n.button===0?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){let i=n.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(n=>{n===this._menuItemInstance&&!n.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new Fu(n.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(n){return tb.get(n)===this}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&Ft("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),i&2&&bi("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return e})(),F$=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({providers:[Qwe],imports:[Q0,dn,Z0,nf,dn]})}return e})(),k$={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},rdt=k$.fadeInItems,odt=k$.transformMenu;var X2;function t_e(){if(X2===void 0&&(X2=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(X2=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return X2}function ib(e){return t_e()?.createHTML(e)||e}function EO(e){return Error(`Unable to find icon with the name "${e}"`)}function M$(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function DO(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function RO(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Au=class{url;svgText;options;svgElement;constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},rb=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(n,i,r,o){this._httpClient=n,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(n,i,r){return this.addSvgIconInNamespace("",n,i,r)}addSvgIconLiteral(n,i,r){return this.addSvgIconLiteralInNamespace("",n,i,r)}addSvgIconInNamespace(n,i,r,o){return this._addSvgIconConfig(n,i,new Au(r,null,o))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,r,o){let s=this._sanitizer.sanitize(vs.HTML,r);if(!s)throw RO(r);let a=ib(s);return this._addSvgIconConfig(n,i,new Au("",a,o))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,r){return this._addSvgIconSetConfig(n,new Au(i,null,r))}addSvgIconSetLiteralInNamespace(n,i,r){let o=this._sanitizer.sanitize(vs.HTML,i);if(!o)throw RO(i);let s=ib(o);return this._addSvgIconSetConfig(n,new Au("",s,r))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let i=this._sanitizer.sanitize(vs.RESOURCE_URL,n);if(!i)throw DO(n);let r=this._cachedIconsByUrl.get(i);return r?Et(Y2(r)):this._loadSvgIconFromConfig(new Au(n,null)).pipe(gr(o=>this._cachedIconsByUrl.set(i,o)),Pt(o=>Y2(o)))}getNamedSvgIcon(n,i=""){let r=A$(i,n),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,n),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(n,s):Mh(EO(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Et(Y2(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Pt(i=>Y2(i)))}_getSvgFromIconSetConfigs(n,i){let r=this._extractIconWithNameFromAnySet(n,i);if(r)return Et(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Xc(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(vs.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Et(null)})));return Oy(o).pipe(Pt(()=>{let s=this._extractIconWithNameFromAnySet(n,i);if(!s)throw EO(n);return s}))}_extractIconWithNameFromAnySet(n,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(n)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,n,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(gr(i=>n.svgText=i),Pt(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Et(null):this._fetchIcon(n).pipe(gr(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,r){let o=n.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(ib("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(n){let i=this._document.createElement("DIV");i.innerHTML=n;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){let i=this._svgElementFromString(ib("<svg></svg>")),r=n.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<n.childNodes.length;o++)n.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){let{url:i,options:r}=n,o=r?.withCredentials??!1;if(!this._httpClient)throw M$();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(vs.RESOURCE_URL,i);if(!s)throw DO(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Pt(c=>ib(c)),uc(()=>this._inProgressUrlFetches.delete(s)),Nh());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(n,i,r){return this._svgIconConfigs.set(A$(n,i),r),this}_addSvgIconSetConfig(n,i){let r=this._iconSetConfigs.get(n);return r?r.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){let i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,n);if(o)return n_e(o)?new Au(o.url,null,o.options):new Au(o,null)}}static \u0275fac=function(i){return new(i||e)(lt(R0,8),lt(jp),lt(Ot,8),lt(Xs))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Y2(e){return e.cloneNode(!0)}function A$(e,t){return e+":"+t}function n_e(e){return!!(e.url&&e.options)}var i_e=["*"],P$=new Re("MAT_ICON_DEFAULT_OPTIONS"),O$=new Re("mat-icon-location",{providedIn:"root",factory:L$});function L$(){let e=O(Ot),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var N$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],r_e=N$.map(e=>`[${e}]`).join(", "),o_e=/^url\(['"]?#(.*?)['"]?\)$/,Mu=(()=>{class e{_elementRef=O(Tt);_iconRegistry=O(rb);_location=O(O$);_errorHandler=O(Xs);_defaultColor;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(n){let i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(n){let i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Gn.EMPTY;constructor(){let n=O(new s0("aria-hidden"),{optional:!0}),i=O(P$,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),n||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=n.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),i.forEach(r=>n.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${n}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(n){let i=n.querySelectorAll(r_e),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)N$.forEach(s=>{let a=i[o],l=a.getAttribute(s),c=l?l.match(o_e):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[i,r]=this._splitIconName(n);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Tr(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(bi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Xa(r.color?"mat-"+r.color:""),gn("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",pe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:i_e,decls:1,vars:0,template:function(i,r){i&1&&(Kr(),ri(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),Pu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,dn]})}return e})();var s_e=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return e})(),a_e={passive:!0},B$=(()=>{class e{_platform=O(si);_ngZone=O(pt);_renderer=O(yo).createRenderer(null,null);_styleLoader=O(oo);_monitoredElements=new Map;constructor(){}monitor(n){if(!this._platform.isBrowser)return Io;this._styleLoader.load(s_e);let i=Ja(n),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new ut,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),Cs(this._renderer,i,"animationstart",a,a_e)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(n){let i=Ja(n),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var V$=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({})}return e})();var H$=new Re("MAT_INPUT_VALUE_ACCESSOR");var IO=class{_box;_destroyed=new ut;_resizeSubject=new ut;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Gt(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(pn(n=>n.some(i=>i.target===t)),pu({bufferSize:1,refCount:!0}),Hi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},G$=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=O(pt);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(n,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new IO(r)),this._observers.get(r).observe(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var l_e=["notch"],c_e=["matFormFieldNotchedOutline",""],d_e=["*"],u_e=["textField"],h_e=["iconPrefixContainer"],f_e=["textPrefixContainer"],p_e=["iconSuffixContainer"],g_e=["textSuffixContainer"],m_e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],v_e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function C_e(e,t){e&1&&Ct(0,"span",20)}function y_e(e,t){if(e&1&&(Le(0,"label",19),ri(1,1),nn(2,C_e,1,0,"span",20),He()),e&2){let n=Zn(2);dt("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),bi("for",n._control.disableAutomaticLabeling?null:n._control.id),Xe(2),xo(!n.hideRequiredMarker&&n._control.required?2:-1)}}function x_e(e,t){if(e&1&&nn(0,y_e,3,5,"label",19),e&2){let n=Zn();xo(n._hasFloatingLabel()?0:-1)}}function b_e(e,t){e&1&&Ct(0,"div",7)}function w_e(e,t){}function __e(e,t){if(e&1&&nn(0,w_e,0,0,"ng-template",13),e&2){Zn(2);let n=Zo(1);dt("ngTemplateOutlet",n)}}function S_e(e,t){if(e&1&&(Le(0,"div",9),nn(1,__e,1,1,null,13),He()),e&2){let n=Zn();dt("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),Xe(),xo(n._forceDisplayInfixLabel()?-1:1)}}function E_e(e,t){e&1&&(Le(0,"div",10,2),ri(2,2),He())}function D_e(e,t){e&1&&(Le(0,"div",11,3),ri(2,3),He())}function R_e(e,t){}function T_e(e,t){if(e&1&&nn(0,R_e,0,0,"ng-template",13),e&2){Zn();let n=Zo(1);dt("ngTemplateOutlet",n)}}function I_e(e,t){e&1&&(Le(0,"div",14,4),ri(2,4),He())}function F_e(e,t){e&1&&(Le(0,"div",15,5),ri(2,5),He())}function k_e(e,t){e&1&&Ct(0,"div",16)}function A_e(e,t){e&1&&ri(0,6)}function M_e(e,t){if(e&1&&(Le(0,"mat-hint",21),cn(1),He()),e&2){let n=Zn(2);dt("id",n._hintLabelId),Xe(),ko(n.hintLabel)}}function P_e(e,t){if(e&1&&(nn(0,M_e,2,2,"mat-hint",21),ri(1,7),Ct(2,"div",22),ri(3,8)),e&2){let n=Zn();xo(n.hintLabel?0:-1)}}var Q2=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["mat-label"]]})}return e})(),K$=new Re("MatError");var J2=(()=>{class e{align="start";id=O(ys).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Up("id",r.id),bi("align",null),gn("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return e})(),X$=new Re("MatPrefix");var FO=new Re("MatSuffix"),eD=(()=>{class e{set _isTextSelector(n){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[fi([{provide:FO,useExisting:e}])]})}return e})(),Y$=new Re("FloatingLabelParent"),z$=(()=>{class e{_elementRef=O(Tt);get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=O(G$);_ngZone=O(pt);_parent=O(Y$);_resizeSubscription=new Gn;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return O_e(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&gn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();function O_e(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var U$="mdc-line-ripple--active",Z2="mdc-line-ripple--deactivating",W$=(()=>{class e{_elementRef=O(Tt);_cleanupTransitionEnd;constructor(){let n=O(pt),i=O(Fr);n.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(Z2),n.add(U$)}deactivate(){this._elementRef.nativeElement.classList.add(Z2)}_handleTransitionEnd=n=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Z2);n.propertyName==="opacity"&&r&&i.remove(U$,Z2)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),j$=(()=>{class e{_elementRef=O(Tt);_ngZone=O(pt);open=!1;_notch;constructor(){}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&tr(l_e,5),i&2){let o;Qn(o=Jn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&gn("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:c_e,ngContentSelectors:d_e,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Kr(),Ct(0,"div",1),Le(1,"div",2,0),ri(3),He(),Ct(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),tD=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e})}return e})();var nD=new Re("MatFormField"),iD=new Re("MAT_FORM_FIELD_DEFAULT_OPTIONS"),$$="fill",L_e="auto",q$="fixed",N_e="translateY(-50%)",rD=(()=>{class e{_elementRef=O(Tt);_changeDetectorRef=O(Fi);_dir=O(Tl);_platform=O(si);_idGenerator=O(ys);_ngZone=O(pt);_injector=O(Pn);_defaults=O(iD,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Y9(Q2);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=md(n)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||L_e}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(n){let i=this._appearance,r=n||this._defaults?.appearance||$$;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=$$;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||q$}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||q$}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}_destroyed=new ut;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let n=this._defaults;n&&(n.appearance&&(this.appearance=n.appearance),this._hideRequiredMarker=!!n?.hideRequiredMarker,n.color&&(this.color=n.color)),this._animationsDisabled=O(Ir,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=ad(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let i=this._control,r="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(r+n.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(qo([void 0,void 0]),Pt(()=>[i.errorState,i.userAriaDescribedBy]),gS(),pn(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Hi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),dc(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),rx(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Hi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=ad(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let i=this._control?this._control.ngControl:null;return i&&i[n]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",f=`${a+l}px`,m=`calc(${u} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${N_e} translateX(${m})
    )`;let v=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${v}px)`)}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(DU(o,r._labelChild,Q2,5),El(o,tD,5),El(o,X$,5),El(o,FO,5),El(o,K$,5),El(o,J2,5)),i&2){RU();let s;Qn(s=Jn())&&(r._formFieldControl=s.first),Qn(s=Jn())&&(r._prefixChildren=s),Qn(s=Jn())&&(r._suffixChildren=s),Qn(s=Jn())&&(r._errorChildren=s),Qn(s=Jn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(tr(u_e,5),tr(h_e,5),tr(f_e,5),tr(p_e,5),tr(g_e,5),tr(z$,5),tr(j$,5),tr(W$,5)),i&2){let o;Qn(o=Jn())&&(r._textField=o.first),Qn(o=Jn())&&(r._iconPrefixContainer=o.first),Qn(o=Jn())&&(r._textPrefixContainer=o.first),Qn(o=Jn())&&(r._iconSuffixContainer=o.first),Qn(o=Jn())&&(r._textSuffixContainer=o.first),Qn(o=Jn())&&(r._floatingLabel=o.first),Qn(o=Jn())&&(r._notchedOutline=o.first),Qn(o=Jn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&gn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[fi([{provide:nD,useExisting:e},{provide:Y$,useExisting:e}])],ngContentSelectors:v_e,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=ro();Kr(m_e),nn(0,x_e,1,1,"ng-template",null,0,jh),Le(2,"div",6,1),Ft("click",function(a){return ui(o),hi(r._control.onContainerClick(a))}),nn(4,b_e,1,0,"div",7),Le(5,"div",8),nn(6,S_e,2,2,"div",9)(7,E_e,3,0,"div",10)(8,D_e,3,0,"div",11),Le(9,"div",12),nn(10,T_e,1,1,null,13),ri(11),He(),nn(12,I_e,3,0,"div",14)(13,F_e,3,0,"div",15),He(),nn(14,k_e,1,0,"div",16),He(),Le(15,"div",17),$P(16),Le(17,"div",18),nn(18,A_e,1,0)(19,P_e,4,1),He()()}if(i&2){let o;Xe(2),gn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Xe(2),xo(!r._hasOutline()&&!r._control.disabled?4:-1),Xe(2),xo(r._hasOutline()?6:-1),Xe(),xo(r._hasIconPrefix?7:-1),Xe(),xo(r._hasTextPrefix?8:-1),Xe(2),xo(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),Xe(2),xo(r._hasTextSuffix?12:-1),Xe(),xo(r._hasIconSuffix?13:-1),Xe(),xo(r._hasOutline()?-1:14),Xe(),gn("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();Xe(2),gn("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),Xe(),xo((o=s)==="error"?18:o==="hint"?19:-1)}},dependencies:[z$,j$,e3,W$,J2],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,changeDetection:0})}return e})();var Z$=(()=>{class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var oD=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,n,i,r,o){this._defaultMatcher=t,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var tv=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,ig,dn]})}return e})();var G_e=["button","checkbox","file","hidden","image","radio","range","reset","submit"],z_e=new Re("MAT_INPUT_CONFIG"),Q$=(()=>{class e{_elementRef=O(Tt);_platform=O(si);ngControl=O(Zp,{optional:!0,self:!0});_autofillMonitor=O(B$);_ngZone=O(pt);_formField=O(nD,{optional:!0});_renderer=O(Fr);_uid=O(ys).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=O(z_e,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ut;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=md(n),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(n){this._id=n||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(g2.required)??!1}set required(n){this._required=md(n)}_required;get type(){return this._type}set type(n){let i=this._type;this._type=n||"text",this._validateType(),!this._isTextarea&&vO().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(n){n!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(n):this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=md(n)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(n=>vO().has(n));constructor(){let n=O(Ux,{optional:!0}),i=O(tO,{optional:!0}),r=O(Z$),o=O(H$,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?m0(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new oD(r,this.ngControl,i,n,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&$h(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){if(n!==this.focused){if(!this._isNativeSelect&&n&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=n,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){G_e.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(n){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||n;o=n.concat(r.split(" ").filter(a=>a&&!s.includes(a)))}else o=n;this._formFieldDescribedBy=n,o.length?i.setAttribute("aria-describedby",o.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_iOSKeyupListener=n=>{let i=n.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&Ft("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Up("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),bi("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),gn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",pe]},exportAs:["matInput"],features:[fi([{provide:tD,useExisting:e}]),Yo]})}return e})(),J$=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,tv,tv,V$,dn]})}return e})();var W_e=["tooltip"],kO=20;var AO=new Re("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=O(Jo);return()=>e.scrollStrategies.reposition({scrollThrottle:kO})}});function nq(e){return()=>e.scrollStrategies.reposition({scrollThrottle:kO})}var iq={provide:AO,deps:[Jo],useFactory:nq};function rq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var oq=new Re("mat-tooltip-default-options",{providedIn:"root",factory:rq});var eq="tooltip-panel",tq=ef({passive:!0}),j_e=8,$_e=8,q_e=24,K_e=200,ob=(()=>{class e{_elementRef=O(Tt);_ngZone=O(pt);_platform=O(si);_ariaDescriber=O(N2);_focusMonitor=O(gd);_dir=O(Tl);_injector=O(Pn);_viewContainerRef=O($r);_defaultOptions=O(oq,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=sq;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=md(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){let i=md(n);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=G0(n)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=G0(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(n){let i=this._message;this._message=n!=null?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new ut;_isDestroyed=!1;constructor(){let n=this._defaultOptions;n&&(this._showDelay=n.showDelay,this._hideDelay=n.hideDelay,n.position&&(this.position=n.position),n.positionAtOrigin&&(this.positionAtOrigin=n.positionAtOrigin),n.touchGestures&&(this.touchGestures=n.touchGestures),n.tooltipClass&&(this.tooltipClass=n.tooltipClass)),this._viewportMargin=j_e}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Hi(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let n=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{n.removeEventListener(i,r,tq)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Iu(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Hi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(n)}hide(n=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof Tt)return this._overlayRef;this._detach()}let i=this._injector.get(Y0).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Jo),o=r.position().flexibleConnectedTo(this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Hi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${eq}`,scrollStrategy:this._injector.get(AO)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Hi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Hi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Hi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!vc(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Hi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){let i=n.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(z(z({},r.main),o.main)),this._addOffset(z(z({},r.fallback),o.fallback))])}_addOffset(n){let i=$_e,r=!this._dir||this._dir.value=="ltr";return n.originY==="top"?n.offsetY=-i:n.originY==="bottom"?n.offsetY=i:n.originX==="start"?n.offsetX=r?-i:i:n.originX==="end"&&(n.offsetX=r?i:-i),n}_getOrigin(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ba(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){let{overlayY:i,originX:r,originY:o}=n,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${eq}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let i;n.x!==void 0&&n.y!==void 0&&(i=n),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{let i=n.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,tq)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){let i=this._injector.get(Ot).elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let n=this.touchGestures;if(n!=="off"){let i=this._elementRef.nativeElement,r=i.style;(n==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(n==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(n){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,n,"tooltip"),this._isDestroyed||ba({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&gn("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return e})(),sq=(()=>{class e{_changeDetectorRef=O(Fi);_elementRef=O(Tt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new ut;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let n=O(Ir,{optional:!0});this._animationsDisabled=n==="NoopAnimations"}show(n){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>q_e&&n.width>=K_e}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(n?o:r),i.classList.add(n?r:o),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&tr(W_e,7),i&2){let o;Qn(o=Jn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&Ft("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=ro();Le(0,"div",1,0),Ft("animationend",function(a){return ui(o),hi(r._handleAnimationEnd(a))}),Le(2,"div",2),cn(3),He()()}i&2&&(gn("mdc-tooltip--multiline",r._isMultiline),dt("ngClass",r.tooltipClass),Xe(3),ko(r.message))},dependencies:[b0],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return e})(),lg=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({providers:[iq],imports:[W0,Z0,dn,dn,nf]})}return e})();function wi(e){e||(Jy(wi),e=O(Xi));let t=new Gt(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe(Hi(t))}var of=class e{userStore$=new ii(null);user$=this.userStore$.asObservable();isLogged(){return!!this.userStore$.getValue()?.id}setUserName(t){this.userStore$.next(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};function X_e(e,t){e&1&&UP(0)}function Y_e(e,t){if(e&1){let n=ro();Le(0,"button",14),Ft("click",function(r){ui(n);let o=Zn();return hi(o.logout(r))}),cn(1," Logout "),He()}}function Z_e(e,t){if(e&1&&(Le(0,"button",15),cn(1,"login"),He()),e&2){Zn();let n=Zo(15);dt("matMenuTriggerFor",n)}}var nv=class e{constructor(t){this.authService$=t}trigger=null;destroyRef=O(Xi);userName="";isLoggedIn=!1;ngOnInit(){let t=this.authService$.user$.pipe(wi(this.destroyRef)).subscribe(n=>{n?(this.isLoggedIn=!0,this.userName=n.name):this.isLoggedIn=!1});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}usernameChangeWithEvent(){this.userName&&(this.authService$.setUserName({name:this.userName,id:Wx()}),this.trigger?.closeMenu())}logout(t){this.authService$.setUserName(null),t.stopPropagation(),setTimeout(()=>this.trigger?.closeMenu(),60)}static \u0275fac=function(n){return new(n||e)(We(of))};static \u0275cmp=Qe({type:e,selectors:[["app-header"]],viewQuery:function(n,i){if(n&1&&tr(K2,5),n&2){let r;Qn(r=Jn())&&(i.trigger=r.first)}},decls:22,vars:6,consts:[["menu","matMenu"],["loggedIn",""],["loggedOut",""],["login","matMenu"],[1,"brand"],[1,"menu"],["matTooltipPosition","left","matTooltipClass","tooltip","mat-icon-button","","aria-label","Account icon-button with a menu",3,"matTooltip","matMenuTriggerFor"],["src","assets/icons8-login-50.png","alt","avatar"],[4,"ngIf","ngIfThen","ngIfElse"],["mat-menu-item","",1,"login-form",3,"click"],[1,"full-width"],["type","text","name","userName","matInput","","placeholder","Please enter username",3,"ngModelChange","ngModel"],["matTooltip","Submit username","matTooltipPosition","above","matSuffix","","mat-icon-button","","aria-label","Submit",3,"click"],["matIconSuffix",""],["mat-menu-item","",1,"logout-button",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"]],template:function(n,i){if(n&1){let r=ro();Le(0,"header")(1,"div",4)(2,"h5"),cn(3,"The Hangout"),He()(),Le(4,"div",5)(5,"button",6),Ct(6,"img",7),He(),Le(7,"mat-menu",null,0),nn(9,X_e,1,0,"ng-container",8)(10,Y_e,2,0,"ng-template",null,1,jh)(12,Z_e,2,1,"ng-template",null,2,jh),He(),Le(14,"mat-menu",null,3)(16,"form",9),Ft("click",function(s){return ui(r),hi(s.stopPropagation())}),Le(17,"mat-form-field",10)(18,"input",11),jP("ngModelChange",function(s){return ui(r),IU(i.userName,s)||(i.userName=s),hi(s)}),He(),Le(19,"button",12),Ft("click",function(){return ui(r),hi(i.usernameChangeWithEvent())}),Le(20,"mat-icon",13),cn(21,"recommend"),He()()()()()()()}if(n&2){let r=Zo(8),o=Zo(11),s=Zo(13);Xe(5),dt("matTooltip",i.isLoggedIn?"Logout menu":"Login menu")("matMenuTriggerFor",r),Xe(4),dt("ngIf",i.isLoggedIn)("ngIfThen",o)("ngIfElse",s),Xe(9),WP("ngModel",i.userName)}},dependencies:[Bj,Nj,D2,Ij,Fj,eO,Ux,oi,Ya,F$,J0,nb,K2,Pu,Mu,J$,Q$,rD,eD,tv,lg,ob],styles:[".mat-mdc-menu-content{padding:0 10px!important}  .mat-mdc-menu-item{padding:0!important}  .mat-mdc-text-field-wrapper, button[mat-icon-button][_ngcontent-%COMP%]{background-color:transparent!important}  .mat-mdc-menu-trigger{background-color:transparent!important;border-style:none!important}  .mdc-line-ripple{display:none!important}  .mat-mdc-form-field-icon-suffix>button{border-style:none!important;margin-left:10px I!important}  .mdc-tooltip__surface{color:#fff!important;background:gray!important;background-color:gray!important}  .mat-mdc-menu-panel{min-width:fit-content!important}header[_ngcontent-%COMP%]{display:flex;background:#020024;background:linear-gradient(90deg,#020024,#090979 35%,#00d4ff);margin:0;padding:5px 40px;color:#f5f5f5;box-shadow:0 2px 4px #0000001a}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{height:60px}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px;margin:0;letter-spacing:1px}header[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{padding:5px}"]})};Bu();Sa();var af={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};Ar();pf();var aL="projection",tK="coordinateFormat",lL=class extends Pr{constructor(t){t=t||{};let n=document.createElement("div");n.className=t.className!==void 0?t.className:"ol-mouse-position",super({element:n,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(aL,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=t.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=t.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(tK)}getProjection(){return this.get(aL)}handleMouseMove(t){let n=this.getMap();this.updateHTML_(n.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){let n=t.getViewport();this.listenerKeys.push(rn(n,af.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(rn(n,af.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(tK,t)}setProjection(t){this.set(aL,zi(t))}updateHTML_(t){let n=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){let o=this.getProjection();o?this.transform_=Ml(this.mapProjection_,o):this.transform_=QO}let r=this.getMap().getCoordinateFromPixelInternal(t);if(r){let o=yd();if(o&&(this.transform_=Ml(this.mapProjection_,o)),this.transform_(r,r),this.wrapX_){let a=o||this.getProjection()||this.mapProjection_;dv(r,a)}let s=this.getCoordinateFormat();s?n=s(r):n=r.toString()}}(!this.renderedHTML_||n!==this.renderedHTML_)&&(this.element.innerHTML=n,this.renderedHTML_=n)}render(t){let n=t.frameState;n?this.mapProjection_!=n.viewState.projection&&(this.mapProjection_=n.viewState.projection,this.transform_=null):this.mapProjection_=null}},nK=lL;Bu();var ID=class e{numberCoordinates(t=[0,0],n=0){return vq(t,n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var FD=class e{constructor(t,n){this.element=t;this.coordinateFormatter=n}map=null;control=null;ngOnInit(){this.control=new nK({className:"mouseposition-control",coordinateFormat:t=>this.coordinateFormatter.numberCoordinates(t,4),target:this.element.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(n){return new(n||e)(We(Tt),We(ID))};static \u0275cmp=Qe({type:e,selectors:[["app-mouse-position"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:[".ol-scale-line{position:relative}  .ol-scale-line,   .ol-scale-line-inner{background-color:transparent;border-color:var(--text-color);color:var(--text-color);font-size:inherit;bottom:auto}"],changeDetection:0})};gf();Ar();pf();var uL="units",A1e=[1,2,5],Cb=25.4/.28,hL=class extends Pr{constructor(t){t=t||{};let n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:t.render,target:t.target}),this.on,this.once,this.un;let i=t.className!==void 0?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+bd,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=t.minWidth!==void 0?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(uL,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(uL)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(uL,t)}setDpi(t){this.dpi_=t}updateElement_(){let t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=t.center,i=t.projection,r=this.getUnits(),o=r=="degrees"?"degrees":"m",s=pg(i,t.resolution,n,o),a=this.minWidth_*(this.dpi_||Cb)/Cb,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Cb)/Cb:void 0,c=a*s,d="";if(r=="degrees"){let w=kl.degrees;c*=w,c<w/60?(d="\u2033",s*=3600):c<w?(d="\u2032",s*=60):d="\xB0"}else if(r=="imperial")c<.9144?(d="in",s/=.0254):c<1609.344?(d="ft",s/=.3048):(d="mi",s/=1609.344);else if(r=="nautical")s/=1852,d="NM";else if(r=="metric")c<1e-6?(d="nm",s*=1e9):c<.001?(d="\u03BCm",s*=1e6):c<1?(d="mm",s*=1e3):c<1e3?d="m":(d="km",s/=1e3);else if(r=="us")c<.9144?(d="in",s*=39.37):c<1609.344?(d="ft",s/=.30480061):(d="mi",s/=1609.3472);else throw new Error("Invalid units");let u=3*Math.floor(Math.log(a*s)/Math.log(10)),f,p,m,v=0,C,y;for(;;){m=Math.floor(u/3);let w=Math.pow(10,m);if(f=A1e[(u%3+3)%3]*w,p=Math.round(f/s),isNaN(p)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&p>=l){f=v,p=C,m=y;break}else if(p>=a)break;v=f,C=p,y=m,++u}let b=this.scaleBar_?this.createScaleBar(p,f,d):f.toFixed(m<0?-m:0)+" "+d;this.renderedHTML_!=b&&(this.innerElement_.innerHTML=b,this.renderedHTML_=b),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,n,i){let r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,a=t/s,l=[this.createMarker("absolute")];for(let d=0;d<s;++d){let u=d%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${u}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(d%2===0||s===2?this.createStepText(d,t,!1,n,i):"")+"</div>")}return l.push(this.createStepText(s,t,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+o+"</div>":"")+l.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${t==="absolute"?3:-10}px;"></div>`}createStepText(t,n,i,r,o){let a=(t===0?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(t===0?"":" "+o),l=t===0?-3:n/this.scaleBarSteps_*-1,c=t===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${t===0?"left":"center"};min-width: ${c}px;left: ${i?n+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){let t=pg(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||Cb,i=1e3/25.4;return t*i*n}render(t){let n=t.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}},oK=hL;var kD=class e{constructor(t){this.elementRef=t}map=null;control=null;ngOnInit(){this.control=new oK({target:this.elementRef.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(n){return new(n||e)(We(Tt))};static \u0275cmp=Qe({type:e,selectors:[["app-scale-line"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},encapsulation:2,changeDetection:0})};bv();yb();xd();var pL=class extends Mo{constructor(t,n,i){super(t),this.map=n,this.frameState=i!==void 0?i:null}},mf=pL;var gL=class extends mf{constructor(t,n,i,r,o,s){super(t,n,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},wd=gL;yr();var Yi={SINGLECLICK:"singleclick",CLICK:bt.CLICK,DBLCLICK:bt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};yr();mb();Sa();mg();var CL=class extends ff{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=rn(i,af.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=rn(i,af.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(bt.TOUCHMOVE,this.boundHandleTouchMove_,MD?{passive:!1}:!1)}emulateClick_(t){let n=new wd(Yi.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new wd(Yi.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new wd(Yi.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){let n=t,i=n.pointerId;if(n.type==Yi.POINTERUP||n.type==Yi.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Yi.POINTERDOWN||n.type==Yi.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);let n=new wd(Yi.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Bn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);let n=new wd(Yi.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(rn(i,Yi.POINTERMOVE,this.handlePointerMove_,this),rn(i,Yi.POINTERUP,this.handlePointerUp_,this),rn(this.element_,Yi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(rn(this.element_.getRootNode(),Yi.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;let n=new wd(Yi.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;let n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new wd(Yi.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){let n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Bn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(bt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Bn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Bn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},cK=CL;ED();var es={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};Ll();gv();var kt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};yr();Da();wc();var xb=1/0,yL=class{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Cd(this.queuedElements_)}dequeue(){let t=this.elements_,n=this.priorities_,i=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(t){vn(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let n=this.priorityFunction_(t);return n!=xb?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){let n=this.elements_,i=this.priorities_,r=n.length,o=n[t],s=i[t],a=t;for(;t<r>>1;){let l=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),d=c<r&&i[c]<i[l]?c:l;n[t]=n[d],i[t]=i[d],t=d}n[t]=o,i[t]=s,this.siftDown_(a,t)}siftDown_(t,n){let i=this.elements_,r=this.priorities_,o=i[n],s=r[n];for(;n>t;){let a=this.getParentIndex_(n);if(r[a]>s)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=o,r[n]=s}reprioritize(){let t=this.priorityFunction_,n=this.elements_,i=this.priorities_,r=0,o=n.length,s,a,l;for(a=0;a<o;++a)s=n[a],l=t(s),l==xb?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,n[r++]=s);n.length=r,i.length=r,this.heapify_()}},dK=yL;var xL=class extends dK{constructor(t,n){super(i=>t.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){let n=super.enqueue(t);return n&&t[0].addEventListener(bt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){let n=t.target,i=n.getState();if(i===kt.LOADED||i===kt.ERROR||i===kt.EMPTY){i!==kt.ERROR&&n.removeEventListener(bt.CHANGE,this.boundHandleTileChange_);let r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let i=0;for(;this.tilesLoading_<t&&i<n&&this.getCount()>0;){let r=this.dequeue()[0],o=r.getKey();r.getState()===kt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}},uK=xL;function hK(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return xb;if(!e.wantedTiles[n][t.getKey()])return xb;let o=e.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}Eb();PD();Zr();Da();GO();bv();Zr();gf();Lo();yr();Js();pf();var QL=class extends Pr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;let n=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"\u203A",s=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=t.label!==void 0?t.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(bt.CLICK,this.handleClick_.bind(this),!1);let c=n+" "+bd+" "+yv+(this.collapsed_&&this.collapsible_?" "+cL:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=c,d.appendChild(this.toggleButton_),d.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){let n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){let r=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}updateElement_(t){return Wr(this,null,function*(){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=yield Promise.all(this.collectSourceAttributions_(t).map(r=>Jq(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ws(n,this.renderedAttributions_)){$D(this.ulElement_);for(let r=0,o=n.length;r<o;++r){let s=document.createElement("li");s.innerHTML=n[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}})}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(cL),this.collapsed_?ZL(this.collapseLabel_,this.label_):ZL(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}},Cg=QL;gf();vf();yr();pf();var JL=class extends Pr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});let n=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"\u21E7",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let o=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(bt.CLICK,this.handleClick_.bind(this),!1);let a=n+" "+bd+" "+yv,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(vb)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let n=this.getMap().getView();if(!n)return;let i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Bl}):n.setRotation(0))}render(t){let n=t.frameState;if(!n)return;let i=n.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let o=this.element.classList.contains(vb);!o&&i===0?this.element.classList.add(vb):o&&i!==0&&this.element.classList.remove(vb)}this.label_.style.transform=r}this.rotation_=i}},rX=JL;gf();vf();yr();pf();var e4=class extends Pr{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});let n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",s=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2013",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",c=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=r,d.setAttribute("type","button"),d.title=l,d.appendChild(typeof s=="string"?document.createTextNode(s):s),d.addEventListener(bt.CLICK,this.handleClick_.bind(this,i),!1);let u=document.createElement("button");u.className=o,u.setAttribute("type","button"),u.title=c,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(bt.CLICK,this.handleClick_.bind(this,-i),!1);let f=n+" "+bd+" "+yv,p=this.element;p.className=f,p.appendChild(d),p.appendChild(u),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let o=i.getConstrainedZoom(r+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Bl})):i.setZoom(o)}}},oX=e4;function yg(e){e=e||{};let t=new ea;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new oX(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new rX(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new Cg(e.attributionOptions)),t}yr();Sa();zn();Js();mg();bv();var t4=class{constructor(t,n,i){this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;let t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>t;)i-=3;let r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;let o=this.points_[n]-this.points_[i],s=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},sX=t4;Ll();vf();var n4={ACTIVE:"active"};var i4=class extends Mr{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(n4.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(n4.ACTIVE,t)}setMap(t){this.map_=t}};function aX(e,t,n){let i=e.getCenterInternal();if(i){let r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:vK,center:e.getConstrainedCenter(r)})}}function Dv(e,t,n,i){let r=e.getZoom();if(r===void 0)return;let o=e.getConstrainedZoom(r+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:i!==void 0?i:250,easing:Bl})}var _d=i4;var r4=class extends _d{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==Yi.DBLCLICK){let i=t.originalEvent,r=t.map,o=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=r.getView();Dv(a,s,o,this.duration_),i.preventDefault(),n=!0}return!n}},lX=r4;Bu();vf();Js();mg();function Db(e){let t=arguments;return function(n){let i=!0;for(let r=0,o=t.length;r<o&&(i=i&&t[r](n),!!i);++r);return i}}var cX=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},U1e=function(e){let t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)},qD=function(e){let t=e.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?U1e(e):!0},dX=zu;var KD=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.button==0&&!(aK&&mL&&t.ctrlKey)};var XD=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var uX=function(e){let t=e.originalEvent;return mL?t.metaKey:t.ctrlKey},hX=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},YD=function(e){let t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},ZD=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.pointerType=="mouse"};var fX=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&t.button===0};Js();var o4=class extends _d{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Yi.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Yi.POINTERUP){let i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Yi.POINTERDOWN){let i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==Yi.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function Rv(e){let t=e.length,n=0,i=0;for(let r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var Sd=o4;var s4=class extends Sd{constructor(t){super({stopDown:Uu}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let n=t.condition?t.condition:Db(XD,fX);this.condition_=t.onFocusOnly?Db(qD,n):n,this.noKinetic_=!1}handleDragEvent(t){let n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());let i=this.targetPointers,r=n.getEventPixel(Rv(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();mq(o,a.getResolution()),cv(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){let n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Bl})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){let i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},pX=s4;Js();WD();var a4=class extends Sd{constructor(t){t=t||{},super({stopDown:Uu}),this.condition_=t.condition?t.condition:cX,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!ZD(t))return;let n=t.map,i=n.getView();if(i.getConstraints().rotation===Sv)return;let r=n.getSize(),o=t.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(t){return ZD(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return ZD(t)&&KD(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},gX=a4;vf();xd();gb();zL();var l4=class extends hf{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let t=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+i,r.top=Math.min(t[1],n[1])+i,r.width=Math.abs(n[0]-t[0])+i,r.height=Math.abs(n[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new KK([r])}getGeometry(){return this.geometry_}},mX=l4;var Tv={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},xg=class extends Mo{constructor(t,n,i){super(t),this.coordinate=n,this.mapBrowserEvent=i}},c4=class extends Sd{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new mX(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??KD,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,i){let r=i[0]-n[0],o=i[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new xg(Tv.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;let n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new xg(n?Tv.BOXEND:Tv.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new xg(Tv.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new xg(Tv.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new xg(Tv.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}},vX=c4;var d4=class extends vX{constructor(t){t=t||{};let n=t.condition?t.condition:hX;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Bl})}},CX=d4;Bu();yr();var wf={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var u4=class extends _d{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return XD(n)&&YD(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==bt.KEYDOWN){let i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==wf.DOWN||r==wf.LEFT||r==wf.RIGHT||r==wf.UP)){let s=t.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,c=0;r==wf.DOWN?c=-a:r==wf.LEFT?l=-a:r==wf.RIGHT?l=a:c=a;let d=[l,c];cv(d,s.getRotation()),aX(s,d,this.duration_),i.preventDefault(),n=!0}}return!n}},yX=u4;yr();var h4=class extends _d{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!uX(n)&&YD(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==bt.KEYDOWN||t.type==bt.KEYPRESS){let i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==="+"||r==="-")){let o=t.map,s=r==="+"?this.delta_:-this.delta_,a=o.getView();Dv(a,s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}},xX=h4;yr();lr();var f4=class extends _d{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;let n=t.condition?t.condition:dX;this.condition_=t.onFocusOnly?Db(qD,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==bt.WHEEL)return!0;let i=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==bt.WHEEL&&(o=r.deltaY,r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(t){let n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-Yn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Dv(n,i,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},bX=f4;Js();WD();var p4=class extends Sd{constructor(t){t=t||{};let n=t;n.stopDown||(n.stopDown=Uu),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0,i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;let s=t.map,a=s.getView();a.getConstraints().rotation!==Sv&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(Rv(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){let n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},wX=p4;Js();var g4=class extends Sd{constructor(t){t=t||{};let n=t;n.stopDown||(n.stopDown=Uu),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1,i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;let l=t.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Rv(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){let i=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},_X=g4;function SX(e){e=e||{};let t=new ea,n=new sX(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new gX),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new lX({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new pX({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new wX),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new _X({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new yX),t.push(new xX({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new bX({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new CX({duration:e.zoomDuration})),t}bv();yb();gv();Da();xd();yr();Sa();zn();wc();cr();C4();var Ec=class extends Mo{constructor(t,n){super(t),this.layer=n}},y4={LAYERS:"layers"},x4=class e extends QD{constructor(t){t=t||{};let n=Object.assign({},t);delete n.layers;let i=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(y4.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new ea(i.slice(),{unique:!0}):vn(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new ea(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Bn),this.layersListenerKeys_.length=0;let t=this.getLayers();this.layersListenerKeys_.push(rn(t,Po.ADD,this.handleLayersAdd_,this),rn(t,Po.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(Bn);Cd(this.listenerKeys_);let n=t.getArray();for(let i=0,r=n.length;i<r;i++){let o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new Ec("addlayer",o))}this.changed()}registerLayerListeners_(t){let n=[rn(t,_c.PROPERTYCHANGE,this.handleLayerChange_,this),rn(t,bt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push(rn(t,"addlayer",this.handleLayerGroupAdd_,this),rn(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[qt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Ec("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Ec("removelayer",t.layer))}handleLayersAdd_(t){let n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Ec("addlayer",n)),this.changed()}handleLayersRemove_(t){let n=t.element,i=qt(n);this.listenerKeys_[i].forEach(Bn),delete this.listenerKeys_[i],this.dispatchEvent(new Ec("removelayer",n)),this.changed()}getLayers(){return this.get(y4.LAYERS)}setLayers(t){let n=this.getLayers();if(n){let i=n.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Ec("removelayer",i[r]))}this.set(y4.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){let n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});let r=this.getLayerState(),o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let s=i,a=n.length;s<a;s++){let l=n[s];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=vd(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=o)}return n}getSourceState(){return"ready"}},Rb=x4;Fv();Ar();Iv();gv();gf();Lo();Sa();lN();Fv();dN();Iv();Zu();gb();Bu();zn();Js();Fv();Hb();Sc();cr();var uN=class extends hf{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){kn()}calculateMatrices2D(t){let n=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;ts(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),OD(r,i)}forEachFeatureAtCoordinate(t,n,i,r,o,s,a,l){let c,d=n.viewState;function u(S,D,R,T){return o.call(s,D,S?R:null,T)}let f=d.projection,p=dv(t.slice(),f),m=[[0,0]];if(f.canWrapX()&&r){let S=f.getExtent(),D=mn(S);m.push([-D,0],[D,0])}let v=n.layerStatesArray,C=v.length,y=[],b=[];for(let S=0;S<m.length;S++)for(let D=C-1;D>=0;--D){let R=v[D],T=R.layer;if(T.hasRenderer()&&Tb(R,d)&&a.call(l,T)){let k=T.getRenderer(),M=T.getSource();if(k&&M){let B=M.getWrapX()?p:t,L=u.bind(null,R.managed);b[0]=B[0]+m[S][0],b[1]=B[1]+m[S][1],c=k.forEachFeatureAtCoordinate(b,n,i,L,y)}if(c)return c}}if(y.length===0)return;let w=1/y.length;return y.forEach((S,D)=>S.distanceSq+=D*w),y.sort((S,D)=>S.distanceSq-D.distanceSq),y.some(S=>c=S.callback(S.feature,S.layer,S.geometry)),c}hasFeatureAtCoordinate(t,n,i,r,o,s){return this.forEachFeatureAtCoordinate(t,n,i,r,zu,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(t){kn()}scheduleExpireIconCache(t){Es.canExpireCache()&&t.postRenderFunctions.push(jSe)}};function jSe(e,t){Es.expire()}var iY=uN;var hN=class extends iY{constructor(t){super(t),this.fontChangeListenerKey_=rn(Rd,_c.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");let n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=bd+" ol-layers";let i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){let i=this.getMap();if(i.hasListener(t)){let r=new CR(t,void 0,n);i.dispatchEvent(r)}}disposeInternal(){Bn(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(ns.PRECOMPOSE,t);let n=t.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof vR&&a.layer.getDeclutter())&&(t.declutter={});let r=t.viewState;this.children_.length=0;let o=[],s=null;for(let a=0,l=n.length;a<l;++a){let c=n[a];t.layerIndex=a;let d=c.layer,u=d.getSourceState();if(!Tb(c,r)||u!="ready"&&u!="undefined"){d.unrender();continue}let f=d.render(t,s);f&&(f!==s&&(this.children_.push(f),s=f),o.push(c))}this.declutter(t,o),iX(this.element_,this.children_),this.dispatchRenderEvent(ns.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let i=n.length-1;i>=0;--i){let r=n[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}n.forEach(i=>i.layer.renderDeferred(t))}}},rY=hN;Ed();Sc();cr();function oY(e){if(e instanceof bg){e.setMapInternal(null);return}e instanceof Rb&&e.getLayers().forEach(oY)}function sY(e,t){if(e instanceof bg){e.setMapInternal(t);return}if(e instanceof Rb){let n=e.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)sY(n[i],t)}}var fN=class extends Mr{constructor(t){super(),t=t||{},this.on,this.once,this.un;let n=$Se(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:lK,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Oo(),this.pixelToCoordinateTransform_=Oo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||yg(),this.interactions=n.interactions||SX({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new uK(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(es.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(es.VIEW,this.handleViewChanged_),this.addChangeListener(es.SIZE,this.handleSizeChanged_),this.addChangeListener(es.TARGET,this.handleTargetChanged_),this.setProperties(n.values);let i=this;t.view&&!(t.view instanceof _s)&&t.view.then(function(r){i.setView(new _s(r))}),this.controls.addEventListener(Po.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Po.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Po.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Po.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Po.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Po.REMOVE,r=>{let o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){sY(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){let n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};let o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:zu,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,n,null,s,null)}getFeaturesAtPixel(t,n){let i=[];return this.forEachFeatureAtPixel(t,function(r){i.push(r)},n),i}getAllLayers(){let t=[];function n(i){i.forEach(function(r){r instanceof Rb?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};let r=n.layerFilter!==void 0?n.layerFilter:zu,o=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-i.left)/o,(a.clientY-i.top)/s]}getTarget(){return this.get(es.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return pv(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){let n=this.frameState_;return n?xr(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){let n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(es.LAYERGROUP)}setLayers(t){let n=this.getLayerGroup();if(t instanceof ea){n.setLayers(t);return}let i=n.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){let r=t[n];if(!r.visible)continue;let o=r.layer.getRenderer();if(o&&!o.ready)return!0;let s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){let n=Pl(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){let n=this.frameState_;return n?xr(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(es.SIZE)}getView(){return this.get(es.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,i,r){return hK(this.frameState_,t,n,i,r)}handleBrowserEvent(t,n){n=n||t.type;let i=new wd(n,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;let n=t.originalEvent,i=n.type;if(i===af.POINTERDOWN||i===bt.WHEEL||i===bt.KEYDOWN){let r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=n.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){let r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){let t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){let s=t.viewHints;if(s[bo.ANIMATING]||s[bo.INTERACTING]){let a=Date.now()-t.time>8;r=a?0:8,o=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(ns.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ns.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new mf(Ol.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new mf(Ol.LOADSTART,this,t))));let i=this.postRenderFunctions_;if(t)for(let r=0,o=i.length;r<o;++r)i[r](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Bn(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(bt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(bt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new rY(this)),this.mapBrowserEventHandler_=new cK(this,this.moveTolerance_);for(let o in Yi)this.mapBrowserEventHandler_.addEventListener(Yi[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(bt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(bt.WHEEL,this.boundHandleBrowserEvent_,MD?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{let o=n.getRootNode();i=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[rn(i,bt.KEYDOWN,this.handleBrowserEvent,this),rn(i,bt.KEYPRESS,this.handleBrowserEvent,this)];let r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Bn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Bn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=rn(t,_c.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=rn(t,bt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Bn),this.layerGroupPropertyListenerKeys_=null);let t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ec("addlayer",t)),this.layerGroupPropertyListenerKeys_=[rn(t,_c.PROPERTYCHANGE,this.render,this),rn(t,bt.CHANGE,this.render,this),rn(t,"addlayer",this.handleLayerAdd_,this),rn(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){let r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){oY(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){let n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(n!==void 0&&A4(n)&&i&&i.isDef()){let s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:ab(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:qt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=ab(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!sf(this.previousExtent_)&&!Lu(o.extent,this.previousExtent_))&&(this.dispatchEvent(new mf(Ol.MOVESTART,this,r)),this.previousExtent_=cg(this.previousExtent_)),this.previousExtent_&&!o.viewHints[bo.ANIMATING]&&!o.viewHints[bo.INTERACTING]&&!Lu(o.extent,this.previousExtent_)&&(this.dispatchEvent(new mf(Ol.MOVEEND,this,o)),aD(o.extent,this.previousExtent_))),this.dispatchEvent(new mf(Ol.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Ol.LOADSTART)||this.hasListener(Ol.LOADEND)||this.hasListener(ns.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){let n=this.getLayerGroup();n&&this.handleLayerRemove_(new Ec("removelayer",n)),this.set(es.LAYERGROUP,t)}setSize(t){this.set(es.SIZE,t)}setTarget(t){this.set(es.TARGET,t)}setView(t){if(!t||t instanceof _s){this.set(es.VIEW,t);return}this.set(es.VIEW,new _s);let n=this;t.then(function(i){n.setView(new _s(i))})}updateSize(){let t=this.getTargetElement(),n;if(t){let r=getComputedStyle(t),o=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(n=[Math.max(0,o),Math.max(0,s)],!A4(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&pD("No map visible because the map container's width or height are 0."))}let i=this.getSize();n&&(!i||!ws(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){let n=this.getView();n&&n.setViewportSize(t)}};function $Se(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);let n={},i=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new Rb({layers:e.layers});n[es.LAYERGROUP]=i,n[es.TARGET]=e.target,n[es.VIEW]=e.view instanceof _s?e.view:new _s;let r;e.controls!==void 0&&(Array.isArray(e.controls)?r=new ea(e.controls.slice()):(vn(typeof e.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=e.controls));let o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new ea(e.interactions.slice()):(vn(typeof e.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions));let s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new ea(e.overlays.slice()):(vn(typeof e.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new ea,{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}var yR=fN;Eb();vf();yr();mb();cr();var pN=class extends ff{constructor(t,n,i){super(),i=i||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(bt.CHANGE)}release(){this.setState(kt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==kt.EMPTY){if(this.state!==kt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){kn()}getAlpha(t,n){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;let r=n-i+1e3/60;return r>=this.transition_?1:wL(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},Hv=pN;function xR(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}var qSe=new Error("disposed");var KSe=[256,256],gN=class extends Hv{constructor(t){let n=kt.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;let t=xR(this.data_);return t?[t.width,t.height]:KSe}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==kt.IDLE&&this.state!==kt.ERROR)return;this.state=kt.LOADING,this.changed();let t=this;this.loader_().then(function(n){t.data_=n,t.state=kt.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=kt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(qSe),this.controller_=null),super.disposeInternal()}},mN=gN;H4();Lo();var vN=class extends Hv{constructor(t,n,i,r,o,s){super(t,n,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=kt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=kt.ERROR,this.unlistenImage_(),this.image_=XSe(),this.changed()}handleImageLoad_(){let t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=kt.LOADED:this.state=kt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==kt.ERROR&&(this.state=kt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==kt.IDLE&&(this.state=kt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=LX(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function XSe(){let e=_i(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var bR=vN;var wR=class{constructor(t,n,i,r){this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}};function Eg(e,t,n,i,r){return r!==void 0?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new wR(e,t,n,i)}var _R=wR;Zr();zn();Ar();Lo();yr();Sa();zn();lr();Lo();zn();lr();Ar();var CN,Dg=[];function aY(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function yN(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function YSe(){if(CN===void 0){let e=_i(6,6,Dg);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",aY(e,4,5,4,0),aY(e,4,5,0,5);let t=e.getImageData(0,0,3,3).data;CN=yN(t,0)||yN(t,4)||yN(t,8),vg(e),Dg.push(e.canvas)}return CN}function lY(e,t,n,i){let r=Hu(n,t,e),o=pg(t,i,n),s=t.getMetersPerUnit();s!==void 0&&(o*=s);let a=e.getMetersPerUnit();a!==void 0&&(o/=a);let l=e.getExtent();if(!l||Cc(l,r)){let c=pg(e,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}function cY(e,t,n,i){let r=Il(n),o=lY(e,t,r,i);return(!isFinite(o)||o<=0)&&dD(n,function(s){return o=lY(e,t,s,i),isFinite(o)&&o>0}),o}function dY(e,t,n,i,r,o,s,a,l,c,d,u,f,p){let m=_i(Math.round(n*e),Math.round(n*t),Dg);if(u||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(n,n);function v(D){return Math.round(D*n)/n}m.globalCompositeOperation="lighter";let C=Yr();l.forEach(function(D,R,T){lq(C,D.extent)});let y,b=n/i,w=(u?1:1+Math.pow(2,-24))/b;if(!f||l.length!==1||c!==0){if(y=_i(Math.round(mn(C)*b),Math.round(ar(C)*b),Dg),u||(y.imageSmoothingEnabled=!1),r&&p){let D=(r[0]-C[0])*b,R=-(r[3]-C[3])*b,T=mn(r)*b,k=ar(r)*b;y.rect(D,R,T,k),y.clip()}l.forEach(function(D,R,T){if(D.image.width>0&&D.image.height>0){if(D.clipExtent){y.save();let V=(D.clipExtent[0]-C[0])*b,ee=-(D.clipExtent[3]-C[3])*b,re=mn(D.clipExtent)*b,se=ar(D.clipExtent)*b;y.rect(u?V:Math.round(V),u?ee:Math.round(ee),u?re:Math.round(V+re)-Math.round(V),u?se:Math.round(ee+se)-Math.round(ee)),y.clip()}let k=(D.extent[0]-C[0])*b,M=-(D.extent[3]-C[3])*b,B=mn(D.extent)*b,L=ar(D.extent)*b;y.drawImage(D.image,c,c,D.image.width-2*c,D.image.height-2*c,u?k:Math.round(k),u?M:Math.round(M),u?B:Math.round(k+B)-Math.round(k),u?L:Math.round(M+L)-Math.round(M)),D.clipExtent&&y.restore()}})}let S=Fl(s);return a.getTriangles().forEach(function(D,R,T){let k=D.source,M=D.target,B=k[0][0],L=k[0][1],V=k[1][0],ee=k[1][1],re=k[2][0],se=k[2][1],ge=v((M[0][0]-S[0])/o),fe=v(-(M[0][1]-S[1])/o),Ee=v((M[1][0]-S[0])/o),te=v(-(M[1][1]-S[1])/o),oe=v((M[2][0]-S[0])/o),J=v(-(M[2][1]-S[1])/o),A=B,ae=L;B=0,L=0,V-=A,ee-=ae,re-=A,se-=ae;let K=[[V,ee,0,0,Ee-ge],[re,se,0,0,oe-ge],[0,0,V,ee,te-fe],[0,0,re,se,J-fe]],Q=pq(K);if(!Q)return;if(m.save(),m.beginPath(),YSe()||!u){m.moveTo(Ee,te);let Me=4,ze=ge-Ee,Ve=fe-te;for(let ye=0;ye<Me;ye++)m.lineTo(Ee+v((ye+1)*ze/Me),te+v(ye*Ve/(Me-1))),ye!=Me-1&&m.lineTo(Ee+v((ye+1)*ze/Me),te+v((ye+1)*Ve/(Me-1)));m.lineTo(oe,J)}else m.moveTo(Ee,te),m.lineTo(ge,fe),m.lineTo(oe,J);m.clip(),m.transform(Q[0],Q[2],Q[1],Q[3],ge,fe),m.translate(C[0]-A,C[3]-ae);let ce;if(y)ce=y.canvas,m.scale(w,-w);else{let Me=l[0],ze=Me.extent;ce=Me.image,m.scale(mn(ze)/ce.width,-ar(ze)/ce.height)}m.drawImage(ce,0,0),m.restore()}),y&&(vg(y),Dg.push(y.canvas)),d&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,a.getTriangles().forEach(function(D,R,T){let k=D.target,M=(k[0][0]-S[0])/o,B=-(k[0][1]-S[1])/o,L=(k[1][0]-S[0])/o,V=-(k[1][1]-S[1])/o,ee=(k[2][0]-S[0])/o,re=-(k[2][1]-S[1])/o;m.beginPath(),m.moveTo(L,V),m.lineTo(M,B),m.lineTo(ee,re),m.closePath(),m.stroke()}),m.restore()),m.canvas}zn();lr();Ar();Sc();var ZSe=10,uY=.25,xN=class{constructor(t,n,i,r,o,s,a){this.sourceProj_=t,this.targetProj_=n;let l={},c=a?hb(w=>xr(a,Hu(w,this.targetProj_,this.sourceProj_))):uf(this.targetProj_,this.sourceProj_);this.transformInv_=function(w){let S=w[0]+"/"+w[1];return l[S]||(l[S]=c(w)),l[S]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&mn(r)>=mn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?mn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?mn(this.targetProj_.getExtent()):null;let d=Fl(i),u=av(i),f=sv(i),p=ov(i),m=this.transformInv_(d),v=this.transformInv_(u),C=this.transformInv_(f),y=this.transformInv_(p),b=ZSe+(s?Math.max(0,Math.ceil(Math.log2(sb(i)/(s*s*256*256)))):0);if(this.addQuad_(d,u,f,p,m,v,C,y,b),this.wrapsXInSource_){let w=1/0;this.triangles_.forEach(function(S,D,R){w=Math.min(w,S.source[0][0],S.source[1][0],S.source[2][0])}),this.triangles_.forEach(S=>{if(Math.max(S.source[0][0],S.source[1][0],S.source[2][0])-w>this.sourceWorldWidth_/2){let D=[[S.source[0][0],S.source[0][1]],[S.source[1][0],S.source[1][1]],[S.source[2][0],S.source[2][1]]];D[0][0]-w>this.sourceWorldWidth_/2&&(D[0][0]-=this.sourceWorldWidth_),D[1][0]-w>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_),D[2][0]-w>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);let R=Math.min(D[0][0],D[1][0],D[2][0]);Math.max(D[0][0],D[1][0],D[2][0])-R<this.sourceWorldWidth_/2&&(S.source=D)}})}l={}}addTriangle_(t,n,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[t,n,i]})}addQuad_(t,n,i,r,o,s,a,l,c){let d=OO([o,s,a,l]),u=this.sourceWorldWidth_?mn(d)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&u>.5&&u<1,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let C=OO([t,n,i,r]);m=mn(C)/this.targetWorldWidth_>uY||m}!p&&this.sourceProj_.isGlobal()&&u&&(m=u>uY||m)}if(!m&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!Cr(d,this.maxSourceExtent_))return;let v=0;if(!m&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)m=!0;else if(v=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),v!=1&&v!=2&&v!=4&&v!=8)return}if(c>0){if(!m){let C=[(t[0]+i[0])/2,(t[1]+i[1])/2],y=this.transformInv_(C),b;p?b=(xc(o[0],f)+xc(a[0],f))/2-xc(y[0],f):b=(o[0]+a[0])/2-y[0];let w=(o[1]+a[1])/2-y[1];m=b*b+w*w>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){let C=[(n[0]+i[0])/2,(n[1]+i[1])/2],y=this.transformInv_(C),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(b);this.addQuad_(t,n,C,b,o,s,y,w,c-1),this.addQuad_(b,C,i,r,w,y,a,l,c-1)}else{let C=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(C),b=[(i[0]+r[0])/2,(i[1]+r[1])/2],w=this.transformInv_(b);this.addQuad_(t,C,b,r,o,y,w,l,c-1),this.addQuad_(C,n,i,b,y,s,a,w,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(v&11)==0&&this.addTriangle_(t,i,r,o,a,l),(v&14)==0&&this.addTriangle_(t,i,n,o,a,s),v&&((v&13)==0&&this.addTriangle_(n,r,t,s,l,o),(v&7)==0&&this.addTriangle_(n,r,i,s,l,a))}calculateSourceExtent(){let t=Yr();return this.triangles_.forEach(function(n,i,r){let o=n.source;dg(t,o[0]),dg(t,o[1]),dg(t,o[2])}),t}getTriangles(){return this.triangles_}},hY=xN;var bN=class extends Hv{constructor(t,n,i,r,o,s,a,l,c,d,u,f){super(o,kt.IDLE,f),this.renderEdges_=u!==void 0?u:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;let p=r.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent(),v=this.sourceTileGrid_.getExtent(),C=m?vd(p,m):p;if(sb(C)===0){this.state=kt.EMPTY;return}let y=t.getExtent();y&&(v?v=vd(v,y):v=y);let b=r.getResolution(this.wrappedTileCoord_[0]),w=cY(t,i,C,b);if(!isFinite(w)||w<=0){this.state=kt.EMPTY;return}let S=d!==void 0?d:.5;if(this.triangulation_=new hY(t,i,C,v,w*S,b),this.triangulation_.getTriangles().length===0){this.state=kt.EMPTY;return}this.sourceZ_=n.getZForResolution(w);let D=this.triangulation_.calculateSourceExtent();if(v&&(t.canWrapX()?(D[1]=Yn(D[1],v[1],v[3]),D[3]=Yn(D[3],v[1],v[3])):D=vd(D,v)),!sb(D))this.state=kt.EMPTY;else{let R=0,T=0;t.canWrapX()&&(R=mn(y),T=Math.floor((D[0]-y[0])/R)),uD(D.slice(),t,!0).forEach(M=>{let B=n.getTileRangeForExtentAndZ(M,this.sourceZ_);for(let L=B.minX;L<=B.maxX;L++)for(let V=B.minY;V<=B.maxY;V++){let ee=c(this.sourceZ_,L,V,a);if(ee){let re=T*R;this.sourceTiles_.push({tile:ee,offset:re})}}++T}),this.sourceTiles_.length===0&&(this.state=kt.EMPTY)}}getImage(){return this.canvas_}reproject_(){let t=[];if(this.sourceTiles_.forEach(n=>{let i=n.tile;if(i&&i.getState()==kt.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=kt.ERROR;else{let n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=dY(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=kt.LOADED}this.changed()}load(){if(this.state==kt.IDLE){this.state=kt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{let i=n.getState();if(i==kt.IDLE||i==kt.LOADING){t++;let r=rn(n,bt.CHANGE,o=>{let s=n.getState();(s==kt.LOADED||s==kt.ERROR||s==kt.EMPTY)&&(Bn(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==kt.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Bn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(vg(this.canvas_.getContext("2d")),Dg.push(this.canvas_),this.canvas_=null),super.release()}},SR=bN;Ed();gb();Da();var wN=class{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let t=this.pop();t instanceof hf&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){let i=this.entries_[t];return vn(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){let n=this.entries_[t];return vn(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){let t=new Array(this.count_),n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.key_;return t}getValues(){let t=new Array(this.count_),n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){let t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){vn(!(t in this.entries_),"Tried to set a value for a key that is used already");let i={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}},fY=wN;function Gv(e,t,n,i){return i!==void 0?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function pY(e,t,n){return e+"/"+t+"/"+n}function gY(e){return QSe(e[0],e[1],e[2])}function QSe(e,t,n){return(t<<e)+n}function mY(e,t){let n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;let o=t.getFullTileRange(n);return o?o.containsXY(i,r):!0}Sc();cr();TN();function IN(e,t,n,i){return`${e},${pY(t,n,i)}`}function FN(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;let i=e[n],r=i.has(t);return r||i.add(t),!r}function tEe(e,t,n){let i=e[n];return i?i.delete(t):!1}function yY(e,t){let n=e.layerStatesArray[e.layerIndex];n.extent&&(t=vd(t,tl(n.extent,e.viewState.projection)));let i=n.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(e.viewState.projection).getExtent();r&&(t=vd(t,r))}return t}var kN=class extends DR{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Yr(),this.tempTileRange_=new _R(0,0,0,0),this.tempTileCoord_=Gv(0,0,0);let i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new fY(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,i,r){let o=this.tileCache_,a=this.getLayer().getSource(),l=IN(a.getKey(),t,n,i),c;if(o.containsKey(l))c=o.get(l);else{if(c=a.getTile(t,n,i,r.pixelRatio,r.viewState.projection),!c)return null;o.set(l,c)}return c}getTile(t,n,i,r){let o=this.getOrCreateTile(t,n,i,r);return o||null}getData(t){let n=this.frameState;if(!n)return null;let i=this.getLayer(),r=xr(n.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!Cc(o,r))return null;let s=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=a.getTilePixelRatio(n.pixelRatio);for(let d=l.getZForResolution(s.resolution);d>=l.getMinZoom();--d){let u=l.getTileCoordForCoordAndZ(r,d),f=this.getTile(d,u[1],u[2],n);if(!f||f.getState()!==kt.LOADED)continue;let p=l.getOrigin(d),m=Or(l.getTileSize(d)),v=l.getResolution(d),C;if(f instanceof bR||f instanceof SR)C=f.getImage();else if(f instanceof mN){if(C=xR(f.getData()),!C)continue}else continue;let y=Math.floor(c*((r[0]-p[0])/v-u[1]*m[0])),b=Math.floor(c*((p[1]-r[1])/v-u[2]*m[1])),w=Math.round(c*a.getGutterForProjection(s.projection));return this.getImageData(C,y+w,b+w)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;let n=this.getLayer().getSource();if(!n)return!1;let i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(t,n,i,r,o){let s=t.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(s.projection),d=qt(l);d in t.wantedTiles||(t.wantedTiles[d]={});let u=t.wantedTiles[d],f=a.getMapInternal(),p=Math.max(i-o,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),m=s.rotation,v=m?BO(s.center,s.resolution,m,t.size):void 0;for(let C=i;C>=p;--C){let y=c.getTileRangeForExtentAndZ(n,C,this.tempTileRange_),b=c.getResolution(C);for(let w=y.minX;w<=y.maxX;++w)for(let S=y.minY;S<=y.maxY;++S){if(m&&!c.tileCoordIntersectsViewport([C,w,S],v))continue;let D=this.getTile(C,w,S,t);if(!D||!FN(r,D,C))continue;let T=D.getKey();if(u[T]=!0,D.getState()===kt.IDLE&&!t.tileQueue.isKeyQueued(T)){let k=Gv(C,w,S,this.tempTileCoord_);t.tileQueue.enqueue([D,d,c.getTileCoordCenter(k),b])}}}}findStaleTile_(t,n){let i=this.tileCache_,r=t[0],o=t[1],s=t[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=IN(a[l],r,o,s);if(i.containsKey(c)){let d=i.peek(c);if(d.getState()===kt.LOADED)return d.endTransition(qt(this)),FN(n,d,r),!0}}return!1}findAltTiles_(t,n,i,r){let o=t.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let d=o.minX;d<=o.maxX;++d)for(let u=o.minY;u<=o.maxY;++u){let f=IN(c,i,d,u),p=!1;if(a.containsKey(f)){let m=a.peek(f);m.getState()===kt.LOADED&&(FN(r,m,i),p=!0)}p||(s=!1)}return s}renderFrame(t,n){this.renderComplete=!0;let i=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,s=r.resolution,a=r.center,l=t.pixelRatio,c=this.getLayer(),d=c.getSource(),u=d.getTileGridForProjection(o),f=u.getZForResolution(s,d.zDirection),p=u.getResolution(f),m=d.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;let v=t.extent,C=d.getTilePixelRatio(l);this.prepareContainer(t,n);let y=this.context.canvas.width,b=this.context.canvas.height,w=i.extent&&tl(i.extent,o);w&&(v=vd(v,tl(i.extent,o)));let S=p*y/2/C,D=p*b/2/C,R=[a[0]-S,a[1]-D,a[0]+S,a[1]+D],T={};this.renderedTiles.length=0;let k=c.getPreload();if(t.nextExtent){let Ee=u.getZForResolution(r.nextResolution,d.zDirection),te=yY(t,t.nextExtent);this.enqueueTiles(t,te,Ee,T,k)}let M=yY(t,v);if(this.enqueueTiles(t,M,f,T,0),k>0&&setTimeout(()=>{this.enqueueTiles(t,M,f-1,T,k-1)},0),!(f in T))return this.container;let B=qt(this),L=t.time;for(let Ee of T[f]){let te=Ee.getState();if(te===kt.EMPTY)continue;let oe=Ee.tileCoord;if(te===kt.LOADED&&Ee.getAlpha(B,L)===1){Ee.endTransition(B);continue}if(te!==kt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(oe,T)){tEe(T,Ee,f),t.animate=!0;continue}if(this.findAltTiles_(u,oe,f+1,T))continue;let ae=u.getMinZoom();for(let K=f-1;K>=ae&&!this.findAltTiles_(u,oe,K,T);--K);}let V=p/s*l/C,ee=this.getRenderContext(t);ts(this.tempTransform,y/2,b/2,V,V,0,-y/2,-b/2),i.extent&&this.clipUnrotated(ee,t,w),d.getInterpolate()||(ee.imageSmoothingEnabled=!1),this.preRender(ee,t);let re=Object.keys(T).map(Number);re.sort(Ea);let se,ge=[],fe=[];for(let Ee=re.length-1;Ee>=0;--Ee){let te=re[Ee],oe=d.getTilePixelSize(te,l,o),A=u.getResolution(te)/p,ae=oe[0]*A*V,K=oe[1]*A*V,Q=u.getTileCoordForCoordAndZ(Fl(R),te),ce=u.getTileCoordExtent(Q),Me=xr(this.tempTransform,[C*(ce[0]-R[0])/p,C*(R[3]-ce[3])/p]),ze=C*d.getGutterForProjection(o);for(let Ve of T[te]){if(Ve.getState()!==kt.LOADED)continue;let ye=Ve.tileCoord,vt=Q[1]-ye[1],q=Math.round(Me[0]-(vt-1)*ae),Vt=Q[2]-ye[2],St=Math.round(Me[1]-(Vt-1)*K),_t=Math.round(Me[0]-vt*ae),wt=Math.round(Me[1]-Vt*K),Ze=q-_t,gt=St-wt,Ht=re.length===1,xn=!1;se=[_t,wt,_t+Ze,wt,_t+Ze,wt+gt,_t,wt+gt];for(let $n=0,ur=ge.length;$n<ur;++$n)if(!Ht&&te<fe[$n]){let Tn=ge[$n];Cr([_t,wt,_t+Ze,wt+gt],[Tn[0],Tn[3],Tn[4],Tn[7]])&&(xn||(ee.save(),xn=!0),ee.beginPath(),ee.moveTo(se[0],se[1]),ee.lineTo(se[2],se[3]),ee.lineTo(se[4],se[5]),ee.lineTo(se[6],se[7]),ee.moveTo(Tn[6],Tn[7]),ee.lineTo(Tn[4],Tn[5]),ee.lineTo(Tn[2],Tn[3]),ee.lineTo(Tn[0],Tn[1]),ee.clip())}ge.push(se),fe.push(te),this.drawTile(Ve,t,_t,wt,Ze,gt,ze,Ht),xn&&ee.restore(),this.renderedTiles.unshift(Ve),this.updateUsedTiles(t.usedTiles,d,Ve)}}if(this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Lu(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=l,this.postRender(this.context,t),i.extent&&ee.restore(),ee.imageSmoothingEnabled=!0,this.renderComplete){let Ee=(te,oe)=>{let J=qt(d),A=oe.wantedTiles[J],ae=A?Object.keys(A).length:0;this.updateCacheSize(ae),this.tileCache_.expireCache()};t.postRenderFunctions.push(Ee)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,i,r,o,s,a,l){let c;if(t instanceof mN){if(c=xR(t.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(t);if(!c)return;let d=this.getRenderContext(n),u=qt(this),f=n.layerStatesArray[n.layerIndex],p=f.opacity*(l?t.getAlpha(u,n.time):1),m=p!==d.globalAlpha;m&&(d.save(),d.globalAlpha=p),d.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,o,s),m&&d.restore(),p!==f.opacity?n.animate=!0:l&&t.endTransition(u)}getImage(){let t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,i){let r=qt(n);r in t||(t[r]={}),t[r][i.getKey()]=!0}},xY=kN;Fv();var Xb={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var AN=class extends bg{constructor(t){t=t||{};let n=Object.assign({},t),i=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Xb.PRELOAD)}setPreload(t){this.set(Xb.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Xb.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Xb.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}},bY=AN;var MN=class extends bY{constructor(t){super(t)}createRenderer(){return new xY(this,{cacheSize:this.getCacheSize()})}},RR=MN;zn();Ar();Ed();Zr();Da();zn();NL();lr();Ed();var Uv=[0,0,0],Tf=5,PN=class{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,vn(Qq(this.resolutions_,(r,o)=>o-r,!0),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,vn(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Fl(i)),vn(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,vn(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:256,vn(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{let s=new _R(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,n,i){let r=this.getTileRangeForExtentAndZ(t,n);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,o,a])}forEachTileCoordParentTileRange(t,n,i,r){let o,s,a,l=null,c=t[0]-1;for(this.zoomFactor_===2?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=Eg(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,c,i),n(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){let o=t[1]*2,s=t[2]*2;return Eg(o,o+1,s,s+1,n)}let r=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,i){if(n>this.maxZoom||n<this.minZoom)return null;let r=t[0],o=t[1],s=t[2];if(n===r)return Eg(o,s,o,s,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,n-r),c=Math.floor(o*l),d=Math.floor(s*l);if(n<r)return Eg(c,c,d,d,i);let u=Math.floor(l*(o+1))-1,f=Math.floor(l*(s+1))-1;return Eg(c,u,d,f,i)}let a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(t,n,i){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Uv);let r=Uv[1],o=Uv[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Uv);let s=Uv[1],a=Uv[2];return Eg(r,s,o,a,i)}getTileCoordCenter(t){let n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Or(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*i,n[1]-(t[2]+.5)*r[1]*i]}getTileCoordExtent(t,n){let i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Or(this.getTileSize(t[0]),this.tmpSize_),s=i[0]+t[1]*o[0]*r,a=i[1]-(t[2]+1)*o[1]*r,l=s+o[0]*r,c=a+o[1]*r;return el(s,a,l,c,n)}getTileCoordForCoordAndResolution(t,n,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,i)}getTileCoordForXYAndResolution_(t,n,i,r,o){let s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),c=Or(this.getTileSize(s),this.tmpSize_),d=a*(t-l[0])/i/c[0],u=a*(l[1]-n)/i/c[1];return r?(d=cb(d,Tf)-1,u=cb(u,Tf)-1):(d=lb(d,Tf),u=lb(u,Tf)),Gv(s,d,u,o)}getTileCoordForXYAndZ_(t,n,i,r,o){let s=this.getOrigin(i),a=this.getResolution(i),l=Or(this.getTileSize(i),this.tmpSize_),c=(t-s[0])/a/l[0],d=(s[1]-n)/a/l[1];return r?(c=cb(c,Tf)-1,d=cb(d,Tf)-1):(c=lb(c,Tf),d=lb(d,Tf)),Gv(i,c,d,o)}getTileCoordForCoordAndZ(t,n,i){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){let i=mv(this.resolutions_,t,n||0);return Yn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return LL(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){let n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i}},ON=PN;function TR(e){let t=e.getDefaultTileGrid();return t||(t=iEe(e),e.setDefaultTileGrid(t)),t}function wY(e,t,n){let i=t[0],r=e.getTileCoordCenter(t),o=IR(n);if(!Cc(o,r)){let s=mn(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,e.getTileCoordForCoordAndZ(r,i)}return t}function nEe(e,t,n,i){i=i!==void 0?i:"top-left";let r=SY(e,t,n);return new ON({extent:e,origin:cq(e,i),resolutions:r,tileSize:n})}function _Y(e){let t=e||{},n=t.extent||zi("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:SY(n,t.maxZoom,t.tileSize,t.maxResolution)};return new ON(i)}function SY(e,t,n,i){t=t!==void 0?t:42,n=Or(n!==void 0?n:256);let r=ar(e),o=mn(e);i=i>0?i:Math.max(o/n[0],r/n[1]);let s=t+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function iEe(e,t,n,i){let r=IR(e);return nEe(r,t,n,i)}function IR(e){e=zi(e);let t=e.getExtent();if(!t){let n=180*kl.degrees/e.getMetersPerUnit();t=el(-n,-n,n,n)}return t}yr();Ar();cr();lr();var rEe=/\{z\}/g,oEe=/\{x\}/g,sEe=/\{y\}/g,aEe=/\{-y\}/g;function EY(e,t,n,i,r){return e.replace(rEe,t.toString()).replace(oEe,n.toString()).replace(sEe,i.toString()).replace(aEe,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function DY(e){let t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){let i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),o;for(o=i;o<=r;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){let i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)t.push(e.replace(n[0],r.toString()));return t}return t.push(e),t}function lEe(e,t){return function(n,i,r){if(!n)return;let o,s=n[0];if(t){let a=t.getFullTileRange(s);a&&(o=a.getHeight()-1)}return EY(e,s,n[1],n[2],o)}}function RY(e,t){let n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=lEe(e[r],t);return cEe(i)}function cEe(e){return e.length===1?e[0]:function(t,n,i){if(!t)return;let r=gY(t),o=xc(r,e.length);return e[o](t,n,i)}}cr();xd();Ed();cr();NN();var BN=class extends FR{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;let n=[256,256];this.tileGrid&&Or(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||qt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){let n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,i,r,o){return kn()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:TR(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,i){let r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=Or(r.getTileSize(t),this.tmpSize);return o==1?s:kX(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){let i=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=wY(r,t,i)),mY(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}},kR=class extends Mo{constructor(t,n){super(t),this.tile=n}},IY=BN;var AR={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var VN=class e extends IY{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===e.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){let n=t.target,i=qt(n),r=n.getState(),o;r==kt.LOADING?(this.tileLoadingKeys_[i]=!0,o=AR.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==kt.ERROR?AR.TILELOADERROR:r==kt.LOADED?AR.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new kR(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){let n=DY(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;let n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(RY(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,i){}},FY=VN;var HN=class extends FY{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:dEe,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:bR,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!pb(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){let n=this.getProjection();if(this.tileGrid&&(!n||pb(n,t)))return this.tileGrid;let i=qt(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=TR(t)),this.tileGridForProjection[i]}createTile_(t,n,i,r,o,s){let a=[t,n,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,d=new this.tileClass(a,c!==void 0?kt.IDLE:kt.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=s,d.addEventListener(bt.CHANGE,this.handleTileChange.bind(this)),d}getTile(t,n,i,r,o){let s=this.getProjection();if(!s||!o||pb(s,o))return this.getTileInternal(t,n,i,r,s||o);let a=[t,n,i],l=this.getKey(),c=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),u=this.getTileCoordForTileUrlFunction(a,o),f=new SR(s,c,o,d,a,u,this.getTilePixelRatio(r),this.getGutter(),(p,m,v,C)=>this.getTileInternal(p,m,v,C,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(t,n,i,r,o){let s=this.getKey();return this.createTile_(t,n,i,r,o,s)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){let i=zi(t);if(i){let r=qt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}};function dEe(e,t){e.getImage().src=t}var kY=HN;var GN=class extends kY{constructor(t){t=t||{};let n=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:_Y({extent:IR(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}},AY=GN;var uEe='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',zN=class extends AY{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[uEe];let i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}},Yb=zN;MR();ED();Ll();gf();Lo();Sa();zn();var Ds={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},y6=class extends Mr{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+rK,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Ds.ELEMENT,this.handleElementChanged),this.addChangeListener(Ds.MAP,this.handleMapChanged),this.addChangeListener(Ds.OFFSET,this.handleOffsetChanged),this.addChangeListener(Ds.POSITION,this.handlePositionChanged),this.addChangeListener(Ds.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Ds.ELEMENT)}getId(){return this.id}getMap(){return this.get(Ds.MAP)||null}getOffset(){return this.get(Ds.OFFSET)}getPosition(){return this.get(Ds.POSITION)}getPositioning(){return this.get(Ds.POSITIONING)}handleElementChanged(){$D(this.element);let t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Bn(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let t=this.getMap();if(t){this.mapPostrenderListenerKey=rn(t,Ol.POSTRENDER,this.render,this),this.updatePixelPosition();let n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Ds.ELEMENT,t)}setMap(t){this.set(Ds.MAP,t)}setOffset(t){this.set(Ds.OFFSET,t)}setPosition(t){this.set(Ds.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){let n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Ds.POSITION))return;let i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),o=this.getRect(r,[tX(r),nX(r)]);t=t||{};let s=t.margin===void 0?20:t.margin;if(!Ou(i,o)){let a=o[0]-i[0],l=i[2]-o[2],c=o[1]-i[1],d=i[3]-o[3],u=[0,0];if(a<0?u[0]=a-s:l<0&&(u[0]=Math.abs(l)+s),c<0?u[1]=c-s:d<0&&(u[1]=Math.abs(d)+s),u[0]!==0||u[1]!==0){let f=n.getView().getCenterInternal(),p=n.getPixelFromCoordinateInternal(f);if(!p)return;let m=[p[0]+u[0],p[1]+u[1]],v=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}getRect(t,n){let i=t.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+n[0],o+n[1]]}setPositioning(t){this.set(Ds.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){let t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}let i=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(t,n){let i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let s=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",l="0%",c="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?c="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(c="-50%");let d=`translate(${l}, ${c}) translate(${s}, ${a})`;this.rendered.transform_!=d&&(this.rendered.transform_=d,i.transform=d)}getOptions(){return this.options}},x6=y6;Eb();cr();LR();OR();Ar();var qv=class e{constructor(t){this.elementRef=t}map=null;ngOnInit(){this.map?.setTarget(this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||e)(We(Tt))};static \u0275cmp=Qe({type:e,selectors:[["app-ol-map"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"],changeDetection:0})};Bv();Wb();hR();pf();QN();Nv();jb();var AZ=Mm(NR());function BR(e){return/^(data:image\/)/i.test(e)}function b6(e){let[t,n,i,r,o]=Ad(e);if(!e||!e[o]||!e[i]||!e[r]){if(!e||!e[t])throw new Error("Item has no valid address fields");return e[t]}else return e[o]+e[i]+e[n]+e[r]}function nw(e,t){let n=new Map;return t.forEach(i=>n.set(b6(i),i)),e.forEach(i=>n.set(b6(i),z(z({},n.get(b6(i))),i))),Array.from(n.values())}var RZ=Mm(NR());var kg="postcode",Md="city",Vl="housenumber",iw="geoPositionInfo",Af="street",Mf="longitude",Pf="latitude",VR="firstName",rw="sheetName",TZ=[Mf,Pf],w6=["adres","Adres","address","Address"],TEe=["postcode","Postcode","zipCode","ZipCode","zip code","Zip code"],IEe=["city","City","plaats","Plaats","woonplaats","Woonplaats"],FEe=["street","Street","straat","Straat"],kEe=["housenumber","Housenumber","houseNummer","HouseNumber","house number","House number","Huis Nummer","huis nummer","Huis nummer","huis nr","Huis nr","huisnr","Huisnr"],IZ=/(\s\d+[\s,-]?\d*[A-Za-z]?[,]?)+\s/;function Xv(e,t,n){return Object.keys(e).find(i=>t.includes(i))||n}var ow=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),Ad=e=>[Xv(e,w6,""),Xv(e,FEe,Af),Xv(e,TEe,kg),Xv(e,kEe,Vl),Xv(e,IEe,Md)],Pd=e=>{let[t,n,i,r,o]=Ad(e);if(t){let[s,a,l]=e[t].split(IZ);return i?[s.trim(),a.trim(),l.trim(),e[i].replaceAll(" ","")]:[s.trim(),a.trim(),l.trim(),""]}else return[e[n]||"".trim(),e[r].toString().trim(),e[o].trim(),e[i].replaceAll(" ","")]},nh=e=>{let t=Xv(e,w6,"");if(e[t]){let[n,i,r]=e[t].split(IZ);return[`${n.trim()} ${i.trim()} ${r.trim()}.jpg`.toLowerCase()]}return Object.values(e).filter(n=>ow(n))},_6=e=>Object.values(e).filter(t=>BR(t));function FZ(e){return!!(e&&(_6(e).length>0||nh(e).length>0))}var kZ=e=>e.reduce((t,n)=>(Object.keys(n).forEach(r=>{t.includes(r)||t.push(r)}),t),[]),Rs=class e{dataStore;lastNumberOfDataRecordsAdded=0;selectedData;editMode$=new ut;dataStore$=new ut;constructor(){this.dataStore=[]}setEditMode(t){this.editMode$.next(t)}isInEditMode(){return this.editMode$.observed}setSelectedData(t){this.selectedData=t}getSelectedData(){return this.selectedData}getIncreasedDataStoreSize(){return console.log("Increased data store size",this.lastNumberOfDataRecordsAdded),this.lastNumberOfDataRecordsAdded}getNumberOfAddedLocationRecords(){return this.dataStore.slice(-this.lastNumberOfDataRecordsAdded).filter(t=>{let n=Object.keys(t);return n.includes(Mf)&&n.includes(Pf)&&n.includes(iw)}).length}getStore(){return[...this.dataStore]}getMergedDataAndNewUniqueData(t){return[nw(t,this.dataStore),t.filter(i=>!this.dataStore.length||this.dataStore.some(r=>!(0,RZ.isEqual)(r,i)))]}store(t){let[n,i]=this.getMergedDataAndNewUniqueData(t);console.log("New data added",i),console.log("Merged data added",n),this.lastNumberOfDataRecordsAdded=n.length-this.dataStore.length,this.dataStore=n,this.dataStore$.next(i)}updateData(t){let r=t,{id:n}=r,i=xl(r,["id"]);this.dataStore[Number(n)]=nw([i],[this.dataStore[Number(n)]])[0],this.dataStore$.next([this.dataStore[Number(n)]])}get(t){let n=Object.keys(t),i=this.dataStore.find(r=>{let o=Object.keys(r);return n.every(s=>o.includes(s))&&n.every(s=>(t[s]+"").replace(/[,\s].*/g,"").toLowerCase()===(r[s]+"").replace(/[,\s].*/g,"").toLowerCase())});if(i)return Object.assign({},i)}getByAddr(t){let n=this.dataStore.find(i=>{let r=w6.find(o=>Object.keys(i).includes(o));return r&&(i[r]+"").replaceAll(/(,|-|\s)/g,"").toLowerCase()===t.replaceAll(/(,|-|\s)/g,"").toLowerCase()});if(n)return Object.assign({},n)}findByApproach(t,n,i,r,o){let s="",a=this.get({[kg]:t,[Vl]:n,[Md]:r});return a||(a=this.get({[Af]:i,[Vl]:n,[Md]:r}),a?(s=`Please fix postcode in "${i} ${n}, ${r}" and change ${a[kg]} to ${t} in your excel sheet.`,a[kg]=t):(a=this.get({[Af]:i,[Vl]:n.replace(/[^0-9,\s].*/g,""),[Md]:r}),a?(s=`Please fix house number in "${i} ${n}, ${r}" and change ${a[Vl]} to ${n} in your excel sheet.`,a[Vl]=n):(a=this.get({[kg]:t,[Af]:i,[Vl]:n.replace(/[^0-9].*/g,"")}),a?(s=`Please fix City in "${i} ${n}, ${r}" and change ${a[Md]} to ${r} in your excel sheet.`,a[Md]=r,a[Vl]=n):(a=this.getByAddr(`${i} ${n} ${r}`),a||(s=`Looking for ${o} but found address "${i} ${n}, ${r}, ${t}". Please verify address in the excel sheet.`))))),console.log("street map found",t,n,r,i,o),[a,s]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var ao=class e{geoPositions=[];mapIdToUuid=[];removedGeoPosition$=new ii(null);geoPositions$=new ii([]);getNumberOfGeoPositions(){return this.geoPositions.length}setGeoPositionIdUid(t,n){let i=this.mapIdToUuid.find(r=>r.id===t);i?i.uid=n:this.mapIdToUuid.push({id:t,uid:n})}getGeoPositionByAddress(t,n,i,r){return this.geoPositions.find(o=>{let s=JSON.parse(o.geoPositionInfo),a=s.housenumber.split("-").at(-1),l=s.city.toLowerCase()===t.toLowerCase()&&s.postcode.replaceAll(" ","").toLowerCase()===n.replaceAll(" ","").toLowerCase()&&a.toLowerCase()===a.toLowerCase();return!l&&r&&(l=s.street.toLowerCase()===r.toLowerCase()&&s.city.toLowerCase()===t.toLowerCase()&&s.street.toLowerCase()===r.toLowerCase()&&a.toLowerCase()===a.toLowerCase()),l})}findNearestByAddress(t,n,i,r){return this.geoPositions.find(o=>{let s=new RegExp("^\\d+"),a=JSON.parse(o.geoPositionInfo);return!r&&a.city.toLowerCase()===t.toLowerCase()&&a.postcode.replaceAll(" ","").toLowerCase()===n.replaceAll(" ","").toLowerCase()&&a.housenumber.toLowerCase().match(s)?.[0]===i.toLowerCase().match(s)?.[0]||a.street.toLowerCase()===r?.toLowerCase()&&a.city.toLowerCase()===t.toLowerCase()&&a.housenumber.toLowerCase().match(s)?.[0]===i.toLowerCase().match(s)?.[0]})}getIdByUid(t){return this.mapIdToUuid.find(n=>n.uid===t)?.id}hasGeoPositions(){return!!this.geoPositions.length}clearGeoPositions(){this.geoPositions.forEach(t=>this.removeGeoPosition(t.id))}addGeoPositions(t){t.forEach(n=>{this.geoPositions.push(n)}),this.geoPositions$.next(t)}updateGeoPosition(t,n,i="Unknown",r,o){let s={coords:{altitude:0,longitude:t,accuracy:0,altitudeAccuracy:null,heading:null,latitude:n,speed:null,toJSON:function(){throw new Error("Function not implemented.")}},id:Wx(),userName:i,geoPositionInfo:o,zoom:0,details:r};if(r){let[a,l,c,d]=Pd(r),u=this.getGeoPositionByAddress(c,d,l,a);if(u){u.details=r,u.coords=ke(z({},u.coords),{longitude:t||u.coords.longitude,latitude:n||u.coords.latitude}),u.geoPositionInfo=o;return}}this.geoPositions.push(s),this.geoPositions$.next([s])}setGeoCoordinatesAndOrZoom(t,n,i){let r=this.getGeoPosition(t);r&&(!(0,AZ.isEqual)(r.coords,n)||r.zoom!==i)&&(r.coords=n,i&&(r.zoom=i),this.geoPositions$.next([r]))}getGeoPosition(t){let n=this.geoPositions.find(i=>i.id===t);if(n)return n}getGeoPositions(){return this.geoPositions}getGeoPositionByCoordinates(t){return this.geoPositions.find(n=>n.coords.altitude===t[1]&&n.coords.longitude===t[0])}removeGeoPosition(t){let n=this.geoPositions.findIndex(i=>i.id===t);if(n>=0){let i=this.geoPositions.splice(n,1)[0];return this.removedGeoPosition$.next(i),i}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};function AEe(e,t){if(e&1&&(Le(0,"div",3)(1,"textarea",4),cn(2),He(),Le(3,"footer"),Ct(4,"app-scale-line",1)(5,"app-mouse-position",5),He()()),e&2){let n=Zn();Xe(2),ko(n.logMessage),Xe(2),dt("map",n.map),Xe(),dt("map",n.map)}}var Zv=class e{constructor(t){this.geoPositionService=t;this.zoomInput.pipe(wi()).pipe(Yc(300)).subscribe(()=>{this.onViewChanged()})}extendedView=!0;userId;set coordinatesChange(t){let n=this.geoPositionService.getGeoPosition(t.id);n&&t.coords.latitude&&t.coords.longitude&&(this.geoPositionService.setGeoCoordinatesAndOrZoom(n.id,t.coords,this.zoomLevelSingleMarker),this.logMessage=this.logMessage.concat(`coordinates changes for user "${n.userName}" to ${t.coords.latitude}/${t.coords.longitude}
`))}map=null;logMessage="";canvasStyleIsSet=!1;zoomLevelSingleMarker=11;userMarkers={};destroyRef=O(Xi);zoomInput=new ut;markersVectorLayer=new Fg;ngOnInit(){this.map||this.initializeMap()}ngAfterViewInit(){let t=this.geoPositionService.geoPositions$.pipe(wi(this.destroyRef)).subscribe(i=>{i&&this.setupMap(i)}),n=this.geoPositionService.removedGeoPosition$.pipe(wi(this.destroyRef)).subscribe(i=>{i&&this.updateMap(i)});this.destroyRef.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}ngAfterViewChecked(){if(!this.extendedView&&!this.canvasStyleIsSet){let t=this.map?.getViewport().querySelector("canvas");t&&(t.style.borderRadius="50%",this.canvasStyleIsSet=!0)}}onViewChanged=()=>{let t=this.map?.getView();this.zoomLevelSingleMarker=t?.getZoom()||11};onCenterChanged=t=>{let n=this.geoPositionService.getGeoPosition(this.userId);n&&n.id===this.userId&&(n.center=t.target.getCenter())};refreshVectorLayer(){let t=this.markersVectorLayer.getSource();t&&(t.clear(!0),t.addFeatures(Object.values(this.userMarkers)))}styleUser=(t,n)=>{t&&t.setStyle(new Aa({image:new Ic({src:"assets/position_marker.png",size:[60,60],anchor:[.5,1],opacity:.7,scale:.5}),text:new Rf({text:n,font:"bold 12px Calibri,sans-serif",offsetY:-40,fill:new na({color:"blue"}),stroke:new ka({color:"white",width:2})})}))};setupMap(t){let n=this.map?.getView();n?.setZoom(this.zoomLevelSingleMarker),t.forEach(i=>{Object.keys(this.userMarkers).includes(i.id)||(this.userMarkers[i.id]=new If);let r=[i.coords.longitude,i.coords.latitude];this.userMarkers[i.id].setGeometry(new ju(bs(r))),this.styleUser(this.userMarkers[i.id],i.userName),i.id===this.userId&&i.coords.latitude&&i.coords.longitude&&n?.setCenter(bs(r))}),this.refreshVectorLayer()}updateMap(t){Object.keys(this.userMarkers).includes(t.id)&&delete this.userMarkers[t.id],this.refreshVectorLayer()}initializeMap=()=>{this.userMarkers[this.userId]=new If;let t=new Cg({target:"attribution"});this.markersVectorLayer=new Fg({source:new Wv({features:Object.values(this.userMarkers)})}),this.map=new yR({controls:yg({attribution:!1}).extend([t]),target:"map",view:new _s({center:bs([0,0]),zoom:this.zoomLevelSingleMarker}),layers:[new RR({source:new Yb}),this.markersVectorLayer]}),this.map.getView().on("change:resolution",n=>this.zoomInput.next(n)),this.map.getView().once("change:center",n=>this.onCenterChanged(n))};static \u0275fac=function(n){return new(n||e)(We(ao))};static \u0275cmp=Qe({type:e,selectors:[["app-map"]],inputs:{extendedView:"extendedView",userId:"userId",coordinatesChange:"coordinatesChange"},decls:4,vars:2,consts:[[1,"map-container"],[3,"map"],["class","extended-view",4,"ngIf"],[1,"extended-view"],["rows","10",1,"log-messages"],["positionTemplate","{x}, {y} m",3,"map"]],template:function(n,i){n&1&&(Le(0,"main")(1,"div",0),Ct(2,"app-ol-map",1),He()(),nn(3,AEe,6,3,"div",2)),n&2&&(Xe(2),dt("map",i.map),Xe(),dt("ngIf",i.extendedView))},dependencies:[oi,Ya,FD,kD,qv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}main[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:400px;min-width:400px}.map-container[_ngcontent-%COMP%], .log-messages[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{display:flex;background-color:var(--header-color);padding:1em;justify-content:space-between}.extended-view[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column}"]})};var MZ="http://localhost:4000";function PZ(e,t){e.post(`${MZ}/ping`,t).subscribe(n=>{console.log("ping response:",n)})}function OZ(e,t){e.post(`${MZ}/remove`,t).subscribe(n=>{console.log("ping response:",n)})}var NZ=Mm(LZ());var GR=class e{constructor(){let t=new NZ.default("409287850efe9b9b147c",{cluster:"eu"});this.channel=t.subscribe("location")}channel;init(){return this.channel}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var PEe=new Re("[WA_WINDOW]",{factory:()=>{let{defaultView:e}=O(Ot);if(!e)throw new Error("Window is not available");return e}}),rl=PEe,m2t=new Re("[WA_ANIMATION_FRAME]",{factory:()=>{let{requestAnimationFrame:e,cancelAnimationFrame:t}=O(rl);return new Gt(i=>{let r=NaN,o=s=>{i.next(s),r=e(o)};return r=e(o),()=>{t(r)}}).pipe(Nh())}});var v2t=new Re("[WA_CACHES]",{factory:()=>O(rl).caches});var C2t=new Re("[WA_CRYPTO]",{factory:()=>O(rl).crypto});var y2t=new Re("[WA_CSS]",{factory:()=>O(rl).CSS??{escape:e=>e,supports:()=>!1}});var x2t=new Re("[WA_HISTORY]",{factory:()=>O(rl).history});var b2t=new Re("[WA_LOCAL_STORAGE]",{factory:()=>O(rl).localStorage});var w2t=new Re("[WA_LOCATION]",{factory:()=>O(rl).location});var zR=new Re("[WA_NAVIGATOR]",{factory:()=>O(rl).navigator}),BZ=zR,_2t=new Re("[WA_MEDIA_DEVICES]",{factory:()=>O(BZ).mediaDevices});var S2t=new Re("[WA_NETWORK_INFORMATION]",{factory:()=>O(zR).connection||null});var E2t=new Re("[WA_PAGE_VISIBILITY]",{factory:()=>{let e=O(Ot);return Dp(e,"visibilitychange").pipe(qo(0),Pt(()=>e.visibilityState!=="hidden"),Rp(),pu({refCount:!1,bufferSize:1}))}});var D2t=new Re("[WA_PERFORMANCE]",{factory:()=>O(rl).performance});var R2t=new Re("[WA_SCREEN]",{factory:()=>O(rl).screen});var T2t=new Re("[WA_SESSION_STORAGE]",{factory:()=>O(rl).sessionStorage});var I2t=new Re("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{let e=O(rl);return e.speechRecognition||e.webkitSpeechRecognition||null}});var F2t=new Re("[WA_SPEECH_SYNTHESIS]",{factory:()=>O(rl).speechSynthesis});var k2t=new Re("[WA_USER_AGENT]",{factory:()=>O(BZ).userAgent});var UR=new Re("An abstraction over window.navigator.geolocation object",{factory:()=>O(zR).geolocation});var VZ=new Re("Token for an additional position options",{factory:()=>({})});var HZ=new Re("Is Geolocation API supported?",{factory:()=>!!O(UR)});var Qv=class e extends Gt{constructor(t,n,i){let r=0;return super(o=>{n||o.error("Geolocation is not supported in your browser"),r=t.watchPosition(s=>o.next(s),s=>o.error(s),i)}),this.pipe(uc(()=>t.clearWatch(r)),pu({bufferSize:1,refCount:!0}))}static \u0275fac=function(n){return new(n||e)(lt(UR),lt(HZ),lt(VZ))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};function OEe(e,t){if(e&1&&(Le(0,"div"),Ct(1,"app-map",4),He()),e&2){let n=t.ngIf,i=Zn();Xe(),dt("coordinatesChange",n[0])("userId",i.geoPositionId)}}var WR=class e{constructor(t,n,i,r,o,s,a,l){this.http=t;this.route=n;this.pusher=i;this.changeDetectorRef=r;this.geoPositions=o;this.authService=s;this.router=a;this.geolocation$=l}destroyRef=O(Xi);geoPosition$;username="";geoPositionId="";message="";showAlert=!1;showLocationUpdate=!1;pingMyPosition(t,n){t&&PZ(this.http,{userId:this.geoPositionId,lat:t.coords.latitude,lng:t.coords.longitude,username:this.username,info:n})}ngOnInit(){if(this.route.snapshot.paramMap.has("userId")&&this.route.snapshot.paramMap.has("username")){this.geoPositionId=this.route.snapshot.paramMap.get("userId"),this.username=this.route.snapshot.paramMap.get("username");let t=this.geoPositions.getGeoPosition(this.geoPositionId);if(!t)this.logout();else{this.geoPosition$=this.geoPositions.geoPositions$.asObservable();let n=this.authService.user$.pipe(wi(this.destroyRef)).subscribe(r=>{r?.id||this.logout()});this.destroyRef.onDestroy(()=>{n.unsubscribe()}),this.geoPositions.geoPositions$.next([t]);let i=this.pusher.init();i.bind("ping",r=>{let o=this.geoPositions.getGeoPosition(r.userId);if(o)this.geoPositions.setGeoCoordinatesAndOrZoom(r.userId,ke(z({},o.coords),{latitude:r.lat,longitude:r.lng}));else{o={id:r.userId,userName:r.username,geoPositionInfo:"Todo ?",coords:{latitude:r.lat,longitude:r.lng},center:[0,0],zoom:14},this.geoPositions.addGeoPositions([o]);let s=this.geoPositions.getGeoPosition(this.geoPositionId);setTimeout(()=>{this.pingMyPosition(s,`Welcome ${r.username} to the Hangout`)},1e3)}this.geoPositions.geoPositions$.next([o]),this.showLocationUpdate=!0,this.message=`User "${o.userName}" says '${r.info}'`,this.changeDetectorRef.markForCheck()}),i.bind("remove",r=>{let o=this.geoPositions.removeGeoPosition(r.userId);o&&(this.showLocationUpdate=!0,this.message=`User "${o.userName}" says goodbye`,this.changeDetectorRef.markForCheck())})}}}ngAfterContentInit(){let t=this.geoPositions.getGeoPosition(this.geoPositionId);t&&this.pingMyPosition(t,`Hello, I'm ${this.username} and I just joined the Hangout`)}logout(){this.geoPositions.clearGeoPositions(),this.navigateHome()}navigateHome(){this.router.navigate(["/home"])}ngOnDestroy(){OZ(this.http,{userId:this.geoPositionId}),this.geoPositionId="",this.username=""}static \u0275fac=function(n){return new(n||e)(We(R0),We(pd),We(GR),We(Fi),We(ao),We(of),We(Zh),We(Qv))};static \u0275cmp=Qe({type:e,selectors:[["app-hangout"]],decls:12,vars:6,consts:[[1,"main"],[4,"ngIf"],[1,"alert",3,"hidden"],[1,"location","alert",3,"hidden"],[3,"coordinatesChange","userId"]],template:function(n,i){n&1&&(Ct(0,"app-header"),Le(1,"div",0),nn(2,OEe,2,2,"div",1),wE(3,"async"),Le(4,"h4"),cn(5,"Location Alerts"),He(),Le(6,"div",2)(7,"p"),cn(8,"This user has left"),He()(),Le(9,"div",3)(10,"p"),cn(11),He()()()),n&2&&(Xe(2),dt("ngIf",_E(3,4,i.geoPosition$)),Xe(4),dt("hidden",!i.showAlert),Xe(3),dt("hidden",!i.showLocationUpdate),Xe(2),ko(i.message))},dependencies:[nv,Zv,oi,Ya,lx],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:40px 2px}.main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-transform:uppercase;margin-bottom:15px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#f14343;color:#fff;padding:15px;border-radius:5px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.main[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{background:green;margin-top:20px}agm-map[_ngcontent-%COMP%]{height:400px;width:600px}"]})};function LEe(e,t){if(e&1&&(Le(0,"div"),cn(1),He()),e&2){let n=Zn();Xe(),sx(" Sorry, position is not available: ",n.error.message," ")}}function NEe(e,t){e&1&&(Le(0,"div"),cn(1," This is the place to be and hangout with your friends "),He())}function BEe(e,t){if(e&1){let n=ro();Le(0,"div"),Ct(1,"app-map",4),Le(2,"button",5),Ft("click",function(){ui(n);let r=Zn(2);return hi(r.navigateToHangout())}),cn(3,' Enter the "Hangout" '),He()()}if(e&2){let n=Zn(2);Xe(),dt("coordinatesChange",n.geoPosition)("userId",n.userId)("extendedView",!1)}}function VEe(e,t){if(e&1&&nn(0,BEe,4,3,"div",2),e&2){let n=Zn();dt("ngIf",!!n.geoPosition&&!!n.geoPosition.userName)}}var sw=class e{constructor(t,n,i,r,o){this.router=t;this.changeDetectorRef=n;this.authService=i;this.geoPositions$=r;this.geolocation$=o}error=null;geoPosition;destroyRef=O(Xi);username="";userId="";ngOnInit(){let t=this.authService.user$.pipe(wi(this.destroyRef)).subscribe(n=>{n?.id?(this.userId&&this.userId!==n.id&&this.geoPositions$.removeGeoPosition(this.userId),this.username=n.name,this.userId=n.id,this.showMap()):(this.userId="",this.username="",this.geoPosition=void 0,this.geoPositions$.clearGeoPositions())});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}navigateToHangout(){this.router.navigate(["/hangout",this.userId,this.username])}showMap(){this.geolocation$.pipe(bl()).subscribe({next:t=>{this.error=null,this.geoPosition={id:this.userId,userName:this.username,geoPositionInfo:"Just created user",coords:t.coords,center:[0,0],zoom:14},this.geoPositions$.addGeoPositions([this.geoPosition]),this.changeDetectorRef.markForCheck()},error:t=>{this.error=t}})}static \u0275fac=function(n){return new(n||e)(We(Zh),We(Fi),We(of),We(ao),We(Qv))};static \u0275cmp=Qe({type:e,selectors:[["app-home"]],decls:8,vars:4,consts:[["elseBlock",""],[1,"content"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"coordinatesChange","userId","extendedView"],[1,"primary-button",3,"click"]],template:function(n,i){if(n&1&&(Ct(0,"app-header"),Le(1,"div",1)(2,"h2"),cn(3),He(),nn(4,LEe,2,1,"div",2)(5,NEe,2,0,"div",3)(6,VEe,1,1,"ng-template",null,0,jh),He()),n&2){let r=Zo(7);Xe(3),sx(" ",i.userId?`Welcome ${i.username} to "Hangout"`:'Welcome to "Hangout" make yourself known by logging in'," "),Xe(),dt("ngIf",!!i.error),Xe(),dt("ngIf",!i.username)("ngIfElse",r)}},dependencies:[nv,oi,Ya,Zv],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 0}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;opacity:.6}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{width:100%;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:40px 2px;transition:.3s;display:inline-block;text-decoration:none;cursor:pointer;border-radius:4px}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}"]})};Ar();var HEe=["*"];var GEe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],zEe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],UEe=new Re("MAT_CARD_CONFIG"),zZ=(()=>{class e{appearance;constructor(){let n=O(UEe,{optional:!0});this.appearance=n?.appearance||"raised"}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&gn("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:HEe,decls:1,vars:0,template:function(i,r){i&1&&(Kr(),ri(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),UZ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var WZ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();var jZ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:zEe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(Kr(GEe),ri(0),Le(1,"div",0),ri(2,1),He(),ri(3,2))},encapsulation:2,changeDetection:0})}return e})(),$Z=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return e})();var jR=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,dn]})}return e})();var WEe={capture:!0},jEe=["focus","mousedown","mouseenter","touchstart"],E6="mat-ripple-loader-uninitialized",D6="mat-ripple-loader-class-name",KZ="mat-ripple-loader-centered",$R="mat-ripple-loader-disabled",XZ=(()=>{class e{_document=O(Ot);_animationMode=O(Ir,{optional:!0});_globalRippleOptions=O(xO,{optional:!0});_platform=O(si);_ngZone=O(pt);_injector=O(Pn);_eventCleanups;_hosts=new Map;constructor(){let n=O(yo).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>jEe.map(i=>Cs(n,this._document,i,this._onInteraction,WEe)))}ngOnDestroy(){let n=this._hosts.keys();for(let i of n)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(n,i){n.setAttribute(E6,this._globalRippleOptions?.namespace??""),(i.className||!n.hasAttribute(D6))&&n.setAttribute(D6,i.className||""),i.centered&&n.setAttribute(KZ,""),i.disabled&&n.setAttribute($R,"")}setDisabled(n,i){let r=this._hosts.get(n);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(n))):i?n.setAttribute($R,""):n.removeAttribute($R)}_onInteraction=n=>{let i=_a(n);if(i instanceof HTMLElement){let r=i.closest(`[${E6}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(D6)),n.append(i);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??Xx.enterDuration,a=r?0:o?.animation?.exitDuration??Xx.exitDuration,l={rippleDisabled:r||o?.disabled||n.hasAttribute($R),rippleConfig:{centered:n.hasAttribute(KZ),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new Yx(l,this._ngZone,i,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(n),this._hosts.set(n,{target:l,renderer:c,hasSetUpEvents:d}),n.removeAttribute(E6)}destroyRipple(n){let i=this._hosts.get(n);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $Ee=["mat-icon-button",""],qEe=["*"];var YZ=new Re("MAT_BUTTON_CONFIG");var KEe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],XEe=(()=>{class e{_elementRef=O(Tt);_ngZone=O(pt);_animationMode=O(Ir,{optional:!0});_focusMonitor=O(gd);_rippleLoader=O(XZ);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){O(oo).load(j0);let n=O(YZ,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=n?.disabledInteractive??!1,this.color=n?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of KEe)i.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",pe],disabled:[2,"disabled","disabled",pe],ariaDisabled:[2,"aria-disabled","ariaDisabled",pe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",pe]}})}return e})();var R6=(()=>{class e extends XEe{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(bi("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Xa(r.color?"mat-"+r.color:""),gn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[qr],attrs:$Ee,ngContentSelectors:qEe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Kr(),Ct(0,"span",0),ri(1),Ct(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return e})();var aw=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,Q0,dn]})}return e})();var T6=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,dn]})}return e})();var ZZ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[T6,dn,T6,dn]})}return e})();var QZ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn,dn]})}return e})();var JZ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn]})}return e})();var eQ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[ig,dn,Q0,JZ,QZ]})}return e})();var is={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Lf=class e{constructor(t){this.responsive=t;this.responsive.observe([is.Handset,is.Tablet,is.Web]).pipe(wi()).subscribe(n=>{let i=n.breakpoints;i[is.TabletPortrait]||i[is.HandsetLandscape]?this.fontSize$.next(2):i[is.HandsetPortrait]||i[is.HandsetLandscape]?this.fontSize$.next(1):(i[is.WebLandscape]||i[is.WebPortrait])&&this.fontSize$.next(3)})}fontSize$=new ii(3);static \u0275fac=function(n){return new(n||e)(lt(ng))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pa=class e{constructor(t,n){this.geoPositionService=t;this.fontSizeService=n}map;currentFeature;currentCoordinates;info;overlay;tooltipSwitchedOn=!0;onClickHandler=null;assignTooltipHandlers(t,n){n&&(this.info=n),t&&!this.map&&(this.map=t),t.on("loadstart",()=>{t.getTargetElement().classList.add("spinner")}),t.on("loadend",()=>{t.getTargetElement().classList.remove("spinner")}),t.on("pointermove",this.pointerMove),t.getTargetElement().addEventListener("pointerleave",()=>this.reset())}assignClickHandler(t,n,i){t&&!this.map&&(this.map=t),t&&n&&(this.onClickHandler=n,this.overlay=new x6({element:i,autoPan:!0,id:"popup-house-card-overlay"}),this.overlay.panIntoView({animation:{duration:1e3},margin:100}),this.overlay.on("propertychange",this.switchTooltipOnOff.bind(this)),t.on("click",this.showPopUp.bind(this)))}closePopup(){this.overlay&&(this.overlay.setPosition(void 0),this.tooltipSwitchedOn=!1,this.switchTooltipOnOff(),this.map.removeOverlay(this.overlay))}showPopUp(t){if(this.map&&this.overlay&&this.onClickHandler)if(this.currentFeature)this.handleFeature(this.currentFeature,this.currentCoordinates);else{let n=this.map.getEventPixel(t.originalEvent);n&&this.map.forEachFeatureAtPixel(n,i=>{this.handleFeature(i,t.coordinate)},{hitTolerance:this.fontSizeService.fontSize$.value<3?10:0})}}handleFeature(t,n){let i=qt(t),r=this.geoPositionService.getIdByUid(i);if(r&&this.onClickHandler){let o=this.geoPositionService.getGeoPosition(r);if(o?.details)this.onClickHandler(o.details);else{let s=JSON.parse(o?o.geoPositionInfo:`{
                  "postcode": "column 'postcode' not found",
                  "city": "column 'city' not found",
                  "housenumber": "column 'housenumber' not found"
                }`),a=o?`Address "${s.street} ${s.housenumber}, ${s.postcode} ${s.city}" not found`:"No address found";this.onClickHandler({Error:`${a}. Please verify address in excel sheet.`,[kg]:s.postcode,[Md]:s.city,[Vl]:s.housenumber,[Af]:s.street})}this.overlay&&this.map&&(this.overlay.setPosition(n),this.map.addOverlay(this.overlay),this.reset())}}handlePointerMove(t){if(t.dragging&&this.info){this.info.style.visibility="hidden",this.currentFeature=void 0,this.currentCoordinates=void 0;return}let n=this.map.getEventPixel(t.originalEvent);this.displayFeatureInfo(n,t.originalEvent.target),this.currentCoordinates=t.coordinate}displayFeatureInfo(t,n){if(this.info&&this.map&&n){let i=this.map.forEachFeatureAtPixel(t,function(r){return r},{hitTolerance:this.fontSizeService.fontSize$.value<3?10:0});i?(this.info.style.left=t[0]+"px",this.info.style.top=t[1]+"px",i!==this.currentFeature&&(this.info.style.visibility="visible",this.info.innerText=i.get("Address"))):this.info.style.visibility="hidden",this.currentFeature=i}}reset(){this.info&&(this.currentFeature=void 0,this.currentCoordinates=void 0,this.info.style.visibility="hidden")}pointerMove=t=>this.handlePointerMove(t);switchTooltipOnOff(){setTimeout(()=>{document.getElementsByClassName("house-card").length===0||this.overlay.getElement()?.parentElement?.style.display==="none"?this.tooltipSwitchedOn||(this.map.on("pointermove",this.pointerMove),this.tooltipSwitchedOn=!0):this.tooltipSwitchedOn&&(this.map.un("pointermove",this.pointerMove),this.tooltipSwitchedOn=!1)},1)}static \u0275fac=function(n){return new(n||e)(lt(ao),lt(Lf))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ui=class e extends Pa{constructor(t,n){super(t,n)}static \u0275fac=function(n){return new(n||e)(lt(ao),lt(Lf))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var qR=class e{constructor(t){this.mapEventHandlers=t}details;map;address(){if(this.details){let[t,n,i,r,o]=Ad(this.details);return t?this.details[t]:`${this.details[o]} ${this.details[i]} ${this.details[n]?this.details[n]+" ":""}${this.details[r]}`}return""}closePopup(t){t.stopPropagation(),this.mapEventHandlers.closePopup()}static \u0275fac=function(n){return new(n||e)(We(Ui))};static \u0275cmp=Qe({type:e,selectors:[["app-card-header"]],inputs:{details:"details",map:"map"},features:[fi([Ui,{provide:Ui,useExisting:Pa}])],decls:8,vars:3,consts:[[1,"header"],[1,"table"],[1,"row"],["mat-icon-button","","aria-label","close icon",3,"click"],[1,"close-icon"]],template:function(n,i){n&1&&(Le(0,"mat-card-header",0)(1,"div",1)(2,"div",2)(3,"mat-card-title"),cn(4),He(),Le(5,"button",3),Ft("click",function(o){return i.closePopup(o)}),Le(6,"mat-icon",4),cn(7,"close"),He()()()()()),n&2&&(Xe(4),ko(i.address()),Xe(),gc("flex",1))},dependencies:[jR,jZ,UZ,Pu,Mu],styles:[".header[_ngcontent-%COMP%]{padding:6px 0 6px 16px!important}.close-icon[_ngcontent-%COMP%]{color:red;float:right;cursor:pointer}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-wrap:anywhere}.row[_ngcontent-%COMP%]{display:flex}button[_ngcontent-%COMP%]{border-style:hidden;background-color:transparent}"]})};function QEe(e,t){if(e&1&&(Le(0,"div",4)(1,"div",5),cn(2),He(),Ct(3,"div",6),He()),e&2){let n=t.$implicit;Xe(2),ko(n[0]),Xe(),dt("innerHTML",n[1],c9)}}var KR=class e{details;isUrlItem(t){try{return new URL(t),!0}catch{return!1}}extraInformation(t){if(t){let[n,i,,r,o]=Ad(this.details);return Object.entries(t).filter(s=>![n,o,r,iw,i,Mf,Pf,rw].includes(s[0])&&!ow(s[1])&&!BR(s[1])).map(s=>this.isUrlItem(s[1])?[s[0],`<a href="${s[1]}" target="_blank">${s[1]}</a>`]:s)}return[]}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Qe({type:e,selectors:[["app-excel-content"]],inputs:{details:"details"},decls:4,vars:3,consts:[[1,"leftColumn"],[1,"info-table"],[1,"table"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"cellLeft"],[1,"cellRight",3,"innerHTML"]],template:function(n,i){n&1&&(Le(0,"div",0)(1,"div",1)(2,"div",2),nn(3,QEe,4,2,"div",3),He()()()),n&2&&(Xe(2),gc("flex",2),Xe(),dt("ngForOf",i.extraInformation(i.details)))},dependencies:[oi,ld],styles:["app-excel-content{display:flex;flex:1}.leftColumn[_ngcontent-%COMP%]{float:left;flex:1 1 0}.info-table0[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-wrap:anywhere}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{display:flex;flex:1 1 0;justify-content:start;align-items:center;text-wrap:balance}.cellLeft[_ngcontent-%COMP%]{display:flex;flex:1 1 0;text-wrap:nowrap}.cellRight[_ngcontent-%COMP%]{display:flex;flex:1 1 0;text-wrap:balance}"]})};var Hl=class e{subject;toast$;constructor(){this.subject=new ii(null),this.toast$=this.subject.asObservable().pipe(pn(t=>t!==null))}show(t,n,i,r){this.subject.next({type:t,title:n,body:i,delay:r})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var F6=32*1024,tQ=500,JEe=.5,e2e=.5,XR=class e{constructor(t){this.toaster=t}compress(t){let n=t.type||"image/jpeg",i=new FileReader;return i.readAsDataURL(t),new Gt(r=>{i.onload=o=>{let s=this.createImage(o),a=s.width>s.height?s.width:s.height,l=a>tQ?tQ/a:JEe,c=t.size>F6?F6/t.size:e2e;s.onload=()=>{let d=document.createElement("canvas");d.width=s.width*l,d.height=s.height*l;let u=d.getContext("2d");u.drawImage(s,0,0,d.width,d.height);let f=u.canvas.toDataURL(n,c);f&&r.next(f),f.length>F6&&this.toaster.show("warning","Picture size too large (>32k), this picture can't be exported into the excel sheet")}},i.onerror=o=>r.error(o)})}createImage(t){let n=new Image;if(t.target?.result){let i=t.target.result;n.src=i}return n}static \u0275fac=function(n){return new(n||e)(lt(Hl))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var Gl=class e{constructor(t){this.compressImage=t}pictureStore={};pictureStore$=new ii({});loadPicture(t,n){let i=new FileReader;i.onload=r=>{if(r.target?.result)if(t.type.toLowerCase()==="application/json"){let o=JSON.parse(r.target?.result);Object.keys(o).forEach(s=>{this.storePicture(o[s.toLowerCase()],s.toLowerCase())})}else this.storePicture(r.target?.result,n.toLowerCase())},t.type.toLowerCase()==="application/json"?i.readAsText(t):this.compressImage.compress(t).pipe(Tr(1)).subscribe(r=>{this.storePicture(r,n.toLowerCase())})}storePicture(t,n){this.pictureStore[n.toLowerCase()]=t,this.pictureStore$.next({[n.toLowerCase()]:t})}getPicture(t){return Object.keys(this.pictureStore).includes(t)?this.pictureStore[t]:t}hasNoBlobs(t){return this.getPicture(t)===t}getPicturesStore(){return this.pictureStore}static \u0275fac=function(n){return new(n||e)(lt(XR))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};function n2e(e,t){if(e&1&&(Le(0,"div",3)(1,"div",4),Ct(2,"img",5),He()()),e&2){let n=t.$implicit;Xe(2),dt("src",n,d9)("alt",`Picture ${n} not found`)}}var ZR=class e{constructor(t,n){this.pictureService=t;this.changeDetectorRef=n}details;ngOnInit(){this.pictureService.pictureStore$.subscribe(()=>{this.details=z({},this.details),this.changeDetectorRef.markForCheck()})}pictures(t){if(t){let n=_6(t);return nh(t).forEach(i=>{let r=this.pictureService.getPicture(i.replace(/^.*[\\\/]/,""));n.includes(r)||n.push(this.pictureService.getPicture(i.replace(/^.*[\\\/]/,"")))}),n}return[]}static \u0275fac=function(n){return new(n||e)(We(Gl),We(Fi))};static \u0275cmp=Qe({type:e,selectors:[["app-pictures-content"]],inputs:{details:"details"},decls:3,vars:1,consts:[[1,"rightColumn"],[1,"rowWrap"],["class","cell",4,"ngFor","ngForOf"],[1,"cell"],[1,"picture-image"],["mat-card-image","",3,"src","alt"]],template:function(n,i){n&1&&(Le(0,"div",0)(1,"div",1),nn(2,n2e,3,2,"div",2),He()()),n&2&&(Xe(2),dt("ngForOf",i.pictures(i.details)))},dependencies:[oi,ld],styles:["app-pictures-content{display:flex;flex:1}.rightColumn[_ngcontent-%COMP%]{float:left;display:flex;flex:1 1 0;padding-left:20px}.rowWrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.cell[_ngcontent-%COMP%]{flex:1 1 49%}.picture-image[_ngcontent-%COMP%]{flex:1;padding:5px 2px 0}img[_ngcontent-%COMP%]{max-width:100%;height:auto;object-fit:cover;flex:initial}"]})};var i2e=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="20px"
    viewBox="0 -960 960 960"
    width="20px"
    fill="#BD4C31"
  >
    <path
      d="M432-433ZM120-144q-29 0-50.5-21.5T48-216v-432q0-29 21.5-50.5T120-720h120l72-96h288v72H348l-72 96H120v432h624v-384h72v384q0 29-21.15 50.5T744-144H120Zm624-528v-72h-72v-72h72v-72h72v72h72v72h-72v72h-72ZM432-264q72 0 120-49t48-119q0-69-48-118.5T432-600q-72 0-120 49.5t-48 119q0 69.5 48 118.5t120 49Zm0-72q-42 0-69-28.13T336-433q0-39.9 27-67.45Q390-528 432-528t69 27.55q27 27.55 27 67.45 0 40.74-27 68.87Q474-336 432-336Z"
    />
  </svg>
`,r2e=`
  <svg xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="#BD4C31"
  >
    <path
      d="M560-80v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T903-300L683-80H560Zm300-263-37-37 37 37ZM620-140h38l121-122-18-19-19-18-122 121v38ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v120h-80v-80H520v-200H240v640h240v80H240Zm280-400Zm241 199-19-18 37 37-18-19Z"
    />
  </svg>`,QR=class e{constructor(t,n,i){this.pictureService=t;this.dataStoreService=n;this.mapEventHandlers=i;let r=O(rb),o=O(jp);r.addSvgIconLiteral("add-photo",o.bypassSecurityTrustHtml(i2e)),r.addSvgIconLiteral("edit-mode",o.bypassSecurityTrustHtml(r2e))}details;location(t){return t?`longitude: ${t[Mf]} / latitude: ${t[Pf]}`:"longitude: unknown} / latitude: unknown"}uploadPicture(){document.querySelector("#uploadPicture").click()}editMode(t,n){t.stopPropagation(),this.dataStoreService.setSelectedData(n),this.dataStoreService.setEditMode(!0),this.mapEventHandlers.closePopup()}selectPicture(t){let n=nh(t),i=document.querySelector("#uploadPicture");i.files&&n.length&&this.pictureService.loadPicture(i.files[0],n[0])}static \u0275fac=function(n){return new(n||e)(We(Gl),We(Rs),We(Ui))};static \u0275cmp=Qe({type:e,selectors:[["app-card-footer"]],inputs:{details:"details"},features:[fi([Ui,{provide:Ui,useExisting:Pa}])],decls:12,vars:1,consts:[[1,"footer","row"],[1,"cellLeft"],["xmlns","http://www.w3.org/2000/svg","height","18px","viewBox","0 -960 960 960","width","18px","fill","#BD4C31"],["d","M360-440h80v-110h80v110h80v-190l-120-80-120 80v190Zm120 254q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"],[1,"cellRight"],["matIconButton","","aria-label","Photo icon",1,"upload-button",3,"click"],["svgIcon","edit-mode","aria-hidden","false","aria-label","Edit excel data"],["id","uploadPicture","type","file","accept","image/jpg",2,"display","none",3,"change"],["svgIcon","add-photo","aria-hidden","false","aria-label","Add photo SVG icon"]],template:function(n,i){n&1&&(Le(0,"div",0)(1,"div",1),Gp(),Le(2,"svg",2),Ct(3,"path",3),He(),tx(),Le(4,"span"),cn(5),He()(),Le(6,"div",4)(7,"button",5),Ft("click",function(o){return i.editMode(o,i.details)}),Ct(8,"mat-icon",6),He(),Le(9,"button",5),Ft("click",function(){return i.uploadPicture()}),Le(10,"input",7),Ft("change",function(){return i.selectPicture(i.details)}),He(),Ct(11,"mat-icon",8),He()()()),n&2&&(Xe(5),ko(i.location(i.details)))},dependencies:[oi,Mu],styles:[".footer[_ngcontent-%COMP%]{font-size:x-small;padding:15px 0 5px;gap:10px;display:flex}.upload-button[_ngcontent-%COMP%]{padding:2px 1px 0 2px;cursor:pointer}.upload-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{max-height:14px;max-width:14px}.cellLeft[_ngcontent-%COMP%]{display:flex;flex:1 1 0;margin-left:10px;text-wrap:nowrap}.cellRight[_ngcontent-%COMP%]{display:flex;flex:1 1 0;flex-flow:row-reverse;margin-right:10px}"]})};var o2e=(e,t,n)=>({small:e,medium:t,big:n});function s2e(e,t){if(e&1&&Ct(0,"app-pictures-content",5),e&2){let n=Zn(2);dt("details",n.details)}}function a2e(e,t){if(e&1&&(Le(0,"mat-card",1),Ct(1,"app-card-header",2),Le(2,"mat-card-content",3)(3,"div",4),Ct(4,"app-excel-content",5),nn(5,s2e,1,1,"app-pictures-content",6),He()(),Le(6,"mat-card-footer"),Ct(7,"app-card-footer",5),He()()),e&2){let n=t.ngIf,i=Zn();dt("ngClass",kU(6,o2e,n===1,n===2,n===3)),Xe(),dt("details",i.details)("map",i.map),Xe(3),dt("details",i.details),Xe(),dt("ngIf",i.checkIfItHasPictures()),Xe(2),dt("details",i.details)}}var JR=class e{constructor(t,n,i,r){this.ref=t;this.mapEventHandlers=n;this.changeDetectorRef=i;this.fontSizeService=r}map;details;checkIfItHasPictures(){return FZ(this.details)}callback=t=>{this.details=t,this.changeDetectorRef.markForCheck()};ngOnInit(){this.map&&this.mapEventHandlers.assignClickHandler(this.map,this.callback,this.ref.nativeElement)}static \u0275fac=function(n){return new(n||e)(We(Tt),We(Ui),We(Fi),We(Lf))};static \u0275cmp=Qe({type:e,selectors:[["app-popup-house-card"]],inputs:{map:"map"},features:[fi([Ui,{provide:Ui,useExisting:Pa}]),eU([b0])],decls:2,vars:3,consts:[["class","house-card","appearance","raised",3,"ngClass",4,"ngIf"],["appearance","raised",1,"house-card",3,"ngClass"],[3,"details","map"],[1,"card-content"],[1,"columnsContainer"],[3,"details"],[3,"details",4,"ngIf"]],template:function(n,i){n&1&&(nn(0,a2e,8,10,"mat-card",0),wE(1,"async")),n&2&&dt("ngIf",_E(1,1,i.details&&i.fontSizeService.fontSize$))},dependencies:[jR,zZ,WZ,$Z,aw,eQ,ZZ,Pu,oi,b0,Ya,lx,qR,KR,ZR,QR],styles:[".house-card[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.small[_ngcontent-%COMP%]{font-size:10px;max-width:400px}.small[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:column}.medium[_ngcontent-%COMP%]{font-size:12px;max-width:500px}.medium[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:column}.big[_ngcontent-%COMP%]{font-size:16px;max-width:600px}.big[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:row}.columnsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1 1 50%}"],changeDetection:0})};function l2e(e,t){}var Jv=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var A6=(()=>{class e extends og{_elementRef=O(Tt);_focusTrapFactory=O(dO);_config;_interactivityChecker=O(U0);_ngZone=O(pt);_overlayRef=O(ag);_focusMonitor=O(gd);_renderer=O(Fr);_platform=O(si);_document=O(Ot,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=O(Fi);_injector=O(Pn);_isDestroyed=!1;constructor(){super(),this._config=O(Jv,{optional:!0})||new Jv,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let i=this._ariaLabelledByQueue.indexOf(n);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),i}attachTemplatePortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),i}attachDomPortal=n=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,i){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",r),s=this._renderer.listen(n,"mousedown",r)})),n.focus(i)}_focusByCssSelector(n,i){let r=this._elementRef.nativeElement.querySelector(n);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||ba(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,i=null;if(typeof n=="string"?i=this._document.querySelector(n):typeof n=="boolean"?i=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(i=n),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=jx(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,i=jx();return n===i||n.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=jx()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&tr(X0,7),i&2){let o;Qn(o=Jn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&bi("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[qr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&nn(0,l2e,0,0,"ng-template",0)},dependencies:[X0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})(),dw=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ut;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,n){this.overlayRef=t,this.config=n,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!vc(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},c2e=new Re("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=O(Jo);return()=>e.scrollStrategies.block()}}),d2e=new Re("DialogData"),u2e=new Re("DefaultDialogConfig");var nQ=(()=>{class e{_overlay=O(Jo);_injector=O(Pn);_defaultOptions=O(u2e,{optional:!0});_parentDialog=O(e,{optional:!0,skipSelf:!0});_overlayContainer=O(eb);_idGenerator=O(ys);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ut;_afterOpenedAtThisLevel=new ut;_ariaHiddenElements=new Map;_scrollStrategy=O(c2e);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=jm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qo(void 0)));constructor(){}open(n,i){let r=this._defaultOptions||new Jv;i=z(z({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new dw(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(n,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){k6(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(i=>i.id===n)}ngOnDestroy(){k6(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),k6(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let i=new rf({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(i.backdropClass=n.backdropClass),i}_attachContainer(n,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:Jv,useValue:r},{provide:dw,useValue:i},{provide:ag,useValue:n}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=A6;let l=new Iu(a,r.viewContainerRef,Pn.create({parent:o||this._injector,providers:s}));return n.attach(l).instance}_attachDialogContent(n,i,r,o){if(n instanceof ya){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=z(z({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Fu(n,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Iu(n,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(n,i,r,o){let s=n.injector||n.viewContainerRef?.injector,a=[{provide:d2e,useValue:n.data},{provide:dw,useValue:i}];return n.providers&&(typeof n.providers=="function"?a.push(...n.providers(i,n,r)):a.push(...n.providers)),n.direction&&(!s||!s.get(Tl,null,{optional:!0}))&&a.push({provide:Tl,useValue:{value:n.direction,change:Et()}}),Pn.create({parent:s||o,providers:a})}_removeOpenDialog(n,i){let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let i=n.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function k6(e,t){let n=e.length;for(;n--;)t(e[n])}function h2e(e,t){}var iQ="_mat-bottom-sheet-enter",rQ="_mat-bottom-sheet-exit",f2e=(()=>{class e extends A6{_breakpointSubscription;_animationsDisabled=O(Ir,{optional:!0})==="NoopAnimations";_animationState="void";_animationStateChanged=new _e;_destroyed;constructor(){super();let n=O(ng);this._breakpointSubscription=n.observe([is.Medium,is.Large,is.XLarge]).subscribe(()=>{let i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",n.isMatched(is.Medium)),i.toggle("mat-bottom-sheet-container-large",n.isMatched(is.Large)),i.toggle("mat-bottom-sheet-container-xlarge",n.isMatched(is.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(iQ))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(rQ))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(n){this._ngZone.run(()=>{this._handleAnimationEvent(!0,n),setTimeout(()=>this._handleAnimationEvent(!1,n))})}_handleAnimationEvent(n,i){let r=i===iQ;(r||i===rQ)&&this._animationStateChanged.emit({toState:r?"visible":"hidden",phase:n?"start":"done"})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(i,r){i&1&&Ft("animationstart",function(s){return r._handleAnimationEvent(!0,s.animationName)})("animationend",function(s){return r._handleAnimationEvent(!1,s.animationName)})("animationcancel",function(s){return r._handleAnimationEvent(!1,s.animationName)}),i&2&&(bi("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),gn("mat-bottom-sheet-container-animations-enabled",!r._animationsDisabled)("mat-bottom-sheet-container-enter",r._animationState==="visible")("mat-bottom-sheet-container-exit",r._animationState==="hidden"))},features:[qr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&nn(0,h2e,0,0,"ng-template",0)},dependencies:[X0],styles:["@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2})}return e})(),p2e=new Re("MatBottomSheetData"),M6=class{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},eC=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new ut;_result;_closeFallbackTimeout;constructor(t,n,i){this._ref=t,this.containerInstance=i,this.disableClose=n.disableClose,i._animationStateChanged.pipe(pn(r=>r.phase==="done"&&r.toState==="visible"),Tr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(pn(r=>r.phase==="done"&&r.toState==="hidden"),Tr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),dc(this.backdropClick(),this.keydownEvents().pipe(pn(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!vc(r))&&(r.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(pn(n=>n.phase==="start"),Tr(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},g2e=new Re("mat-bottom-sheet-default-options"),oQ=(()=>{class e{_overlay=O(Jo);_parentBottomSheet=O(e,{optional:!0,skipSelf:!0});_defaultOptions=O(g2e,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=O(nQ);get _openedBottomSheetRef(){let n=this._parentBottomSheet;return n?n._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(n){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=n:this._bottomSheetRefAtThisLevel=n}constructor(){}open(n,i){let r=z(z({},this._defaultOptions||new M6),i),o;return this._dialog.open(n,ke(z({},r),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:f2e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,l)=>(o=new eC(s,r,l),[{provide:eC,useValue:o},{provide:p2e,useValue:r.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(n){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(n)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function m2e(e,t){e&1&&Ct(0,"div",2)}var v2e=new Re("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var aQ=(()=>{class e{_elementRef=O(Tt);_ngZone=O(pt);_changeDetectorRef=O(Fi);_renderer=O(Fr);_cleanupTransitionEnd;_animationMode=O(Ir,{optional:!0});constructor(){let n=O(v2e,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",n&&(n.color&&(this.color=this._defaultColor=n.color),this.mode=n.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";get value(){return this._value}set value(n){this._value=sQ(n||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(n){this._bufferValue=sQ(n||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new _e;get mode(){return this._mode}set mode(n){this._mode=n,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=n=>{this.animationEnd.observers.length===0||!n.target||!n.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(bi("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Xa("mat-"+r.color),gn("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",x0],bufferValue:[2,"bufferValue","bufferValue",x0],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(Le(0,"div",0),Ct(1,"div",1),nn(2,m2e,1,0,"div",2),He(),Le(3,"div",3),Ct(4,"span",4),He(),Le(5,"div",5),Ct(6,"span",4),He()),i&2&&(Xe(),gc("flex-basis",r._getBufferBarFlexBasis()),Xe(),xo(r.mode==="buffer"?2:-1),Xe(),gc("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return e})();function sQ(e,t=0,n=100){return Math.max(t,Math.min(n,e))}var eT=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[dn]})}return e})();var rs="xsl-import-progress",Ag="pictures-import-progress",zl=class e{progressSubject=new ii({});isRunning={};increaseProgressByStep(t){return Wr(this,null,function*(){return new Promise(n=>{setTimeout(()=>{n(this.increaseProgressByStepAsync(t))},0)})})}getProgress(){return this.progressSubject}isProgressRunning(t){return this.isRunning[t]}setProgress(t,n){console.log("Set progress",t,n);let i=this.progressSubject.value,r=i[t]?.max??100;this.progressSubject.next(ke(z({},i),{[t]:{value:n,max:r,count:0}}))}setMaxCount(t,n){console.log("Set max count",t,n),this.isRunning[t]=n>1;let i=this.progressSubject.value;this.progressSubject.next(ke(z({},i),{[t]:{value:0,max:n,count:0}}))}increaseProgressByStepAsync(t){return Wr(this,null,function*(){let n=this.progressSubject.value,i=n[t];if(!i||i.max===0)return;let r=100/i.max,o=Math.min(i.value+Number.EPSILON*i.max+r,100);console.log("Increase progress",t,o,i.count+1),this.isRunning[t]=o<100,this.progressSubject.next(ke(z({},n),{[t]:{value:o,max:i.max,count:i.count+1}}))})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};function y2e(e,t){if(e&1&&(Le(0,"section"),Ct(1,"mat-progress-bar",1),He()),e&2){let n=Zn();Xe(),dt("mode","determinate")("value",n.progress)}}var tC=class e{constructor(t){this.progressService=t}destroyRef=O(Xi);progress=0;progressId;ngOnInit(){if(this.progressId){let t=this.progressService.getProgress().pipe(wi(this.destroyRef),pn(n=>Object.keys(n).length>0&&!!n[this.progressId])).subscribe(n=>{console.log(`Progress for ${this.progressId}`,n[this.progressId]),this.progress=n[this.progressId].value});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}}static \u0275fac=function(n){return new(n||e)(We(zl))};static \u0275cmp=Qe({type:e,selectors:[["app-import-progress-bar"]],inputs:{progressId:"progressId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"mode","value"]],template:function(n,i){n&1&&nn(0,y2e,2,2,"section",0),n&2&&dt("ngIf",i.progress)},dependencies:[eT,aQ,oi,Ya],encapsulation:2})};var tT=class e{constructor(t,n){this.pictureService=t;this.progressService=n}progressId=Ag;uploadFiles(t){return Wr(this,null,function*(){let n=Array.from(t.target.files);this.progressService.setMaxCount(Ag,n.length);for(let i=0;i<n.length;i++){let r=n[i];this.pictureService.loadPicture(r,r.name),yield this.progressService.increaseProgressByStep(Ag)}})}static \u0275fac=function(n){return new(n||e)(We(Gl),We(zl))};static \u0275cmp=Qe({type:e,selectors:[["app-upload-multiple-files"]],decls:4,vars:1,consts:[["fileInput",""],[1,"upload-button"],["id","multipleFileInput","type","file","accept","image/png, image/jpeg, application/JSON","multiple","",3,"change","click"],[3,"progressId"]],template:function(n,i){if(n&1){let r=ro();Le(0,"div",1)(1,"input",2,0),Ft("change",function(s){return ui(r),hi(i.uploadFiles(s))})("click",function(){ui(r);let s=Zo(2);return hi(s.value="")}),He(),Ct(3,"app-import-progress-bar",3),He()}n&2&&(Xe(3),dt("progressId",i.progressId))},dependencies:[eT,tC,oi],styles:[".upload-button[_ngcontent-%COMP%]{width:auto;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:8px 0 0;transition:.3s;display:inline-block;text-decoration:none;border-radius:4px}.upload-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}.upload-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{cursor:pointer}"]})};var Ew={};Ew.version="0.18.5";var Vd=1200,hC=1252,x2e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},a8=function(e){x2e.indexOf(e)!=-1&&(hC=s8[0]=e)};function b2e(){a8(1252)}var Mc=function(e){Vd=e,a8(e)};function l8(){Mc(1200),b2e()}function K6(e){for(var t=[],n=0,i=e.length;n<i;++n)t[n]=e.charCodeAt(n);return t}function w2e(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function mJ(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var pw=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?w2e(e.slice(2)):t==254&&n==255?mJ(e.slice(2)):t==65279?e.slice(1):e},nT=function(t){return String.fromCharCode(t)},lQ=function(t){return String.fromCharCode(t)},Si;var Vr=null,hw=!0,Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Dw(e){for(var t="",n=0,i=0,r=0,o=0,s=0,a=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),o=n>>2,i=e.charCodeAt(c++),s=(n&3)<<4|i>>4,r=e.charCodeAt(c++),a=(i&15)<<2|r>>6,l=r&63,isNaN(i)?a=l=64:isNaN(r)&&(l=64),t+=Bf.charAt(o)+Bf.charAt(s)+Bf.charAt(a)+Bf.charAt(l);return t}function ll(e){var t="",n=0,i=0,r=0,o=0,s=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)o=Bf.indexOf(e.charAt(c++)),s=Bf.indexOf(e.charAt(c++)),n=o<<2|s>>4,t+=String.fromCharCode(n),a=Bf.indexOf(e.charAt(c++)),i=(s&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(i)),l=Bf.indexOf(e.charAt(c++)),r=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(r));return t}var On=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),lh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Hf(e){return On?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function cQ(e){return On?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var sl=function(t){return On?lh(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function DT(e){if(typeof ArrayBuffer>"u")return sl(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i!=e.length;++i)n[i]=e.charCodeAt(i)&255;return t}function Wf(e){if(Array.isArray(e))return e.map(function(i){return String.fromCharCode(i)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function _2e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function c8(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return c8(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Ho=On?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:lh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var i=new Uint8Array(n),r=0;for(t=0,n=0;t<e.length;n+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)i.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";i.set(new Uint8Array(e[t]),n)}return i}return[].concat.apply([],e.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function S2e(e){for(var t=[],n=0,i=e.length+250,r=Hf(e.length+255),o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s<128)r[n++]=s;else if(s<2048)r[n++]=192|s>>6&31,r[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var a=e.charCodeAt(++o)&1023;r[n++]=240|s>>8&7,r[n++]=128|s>>2&63,r[n++]=128|a>>6&15|(s&3)<<4,r[n++]=128|a&63}else r[n++]=224|s>>12&15,r[n++]=128|s>>6&63,r[n++]=128|s&63;n>i&&(t.push(r.slice(0,n)),n=0,r=Hf(65535),i=65530)}return t.push(r.slice(0,n)),Ho(t)}var Ms=/\u0000/g,gw=/[\u0001-\u0006]/g;function lC(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Pc(e,t){var n=""+e;return n.length>=t?n:Nr("0",t-n.length)+n}function d8(e,t){var n=""+e;return n.length>=t?n:Nr(" ",t-n.length)+n}function fT(e,t){var n=""+e;return n.length>=t?n:n+Nr(" ",t-n.length)}function E2e(e,t){var n=""+Math.round(e);return n.length>=t?n:Nr("0",t-n.length)+n}function D2e(e,t){var n=""+e;return n.length>=t?n:Nr("0",t-n.length)+n}var dQ=Math.pow(2,32);function nC(e,t){if(e>dQ||e<-dQ)return E2e(e,t);var n=Math.round(e);return D2e(n,t)}function pT(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var uQ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],P6=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function R2e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',e}var Kt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},hQ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},T2e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function gT(e,t,n){for(var i=e<0?-1:1,r=e*i,o=0,s=1,a=0,l=1,c=0,d=0,u=Math.floor(r);c<t&&(u=Math.floor(r),a=u*s+o,d=u*c+l,!(r-u<5e-8));)r=1/(r-u),o=s,s=a,l=c,c=d;if(d>t&&(c>t?(d=l,a=o):(d=c,a=s)),!n)return[0,i*a,d];var f=Math.floor(i*a/d);return[f,i*a-f*d,d]}function Pg(e,t,n){if(e>2958465||e<0)return null;var i=e|0,r=Math.floor(86400*(e-i)),o=0,s=[],a={D:i,T:r,u:86400*(e-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(i+=1462),a.u>.9999&&(a.u=0,++r==86400&&(a.T=r=0,++i,++a.D)),i===60)s=n?[1317,10,29]:[1900,2,29],o=3;else if(i===0)s=n?[1317,8,29]:[1900,1,0],o=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),i<60&&(o=(o+6)%7),n&&(o=P2e(l,s))}return a.y=s[0],a.m=s[1],a.d=s[2],a.S=r%60,r=Math.floor(r/60),a.M=r%60,r=Math.floor(r/60),a.H=r,a.q=o,a}var vJ=new Date(1899,11,31,0,0,0),I2e=vJ.getTime(),F2e=new Date(1900,2,1,0,0,0);function CJ(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=F2e&&(n+=24*60*60*1e3),(n-(I2e+(e.getTimezoneOffset()-vJ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function u8(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function k2e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function A2e(e){var t=e<0?12:11,n=u8(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function M2e(e){var t=u8(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Rw(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=A2e(e):t===10?n=e.toFixed(10).substr(0,12):n=M2e(e),u8(k2e(n.toUpperCase()))}function Vg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Rw(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Yl(14,CJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function P2e(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function O2e(e,t,n,i){var r="",o=0,s=0,a=n.y,l,c=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return P6[n.m-1][1];case 5:return P6[n.m-1][0];default:return P6[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return uQ[n.q][0];default:return uQ[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Pc(n.S,t.length):(i>=2?s=i===3?1e3:100:s=i===1?10:1,o=Math.round(s*(n.S+n.u)),o>=60*s&&(o=0),t==="s"?o===0?"0":""+o/s:(r=Pc(o,2+i),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var d=c>0?Pc(l,c):"";return d}function Vf(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,i=e.substr(0,n);n!=e.length;n+=t)i+=(i.length>0?",":"")+e.substr(n,t);return i}var yJ=/%/g;function L2e(e,t,n){var i=t.replace(yJ,""),r=t.length-i.length;return rh(e,i,n*Math.pow(10,2*r))+Nr("%",r)}function N2e(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return rh(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function xJ(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xJ(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%r;if(o<0&&(o+=r),n=(t/Math.pow(10,o)).toPrecision(i+1+(r+o)%r),n.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+o):n+="E+"+(s-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(r+o)%r)+"."+d.substr(o)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var bJ=/# (\?+)( ?)\/( ?)(\d+)/;function B2e(e,t,n){var i=parseInt(e[4],10),r=Math.round(t*i),o=Math.floor(r/i),s=r-o*i,a=i;return n+(o===0?"":""+o)+" "+(s===0?Nr(" ",e[1].length+1+e[4].length):d8(s,e[1].length)+e[2]+"/"+e[3]+Pc(a,e[4].length))}function V2e(e,t,n){return n+(t===0?"":""+t)+Nr(" ",e[1].length+2+e[4].length)}var wJ=/^#*0*\.([0#]+)/,_J=/\).*[0#]/,SJ=/\(###\) ###\\?-####/;function ia(e){for(var t="",n,i=0;i!=e.length;++i)switch(n=e.charCodeAt(i)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function fQ(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function pQ(e,t){var n=e-Math.floor(e),i=Math.pow(10,t);return t<(""+Math.round(n*i)).length?0:Math.round(n*i)}function H2e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function G2e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Wl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(_J)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Wl("n",i,n):"("+Wl("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return N2e(e,t,n);if(t.indexOf("%")!==-1)return L2e(e,t,n);if(t.indexOf("E")!==-1)return xJ(t,n);if(t.charCodeAt(0)===36)return"$"+Wl(e,t.substr(t.charAt(1)==" "?2:1),n);var r,o,s,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+nC(l,t.length);if(t.match(/^[#?]+$/))return r=nC(n,0),r==="0"&&(r=""),r.length>t.length?r:ia(t.substr(0,t.length-r.length))+r;if(o=t.match(bJ))return B2e(o,l,c);if(t.match(/^#+0+$/))return c+nC(l,t.length-t.indexOf("0"));if(o=t.match(wJ))return r=fQ(n,o[1].length).replace(/^([^\.]+)$/,"$1."+ia(o[1])).replace(/\.$/,"."+ia(o[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+Nr("0",ia(o[1]).length-v.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+fQ(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+Vf(nC(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Wl(e,t,-n):Vf(""+(Math.floor(n)+H2e(n,o[1].length)))+"."+Pc(pQ(n,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return Wl(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=lC(Wl(e,t.replace(/[\\-]/g,""),n)),s=0,lC(lC(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<r.length?r.charAt(s++):m==="0"?"0":""}));if(t.match(SJ))return r=Wl(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=gT(l,Math.pow(10,s)-1,!1),r=""+c,d=rh("n",o[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),r+=d+o[2]+"/"+o[3],d=fT(a[2],s),d.length<o[4].length&&(d=ia(o[4].substr(o[4].length-d.length))+d),r+=d,r;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),a=gT(l,Math.pow(10,s)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?d8(a[1],s)+o[2]+"/"+o[3]+fT(a[2],s):Nr(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return r=nC(n,0),t.length<=r.length?r:ia(t.substr(0,t.length-r.length))+r;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=r.indexOf(".");var u=t.indexOf(".")-s,f=t.length-r.length-u;return ia(t.substr(0,u)+r+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return s=pQ(n,o[1].length),n<0?"-"+Wl(e,t,-n):Vf(G2e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Pc(0,3-m.length):"")+m})+"."+Pc(s,o[1].length);switch(t){case"###,##0.00":return Wl(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Vf(nC(l,0));return p!=="0"?c+p:"";case"###,###.00":return Wl(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Wl(e,"#,##0.00",n).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function z2e(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return rh(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function U2e(e,t,n){var i=t.replace(yJ,""),r=t.length-i.length;return rh(e,i,n*Math.pow(10,2*r))+Nr("%",r)}function EJ(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+EJ(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%r;if(o<0&&(o+=r),n=(t/Math.pow(10,o)).toPrecision(i+1+(r+o)%r),!n.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+o):n+="E+"+(s-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(r+o)%r)+"."+d.substr(o)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ld(e,t,n){if(e.charCodeAt(0)===40&&!t.match(_J)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ld("n",i,n):"("+Ld("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return z2e(e,t,n);if(t.indexOf("%")!==-1)return U2e(e,t,n);if(t.indexOf("E")!==-1)return EJ(t,n);if(t.charCodeAt(0)===36)return"$"+Ld(e,t.substr(t.charAt(1)==" "?2:1),n);var r,o,s,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Pc(l,t.length);if(t.match(/^[#?]+$/))return r=""+n,n===0&&(r=""),r.length>t.length?r:ia(t.substr(0,t.length-r.length))+r;if(o=t.match(bJ))return V2e(o,l,c);if(t.match(/^#+0+$/))return c+Pc(l,t.length-t.indexOf("0"));if(o=t.match(wJ))return r=(""+n).replace(/^([^\.]+)$/,"$1."+ia(o[1])).replace(/\.$/,"."+ia(o[1])),r=r.replace(/\.(\d*)$/,function(m,v){return"."+v+Nr("0",ia(o[1]).length-v.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+Vf(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ld(e,t,-n):Vf(""+n)+"."+Nr("0",o[1].length);if(o=t.match(/^#,#*,#0/))return Ld(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=lC(Ld(e,t.replace(/[\\-]/g,""),n)),s=0,lC(lC(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<r.length?r.charAt(s++):m==="0"?"0":""}));if(t.match(SJ))return r=Ld(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=gT(l,Math.pow(10,s)-1,!1),r=""+c,d=rh("n",o[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),r+=d+o[2]+"/"+o[3],d=fT(a[2],s),d.length<o[4].length&&(d=ia(o[4].substr(o[4].length-d.length))+d),r+=d,r;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),a=gT(l,Math.pow(10,s)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?d8(a[1],s)+o[2]+"/"+o[3]+fT(a[2],s):Nr(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return r=""+n,t.length<=r.length?r:ia(t.substr(0,t.length-r.length))+r;if(o=t.match(/^([#0]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=r.indexOf(".");var u=t.indexOf(".")-s,f=t.length-r.length-u;return ia(t.substr(0,u)+r+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ld(e,t,-n):Vf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Pc(0,3-m.length):"")+m})+"."+Pc(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Vf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ld(e,t.slice(0,t.lastIndexOf(".")),n)+ia(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function rh(e,t,n){return(n|0)===n?Ld(e,t,n):Wl(e,t,n)}function W2e(e){for(var t=[],n=!1,i=0,r=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(r,i-r),r=i+1}if(t[t.length]=e.substr(r),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var DJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mC(e){for(var t=0,n="",i="";t<e.length;)switch(n=e.charAt(t)){case"G":pT(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(i=n;e.charAt(t++)!=="]"&&t<e.length;)i+=e.charAt(t);if(i.match(DJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function j2e(e,t,n,i){for(var r=[],o="",s=0,a="",l="t",c,d,u,f="H";s<e.length;)switch(a=e.charAt(s)){case"G":if(!pT(e,s))throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"G",v:"General"},s+=7;break;case'"':for(o="";(u=e.charCodeAt(++s))!==34&&s<e.length;)o+=String.fromCharCode(u);r[r.length]={t:"t",v:o},++s;break;case"\\":var p=e.charAt(++s),m=p==="("||p===")"?p:"t";r[r.length]={t:m,v:p},++s;break;case"_":r[r.length]={t:"t",v:" "},s+=2;break;case"@":r[r.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Pg(t,n,e.charAt(s+1)==="2"),c==null))return"";r[r.length]={t:"X",v:e.substr(s,2)},l=a,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Pg(t,n),c==null))return"";for(o=a;++s<e.length&&e.charAt(s).toLowerCase()===a;)o+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=f),r[r.length]={t:a,v:o},l=a;break;case"A":case"a":case"\u4E0A":var v={t:a,v:a};if(c==null&&(c=Pg(t,n)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",f="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,f="h"):e.substr(s,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(c!=null&&(v.v=c.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),v.t="T",s+=5,f="h"):(v.t="t",++s),c==null&&v.t==="T")return"";r[r.length]=v,l=a;break;case"[":for(o=a;e.charAt(s++)!=="]"&&s<e.length;)o+=e.charAt(s);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(DJ)){if(c==null&&(c=Pg(t,n),c==null))return"";r[r.length]={t:"Z",v:o.toLowerCase()},l=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",mC(e)||(r[r.length]={t:"t",v:o}));break;case".":if(c!=null){for(o=a;++s<e.length&&(a=e.charAt(s))==="0";)o+=a;r[r.length]={t:"s",v:o};break}case"0":case"#":for(o=a;++s<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(s))>-1;)o+=a;r[r.length]={t:"n",v:o};break;case"?":for(o=a;e.charAt(++s)===a;)o+=a;r[r.length]={t:a,v:o},l=a;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":r[r.length]={t:i===1?"t":a,v:a},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=a;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)o+=e.charAt(s);r[r.length]={t:"D",v:o};break;case" ":r[r.length]={t:a,v:a},++s;break;case"$":r[r.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"t",v:a},++s;break}var C=0,y=0,b;for(s=r.length-1,l="t";s>=0;--s)switch(r[s].t){case"h":case"H":r[s].t=f,l="h",C<1&&(C=1);break;case"s":(b=r[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":l=r[s].t;break;case"m":l==="s"&&(r[s].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&r[s].v.match(/[Hh]/)&&(C=1),C<2&&r[s].v.match(/[Mm]/)&&(C=2),C<3&&r[s].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",S;for(s=0;s<r.length;++s)switch(r[s].t){case"t":case"T":case" ":case"D":break;case"X":r[s].v="",r[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[s].v=O2e(r[s].t.charCodeAt(0),r[s].v,c,y),r[s].t="t";break;case"n":case"?":for(S=s+1;r[S]!=null&&((a=r[S].t)==="?"||a==="D"||(a===" "||a==="t")&&r[S+1]!=null&&(r[S+1].t==="?"||r[S+1].t==="t"&&r[S+1].v==="/")||r[s].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(r[S].v==="/"||r[S].v===" "&&r[S+1]!=null&&r[S+1].t=="?"));)r[s].v+=r[S].v,r[S]={v:"",t:";"},++S;w+=r[s].v,s=S-1;break;case"G":r[s].t="t",r[s].v=Vg(t,n);break}var D="",R,T;if(w.length>0){w.charCodeAt(0)==40?(R=t<0&&w.charCodeAt(0)===45?-t:t,T=rh("n",w,R)):(R=t<0&&i>1?-t:t,T=rh("n",w,R),R<0&&r[0]&&r[0].t=="t"&&(T=T.substr(1),r[0].v="-"+r[0].v)),S=T.length-1;var k=r.length;for(s=0;s<r.length;++s)if(r[s]!=null&&r[s].t!="t"&&r[s].v.indexOf(".")>-1){k=s;break}var M=r.length;if(k===r.length&&T.indexOf("E")===-1){for(s=r.length-1;s>=0;--s)r[s]==null||"n?".indexOf(r[s].t)===-1||(S>=r[s].v.length-1?(S-=r[s].v.length,r[s].v=T.substr(S+1,r[s].v.length)):S<0?r[s].v="":(r[s].v=T.substr(0,S+1),S=-1),r[s].t="t",M=s);S>=0&&M<r.length&&(r[M].v=T.substr(0,S+1)+r[M].v)}else if(k!==r.length&&T.indexOf("E")===-1){for(S=T.indexOf(".")-1,s=k;s>=0;--s)if(!(r[s]==null||"n?".indexOf(r[s].t)===-1)){for(d=r[s].v.indexOf(".")>-1&&s===k?r[s].v.indexOf(".")-1:r[s].v.length-1,D=r[s].v.substr(d+1);d>=0;--d)S>=0&&(r[s].v.charAt(d)==="0"||r[s].v.charAt(d)==="#")&&(D=T.charAt(S--)+D);r[s].v=D,r[s].t="t",M=s}for(S>=0&&M<r.length&&(r[M].v=T.substr(0,S+1)+r[M].v),S=T.indexOf(".")+1,s=k;s<r.length;++s)if(!(r[s]==null||"n?(".indexOf(r[s].t)===-1&&s!==k)){for(d=r[s].v.indexOf(".")>-1&&s===k?r[s].v.indexOf(".")+1:0,D=r[s].v.substr(0,d);d<r[s].v.length;++d)S<T.length&&(D+=T.charAt(S++));r[s].v=D,r[s].t="t",M=s}}}for(s=0;s<r.length;++s)r[s]!=null&&"n?".indexOf(r[s].t)>-1&&(R=i>1&&t<0&&s>0&&r[s-1].v==="-"?-t:t,r[s].v=rh(r[s].t,r[s].v,R),r[s].t="t");var B="";for(s=0;s!==r.length;++s)r[s]!=null&&(B+=r[s].v);return B}var gQ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mQ(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function $2e(e,t){var n=W2e(e),i=n.length,r=n[i-1].indexOf("@");if(i<4&&r>-1&&--i,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||r>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var o=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[i,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(gQ),a=n[1].match(gQ);return mQ(t,s)?[i,n[0]]:mQ(t,a)?[i,n[1]]:[i,n[s!=null&&a!=null?2:1]]}return[i,o]}function Yl(e,t,n){n==null&&(n={});var i="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?i=n.dateNF:i=e;break;case"number":e==14&&n.dateNF?i=n.dateNF:i=(n.table!=null?n.table:Kt)[e],i==null&&(i=n.table&&n.table[hQ[e]]||Kt[hQ[e]]),i==null&&(i=T2e[e]||"General");break}if(pT(i,0))return Vg(t,n);t instanceof Date&&(t=CJ(t,n.date1904));var r=$2e(i,t);if(pT(r[1]))return Vg(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return j2e(r[1],t,n,r[0])}function oh(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Kt[n]==null){t<0&&(t=n);continue}if(Kt[n]==e){t=n;break}}t<0&&(t=391)}return Kt[t]=e,t}function RT(e){for(var t=0;t!=392;++t)e[t]!==void 0&&oh(e[t],t)}function vC(){Kt=R2e()}var q2e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},RJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function K2e(e){var t=typeof e=="number"?Kt[e]:e;return t=t.replace(RJ,"(\\d+)"),new RegExp("^"+t+"$")}function X2e(e,t,n){var i=-1,r=-1,o=-1,s=-1,a=-1,l=-1;(t.match(RJ)||[]).forEach(function(u,f){var p=parseInt(n[f+1],10);switch(u.toLowerCase().charAt(0)){case"y":i=p;break;case"d":o=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?a=p:r=p;break}}),l>=0&&a==-1&&r>=0&&(a=r,r=-1);var c=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&a==-1&&l==-1?c:i==-1&&r==-1&&o==-1?d:c+"T"+d}var Y2e=function(){var e={};e.version="1.2.0";function t(){for(var T=0,k=new Array(256),M=0;M!=256;++M)T=M,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,k[M]=T;return typeof Int32Array<"u"?new Int32Array(k):k}var n=t();function i(T){var k=0,M=0,B=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)L[B]=T[B];for(B=0;B!=256;++B)for(M=T[B],k=256+B;k<4096;k+=256)M=L[k]=M>>>8^T[M&255];var V=[];for(B=1;B!=16;++B)V[B-1]=typeof Int32Array<"u"?L.subarray(B*256,B*256+256):L.slice(B*256,B*256+256);return V}var r=i(n),o=r[0],s=r[1],a=r[2],l=r[3],c=r[4],d=r[5],u=r[6],f=r[7],p=r[8],m=r[9],v=r[10],C=r[11],y=r[12],b=r[13],w=r[14];function S(T,k){for(var M=k^-1,B=0,L=T.length;B<L;)M=M>>>8^n[(M^T.charCodeAt(B++))&255];return~M}function D(T,k){for(var M=k^-1,B=T.length-15,L=0;L<B;)M=w[T[L++]^M&255]^b[T[L++]^M>>8&255]^y[T[L++]^M>>16&255]^C[T[L++]^M>>>24]^v[T[L++]]^m[T[L++]]^p[T[L++]]^f[T[L++]]^u[T[L++]]^d[T[L++]]^c[T[L++]]^l[T[L++]]^a[T[L++]]^s[T[L++]]^o[T[L++]]^n[T[L++]];for(B+=15;L<B;)M=M>>>8^n[(M^T[L++])&255];return~M}function R(T,k){for(var M=k^-1,B=0,L=T.length,V=0,ee=0;B<L;)V=T.charCodeAt(B++),V<128?M=M>>>8^n[(M^V)&255]:V<2048?(M=M>>>8^n[(M^(192|V>>6&31))&255],M=M>>>8^n[(M^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,ee=T.charCodeAt(B++)&1023,M=M>>>8^n[(M^(240|V>>8&7))&255],M=M>>>8^n[(M^(128|V>>2&63))&255],M=M>>>8^n[(M^(128|ee>>6&15|(V&3)<<4))&255],M=M>>>8^n[(M^(128|ee&63))&255]):(M=M>>>8^n[(M^(224|V>>12&15))&255],M=M>>>8^n[(M^(128|V>>6&63))&255],M=M>>>8^n[(M^(128|V&63))&255]);return~M}return e.table=n,e.bstr=S,e.buf=D,e.str=R,e}(),Bt=function(){var t={};t.version="1.2.1";function n(N,X){for(var U=N.split("/"),j=X.split("/"),Y=0,Z=0,ve=Math.min(U.length,j.length);Y<ve;++Y){if(Z=U[Y].length-j[Y].length)return Z;if(U[Y]!=j[Y])return U[Y]<j[Y]?-1:1}return U.length-j.length}function i(N){if(N.charAt(N.length-1)=="/")return N.slice(0,-1).indexOf("/")===-1?N:i(N.slice(0,-1));var X=N.lastIndexOf("/");return X===-1?N:N.slice(0,X+1)}function r(N){if(N.charAt(N.length-1)=="/")return r(N.slice(0,-1));var X=N.lastIndexOf("/");return X===-1?N:N.slice(X+1)}function o(N,X){typeof X=="string"&&(X=new Date(X));var U=X.getHours();U=U<<6|X.getMinutes(),U=U<<5|X.getSeconds()>>>1,N.write_shift(2,U);var j=X.getFullYear()-1980;j=j<<4|X.getMonth()+1,j=j<<5|X.getDate(),N.write_shift(2,j)}function s(N){var X=N.read_shift(2)&65535,U=N.read_shift(2)&65535,j=new Date,Y=U&31;U>>>=5;var Z=U&15;U>>>=4,j.setMilliseconds(0),j.setFullYear(U+1980),j.setMonth(Z-1),j.setDate(Y);var ve=X&31;X>>>=5;var Fe=X&63;return X>>>=6,j.setHours(X),j.setMinutes(Fe),j.setSeconds(ve<<1),j}function a(N){ss(N,0);for(var X={},U=0;N.l<=N.length-4;){var j=N.read_shift(2),Y=N.read_shift(2),Z=N.l+Y,ve={};switch(j){case 21589:U=N.read_shift(1),U&1&&(ve.mtime=N.read_shift(4)),Y>5&&(U&2&&(ve.atime=N.read_shift(4)),U&4&&(ve.ctime=N.read_shift(4))),ve.mtime&&(ve.mt=new Date(ve.mtime*1e3));break}N.l=Z,X[j]=ve}return X}var l;function c(){return l||(l={})}function d(N,X){if(N[0]==80&&N[1]==75)return ji(N,X);if((N[0]|32)==109&&(N[1]|32)==105)return hr(N,X);if(N.length<512)throw new Error("CFB file size "+N.length+" < 512");var U=3,j=512,Y=0,Z=0,ve=0,Fe=0,xe=0,Ce=[],be=N.slice(0,512);ss(be,0);var Ke=u(be);switch(U=Ke[0],U){case 3:j=512;break;case 4:j=4096;break;case 0:if(Ke[1]==0)return ji(N,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}j!==512&&(be=N.slice(0,j),ss(be,28));var et=N.slice(0,j);f(be,U);var mt=be.read_shift(4,"i");if(U===3&&mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+mt);be.l+=4,ve=be.read_shift(4,"i"),be.l+=4,be.chk("00100000","Mini Stream Cutoff Size: "),Fe=be.read_shift(4,"i"),Y=be.read_shift(4,"i"),xe=be.read_shift(4,"i"),Z=be.read_shift(4,"i");for(var tt=-1,at=0;at<109&&(tt=be.read_shift(4,"i"),!(tt<0));++at)Ce[at]=tt;var Wt=p(N,j);C(xe,Z,Wt,j,Ce);var yi=b(Wt,ve,Ce,j);yi[ve].name="!Directory",Y>0&&Fe!==ee&&(yi[Fe].name="!MiniFAT"),yi[Ce[0]].name="!FAT",yi.fat_addrs=Ce,yi.ssz=j;var po={},er=[],Wo=[],Jd=[];w(ve,yi,Wt,er,Y,po,Wo,Fe),m(Wo,Jd,er),er.shift();var jo={FileIndex:Wo,FullPaths:Jd};return X&&X.raw&&(jo.raw={header:et,sectors:Wt}),jo}function u(N){if(N[N.l]==80&&N[N.l+1]==75)return[0,0];N.chk(re,"Header Signature: "),N.l+=16;var X=N.read_shift(2,"u");return[N.read_shift(2,"u"),X]}function f(N,X){var U=9;switch(N.l+=2,U=N.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}N.chk("0600","Mini Sector Shift: "),N.chk("000000000000","Reserved: ")}function p(N,X){for(var U=Math.ceil(N.length/X)-1,j=[],Y=1;Y<U;++Y)j[Y-1]=N.slice(Y*X,(Y+1)*X);return j[U-1]=N.slice(U*X),j}function m(N,X,U){for(var j=0,Y=0,Z=0,ve=0,Fe=0,xe=U.length,Ce=[],be=[];j<xe;++j)Ce[j]=be[j]=j,X[j]=U[j];for(;Fe<be.length;++Fe)j=be[Fe],Y=N[j].L,Z=N[j].R,ve=N[j].C,Ce[j]===j&&(Y!==-1&&Ce[Y]!==Y&&(Ce[j]=Ce[Y]),Z!==-1&&Ce[Z]!==Z&&(Ce[j]=Ce[Z])),ve!==-1&&(Ce[ve]=j),Y!==-1&&j!=Ce[j]&&(Ce[Y]=Ce[j],be.lastIndexOf(Y)<Fe&&be.push(Y)),Z!==-1&&j!=Ce[j]&&(Ce[Z]=Ce[j],be.lastIndexOf(Z)<Fe&&be.push(Z));for(j=1;j<xe;++j)Ce[j]===j&&(Z!==-1&&Ce[Z]!==Z?Ce[j]=Ce[Z]:Y!==-1&&Ce[Y]!==Y&&(Ce[j]=Ce[Y]));for(j=1;j<xe;++j)if(N[j].type!==0){if(Fe=j,Fe!=Ce[Fe])do Fe=Ce[Fe],X[j]=X[Fe]+"/"+X[j];while(Fe!==0&&Ce[Fe]!==-1&&Fe!=Ce[Fe]);Ce[j]=-1}for(X[0]+="/",j=1;j<xe;++j)N[j].type!==2&&(X[j]+="/")}function v(N,X,U){for(var j=N.start,Y=N.size,Z=[],ve=j;U&&Y>0&&ve>=0;)Z.push(X.slice(ve*V,ve*V+V)),Y-=V,ve=Mg(U,ve*4);return Z.length===0?Ae(0):Ho(Z).slice(0,N.size)}function C(N,X,U,j,Y){var Z=ee;if(N===ee){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(N!==-1){var ve=U[N],Fe=(j>>>2)-1;if(!ve)return;for(var xe=0;xe<Fe&&(Z=Mg(ve,xe*4))!==ee;++xe)Y.push(Z);C(Mg(ve,j-4),X-1,U,j,Y)}}function y(N,X,U,j,Y){var Z=[],ve=[];Y||(Y=[]);var Fe=j-1,xe=0,Ce=0;for(xe=X;xe>=0;){Y[xe]=!0,Z[Z.length]=xe,ve.push(N[xe]);var be=U[Math.floor(xe*4/j)];if(Ce=xe*4&Fe,j<4+Ce)throw new Error("FAT boundary crossed: "+xe+" 4 "+j);if(!N[be])break;xe=Mg(N[be],Ce)}return{nodes:Z,data:TQ([ve])}}function b(N,X,U,j){var Y=N.length,Z=[],ve=[],Fe=[],xe=[],Ce=j-1,be=0,Ke=0,et=0,mt=0;for(be=0;be<Y;++be)if(Fe=[],et=be+X,et>=Y&&(et-=Y),!ve[et]){xe=[];var tt=[];for(Ke=et;Ke>=0;){tt[Ke]=!0,ve[Ke]=!0,Fe[Fe.length]=Ke,xe.push(N[Ke]);var at=U[Math.floor(Ke*4/j)];if(mt=Ke*4&Ce,j<4+mt)throw new Error("FAT boundary crossed: "+Ke+" 4 "+j);if(!N[at]||(Ke=Mg(N[at],mt),tt[Ke]))break}Z[et]={nodes:Fe,data:TQ([xe])}}return Z}function w(N,X,U,j,Y,Z,ve,Fe){for(var xe=0,Ce=j.length?2:0,be=X[N].data,Ke=0,et=0,mt;Ke<be.length;Ke+=128){var tt=be.slice(Ke,Ke+128);ss(tt,64),et=tt.read_shift(2),mt=kT(tt,0,et-Ce),j.push(mt);var at={name:mt,type:tt.read_shift(1),color:tt.read_shift(1),L:tt.read_shift(4,"i"),R:tt.read_shift(4,"i"),C:tt.read_shift(4,"i"),clsid:tt.read_shift(16),state:tt.read_shift(4,"i"),start:0,size:0},Wt=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);Wt!==0&&(at.ct=S(tt,tt.l-8));var yi=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);yi!==0&&(at.mt=S(tt,tt.l-8)),at.start=tt.read_shift(4,"i"),at.size=tt.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=ee,at.name=""),at.type===5?(xe=at.start,Y>0&&xe!==ee&&(X[xe].name="!StreamData")):at.size>=4096?(at.storage="fat",X[at.start]===void 0&&(X[at.start]=y(U,at.start,X.fat_addrs,X.ssz)),X[at.start].name=at.name,at.content=X[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:xe!==ee&&at.start!==ee&&X[xe]&&(at.content=v(at,X[xe].data,(X[Fe]||{}).data))),at.content&&ss(at.content,0),Z[mt]=at,ve.push(at)}}function S(N,X){return new Date((Vo(N,X+4)/1e7*Math.pow(2,32)+Vo(N,X)/1e7-11644473600)*1e3)}function D(N,X){return c(),d(l.readFileSync(N),X)}function R(N,X){var U=X&&X.type;switch(U||On&&Buffer.isBuffer(N)&&(U="buffer"),U||"base64"){case"file":return D(N,X);case"base64":return d(sl(ll(N)),X);case"binary":return d(sl(N),X)}return d(N,X)}function T(N,X){var U=X||{},j=U.root||"Root Entry";if(N.FullPaths||(N.FullPaths=[]),N.FileIndex||(N.FileIndex=[]),N.FullPaths.length!==N.FileIndex.length)throw new Error("inconsistent CFB structure");N.FullPaths.length===0&&(N.FullPaths[0]=j+"/",N.FileIndex[0]={name:j,type:5}),U.CLSID&&(N.FileIndex[0].clsid=U.CLSID),k(N)}function k(N){var X="Sh33tJ5";if(!Bt.find(N,"/"+X)){var U=Ae(4);U[0]=55,U[1]=U[3]=50,U[2]=54,N.FileIndex.push({name:X,type:2,content:U,size:4,L:69,R:69,C:69}),N.FullPaths.push(N.FullPaths[0]+X),M(N)}}function M(N,X){T(N);for(var U=!1,j=!1,Y=N.FullPaths.length-1;Y>=0;--Y){var Z=N.FileIndex[Y];switch(Z.type){case 0:j?U=!0:(N.FileIndex.pop(),N.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(Z.R*Z.L*Z.C)&&(U=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!X)){var ve=new Date(1987,1,19),Fe=0,xe=Object.create?Object.create(null):{},Ce=[];for(Y=0;Y<N.FullPaths.length;++Y)xe[N.FullPaths[Y]]=!0,N.FileIndex[Y].type!==0&&Ce.push([N.FullPaths[Y],N.FileIndex[Y]]);for(Y=0;Y<Ce.length;++Y){var be=i(Ce[Y][0]);j=xe[be],j||(Ce.push([be,{name:r(be).replace("/",""),type:1,clsid:ge,ct:ve,mt:ve,content:null}]),xe[be]=!0)}for(Ce.sort(function(mt,tt){return n(mt[0],tt[0])}),N.FullPaths=[],N.FileIndex=[],Y=0;Y<Ce.length;++Y)N.FullPaths[Y]=Ce[Y][0],N.FileIndex[Y]=Ce[Y][1];for(Y=0;Y<Ce.length;++Y){var Ke=N.FileIndex[Y],et=N.FullPaths[Y];if(Ke.name=r(et).replace("/",""),Ke.L=Ke.R=Ke.C=-(Ke.color=1),Ke.size=Ke.content?Ke.content.length:0,Ke.start=0,Ke.clsid=Ke.clsid||ge,Y===0)Ke.C=Ce.length>1?1:-1,Ke.size=0,Ke.type=5;else if(et.slice(-1)=="/"){for(Fe=Y+1;Fe<Ce.length&&i(N.FullPaths[Fe])!=et;++Fe);for(Ke.C=Fe>=Ce.length?-1:Fe,Fe=Y+1;Fe<Ce.length&&i(N.FullPaths[Fe])!=i(et);++Fe);Ke.R=Fe>=Ce.length?-1:Fe,Ke.type=1}else i(N.FullPaths[Y+1]||"")==i(et)&&(Ke.R=Y+1),Ke.type=2}}}function B(N,X){var U=X||{};if(U.fileType=="mad")return Di(N,U);switch(M(N),U.fileType){case"zip":return Ga(N,U)}var j=function(mt){for(var tt=0,at=0,Wt=0;Wt<mt.FileIndex.length;++Wt){var yi=mt.FileIndex[Wt];if(yi.content){var po=yi.content.length;po>0&&(po<4096?tt+=po+63>>6:at+=po+511>>9)}}for(var er=mt.FullPaths.length+3>>2,Wo=tt+7>>3,Jd=tt+127>>7,jo=Wo+at+er+Jd,fl=jo+127>>7,la=fl<=109?0:Math.ceil((fl-109)/127);jo+fl+la+127>>7>fl;)la=++fl<=109?0:Math.ceil((fl-109)/127);var hs=[1,la,fl,Jd,er,at,tt,0];return mt.FileIndex[0].size=tt<<6,hs[7]=(mt.FileIndex[0].start=hs[0]+hs[1]+hs[2]+hs[3]+hs[4]+hs[5])+(hs[6]+7>>3),hs}(N),Y=Ae(j[7]<<9),Z=0,ve=0;{for(Z=0;Z<8;++Z)Y.write_shift(1,se[Z]);for(Z=0;Z<8;++Z)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),Z=0;Z<3;++Z)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,j[2]),Y.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:ee),Y.write_shift(4,j[3]),Y.write_shift(-4,j[1]?j[0]-1:ee),Y.write_shift(4,j[1]),Z=0;Z<109;++Z)Y.write_shift(-4,Z<j[2]?j[1]+Z:-1)}if(j[1])for(ve=0;ve<j[1];++ve){for(;Z<236+ve*127;++Z)Y.write_shift(-4,Z<j[2]?j[1]+Z:-1);Y.write_shift(-4,ve===j[1]-1?ee:ve+1)}var Fe=function(mt){for(ve+=mt;Z<ve-1;++Z)Y.write_shift(-4,Z+1);mt&&(++Z,Y.write_shift(-4,ee))};for(ve=Z=0,ve+=j[1];Z<ve;++Z)Y.write_shift(-4,fe.DIFSECT);for(ve+=j[2];Z<ve;++Z)Y.write_shift(-4,fe.FATSECT);Fe(j[3]),Fe(j[4]);for(var xe=0,Ce=0,be=N.FileIndex[0];xe<N.FileIndex.length;++xe)be=N.FileIndex[xe],be.content&&(Ce=be.content.length,!(Ce<4096)&&(be.start=ve,Fe(Ce+511>>9)));for(Fe(j[6]+7>>3);Y.l&511;)Y.write_shift(-4,fe.ENDOFCHAIN);for(ve=Z=0,xe=0;xe<N.FileIndex.length;++xe)be=N.FileIndex[xe],be.content&&(Ce=be.content.length,!(!Ce||Ce>=4096)&&(be.start=ve,Fe(Ce+63>>6)));for(;Y.l&511;)Y.write_shift(-4,fe.ENDOFCHAIN);for(Z=0;Z<j[4]<<2;++Z){var Ke=N.FullPaths[Z];if(!Ke||Ke.length===0){for(xe=0;xe<17;++xe)Y.write_shift(4,0);for(xe=0;xe<3;++xe)Y.write_shift(4,-1);for(xe=0;xe<12;++xe)Y.write_shift(4,0);continue}be=N.FileIndex[Z],Z===0&&(be.start=be.size?be.start-1:ee);var et=Z===0&&U.root||be.name;if(Ce=2*(et.length+1),Y.write_shift(64,et,"utf16le"),Y.write_shift(2,Ce),Y.write_shift(1,be.type),Y.write_shift(1,be.color),Y.write_shift(-4,be.L),Y.write_shift(-4,be.R),Y.write_shift(-4,be.C),be.clsid)Y.write_shift(16,be.clsid,"hex");else for(xe=0;xe<4;++xe)Y.write_shift(4,0);Y.write_shift(4,be.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,be.start),Y.write_shift(4,be.size),Y.write_shift(4,0)}for(Z=1;Z<N.FileIndex.length;++Z)if(be=N.FileIndex[Z],be.size>=4096)if(Y.l=be.start+1<<9,On&&Buffer.isBuffer(be.content))be.content.copy(Y,Y.l,0,be.size),Y.l+=be.size+511&-512;else{for(xe=0;xe<be.size;++xe)Y.write_shift(1,be.content[xe]);for(;xe&511;++xe)Y.write_shift(1,0)}for(Z=1;Z<N.FileIndex.length;++Z)if(be=N.FileIndex[Z],be.size>0&&be.size<4096)if(On&&Buffer.isBuffer(be.content))be.content.copy(Y,Y.l,0,be.size),Y.l+=be.size+63&-64;else{for(xe=0;xe<be.size;++xe)Y.write_shift(1,be.content[xe]);for(;xe&63;++xe)Y.write_shift(1,0)}if(On)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function L(N,X){var U=N.FullPaths.map(function(xe){return xe.toUpperCase()}),j=U.map(function(xe){var Ce=xe.split("/");return Ce[Ce.length-(xe.slice(-1)=="/"?2:1)]}),Y=!1;X.charCodeAt(0)===47?(Y=!0,X=U[0].slice(0,-1)+X):Y=X.indexOf("/")!==-1;var Z=X.toUpperCase(),ve=Y===!0?U.indexOf(Z):j.indexOf(Z);if(ve!==-1)return N.FileIndex[ve];var Fe=!Z.match(gw);for(Z=Z.replace(Ms,""),Fe&&(Z=Z.replace(gw,"!")),ve=0;ve<U.length;++ve)if((Fe?U[ve].replace(gw,"!"):U[ve]).replace(Ms,"")==Z||(Fe?j[ve].replace(gw,"!"):j[ve]).replace(Ms,"")==Z)return N.FileIndex[ve];return null}var V=64,ee=-2,re="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],ge="00000000000000000000000000000000",fe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ee,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ge,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ee(N,X,U){c();var j=B(N,U);l.writeFileSync(X,j)}function te(N){for(var X=new Array(N.length),U=0;U<N.length;++U)X[U]=String.fromCharCode(N[U]);return X.join("")}function oe(N,X){var U=B(N,X);switch(X&&X.type||"buffer"){case"file":return c(),l.writeFileSync(X.filename,U),U;case"binary":return typeof U=="string"?U:te(U);case"base64":return Dw(typeof U=="string"?U:te(U));case"buffer":if(On)return Buffer.isBuffer(U)?U:lh(U);case"array":return typeof U=="string"?sl(U):U}return U}var J;function A(N){try{var X=N.InflateRaw,U=new X;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)J=N;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function ae(N,X){if(!J)return ho(N,X);var U=J.InflateRaw,j=new U,Y=j._processChunk(N.slice(N.l),j._finishFlushFlag);return N.l+=j.bytesRead,Y}function K(N){return J?J.deflateRawSync(N):Ie(N)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ze(N){var X=(N<<1|N<<11)&139536|(N<<5|N<<15)&558144;return(X>>16|X>>8|X)&255}for(var Ve=typeof Uint8Array<"u",ye=Ve?new Uint8Array(256):[],vt=0;vt<256;++vt)ye[vt]=ze(vt);function q(N,X){var U=ye[N&255];return X<=8?U>>>8-X:(U=U<<8|ye[N>>8&255],X<=16?U>>>16-X:(U=U<<8|ye[N>>16&255],U>>>24-X))}function Vt(N,X){var U=X&7,j=X>>>3;return(N[j]|(U<=6?0:N[j+1]<<8))>>>U&3}function St(N,X){var U=X&7,j=X>>>3;return(N[j]|(U<=5?0:N[j+1]<<8))>>>U&7}function _t(N,X){var U=X&7,j=X>>>3;return(N[j]|(U<=4?0:N[j+1]<<8))>>>U&15}function wt(N,X){var U=X&7,j=X>>>3;return(N[j]|(U<=3?0:N[j+1]<<8))>>>U&31}function Ze(N,X){var U=X&7,j=X>>>3;return(N[j]|(U<=1?0:N[j+1]<<8))>>>U&127}function gt(N,X,U){var j=X&7,Y=X>>>3,Z=(1<<U)-1,ve=N[Y]>>>j;return U<8-j||(ve|=N[Y+1]<<8-j,U<16-j)||(ve|=N[Y+2]<<16-j,U<24-j)||(ve|=N[Y+3]<<24-j),ve&Z}function Ht(N,X,U){var j=X&7,Y=X>>>3;return j<=5?N[Y]|=(U&7)<<j:(N[Y]|=U<<j&255,N[Y+1]=(U&7)>>8-j),X+3}function xn(N,X,U){var j=X&7,Y=X>>>3;return U=(U&1)<<j,N[Y]|=U,X+1}function $n(N,X,U){var j=X&7,Y=X>>>3;return U<<=j,N[Y]|=U&255,U>>>=8,N[Y+1]=U,X+8}function ur(N,X,U){var j=X&7,Y=X>>>3;return U<<=j,N[Y]|=U&255,U>>>=8,N[Y+1]=U&255,N[Y+2]=U>>>8,X+16}function Tn(N,X){var U=N.length,j=2*U>X?2*U:X+5,Y=0;if(U>=X)return N;if(On){var Z=cQ(j);if(N.copy)N.copy(Z);else for(;Y<N.length;++Y)Z[Y]=N[Y];return Z}else if(Ve){var ve=new Uint8Array(j);if(ve.set)ve.set(N);else for(;Y<U;++Y)ve[Y]=N[Y];return ve}return N.length=j,N}function ei(N){for(var X=new Array(N),U=0;U<N;++U)X[U]=0;return X}function Ei(N,X,U){var j=1,Y=0,Z=0,ve=0,Fe=0,xe=N.length,Ce=Ve?new Uint16Array(32):ei(32);for(Z=0;Z<32;++Z)Ce[Z]=0;for(Z=xe;Z<U;++Z)N[Z]=0;xe=N.length;var be=Ve?new Uint16Array(xe):ei(xe);for(Z=0;Z<xe;++Z)Ce[Y=N[Z]]++,j<Y&&(j=Y),be[Z]=0;for(Ce[0]=0,Z=1;Z<=j;++Z)Ce[Z+16]=Fe=Fe+Ce[Z-1]<<1;for(Z=0;Z<xe;++Z)Fe=N[Z],Fe!=0&&(be[Z]=Ce[Fe+16]++);var Ke=0;for(Z=0;Z<xe;++Z)if(Ke=N[Z],Ke!=0)for(Fe=q(be[Z],j)>>j-Ke,ve=(1<<j+4-Ke)-1;ve>=0;--ve)X[Fe|ve<<Ke]=Ke&15|Z<<4;return j}var Zt=Ve?new Uint16Array(512):ei(512),qn=Ve?new Uint16Array(32):ei(32);if(!Ve){for(var Pi=0;Pi<512;++Pi)Zt[Pi]=0;for(Pi=0;Pi<32;++Pi)qn[Pi]=0}(function(){for(var N=[],X=0;X<32;X++)N.push(5);Ei(N,qn,32);var U=[];for(X=0;X<=143;X++)U.push(8);for(;X<=255;X++)U.push(9);for(;X<=279;X++)U.push(7);for(;X<=287;X++)U.push(8);Ei(U,Zt,288)})();var li=function(){for(var X=Ve?new Uint8Array(32768):[],U=0,j=0;U<Me.length-1;++U)for(;j<Me[U+1];++j)X[j]=U;for(;j<32768;++j)X[j]=29;var Y=Ve?new Uint8Array(259):[];for(U=0,j=0;U<ce.length-1;++U)for(;j<ce[U+1];++j)Y[j]=U;function Z(Fe,xe){for(var Ce=0;Ce<Fe.length;){var be=Math.min(65535,Fe.length-Ce),Ke=Ce+be==Fe.length;for(xe.write_shift(1,+Ke),xe.write_shift(2,be),xe.write_shift(2,~be&65535);be-- >0;)xe[xe.l++]=Fe[Ce++]}return xe.l}function ve(Fe,xe){for(var Ce=0,be=0,Ke=Ve?new Uint16Array(32768):[];be<Fe.length;){var et=Math.min(65535,Fe.length-be);if(et<10){for(Ce=Ht(xe,Ce,+(be+et==Fe.length)),Ce&7&&(Ce+=8-(Ce&7)),xe.l=Ce/8|0,xe.write_shift(2,et),xe.write_shift(2,~et&65535);et-- >0;)xe[xe.l++]=Fe[be++];Ce=xe.l*8;continue}Ce=Ht(xe,Ce,+(be+et==Fe.length)+2);for(var mt=0;et-- >0;){var tt=Fe[be];mt=(mt<<5^tt)&32767;var at=-1,Wt=0;if((at=Ke[mt])&&(at|=be&-32768,at>be&&(at-=32768),at<be))for(;Fe[at+Wt]==Fe[be+Wt]&&Wt<250;)++Wt;if(Wt>2){tt=Y[Wt],tt<=22?Ce=$n(xe,Ce,ye[tt+1]>>1)-1:($n(xe,Ce,3),Ce+=5,$n(xe,Ce,ye[tt-23]>>5),Ce+=3);var yi=tt<8?0:tt-4>>2;yi>0&&(ur(xe,Ce,Wt-ce[tt]),Ce+=yi),tt=X[be-at],Ce=$n(xe,Ce,ye[tt]>>3),Ce-=3;var po=tt<4?0:tt-2>>1;po>0&&(ur(xe,Ce,be-at-Me[tt]),Ce+=po);for(var er=0;er<Wt;++er)Ke[mt]=be&32767,mt=(mt<<5^Fe[be])&32767,++be;et-=Wt-1}else tt<=143?tt=tt+48:Ce=xn(xe,Ce,1),Ce=$n(xe,Ce,ye[tt]),Ke[mt]=be&32767,++be}Ce=$n(xe,Ce,0)-1}return xe.l=(Ce+7)/8|0,xe.l}return function(xe,Ce){return xe.length<8?Z(xe,Ce):ve(xe,Ce)}}();function Ie(N){var X=Ae(50+Math.floor(N.length*1.1)),U=li(N,X);return X.slice(0,U)}var de=Ve?new Uint16Array(32768):ei(32768),me=Ve?new Uint16Array(32768):ei(32768),Je=Ve?new Uint16Array(128):ei(128),Mt=1,ln=1;function Qi(N,X){var U=wt(N,X)+257;X+=5;var j=wt(N,X)+1;X+=5;var Y=_t(N,X)+4;X+=4;for(var Z=0,ve=Ve?new Uint8Array(19):ei(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,Ce=Ve?new Uint8Array(8):ei(8),be=Ve?new Uint8Array(8):ei(8),Ke=ve.length,et=0;et<Y;++et)ve[Q[et]]=Z=St(N,X),xe<Z&&(xe=Z),Ce[Z]++,X+=3;var mt=0;for(Ce[0]=0,et=1;et<=xe;++et)be[et]=mt=mt+Ce[et-1]<<1;for(et=0;et<Ke;++et)(mt=ve[et])!=0&&(Fe[et]=be[mt]++);var tt=0;for(et=0;et<Ke;++et)if(tt=ve[et],tt!=0){mt=ye[Fe[et]]>>8-tt;for(var at=(1<<7-tt)-1;at>=0;--at)Je[mt|at<<tt]=tt&7|et<<3}var Wt=[];for(xe=1;Wt.length<U+j;)switch(mt=Je[Ze(N,X)],X+=mt&7,mt>>>=3){case 16:for(Z=3+Vt(N,X),X+=2,mt=Wt[Wt.length-1];Z-- >0;)Wt.push(mt);break;case 17:for(Z=3+St(N,X),X+=3;Z-- >0;)Wt.push(0);break;case 18:for(Z=11+Ze(N,X),X+=7;Z-- >0;)Wt.push(0);break;default:Wt.push(mt),xe<mt&&(xe=mt);break}var yi=Wt.slice(0,U),po=Wt.slice(U);for(et=U;et<286;++et)yi[et]=0;for(et=j;et<30;++et)po[et]=0;return Mt=Ei(yi,de,286),ln=Ei(po,me,30),X}function Hs(N,X){if(N[0]==3&&!(N[1]&3))return[Hf(X),2];for(var U=0,j=0,Y=cQ(X||1<<18),Z=0,ve=Y.length>>>0,Fe=0,xe=0;(j&1)==0;){if(j=St(N,U),U+=3,j>>>1)j>>1==1?(Fe=9,xe=5):(U=Qi(N,U),Fe=Mt,xe=ln);else{U&7&&(U+=8-(U&7));var Ce=N[U>>>3]|N[(U>>>3)+1]<<8;if(U+=32,Ce>0)for(!X&&ve<Z+Ce&&(Y=Tn(Y,Z+Ce),ve=Y.length);Ce-- >0;)Y[Z++]=N[U>>>3],U+=8;continue}for(;;){!X&&ve<Z+32767&&(Y=Tn(Y,Z+32767),ve=Y.length);var be=gt(N,U,Fe),Ke=j>>>1==1?Zt[be]:de[be];if(U+=Ke&15,Ke>>>=4,(Ke>>>8&255)===0)Y[Z++]=Ke;else{if(Ke==256)break;Ke-=257;var et=Ke<8?0:Ke-4>>2;et>5&&(et=0);var mt=Z+ce[Ke];et>0&&(mt+=gt(N,U,et),U+=et),be=gt(N,U,xe),Ke=j>>>1==1?qn[be]:me[be],U+=Ke&15,Ke>>>=4;var tt=Ke<4?0:Ke-2>>1,at=Me[Ke];for(tt>0&&(at+=gt(N,U,tt),U+=tt),!X&&ve<mt&&(Y=Tn(Y,mt+100),ve=Y.length);Z<mt;)Y[Z]=Y[Z-at],++Z}}}return X?[Y,U+7>>>3]:[Y.slice(0,Z),U+7>>>3]}function ho(N,X){var U=N.slice(N.l||0),j=Hs(U,X);return N.l+=j[1],j[0]}function Oi(N,X){if(N)typeof console<"u"&&console.error(X);else throw new Error(X)}function ji(N,X){var U=N;ss(U,0);var j=[],Y=[],Z={FileIndex:j,FullPaths:Y};T(Z,{root:X.root});for(var ve=U.length-4;(U[ve]!=80||U[ve+1]!=75||U[ve+2]!=5||U[ve+3]!=6)&&ve>=0;)--ve;U.l=ve+4,U.l+=4;var Fe=U.read_shift(2);U.l+=6;var xe=U.read_shift(4);for(U.l=xe,ve=0;ve<Fe;++ve){U.l+=20;var Ce=U.read_shift(4),be=U.read_shift(4),Ke=U.read_shift(2),et=U.read_shift(2),mt=U.read_shift(2);U.l+=8;var tt=U.read_shift(4),at=a(U.slice(U.l+Ke,U.l+Ke+et));U.l+=Ke+et+mt;var Wt=U.l;U.l=tt+4,Ji(U,Ce,be,Z,at),U.l=Wt}return Z}function Ji(N,X,U,j,Y){N.l+=2;var Z=N.read_shift(2),ve=N.read_shift(2),Fe=s(N);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var xe=N.read_shift(4),Ce=N.read_shift(4),be=N.read_shift(4),Ke=N.read_shift(2),et=N.read_shift(2),mt="",tt=0;tt<Ke;++tt)mt+=String.fromCharCode(N[N.l++]);if(et){var at=a(N.slice(N.l,N.l+et));(at[21589]||{}).mt&&(Fe=at[21589].mt),((Y||{})[21589]||{}).mt&&(Fe=Y[21589].mt)}N.l+=et;var Wt=N.slice(N.l,N.l+Ce);switch(ve){case 8:Wt=ae(N,be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ve)}var yi=!1;Z&8&&(xe=N.read_shift(4),xe==134695760&&(xe=N.read_shift(4),yi=!0),Ce=N.read_shift(4),be=N.read_shift(4)),Ce!=X&&Oi(yi,"Bad compressed size: "+X+" != "+Ce),be!=U&&Oi(yi,"Bad uncompressed size: "+U+" != "+be),Vn(j,mt,Wt,{unsafe:!0,mt:Fe})}function Ga(N,X){var U=X||{},j=[],Y=[],Z=Ae(1),ve=U.compression?8:0,Fe=0,xe=!1;xe&&(Fe|=8);var Ce=0,be=0,Ke=0,et=0,mt=N.FullPaths[0],tt=mt,at=N.FileIndex[0],Wt=[],yi=0;for(Ce=1;Ce<N.FullPaths.length;++Ce)if(tt=N.FullPaths[Ce].slice(mt.length),at=N.FileIndex[Ce],!(!at.size||!at.content||tt=="Sh33tJ5")){var po=Ke,er=Ae(tt.length);for(be=0;be<tt.length;++be)er.write_shift(1,tt.charCodeAt(be)&127);er=er.slice(0,er.l),Wt[et]=Y2e.buf(at.content,0);var Wo=at.content;ve==8&&(Wo=K(Wo)),Z=Ae(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,Fe),Z.write_shift(2,ve),at.mt?o(Z,at.mt):Z.write_shift(4,0),Z.write_shift(-4,Fe&8?0:Wt[et]),Z.write_shift(4,Fe&8?0:Wo.length),Z.write_shift(4,Fe&8?0:at.content.length),Z.write_shift(2,er.length),Z.write_shift(2,0),Ke+=Z.length,j.push(Z),Ke+=er.length,j.push(er),Ke+=Wo.length,j.push(Wo),Fe&8&&(Z=Ae(12),Z.write_shift(-4,Wt[et]),Z.write_shift(4,Wo.length),Z.write_shift(4,at.content.length),Ke+=Z.l,j.push(Z)),Z=Ae(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,Fe),Z.write_shift(2,ve),Z.write_shift(4,0),Z.write_shift(-4,Wt[et]),Z.write_shift(4,Wo.length),Z.write_shift(4,at.content.length),Z.write_shift(2,er.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,po),yi+=Z.l,Y.push(Z),yi+=er.length,Y.push(er),++et}return Z=Ae(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,et),Z.write_shift(2,et),Z.write_shift(4,yi),Z.write_shift(4,Ke),Z.write_shift(2,0),Ho([Ho(j),Ho(Y),Z])}var Ro={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rc(N,X){if(N.ctype)return N.ctype;var U=N.name||"",j=U.match(/\.([^\.]+)$/);return j&&Ro[j[1]]||X&&(j=(U=X).match(/[\.\\]([^\.\\])+$/),j&&Ro[j[1]])?Ro[j[1]]:"application/octet-stream"}function Er(N){for(var X=Dw(N),U=[],j=0;j<X.length;j+=76)U.push(X.slice(j,j+76));return U.join(`\r
`)+`\r
`}function ds(N){var X=N.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var be=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(be.length==1?"0"+be:be)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],j=X.split(`\r
`),Y=0;Y<j.length;++Y){var Z=j[Y];if(Z.length==0){U.push("");continue}for(var ve=0;ve<Z.length;){var Fe=76,xe=Z.slice(ve,ve+Fe);xe.charAt(Fe-1)=="="?Fe--:xe.charAt(Fe-2)=="="?Fe-=2:xe.charAt(Fe-3)=="="&&(Fe-=3),xe=Z.slice(ve,ve+Fe),ve+=Fe,ve<Z.length&&(xe+="="),U.push(xe)}}return U.join(`\r
`)}function Dr(N){for(var X=[],U=0;U<N.length;++U){for(var j=N[U];U<=N.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+N[++U];X.push(j)}for(var Y=0;Y<X.length;++Y)X[Y]=X[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return sl(X.join(`\r
`))}function fo(N,X,U){for(var j="",Y="",Z="",ve,Fe=0;Fe<10;++Fe){var xe=X[Fe];if(!xe||xe.match(/^\s*$/))break;var Ce=xe.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":j=Ce[2].trim();break;case"content-type":Z=Ce[2].trim();break;case"content-transfer-encoding":Y=Ce[2].trim();break}}switch(++Fe,Y.toLowerCase()){case"base64":ve=sl(ll(X.slice(Fe).join("")));break;case"quoted-printable":ve=Dr(X.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var be=Vn(N,j.slice(U.length),ve,{unsafe:!0});Z&&(be.ctype=Z)}function hr(N,X){if(te(N.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=X&&X.root||"",j=(On&&Buffer.isBuffer(N)?N.toString("binary"):te(N)).split(`\r
`),Y=0,Z="";for(Y=0;Y<j.length;++Y)if(Z=j[Y],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),U||(U=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),Z.slice(0,U.length)!=U););var ve=(j[1]||"").match(/boundary="(.*?)"/);if(!ve)throw new Error("MAD cannot find boundary");var Fe="--"+(ve[1]||""),xe=[],Ce=[],be={FileIndex:xe,FullPaths:Ce};T(be);var Ke,et=0;for(Y=0;Y<j.length;++Y){var mt=j[Y];mt!==Fe&&mt!==Fe+"--"||(et++&&fo(be,j.slice(Ke,Y),U),Ke=Y)}return be}function Di(N,X){var U=X||{},j=U.boundary||"SheetJS";j="------="+j;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],Z=N.FullPaths[0],ve=Z,Fe=N.FileIndex[0],xe=1;xe<N.FullPaths.length;++xe)if(ve=N.FullPaths[xe].slice(Z.length),Fe=N.FileIndex[xe],!(!Fe.size||!Fe.content||ve=="Sh33tJ5")){ve=ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Wt){return"_x"+Wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Wt){return"_u"+Wt.charCodeAt(0).toString(16)+"_"});for(var Ce=Fe.content,be=On&&Buffer.isBuffer(Ce)?Ce.toString("binary"):te(Ce),Ke=0,et=Math.min(1024,be.length),mt=0,tt=0;tt<=et;++tt)(mt=be.charCodeAt(tt))>=32&&mt<128&&++Ke;var at=Ke>=et*4/5;Y.push(j),Y.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+ve),Y.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),Y.push("Content-Type: "+rc(Fe,ve)),Y.push(""),Y.push(at?ds(be):Er(be))}return Y.push(j+`--\r
`),Y.join(`\r
`)}function $i(N){var X={};return T(X,N),X}function Vn(N,X,U,j){var Y=j&&j.unsafe;Y||T(N);var Z=!Y&&Bt.find(N,X);if(!Z){var ve=N.FullPaths[0];X.slice(0,ve.length)==ve?ve=X:(ve.slice(-1)!="/"&&(ve+="/"),ve=(ve+X).replace("//","/")),Z={name:r(X),type:2},N.FileIndex.push(Z),N.FullPaths.push(ve),Y||Bt.utils.cfb_gc(N)}return Z.content=U,Z.size=U?U.length:0,j&&(j.CLSID&&(Z.clsid=j.CLSID),j.mt&&(Z.mt=j.mt),j.ct&&(Z.ct=j.ct)),Z}function fr(N,X){T(N);var U=Bt.find(N,X);if(U){for(var j=0;j<N.FileIndex.length;++j)if(N.FileIndex[j]==U)return N.FileIndex.splice(j,1),N.FullPaths.splice(j,1),!0}return!1}function us(N,X,U){T(N);var j=Bt.find(N,X);if(j){for(var Y=0;Y<N.FileIndex.length;++Y)if(N.FileIndex[Y]==j)return N.FileIndex[Y].name=r(U),N.FullPaths[Y]=U,!0}return!1}function dp(N){M(N,!0)}return t.find=L,t.read=R,t.parse=d,t.write=oe,t.writeFile=Ee,t.utils={cfb_new:$i,cfb_add:Vn,cfb_del:fr,cfb_mov:us,cfb_gc:dp,ReadShift:vw,CheckField:jJ,prep_blob:ss,bconcat:Ho,use_zlib:A,_deflateRaw:Ie,_inflateRaw:ho,consts:fe},t}(),sC;function Z2e(e){return typeof e=="string"?DT(e):Array.isArray(e)?_2e(e):e}function Vw(e,t,n){if(typeof sC<"u"&&sC.writeFileSync)return n?sC.writeFileSync(e,t,n):sC.writeFileSync(e,t);if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=DT(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var i=n=="utf8"?Bd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,e);if(typeof Blob<"u"){var r=new Blob([Z2e(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=o,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Wf(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Q2e(e){if(typeof sC<"u")return sC.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(i){if(!i.message||!i.message.match(/onstruct/))throw i}throw new Error("Cannot access file "+e)}function Hr(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(e,t[i])&&n.push(t[i]);return n}function vQ(e,t){for(var n=[],i=Hr(e),r=0;r!==i.length;++r)n[e[i[r]][t]]==null&&(n[e[i[r]][t]]=i[r]);return n}function TT(e){for(var t=[],n=Hr(e),i=0;i!==n.length;++i)t[e[n[i]]]=n[i];return t}function IT(e){for(var t=[],n=Hr(e),i=0;i!==n.length;++i)t[e[n[i]]]=parseInt(n[i],10);return t}function J2e(e){for(var t=[],n=Hr(e),i=0;i!==n.length;++i)t[e[n[i]]]==null&&(t[e[n[i]]]=[]),t[e[n[i]]].push(n[i]);return t}var mT=new Date(1899,11,30,0,0,0);function So(e,t){var n=e.getTime();t&&(n-=1462*24*60*60*1e3);var i=mT.getTime()+(e.getTimezoneOffset()-mT.getTimezoneOffset())*6e4;return(n-i)/(24*60*60*1e3)}var TJ=new Date,eDe=mT.getTime()+(TJ.getTimezoneOffset()-mT.getTimezoneOffset())*6e4,CQ=TJ.getTimezoneOffset();function FT(e){var t=new Date;return t.setTime(e*24*60*60*1e3+eDe),t.getTimezoneOffset()!==CQ&&t.setTime(t.getTime()+(t.getTimezoneOffset()-CQ)*6e4),t}function tDe(e){var t=0,n=0,i=!1,r=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var o=1;o!=r.length;++o)if(r[o]){switch(n=1,o>3&&(i=!0),r[o].slice(r[o].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[o].slice(r[o].length-1));case"D":n*=24;case"H":n*=60;case"M":if(i)n*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}t+=n*parseInt(r[o],10)}return t}var yQ=new Date("2017-02-19T19:06:09.000Z"),IJ=isNaN(yQ.getFullYear())?new Date("2/19/17"):yQ,nDe=IJ.getFullYear()==2017;function ir(e,t){var n=new Date(e);if(nDe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(IJ.getFullYear()==1917&&!isNaN(n.getFullYear())){var i=n.getFullYear();return e.indexOf(""+i)>-1||n.setFullYear(n.getFullYear()+100),n}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Hg(e,t){if(On&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Bd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Bd(mJ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Bd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Bd(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(o){return n[o]||o})}catch{}for(var i=[],r=0;r!=e.length;++r)i.push(String.fromCharCode(e[r]));return i.join("")}function rr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=rr(e[n]));return t}function Nr(e,t){for(var n="";n.length<t;)n+=e;return n}function Oc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,o){return n=-n,o}),!isNaN(t=Number(i)))?t/n:t}var iDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function fC(e){var t=new Date(e),n=new Date(NaN),i=t.getYear(),r=t.getMonth(),o=t.getDate();if(isNaN(o))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&iDe.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return i<0||i>8099?n:(r>0||o>1)&&i!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var rDe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,i,r){if(e||typeof i=="string")return n.split(i);for(var o=n.split(i),s=[o[0]],a=1;a<o.length;++a)s.push(r),s.push(o[a]);return s}}();function FJ(e){return e?e.content&&e.type?Hg(e.content,!0):e.data?pw(e.data):e.asNodeBuffer&&On?pw(e.asNodeBuffer().toString("binary")):e.asBinary?pw(e.asBinary()):e._data&&e._data.getContent?pw(Hg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function kJ(e){if(!e)return null;if(e.data)return K6(e.data);if(e.asNodeBuffer&&On)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?K6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function oDe(e){return e&&e.name.slice(-4)===".bin"?kJ(e):FJ(e)}function ql(e,t){for(var n=e.FullPaths||Hr(e.files),i=t.toLowerCase().replace(/[\/]/g,"\\"),r=i.replace(/\\/g,"/"),o=0;o<n.length;++o){var s=n[o].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==s||r==s)return e.files?e.files[n[o]]:e.FileIndex[o]}return null}function h8(e,t){var n=ql(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function co(e,t,n){if(!n)return oDe(h8(e,t));if(!t)return null;try{return co(e,t)}catch{return null}}function al(e,t,n){if(!n)return FJ(h8(e,t));if(!t)return null;try{return al(e,t)}catch{return null}}function AJ(e,t,n){if(!n)return kJ(h8(e,t));if(!t)return null;try{return AJ(e,t)}catch{return null}}function xQ(e){for(var t=e.FullPaths||Hr(e.files),n=[],i=0;i<t.length;++i)t[i].slice(-1)!="/"&&n.push(t[i].replace(/^Root Entry[\/]/,""));return n.sort()}function Dn(e,t,n){if(e.FullPaths){if(typeof n=="string"){var i;return On?i=lh(n):i=S2e(n),Bt.utils.cfb_add(e,t,i)}Bt.utils.cfb_add(e,t,n)}else e.file(t,n)}function f8(){return Bt.utils.cfb_new()}function MJ(e,t){switch(t.type){case"base64":return Bt.read(e,{type:"base64"});case"binary":return Bt.read(e,{type:"binary"});case"buffer":case"array":return Bt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function mw(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var i=e.split("/");i.length!==0;){var r=i.shift();r===".."?n.pop():r!=="."&&n.push(r)}return n.join("/")}var eo=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,sDe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,bQ=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,aDe=/<[^>]*>/g,Ls=eo.match(bQ)?bQ:aDe,lDe=/<\w*:/,cDe=/<(\/?)\w+:/;function Jt(e,t,n){for(var i={},r=0,o=0;r!==e.length&&!((o=e.charCodeAt(r))===32||o===10||o===13);++r);if(t||(i[0]=e.slice(0,r)),r===e.length)return i;var s=e.match(sDe),a=0,l="",c=0,d="",u="",f=1;if(s)for(c=0;c!=s.length;++c){for(u=s[c],o=0;o!=u.length&&u.charCodeAt(o)!==61;++o);for(d=u.slice(0,o).trim();u.charCodeAt(o+1)==32;)++o;for(f=(r=u.charCodeAt(o+1))==34||r==39?1:0,l=u.slice(o+1+f,u.length-f),a=0;a!=d.length&&d.charCodeAt(a)!==58;++a);if(a===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),i[d]=l,n||(i[d.toLowerCase()]=l);else{var p=(a===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(a+1);if(i[p]&&d.slice(a-3,a)=="ext")continue;i[p]=l,n||(i[p.toLowerCase()]=l)}}return i}function Hd(e){return e.replace(cDe,"<$1")}var PJ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},p8=TT(PJ),ti=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(i){var r=i+"",o=r.indexOf("<![CDATA[");if(o==-1)return r.replace(e,function(a,l){return PJ[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var s=r.indexOf("]]>");return n(r.slice(0,o))+r.slice(o+9,s)+n(r.slice(s+3))}}(),g8=/[&<>'"]/g,dDe=/[\u0000-\u0008\u000b-\u001f]/g;function Mi(e){var t=e+"";return t.replace(g8,function(n){return p8[n]}).replace(dDe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function wQ(e){return Mi(e).replace(/ /g,"_x0020_")}var OJ=/[\u0000-\u001f]/g;function m8(e){var t=e+"";return t.replace(g8,function(n){return p8[n]}).replace(/\n/g,"<br/>").replace(OJ,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function uDe(e){var t=e+"";return t.replace(g8,function(n){return p8[n]}).replace(OJ,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var _Q=function(){var e=/&#(\d+);/g;function t(n,i){return String.fromCharCode(parseInt(i,10))}return function(i){return i.replace(e,t)}}();function hDe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function nr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function O6(e){for(var t="",n=0,i=0,r=0,o=0,s=0,a=0;n<e.length;){if(i=e.charCodeAt(n++),i<128){t+=String.fromCharCode(i);continue}if(r=e.charCodeAt(n++),i>191&&i<224){s=(i&31)<<6,s|=r&63,t+=String.fromCharCode(s);continue}if(o=e.charCodeAt(n++),i<240){t+=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63);continue}s=e.charCodeAt(n++),a=((i&7)<<18|(r&63)<<12|(o&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function SQ(e){var t=Hf(2*e.length),n,i,r=1,o=0,s=0,a;for(i=0;i<e.length;i+=r)r=1,(a=e.charCodeAt(i))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(i+1)&63),r=2):a<240?(n=(a&15)*4096+(e.charCodeAt(i+1)&63)*64+(e.charCodeAt(i+2)&63),r=3):(r=4,n=(a&7)*262144+(e.charCodeAt(i+1)&63)*4096+(e.charCodeAt(i+2)&63)*64+(e.charCodeAt(i+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(t[o++]=s&255,t[o++]=s>>>8,s=0),t[o++]=n%256,t[o++]=n>>>8;return t.slice(0,o).toString("ucs2")}function EQ(e){return lh(e,"binary").toString("utf8")}var iT="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",Ni=On&&(EQ(iT)==O6(iT)&&EQ||SQ(iT)==O6(iT)&&SQ)||O6,Bd=On?function(e){return lh(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,i=0,r=0;n<e.length;)switch(i=e.charCodeAt(n++),!0){case i<128:t.push(String.fromCharCode(i));break;case i<2048:t.push(String.fromCharCode(192+(i>>6))),t.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=e.charCodeAt(n++)-56320+(i<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(i>>12))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)))}return t.join("")},Tw=function(){var e={};return function(n,i){var r=n+"|"+(i||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",i||"")}}(),LJ=function(){var e=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var i=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<e.length;++r)i=i.replace(e[r][0],e[r][1]);return i}}(),fDe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),pDe=/<\/?(?:vt:)?variant>/g,gDe=/<(?:vt:)([^>]*)>([\s\S]*)</;function DQ(e,t){var n=Jt(e),i=e.match(fDe(n.baseType))||[],r=[];if(i.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+i.length+" != "+n.size);return r}return i.forEach(function(o){var s=o.replace(pDe,"").match(gDe);s&&r.push({v:Ni(s[2]),t:s[1]})}),r}var NJ=/(^\s|\s$|\n)/;function as(e,t){return"<"+e+(t.match(NJ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Iw(e){return Hr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function rt(e,t,n){return"<"+e+(n!=null?Iw(n):"")+(t!=null?(t.match(NJ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function X6(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function mDe(e,t){switch(typeof e){case"string":var n=rt("vt:lpwstr",Mi(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return rt((e|0)==e?"vt:i4":"vt:r8",Mi(String(e)));case"boolean":return rt("vt:bool",e?"true":"false")}if(e instanceof Date)return rt("vt:filetime",X6(e));throw new Error("Unable to serialize "+e)}function v8(e){if(On&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ni(Wf(c8(e)));throw new Error("Bad input format: expected Buffer or string")}var Fw=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,_o={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ol={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function vDe(e,t){for(var n=1-2*(e[t+7]>>>7),i=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),r=e[t+6]&15,o=5;o>=0;--o)r=r*256+e[t+o];return i==2047?r==0?n*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),n*Math.pow(2,i-52)*r)}function CDe(e,t,n){var i=(t<0||1/t==-1/0?1:0)<<7,r=0,o=0,s=i?-t:t;isFinite(s)?s==0?r=o=0:(r=Math.floor(Math.log(s)/Math.LN2),o=s*Math.pow(2,52-r),r<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?r=-1022:(o-=Math.pow(2,52),r+=1023)):(r=2047,o=isNaN(t)?26985:0);for(var a=0;a<=5;++a,o/=256)e[n+a]=o&255;e[n+6]=(r&15)<<4|o&15,e[n+7]=r>>4|i}var RQ=function(e){for(var t=[],n=10240,i=0;i<e[0].length;++i)if(e[0][i])for(var r=0,o=e[0][i].length;r<o;r+=n)t.push.apply(t,e[0][i].slice(r,r+n));return t},TQ=On?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:lh(t)})):RQ(e)}:RQ,IQ=function(e,t,n){for(var i=[],r=t;r<n;r+=2)i.push(String.fromCharCode(ih(e,r)));return i.join("").replace(Ms,"")},kT=On?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ms,""):IQ(e,t,n)}:IQ,FQ=function(e,t,n){for(var i=[],r=t;r<t+n;++r)i.push(("0"+e[r].toString(16)).slice(-2));return i.join("")},BJ=On?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):FQ(e,t,n)}:FQ,kQ=function(e,t,n){for(var i=[],r=t;r<n;r++)i.push(String.fromCharCode(oC(e,r)));return i.join("")},CC=On?function(t,n,i){return Buffer.isBuffer(t)?t.toString("utf8",n,i):kQ(t,n,i)}:kQ,VJ=function(e,t){var n=Vo(e,t);return n>0?CC(e,t+4,t+4+n-1):""},C8=VJ,HJ=function(e,t){var n=Vo(e,t);return n>0?CC(e,t+4,t+4+n-1):""},y8=HJ,GJ=function(e,t){var n=2*Vo(e,t);return n>0?CC(e,t+4,t+4+n-1):""},x8=GJ,zJ=function(t,n){var i=Vo(t,n);return i>0?kT(t,n+4,n+4+i):""},b8=zJ,UJ=function(e,t){var n=Vo(e,t);return n>0?CC(e,t+4,t+4+n):""},w8=UJ,WJ=function(e,t){return vDe(e,t)},vT=WJ,_8=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};On&&(C8=function(t,n){if(!Buffer.isBuffer(t))return VJ(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},y8=function(t,n){if(!Buffer.isBuffer(t))return HJ(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},x8=function(t,n){if(!Buffer.isBuffer(t))return GJ(t,n);var i=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i-1)},b8=function(t,n){if(!Buffer.isBuffer(t))return zJ(t,n);var i=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i)},w8=function(t,n){if(!Buffer.isBuffer(t))return UJ(t,n);var i=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+i)},vT=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):WJ(t,n)},_8=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function yDe(){kT=function(e,t,n){return Si.utils.decode(1200,e.slice(t,n)).replace(Ms,"")},CC=function(e,t,n){return Si.utils.decode(65001,e.slice(t,n))},C8=function(e,t){var n=Vo(e,t);return n>0?Si.utils.decode(hC,e.slice(t+4,t+4+n-1)):""},y8=function(e,t){var n=Vo(e,t);return n>0?Si.utils.decode(Vd,e.slice(t+4,t+4+n-1)):""},x8=function(e,t){var n=2*Vo(e,t);return n>0?Si.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},b8=function(e,t){var n=Vo(e,t);return n>0?Si.utils.decode(1200,e.slice(t+4,t+4+n)):""},w8=function(e,t){var n=Vo(e,t);return n>0?Si.utils.decode(65001,e.slice(t+4,t+4+n)):""}}typeof Si<"u"&&yDe();var oC=function(e,t){return e[t]},ih=function(e,t){return e[t+1]*256+e[t]},xDe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Vo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Mg=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},bDe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function vw(e,t){var n="",i,r,o=[],s,a,l,c;switch(t){case"dbcs":if(c=this.l,On&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(ih(this,c)),c+=2;e*=2;break;case"utf8":n=CC(this,this.l,this.l+e);break;case"utf16le":e*=2,n=kT(this,this.l,this.l+e);break;case"wstr":if(typeof Si<"u")n=Si.utils.decode(Vd,this.slice(this.l,this.l+2*e));else return vw.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":n=C8(this,this.l),e=4+Vo(this,this.l);break;case"lpstr-cp":n=y8(this,this.l),e=4+Vo(this,this.l);break;case"lpwstr":n=x8(this,this.l),e=4+2*Vo(this,this.l);break;case"lpp4":e=4+Vo(this,this.l),n=b8(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Vo(this,this.l),n=w8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(s=oC(this,this.l+e++))!==0;)o.push(nT(s));n=o.join("");break;case"_wstr":for(e=0,n="";(s=ih(this,this.l+e))!==0;)o.push(nT(s)),e+=2;e+=2,n=o.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=oC(this,c),this.l=c+1,a=vw.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),o.join("")+a;o.push(nT(ih(this,c))),c+=2}n=o.join(""),e*=2;break;case"cpstr":if(typeof Si<"u"){n=Si.utils.decode(Vd,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=oC(this,c),this.l=c+1,a=vw.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),o.join("")+a;o.push(nT(oC(this,c))),c+=1}n=o.join("");break;default:switch(e){case 1:return i=oC(this,this.l),this.l++,i;case 2:return i=(t==="i"?xDe:ih)(this,this.l),this.l+=2,i;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(i=(e>0?Mg:bDe)(this,this.l),this.l+=4,i):(r=Vo(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return e==8?r=vT(this,this.l):r=vT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:n=BJ(this,this.l,e);break}}return this.l+=e,n}var wDe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},_De=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},SDe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function EDe(e,t,n){var i=0,r=0;if(n==="dbcs"){for(r=0;r!=t.length;++r)SDe(this,t.charCodeAt(r),this.l+2*r);i=2*t.length}else if(n==="sbcs"){if(typeof Si<"u"&&hC==874)for(r=0;r!=t.length;++r){var o=Si.utils.encode(hC,t.charAt(r));this[this.l+r]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;i=t.length}else if(n==="hex"){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var a=t.charCodeAt(r);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:i=1,this[this.l]=t&255;break;case 2:i=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:i=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:i=4,wDe(this,t,this.l);break;case 8:if(i=8,n==="f"){CDe(this,t,this.l);break}case 16:break;case-4:i=4,_De(this,t,this.l);break}return this.l+=i,this}function jJ(e,t){var n=BJ(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function ss(e,t){e.l=t,e.read_shift=vw,e.chk=jJ,e.write_shift=EDe}function Os(e,t){e.l+=t}function Ae(e){var t=Hf(e);return ss(t,0),t}function ch(e,t,n){if(e){var i,r,o;ss(e,e.l||0);for(var s=e.length,a=0,l=0;e.l<s;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=Lw[a]||Lw[65535];for(i=e.read_shift(1),o=i&127,r=1;r<4&&i&128;++r)o+=((i=e.read_shift(1))&127)<<7*r;l=e.l+o;var d=c.f&&c.f(e,o,n);if(e.l=l,t(d,c,a))return}}}function La(){var e=[],t=On?256:2048,n=function(c){var d=Ae(c);return ss(d,0),d},i=n(t),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&e.push(i),i=null)},o=function(c){return i&&c<i.length-i.l?i:(r(),i=n(Math.max(c+1,t)))},s=function(){return r(),Ho(e)},a=function(c){r(),i=c,i.l==null&&(i.l=i.length),o(t)};return{next:o,push:a,end:s,_bufs:e}}function je(e,t,n,i){var r=+t,o;if(!isNaN(r)){i||(i=Lw[r].p||(n||[]).length||0),o=1+(r>=128?1:0)+1,i>=128&&++o,i>=16384&&++o,i>=2097152&&++o;var s=e.next(o);r<=127?s.write_shift(1,r):(s.write_shift(1,(r&127)+128),s.write_shift(1,r>>7));for(var a=0;a!=4;++a)if(i>=128)s.write_shift(1,(i&127)+128),i>>=7;else{s.write_shift(1,i);break}i>0&&_8(n)&&e.push(n)}}function Cw(e,t,n){var i=rr(e);if(t.s?(i.cRel&&(i.c+=t.s.c),i.rRel&&(i.r+=t.s.r)):(i.cRel&&(i.c+=t.c),i.rRel&&(i.r+=t.r)),!n||n.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function AQ(e,t,n){var i=rr(e);return i.s=Cw(i.s,t.s,n),i.e=Cw(i.e,t.s,n),i}function yw(e,t){if(e.cRel&&e.c<0)for(e=rr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=rr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Xt(e);return!e.cRel&&e.cRel!=null&&(n=TDe(n)),!e.rRel&&e.rRel!=null&&(n=DDe(n)),n}function L6(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+br(e.s.c)+":"+(e.e.cRel?"":"$")+br(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Jr(e.s.r)+":"+(e.e.rRel?"":"$")+Jr(e.e.r):yw(e.s,t.biff)+":"+yw(e.e,t.biff)}function S8(e){return parseInt(RDe(e),10)-1}function Jr(e){return""+(e+1)}function DDe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function RDe(e){return e.replace(/\$(\d+)$/,"$1")}function E8(e){for(var t=IDe(e),n=0,i=0;i!==t.length;++i)n=26*n+t.charCodeAt(i)-64;return n-1}function br(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function TDe(e){return e.replace(/^([A-Z])/,"$$$1")}function IDe(e){return e.replace(/^\$([A-Z])/,"$1")}function FDe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wr(e){for(var t=0,n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:t-1}}function Xt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Na(e){var t=e.indexOf(":");return t==-1?{s:wr(e),e:wr(e)}:{s:wr(e.slice(0,t)),e:wr(e.slice(t+1))}}function yn(e,t){return typeof t>"u"||typeof t=="number"?yn(e.s,e.e):(typeof e!="string"&&(e=Xt(e)),typeof t!="string"&&(t=Xt(t)),e==t?e:e+":"+t)}function ni(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,i=0,r=0,o=e.length;for(n=0;i<o&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.s.c=--n,n=0;i<o&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;if(t.s.r=--n,i===o||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,n=0;i!=o&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.e.c=--n,n=0;i!=o&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;return t.e.r=--n,t}function MQ(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Yl(e.z,n?So(t):t)}catch{}try{return e.w=Yl((e.XF||{}).numFmtId||(n?14:0),n?So(t):t)}catch{return""+t}}function ah(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?dh[e.v]||e.v:t==null?MQ(e,e.v):MQ(e,t))}function jf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",i={};return i[n]=e,{SheetNames:[n],Sheets:i}}function $J(e,t,n){var i=n||{},r=e?Array.isArray(e):i.dense;Vr!=null&&r==null&&(r=Vr);var o=e||(r?[]:{}),s=0,a=0;if(o&&i.origin!=null){if(typeof i.origin=="number")s=i.origin;else{var l=typeof i.origin=="string"?wr(i.origin):i.origin;s=l.r,a=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var d=ni(o["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),s==-1&&(c.e.r=s=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[u].length;++f)if(!(typeof t[u][f]>"u")){var p={v:t[u][f]},m=s+u,v=a+f;if(c.s.r>m&&(c.s.r=m),c.s.c>v&&(c.s.c=v),c.e.r<m&&(c.e.r=m),c.e.c<v&&(c.e.c=v),t[u][f]&&typeof t[u][f]=="object"&&!Array.isArray(t[u][f])&&!(t[u][f]instanceof Date))p=t[u][f];else if(Array.isArray(p.v)&&(p.f=t[u][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(i.nullError)p.t="e",p.v=0;else if(i.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=i.dateNF||Kt[14],i.cellDates?(p.t="d",p.w=Yl(p.z,So(p.v))):(p.t="n",p.v=So(p.v),p.w=Yl(p.z,p.v))):p.t="s";if(r)o[m]||(o[m]=[]),o[m][v]&&o[m][v].z&&(p.z=o[m][v].z),o[m][v]=p;else{var C=Xt({c:v,r:m});o[C]&&o[C].z&&(p.z=o[C].z),o[C]=p}}}return c.s.c<1e7&&(o["!ref"]=yn(c)),o}function yC(e,t){return $J(null,e,t)}function kDe(e){return e.read_shift(4,"i")}function Lc(e,t){return t||(t=Ae(4)),t.write_shift(4,e),t}function Ps(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Go(e,t){var n=!1;return t==null&&(n=!0,t=Ae(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function ADe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function MDe(e,t){return t||(t=Ae(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function D8(e,t){var n=e.l,i=e.read_shift(1),r=Ps(e),o=[],s={t:r,h:r};if((i&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)o.push(ADe(e));s.r=o}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}function PDe(e,t){var n=!1;return t==null&&(n=!0,t=Ae(15+4*e.t.length)),t.write_shift(1,0),Go(e.t,t),n?t.slice(0,t.l):t}var ODe=D8;function LDe(e,t){var n=!1;return t==null&&(n=!0,t=Ae(23+4*e.t.length)),t.write_shift(1,1),Go(e.t,t),t.write_shift(4,1),MDe({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function Zl(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function $g(e,t){return t==null&&(t=Ae(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function qg(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Kg(e,t){return t==null&&(t=Ae(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var NDe=Ps,qJ=Go;function R8(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function CT(e,t){var n=!1;return t==null&&(n=!0,t=Ae(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var BDe=Ps,Y6=R8,T8=CT;function I8(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,i=t[0]&2;e.l+=4;var r=i===0?vT([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Mg(t,0)>>2;return n?r/100:r}function KJ(e,t){t==null&&(t=Ae(4));var n=0,i=0,r=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?i=1:r==(r|0)&&r>=-(1<<29)&&r<1<<29&&(i=1,n=1),i)t.write_shift(-4,((n?r:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function XJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function VDe(e,t){return t||(t=Ae(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Xg=XJ,xC=VDe;function As(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Gg(e,t){return(t||Ae(8)).write_shift(8,e,"f")}function HDe(e){var t={},n=e.read_shift(1),i=n>>>1,r=e.read_shift(1),o=e.read_shift(2,"i"),s=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,i){case 0:t.auto=1;break;case 1:t.index=r;var c=Og[r];c&&(t.rgb=Aw(c));break;case 2:t.rgb=Aw([s,a,l]);break;case 3:t.theme=r;break}return o!=0&&(t.tint=o>0?o/32767:o/32768),t}function yT(e,t){if(t||(t=Ae(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var i=e.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),t.write_shift(1,parseInt(i.slice(0,2),16)),t.write_shift(1,parseInt(i.slice(2,4),16)),t.write_shift(1,parseInt(i.slice(4,6),16)),t.write_shift(1,255)}return t}function GDe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function zDe(e,t){t||(t=Ae(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function YJ(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},i=e.read_shift(4);switch(i){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function UDe(e){return YJ(e,1)}function WDe(e){return YJ(e,2)}var F8=2,Oa=3,rT=11,PQ=12,xT=19;var oT=64,jDe=65,$De=71;var qDe=4108,KDe=4126,Bo=80,ZJ=81,XDe=[Bo,ZJ],Z6={1:{n:"CodePage",t:F8},2:{n:"Category",t:Bo},3:{n:"PresentationFormat",t:Bo},4:{n:"ByteCount",t:Oa},5:{n:"LineCount",t:Oa},6:{n:"ParagraphCount",t:Oa},7:{n:"SlideCount",t:Oa},8:{n:"NoteCount",t:Oa},9:{n:"HiddenCount",t:Oa},10:{n:"MultimediaClipCount",t:Oa},11:{n:"ScaleCrop",t:rT},12:{n:"HeadingPairs",t:qDe},13:{n:"TitlesOfParts",t:KDe},14:{n:"Manager",t:Bo},15:{n:"Company",t:Bo},16:{n:"LinksUpToDate",t:rT},17:{n:"CharacterCount",t:Oa},19:{n:"SharedDoc",t:rT},22:{n:"HyperlinksChanged",t:rT},23:{n:"AppVersion",t:Oa,p:"version"},24:{n:"DigSig",t:jDe},26:{n:"ContentType",t:Bo},27:{n:"ContentStatus",t:Bo},28:{n:"Language",t:Bo},29:{n:"Version",t:Bo},255:{},2147483648:{n:"Locale",t:xT},2147483651:{n:"Behavior",t:xT},1919054434:{}},Q6={1:{n:"CodePage",t:F8},2:{n:"Title",t:Bo},3:{n:"Subject",t:Bo},4:{n:"Author",t:Bo},5:{n:"Keywords",t:Bo},6:{n:"Comments",t:Bo},7:{n:"Template",t:Bo},8:{n:"LastAuthor",t:Bo},9:{n:"RevNumber",t:Bo},10:{n:"EditTime",t:oT},11:{n:"LastPrinted",t:oT},12:{n:"CreatedDate",t:oT},13:{n:"ModifiedDate",t:oT},14:{n:"PageCount",t:Oa},15:{n:"WordCount",t:Oa},16:{n:"CharCount",t:Oa},17:{n:"Thumbnail",t:$De},18:{n:"Application",t:Bo},19:{n:"DocSecurity",t:Oa},255:{},2147483648:{n:"Locale",t:xT},2147483651:{n:"Behavior",t:xT},1919054434:{}},OQ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},YDe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ZDe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var QDe=ZDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Og=rr(QDe),dh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},QJ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},J6={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sT={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function k8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function JDe(e){var t=k8();if(!e||!e.match)return t;var n={};if((e.match(Ls)||[]).forEach(function(i){var r=Jt(i);switch(r[0].replace(lDe,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":t[J6[r.ContentType]]!==void 0&&t[J6[r.ContentType]].push(r.PartName);break}}),t.xmlns!==_o.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function JJ(e,t){var n=J2e(J6),i=[],r;i[i.length]=eo,i[i.length]=rt("Types",null,{xmlns:_o.CT,"xmlns:xsd":_o.xsd,"xmlns:xsi":_o.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return rt("Default",null,{Extension:l[0],ContentType:l[1]})}));var o=function(l){e[l]&&e[l].length>0&&(r=e[l][0],i[i.length]=rt("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:sT[l][t.bookType]||sT[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){i[i.length]=rt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:sT[l][t.bookType]||sT[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){i[i.length]=rt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return o("workbooks"),s("sheets"),s("charts"),a("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),s("metadata"),a("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Rn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function kw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function xw(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var i={};return(e.match(Ls)||[]).forEach(function(r){var o=Jt(r);if(o[0]==="<Relationship"){var s={};s.Type=o.Type,s.Target=o.Target,s.Id=o.Id,o.TargetMode&&(s.TargetMode=o.TargetMode);var a=o.TargetMode==="External"?o.Target:mw(o.Target,t);n[a]=s,i[o.Id]=s}}),n["!id"]=i,n}function cC(e){var t=[eo,rt("Relationships",null,{xmlns:_o.RELS})];return Hr(e["!id"]).forEach(function(n){t[t.length]=rt("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ai(e,t,n,i,r,o){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=i,r.Target=n,o?r.TargetMode=o:[Rn.HLINK,Rn.XPATH,Rn.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}var eRe="application/vnd.oasis.opendocument.spreadsheet";function tRe(e,t){for(var n=v8(e),i,r;i=Fw.exec(n);)switch(i[3]){case"manifest":break;case"file-entry":if(r=Jt(i[0],!1),r.path=="/"&&r.type!==eRe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw i}}function nRe(e){var t=[eo];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function LQ(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function iRe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function rRe(e){var t=[eo];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(LQ(e[n][0],e[n][1])),t.push(iRe("",e[n][0]));return t.push(LQ("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function eee(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ew.version+"</meta:generator></office:meta></office:document-meta>"}var Xl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],oRe=function(){for(var e=new Array(Xl.length),t=0;t<Xl.length;++t){var n=Xl[t],i="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}return e}();function tee(e){var t={};e=Ni(e);for(var n=0;n<Xl.length;++n){var i=Xl[n],r=e.match(oRe[n]);r!=null&&r.length>0&&(t[i[1]]=ti(r[1])),i[2]==="date"&&t[i[1]]&&(t[i[1]]=ir(t[i[1]]))}return t}function N6(e,t,n,i,r){r[e]!=null||t==null||t===""||(r[e]=t,t=Mi(t),i[i.length]=n?rt(e,t,n):as(e,t))}function nee(e,t){var n=t||{},i=[eo,rt("cp:coreProperties",null,{"xmlns:cp":_o.CORE_PROPS,"xmlns:dc":_o.dc,"xmlns:dcterms":_o.dcterms,"xmlns:dcmitype":_o.dcmitype,"xmlns:xsi":_o.xsi})],r={};if(!e&&!n.Props)return i.join("");e&&(e.CreatedDate!=null&&N6("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:X6(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),e.ModifiedDate!=null&&N6("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:X6(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var o=0;o!=Xl.length;++o){var s=Xl[o],a=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:e?e[s[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&N6(s[0],a,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var Lg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iee=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ree(e,t,n,i){var r=[];if(typeof e=="string")r=DQ(e,i);else for(var o=0;o<e.length;++o)r=r.concat(e[o].map(function(d){return{v:d}}));var s=typeof t=="string"?DQ(t,i).map(function(d){return d.v}):t,a=0,l=0;if(s.length>0)for(var c=0;c!==r.length;c+=2){switch(l=+r[c+1].v,r[c].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=s.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":n.NamedRanges=l,n.DefinedNames=s.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=s.slice(a,a+l);break}a+=l}}function sRe(e,t,n){var i={};return t||(t={}),e=Ni(e),Lg.forEach(function(r){var o=(e.match(Tw(r[0]))||[])[1];switch(r[2]){case"string":o&&(t[r[1]]=ti(o));break;case"bool":t[r[1]]=o==="true";break;case"raw":var s=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));s&&s.length>0&&(i[r[1]]=s[1]);break}}),i.HeadingPairs&&i.TitlesOfParts&&ree(i.HeadingPairs,i.TitlesOfParts,t,n),t}function oee(e){var t=[],n=rt;return e||(e={}),e.Application="SheetJS",t[t.length]=eo,t[t.length]=rt("Properties",null,{xmlns:_o.EXT_PROPS,"xmlns:vt":_o.vt}),Lg.forEach(function(i){if(e[i[1]]!==void 0){var r;switch(i[2]){case"string":r=Mi(String(e[i[1]]));break;case"bool":r=e[i[1]]?"true":"false";break}r!==void 0&&(t[t.length]=n(i[0],r))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(i){return"<vt:lpstr>"+Mi(i)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var aRe=/<[^>]+>[^<]*/g;function lRe(e,t){var n={},i="",r=e.match(aRe);if(r)for(var o=0;o!=r.length;++o){var s=r[o],a=Jt(s);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":i=ti(a.name);break;case"</property>":i=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[i]=ti(d);break;case"bool":n[i]=nr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[i]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[i]=parseFloat(d);break;case"filetime":case"date":n[i]=ir(d);break;case"cy":case"error":n[i]=ti(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return n}function see(e){var t=[eo,rt("Properties",null,{xmlns:_o.CUST_PROPS,"xmlns:vt":_o.vt})];if(!e)return t.join("");var n=1;return Hr(e).forEach(function(r){++n,t[t.length]=rt("property",mDe(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Mi(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var e8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},B6;function cRe(e,t,n){B6||(B6=TT(e8)),t=B6[t]||t,e[t]=n}function dRe(e,t){var n=[];return Hr(e8).map(function(i){for(var r=0;r<Xl.length;++r)if(Xl[r][1]==i)return Xl[r];for(r=0;r<Lg.length;++r)if(Lg[r][1]==i)return Lg[r];throw i}).forEach(function(i){if(e[i[1]]!=null){var r=t&&t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:e[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),n.push(as(e8[i[1]]||i[1],r))}}),rt("DocumentProperties",n.join(""),{xmlns:ol.o})}function uRe(e,t){var n=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return e&&Hr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)){for(var s=0;s<Xl.length;++s)if(o==Xl[s][1])return;for(s=0;s<Lg.length;++s)if(o==Lg[s][1])return;for(s=0;s<n.length;++s)if(o==n[s])return;var a=e[o],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),r.push(rt(wQ(o),a,{"dt:dt":l}))}}),t&&Hr(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)&&!(e&&Object.prototype.hasOwnProperty.call(e,o))){var s=t[o],a="string";typeof s=="number"?(a="float",s=String(s)):s===!0||s===!1?(a="boolean",s=s?"1":"0"):s instanceof Date?(a="dateTime.tz",s=s.toISOString()):s=String(s),r.push(rt(wQ(o),s,{"dt:dt":a}))}}),"<"+i+' xmlns="'+ol.o+'">'+r.join("")+"</"+i+">"}function A8(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function hRe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,i=n%Math.pow(2,32),r=(n-i)/Math.pow(2,32);i*=1e7,r*=1e7;var o=i/Math.pow(2,32)|0;o>0&&(i=i%Math.pow(2,32),r+=o);var s=Ae(8);return s.write_shift(4,i),s.write_shift(4,r),s}function aee(e,t,n){var i=e.l,r=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-i&3;)++e.l;return r}function lee(e,t,n){var i=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(i.length+1&3)&3),i}function cee(e,t,n){return t===31?lee(e):aee(e,t,n)}function t8(e,t,n){return cee(e,t,n===!1?0:4)}function fRe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return cee(e,t,0)}function pRe(e){for(var t=e.read_shift(4),n=[],i=0;i!=t;++i){var r=e.l;n[i]=e.read_shift(0,"lpwstr").replace(Ms,""),e.l-r&2&&(e.l+=2)}return n}function gRe(e){for(var t=e.read_shift(4),n=[],i=0;i!=t;++i)n[i]=e.read_shift(0,"lpstr-cp").replace(Ms,"");return n}function mRe(e){var t=e.l,n=bT(e,ZJ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var i=bT(e,Oa);return[n,i]}function vRe(e){for(var t=e.read_shift(4),n=[],i=0;i<t/2;++i)n.push(mRe(e));return n}function NQ(e,t){for(var n=e.read_shift(4),i={},r=0;r!=n;++r){var o=e.read_shift(4),s=e.read_shift(4);i[o]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ms,"").replace(gw,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),i}function dee(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function CRe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function bT(e,t,n){var i=e.read_shift(2),r,o=n||{};if(e.l+=2,t!==PQ&&i!==t&&XDe.indexOf(t)===-1&&!((t&65534)==4126&&(i&65534)==4126))throw new Error("Expected type "+t+" saw "+i);switch(t===PQ?i:t){case 2:return r=e.read_shift(2,"i"),o.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i"),r;case 11:return e.read_shift(4)!==0;case 19:return r=e.read_shift(4),r;case 30:return aee(e,i,4).replace(Ms,"");case 31:return lee(e);case 64:return A8(e);case 65:return dee(e);case 71:return CRe(e);case 80:return t8(e,i,!o.raw).replace(Ms,"");case 81:return fRe(e,i).replace(Ms,"");case 4108:return vRe(e);case 4126:case 4127:return i==4127?pRe(e):gRe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function BQ(e,t){var n=Ae(4),i=Ae(4);switch(n.write_shift(4,e==80?31:e),e){case 3:i.write_shift(-4,t);break;case 5:i=Ae(8),i.write_shift(8,t,"f");break;case 11:i.write_shift(4,t?1:0);break;case 64:i=hRe(t);break;case 31:case 80:for(i=Ae(4+2*(t.length+1)+(t.length%2?0:2)),i.write_shift(4,t.length+1),i.write_shift(0,t,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ho([n,i])}function VQ(e,t){var n=e.l,i=e.read_shift(4),r=e.read_shift(4),o=[],s=0,a=0,l=-1,c={};for(s=0;s!=r;++s){var d=e.read_shift(4),u=e.read_shift(4);o[s]=[d,u+n]}o.sort(function(b,w){return b[1]-w[1]});var f={};for(s=0;s!=r;++s){if(e.l!==o[s][1]){var p=!0;if(s>0&&t)switch(t[o[s-1][0]].t){case 2:e.l+2===o[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=o[s][1]&&(e.l=o[s][1],p=!1);break;case 4108:e.l<=o[s][1]&&(e.l=o[s][1],p=!1);break}if((!t||s==0)&&e.l<=o[s][1]&&(p=!1,e.l=o[s][1]),p)throw new Error("Read Error: Expected address "+o[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[o[s][0]];if(f[m.n]=bT(e,m.t,{raw:!0}),m.p==="version"&&(f[m.n]=String(f[m.n]>>16)+"."+("0000"+String(f[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(f[m.n]){case 0:f[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Mc(a=f[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[m.n])}}else if(o[s][0]===1){if(a=f.CodePage=bT(e,F8),Mc(a),l!==-1){var v=e.l;e.l=o[l][1],c=NQ(e,a),e.l=v}}else if(o[s][0]===0){if(a===0){l=s,e.l=o[s+1][1];continue}c=NQ(e,a)}else{var C=c[o[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=dee(e);break;case 30:e.l+=4,y=t8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=t8(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Qr(e,4);break;case 64:e.l+=4,y=ir(A8(e));break;default:throw new Error("unparsed value: "+e[e.l])}f[C]=y}}return e.l=n+i,f}var uee=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function yRe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function HQ(e,t,n){var i=Ae(8),r=[],o=[],s=8,a=0,l=Ae(8),c=Ae(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),o.push(l),r.push(c),s+=8+l.length,!t){c=Ae(8),c.write_shift(4,0),r.unshift(c);var d=[Ae(4)];for(d[0].write_shift(4,e.length),a=0;a<e.length;++a){var u=e[a][0];for(l=Ae(8+2*(u.length+1)+(u.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Ho(d),o.unshift(l),s+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(uee.indexOf(e[a][0])>-1||iee.indexOf(e[a][0])>-1)&&e[a][1]!=null){var f=e[a][1],p=0;if(t){p=+t[e[a][0]];var m=n[p];if(m.p=="version"&&typeof f=="string"){var v=f.split(".");f=(+v[0]<<16)+(+v[1]||0)}l=BQ(m.t,f)}else{var C=yRe(f);C==-1&&(C=31,f=String(f)),l=BQ(C,f)}o.push(l),c=Ae(8),c.write_shift(4,t?p:2+a),r.push(c),s+=8+l.length}var y=8*(o.length+1);for(a=0;a<o.length;++a)r[a].write_shift(4,y),y+=o[a].length;return i.write_shift(4,s),i.write_shift(4,o.length),Ho([i].concat(r).concat(o))}function GQ(e,t,n){var i=e.content;if(!i)return{};ss(i,0);var r,o,s,a,l=0;i.chk("feff","Byte Order: "),i.read_shift(2);var c=i.read_shift(4),d=i.read_shift(16);if(d!==Bt.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(r=i.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(o=i.read_shift(16),a=i.read_shift(4),r===1&&a!==i.l)throw new Error("Length mismatch: "+a+" !== "+i.l);r===2&&(s=i.read_shift(16),l=i.read_shift(4));var u=VQ(i,t),f={SystemIdentifier:c};for(var p in u)f[p]=u[p];if(f.FMTID=o,r===1)return f;if(l-i.l==2&&(i.l+=2),i.l!==l)throw new Error("Length mismatch 2: "+i.l+" !== "+l);var m;try{m=VQ(i,null)}catch{}for(p in m)f[p]=m[p];return f.FMTID=[o,s],f}function zQ(e,t,n,i,r,o){var s=Ae(r?68:48),a=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Bt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,r?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,r?68:48);var l=HQ(e,n,i);if(a.push(l),r){var c=HQ(r,null,null);s.write_shift(16,o,"hex"),s.write_shift(4,68+l.length),a.push(c)}return Ho(a)}function Nf(e,t){return e.read_shift(t),null}function xRe(e,t){t||(t=Ae(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function bRe(e,t,n){for(var i=[],r=e.l+t;e.l<r;)i.push(n(e,r-e.l));if(r!==e.l)throw new Error("Slurp error");return i}function Qr(e,t){return e.read_shift(t)===1}function ra(e,t){return t||(t=Ae(2)),t.write_shift(2,+!!e),t}function uo(e){return e.read_shift(2,"u")}function Kl(e,t){return t||(t=Ae(2)),t.write_shift(2,e),t}function hee(e,t){return bRe(e,t,uo)}function wRe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function fee(e,t,n){return n||(n=Ae(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function Hw(e,t,n){var i=e.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont",o=Vd;if(n&&n.biff>=8&&(Vd=1200),!n||n.biff==8){var s=e.read_shift(1);s&&(r="dbcs-cont")}else n.biff==12&&(r="wstr");n.biff>=2&&n.biff<=5&&(r="cpstr");var a=i?e.read_shift(i,r):"";return Vd=o,a}function _Re(e){var t=Vd;Vd=1200;var n=e.read_shift(2),i=e.read_shift(1),r=i&4,o=i&8,s=1+(i&1),a=0,l,c={};o&&(a=e.read_shift(2)),r&&(l=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",u=n===0?"":e.read_shift(n,d);return o&&(e.l+=4*a),r&&(e.l+=l),c.t=u,o||(c.raw="<t>"+c.t+"</t>",c.r=c.t),Vd=t,c}function SRe(e){var t=e.t||"",n=1,i=Ae(3+(n>1?2:0));i.write_shift(2,t.length),i.write_shift(1,(n>1?8:0)|1),n>1&&i.write_shift(2,n);var r=Ae(2*t.length);r.write_shift(2*t.length,t,"utf16le");var o=[i,r];return Ho(o)}function zg(e,t,n){var i;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return r===0?i=e.read_shift(t,"sbcs-cont"):i=e.read_shift(t,"dbcs-cont"),i}function Gw(e,t,n){var i=e.read_shift(n&&n.biff==2?1:2);return i===0?(e.l++,""):zg(e,i,n)}function Yg(e,t,n){if(n.biff>5)return Gw(e,t,n);var i=e.read_shift(1);return i===0?(e.l++,""):e.read_shift(i,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function pee(e,t,n){return n||(n=Ae(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function ERe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function DRe(e){var t=e.read_shift(4),n=e.l,i=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),e.l=n);var r=e.read_shift((i?t-24:t)>>1,"utf16le").replace(Ms,"");return i&&(e.l+=24),r}function RRe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var i=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=e.read_shift(4);if(r===0)return n+i.replace(/\\/g,"/");var o=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(o>>1,"utf16le").replace(Ms,"");return n+s}function TRe(e,t){var n=e.read_shift(16);switch(t-=16,n){case"e0c9ea79f9bace118c8200aa004ba90b":return DRe(e,t);case"0303000000000000c000000000000046":return RRe(e,t);default:throw new Error("Unsupported Moniker "+n)}}function aT(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ms,""):"";return n}function UQ(e,t){t||(t=Ae(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function IRe(e,t){var n=e.l+t,i=e.read_shift(4);if(i!==2)throw new Error("Unrecognized streamVersion: "+i);var r=e.read_shift(2);e.l+=2;var o,s,a,l,c="",d,u;r&16&&(o=aT(e,n-e.l)),r&128&&(s=aT(e,n-e.l)),(r&257)===257&&(a=aT(e,n-e.l)),(r&257)===1&&(l=TRe(e,n-e.l)),r&8&&(c=aT(e,n-e.l)),r&32&&(d=e.read_shift(16)),r&64&&(u=A8(e)),e.l=n;var f=s||a||l||"";f&&c&&(f+="#"+c),f||(f="#"+c),r&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var p={Target:f};return d&&(p.guid=d),u&&(p.time=u),o&&(p.Tooltip=o),p}function FRe(e){var t=Ae(512),n=0,i=e.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),o=r>-1?31:23;switch(i.charAt(0)){case"#":o=28;break;case".":o&=-3;break}t.write_shift(4,2),t.write_shift(4,o);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)t.write_shift(4,s[n]);if(o==28)i=i.slice(1),UQ(i,t);else if(o&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));var a=r>-1?i.slice(0,r):i;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),o&8&&UQ(r>-1?i.slice(r+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));for(var l=0;i.slice(l*3,l*3+3)=="../"||i.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,i.length-3*l+1),n=0;n<i.length-3*l;++n)t.write_shift(1,i.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function gee(e){var t=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1),r=e.read_shift(1);return[t,n,i,r]}function mee(e,t){var n=gee(e,t);return n[3]=0,n}function Gd(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{r:t,c:n,ixfe:i}}function Ug(e,t,n,i){return i||(i=Ae(6)),i.write_shift(2,e),i.write_shift(2,t),i.write_shift(2,n||0),i}function kRe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function ARe(e,t,n){return t===0?"":Yg(e,t,n)}function MRe(e,t,n){var i=n.biff>8?4:2,r=e.read_shift(i),o=e.read_shift(i,"i"),s=e.read_shift(i,"i");return[r,o,s]}function vee(e){var t=e.read_shift(2),n=I8(e);return[t,n]}function PRe(e,t,n){e.l+=4,t-=4;var i=e.l+t,r=Hw(e,t,n),o=e.read_shift(2);if(i-=e.l,o!==i)throw new Error("Malformed AddinUdf: padding = "+i+" != "+o);return e.l+=o,r}function AT(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),r=e.read_shift(2);return{s:{c:i,r:t},e:{c:r,r:n}}}function Cee(e,t){return t||(t=Ae(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function yee(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(1),r=e.read_shift(1);return{s:{c:i,r:t},e:{c:r,r:n}}}var ORe=yee;function xee(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return e.l+=12,[n,t,i]}function LRe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function NRe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ts(e){e.l+=2,e.l+=e.read_shift(2)}var BRe={0:Ts,4:Ts,5:Ts,6:Ts,7:NRe,8:Ts,9:Ts,10:Ts,11:Ts,12:Ts,13:LRe,14:Ts,15:Ts,16:Ts,17:Ts,18:Ts,19:Ts,20:Ts,21:xee};function VRe(e,t){for(var n=e.l+t,i=[];e.l<n;){var r=e.read_shift(2);e.l-=2;try{i.push(BRe[r](e,n-e.l))}catch{return e.l=n,i}}return e.l!=n&&(e.l=n),i}function lT(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function M8(e,t,n){var i=1536,r=16;switch(n.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Ae(r);return o.write_shift(2,i),o.write_shift(2,t),r>4&&o.write_shift(2,29282),r>6&&o.write_shift(2,1997),r>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function HRe(e,t){return t===0||e.read_shift(2),1200}function GRe(e,t,n){if(n.enc)return e.l+=t,"";var i=e.l,r=Yg(e,0,n);return e.read_shift(t+i-e.l),r}function zRe(e,t){var n=!t||t.biff==8,i=Ae(n?112:54);for(i.write_shift(t.biff==8?2:1,7),n&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(n?0:536870912));i.l<i.length;)i.write_shift(1,n?0:32);return i}function URe(e,t,n){var i=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:i&16,fBelow:i&64,fRight:i&128}}function WRe(e,t,n){var i=e.read_shift(4),r=e.read_shift(1)&3,o=e.read_shift(1);switch(o){case 0:o="Worksheet";break;case 1:o="Macrosheet";break;case 2:o="Chartsheet";break;case 6:o="VBAModule";break}var s=Hw(e,0,n);return s.length===0&&(s="Sheet1"),{pos:i,hs:r,dt:o,name:s}}function jRe(e,t){var n=!t||t.biff>=8?2:1,i=Ae(8+n*e.name.length);i.write_shift(4,e.pos),i.write_shift(1,e.hs||0),i.write_shift(1,e.dt),i.write_shift(1,e.name.length),t.biff>=8&&i.write_shift(1,1),i.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function $Re(e,t){for(var n=e.l+t,i=e.read_shift(4),r=e.read_shift(4),o=[],s=0;s!=r&&e.l<n;++s)o.push(_Re(e));return o.Count=i,o.Unique=r,o}function qRe(e,t){var n=Ae(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var i=[],r=0;r<e.length;++r)i[r]=SRe(e[r],t);var o=Ho([n].concat(i));return o.parts=[n.length].concat(i.map(function(s){return s.length})),o}function KRe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function XRe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var i=e.read_shift(1);return e.l+=3,i&7&&(t.level=i&7),i&32&&(t.hidden=!0),i&64&&(t.hpt=n/20),t}function YRe(e){var t=kRe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function ZRe(e){return e.read_shift(2),e.read_shift(4)}function WQ(e,t,n){var i=0;n&&n.biff==2||(i=e.read_shift(2));var r=e.read_shift(2);n&&n.biff==2&&(i=1-(r>>15),r&=32767);var o={Unsynced:i&1,DyZero:(i&2)>>1,ExAsc:(i&4)>>2,ExDsc:(i&8)>>3};return[o,r]}function QRe(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[i,r],Flags:o,CurTab:s,FirstTab:a,Selected:l,TabRatio:c}}function JRe(){var e=Ae(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function eTe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var i=e.read_shift(2);return{RTL:i&64}}function tTe(e){var t=Ae(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function nTe(){}function iTe(e,t,n){var i={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return i.name=Hw(e,0,n),i}function rTe(e,t){var n=e.name||"Arial",i=t&&t.biff==5,r=i?15+n.length:16+2*n.length,o=Ae(r);return o.write_shift(2,(e.sz||12)*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),i||o.write_shift(1,1),o.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le"),o}function oTe(e){var t=Gd(e);return t.isst=e.read_shift(4),t}function sTe(e,t,n,i){var r=Ae(10);return Ug(e,t,i,r),r.write_shift(4,n),r}function aTe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var i=e.l+t,r=Gd(e,6);n.biff==2&&e.l++;var o=Gw(e,i-e.l,n);return r.val=o,r}function lTe(e,t,n,i,r){var o=!r||r.biff==8,s=Ae(8+ +o+(1+o)*n.length);return Ug(e,t,i,s),s.write_shift(2,n.length),o&&s.write_shift(1,1),s.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),s}function cTe(e,t,n){var i=e.read_shift(2),r=Yg(e,0,n);return[i,r]}function dTe(e,t,n,i){var r=n&&n.biff==5;i||(i=Ae(r?3+t.length:5+2*t.length)),i.write_shift(2,e),i.write_shift(r?1:2,t.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var o=i.length>i.l?i.slice(0,i.l):i;return o.l==null&&(o.l=o.length),o}var uTe=Yg;function jQ(e,t,n){var i=e.l+t,r=n.biff==8||!n.biff?4:2,o=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(2),l=e.read_shift(2);return e.l=i,{s:{r:o,c:a},e:{r:s,c:l}}}function hTe(e,t){var n=t.biff==8||!t.biff?4:2,i=Ae(2*n+6);return i.write_shift(n,e.s.r),i.write_shift(n,e.e.r+1),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c+1),i.write_shift(2,0),i}function fTe(e){var t=e.read_shift(2),n=e.read_shift(2),i=vee(e);return{r:t,c:n,ixfe:i[0],rknum:i[1]}}function pTe(e,t){for(var n=e.l+t-2,i=e.read_shift(2),r=e.read_shift(2),o=[];e.l<n;)o.push(vee(e));if(e.l!==n)throw new Error("MulRK read error");var s=e.read_shift(2);if(o.length!=s-r+1)throw new Error("MulRK length mismatch");return{r:i,c:r,C:s,rkrec:o}}function gTe(e,t){for(var n=e.l+t-2,i=e.read_shift(2),r=e.read_shift(2),o=[];e.l<n;)o.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var s=e.read_shift(2);if(o.length!=s-r+1)throw new Error("MulBlank length mismatch");return{r:i,c:r,C:s,ixfe:o}}function mTe(e,t,n,i){var r={},o=e.read_shift(4),s=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return r.patternType=YDe[a>>26],i.cellStyles&&(r.alc=o&7,r.fWrap=o>>3&1,r.alcV=o>>4&7,r.fJustLast=o>>7&1,r.trot=o>>8&255,r.cIndent=o>>16&15,r.fShrinkToFit=o>>20&1,r.iReadOrder=o>>22&2,r.fAtrNum=o>>26&1,r.fAtrFnt=o>>27&1,r.fAtrAlc=o>>28&1,r.fAtrBdr=o>>29&1,r.fAtrPat=o>>30&1,r.fAtrProt=o>>31&1,r.dgLeft=s&15,r.dgRight=s>>4&15,r.dgTop=s>>8&15,r.dgBottom=s>>12&15,r.icvLeft=s>>16&127,r.icvRight=s>>23&127,r.grbitDiag=s>>30&3,r.icvTop=a&127,r.icvBottom=a>>7&127,r.icvDiag=a>>14&127,r.dgDiag=a>>21&15,r.icvFore=l&127,r.icvBack=l>>7&127,r.fsxButton=l>>14&1),r}function vTe(e,t,n){var i={};return i.ifnt=e.read_shift(2),i.numFmtId=e.read_shift(2),i.flags=e.read_shift(2),i.fStyle=i.flags>>2&1,t-=6,i.data=mTe(e,t,i.fStyle,n),i}function $Q(e,t,n,i){var r=n&&n.biff==5;i||(i=Ae(r?16:20)),i.write_shift(2,0),e.style?(i.write_shift(2,e.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,e.numFmtId||0),i.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&r&&(o|=1024),i.write_shift(4,o),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function CTe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function yTe(e){var t=Ae(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function qQ(e,t,n){var i=Gd(e,6);(n.biff==2||t==9)&&++e.l;var r=wRe(e,2);return i.val=r,i.t=r===!0||r===!1?"b":"e",i}function xTe(e,t,n,i,r,o){var s=Ae(8);return Ug(e,t,i,s),fee(n,o,s),s}function bTe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var i=Gd(e,6),r=As(e,8);return i.val=r,i}function wTe(e,t,n,i){var r=Ae(14);return Ug(e,t,i,r),Gg(n,r),r}var KQ=ARe;function _Te(e,t,n){var i=e.l+t,r=e.read_shift(2),o=e.read_shift(2);if(n.sbcch=o,o==1025||o==14849)return[o,r];if(o<1||o>255)throw new Error("Unexpected SupBook type: "+o);for(var s=zg(e,o),a=[];i>e.l;)a.push(Gw(e));return[o,r,s,a]}function XQ(e,t,n){var i=e.read_shift(2),r,o={fBuiltIn:i&1,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return n.sbcch===14849&&(r=PRe(e,t-2,n)),o.body=r||e.read_shift(t-2),typeof r=="string"&&(o.Name=r),o}var STe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function YQ(e,t,n){var i=e.l+t,r=e.read_shift(2),o=e.read_shift(1),s=e.read_shift(1),a=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=zg(e,s,n);r&32&&(c=STe[c.charCodeAt(0)]);var d=i-e.l;n&&n.biff==2&&--d;var u=i==e.l||a===0||!(d>0)?[]:VAe(e,d,n,a);return{chKey:o,Name:c,itab:l,rgce:u}}function bee(e,t,n){if(n.biff<8)return ETe(e,t,n);for(var i=[],r=e.l+t,o=e.read_shift(n.biff>8?4:2);o--!==0;)i.push(MRe(e,n.biff>8?12:6,n));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return i}function ETe(e,t,n){e[e.l+1]==3&&e[e.l]++;var i=Hw(e,t,n);return i.charCodeAt(0)==3?i.slice(1):i}function DTe(e,t,n){if(n.biff<8){e.l+=t;return}var i=e.read_shift(2),r=e.read_shift(2),o=zg(e,i,n),s=zg(e,r,n);return[o,s]}function RTe(e,t,n){var i=yee(e,6);e.l++;var r=e.read_shift(1);return t-=8,[HAe(e,t,n),r,i]}function ZQ(e,t,n){var i=ORe(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[i,NAe(e,t,n,i)]}function TTe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,i=e.read_shift(4);return[t,n,i]}function ITe(e,t,n){if(!(n.biff<8)){var i=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),a=Yg(e,0,n);return n.biff<8&&e.read_shift(1),[{r:i,c:r},a,s,o]}}function FTe(e,t,n){return ITe(e,t,n)}function kTe(e,t){for(var n=[],i=e.read_shift(2);i--;)n.push(AT(e,t));return n}function ATe(e){var t=Ae(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Cee(e[n],t);return t}function MTe(e,t,n){if(n&&n.biff<8)return OTe(e,t,n);var i=xee(e,22),r=VRe(e,t-22,i[1]);return{cmo:i,ft:r}}var PTe={8:function(e,t){var n=e.l+t;e.l+=10;var i=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var r=e.read_shift(1);return e.l+=r,e.l=n,{fmt:i}}};function OTe(e,t,n){e.l+=4;var i=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((PTe[i]||Os)(e,t,n)),{cmo:[r,i,o],ft:s}}function LTe(e,t,n){var i=e.l,r="";try{e.l+=4;var o=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(o)==-1?e.l+=6:s=ERe(e,6,n);var a=e.read_shift(2);e.read_shift(2),uo(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-i!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],u=zg(e,e.lens[c+1]-e.lens[c]-1);if(r+=u,r.length>=(d?a:2*a))break}if(r.length!==a&&r.length!==a*2)throw new Error("cchText: "+a+" != "+r.length);return e.l=i+t,{t:r}}catch{return e.l=i+t,{t:r}}}function NTe(e,t){var n=AT(e,8);e.l+=16;var i=IRe(e,t-24);return[n,i]}function BTe(e){var t=Ae(24),n=wr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(i[r],16));return Ho([t,FRe(e[1])])}function VTe(e,t){e.read_shift(2);var n=AT(e,8),i=e.read_shift((t-10)/2,"dbcs-cont");return i=i.replace(Ms,""),[n,i]}function HTe(e){var t=e[1].Tooltip,n=Ae(10+2*(t.length+1));n.write_shift(2,2048);var i=wr(e[0]);n.write_shift(2,i.r),n.write_shift(2,i.r),n.write_shift(2,i.c),n.write_shift(2,i.c);for(var r=0;r<t.length;++r)n.write_shift(2,t.charCodeAt(r));return n.write_shift(2,0),n}function GTe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=OQ[n]||n,n=e.read_shift(2),t[1]=OQ[n]||n,t}function zTe(e){return e||(e=Ae(4)),e.write_shift(2,1),e.write_shift(2,1),e}function UTe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(mee(e,8));return n}function WTe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(mee(e,8));return n}function jTe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function wee(e,t,n){if(!n.cellStyles)return Os(e,t);var i=n&&n.biff>=12?4:2,r=e.read_shift(i),o=e.read_shift(i),s=e.read_shift(i),a=e.read_shift(i),l=e.read_shift(2);i==2&&(e.l+=2);var c={s:r,e:o,w:s,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function $Te(e,t){var n=Ae(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var i=0;return e.hidden&&(i|=1),n.write_shift(1,i),i=e.level||0,n.write_shift(1,i),n.write_shift(2,0),n}function qTe(e,t){var n={};return t<32||(e.l+=16,n.header=As(e,8),n.footer=As(e,8),e.l+=2),n}function KTe(e,t,n){var i={area:!1};if(n.biff!=5)return e.l+=t,i;var r=e.read_shift(1);return e.l+=3,r&16&&(i.area=!0),i}function XTe(e){for(var t=Ae(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var YTe=Gd,ZTe=hee,QTe=Gw;function JTe(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r={fmt:t,env:n,len:i,data:e.slice(e.l,e.l+i)};return e.l+=i,r}function eIe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var i=Gd(e,6);++e.l;var r=Yg(e,t-7,n);return i.t="str",i.val=r,i}function tIe(e){var t=Gd(e,6);++e.l;var n=As(e,8);return t.t="n",t.val=n,t}function nIe(e,t,n){var i=Ae(15);return jw(i,e,t),i.write_shift(8,n,"f"),i}function iIe(e){var t=Gd(e,6);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function rIe(e,t,n){var i=Ae(9);return jw(i,e,t),i.write_shift(2,n),i}function oIe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function sIe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function aIe(e,t,n){var i=e.l+t,r=Gd(e,6),o=e.read_shift(2),s=zg(e,o,n);return e.l=i,r.t="str",r.val=s,r}var lIe=[2,3,48,49,131,139,140,245],n8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=TT({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],d=Hf(1);switch(l.type){case"base64":d=sl(ll(a));break;case"binary":d=sl(a);break;case"buffer":case"array":d=a;break}ss(d,0);var u=d.read_shift(1),f=!!(u&136),p=!1,m=!1;switch(u){case 2:break;case 3:break;case 48:p=!0,f=!0;break;case 49:p=!0,f=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var v=0,C=521;u==2&&(v=d.read_shift(2)),d.l+=3,u!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),u!=2&&(C=d.read_shift(2));var y=d.read_shift(2),b=l.codepage||1252;u!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var w=[],S={},D=Math.min(d.length,u==2?521:C-10-(p?264:0)),R=m?32:11;d.l<D&&d[d.l]!=13;)switch(S={},S.name=Si.utils.decode(b,d.slice(d.l,d.l+R)).replace(/[\u0000\r\n].*$/g,""),d.l+=R,S.type=String.fromCharCode(d.read_shift(1)),u!=2&&!m&&(S.offset=d.read_shift(4)),S.len=d.read_shift(1),u==2&&(S.offset=d.read_shift(2)),S.dec=d.read_shift(1),S.name.length&&w.push(S),u!=2&&(d.l+=m?13:14),S.type){case"B":(!p||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var T=0,k=0;for(c[0]=[],k=0;k!=w.length;++k)c[0][k]=w[k].name;for(;v-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,c[++T]=[],k=0,k=0;k!=w.length;++k){var M=d.slice(d.l,d.l+w[k].len);d.l+=w[k].len,ss(M,0);var B=Si.utils.decode(b,M);switch(w[k].type){case"C":B.trim().length&&(c[T][k]=B.replace(/\s+$/,""));break;case"D":B.length===8?c[T][k]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):c[T][k]=B;break;case"F":c[T][k]=parseFloat(B.trim());break;case"+":case"I":c[T][k]=m?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":c[T][k]=!0;break;case"N":case"F":c[T][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));c[T][k]="##MEMO##"+(m?parseInt(B.trim(),10):M.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(c[T][k]=+B||0);break;case"@":c[T][k]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":c[T][k]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":c[T][k]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][k]=-M.read_shift(-8,"f");break;case"B":if(p&&w[k].len==8){c[T][k]=M.read_shift(8,"f");break}case"G":case"P":M.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(u!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function i(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=yC(n(a,c),c);return d["!cols"]=c.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete c.DBF,d}function r(a,l){try{return jf(i(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function s(a,l){var c=l||{};if(+c.codepage>=0&&Mc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=La(),u=ET(a,{header:1,raw:!0,cellDates:!0}),f=u[0],p=u.slice(1),m=a["!cols"]||[],v=0,C=0,y=0,b=1;for(v=0;v<f.length;++v){if(((m[v]||{}).DBF||{}).name){f[v]=m[v].DBF.name,++y;continue}if(f[v]!=null){if(++y,typeof f[v]=="number"&&(f[v]=f[v].toString(10)),typeof f[v]!="string")throw new Error("DBF Invalid column name "+f[v]+" |"+typeof f[v]+"|");if(f.indexOf(f[v])!==v){for(C=0;C<1024;++C)if(f.indexOf(f[v]+"_"+C)==-1){f[v]+="_"+C;break}}}}var w=ni(a["!ref"]),S=[],D=[],R=[];for(v=0;v<=w.e.c-w.s.c;++v){var T="",k="",M=0,B=[];for(C=0;C<p.length;++C)p[C][v]!=null&&B.push(p[C][v]);if(B.length==0||f[v]==null){S[v]="?";continue}for(C=0;C<B.length;++C){switch(typeof B[C]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=B[C]instanceof Date?"D":"C";break;default:k="C"}M=Math.max(M,String(B[C]).length),T=T&&T!=k?"C":k}M>250&&(M=250),k=((m[v]||{}).DBF||{}).type,k=="C"&&m[v].DBF.len>M&&(M=m[v].DBF.len),T=="B"&&k=="N"&&(T="N",R[v]=m[v].DBF.dec,M=m[v].DBF.len),D[v]=T=="C"||k=="N"?M:o[T]||0,b+=D[v],S[v]=T}var L=d.next(32);for(L.write_shift(4,318902576),L.write_shift(4,p.length),L.write_shift(2,296+32*y),L.write_shift(2,b),v=0;v<4;++v)L.write_shift(4,0);for(L.write_shift(4,0|(+t[hC]||3)<<8),v=0,C=0;v<f.length;++v)if(f[v]!=null){var V=d.next(32),ee=(f[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,ee,"sbcs"),V.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),V.write_shift(4,C),V.write_shift(1,D[v]||o[S[v]]||0),V.write_shift(1,R[v]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),C+=D[v]||o[S[v]]||0}var re=d.next(264);for(re.write_shift(4,13),v=0;v<65;++v)re.write_shift(4,0);for(v=0;v<p.length;++v){var se=d.next(b);for(se.write_shift(1,0),C=0;C<f.length;++C)if(f[C]!=null)switch(S[C]){case"L":se.write_shift(1,p[v][C]==null?63:p[v][C]?84:70);break;case"B":se.write_shift(8,p[v][C]||0,"f");break;case"N":var ge="0";for(typeof p[v][C]=="number"&&(ge=p[v][C].toFixed(R[C]||0)),y=0;y<D[C]-ge.length;++y)se.write_shift(1,32);se.write_shift(1,ge,"sbcs");break;case"D":p[v][C]?(se.write_shift(4,("0000"+p[v][C].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(p[v][C].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+p[v][C].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var fe=String(p[v][C]!=null?p[v][C]:"").slice(0,D[C]);for(se.write_shift(1,fe,"sbcs"),y=0;y<D[C]-fe.length;++y)se.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:r,to_sheet:i,from_sheet:s}}(),_ee=function(){var e={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Hr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(f,p){var m=e[p];return typeof m=="number"?lQ(m):m},i=function(f,p,m){var v=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return v==59?f:lQ(v)};e["|"]=254;function r(f,p){switch(p.type){case"base64":return o(ll(f),p);case"binary":return o(f,p);case"buffer":return o(On&&Buffer.isBuffer(f)?f.toString("binary"):Wf(f),p);case"array":return o(Hg(f),p)}throw new Error("Unrecognized type "+p.type)}function o(f,p){var m=f.split(/[\n\r]+/),v=-1,C=-1,y=0,b=0,w=[],S=[],D=null,R={},T=[],k=[],M=[],B=0,L;for(+p.codepage>=0&&Mc(+p.codepage);y!==m.length;++y){B=0;var V=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,n),ee=V.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),re=ee[0],se;if(V.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ee[1].charAt(0)=="P"&&S.push(V.slice(3).replace(/;;/g,";"));break;case"C":var ge=!1,fe=!1,Ee=!1,te=!1,oe=-1,J=-1;for(b=1;b<ee.length;++b)switch(ee[b].charAt(0)){case"A":break;case"X":C=parseInt(ee[b].slice(1))-1,fe=!0;break;case"Y":for(v=parseInt(ee[b].slice(1))-1,fe||(C=0),L=w.length;L<=v;++L)w[L]=[];break;case"K":se=ee[b].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(Oc(se))?isNaN(fC(se).getDate())||(se=ir(se)):(se=Oc(se),D!==null&&mC(D)&&(se=FT(se))),typeof Si<"u"&&typeof se=="string"&&(p||{}).type!="string"&&(p||{}).codepage&&(se=Si.utils.decode(p.codepage,se)),ge=!0;break;case"E":te=!0;var A=dC(ee[b].slice(1),{r:v,c:C});w[v][C]=[w[v][C],A];break;case"S":Ee=!0,w[v][C]=[w[v][C],"S5S"];break;case"G":break;case"R":oe=parseInt(ee[b].slice(1))-1;break;case"C":J=parseInt(ee[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+V)}if(ge&&(w[v][C]&&w[v][C].length==2?w[v][C][0]=se:w[v][C]=se,D=null),Ee){if(te)throw new Error("SYLK shared formula cannot have own formula");var ae=oe>-1&&w[oe][J];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");w[v][C][1]=Gee(ae[1],{r:v-oe,c:C-J})}break;case"F":var K=0;for(b=1;b<ee.length;++b)switch(ee[b].charAt(0)){case"X":C=parseInt(ee[b].slice(1))-1,++K;break;case"Y":for(v=parseInt(ee[b].slice(1))-1,L=w.length;L<=v;++L)w[L]=[];break;case"M":B=parseInt(ee[b].slice(1))/20;break;case"F":break;case"G":break;case"P":D=S[parseInt(ee[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=ee[b].slice(1).split(" "),L=parseInt(M[0],10);L<=parseInt(M[1],10);++L)B=parseInt(M[2],10),k[L-1]=B===0?{hidden:!0}:{wch:B},Gf(k[L-1]);break;case"C":C=parseInt(ee[b].slice(1))-1,k[C]||(k[C]={});break;case"R":v=parseInt(ee[b].slice(1))-1,T[v]||(T[v]={}),B>0?(T[v].hpt=B,T[v].hpx=gC(B)):B===0&&(T[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+V)}K<1&&(D=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+V)}}return T.length>0&&(R["!rows"]=T),k.length>0&&(R["!cols"]=k),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,R]}function s(f,p){var m=r(f,p),v=m[0],C=m[1],y=yC(v,p);return Hr(C).forEach(function(b){y[b]=C[b]}),y}function a(f,p){return jf(s(f,p),p)}function l(f,p,m,v){var C="C;Y"+(m+1)+";X"+(v+1)+";K";switch(f.t){case"n":C+=f.v||0,f.f&&!f.F&&(C+=";E"+V8(f.f,{r:m,c:v}));break;case"b":C+=f.v?"TRUE":"FALSE";break;case"e":C+=f.w||f.v;break;case"d":C+='"'+(f.w||f.v)+'"';break;case"s":C+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(f,p){p.forEach(function(m,v){var C="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?C+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Mw(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Pw(m.wpx)),typeof m.wch=="number"&&(C+=Math.round(m.wch))),C.charAt(C.length-1)!=" "&&f.push(C)})}function d(f,p){p.forEach(function(m,v){var C="F;";m.hidden?C+="M0;":m.hpt?C+="M"+20*m.hpt+";":m.hpx&&(C+="M"+20*Ow(m.hpx)+";"),C.length>2&&f.push(C+"R"+(v+1))})}function u(f,p){var m=["ID;PWXL;N;E"],v=[],C=ni(f["!ref"]),y,b=Array.isArray(f),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),f["!cols"]&&c(m,f["!cols"]),f["!rows"]&&d(m,f["!rows"]),m.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var S=C.s.r;S<=C.e.r;++S)for(var D=C.s.c;D<=C.e.c;++D){var R=Xt({r:S,c:D});y=b?(f[S]||[])[D]:f[R],!(!y||y.v==null&&(!y.f||y.F))&&v.push(l(y,f,S,D,p))}return m.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),See=function(){function e(o,s){switch(s.type){case"base64":return t(ll(o),s);case"binary":return t(o,s);case"buffer":return t(On&&Buffer.isBuffer(o)?o.toString("binary"):Wf(o),s);case"array":return t(Hg(o),s)}throw new Error("Unrecognized type "+s.type)}function t(o,s){for(var a=o.split(`
`),l=-1,c=-1,d=0,u=[];d!==a.length;++d){if(a[d].trim()==="BOT"){u[++l]=[],c=0;continue}if(!(l<0)){var f=a[d].trim().split(","),p=f[0],m=f[1];++d;for(var v=a[d]||"";(v.match(/["]/g)||[]).length&1&&d<a.length-1;)v+=`
`+a[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){u[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?u[l][c]=!0:v==="FALSE"?u[l][c]=!1:isNaN(Oc(m))?isNaN(fC(m).getDate())?u[l][c]=m:u[l][c]=ir(m):u[l][c]=Oc(m),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),hw&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),u[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(u=u.slice(0,s.sheetRows)),u}function n(o,s){return yC(e(o,s),s)}function i(o,s){return jf(n(o,s),s)}var r=function(){var o=function(l,c,d,u,f){l.push(c),l.push(d+","+u),l.push('"'+f.replace(/"/g,'""')+'"')},s=function(l,c,d,u){l.push(c+","+d),l.push(c==1?'"'+u.replace(/"/g,'""')+'"':u)};return function(l){var c=[],d=ni(l["!ref"]),u,f=Array.isArray(l);o(c,"TABLE",0,1,"sheetjs"),o(c,"VECTORS",0,d.e.r-d.s.r+1,""),o(c,"TUPLES",0,d.e.c-d.s.c+1,""),o(c,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(c,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var v=Xt({r:p,c:m});if(u=f?(l[p]||[])[m]:l[v],!u){s(c,1,0,"");continue}switch(u.t){case"n":var C=hw?u.w:u.v;!C&&u.v!=null&&(C=u.v),C==null?hw&&u.f&&!u.F?s(c,1,0,"="+u.f):s(c,1,0,""):s(c,0,C,"V");break;case"b":s(c,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":s(c,1,0,!hw||isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=Yl(u.z||Kt[14],So(ir(u.v)))),hw?s(c,0,u.w,"V"):s(c,1,0,u.w);break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:i,to_sheet:n,from_sheet:r}}(),Eee=function(){function e(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(u,f){for(var p=u.split(`
`),m=-1,v=-1,C=0,y=[];C!==p.length;++C){var b=p[C].trim().split(":");if(b[0]==="cell"){var w=wr(b[1]);if(y.length<=w.r)for(m=y.length;m<=w.r;++m)y[m]||(y[m]=[]);switch(m=w.r,v=w.c,b[2]){case"t":y[m][v]=e(b[3]);break;case"v":y[m][v]=+b[3];break;case"vtf":var S=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[m][v]=!!+b[4];break;default:y[m][v]=+b[4];break}b[2]=="vtf"&&(y[m][v]=[y[m][v],S])}}}return f&&f.sheetRows&&(y=y.slice(0,f.sheetRows)),y}function i(u,f){return yC(n(u,f),f)}function r(u,f){return jf(i(u,f),f)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(u){if(!u||!u["!ref"])return"";for(var f=[],p=[],m,v="",C=Na(u["!ref"]),y=Array.isArray(u),b=C.s.r;b<=C.e.r;++b)for(var w=C.s.c;w<=C.e.c;++w)if(v=Xt({r:b,c:w}),m=y?(u[b]||[])[w]:u[v],!(!m||m.v==null||m.t==="z")){switch(p=["cell",v,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var S=So(ir(m.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=m.w||Yl(m.z||Kt[14],S);break;case"e":continue}f.push(p.join(":"))}return f.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function d(u){return[o,s,a,s,c(u),l].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:d}}(),pC=function(){function e(d,u,f,p,m){m.raw?u[f][p]=d:d===""||(d==="TRUE"?u[f][p]=!0:d==="FALSE"?u[f][p]=!1:isNaN(Oc(d))?isNaN(fC(d).getDate())?u[f][p]=d:u[f][p]=ir(d):u[f][p]=Oc(d))}function t(d,u){var f=u||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),v=m.length-1;v>=0&&m[v].length===0;)--v;for(var C=10,y=0,b=0;b<=v;++b)y=m[b].indexOf(" "),y==-1?y=m[b].length:y++,C=Math.max(C,y);for(b=0;b<=v;++b){p[b]=[];var w=0;for(e(m[b].slice(0,C).trim(),p,b,w,f),w=1;w<=(m[b].length-C)/10+1;++w)e(m[b].slice(C+(w-1)*10,C+w*10).trim(),p,b,w,f)}return f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(d){for(var u={},f=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?f=!f:!f&&m in n&&(u[m]=(u[m]||0)+1);m=[];for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&m.push([u[p],p]);if(!m.length){u=i;for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&m.push([u[p],p])}return m.sort(function(v,C){return v[0]-C[0]||i[v[1]]-i[C[1]]}),n[m.pop()[1]]||44}function o(d,u){var f=u||{},p="";Vr!=null&&f.dense==null&&(f.dense=Vr);var m=f.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=r(d.slice(0,1024)):f&&f.FS?p=f.FS:p=r(d.slice(0,1024));var C=0,y=0,b=0,w=0,S=0,D=p.charCodeAt(0),R=!1,T=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var M=f.dateNF!=null?K2e(f.dateNF):null;function B(){var L=d.slice(w,S),V={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)V.t="z";else if(f.raw)V.t="s",V.v=L;else if(L.trim().length===0)V.t="s",V.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(V.t="s",V.v=L.slice(2,-1).replace(/""/g,'"')):_ke(L)?(V.t="n",V.f=L.slice(1)):(V.t="s",V.v=L);else if(L=="TRUE")V.t="b",V.v=!0;else if(L=="FALSE")V.t="b",V.v=!1;else if(!isNaN(b=Oc(L)))V.t="n",f.cellText!==!1&&(V.w=L),V.v=b;else if(!isNaN(fC(L).getDate())||M&&L.match(M)){V.z=f.dateNF||Kt[14];var ee=0;M&&L.match(M)&&(L=X2e(L,f.dateNF,L.match(M)||[]),ee=1),f.cellDates?(V.t="d",V.v=ir(L,ee)):(V.t="n",V.v=So(ir(L,ee))),f.cellText!==!1&&(V.w=Yl(V.z,V.v instanceof Date?So(V.v):V.v)),f.cellNF||delete V.z}else V.t="s",V.v=L;if(V.t=="z"||(f.dense?(m[C]||(m[C]=[]),m[C][y]=V):m[Xt({c:y,r:C})]=V),w=S+1,k=d.charCodeAt(w),v.e.c<y&&(v.e.c=y),v.e.r<C&&(v.e.r=C),T==D)++y;else if(y=0,++C,f.sheetRows&&f.sheetRows<=C)return!0}e:for(;S<d.length;++S)switch(T=d.charCodeAt(S)){case 34:k===34&&(R=!R);break;case D:case 10:case 13:if(!R&&B())break e;break;default:break}return S-w>0&&B(),m["!ref"]=yn(v),m}function s(d,u){return!(u&&u.PRN)||u.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?o(d,u):yC(t(d,u),u)}function a(d,u){var f="",p=u.type=="string"?[0,0,0,0]:q8(d,u);switch(u.type){case"base64":f=ll(d);break;case"binary":f=d;break;case"buffer":u.codepage==65001?f=d.toString("utf8"):u.codepage&&typeof Si<"u"?f=Si.utils.decode(u.codepage,d):f=On&&Buffer.isBuffer(d)?d.toString("binary"):Wf(d);break;case"array":f=Hg(d);break;case"string":f=d;break;default:throw new Error("Unrecognized type "+u.type)}return p[0]==239&&p[1]==187&&p[2]==191?f=Ni(f.slice(3)):u.type!="string"&&u.type!="buffer"&&u.codepage==65001?f=Ni(f):u.type=="binary"&&typeof Si<"u"&&u.codepage&&(f=Si.utils.decode(u.codepage,Si.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?Eee.to_sheet(u.type=="string"?f:Ni(f),u):s(f,u)}function l(d,u){return jf(a(d,u),u)}function c(d){for(var u=[],f=ni(d["!ref"]),p,m=Array.isArray(d),v=f.s.r;v<=f.e.r;++v){for(var C=[],y=f.s.c;y<=f.e.c;++y){var b=Xt({r:v,c:y});if(p=m?(d[v]||[])[y]:d[b],!p||p.v==null){C.push("          ");continue}for(var w=(p.w||(ah(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";C.push(w+(y===0?" ":""))}u.push(C.join(""))}return u.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function cIe(e,t){var n=t||{},i=!!n.WTF;n.WTF=!0;try{var r=_ee.to_workbook(e,n);return n.WTF=i,r}catch(o){if(n.WTF=i,!o.message.match(/SYLK bad record ID/)&&i)throw o;return pC.to_workbook(e,t)}}var Ng=function(){function e(A,ae,K){if(A){ss(A,A.l||0);for(var Q=K.Enum||oe;A.l<A.length;){var ce=A.read_shift(2),Me=Q[ce]||Q[65535],ze=A.read_shift(2),Ve=A.l+ze,ye=Me.f&&Me.f(A,ze,K);if(A.l=Ve,ae(ye,Me,ce))return}}}function t(A,ae){switch(ae.type){case"base64":return n(sl(ll(A)),ae);case"binary":return n(sl(A),ae);case"buffer":case"array":return n(A,ae)}throw"Unsupported type "+ae.type}function n(A,ae){if(!A)return A;var K=ae||{};Vr!=null&&K.dense==null&&(K.dense=Vr);var Q=K.dense?[]:{},ce="Sheet1",Me="",ze=0,Ve={},ye=[],vt=[],q={s:{r:0,c:0},e:{r:0,c:0}},Vt=K.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)K.Enum=oe,e(A,function(Ze,gt,Ht){switch(Ht){case 0:K.vers=Ze,Ze>=4096&&(K.qpro=!0);break;case 6:q=Ze;break;case 204:Ze&&(Me=Ze);break;case 222:Me=Ze;break;case 15:case 51:K.qpro||(Ze[1].v=Ze[1].v.slice(1));case 13:case 14:case 16:Ht==14&&(Ze[2]&112)==112&&(Ze[2]&15)>1&&(Ze[2]&15)<15&&(Ze[1].z=K.dateNF||Kt[14],K.cellDates&&(Ze[1].t="d",Ze[1].v=FT(Ze[1].v))),K.qpro&&Ze[3]>ze&&(Q["!ref"]=yn(q),Ve[ce]=Q,ye.push(ce),Q=K.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},ze=Ze[3],ce=Me||"Sheet"+(ze+1),Me="");var xn=K.dense?(Q[Ze[0].r]||[])[Ze[0].c]:Q[Xt(Ze[0])];if(xn){xn.t=Ze[1].t,xn.v=Ze[1].v,Ze[1].z!=null&&(xn.z=Ze[1].z),Ze[1].f!=null&&(xn.f=Ze[1].f);break}K.dense?(Q[Ze[0].r]||(Q[Ze[0].r]=[]),Q[Ze[0].r][Ze[0].c]=Ze[1]):Q[Xt(Ze[0])]=Ze[1];break;default:}},K);else if(A[2]==26||A[2]==14)K.Enum=J,A[2]==14&&(K.qpro=!0,A.l=0),e(A,function(Ze,gt,Ht){switch(Ht){case 204:ce=Ze;break;case 22:Ze[1].v=Ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ze[3]>ze&&(Q["!ref"]=yn(q),Ve[ce]=Q,ye.push(ce),Q=K.dense?[]:{},q={s:{r:0,c:0},e:{r:0,c:0}},ze=Ze[3],ce="Sheet"+(ze+1)),Vt>0&&Ze[0].r>=Vt)break;K.dense?(Q[Ze[0].r]||(Q[Ze[0].r]=[]),Q[Ze[0].r][Ze[0].c]=Ze[1]):Q[Xt(Ze[0])]=Ze[1],q.e.c<Ze[0].c&&(q.e.c=Ze[0].c),q.e.r<Ze[0].r&&(q.e.r=Ze[0].r);break;case 27:Ze[14e3]&&(vt[Ze[14e3][0]]=Ze[14e3][1]);break;case 1537:vt[Ze[0]]=Ze[1],Ze[0]==ze&&(ce=Ze[1]);break;default:break}},K);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(Q["!ref"]=yn(q),Ve[Me||ce]=Q,ye.push(Me||ce),!vt.length)return{SheetNames:ye,Sheets:Ve};for(var St={},_t=[],wt=0;wt<vt.length;++wt)Ve[ye[wt]]?(_t.push(vt[wt]||ye[wt]),St[vt[wt]]=Ve[vt[wt]]||Ve[ye[wt]]):(_t.push(vt[wt]),St[vt[wt]]={"!ref":"A1"});return{SheetNames:_t,Sheets:St}}function i(A,ae){var K=ae||{};if(+K.codepage>=0&&Mc(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=La(),ce=ni(A["!ref"]),Me=Array.isArray(A),ze=[];ot(Q,0,o(1030)),ot(Q,6,l(ce));for(var Ve=Math.min(ce.e.r,8191),ye=ce.s.r;ye<=Ve;++ye)for(var vt=Jr(ye),q=ce.s.c;q<=ce.e.c;++q){ye===ce.s.r&&(ze[q]=br(q));var Vt=ze[q]+vt,St=Me?(A[ye]||[])[q]:A[Vt];if(!(!St||St.t=="z"))if(St.t=="n")(St.v|0)==St.v&&St.v>=-32768&&St.v<=32767?ot(Q,13,p(ye,q,St.v)):ot(Q,14,v(ye,q,St.v));else{var _t=ah(St);ot(Q,15,u(ye,q,_t.slice(0,239)))}}return ot(Q,1),Q.end()}function r(A,ae){var K=ae||{};if(+K.codepage>=0&&Mc(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=La();ot(Q,0,s(A));for(var ce=0,Me=0;ce<A.SheetNames.length;++ce)(A.Sheets[A.SheetNames[ce]]||{})["!ref"]&&ot(Q,27,te(A.SheetNames[ce],Me++));var ze=0;for(ce=0;ce<A.SheetNames.length;++ce){var Ve=A.Sheets[A.SheetNames[ce]];if(!(!Ve||!Ve["!ref"])){for(var ye=ni(Ve["!ref"]),vt=Array.isArray(Ve),q=[],Vt=Math.min(ye.e.r,8191),St=ye.s.r;St<=Vt;++St)for(var _t=Jr(St),wt=ye.s.c;wt<=ye.e.c;++wt){St===ye.s.r&&(q[wt]=br(wt));var Ze=q[wt]+_t,gt=vt?(Ve[St]||[])[wt]:Ve[Ze];if(!(!gt||gt.t=="z"))if(gt.t=="n")ot(Q,23,B(St,wt,ze,gt.v));else{var Ht=ah(gt);ot(Q,22,T(St,wt,ze,Ht.slice(0,239)))}}++ze}}return ot(Q,1),Q.end()}function o(A){var ae=Ae(2);return ae.write_shift(2,A),ae}function s(A){var ae=Ae(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var K=0,Q=0,ce=0,Me=0;Me<A.SheetNames.length;++Me){var ze=A.SheetNames[Me],Ve=A.Sheets[ze];if(!(!Ve||!Ve["!ref"])){++ce;var ye=Na(Ve["!ref"]);K<ye.e.r&&(K=ye.e.r),Q<ye.e.c&&(Q=ye.e.c)}}return K>8191&&(K=8191),ae.write_shift(2,K),ae.write_shift(1,ce),ae.write_shift(1,Q),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}function a(A,ae,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return ae==8&&K.qpro?(Q.s.c=A.read_shift(1),A.l++,Q.s.r=A.read_shift(2),Q.e.c=A.read_shift(1),A.l++,Q.e.r=A.read_shift(2),Q):(Q.s.c=A.read_shift(2),Q.s.r=A.read_shift(2),ae==12&&K.qpro&&(A.l+=2),Q.e.c=A.read_shift(2),Q.e.r=A.read_shift(2),ae==12&&K.qpro&&(A.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(A){var ae=Ae(8);return ae.write_shift(2,A.s.c),ae.write_shift(2,A.s.r),ae.write_shift(2,A.e.c),ae.write_shift(2,A.e.r),ae}function c(A,ae,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=A.read_shift(1),Q[3]=A.read_shift(1),Q[0].r=A.read_shift(2),A.l+=2):(Q[2]=A.read_shift(1),Q[0].c=A.read_shift(2),Q[0].r=A.read_shift(2)),Q}function d(A,ae,K){var Q=A.l+ae,ce=c(A,ae,K);if(ce[1].t="s",K.vers==20768){A.l++;var Me=A.read_shift(1);return ce[1].v=A.read_shift(Me,"utf8"),ce}return K.qpro&&A.l++,ce[1].v=A.read_shift(Q-A.l,"cstr"),ce}function u(A,ae,K){var Q=Ae(7+K.length);Q.write_shift(1,255),Q.write_shift(2,ae),Q.write_shift(2,A),Q.write_shift(1,39);for(var ce=0;ce<Q.length;++ce){var Me=K.charCodeAt(ce);Q.write_shift(1,Me>=128?95:Me)}return Q.write_shift(1,0),Q}function f(A,ae,K){var Q=c(A,ae,K);return Q[1].v=A.read_shift(2,"i"),Q}function p(A,ae,K){var Q=Ae(7);return Q.write_shift(1,255),Q.write_shift(2,ae),Q.write_shift(2,A),Q.write_shift(2,K,"i"),Q}function m(A,ae,K){var Q=c(A,ae,K);return Q[1].v=A.read_shift(8,"f"),Q}function v(A,ae,K){var Q=Ae(13);return Q.write_shift(1,255),Q.write_shift(2,ae),Q.write_shift(2,A),Q.write_shift(8,K,"f"),Q}function C(A,ae,K){var Q=A.l+ae,ce=c(A,ae,K);if(ce[1].v=A.read_shift(8,"f"),K.qpro)A.l=Q;else{var Me=A.read_shift(2);S(A.slice(A.l,A.l+Me),ce),A.l+=Me}return ce}function y(A,ae,K){var Q=ae&32768;return ae&=-32769,ae=(Q?A:0)+(ae>=8192?ae-16384:ae),(Q?"":"$")+(K?br(ae):Jr(ae))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(A,ae){ss(A,0);for(var K=[],Q=0,ce="",Me="",ze="",Ve="";A.l<A.length;){var ye=A[A.l++];switch(ye){case 0:K.push(A.read_shift(8,"f"));break;case 1:Me=y(ae[0].c,A.read_shift(2),!0),ce=y(ae[0].r,A.read_shift(2),!1),K.push(Me+ce);break;case 2:{var vt=y(ae[0].c,A.read_shift(2),!0),q=y(ae[0].r,A.read_shift(2),!1);Me=y(ae[0].c,A.read_shift(2),!0),ce=y(ae[0].r,A.read_shift(2),!1),K.push(vt+q+":"+Me+ce)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(A.read_shift(2));break;case 6:{for(var Vt="";ye=A[A.l++];)Vt+=String.fromCharCode(ye);K.push('"'+Vt.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:Ve=K.pop(),ze=K.pop(),K.push(["AND","OR"][ye-20]+"("+ze+","+Ve+")");break;default:if(ye<32&&w[ye])Ve=K.pop(),ze=K.pop(),K.push(ze+w[ye]+Ve);else if(b[ye]){if(Q=b[ye][1],Q==69&&(Q=A[A.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+K.join("|")+"|");return}var St=K.slice(-Q);K.length-=Q,K.push(b[ye][0]+"("+St.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}K.length==1?ae[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function D(A){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=A.read_shift(2),ae[3]=A[A.l++],ae[0].c=A[A.l++],ae}function R(A,ae){var K=D(A,ae);return K[1].t="s",K[1].v=A.read_shift(ae-4,"cstr"),K}function T(A,ae,K,Q){var ce=Ae(6+Q.length);ce.write_shift(2,A),ce.write_shift(1,K),ce.write_shift(1,ae),ce.write_shift(1,39);for(var Me=0;Me<Q.length;++Me){var ze=Q.charCodeAt(Me);ce.write_shift(1,ze>=128?95:ze)}return ce.write_shift(1,0),ce}function k(A,ae){var K=D(A,ae);K[1].v=A.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function M(A,ae){var K=D(A,ae),Q=A.read_shift(4),ce=A.read_shift(4),Me=A.read_shift(2);if(Me==65535)return Q===0&&ce===3221225472?(K[1].t="e",K[1].v=15):Q===0&&ce===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ze=Me&32768;return Me=(Me&32767)-16446,K[1].v=(1-ze*2)*(ce*Math.pow(2,Me+32)+Q*Math.pow(2,Me)),K}function B(A,ae,K,Q){var ce=Ae(14);if(ce.write_shift(2,A),ce.write_shift(1,K),ce.write_shift(1,ae),Q==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var Me=0,ze=0,Ve=0,ye=0;return Q<0&&(Me=1,Q=-Q),ze=Math.log2(Q)|0,Q/=Math.pow(2,ze-31),ye=Q>>>0,(ye&2147483648)==0&&(Q/=2,++ze,ye=Q>>>0),Q-=ye,ye|=2147483648,ye>>>=0,Q*=Math.pow(2,32),Ve=Q>>>0,ce.write_shift(4,Ve),ce.write_shift(4,ye),ze+=16383+(Me?32768:0),ce.write_shift(2,ze),ce}function L(A,ae){var K=M(A,14);return A.l+=ae-14,K}function V(A,ae){var K=D(A,ae),Q=A.read_shift(4);return K[1].v=Q>>6,K}function ee(A,ae){var K=D(A,ae),Q=A.read_shift(8,"f");return K[1].v=Q,K}function re(A,ae){var K=ee(A,14);return A.l+=ae-10,K}function se(A,ae){return A[A.l+ae-1]==0?A.read_shift(ae,"cstr"):""}function ge(A,ae){var K=A[A.l++];K>ae-1&&(K=ae-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(A[A.l++]);return Q}function fe(A,ae,K){if(!(!K.qpro||ae<21)){var Q=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var ce=A.read_shift(ae-21,"cstr");return[Q,ce]}}function Ee(A,ae){for(var K={},Q=A.l+ae;A.l<Q;){var ce=A.read_shift(2);if(ce==14e3){for(K[ce]=[0,""],K[ce][0]=A.read_shift(2);A[A.l];)K[ce][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return K}function te(A,ae){var K=Ae(5+A.length);K.write_shift(2,14e3),K.write_shift(2,ae);for(var Q=0;Q<A.length;++Q){var ce=A.charCodeAt(Q);K[K.l++]=ce>127?95:ce}return K[K.l++]=0,K}var oe={0:{n:"BOF",f:uo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:ge},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:ee},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:fe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:t}}();function dIe(e){var t={},n=e.match(Ls),i=0,r=!1;if(n)for(;i!=n.length;++i){var o=Jt(n[i]);switch(o[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!o.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(o.val=="1")break;t.cp=s8[parseInt(o.val,10)];break;case"<outline":if(!o.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=o.val;break;case"<sz":t.sz=o.val;break;case"<strike":if(!o.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!o.val)break;switch(o.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(o.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(o.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":o.rgb&&(t.color=o.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=o.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=o.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(o[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+o[0])}}return t}var uIe=function(){var e=Tw("t"),t=Tw("rPr");function n(o){var s=o.match(e);if(!s)return{t:"s",v:""};var a={t:"s",v:ti(s[1])},l=o.match(t);return l&&(a.s=dIe(l[1])),a}var i=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(s){return s.replace(i,"").split(r).map(n).filter(function(a){return a.v})}}(),hIe=function(){var t=/(\r\n|\n)/g;function n(r,o,s){var a=[];r.u&&a.push("text-decoration: underline;"),r.uval&&a.push("text-underline-style:"+r.uval+";"),r.sz&&a.push("font-size:"+r.sz+"pt;"),r.outline&&a.push("text-effect: outline;"),r.shadow&&a.push("text-shadow: auto;"),o.push('<span style="'+a.join("")+'">'),r.b&&(o.push("<b>"),s.push("</b>")),r.i&&(o.push("<i>"),s.push("</i>")),r.strike&&(o.push("<s>"),s.push("</s>"));var l=r.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(o.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),r}function i(r){var o=[[],r.v,[]];return r.v?(r.s&&n(r.s,o[0],o[2]),o[0].join("")+o[1].replace(t,"<br/>")+o[2].join("")):""}return function(o){return o.map(i).join("")}}(),fIe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,pIe=/<(?:\w+:)?r>/,gIe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function P8(e,t){var n=t?t.cellHTML:!0,i={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=ti(Ni(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=Ni(e),n&&(i.h=m8(i.t))):e.match(pIe)&&(i.r=Ni(e),i.t=ti(Ni((e.replace(gIe,"").match(fIe)||[]).join("").replace(Ls,""))),n&&(i.h=hIe(uIe(i.r)))),i):{t:""}}var mIe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,vIe=/<(?:\w+:)?(?:si|sstItem)>/g,CIe=/<\/(?:\w+:)?(?:si|sstItem)>/;function yIe(e,t){var n=[],i="";if(!e)return n;var r=e.match(mIe);if(r){i=r[2].replace(vIe,"").split(CIe);for(var o=0;o!=i.length;++o){var s=P8(i[o].trim(),t);s!=null&&(n[n.length]=s)}r=Jt(r[1]),n.Count=r.count,n.Unique=r.uniqueCount}return n}var xIe=/^\s|\s$|[\t\n\r]/;function Dee(e,t){if(!t.bookSST)return"";var n=[eo];n[n.length]=rt("sst",null,{xmlns:jg[0],count:e.Count,uniqueCount:e.Unique});for(var i=0;i!=e.length;++i)if(e[i]!=null){var r=e[i],o="<si>";r.r?o+=r.r:(o+="<t",r.t||(r.t=""),r.t.match(xIe)&&(o+=' xml:space="preserve"'),o+=">"+Mi(r.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function bIe(e){return[e.read_shift(4),e.read_shift(4)]}function wIe(e,t){var n=[],i=!1;return ch(e,function(o,s,a){switch(a){case 159:n.Count=o[0],n.Unique=o[1];break;case 19:n.push(o);break;case 160:return!0;case 35:i=!0;break;case 36:i=!1;break;default:if(s.T,!i||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function _Ie(e,t){return t||(t=Ae(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var SIe=PDe;function EIe(e){var t=La();je(t,159,_Ie(e));for(var n=0;n<e.length;++n)je(t,19,SIe(e[n]));return je(t,160),t.end()}function Ree(e){if(typeof Si<"u")return Si.utils.encode(hC,e);for(var t=[],n=e.split(""),i=0;i<n.length;++i)t[i]=n[i].charCodeAt(0);return t}function sh(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function DIe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=sh(e,4),t.U=sh(e,4),t.W=sh(e,4),t}function RIe(e){for(var t=e.read_shift(4),n=e.l+t-4,i={},r=e.read_shift(4),o=[];r-- >0;)o.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(i.name=e.read_shift(0,"lpp4"),i.comps=o,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return i}function TIe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(RIe(e));return t}function IIe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function FIe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=sh(e,4),t.U=sh(e,4),t.W=sh(e,4),t}function kIe(e){var t=FIe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Tee(e,t){var n=e.l+t,i={};i.Flags=e.read_shift(4)&63,e.l+=4,i.AlgID=e.read_shift(4);var r=!1;switch(i.AlgID){case 26126:case 26127:case 26128:r=i.Flags==36;break;case 26625:r=i.Flags==4;break;case 0:r=i.Flags==16||i.Flags==4||i.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=e.read_shift(4),i.KeySize=e.read_shift(4),i.ProviderType=e.read_shift(4),e.l+=8,i.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,i}function Iee(e,t){var n={},i=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,i),e.l=i,n}function AIe(e){var t=sh(e);switch(t.Minor){case 2:return[t.Minor,MIe(e,t)];case 3:return[t.Minor,PIe(e,t)];case 4:return[t.Minor,OIe(e,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function MIe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),i=Tee(e,n),r=Iee(e,e.length-e.l);return{t:"Std",h:i,v:r}}function PIe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function OIe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),i={};return n.replace(Ls,function(o){var s=Jt(o);switch(Hd(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){i[a]=s[a]});break;case"<dataIntegrity":i.encryptedHmacKey=s.encryptedHmacKey,i.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":i.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":i.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":i.encs.push(s);break;default:throw s[0]}}),i}function LIe(e,t){var n={},i=n.EncryptionVersionInfo=sh(e,4);if(t-=4,i.Minor!=2)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);n.Flags=e.read_shift(4),t-=4;var r=e.read_shift(4);return t-=4,n.EncryptionHeader=Tee(e,r),t-=r,n.EncryptionVerifier=Iee(e,t),n}function NIe(e){var t={},n=t.EncryptionVersionInfo=sh(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function O8(e){var t=0,n,i=Ree(e),r=i.length+1,o,s,a,l,c;for(n=Hf(r),n[0]=i.length,o=1;o!=r;++o)n[o]=i[o-1];for(o=r-1;o>=0;--o)s=n[o],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^s;return t^52811}var Fee=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(s){return(s/2|s*128)&255},r=function(s,a){return i(s^a)},o=function(s){for(var a=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var d=s[c],u=0;u!=7;++u)d&64&&(a^=n[l]),d*=2,--l;return a};return function(s){for(var a=Ree(s),l=o(a),c=a.length,d=Hf(16),u=0;u!=16;++u)d[u]=0;var f,p,m;for((c&1)===1&&(f=l>>8,d[c]=r(e[0],f),--c,f=l&255,p=a[a.length-1],d[c]=r(p,f));c>0;)--c,f=l>>8,d[c]=r(a[c],f),--c,f=l&255,d[c]=r(a[c],f);for(c=15,m=15-a.length;m>0;)f=l>>8,d[c]=r(e[m],f),--c,--m,f=l&255,d[c]=r(a[c],f),--c,--m;return d}}(),BIe=function(e,t,n,i,r){r||(r=t),i||(i=Fee(e));var o,s;for(o=0;o!=t.length;++o)s=t[o],s^=i[n],s=(s>>5|s<<3)&255,r[o]=s,++n;return[r,n,i]},VIe=function(e){var t=0,n=Fee(e);return function(i){var r=BIe("",i,t,n);return t=r[1],r[0]}};function HIe(e,t,n,i){var r={key:uo(e),verificationBytes:uo(e)};return n.password&&(r.verifier=O8(n.password)),i.valid=r.verificationBytes===r.verifier,i.valid&&(i.insitu=VIe(n.password)),r}function GIe(e,t,n){var i=n||{};return i.Info=e.read_shift(2),e.l-=2,i.Info===1?i.Data=NIe(e,t):i.Data=LIe(e,t),i}function zIe(e,t,n){var i={Type:n.biff>=8?e.read_shift(2):0};return i.Type?GIe(e,t-2,i):HIe(e,n.biff>=8?t:t-2,n,i),i}var kee=function(){function e(r,o){switch(o.type){case"base64":return t(ll(r),o);case"binary":return t(r,o);case"buffer":return t(On&&Buffer.isBuffer(r)?r.toString("binary"):Wf(r),o);case"array":return t(Hg(r),o)}throw new Error("Unrecognized type "+o.type)}function t(r,o){var s=o||{},a=s.dense?[]:{},l=r.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,u){Array.isArray(a)&&(a[u]=[]);for(var f=/\\\w+\b/g,p=0,m,v=-1;m=f.exec(d);){switch(m[0]){case"\\cell":var C=d.slice(p,f.lastIndex-m[0].length);if(C[0]==" "&&(C=C.slice(1)),++v,C.length){var y={v:C,t:"s"};Array.isArray(a)?a[u][v]=y:a[Xt({r:u,c:v})]=y}break}p=f.lastIndex}v>c.e.c&&(c.e.c=v)}),a["!ref"]=yn(c),a}function n(r,o){return jf(e(r,o),o)}function i(r){for(var o=["{\\rtf1\\ansi"],s=ni(r["!ref"]),a,l=Array.isArray(r),c=s.s.r;c<=s.e.r;++c){o.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)o.push("\\cellx"+(d+1));for(o.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var u=Xt({r:c,c:d});a=l?(r[c]||[])[d]:r[u],!(!a||a.v==null&&(!a.f||a.F))&&(o.push(" "+(a.w||(ah(a),a.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:i}}();function UIe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Aw(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function WIe(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=r-o;if(s===0)return[0,0,t];var a=0,l=0,c=r+o;switch(l=s/(c>1?2-c:c),r){case t:a=((n-i)/s+6)%6;break;case n:a=(i-t)/s+2;break;case i:a=(t-n)/s+4;break}return[a/6,l,c/2]}function jIe(e){var t=e[0],n=e[1],i=e[2],r=n*2*(i<.5?i:1-i),o=i-r/2,s=[o,o,o],a=6*t,l;if(n!==0)switch(a|0){case 0:case 6:l=r*a,s[0]+=r,s[1]+=l;break;case 1:l=r*(2-a),s[0]+=l,s[1]+=r;break;case 2:l=r*(a-2),s[1]+=r,s[2]+=l;break;case 3:l=r*(4-a),s[1]+=l,s[2]+=r;break;case 4:l=r*(a-4),s[2]+=r,s[0]+=l;break;case 5:l=r*(6-a),s[2]+=l,s[0]+=r;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function wT(e,t){if(t===0)return e;var n=WIe(UIe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Aw(jIe(n))}var Aee=6,$Ie=15,qIe=1,ks=Aee;function Mw(e){return Math.floor((e+Math.round(128/ks)/256)*ks)}function Pw(e){return Math.floor((e-5)/ks*100+.5)/100}function _T(e){return Math.round((e*ks+5)/ks*256)/256}function V6(e){return _T(Pw(Mw(e)))}function L8(e){var t=Math.abs(e-V6(e)),n=ks;if(t>.005)for(ks=qIe;ks<$Ie;++ks)Math.abs(e-V6(e))<=t&&(t=Math.abs(e-V6(e)),n=ks);ks=n}function Gf(e){e.width?(e.wpx=Mw(e.width),e.wch=Pw(e.wpx),e.MDW=ks):e.wpx?(e.wch=Pw(e.wpx),e.width=_T(e.wch),e.MDW=ks):typeof e.wch=="number"&&(e.width=_T(e.wch),e.wpx=Mw(e.width),e.MDW=ks),e.customWidth&&delete e.customWidth}var KIe=96,Mee=KIe;function Ow(e){return e*96/Mee}function gC(e){return e*Mee/96}var XIe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function YIe(e,t,n,i){t.Borders=[];var r={},o=!1;(e[0].match(Ls)||[]).forEach(function(s){var a=Jt(s);switch(Hd(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},a.diagonalUp&&(r.diagonalUp=nr(a.diagonalUp)),a.diagonalDown&&(r.diagonalDown=nr(a.diagonalDown)),t.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(i&&i.WTF&&!o)throw new Error("unrecognized "+a[0]+" in borders")}})}function ZIe(e,t,n,i){t.Fills=[];var r={},o=!1;(e[0].match(Ls)||[]).forEach(function(s){var a=Jt(s);switch(Hd(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},t.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":a.patternType&&(r.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),a.indexed&&(r.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(r.bgColor.theme=parseInt(a.theme,10)),a.tint&&(r.bgColor.tint=parseFloat(a.tint)),a.rgb&&(r.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),a.theme&&(r.fgColor.theme=parseInt(a.theme,10)),a.tint&&(r.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(r.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(i&&i.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fills")}})}function QIe(e,t,n,i){t.Fonts=[];var r={},o=!1;(e[0].match(Ls)||[]).forEach(function(s){var a=Jt(s);switch(Hd(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(r),r={};break;case"<name":a.val&&(r.name=Ni(a.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=a.val?nr(a.val):1;break;case"<b/>":r.bold=1;break;case"<i":r.italic=a.val?nr(a.val):1;break;case"<i/>":r.italic=1;break;case"<u":switch(a.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"<strike":r.strike=a.val?nr(a.val):1;break;case"<strike/>":r.strike=1;break;case"<outline":r.outline=a.val?nr(a.val):1;break;case"<outline/>":r.outline=1;break;case"<shadow":r.shadow=a.val?nr(a.val):1;break;case"<shadow/>":r.shadow=1;break;case"<condense":r.condense=a.val?nr(a.val):1;break;case"<condense/>":r.condense=1;break;case"<extend":r.extend=a.val?nr(a.val):1;break;case"<extend/>":r.extend=1;break;case"<sz":a.val&&(r.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(r.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(r.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(r.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=s8[parseInt(a.val,10)];break;case"<color":if(r.color||(r.color={}),a.auto&&(r.color.auto=nr(a.auto)),a.rgb)r.color.rgb=a.rgb.slice(-6);else if(a.indexed){r.color.index=parseInt(a.indexed,10);var l=Og[r.color.index];r.color.index==81&&(l=Og[1]),l||(l=Og[1]),r.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(r.color.theme=parseInt(a.theme,10),a.tint&&(r.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(r.color.rgb=wT(n.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":o=!0;break;case"</AlternateContent>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(i&&i.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fonts")}})}function JIe(e,t,n){t.NumberFmt=[];for(var i=Hr(Kt),r=0;r<i.length;++r)t.NumberFmt[i[r]]=Kt[i[r]];var o=e[0].match(Ls);if(o)for(r=0;r<o.length;++r){var s=Jt(o[r]);switch(Hd(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=ti(Ni(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}oh(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function eFe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&(t[t.length]=rt("numFmt",null,{numFmtId:i,formatCode:Mi(e[i])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=rt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var cT=["numFmtId","fillId","fontId","borderId","xfId"],dT=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function tFe(e,t,n){t.CellXf=[];var i,r=!1;(e[0].match(Ls)||[]).forEach(function(o){var s=Jt(o),a=0;switch(Hd(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(i=s,delete i[0],a=0;a<cT.length;++a)i[cT[a]]&&(i[cT[a]]=parseInt(i[cT[a]],10));for(a=0;a<dT.length;++a)i[dT[a]]&&(i[dT[a]]=nr(i[dT[a]]));if(t.NumberFmt&&i.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[i.numFmtId]==t.NumberFmt[a]){i.numFmtId=a;break}}t.CellXf.push(i);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=nr(s.wrapText)),i.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(n&&n.WTF&&!r)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function nFe(e){var t=[];return t[t.length]=rt("cellXfs",null),e.forEach(function(n){t[t.length]=rt("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=rt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var iFe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,i=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,o=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var d={};if(!a)return d;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var u;return(u=a.match(t))&&JIe(u,d,c),(u=a.match(r))&&QIe(u,d,l,c),(u=a.match(i))&&ZIe(u,d,l,c),(u=a.match(o))&&YIe(u,d,l,c),(u=a.match(n))&&tFe(u,d,c),d}}();function Pee(e,t){var n=[eo,rt("styleSheet",null,{xmlns:jg[0],"xmlns:vt":_o.vt})],i;return e.SSF&&(i=eFe(e.SSF))!=null&&(n[n.length]=i),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=nFe(t.cellXfs))&&(n[n.length]=i),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function rFe(e,t){var n=e.read_shift(2),i=Ps(e,t-2);return[n,i]}function oFe(e,t,n){n||(n=Ae(6+4*t.length)),n.write_shift(2,e),Go(t,n);var i=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),i}function sFe(e,t,n){var i={};i.sz=e.read_shift(2)/20;var r=GDe(e,2,n);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var o=e.read_shift(2);switch(o===700&&(i.bold=1),e.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(i.underline=s);var a=e.read_shift(1);a>0&&(i.family=a);var l=e.read_shift(1);switch(l>0&&(i.charset=l),e.l++,i.color=HDe(e,8),e.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Ps(e,t-21),i}function aFe(e,t){t||(t=Ae(25+4*32)),t.write_shift(2,e.sz*20),zDe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),yT(e.color,t);var i=0;return e.scheme=="major"&&(i=1),e.scheme=="minor"&&(i=2),t.write_shift(1,i),Go(e.name,t),t.length>t.l?t.slice(0,t.l):t}var lFe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],H6,cFe=Os;function QQ(e,t){t||(t=Ae(4*3+8*7+16*1)),H6||(H6=TT(lFe));var n=H6[e.patternType];n==null&&(n=40),t.write_shift(4,n);var i=0;if(n!=40)for(yT({auto:1},t),yT({auto:1},t);i<12;++i)t.write_shift(4,0);else{for(;i<4;++i)t.write_shift(4,0);for(;i<12;++i)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function dFe(e,t){var n=e.l+t,i=e.read_shift(2),r=e.read_shift(2);return e.l=n,{ixfe:i,numFmtId:r}}function Oee(e,t,n){n||(n=Ae(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var i=0;return n.write_shift(1,i),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function fw(e,t){return t||(t=Ae(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var uFe=Os;function hFe(e,t){return t||(t=Ae(51)),t.write_shift(1,0),fw(null,t),fw(null,t),fw(null,t),fw(null,t),fw(null,t),t.length>t.l?t.slice(0,t.l):t}function fFe(e,t){return t||(t=Ae(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),CT(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function pFe(e,t,n){var i=Ae(2052);return i.write_shift(4,e),CT(t,i),CT(n,i),i.length>i.l?i.slice(0,i.l):i}function gFe(e,t,n){var i={};i.NumberFmt=[];for(var r in Kt)i.NumberFmt[r]=Kt[r];i.CellXf=[],i.Fonts=[];var o=[],s=!1;return ch(e,function(l,c,d){switch(d){case 44:i.NumberFmt[l[0]]=l[1],oh(l[1],l[0]);break;case 43:i.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=wT(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:o[o.length-1]==617&&i.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(d),s=!0;break;case 38:o.pop(),s=!1;break;default:if(c.T>0)o.push(d);else if(c.T<0)o.pop();else if(!s||n.WTF&&o[o.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),i}function mFe(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&++n}),n!=0&&(je(e,615,Lc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&je(e,44,oFe(r,t[r]))}),je(e,616))}}function vFe(e){var t=1;t!=0&&(je(e,611,Lc(t)),je(e,43,aFe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),je(e,612))}function CFe(e){var t=2;t!=0&&(je(e,603,Lc(t)),je(e,45,QQ({patternType:"none"})),je(e,45,QQ({patternType:"gray125"})),je(e,604))}function yFe(e){var t=1;t!=0&&(je(e,613,Lc(t)),je(e,46,hFe({})),je(e,614))}function xFe(e){var t=1;je(e,626,Lc(t)),je(e,47,Oee({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),je(e,627)}function bFe(e,t){je(e,617,Lc(t.length)),t.forEach(function(n){je(e,47,Oee(n,0))}),je(e,618)}function wFe(e){var t=1;je(e,619,Lc(t)),je(e,48,fFe({xfId:0,builtinId:0,name:"Normal"})),je(e,620)}function _Fe(e){var t=0;je(e,505,Lc(t)),je(e,506)}function SFe(e){var t=0;je(e,508,pFe(t,"TableStyleMedium9","PivotStyleMedium4")),je(e,509)}function EFe(e,t){var n=La();return je(n,278),mFe(n,e.SSF),vFe(n,e),CFe(n,e),yFe(n,e),xFe(n,e),bFe(n,t.cellXfs),wFe(n,e),_Fe(n,e),SFe(n,e),je(n,279),n.end()}var DFe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function RFe(e,t,n){t.themeElements.clrScheme=[];var i={};(e[0].match(Ls)||[]).forEach(function(r){var o=Jt(r);switch(o[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=o.val;break;case"<a:sysClr":i.rgb=o.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":o[0].charAt(1)==="/"?(t.themeElements.clrScheme[DFe.indexOf(o[0])]=i,i={}):i.name=o[0].slice(3,o[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+o[0]+" in clrScheme")}})}function TFe(){}function IFe(){}var FFe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,kFe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,AFe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function MFe(e,t,n){t.themeElements={};var i;[["clrScheme",FFe,RFe],["fontScheme",kFe,TFe],["fmtScheme",AFe,IFe]].forEach(function(r){if(!(i=e.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](i,t,n)})}var PFe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Lee(e,t){(!e||e.length===0)&&(e=N8());var n,i={};if(!(n=e.match(PFe)))throw new Error("themeElements not found in theme");return MFe(n[0],i,t),i.raw=e,i}function N8(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[eo];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function OFe(e,t,n){var i=e.l+t,r=e.read_shift(4);if(r!==124226){if(!n.cellStyles){e.l=i;return}var o=e.slice(e.l);e.l=i;var s;try{s=MJ(o,{type:"array"})}catch{return}var a=al(s,"theme/theme/theme1.xml",!0);if(a)return Lee(a,n)}}function LFe(e){return e.read_shift(4)}function NFe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=BFe(e,4);break;case 2:t.xclrValue=gee(e,4);break;case 3:t.xclrValue=LFe(e,4);break;case 4:e.l+=4;break}return e.l+=8,t}function BFe(e,t){return Os(e,t)}function VFe(e,t){return Os(e,t)}function HFe(e){var t=e.read_shift(2),n=e.read_shift(2)-4,i=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=NFe(e,n);break;case 6:i[1]=VFe(e,n);break;case 14:case 15:i[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return i}function GFe(e,t){var n=e.l+t;e.l+=2;var i=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),o=[];r-- >0;)o.push(HFe(e,n-e.l));return{ixfe:i,ext:o}}function zFe(e,t){t.forEach(function(n){switch(n[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function UFe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ps(e,t-8)}}function WFe(e){var t=Ae(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Go(e.name,t),t.slice(0,t.l)}function jFe(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function $Fe(e){var t=Ae(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function qFe(e,t){var n=Ae(8+2*t.length);return n.write_shift(4,e),Go(t,n),n.slice(0,n.l)}function KFe(e){return e.l+=4,e.read_shift(4)!=0}function XFe(e,t){var n=Ae(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}function YFe(e,t,n){var i={Types:[],Cell:[],Value:[]},r=n||{},o=[],s=!1,a=2;return ch(e,function(l,c,d){switch(d){case 335:i.Types.push({name:l.name});break;case 51:l.forEach(function(u){a==1?i.Cell.push({type:i.Types[u[0]-1].name,index:u[1]}):a==0&&i.Value.push({type:i.Types[u[0]-1].name,index:u[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:o.push(d),s=!0;break;case 36:o.pop(),s=!1;break;default:if(!c.T){if(!s||r.WTF&&o[o.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),i}function ZFe(){var e=La();return je(e,332),je(e,334,Lc(1)),je(e,335,WFe({name:"XLDAPR",version:12e4,flags:3496657072})),je(e,336),je(e,339,qFe(1,"XLDAPR")),je(e,52),je(e,35,Lc(514)),je(e,4096,Lc(0)),je(e,4097,Kl(1)),je(e,36),je(e,53),je(e,340),je(e,337,XFe(1,!0)),je(e,51,$Fe([[1,0]])),je(e,338),je(e,333),e.end()}function QFe(e,t,n){var i={Types:[],Cell:[],Value:[]};if(!e)return i;var r=!1,o=2,s;return e.replace(Ls,function(a){var l=Jt(a);switch(Hd(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":i.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<i.Types.length;++c)i.Types[c].name==l.name&&(s=i.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":o==1?i.Cell.push({type:i.Types[l.t-1].name,index:+l.v}):o==0&&i.Value.push({type:i.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":o=1;break;case"</cellMetadata>":o=2;break;case"<valueMetadata":o=0;break;case"</valueMetadata>":o=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!r&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),i}function Nee(){var e=[eo];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function JFe(e){var t=[];if(!e)return t;var n=1;return(e.match(Ls)||[]).forEach(function(i){var r=Jt(i);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r);break}}),t}function eke(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Xt(n);var i=e.read_shift(1);return i&2&&(t.l="1"),i&8&&(t.a="1"),t}function tke(e,t,n){var i=[],r=!1;return ch(e,function(s,a,l){switch(l){case 63:i.push(s);break;default:if(!a.T){if(!r||n.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),i}function nke(e,t,n,i){if(!e)return e;var r=i||{},o=!1,s=!1;ch(e,function(l,c,d){if(!s)switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:o=!0;break;case 36:o=!1;break;default:if(!c.T){if(!o||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},r)}function ike(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}var aC=1024;function Bee(e,t){for(var n=[21600,21600],i=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),r=[rt("xml",null,{"xmlns:v":ol.v,"xmlns:o":ol.o,"xmlns:x":ol.x,"xmlns:mv":ol.mv}).replace(/\/>/,">"),rt("o:shapelayout",rt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),rt("v:shapetype",[rt("v:stroke",null,{joinstyle:"miter"}),rt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:i})];aC<e*1e3;)aC+=1e3;return t.forEach(function(o){var s=wr(o[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?rt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=rt("v:fill",l,a),d={on:"t",obscured:"t"};++aC,r=r.concat(["<v:shape"+Iw({id:"_x0000_s"+aC,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,rt("v:shadow",null,d),rt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",as("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),as("x:AutoFill","False"),as("x:Row",String(s.r)),as("x:Column",String(s.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function JQ(e,t,n,i){var r=Array.isArray(e),o;t.forEach(function(s){var a=wr(s.ref);if(r?(e[a.r]||(e[a.r]=[]),o=e[a.r][a.c]):o=e[s.ref],!o){o={t:"z"},r?e[a.r][a.c]=o:e[s.ref]=o;var l=ni(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=yn(l);c!==e["!ref"]&&(e["!ref"]=c)}o.c||(o.c=[]);var d={a:s.author,t:s.t,r:s.r,T:n};s.h&&(d.h=s.h);for(var u=o.c.length-1;u>=0;--u){if(!n&&o.c[u].T)return;n&&!o.c[u].T&&o.c.splice(u,1)}if(n&&i){for(u=0;u<i.length;++u)if(d.a==i[u].id){d.a=i[u].name||d.a;break}}o.c.push(d)})}function rke(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],i=[],r=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var a=s.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var o=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return o&&o[1]&&o[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var a=s.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Jt(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=wr(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var u=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!u&&!!u[1]&&P8(u[1])||{r:"",t:"",h:""};c.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),c.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=f.h),i.push(c)}}}}),i}function Vee(e){var t=[eo,rt("comments",null,{xmlns:jg[0]})],n=[];return t.push("<authors>"),e.forEach(function(i){i[1].forEach(function(r){var o=Mi(r.a);n.indexOf(o)==-1&&(n.push(o),t.push("<author>"+o+"</author>")),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(i){var r=0,o=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=n.indexOf("tc="+i[1][0].ID):i[1].forEach(function(l){l.a&&(r=n.indexOf(Mi(l.a))),o.push(l.t||"")}),t.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),o.length<=1)t.push(as("t",Mi(o[0]||"")));else{for(var s=`Comment:
    `+o[0]+`
`,a=1;a<o.length;++a)s+=`Reply:
    `+o[a]+`
`;t.push(as("t",Mi(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function oke(e,t){var n=[],i=!1,r={},o=0;return e.replace(Ls,function(a,l){var c=Jt(a);switch(Hd(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":r.t!=null&&n.push(r);break;case"<text>":case"<text":o=l+a.length;break;case"</text>":r.t=e.slice(o,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":i=!0;break;case"</mentions>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function ske(e,t,n){var i=[eo,rt("ThreadedComments",null,{xmlns:_o.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var o="";(r[1]||[]).forEach(function(s,a){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?o=l.id:l.parentId=o,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),i.push(rt("threadedComment",as("text",s.t||""),l))})}),i.push("</ThreadedComments>"),i.join("")}function ake(e,t){var n=[],i=!1;return e.replace(Ls,function(o){var s=Jt(o);switch(Hd(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return o}),n}function lke(e){var t=[eo,rt("personList",null,{xmlns:_o.TCMNT,"xmlns:x":jg[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,i){t.push(rt("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function cke(e){var t={};t.iauthor=e.read_shift(4);var n=Xg(e,16);return t.rfx=n.s,t.ref=Xt(n.s),e.l+=16,t}function dke(e,t){return t==null&&(t=Ae(36)),t.write_shift(4,e[1].iauthor),xC(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var uke=Ps;function hke(e){return Go(e.slice(0,54))}function fke(e,t){var n=[],i=[],r={},o=!1;return ch(e,function(a,l,c){switch(c){case 632:i.push(a);break;case 635:r=a;break;case 637:r.t=a.t,r.h=a.h,r.r=a.r;break;case 636:if(r.author=i[r.iauthor],delete r.iauthor,t.sheetRows&&r.rfx&&t.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,n.push(r);break;case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!o||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function pke(e){var t=La(),n=[];return je(t,628),je(t,630),e.forEach(function(i){i[1].forEach(function(r){n.indexOf(r.a)>-1||(n.push(r.a.slice(0,54)),je(t,632,hke(r.a)))})}),je(t,631),je(t,633),e.forEach(function(i){i[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var o={s:wr(i[0]),e:wr(i[0])};je(t,635,dke([o,r])),r.t&&r.t.length>0&&je(t,637,LDe(r)),je(t,636),delete r.iauthor})}),je(t,634),je(t,629),t.end()}var gke="application/vnd.ms-office.vbaProject";function mke(e){var t=Bt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,i){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var r=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Bt.utils.cfb_add(t,r,e.FileIndex[i].content)}}),Bt.write(t)}function vke(e,t){t.FullPaths.forEach(function(n,i){if(i!=0){var r=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Bt.utils.cfb_add(e,r,t.FileIndex[i].content)}})}var Hee=["xlsb","xlsm","xlam","biff8","xla"];function Cke(){return{"!type":"dialog"}}function yke(){return{"!type":"dialog"}}function xke(){return{"!type":"macro"}}function bke(){return{"!type":"macro"}}var dC=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(i,r,o,s){var a=!1,l=!1;o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1)),s.length==0?a=!0:s.charAt(0)=="["&&(a=!0,s=s.slice(1,-1));var c=o.length>0?parseInt(o,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return a?d+=t.c:--d,l?c+=t.r:--c,r+(a?"":"$")+br(d)+(l?"":"$")+Jr(c)}return function(r,o){return t=o,r.replace(e,n)}}(),B8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,V8=function(){return function(t,n){return t.replace(B8,function(i,r,o,s,a,l){var c=E8(s)-(o?0:n.c),d=S8(l)-(a?0:n.r),u=d==0?"":a?d+1:"["+d+"]",f=c==0?"":o?c+1:"["+c+"]";return r+"R"+u+"C"+f})}}();function Gee(e,t){return e.replace(B8,function(n,i,r,o,s,a){return i+(r=="$"?r+o:br(E8(o)+t.c))+(s=="$"?s+a:Jr(S8(a)+t.r))})}function wke(e,t,n){var i=Na(t),r=i.s,o=wr(n),s={r:o.r-r.r,c:o.c-r.c};return Gee(e,s)}function _ke(e){return e.length!=1}function eJ(e){return e.replace(/_xlfn\./g,"")}function lo(e){e.l+=1}function zf(e,t){var n=e.read_shift(t==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function zee(e,t,n){var i=2;if(n){if(n.biff>=2&&n.biff<=5)return Uee(e,t,n);n.biff==12&&(i=4)}var r=e.read_shift(i),o=e.read_shift(i),s=zf(e,2),a=zf(e,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:o,c:a[0],cRel:a[1],rRel:a[2]}}}function Uee(e){var t=zf(e,2),n=zf(e,2),i=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function Ske(e,t,n){if(n.biff<8)return Uee(e,t,n);var i=e.read_shift(n.biff==12?4:2),r=e.read_shift(n.biff==12?4:2),o=zf(e,2),s=zf(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r,c:s[0],cRel:s[1],rRel:s[2]}}}function Wee(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return Eke(e,t,n);var i=e.read_shift(n&&n.biff==12?4:2),r=zf(e,2);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function Eke(e){var t=zf(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function Dke(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Rke(e,t,n){var i=n&&n.biff?n.biff:8;if(i>=2&&i<=5)return Tke(e,t,n);var r=e.read_shift(i>=12?4:2),o=e.read_shift(2),s=(o&16384)>>14,a=(o&32768)>>15;if(o&=16383,a==1)for(;r>524287;)r-=1048576;if(s==1)for(;o>8191;)o=o-16384;return{r,c:o,cRel:s,rRel:a}}function Tke(e){var t=e.read_shift(2),n=e.read_shift(1),i=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,i==1&&t>=8192&&(t=t-16384),r==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:r,rRel:i}}function Ike(e,t,n){var i=(e[e.l++]&96)>>5,r=zee(e,n.biff>=2&&n.biff<=5?6:8,n);return[i,r]}function Fke(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}var s=zee(e,o,n);return[i,r,s]}function kke(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[i]}function Ake(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}return e.l+=o,[i,r]}function Mke(e,t,n){var i=(e[e.l++]&96)>>5,r=Ske(e,t-1,n);return[i,r]}function Pke(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[i]}function tJ(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function Oke(e,t,n){e.l+=2;for(var i=e.read_shift(n&&n.biff==2?1:2),r=[],o=0;o<=i;++o)r.push(e.read_shift(n&&n.biff==2?1:2));return r}function Lke(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function Nke(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function Bke(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Vke(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[i]}function jee(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function Hke(e){return e.read_shift(2),jee(e,2)}function Gke(e){return e.read_shift(2),jee(e,2)}function zke(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=Wee(e,0,n);return[i,r]}function Uke(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=Rke(e,0,n);return[i,r]}function Wke(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var o=Wee(e,0,n);return[i,r,o]}function jke(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(n&&n.biff<=3?1:2);return[KAe[r],Kee[r],i]}function $ke(e,t,n){var i=e[e.l++],r=e.read_shift(1),o=n&&n.biff<=3?[i==88?-1:0,e.read_shift(1)]:qke(e);return[r,(o[0]===0?Kee:qAe)[o[1]]]}function qke(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Kke(e,t,n){e.l+=n&&n.biff==2?3:4}function Xke(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var i=e.read_shift(2),r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function Yke(e){return e.l++,dh[e.read_shift(1)]}function Zke(e){return e.l++,e.read_shift(2)}function Qke(e){return e.l++,e.read_shift(1)!==0}function Jke(e){return e.l++,As(e,8)}function eAe(e,t,n){return e.l++,Hw(e,t-1,n)}function tAe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Qr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=dh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=As(e,8);break;case 2:n[1]=Yg(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function nAe(e,t,n){for(var i=e.read_shift(n.biff==12?4:2),r=[],o=0;o!=i;++o)r.push((n.biff==12?Xg:AT)(e,8));return r}function iAe(e,t,n){var i=0,r=0;n.biff==12?(i=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),i=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--i,--r==0&&(r=256));for(var o=0,s=[];o!=i&&(s[o]=[]);++o)for(var a=0;a!=r;++a)s[o][a]=tAe(e,n.biff);return s}function rAe(e,t,n){var i=e.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,o=e.read_shift(r);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[i,0,o]}function oAe(e,t,n){if(n.biff==5)return sAe(e,t,n);var i=e.read_shift(1)>>>5&3,r=e.read_shift(2),o=e.read_shift(4);return[i,r,o]}function sAe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[t,n,i]}function aAe(e,t,n){var i=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function lAe(e,t,n){var i=e.read_shift(1)>>>5&3,r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function cAe(e,t,n){var i=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[i]}function dAe(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return e.l+=o,[i,r]}var uAe=Os,hAe=Os,fAe=Os;function zw(e,t,n){return e.l+=2,[Dke(e,4,n)]}function H8(e){return e.l+=6,[]}var pAe=zw,gAe=H8,mAe=H8,vAe=zw;function $ee(e){return e.l+=2,[uo(e),e.read_shift(2)&1]}var CAe=zw,yAe=$ee,xAe=H8,bAe=zw,wAe=zw,_Ae=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function SAe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r=e.read_shift(2),o=e.read_shift(2),s=_Ae[n>>2&31];return{ixti:t,coltype:n&3,rt:s,idx:i,c:r,C:o}}function EAe(e){return e.l+=2,[e.read_shift(4)]}function DAe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function RAe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function TAe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function IAe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function FAe(e){return e.l+=4,[0,0]}var nJ={1:{n:"PtgExp",f:Xke},2:{n:"PtgTbl",f:fAe},3:{n:"PtgAdd",f:lo},4:{n:"PtgSub",f:lo},5:{n:"PtgMul",f:lo},6:{n:"PtgDiv",f:lo},7:{n:"PtgPower",f:lo},8:{n:"PtgConcat",f:lo},9:{n:"PtgLt",f:lo},10:{n:"PtgLe",f:lo},11:{n:"PtgEq",f:lo},12:{n:"PtgGe",f:lo},13:{n:"PtgGt",f:lo},14:{n:"PtgNe",f:lo},15:{n:"PtgIsect",f:lo},16:{n:"PtgUnion",f:lo},17:{n:"PtgRange",f:lo},18:{n:"PtgUplus",f:lo},19:{n:"PtgUminus",f:lo},20:{n:"PtgPercent",f:lo},21:{n:"PtgParen",f:lo},22:{n:"PtgMissArg",f:lo},23:{n:"PtgStr",f:eAe},26:{n:"PtgSheet",f:DAe},27:{n:"PtgEndSheet",f:RAe},28:{n:"PtgErr",f:Yke},29:{n:"PtgBool",f:Qke},30:{n:"PtgInt",f:Zke},31:{n:"PtgNum",f:Jke},32:{n:"PtgArray",f:Pke},33:{n:"PtgFunc",f:jke},34:{n:"PtgFuncVar",f:$ke},35:{n:"PtgName",f:rAe},36:{n:"PtgRef",f:zke},37:{n:"PtgArea",f:Ike},38:{n:"PtgMemArea",f:aAe},39:{n:"PtgMemErr",f:uAe},40:{n:"PtgMemNoMem",f:hAe},41:{n:"PtgMemFunc",f:lAe},42:{n:"PtgRefErr",f:cAe},43:{n:"PtgAreaErr",f:kke},44:{n:"PtgRefN",f:Uke},45:{n:"PtgAreaN",f:Mke},46:{n:"PtgMemAreaN",f:TAe},47:{n:"PtgMemNoMemN",f:IAe},57:{n:"PtgNameX",f:oAe},58:{n:"PtgRef3d",f:Wke},59:{n:"PtgArea3d",f:Fke},60:{n:"PtgRefErr3d",f:dAe},61:{n:"PtgAreaErr3d",f:Ake},255:{}},kAe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},AAe={1:{n:"PtgElfLel",f:$ee},2:{n:"PtgElfRw",f:bAe},3:{n:"PtgElfCol",f:pAe},6:{n:"PtgElfRwV",f:wAe},7:{n:"PtgElfColV",f:vAe},10:{n:"PtgElfRadical",f:CAe},11:{n:"PtgElfRadicalS",f:xAe},13:{n:"PtgElfColS",f:gAe},15:{n:"PtgElfColSV",f:mAe},16:{n:"PtgElfRadicalLel",f:yAe},25:{n:"PtgList",f:SAe},29:{n:"PtgSxName",f:EAe},255:{}},MAe={0:{n:"PtgAttrNoop",f:FAe},1:{n:"PtgAttrSemi",f:Vke},2:{n:"PtgAttrIf",f:Nke},4:{n:"PtgAttrChoose",f:Oke},8:{n:"PtgAttrGoto",f:Lke},16:{n:"PtgAttrSum",f:Kke},32:{n:"PtgAttrBaxcel",f:tJ},33:{n:"PtgAttrBaxcel",f:tJ},64:{n:"PtgAttrSpace",f:Hke},65:{n:"PtgAttrSpaceSemi",f:Gke},128:{n:"PtgAttrIfError",f:Bke},255:{}};function Uw(e,t,n,i){if(i.biff<8)return Os(e,t);for(var r=e.l+t,o=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=iAe(e,0,i),o.push(n[s][1]);break;case"PtgMemArea":n[s][2]=nAe(e,n[s][1],i),o.push(n[s][2]);break;case"PtgExp":i&&i.biff==12&&(n[s][1][1]=e.read_shift(4),o.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0];default:break}return t=r-e.l,t!==0&&o.push(Os(e,t)),o}function Ww(e,t,n){for(var i=e.l+t,r,o,s=[];i!=e.l;)t=i-e.l,o=e[e.l],r=nJ[o]||nJ[kAe[o]],(o===24||o===25)&&(r=(o===24?AAe:MAe)[e[e.l+1]]),!r||!r.f?Os(e,t):s.push([r.n,r.f(e,t,n)]);return s}function PAe(e){for(var t=[],n=0;n<e.length;++n){for(var i=e[n],r=[],o=0;o<i.length;++o){var s=i[o];if(s)switch(s[0]){case 2:r.push('"'+s[1].replace(/"/g,'""')+'"');break;default:r.push(s[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var OAe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function LAe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function qee(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var i=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!i)return"SH33TJSERR1";var r="";if(n.biff>8)switch(e[i[0]][0]){case 357:return r=i[1]==-1?"#REF":e.SheetNames[i[1]],i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[i[0]][0];case 355:default:return"SH33TJSSRC"+e[i[0]][0]}switch(e[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":e.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 14849:return e[i[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return e[i[0]][0][3]?(r=i[1]==-1?"#REF":e[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+e[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function iJ(e,t,n){var i=qee(e,t,n);return i=="#REF"?i:LAe(i,n)}function Fs(e,t,n,i,r){var o=r&&r.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,c,d,u=0,f=0,p,m="";if(!e[0]||!e[0][0])return"";for(var v=-1,C="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),v>=0){switch(e[0][v][1][0]){case 0:C=Nr(" ",e[0][v][1][1]);break;case 1:C=Nr("\r",e[0][v][1][1]);break;default:if(C="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+C,v=-1}a.push(c+OAe[w[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Cw(w[1][1],s,r),a.push(yw(d,o));break;case"PtgRefN":d=n?Cw(w[1][1],n,r):w[1][1],a.push(yw(d,o));break;case"PtgRef3d":u=w[1][1],d=Cw(w[1][2],s,r),m=iJ(i,u,r);var S=m;a.push(m+"!"+yw(d,o));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],R=w[1][1];D||(D=0),D&=127;var T=D==0?[]:a.slice(-D);a.length-=D,R==="User"&&(R=T.shift()),a.push(R+"("+T.join(",")+")");break;case"PtgBool":a.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(w[1]);break;case"PtgNum":a.push(String(w[1]));break;case"PtgStr":a.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(w[1]);break;case"PtgAreaN":p=AQ(w[1][1],n?{s:n}:s,r),a.push(L6(p,r));break;case"PtgArea":p=AQ(w[1][1],s,r),a.push(L6(p,r));break;case"PtgArea3d":u=w[1][1],p=w[1][2],m=iJ(i,u,r),a.push(m+"!"+L6(p,r));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=w[1][2];var k=(i.names||[])[f-1]||(i[0]||[])[f],M=k?k.Name:"SH33TJSNAME"+String(f);M&&M.slice(0,6)=="_xlfn."&&!r.xlfn&&(M=M.slice(6)),a.push(M);break;case"PtgNameX":var B=w[1][1];f=w[1][2];var L;if(r.biff<=5)B<0&&(B=-B),i[B]&&(L=i[B][f]);else{var V="";if(((i[B]||[])[0]||[])[0]==14849||(((i[B]||[])[0]||[])[0]==1025?i[B][f]&&i[B][f].itab>0&&(V=i.SheetNames[i[B][f].itab-1]+"!"):V=i.SheetNames[f-1]+"!"),i[B]&&i[B][f])V+=i[B][f].Name;else if(i[0]&&i[0][f])V+=i[0][f].Name;else{var ee=(qee(i,B,r)||"").split(";;");ee[f-1]?V=ee[f-1]:V+="SH33TJSERRX"}a.push(V);break}L||(L={Name:"SH33TJSERRY"}),a.push(L.Name);break;case"PtgParen":var re="(",se=")";if(v>=0){switch(C="",e[0][v][1][0]){case 2:re=Nr(" ",e[0][v][1][1])+re;break;case 3:re=Nr("\r",e[0][v][1][1])+re;break;case 4:se=Nr(" ",e[0][v][1][1])+se;break;case 5:se=Nr("\r",e[0][v][1][1])+se;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}a.push(re+a.pop()+se);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var ge={c:n.c,r:n.r};if(i.sharedf[Xt(d)]){var fe=i.sharedf[Xt(d)];a.push(Fs(fe,s,ge,i,r))}else{var Ee=!1;for(l=0;l!=i.arrayf.length;++l)if(c=i.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){a.push(Fs(c[1],s,ge,i,r)),Ee=!0;break}Ee||a.push(w[1])}break;case"PtgArray":a.push("{"+PAe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&v>=0&&te.indexOf(e[0][y][0])==-1){w=e[0][v];var oe=!0;switch(w[1][0]){case 4:oe=!1;case 0:C=Nr(" ",w[1][1]);break;case 5:oe=!1;case 1:C=Nr("\r",w[1][1]);break;default:if(C="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}a.push((oe?C:"")+a.pop()+(oe?"":C)),v=-1}}if(a.length>1&&r.WTF)throw new Error("bad formula stack");return a[0]}function NAe(e,t,n){var i=e.l+t,r=n.biff==2?1:2,o,s=e.read_shift(r);if(s==65535)return[[],Os(e,t-2)];var a=Ww(e,s,n);return t!==s+r&&(o=Uw(e,t-s-r,a,n)),e.l=i,[a,o]}function BAe(e,t,n){var i=e.l+t,r=n.biff==2?1:2,o,s=e.read_shift(r);if(s==65535)return[[],Os(e,t-2)];var a=Ww(e,s,n);return t!==s+r&&(o=Uw(e,t-s-r,a,n)),e.l=i,[a,o]}function VAe(e,t,n,i){var r=e.l+t,o=Ww(e,i,n),s;return r!==e.l&&(s=Uw(e,r-e.l,o,n)),[o,s]}function HAe(e,t,n){var i=e.l+t,r,o=e.read_shift(2),s=Ww(e,o,n);return o==65535?[[],Os(e,t-2)]:(t!==o+2&&(r=Uw(e,i-o-2,s,n)),[s,r])}function GAe(e){var t;if(ih(e,e.l+6)!==65535)return[As(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function zAe(e){if(e==null){var t=Ae(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Gg(e);return Gg(0)}function G6(e,t,n){var i=e.l+t,r=Gd(e,6);n.biff==2&&++e.l;var o=GAe(e,8),s=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=BAe(e,i-e.l,n);return{cell:r,val:o[0],formula:a,shared:s>>3&1,tt:o[1]}}function UAe(e,t,n,i,r){var o=Ug(t,n,r),s=zAe(e.v),a=Ae(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Ae(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var u=Ho([o,s,a,c]);return u}function MT(e,t,n){var i=e.read_shift(4),r=Ww(e,i,n),o=e.read_shift(4),s=o>0?Uw(e,o,r,n):null;return[r,s]}var WAe=MT,PT=MT,jAe=MT,$Ae=MT,qAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Kee={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},KAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rJ(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function XAe(e){var t="of:="+e.replace(B8,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function z6(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function YAe(e){return e.replace(/\./,"!")}var bw={},uC={},ww=typeof Map<"u";function G8(e,t,n){var i=0,r=e.length;if(n){if(ww?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var o=ww?n.get(t):n[t];i<o.length;++i)if(e[o[i]].t===t)return e.Count++,o[i]}}else for(;i<r;++i)if(e[i].t===t)return e.Count++,i;return e[r]={t},e.Count++,e.Unique++,n&&(ww?(n.has(t)||n.set(t,[]),n.get(t).push(r)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(r))),r}function OT(e,t){var n={min:e+1,max:e+1},i=-1;return t.MDW&&(ks=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?i=Pw(t.wpx):t.wch!=null&&(i=t.wch),i>-1?(n.width=_T(i),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function Bg(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function $f(e,t,n){var i=n.revssf[t.z!=null?t.z:"General"],r=60,o=e.length;if(i==null&&n.ssf){for(;r<392;++r)if(n.ssf[r]==null){oh(t.z,r),n.ssf[r]=t.z,n.revssf[t.z]=i=r;break}}for(r=0;r!=o;++r)if(e[r].numFmtId===i)return r;return e[o]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function Xee(e,t,n,i,r,o){try{i.cellNF&&(e.z=Kt[t])}catch(a){if(i.WTF)throw a}if(!(e.t==="z"&&!i.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ir(e.v)),(!i||i.cellText!==!1)&&e.t!=="z")try{if(Kt[t]==null&&oh(q2e[t]||"General",t),e.t==="e")e.w=e.w||dh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rw(e.v);else if(e.t==="d"){var s=So(e.v);(s|0)===s?e.w=s.toString(10):e.w=Rw(s)}else{if(e.v===void 0)return"";e.w=Vg(e.v,uC)}else e.t==="d"?e.w=Yl(t,So(e.v),uC):e.w=Yl(t,e.v,uC)}catch(a){if(i.WTF)throw a}if(i.cellStyles&&n!=null)try{e.s=o.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=wT(r.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),i.WTF&&(e.s.fgColor.raw_rgb=r.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=wT(r.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),i.WTF&&(e.s.bgColor.raw_rgb=r.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(i.WTF&&o.Fills)throw a}}}function ZAe(e,t,n){if(e&&e["!ref"]){var i=ni(e["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function QAe(e,t){var n=ni(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=yn(n))}var JAe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,eMe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,tMe=/<(?:\w:)?hyperlink [^>]*>/mg,nMe=/"(\w*:\w*)"/,iMe=/<(?:\w:)?col\b[^>]*[\/]?>/g,rMe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,oMe=/<(?:\w:)?pageMargins[^>]*\/>/g,Yee=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sMe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,aMe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function lMe(e,t,n,i,r,o,s){if(!e)return e;i||(i={"!id":{}}),Vr!=null&&t.dense==null&&(t.dense=Vr);var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",u=e.match(eMe);u?(c=e.slice(0,u.index),d=e.slice(u.index+u[0].length)):c=d=e;var f=c.match(Yee);f?z8(f[0],a,r,n):(f=c.match(sMe))&&dMe(f[0],f[1]||"",a,r,n,s,o);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(nMe);m&&QAe(a,m[1])}var v=c.match(aMe);v&&v[1]&&_Me(v[1],r);var C=[];if(t.cellStyles){var y=c.match(iMe);y&&CMe(C,y)}u&&DMe(u[1],a,t,l,o,s);var b=d.match(rMe);b&&(a["!autofilter"]=xMe(b[0]));var w=[],S=d.match(JAe);if(S)for(p=0;p!=S.length;++p)w[p]=ni(S[p].slice(S[p].indexOf('"')+1));var D=d.match(tMe);D&&gMe(a,D,i);var R=d.match(oMe);if(R&&(a["!margins"]=mMe(Jt(R[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=yn(l)),t.sheetRows>0&&a["!ref"]){var T=ni(a["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),a["!fullref"]=a["!ref"],a["!ref"]=yn(T))}return C.length>0&&(a["!cols"]=C),w.length>0&&(a["!merges"]=w),a}function cMe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+yn(e[n])+'"/>';return t+"</mergeCells>"}function z8(e,t,n,i){var r=Jt(e);n.Sheets[i]||(n.Sheets[i]={}),r.codeName&&(n.Sheets[i].CodeName=ti(Ni(r.codeName)))}function dMe(e,t,n,i,r){z8(e.slice(0,e.indexOf(">")),n,i,r)}function uMe(e,t,n,i,r){var o=!1,s={},a=null;if(i.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}o=!0,s.codeName=Bd(Mi(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+rt("outlinePr",null,c)}!o&&!a||(r[r.length]=rt("sheetPr",a,s))}var hMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],fMe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function pMe(e){var t={sheet:1};return hMe.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),fMe.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=O8(e.password).toString(16).toUpperCase()),rt("sheetProtection",null,t)}function gMe(e,t,n){for(var i=Array.isArray(e),r=0;r!=t.length;++r){var o=Jt(Ni(t[r]),!0);if(!o.ref)return;var s=((n||{})["!id"]||[])[o.id];s?(o.Target=s.Target,o.location&&(o.Target+="#"+ti(o.location))):(o.Target="#"+ti(o.location),s={Target:o.Target,TargetMode:"Internal"}),o.Rel=s,o.tooltip&&(o.Tooltip=o.tooltip,delete o.tooltip);for(var a=ni(o.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=Xt({c,r:l});i?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=o):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=o)}}}function mMe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function vMe(e){return Bg(e),rt("pageMargins",null,e)}function CMe(e,t){for(var n=!1,i=0;i!=t.length;++i){var r=Jt(t[i],!0);r.hidden&&(r.hidden=nr(r.hidden));var o=parseInt(r.min,10)-1,s=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!n&&r.width&&(n=!0,L8(r.width)),Gf(r);o<=s;)e[o++]=rr(r)}}function yMe(e,t){for(var n=["<cols>"],i,r=0;r!=t.length;++r)(i=t[r])&&(n[n.length]=rt("col",null,OT(r,i)));return n[n.length]="</cols>",n.join("")}function xMe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function bMe(e,t,n,i){var r=typeof e.ref=="string"?e.ref:yn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=Na(r);s.s.r==s.e.r&&(s.e.r=Na(t["!ref"]).e.r,r=yn(s));for(var a=0;a<o.length;++a){var l=o[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==i){l.Ref="'"+n.SheetNames[i]+"'!"+r;break}}return a==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+r}),rt("autoFilter",null,{ref:r})}var wMe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function _Me(e,t){t.Views||(t.Views=[{}]),(e.match(wMe)||[]).forEach(function(n,i){var r=Jt(n);t.Views[i]||(t.Views[i]={}),+r.zoomScale&&(t.Views[i].zoom=+r.zoomScale),nr(r.rightToLeft)&&(t.Views[i].RTL=!0)})}function SMe(e,t,n,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),rt("sheetViews",rt("sheetView",null,r),{})}function EMe(e,t,n,i){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var r="",o=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=dh[e.v];break;case"d":i&&i.cellDates?r=ir(e.v,-1).toISOString():(e=rr(e),e.t="n",r=""+(e.v=So(ir(e.v)))),typeof e.z>"u"&&(e.z=Kt[14]);break;default:r=e.v;break}var a=as("v",Mi(r)),l={r:t},c=$f(i.cellXfs,e,i);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){a=as("v",""+G8(i.Strings,e.v,i.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=o&&(e.t=o,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=rt("f",Mi(e.f),d)+(e.v!=null?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),rt("c",a,l)}var DMe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,i=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,r=/ref=["']([^"']*)["']/,o=Tw("v"),s=Tw("f");return function(l,c,d,u,f,p){for(var m=0,v="",C=[],y=[],b=0,w=0,S=0,D="",R,T,k=0,M=0,B,L,V=0,ee=0,re=Array.isArray(p.CellXf),se,ge=[],fe=[],Ee=Array.isArray(c),te=[],oe={},J=!1,A=!!d.sheetStubs,ae=l.split(t),K=0,Q=ae.length;K!=Q;++K){v=ae[K].trim();var ce=v.length;if(ce!==0){var Me=0;e:for(m=0;m<ce;++m)switch(v[m]){case">":if(v[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(T=Jt(v.slice(Me,m),!0),k=T.r!=null?parseInt(T.r,10):k+1,M=-1,d.sheetRows&&d.sheetRows<k)continue;oe={},J=!1,T.ht&&(J=!0,oe.hpt=parseFloat(T.ht),oe.hpx=gC(oe.hpt)),T.hidden=="1"&&(J=!0,oe.hidden=!0),T.outlineLevel!=null&&(J=!0,oe.level=+T.outlineLevel),J&&(te[k-1]=oe)}break;case"<":Me=m;break}if(Me>=m)break;if(T=Jt(v.slice(Me,m),!0),k=T.r!=null?parseInt(T.r,10):k+1,M=-1,!(d.sheetRows&&d.sheetRows<k)){u.s.r>k-1&&(u.s.r=k-1),u.e.r<k-1&&(u.e.r=k-1),d&&d.cellStyles&&(oe={},J=!1,T.ht&&(J=!0,oe.hpt=parseFloat(T.ht),oe.hpx=gC(oe.hpt)),T.hidden=="1"&&(J=!0,oe.hidden=!0),T.outlineLevel!=null&&(J=!0,oe.level=+T.outlineLevel),J&&(te[k-1]=oe)),C=v.slice(m).split(e);for(var ze=0;ze!=C.length&&C[ze].trim().charAt(0)=="<";++ze);for(C=C.slice(ze),m=0;m!=C.length;++m)if(v=C[m].trim(),v.length!==0){if(y=v.match(n),b=m,w=0,S=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,y!=null&&y.length===2){for(b=0,D=y[1],w=0;w!=D.length&&!((S=D.charCodeAt(w)-64)<1||S>26);++w)b=26*b+S;--b,M=b}else++M;for(w=0;w!=v.length&&v.charCodeAt(w)!==62;++w);if(++w,T=Jt(v.slice(0,w),!0),T.r||(T.r=Xt({r:k-1,c:M})),D=v.slice(w),R={t:""},(y=D.match(o))!=null&&y[1]!==""&&(R.v=ti(y[1])),d.cellFormula){if((y=D.match(s))!=null&&y[1]!==""){if(R.f=ti(Ni(y[1])).replace(/\r\n/g,`
`),d.xlfn||(R.f=eJ(R.f)),y[0].indexOf('t="array"')>-1)R.F=(D.match(r)||[])[1],R.F.indexOf(":")>-1&&ge.push([ni(R.F),R.F]);else if(y[0].indexOf('t="shared"')>-1){L=Jt(y[0]);var Ve=ti(Ni(y[1]));d.xlfn||(Ve=eJ(Ve)),fe[parseInt(L.si,10)]=[L,Ve,T.r]}}else(y=D.match(/<f[^>]*\/>/))&&(L=Jt(y[0]),fe[L.si]&&(R.f=wke(fe[L.si][1],fe[L.si][2],T.r)));var ye=wr(T.r);for(w=0;w<ge.length;++w)ye.r>=ge[w][0].s.r&&ye.r<=ge[w][0].e.r&&ye.c>=ge[w][0].s.c&&ye.c<=ge[w][0].e.c&&(R.F=ge[w][1])}if(T.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(A)R.t="z";else continue;else R.t=T.t||"n";switch(u.s.c>M&&(u.s.c=M),u.e.c<M&&(u.e.c=M),R.t){case"n":if(R.v==""||R.v==null){if(!A)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!A)continue;R.t="z"}else B=bw[parseInt(R.v,10)],R.v=B.t,R.r=B.r,d.cellHTML&&(R.h=B.h);break;case"str":R.t="s",R.v=R.v!=null?Ni(R.v):"",d.cellHTML&&(R.h=m8(R.v));break;case"inlineStr":y=D.match(i),R.t="s",y!=null&&(B=P8(y[1]))?(R.v=B.t,d.cellHTML&&(R.h=B.h)):R.v="";break;case"b":R.v=nr(R.v);break;case"d":d.cellDates?R.v=ir(R.v,1):(R.v=So(ir(R.v,1)),R.t="n");break;case"e":(!d||d.cellText!==!1)&&(R.w=R.v),R.v=QJ[R.v];break}if(V=ee=0,se=null,re&&T.s!==void 0&&(se=p.CellXf[T.s],se!=null&&(se.numFmtId!=null&&(V=se.numFmtId),d.cellStyles&&se.fillId!=null&&(ee=se.fillId))),Xee(R,V,ee,d,f,p),d.cellDates&&re&&R.t=="n"&&mC(Kt[V])&&(R.t="d",R.v=FT(R.v)),T.cm&&d.xlmeta){var vt=(d.xlmeta.Cell||[])[+T.cm-1];vt&&vt.type=="XLDAPR"&&(R.D=!0)}if(Ee){var q=wr(T.r);c[q.r]||(c[q.r]=[]),c[q.r][q.c]=R}else c[T.r]=R}}}}te.length>0&&(c["!rows"]=te)}}();function RMe(e,t,n,i){var r=[],o=[],s=ni(e["!ref"]),a="",l,c="",d=[],u=0,f=0,p=e["!rows"],m=Array.isArray(e),v={r:c},C,y=-1;for(f=s.s.c;f<=s.e.c;++f)d[f]=br(f);for(u=s.s.r;u<=s.e.r;++u){for(o=[],c=Jr(u),f=s.s.c;f<=s.e.c;++f){l=d[f]+c;var b=m?(e[u]||[])[f]:e[l];b!==void 0&&(a=EMe(b,l,e,t,n,i))!=null&&o.push(a)}(o.length>0||p&&p[u])&&(v={r:c},p&&p[u]&&(C=p[u],C.hidden&&(v.hidden=1),y=-1,C.hpx?y=Ow(C.hpx):C.hpt&&(y=C.hpt),y>-1&&(v.ht=y,v.customHeight=1),C.level&&(v.outlineLevel=C.level)),r[r.length]=rt("row",o.join(""),v))}if(p)for(;u<p.length;++u)p&&p[u]&&(v={r:u+1},C=p[u],C.hidden&&(v.hidden=1),y=-1,C.hpx?y=Ow(C.hpx):C.hpt&&(y=C.hpt),y>-1&&(v.ht=y,v.customHeight=1),C.level&&(v.outlineLevel=C.level),r[r.length]=rt("row","",v));return r.join("")}function Zee(e,t,n,i){var r=[eo,rt("worksheet",null,{xmlns:jg[0],"xmlns:r":_o.r})],o=n.SheetNames[e],s=0,a="",l=n.Sheets[o];l==null&&(l={});var c=l["!ref"]||"A1",d=ni(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=yn(d)}i||(i={}),l["!comments"]=[];var u=[];uMe(l,n,e,t,r),r[r.length]=rt("dimension",null,{ref:c}),r[r.length]=SMe(l,t,e,n),t.sheetFormat&&(r[r.length]=rt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(r[r.length]=yMe(l,l["!cols"])),r[s=r.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=RMe(l,t,e,n,i),a.length>0&&(r[r.length]=a)),r.length>s+1&&(r[r.length]="</sheetData>",r[s]=r[s].replace("/>",">")),l["!protect"]&&(r[r.length]=pMe(l["!protect"])),l["!autofilter"]!=null&&(r[r.length]=bMe(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(r[r.length]=cMe(l["!merges"]));var f=-1,p,m=-1;return l["!links"].length>0&&(r[r.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(m=Ai(i,-1,Mi(v[1].Target).replace(/#.*$/,""),Rn.HLINK),p["r:id"]="rId"+m),(f=v[1].Target.indexOf("#"))>-1&&(p.location=Mi(v[1].Target.slice(f+1))),v[1].Tooltip&&(p.tooltip=Mi(v[1].Tooltip)),r[r.length]=rt("hyperlink",null,p))}),r[r.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(r[r.length]=vMe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(r[r.length]=as("ignoredErrors",rt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(m=Ai(i,-1,"../drawings/drawing"+(e+1)+".xml",Rn.DRAW),r[r.length]=rt("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=u),l["!comments"].length>0&&(m=Ai(i,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Rn.VML),r[r.length]=rt("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function TMe(e,t){var n={},i=e.l+t;n.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=i,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=r/20),n}function IMe(e,t,n){var i=Ae(145),r=(n["!rows"]||[])[e]||{};i.write_shift(4,e),i.write_shift(4,0);var o=320;r.hpx?o=Ow(r.hpx)*20:r.hpt&&(o=r.hpt*20),i.write_shift(2,o),i.write_shift(1,0);var s=0;r.level&&(s|=r.level),r.hidden&&(s|=16),(r.hpx||r.hpt)&&(s|=32),i.write_shift(1,s),i.write_shift(1,0);var a=0,l=i.l;i.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,f=-1,p=d<<10;p<d+1<<10;++p){c.c=p;var m=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Xt(c)];m&&(u<0&&(u=p),f=p)}u<0||(++a,i.write_shift(4,u),i.write_shift(4,f))}var v=i.l;return i.l=l,i.write_shift(4,a),i.l=v,i.length>i.l?i.slice(0,i.l):i}function FMe(e,t,n,i){var r=IMe(i,n,t);(r.length>17||(t["!rows"]||[])[i])&&je(e,0,r)}var kMe=Xg,AMe=xC;function MMe(){}function PMe(e,t){var n={},i=e[e.l];return++e.l,n.above=!(i&64),n.left=!(i&128),e.l+=18,n.name=NDe(e,t-19),n}function OMe(e,t,n){n==null&&(n=Ae(84+4*e.length));var i=192;t&&(t.above&&(i&=-65),t.left&&(i&=-129)),n.write_shift(1,i);for(var r=1;r<3;++r)n.write_shift(1,0);return yT({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),qJ(e,n),n.slice(0,n.l)}function LMe(e){var t=Zl(e);return[t]}function NMe(e,t,n){return n==null&&(n=Ae(8)),$g(t,n)}function BMe(e){var t=qg(e);return[t]}function VMe(e,t,n){return n==null&&(n=Ae(4)),Kg(t,n)}function HMe(e){var t=Zl(e),n=e.read_shift(1);return[t,n,"b"]}function GMe(e,t,n){return n==null&&(n=Ae(9)),$g(t,n),n.write_shift(1,e.v?1:0),n}function zMe(e){var t=qg(e),n=e.read_shift(1);return[t,n,"b"]}function UMe(e,t,n){return n==null&&(n=Ae(5)),Kg(t,n),n.write_shift(1,e.v?1:0),n}function WMe(e){var t=Zl(e),n=e.read_shift(1);return[t,n,"e"]}function jMe(e,t,n){return n==null&&(n=Ae(9)),$g(t,n),n.write_shift(1,e.v),n}function $Me(e){var t=qg(e),n=e.read_shift(1);return[t,n,"e"]}function qMe(e,t,n){return n==null&&(n=Ae(8)),Kg(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function KMe(e){var t=Zl(e),n=e.read_shift(4);return[t,n,"s"]}function XMe(e,t,n){return n==null&&(n=Ae(12)),$g(t,n),n.write_shift(4,t.v),n}function YMe(e){var t=qg(e),n=e.read_shift(4);return[t,n,"s"]}function ZMe(e,t,n){return n==null&&(n=Ae(8)),Kg(t,n),n.write_shift(4,t.v),n}function QMe(e){var t=Zl(e),n=As(e);return[t,n,"n"]}function JMe(e,t,n){return n==null&&(n=Ae(16)),$g(t,n),Gg(e.v,n),n}function Qee(e){var t=qg(e),n=As(e);return[t,n,"n"]}function ePe(e,t,n){return n==null&&(n=Ae(12)),Kg(t,n),Gg(e.v,n),n}function tPe(e){var t=Zl(e),n=I8(e);return[t,n,"n"]}function nPe(e,t,n){return n==null&&(n=Ae(12)),$g(t,n),KJ(e.v,n),n}function iPe(e){var t=qg(e),n=I8(e);return[t,n,"n"]}function rPe(e,t,n){return n==null&&(n=Ae(8)),Kg(t,n),KJ(e.v,n),n}function oPe(e){var t=Zl(e),n=D8(e);return[t,n,"is"]}function sPe(e){var t=Zl(e),n=Ps(e);return[t,n,"str"]}function aPe(e,t,n){return n==null&&(n=Ae(12+4*e.v.length)),$g(t,n),Go(e.v,n),n.length>n.l?n.slice(0,n.l):n}function lPe(e){var t=qg(e),n=Ps(e);return[t,n,"str"]}function cPe(e,t,n){return n==null&&(n=Ae(8+4*e.v.length)),Kg(t,n),Go(e.v,n),n.length>n.l?n.slice(0,n.l):n}function dPe(e,t,n){var i=e.l+t,r=Zl(e);r.r=n["!row"];var o=e.read_shift(1),s=[r,o,"b"];if(n.cellFormula){e.l+=2;var a=PT(e,i-e.l,n);s[3]=Fs(a,null,r,n.supbooks,n)}else e.l=i;return s}function uPe(e,t,n){var i=e.l+t,r=Zl(e);r.r=n["!row"];var o=e.read_shift(1),s=[r,o,"e"];if(n.cellFormula){e.l+=2;var a=PT(e,i-e.l,n);s[3]=Fs(a,null,r,n.supbooks,n)}else e.l=i;return s}function hPe(e,t,n){var i=e.l+t,r=Zl(e);r.r=n["!row"];var o=As(e),s=[r,o,"n"];if(n.cellFormula){e.l+=2;var a=PT(e,i-e.l,n);s[3]=Fs(a,null,r,n.supbooks,n)}else e.l=i;return s}function fPe(e,t,n){var i=e.l+t,r=Zl(e);r.r=n["!row"];var o=Ps(e),s=[r,o,"str"];if(n.cellFormula){e.l+=2;var a=PT(e,i-e.l,n);s[3]=Fs(a,null,r,n.supbooks,n)}else e.l=i;return s}var pPe=Xg,gPe=xC;function mPe(e,t){return t==null&&(t=Ae(4)),t.write_shift(4,e),t}function vPe(e,t){var n=e.l+t,i=Xg(e,16),r=R8(e),o=Ps(e),s=Ps(e),a=Ps(e);e.l=n;var l={rfx:i,relId:r,loc:o,display:a};return s&&(l.Tooltip=s),l}function CPe(e,t){var n=Ae(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xC({s:wr(e[0]),e:wr(e[0])},n),T8("rId"+t,n);var i=e[1].Target.indexOf("#"),r=i==-1?"":e[1].Target.slice(i+1);return Go(r||"",n),Go(e[1].Tooltip||"",n),Go("",n),n.slice(0,n.l)}function yPe(){}function xPe(e,t,n){var i=e.l+t,r=XJ(e,16),o=e.read_shift(1),s=[r];if(s[2]=o,n.cellFormula){var a=WAe(e,i-e.l,n);s[1]=a}else e.l=i;return s}function bPe(e,t,n){var i=e.l+t,r=Xg(e,16),o=[r];if(n.cellFormula){var s=$Ae(e,i-e.l,n);o[1]=s,e.l=i}else e.l=i;return o}function wPe(e,t,n){n==null&&(n=Ae(18));var i=OT(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(i.width||10)*256),n.write_shift(4,0);var r=0;return t.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),t.level&&(r|=t.level<<8),n.write_shift(2,r),n}var Jee=["left","right","top","bottom","header","footer"];function _Pe(e){var t={};return Jee.forEach(function(n){t[n]=As(e,8)}),t}function SPe(e,t){return t==null&&(t=Ae(6*8)),Bg(e),Jee.forEach(function(n){Gg(e[n],t)}),t}function EPe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function DPe(e,t,n){n==null&&(n=Ae(30));var i=924;return(((t||{}).Views||[])[0]||{}).RTL&&(i|=32),n.write_shift(2,i),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function RPe(e){var t=Ae(24);return t.write_shift(4,4),t.write_shift(4,1),xC(e,t),t}function TPe(e,t){return t==null&&(t=Ae(16*4+2)),t.write_shift(2,e.password?O8(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function IPe(){}function FPe(){}function kPe(e,t,n,i,r,o,s){if(!e)return e;var a=t||{};i||(i={"!id":{}}),Vr!=null&&a.dense==null&&(a.dense=Vr);var l=a.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},u=[],f=!1,p=!1,m,v,C,y,b,w,S,D,R,T=[];a.biff=12,a["!row"]=0;var k=0,M=!1,B=[],L={},V=a.supbooks||r.supbooks||[[]];if(V.sharedf=L,V.arrayf=B,V.SheetNames=r.SheetNames||r.Sheets.map(function(oe){return oe.name}),!a.supbooks&&(a.supbooks=V,r.Names))for(var ee=0;ee<r.Names.length;++ee)V[0][ee+1]=r.Names[ee];var re=[],se=[],ge=!1;Lw[16]={n:"BrtShortReal",f:Qee};var fe,Ee;if(ch(e,function(J,A,ae){if(!p)switch(ae){case 148:c=J;break;case 0:m=J,a.sheetRows&&a.sheetRows<=m.r&&(p=!0),D=Jr(y=m.r),a["!row"]=m.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=gC(J.hpt)),se[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:J[2]},J[2]){case"n":v.v=J[1];break;case"s":S=bw[J[1]],v.v=S.t,v.r=S.r;break;case"b":v.v=!!J[1];break;case"e":v.v=J[1],a.cellText!==!1&&(v.w=dh[v.v]);break;case"str":v.t="s",v.v=J[1];break;case"is":v.t="s",v.v=J[1].t;break}if((C=s.CellXf[J[0].iStyleRef])&&Xee(v,C.numFmtId,null,a,o,s),b=J[0].c==-1?b+1:J[0].c,a.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[br(b)+D]=v,a.cellFormula){for(M=!1,k=0;k<B.length;++k){var K=B[k];m.r>=K[0].s.r&&m.r<=K[0].e.r&&b>=K[0].s.c&&b<=K[0].e.c&&(v.F=yn(K[0]),M=!0)}!M&&J.length>3&&(v.f=J[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>b&&(d.s.c=b),d.e.r<m.r&&(d.e.r=m.r),d.e.c<b&&(d.e.c=b),a.cellDates&&C&&v.t=="n"&&mC(Kt[C.numFmtId])){var Q=Pg(v.v);Q&&(v.t="d",v.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}fe&&(fe.type=="XLDAPR"&&(v.D=!0),fe=void 0),Ee&&(Ee=void 0);break;case 1:case 12:if(!a.sheetStubs||f)break;v={t:"z",v:void 0},b=J[0].c==-1?b+1:J[0].c,a.dense?(l[y]||(l[y]=[]),l[y][b]=v):l[br(b)+D]=v,d.s.r>m.r&&(d.s.r=m.r),d.s.c>b&&(d.s.c=b),d.e.r<m.r&&(d.e.r=m.r),d.e.c<b&&(d.e.c=b),fe&&(fe.type=="XLDAPR"&&(v.D=!0),fe=void 0),Ee&&(Ee=void 0);break;case 176:T.push(J);break;case 49:fe=((a.xlmeta||{}).Cell||[])[J-1];break;case 494:var ce=i["!id"][J.relId];for(ce?(J.Target=ce.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=ce):J.relId==""&&(J.Target="#"+J.loc),y=J.rfx.s.r;y<=J.rfx.e.r;++y)for(b=J.rfx.s.c;b<=J.rfx.e.c;++b)a.dense?(l[y]||(l[y]=[]),l[y][b]||(l[y][b]={t:"z",v:void 0}),l[y][b].l=J):(w=Xt({c:b,r:y}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=J);break;case 426:if(!a.cellFormula)break;B.push(J),R=a.dense?l[y][b]:l[br(b)+D],R.f=Fs(J[1],d,{r:m.r,c:b},V,a),R.F=yn(J[0]);break;case 427:if(!a.cellFormula)break;L[Xt(J[0].s)]=J[1],R=a.dense?l[y][b]:l[br(b)+D],R.f=Fs(J[1],d,{r:m.r,c:b},V,a);break;case 60:if(!a.cellStyles)break;for(;J.e>=J.s;)re[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},ge||(ge=!0,L8(J.w/256)),Gf(re[J.e+1]);break;case 161:l["!autofilter"]={ref:yn(J)};break;case 476:l["!margins"]=J;break;case 147:r.Sheets[n]||(r.Sheets[n]={}),J.name&&(r.Sheets[n].CodeName=J.name),(J.above||J.left)&&(l["!outline"]={above:J.above,left:J.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),J.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:u.push(ae),f=!0;break;case 38:u.pop(),f=!1;break;default:if(!A.T){if(!f||a.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=yn(c||d)),a.sheetRows&&l["!ref"]){var te=ni(l["!ref"]);a.sheetRows<=+te.e.r&&(te.e.r=a.sheetRows-1,te.e.r>d.e.r&&(te.e.r=d.e.r),te.e.r<te.s.r&&(te.s.r=te.e.r),te.e.c>d.e.c&&(te.e.c=d.e.c),te.e.c<te.s.c&&(te.s.c=te.e.c),l["!fullref"]=l["!ref"],l["!ref"]=yn(te))}return T.length>0&&(l["!merges"]=T),re.length>0&&(l["!cols"]=re),se.length>0&&(l["!rows"]=se),l}function APe(e,t,n,i,r,o,s){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=rr(t),t.z=t.z||Kt[14],t.v=So(ir(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:n,c:i};switch(l.s=$f(r.cellXfs,t,r),t.l&&o["!links"].push([Xt(l),t.l]),t.c&&o["!comments"].push([Xt(l),t.c]),t.t){case"s":case"str":return r.bookSST?(a=G8(r.Strings,t.v,r.revStrings),l.t="s",l.v=a,s?je(e,18,ZMe(t,l)):je(e,7,XMe(t,l))):(l.t="str",s?je(e,17,cPe(t,l)):je(e,6,aPe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?je(e,13,rPe(t,l)):je(e,2,nPe(t,l)):s?je(e,16,ePe(t,l)):je(e,5,JMe(t,l)),!0;case"b":return l.t="b",s?je(e,15,UMe(t,l)):je(e,4,GMe(t,l)),!0;case"e":return l.t="e",s?je(e,14,qMe(t,l)):je(e,3,jMe(t,l)),!0}return s?je(e,12,VMe(t,l)):je(e,1,NMe(t,l)),!0}function MPe(e,t,n,i){var r=ni(t["!ref"]||"A1"),o,s="",a=[];je(e,145);var l=Array.isArray(t),c=r.e.r;t["!rows"]&&(c=Math.max(r.e.r,t["!rows"].length-1));for(var d=r.s.r;d<=c;++d){s=Jr(d),FMe(e,t,r,d);var u=!1;if(d<=r.e.r)for(var f=r.s.c;f<=r.e.c;++f){d===r.s.r&&(a[f]=br(f)),o=a[f]+s;var p=l?(t[d]||[])[f]:t[o];if(!p){u=!1;continue}u=APe(e,p,d,f,i,t,u)}}je(e,146)}function PPe(e,t){!t||!t["!merges"]||(je(e,177,mPe(t["!merges"].length)),t["!merges"].forEach(function(n){je(e,176,gPe(n))}),je(e,178))}function OPe(e,t){!t||!t["!cols"]||(je(e,390),t["!cols"].forEach(function(n,i){n&&je(e,60,wPe(i,n))}),je(e,391))}function LPe(e,t){!t||!t["!ref"]||(je(e,648),je(e,649,RPe(ni(t["!ref"]))),je(e,650))}function NPe(e,t,n){t["!links"].forEach(function(i){if(i[1].Target){var r=Ai(n,-1,i[1].Target.replace(/#.*$/,""),Rn.HLINK);je(e,494,CPe(i,r))}}),delete t["!links"]}function BPe(e,t,n,i){if(t["!comments"].length>0){var r=Ai(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Rn.VML);je(e,551,T8("rId"+r)),t["!legacy"]=r}}function VPe(e,t,n,i){if(t["!autofilter"]){var r=t["!autofilter"],o=typeof r.ref=="string"?r.ref:yn(r.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=Na(o);a.s.r==a.e.r&&(a.e.r=Na(t["!ref"]).e.r,o=yn(a));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i){c.Ref="'"+n.SheetNames[i]+"'!"+o;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+o}),je(e,161,xC(ni(o))),je(e,162)}}function HPe(e,t,n){je(e,133),je(e,137,DPe(t,n)),je(e,138),je(e,134)}function GPe(e,t){t["!protect"]&&je(e,535,TPe(t["!protect"]))}function zPe(e,t,n,i){var r=La(),o=n.SheetNames[e],s=n.Sheets[o]||{},a=o;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var l=ni(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],je(r,129),(n.vbaraw||s["!outline"])&&je(r,147,OMe(a,s["!outline"])),je(r,148,AMe(l)),HPe(r,s,n.Workbook),OPe(r,s,e,t,n),MPe(r,s,e,t,n),GPe(r,s),VPe(r,s,n,e),PPe(r,s),NPe(r,s,i),s["!margins"]&&je(r,476,SPe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&LPe(r,s),BPe(r,s,e,i),je(r,130),r.end()}function UPe(e){var t=[],n=e.match(/^<c:numCache>/),i;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(o){var s=o.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=n?+s[2]:s[2])});var r=ti((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(o){i=o.replace(/<.*?>/g,"")}),[t,r,i]}function WPe(e,t,n,i,r,o){var s=o||{"!type":"chart"};if(!e)return o;var a=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(u){var f=UPe(u);d.s.r=d.s.c=0,d.e.c=a,c=br(a),f[0].forEach(function(p,m){s[c+Jr(m)]={t:"n",v:p,z:f[1]},l=m}),d.e.r<l&&(d.e.r=l),++a}),a>0&&(s["!ref"]=yn(d)),s}function jPe(e,t,n,i,r){if(!e)return e;i||(i={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},s,a=e.match(Yee);return a&&z8(a[0],o,r,n),(s=e.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=s[1]),i["!id"][o["!rel"]]&&(o["!drawel"]=i["!id"][o["!rel"]]),o}function $Pe(e,t){e.l+=10;var n=Ps(e,t-10);return{name:n}}function qPe(e,t,n,i,r){if(!e)return e;i||(i={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},s=[],a=!1;return ch(e,function(c,d,u){switch(u){case 550:o["!rel"]=c;break;case 651:r.Sheets[n]||(r.Sheets[n]={}),c.name&&(r.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u);break;case 38:s.pop();break;default:if(d.T>0)s.push(u);else if(d.T<0)s.pop();else if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}},t),i["!id"][o["!rel"]]&&(o["!drawel"]=i["!id"][o["!rel"]]),o}var U8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],KPe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],XPe=[],YPe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function oJ(e,t){for(var n=0;n!=e.length;++n)for(var i=e[n],r=0;r!=t.length;++r){var o=t[r];if(i[o[0]]==null)i[o[0]]=o[1];else switch(o[2]){case"bool":typeof i[o[0]]=="string"&&(i[o[0]]=nr(i[o[0]]));break;case"int":typeof i[o[0]]=="string"&&(i[o[0]]=parseInt(i[o[0]],10));break}}}function sJ(e,t){for(var n=0;n!=t.length;++n){var i=t[n];if(e[i[0]]==null)e[i[0]]=i[1];else switch(i[2]){case"bool":typeof e[i[0]]=="string"&&(e[i[0]]=nr(e[i[0]]));break;case"int":typeof e[i[0]]=="string"&&(e[i[0]]=parseInt(e[i[0]],10));break}}}function ete(e){sJ(e.WBProps,U8),sJ(e.CalcPr,YPe),oJ(e.WBView,KPe),oJ(e.Sheets,XPe),uC.date1904=nr(e.WBProps.date1904)}function ZPe(e){return!e.Workbook||!e.Workbook.WBProps?"false":nr(e.Workbook.WBProps.date1904)?"true":"false"}var QPe="][*?/\\".split("");function tte(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return QPe.forEach(function(i){if(e.indexOf(i)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function JPe(e,t,n){e.forEach(function(i,r){tte(i);for(var o=0;o<r;++o)if(i==e[o])throw new Error("Duplicate Sheet Name: "+i);if(n){var s=t&&t[r]&&t[r].CodeName||i;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function e3e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];JPe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)ZAe(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var t3e=/<\w+:workbook/;function n3e(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},i=!1,r="xmlns",o={},s=0;if(e.replace(Ls,function(l,c){var d=Jt(l);switch(Hd(d[0])){case"<?xml":break;case"<workbook":l.match(t3e)&&(r="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[r];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":U8.forEach(function(u){if(d[u[0]]!=null)switch(u[2]){case"bool":n.WBProps[u[0]]=nr(d[u[0]]);break;case"int":n.WBProps[u[0]]=parseInt(d[u[0]],10);break;default:n.WBProps[u[0]]=d[u[0]]}}),d.codeName&&(n.WBProps.CodeName=Ni(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=ti(Ni(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":i=!0;break;case"</definedNames>":i=!1;break;case"<definedName":o={},o.Name=Ni(d.name),d.comment&&(o.Comment=d.comment),d.localSheetId&&(o.Sheet=+d.localSheetId),nr(d.hidden||"0")&&(o.Hidden=!0),s=c+l.length;break;case"</definedName>":o.Ref=ti(Ni(e.slice(s,c))),n.Names.push(o);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<revisionPtr":break;default:if(!i&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),jg.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return ete(n),n}function nte(e){var t=[eo];t[t.length]=rt("workbook",null,{xmlns:jg[0],"xmlns:r":_o.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(U8.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(i[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(i.codeName=e.Workbook.WBProps.CodeName,delete i.CodeName)),t[t.length]=rt("workbookPr",null,i);var r=e.Workbook&&e.Workbook.Sheets||[],o=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length&&!(!r[o]||!r[o].Hidden);++o);o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var s={name:Mi(e.SheetNames[o].slice(0,31))};if(s.sheetId=""+(o+1),s["r:id"]="rId"+(o+1),r[o])switch(r[o].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=rt("sheet",null,s)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=rt("definedName",Mi(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function i3e(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Y6(e,t-8),n.name=Ps(e),n}function r3e(e,t){return t||(t=Ae(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),T8(e.strRelID,t),Go(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function o3e(e,t){var n={},i=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var r=t>8?Ps(e):"";return r.length>0&&(n.CodeName=r),n.autoCompressPictures=!!(i&65536),n.backupFile=!!(i&64),n.checkCompatibility=!!(i&4096),n.date1904=!!(i&1),n.filterPrivacy=!!(i&8),n.hidePivotFieldList=!!(i&1024),n.promptedSolutions=!!(i&16),n.publishItems=!!(i&2048),n.refreshAllConnections=!!(i&262144),n.saveExternalLinkValues=!!(i&128),n.showBorderUnselectedTables=!!(i&4),n.showInkAnnotation=!!(i&32),n.showObjects=["all","placeholders","none"][i>>13&3],n.showPivotChartFilter=!!(i&32768),n.updateLinks=["userSet","never","always"][i>>8&3],n}function s3e(e,t){t||(t=Ae(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),qJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function a3e(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function l3e(e,t,n){var i=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),o=BDe(e),s=jAe(e,0,n),a=R8(e);e.l=i;var l={Name:o,Ptg:s};return r<268435455&&(l.Sheet=r),a&&(l.Comment=a),l}function c3e(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],r=!1;t||(t={}),t.biff=12;var o=[],s=[[]];return s.SheetNames=[],s.XTI=[],Lw[16]={n:"BrtFRTArchID$",f:a3e},ch(e,function(l,c,d){switch(d){case 156:s.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Fs(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,o.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,l]):s[0]=[d,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:i.push(d),r=!0;break;case 36:i.pop(),r=!1;break;case 37:i.push(d),r=!0;break;case 38:i.pop(),r=!1;break;case 16:break;default:if(!c.T){if(!r||t.WTF&&i[i.length-1]!=37&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),ete(n),n.Names=o,n.supbooks=s,n}function d3e(e,t){je(e,143);for(var n=0;n!=t.SheetNames.length;++n){var i=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,r={Hidden:i,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};je(e,156,r3e(r))}je(e,144)}function u3e(e,t){t||(t=Ae(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Go("SheetJS",t),Go(Ew.version,t),Go(Ew.version,t),Go("7262",t),t.length>t.l?t.slice(0,t.l):t}function h3e(e,t){t||(t=Ae(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function f3e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,i=0,r=-1,o=-1;i<n.length;++i)!n[i]||!n[i].Hidden&&r==-1?r=i:n[i].Hidden==1&&o==-1&&(o=i);o>r||(je(e,135),je(e,158,h3e(r)),je(e,136))}}function p3e(e,t){var n=La();return je(n,131),je(n,128,u3e()),je(n,153,s3e(e.Workbook&&e.Workbook.WBProps||null)),f3e(n,e,t),d3e(n,e,t),je(n,132),n.end()}function g3e(e,t,n){return t.slice(-4)===".bin"?c3e(e,n):n3e(e,n)}function m3e(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?kPe(e,i,n,r,o,s,a):lMe(e,i,n,r,o,s,a)}function v3e(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?qPe(e,i,n,r,o,s,a):jPe(e,i,n,r,o,s,a)}function C3e(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?xke(e,i,n,r,o,s,a):bke(e,i,n,r,o,s,a)}function y3e(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?Cke(e,i,n,r,o,s,a):yke(e,i,n,r,o,s,a)}function x3e(e,t,n,i){return t.slice(-4)===".bin"?gFe(e,n,i):iFe(e,n,i)}function b3e(e,t,n){return Lee(e,n)}function w3e(e,t,n){return t.slice(-4)===".bin"?wIe(e,n):yIe(e,n)}function _3e(e,t,n){return t.slice(-4)===".bin"?fke(e,n):rke(e,n)}function S3e(e,t,n){return t.slice(-4)===".bin"?tke(e,t,n):JFe(e,t,n)}function E3e(e,t,n,i){return n.slice(-4)===".bin"?nke(e,t,n,i):void 0}function D3e(e,t,n){return t.slice(-4)===".bin"?YFe(e,t,n):QFe(e,t,n)}function R3e(e,t,n){return(t.slice(-4)===".bin"?p3e:nte)(e,n)}function T3e(e,t,n,i,r){return(t.slice(-4)===".bin"?zPe:Zee)(e,n,i,r)}function I3e(e,t,n){return(t.slice(-4)===".bin"?EFe:Pee)(e,n)}function F3e(e,t,n){return(t.slice(-4)===".bin"?EIe:Dee)(e,n)}function k3e(e,t,n){return(t.slice(-4)===".bin"?pke:Vee)(e,n)}function A3e(e){return(e.slice(-4)===".bin"?ZFe:Nee)()}var ite=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,rte=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ac(e,t){var n=e.split(/\s+/),i=[];if(t||(i[0]=n[0]),n.length===1)return i;var r=e.match(ite),o,s,a,l;if(r)for(l=0;l!=r.length;++l)o=r[l].match(rte),(s=o[1].indexOf(":"))===-1?i[o[1]]=o[2].slice(1,o[2].length-1):(o[1].slice(0,6)==="xmlns:"?a="xmlns"+o[1].slice(6):a=o[1].slice(s+1),i[a]=o[2].slice(1,o[2].length-1));return i}function M3e(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var i=e.match(ite),r,o,s,a;if(i)for(a=0;a!=i.length;++a)r=i[a].match(rte),(o=r[1].indexOf(":"))===-1?n[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?s="xmlns"+r[1].slice(6):s=r[1].slice(o+1),n[s]=r[2].slice(1,r[2].length-1));return n}var _w;function P3e(e,t){var n=_w[e]||ti(e);return n==="General"?Vg(t):Yl(n,t)}function O3e(e,t,n,i){var r=i;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=nr(i);break;case"i2":case"int":r=parseInt(i,10);break;case"r4":case"float":r=parseFloat(i);break;case"date":case"dateTime.tz":r=ir(i);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[ti(t)]=r}function L3e(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||dh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rw(e.v):e.w=Vg(e.v):e.w=P3e(t||"General",e.v)}catch(o){if(n.WTF)throw o}try{var i=_w[t]||t||"General";if(n.cellNF&&(e.z=i),n.cellDates&&e.t=="n"&&mC(i)){var r=Pg(e.v);r&&(e.t="d",e.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}catch(o){if(n.WTF)throw o}}}function N3e(e,t,n){if(n.cellStyles&&t.Interior){var i=t.Interior;i.Pattern&&(i.patternType=XIe[i.Pattern]||i.Pattern)}e[t.ID]=t}function B3e(e,t,n,i,r,o,s,a,l,c){var d="General",u=i.StyleID,f={};c=c||{};var p=[],m=0;for(u===void 0&&a&&(u=a.StyleID),u===void 0&&s&&(u=s.StyleID);o[u]!==void 0&&(o[u].nf&&(d=o[u].nf),o[u].Interior&&p.push(o[u].Interior),!!o[u].Parent);)u=o[u].Parent;switch(n.Type){case"Boolean":i.t="b",i.v=nr(e);break;case"String":i.t="s",i.r=_Q(ti(e)),i.v=e.indexOf("<")>-1?ti(t||e).replace(/<.*?>/g,""):i.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),i.v=(ir(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),i.v!==i.v?i.v=ti(e):i.v<60&&(i.v=i.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":i.v===void 0&&(i.v=+e),i.t||(i.t="n");break;case"Error":i.t="e",i.v=QJ[e],c.cellText!==!1&&(i.w=e);break;default:e==""&&t==""?i.t="z":(i.t="s",i.v=_Q(t||e));break}if(L3e(i,d,c),c.cellFormula!==!1)if(i.Formula){var v=ti(i.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),i.f=dC(v,r),delete i.Formula,i.ArrayRange=="RC"?i.F=dC("RC:RC",r):i.ArrayRange&&(i.F=dC(i.ArrayRange,r),l.push([ni(i.F),i.F]))}else for(m=0;m<l.length;++m)r.r>=l[m][0].s.r&&r.r<=l[m][0].e.r&&r.c>=l[m][0].s.c&&r.c<=l[m][0].e.c&&(i.F=l[m][1]);c.cellStyles&&(p.forEach(function(C){!f.patternType&&C.patternType&&(f.patternType=C.patternType)}),i.s=f),i.StyleID!==void 0&&(i.ixfe=i.StyleID)}function V3e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function U6(e,t){var n=t||{};vC();var i=pw(v8(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(typeof Si<"u"?i=Si.utils.decode(65001,K6(i)):i=Ni(i));var r=i.slice(0,1024).toLowerCase(),o=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var s=rr(n);return s.type="string",pC.to_workbook(i,s)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(gt){r.indexOf("<"+gt)>=0&&(o=!0)}),o)return SOe(i,n);_w={"General Number":"General","General Date":Kt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Kt[15],"Short Date":Kt[14],"Long Time":Kt[19],"Medium Time":Kt[18],"Short Time":Kt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Kt[2],Standard:Kt[4],Percent:Kt[10],Scientific:Kt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c;Vr!=null&&n.dense==null&&(n.dense=Vr);var d={},u=[],f=n.dense?[]:{},p="",m={},v={},C=Ac('<Data ss:Type="String">'),y=0,b=0,w=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},R={},T="",k=0,M=[],B={},L={},V=0,ee=[],re=[],se={},ge=[],fe,Ee=!1,te=[],oe=[],J={},A=0,ae=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};Fw.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";a=Fw.exec(i);)switch(a[3]=(ce=a[3]).toLowerCase()){case"data":if(ce=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?B3e(i.slice(y,a.index),T,C,l[l.length-1][0]=="comment"?se:m,{c:b,r:w},D,ge[b],v,te,n):(T="",C=Ac(a[0]),y=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(re.length>0&&(m.c=re),(!n.sheetRows||n.sheetRows>w)&&m.v!==void 0&&(n.dense?(f[w]||(f[w]=[]),f[w][b]=m):f[br(b)+Jr(w)]=m),m.HRef&&(m.l={Target:ti(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(A=b+(parseInt(m.MergeAcross,10)|0),ae=w+(parseInt(m.MergeDown,10)|0),M.push({s:{c:b,r:w},e:{c:A,r:ae}})),!n.sheetStubs)m.MergeAcross?b=A+1:++b;else if(m.MergeAcross||m.MergeDown){for(var Me=b;Me<=A;++Me)for(var ze=w;ze<=ae;++ze)(Me>b||ze>w)&&(n.dense?(f[ze]||(f[ze]=[]),f[ze][Me]={t:"z"}):f[br(Me)+Jr(ze)]={t:"z"});b=A+1}else++b;else m=M3e(a[0]),m.Index&&(b=+m.Index-1),b<S.s.c&&(S.s.c=b),b>S.e.c&&(S.e.c=b),a[0].slice(-2)==="/>"&&++b,re=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(w<S.s.r&&(S.s.r=w),w>S.e.r&&(S.e.r=w),a[0].slice(-2)==="/>"&&(v=Ac(a[0]),v.Index&&(w=+v.Index-1)),b=0,++w):(v=Ac(a[0]),v.Index&&(w=+v.Index-1),J={},(v.AutoFitHeight=="0"||v.Height)&&(J.hpx=parseInt(v.Height,10),J.hpt=Ow(J.hpx),oe[w]=J),v.Hidden=="1"&&(J.hidden=!0,oe[w]=J));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));u.push(p),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(f["!ref"]=yn(S),n.sheetRows&&n.sheetRows<=S.e.r&&(f["!fullref"]=f["!ref"],S.e.r=n.sheetRows-1,f["!ref"]=yn(S))),M.length&&(f["!merges"]=M),ge.length>0&&(f["!cols"]=ge),oe.length>0&&(f["!rows"]=oe),d[p]=f}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([a[3],!1]),c=Ac(a[0]),p=ti(c.Name),f=n.dense?[]:{},M=[],te=[],oe=[],Q={name:p,Hidden:0},K.Sheets.push(Q);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),ge=[],Ee=!1}break;case"style":a[1]==="/"?N3e(D,R,n):R=Ac(a[0]);break;case"numberformat":R.nf=ti(Ac(a[0]).Format||"General"),_w[R.nf]&&(R.nf=_w[R.nf]);for(var Ve=0;Ve!=392&&Kt[Ve]!=R.nf;++Ve);if(Ve==392){for(Ve=57;Ve!=392;++Ve)if(Kt[Ve]==null){oh(R.nf,Ve);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(fe=Ac(a[0]),fe.Hidden&&(fe.hidden=!0,delete fe.Hidden),fe.Width&&(fe.wpx=parseInt(fe.Width,10)),!Ee&&fe.wpx>10){Ee=!0,ks=Aee;for(var ye=0;ye<ge.length;++ye)ge[ye]&&Gf(ge[ye])}Ee&&Gf(fe),ge[fe.Index-1||ge.length]=fe;for(var vt=0;vt<+fe.Span;++vt)ge[ge.length]=rr(fe);break;case"namedrange":if(a[1]==="/")break;K.Names||(K.Names=[]);var q=Jt(a[0]),Vt={Name:q.Name,Ref:dC(q.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Vt.Sheet=K.Sheets.length-1),K.Names.push(Vt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?T+=i.slice(k,a.index):k=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;R.Interior=Ac(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?cRe(B,ce,i.slice(V,a.index)):V=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));V3e(se),re.push(se)}else l.push([a[3],!1]),c=Ac(a[0]),se={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var St=Ac(a[0]);f["!autofilter"]={ref:dC(St.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return uJ(i,n);var _t=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_t=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_t=!1}break;case"excelworkbook":switch(a[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_t=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:_t=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(i.slice(V,a.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else V=a.index+a[0].length;break;case"header":f["!margins"]||Bg(f["!margins"]={},"xlml"),isNaN(+Jt(a[0]).Margin)||(f["!margins"].header=+Jt(a[0]).Margin);break;case"footer":f["!margins"]||Bg(f["!margins"]={},"xlml"),isNaN(+Jt(a[0]).Margin)||(f["!margins"].footer=+Jt(a[0]).Margin);break;case"pagemargins":var wt=Jt(a[0]);f["!margins"]||Bg(f["!margins"]={},"xlml"),isNaN(+wt.Top)||(f["!margins"].top=+wt.Top),isNaN(+wt.Left)||(f["!margins"].left=+wt.Left),isNaN(+wt.Right)||(f["!margins"].right=+wt.Right),isNaN(+wt.Bottom)||(f["!margins"].bottom=+wt.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_t=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_t=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_t=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_t=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_t=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_t=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_t=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_t=!1}break;case"smarttags":break;default:_t=!1;break}if(_t||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?O3e(L,ce,ee,i.slice(V,a.index)):(ee=a,V=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var Ze={};return!n.bookSheets&&!n.bookProps&&(Ze.Sheets=d),Ze.SheetNames=u,Ze.Workbook=K,Ze.SSF=rr(Kt),Ze.Props=B,Ze.Custprops=L,Ze}function i8(e,t){switch(j8(t=t||{}),t.type||"base64"){case"base64":return U6(ll(e),t);case"binary":case"buffer":case"file":return U6(e,t);case"array":return U6(Wf(e),t)}}function H3e(e,t){var n=[];return e.Props&&n.push(dRe(e.Props,t)),e.Custprops&&n.push(uRe(e.Props,e.Custprops,t)),n.join("")}function G3e(){return""}function z3e(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(i,r){var o=[];o.push(rt("NumberFormat",null,{"ss:Format":Mi(Kt[i.numFmtId])}));var s={"ss:ID":"s"+(21+r)};n.push(rt("Style",o.join(""),s))}),rt("Styles",n.join(""))}function ote(e){return rt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+V8(e.Ref,{r:0,c:0})})}function U3e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],i=0;i<t.length;++i){var r=t[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||n.push(ote(r)))}return rt("Names",n.join(""))}function W3e(e,t,n,i){if(!e||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,o=[],s=0;s<r.length;++s){var a=r[s];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||o.push(ote(a)))}return o.join("")}function j3e(e,t,n,i){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(rt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(rt("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(rt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[n])if(i.Workbook.Sheets[n].Hidden)r.push(rt("Visible",i.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(i.Workbook.Sheets[o]&&!i.Workbook.Sheets[o].Hidden);++o);o==n&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(as("ProtectContents","True")),e["!protect"].objects&&r.push(as("ProtectObjects","True")),e["!protect"].scenarios&&r.push(as("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?r.push(as("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&r.push(as("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&r.push("<"+s[1]+"/>")})),r.length==0?"":rt("WorksheetOptions",r.join(""),{xmlns:ol.x})}function $3e(e){return e.map(function(t){var n=hDe(t.t||""),i=rt("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return rt("Comment",i,{"ss:Author":t.a})}).join("")}function q3e(e,t,n,i,r,o,s){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+Mi(V8(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=wr(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=Mi(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=Mi(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],d=0;d!=c.length;++d)c[d].s.c!=s.c||c[d].s.r!=s.r||(c[d].e.c>c[d].s.c&&(a["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(a["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",f="";switch(e.t){case"z":if(!i.sheetStubs)return"";break;case"n":u="Number",f=String(e.v);break;case"b":u="Boolean",f=e.v?"1":"0";break;case"e":u="Error",f=dh[e.v];break;case"d":u="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Kt[14]);break;case"s":u="String",f=uDe(e.v||"");break}var p=$f(i.cellXfs,e,i);a["ss:StyleID"]="s"+(21+p),a["ss:Index"]=s.c+1;var m=e.v!=null?f:"",v=e.t=="z"?"":'<Data ss:Type="'+u+'">'+m+"</Data>";return(e.c||[]).length>0&&(v+=$3e(e.c)),rt("Cell",v,a)}function K3e(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=gC(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function X3e(e,t,n,i){if(!e["!ref"])return"";var r=ni(e["!ref"]),o=e["!merges"]||[],s=0,a=[];e["!cols"]&&e["!cols"].forEach(function(C,y){Gf(C);var b=!!C.width,w=OT(y,C),S={"ss:Index":y+1};b&&(S["ss:Width"]=Mw(w.width)),C.hidden&&(S["ss:Hidden"]="1"),a.push(rt("Column",null,S))});for(var l=Array.isArray(e),c=r.s.r;c<=r.e.r;++c){for(var d=[K3e(c,(e["!rows"]||[])[c])],u=r.s.c;u<=r.e.c;++u){var f=!1;for(s=0;s!=o.length;++s)if(!(o[s].s.c>u)&&!(o[s].s.r>c)&&!(o[s].e.c<u)&&!(o[s].e.r<c)){(o[s].s.c!=u||o[s].s.r!=c)&&(f=!0);break}if(!f){var p={r:c,c:u},m=Xt(p),v=l?(e[c]||[])[u]:e[m];d.push(q3e(v,m,e,t,n,i,p))}}d.push("</Row>"),d.length>2&&a.push(d.join(""))}return a.join("")}function Y3e(e,t,n){var i=[],r=n.SheetNames[e],o=n.Sheets[r],s=o?W3e(o,t,e,n):"";return s.length>0&&i.push("<Names>"+s+"</Names>"),s=o?X3e(o,t,e,n):"",s.length>0&&i.push("<Table>"+s+"</Table>"),i.push(j3e(o,t,e,n)),i.join("")}function Z3e(e,t){t||(t={}),e.SSF||(e.SSF=rr(Kt)),e.SSF&&(vC(),RT(e.SSF),t.revssf=IT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$f(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(H3e(e,t)),n.push(G3e(e,t)),n.push(""),n.push("");for(var i=0;i<e.SheetNames.length;++i)n.push(rt("Worksheet",Y3e(i,t,e),{"ss:Name":Mi(e.SheetNames[i])}));return n[2]=z3e(e,t),n[3]=U3e(e,t),eo+rt("Workbook",n.join(""),{xmlns:ol.ss,"xmlns:o":ol.o,"xmlns:x":ol.x,"xmlns:ss":ol.ss,"xmlns:dt":ol.dt,"xmlns:html":ol.html})}function Q3e(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=UDe(n),n.length-n.l<=4)return t;var i=n.read_shift(4);if(i==0||i>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(i=n.read_shift(4),i!==1907505652)||(t.UnicodeClipboardFormat=WDe(n),i=n.read_shift(4),i==0||i>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var J3e=[60,1084,2066,2165,2175];function eOe(e,t,n,i,r){var o=i,s=[],a=n.slice(n.l,n.l+o);if(r&&r.enc&&r.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(a)}s.push(a),n.l+=o;for(var l=ih(n,n.l),c=r8[l],d=0;c!=null&&J3e.indexOf(l)>-1;)o=ih(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),a=n.slice(d,n.l+4+o),s.push(a),n.l+=4+o,c=r8[l=ih(n,n.l)];var u=Ho(s);ss(u,0);var f=0;u.lens=[];for(var p=0;p<s.length;++p)u.lens.push(f),f+=s[p].length;if(u.length<i)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+i;return t.f(u,u.length,r)}function Od(e,t,n){if(e.t!=="z"&&e.XF){var i=0;try{i=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Kt[i])}catch(o){if(t.WTF)throw o}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||dh[e.v]:i===0||i=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rw(e.v):e.w=Vg(e.v):e.w=Yl(i,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(o){if(t.WTF)throw o}if(t.cellDates&&i&&e.t=="n"&&mC(Kt[i]||String(i))){var r=Pg(e.v);r&&(e.t="d",e.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}}function uT(e,t,n){return{v:e,ixfe:t,t:n}}function tOe(e,t){var n={opts:{}},i={};Vr!=null&&t.dense==null&&(t.dense=Vr);var r=t.dense?[]:{},o={},s={},a=null,l=[],c="",d={},u,f="",p,m,v,C,y={},b=[],w,S,D=[],R=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},M=function(Ie){return Ie<8?Og[Ie]:Ie<64&&R[Ie-8]||Og[Ie]},B=function(Ie,de,me){var Je=de.XF.data;if(!(!Je||!Je.patternType||!me||!me.cellStyles)){de.s={},de.s.patternType=Je.patternType;var Mt;(Mt=Aw(M(Je.icvFore)))&&(de.s.fgColor={rgb:Mt}),(Mt=Aw(M(Je.icvBack)))&&(de.s.bgColor={rgb:Mt})}},L=function(Ie,de,me){if(!(J>1)&&!(me.sheetRows&&Ie.r>=me.sheetRows)){if(me.cellStyles&&de.XF&&de.XF.data&&B(Ie,de,me),delete de.ixfe,delete de.XF,u=Ie,f=Xt(Ie),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Ie.r<s.s.r&&(s.s.r=Ie.r),Ie.c<s.s.c&&(s.s.c=Ie.c),Ie.r+1>s.e.r&&(s.e.r=Ie.r+1),Ie.c+1>s.e.c&&(s.e.c=Ie.c+1),me.cellFormula&&de.f){for(var Je=0;Je<b.length;++Je)if(!(b[Je][0].s.c>Ie.c||b[Je][0].s.r>Ie.r)&&!(b[Je][0].e.c<Ie.c||b[Je][0].e.r<Ie.r)){de.F=yn(b[Je][0]),(b[Je][0].s.c!=Ie.c||b[Je][0].s.r!=Ie.r)&&delete de.f,de.f&&(de.f=""+Fs(b[Je][1],s,Ie,te,V));break}}me.dense?(r[Ie.r]||(r[Ie.r]=[]),r[Ie.r][Ie.c]=de):r[f]=de}},V={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(V.password=t.password);var ee,re=[],se=[],ge=[],fe=[],Ee=!1,te=[];te.SheetNames=V.snames,te.sharedf=V.sharedf,te.arrayf=V.arrayf,te.names=[],te.XTI=[];var oe=0,J=0,A=0,ae=[],K=[],Q;V.codepage=1200,Mc(1200);for(var ce=!1;e.l<e.length-1;){var Me=e.l,ze=e.read_shift(2);if(ze===0&&oe===10)break;var Ve=e.l===e.length?0:e.read_shift(2),ye=r8[ze];if(ye&&ye.f){if(t.bookSheets&&oe===133&&ze!==133)break;if(oe=ze,ye.r===2||ye.r==12){var vt=e.read_shift(2);if(Ve-=2,!V.enc&&vt!==ze&&((vt&255)<<8|vt>>8)!==ze)throw new Error("rt mismatch: "+vt+"!="+ze);ye.r==12&&(e.l+=10,Ve-=10)}var q={};if(ze===10?q=ye.f(e,Ve,V):q=eOe(ze,ye,e,Ve,V),J==0&&[9,521,1033,2057].indexOf(oe)===-1)continue;switch(ze){case 34:n.opts.Date1904=T.WBProps.date1904=q;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(V.enc||(e.l=0),V.enc=q,!t.password)throw new Error("File is password-protected");if(q.valid==null)throw new Error("Encryption scheme unsupported");if(!q.valid)throw new Error("Password is incorrect");break;case 92:V.lastuser=q;break;case 66:var Vt=Number(q);switch(Vt){case 21010:Vt=1200;break;case 32768:Vt=1e4;break;case 32769:Vt=1252;break}Mc(V.codepage=Vt),ce=!0;break;case 317:V.rrtabid=q;break;case 25:V.winlocked=q;break;case 439:n.opts.RefreshAll=q;break;case 12:n.opts.CalcCount=q;break;case 16:n.opts.CalcDelta=q;break;case 17:n.opts.CalcIter=q;break;case 13:n.opts.CalcMode=q;break;case 14:n.opts.CalcPrecision=q;break;case 95:n.opts.CalcSaveRecalc=q;break;case 15:V.CalcRefMode=q;break;case 2211:n.opts.FullCalc=q;break;case 129:q.fDialog&&(r["!type"]="dialog"),q.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),q.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 224:D.push(q);break;case 430:te.push([q]),te[te.length-1].XTI=[];break;case 35:case 547:te[te.length-1].push(q);break;case 24:case 536:Q={Name:q.Name,Ref:Fs(q.rgce,s,null,te,V)},q.itab>0&&(Q.Sheet=q.itab-1),te.names.push(Q),te[0]||(te[0]=[],te[0].XTI=[]),te[te.length-1].push(q),q.Name=="_xlnm._FilterDatabase"&&q.itab>0&&q.rgce&&q.rgce[0]&&q.rgce[0][0]&&q.rgce[0][0][0]=="PtgArea3d"&&(K[q.itab-1]={ref:yn(q.rgce[0][0][1][2])});break;case 22:V.ExternCount=q;break;case 23:te.length==0&&(te[0]=[],te[0].XTI=[]),te[te.length-1].XTI=te[te.length-1].XTI.concat(q),te.XTI=te.XTI.concat(q);break;case 2196:if(V.biff<8)break;Q!=null&&(Q.Comment=q[1]);break;case 18:r["!protect"]=q;break;case 19:q!==0&&V.WTF&&console.error("Password verifier: "+q);break;case 133:o[q.pos]=q,V.snames.push(q.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,r["!ref"]=yn(s),t.sheetRows&&t.sheetRows<=s.e.r){var St=s.e.r;s.e.r=t.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=yn(s),s.e.r=St}s.e.r++,s.e.c++}re.length>0&&(r["!merges"]=re),se.length>0&&(r["!objects"]=se),ge.length>0&&(r["!cols"]=ge),fe.length>0&&(r["!rows"]=fe),T.Sheets.push(k)}c===""?d=r:i[c]=r,r=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(V.biff===8&&(V.biff={9:2,521:3,1033:4}[ze]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[q.BIFFVer]||8),V.biffguess=q.BIFFVer==0,q.BIFFVer==0&&q.dt==4096&&(V.biff=5,ce=!0,Mc(V.codepage=28591)),V.biff==8&&q.BIFFVer==0&&q.dt==16&&(V.biff=2),J++)break;if(r=t.dense?[]:{},V.biff<8&&!ce&&(ce=!0,Mc(V.codepage=t.codepage||1252)),V.biff<5||q.BIFFVer==0&&q.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var _t={pos:e.l-Ve,name:c};o[_t.pos]=_t,V.snames.push(c)}else c=(o[Me]||{name:""}).name;q.dt==32&&(r["!type"]="chart"),q.dt==64&&(r["!type"]="macro"),re=[],se=[],V.arrayf=b=[],ge=[],fe=[],Ee=!1,k={Hidden:(o[Me]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(t.dense?(r[q.r]||[])[q.c]:r[Xt({c:q.c,r:q.r})])&&++q.c,w={ixfe:q.ixfe,XF:D[q.ixfe]||{},v:q.val,t:"n"},A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:q.c,r:q.r},w,t);break;case 5:case 517:w={ixfe:q.ixfe,XF:D[q.ixfe],v:q.val,t:q.t},A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:q.c,r:q.r},w,t);break;case 638:w={ixfe:q.ixfe,XF:D[q.ixfe],v:q.rknum,t:"n"},A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:q.c,r:q.r},w,t);break;case 189:for(var wt=q.c;wt<=q.C;++wt){var Ze=q.rkrec[wt-q.c][0];w={ixfe:Ze,XF:D[Ze],v:q.rkrec[wt-q.c][1],t:"n"},A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:wt,r:q.r},w,t)}break;case 6:case 518:case 1030:{if(q.val=="String"){a=q;break}if(w=uT(q.val,q.cell.ixfe,q.tt),w.XF=D[w.ixfe],t.cellFormula){var gt=q.formula;if(gt&&gt[0]&&gt[0][0]&&gt[0][0][0]=="PtgExp"){var Ht=gt[0][0][1][0],xn=gt[0][0][1][1],$n=Xt({r:Ht,c:xn});y[$n]?w.f=""+Fs(q.formula,s,q.cell,te,V):w.F=((t.dense?(r[Ht]||[])[xn]:r[$n])||{}).F}else w.f=""+Fs(q.formula,s,q.cell,te,V)}A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L(q.cell,w,t),a=q}break;case 7:case 519:if(a)a.val=q,w=uT(q,a.cell.ixfe,"s"),w.XF=D[w.ixfe],t.cellFormula&&(w.f=""+Fs(a.formula,s,a.cell,te,V)),A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L(a.cell,w,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(q);var ur=Xt(q[0].s);if(p=t.dense?(r[q[0].s.r]||[])[q[0].s.c]:r[ur],t.cellFormula&&p){if(!a||!ur||!p)break;p.f=""+Fs(q[1],s,q[0],te,V),p.F=yn(q[0])}}break;case 1212:{if(!t.cellFormula)break;if(f){if(!a)break;y[Xt(a.cell)]=q[0],p=t.dense?(r[a.cell.r]||[])[a.cell.c]:r[Xt(a.cell)],(p||{}).f=""+Fs(q[0],s,u,te,V)}}break;case 253:w=uT(l[q.isst].t,q.ixfe,"s"),l[q.isst].h&&(w.h=l[q.isst].h),w.XF=D[w.ixfe],A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:q.c,r:q.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:q.ixfe,XF:D[q.ixfe],t:"z"},A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:q.c,r:q.r},w,t));break;case 190:if(t.sheetStubs)for(var Tn=q.c;Tn<=q.C;++Tn){var ei=q.ixfe[Tn-q.c];w={ixfe:ei,XF:D[ei],t:"z"},A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:Tn,r:q.r},w,t)}break;case 214:case 516:case 4:w=uT(q.val,q.ixfe,"s"),w.XF=D[w.ixfe],A>0&&(w.z=ae[w.ixfe>>8&63]),Od(w,t,n.opts.Date1904),L({c:q.c,r:q.r},w,t);break;case 0:case 512:J===1&&(s=q);break;case 252:l=q;break;case 1054:if(V.biff==4){ae[A++]=q[1];for(var Ei=0;Ei<A+163&&Kt[Ei]!=q[1];++Ei);Ei>=163&&oh(q[1],A+163)}else oh(q[1],q[0]);break;case 30:{ae[A++]=q;for(var Zt=0;Zt<A+163&&Kt[Zt]!=q;++Zt);Zt>=163&&oh(q,A+163)}break;case 229:re=re.concat(q);break;case 93:se[q.cmo[0]]=V.lastobj=q;break;case 438:V.lastobj.TxO=q;break;case 127:V.lastobj.ImData=q;break;case 440:for(C=q[0].s.r;C<=q[0].e.r;++C)for(v=q[0].s.c;v<=q[0].e.c;++v)p=t.dense?(r[C]||[])[v]:r[Xt({c:v,r:C})],p&&(p.l=q[1]);break;case 2048:for(C=q[0].s.r;C<=q[0].e.r;++C)for(v=q[0].s.c;v<=q[0].e.c;++v)p=t.dense?(r[C]||[])[v]:r[Xt({c:v,r:C})],p&&p.l&&(p.l.Tooltip=q[1]);break;case 28:{if(V.biff<=5&&V.biff>=2)break;p=t.dense?(r[q[0].r]||[])[q[0].c]:r[Xt(q[0])];var qn=se[q[2]];p||(t.dense?(r[q[0].r]||(r[q[0].r]=[]),p=r[q[0].r][q[0].c]={t:"z"}):p=r[Xt(q[0])]={t:"z"},s.e.r=Math.max(s.e.r,q[0].r),s.s.r=Math.min(s.s.r,q[0].r),s.e.c=Math.max(s.e.c,q[0].c),s.s.c=Math.min(s.s.c,q[0].c)),p.c||(p.c=[]),m={a:q[1],t:qn.TxO.t},p.c.push(m)}break;case 2173:zFe(D[q.ixfe],q.ext);break;case 125:{if(!V.cellStyles)break;for(;q.e>=q.s;)ge[q.e--]={width:q.w/256,level:q.level||0,hidden:!!(q.flags&1)},Ee||(Ee=!0,L8(q.w/256)),Gf(ge[q.e+1])}break;case 520:{var Pi={};q.level!=null&&(fe[q.r]=Pi,Pi.level=q.level),q.hidden&&(fe[q.r]=Pi,Pi.hidden=!0),q.hpt&&(fe[q.r]=Pi,Pi.hpt=q.hpt,Pi.hpx=gC(q.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||Bg(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ze]]=q;break;case 161:r["!margins"]||Bg(r["!margins"]={}),r["!margins"].header=q.header,r["!margins"].footer=q.footer;break;case 574:q.RTL&&(T.Views[0].RTL=!0);break;case 146:R=q;break;case 2198:ee=q;break;case 140:S=q;break;case 442:c?k.CodeName=q||k.name:T.WBProps.CodeName=q||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+ze.toString(16)),e.l+=Ve}return n.SheetNames=Hr(o).sort(function(li,Ie){return Number(li)-Number(Ie)}).map(function(li){return o[li].name}),t.bookSheets||(n.Sheets=i),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&K.forEach(function(li,Ie){n.Sheets[n.SheetNames[Ie]]["!autofilter"]=li}),n.Strings=l,n.SSF=rr(Kt),V.enc&&(n.Encryption=V.enc),ee&&(n.Themes=ee),n.Metadata={},S!==void 0&&(n.Metadata.Country=S),te.names.length>0&&(T.Names=te.names),n.Workbook=T,n}var Sw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nOe(e,t,n){var i=Bt.find(e,"/!DocumentSummaryInformation");if(i&&i.size>0)try{var r=GQ(i,Z6,Sw.DSI);for(var o in r)t[o]=r[o]}catch(c){if(n.WTF)throw c}var s=Bt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var a=GQ(s,Q6,Sw.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(ree(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function iOe(e,t){var n=[],i=[],r=[],o=0,s,a=vQ(Z6,"n"),l=vQ(Q6,"n");if(e.Props)for(s=Hr(e.Props),o=0;o<s.length;++o)(Object.prototype.hasOwnProperty.call(a,s[o])?n:Object.prototype.hasOwnProperty.call(l,s[o])?i:r).push([s[o],e.Props[s[o]]]);if(e.Custprops)for(s=Hr(e.Custprops),o=0;o<s.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},s[o])||(Object.prototype.hasOwnProperty.call(a,s[o])?n:Object.prototype.hasOwnProperty.call(l,s[o])?i:r).push([s[o],e.Custprops[s[o]]]);var c=[];for(o=0;o<r.length;++o)uee.indexOf(r[o][0])>-1||iee.indexOf(r[o][0])>-1||r[o][1]!=null&&c.push(r[o]);i.length&&Bt.utils.cfb_add(t,"/SummaryInformation",zQ(i,Sw.SI,l,Q6)),(n.length||c.length)&&Bt.utils.cfb_add(t,"/DocumentSummaryInformation",zQ(n,Sw.DSI,a,Z6,c.length?c:null,Sw.UDI))}function ste(e,t){t||(t={}),j8(t),l8(),t.codepage&&a8(t.codepage);var n,i;if(e.FullPaths){if(Bt.find(e,"/encryption"))throw new Error("File is password-protected");n=Bt.find(e,"!CompObj"),i=Bt.find(e,"/Workbook")||Bt.find(e,"/Book")}else{switch(t.type){case"base64":e=sl(ll(e));break;case"binary":e=sl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ss(e,0),i={content:e}}var r,o;if(n&&Q3e(n),t.bookProps&&!t.bookSheets)r={};else{var s=On?"buffer":"array";if(i&&i.content)r=tOe(i.content,t);else if((o=Bt.find(e,"PerfectOffice_MAIN"))&&o.content)r=Ng.to_workbook(o.content,(t.type=s,t));else if((o=Bt.find(e,"NativeContent_MAIN"))&&o.content)r=Ng.to_workbook(o.content,(t.type=s,t));else throw(o=Bt.find(e,"MN0"))&&o.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Bt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=mke(e))}var a={};return e.FullPaths&&nOe(e,a,t),r.Props=r.Custprops=a,t.bookFiles&&(r.cfb=e),r}function rOe(e,t){var n=t||{},i=Bt.utils.cfb_new({root:"R"}),r="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":r="/Workbook",n.biff=8;break;case"biff5":r="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Bt.utils.cfb_add(i,r,ate(e,n)),n.biff==8&&(e.Props||e.Custprops)&&iOe(e,i),n.biff==8&&e.vbaraw&&vke(i,Bt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),i}var Lw={0:{f:TMe},1:{f:LMe},2:{f:tPe},3:{f:WMe},4:{f:HMe},5:{f:QMe},6:{f:sPe},7:{f:KMe},8:{f:fPe},9:{f:hPe},10:{f:dPe},11:{f:uPe},12:{f:BMe},13:{f:iPe},14:{f:$Me},15:{f:zMe},16:{f:Qee},17:{f:lPe},18:{f:YMe},19:{f:D8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:l3e},40:{},42:{},43:{f:sFe},44:{f:rFe},45:{f:cFe},46:{f:uFe},47:{f:dFe},48:{},49:{f:kDe},50:{},51:{f:jFe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:wee},62:{f:oPe},63:{f:eke},64:{f:IPe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Os,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:EPe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PMe},148:{f:kMe,p:16},151:{f:yPe},152:{},153:{f:o3e},154:{},155:{},156:{f:i3e},157:{},158:{},159:{T:1,f:bIe},160:{T:-1},161:{T:1,f:Xg},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:pPe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:UFe},336:{T:-1},337:{f:KFe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Y6},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bee},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:xPe},427:{f:bPe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_Pe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:MMe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:vPe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Y6},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uke},633:{T:1},634:{T:-1},635:{T:1,f:cke},636:{T:-1},637:{f:ODe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:$Pe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:FPe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},r8={6:{f:G6},10:{f:Nf},12:{f:uo},13:{f:uo},14:{f:Qr},15:{f:Qr},16:{f:As},17:{f:Qr},18:{f:Qr},19:{f:uo},20:{f:KQ},21:{f:KQ},23:{f:bee},24:{f:YQ},25:{f:Qr},26:{},27:{},28:{f:FTe},29:{},34:{f:Qr},35:{f:XQ},38:{f:As},39:{f:As},40:{f:As},41:{f:As},42:{f:Qr},43:{f:Qr},47:{f:zIe},49:{f:iTe},51:{f:uo},60:{},61:{f:QRe},64:{f:Qr},65:{f:nTe},66:{f:uo},77:{},80:{},81:{},82:{},85:{f:uo},89:{},90:{},91:{},92:{f:GRe},93:{f:MTe},94:{},95:{f:Qr},96:{},97:{},99:{f:Qr},125:{f:wee},128:{f:CTe},129:{f:URe},130:{f:uo},131:{f:Qr},132:{f:Qr},133:{f:WRe},134:{},140:{f:GTe},141:{f:uo},144:{},146:{f:WTe},151:{},152:{},153:{},154:{},155:{},156:{f:uo},157:{},158:{},160:{f:ZTe},161:{f:qTe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:pTe},190:{f:gTe},193:{f:Nf},197:{},198:{},199:{},200:{},201:{},202:{f:Qr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:uo},220:{},221:{f:Qr},222:{},224:{f:vTe},225:{f:HRe},226:{f:Nf},227:{},229:{f:kTe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$Re},253:{f:oTe},255:{f:KRe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:hee},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Qr},353:{f:Nf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:_Te},431:{f:Qr},432:{},433:{},434:{},437:{},438:{f:LTe},439:{f:Qr},440:{f:NTe},441:{},442:{f:Gw},443:{},444:{f:uo},445:{},446:{},448:{f:Nf},449:{f:ZRe,r:2},450:{f:Nf},512:{f:jQ},513:{f:YTe},515:{f:bTe},516:{f:aTe},517:{f:qQ},519:{f:QTe},520:{f:XRe},523:{},545:{f:ZQ},549:{f:WQ},566:{},574:{f:eTe},638:{f:fTe},659:{},1048:{},1054:{f:cTe},1084:{},1212:{f:RTe},2048:{f:VTe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:lT},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Nf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:jTe,r:12},2173:{f:GFe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Qr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:DTe,r:12},2197:{},2198:{f:OFe,r:12},2199:{},2200:{},2201:{},2202:{f:TTe,r:12},2203:{f:Nf},2204:{},2205:{},2206:{},2207:{},2211:{f:YRe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:uo},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:KTe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:UTe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:jQ},1:{},2:{f:iIe},3:{f:tIe},4:{f:eIe},5:{f:qQ},7:{f:oIe},8:{},9:{f:lT},11:{},22:{f:uo},30:{f:uTe},31:{},32:{},33:{f:ZQ},36:{},37:{f:WQ},50:{f:sIe},62:{},52:{},67:{},68:{f:uo},69:{},86:{},126:{},127:{f:JTe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:aIe},223:{},234:{},354:{},421:{},518:{f:G6},521:{f:lT},536:{f:YQ},547:{f:XQ},561:{},579:{},1030:{f:G6},1033:{f:lT},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ot(e,t,n,i){var r=t;if(!isNaN(r)){var o=i||(n||[]).length||0,s=e.next(4);s.write_shift(2,r),s.write_shift(2,o),o>0&&_8(n)&&e.push(n)}}function oOe(e,t,n,i){var r=i||(n||[]).length||0;if(r<=8224)return ot(e,t,n,r);var o=t;if(!isNaN(o)){for(var s=n.parts||[],a=0,l=0,c=0;c+(s[a]||8224)<=8224;)c+=s[a]||8224,a++;var d=e.next(4);for(d.write_shift(2,o),d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<r;){for(d=e.next(4),d.write_shift(2,60),c=0;c+(s[a]||8224)<=8224;)c+=s[a]||8224,a++;d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}function jw(e,t,n){return e||(e=Ae(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function sOe(e,t,n,i){var r=Ae(9);return jw(r,e,t),fee(n,i||"b",r),r}function aOe(e,t,n){var i=Ae(8+2*n.length);return jw(i,e,t),i.write_shift(1,n.length),i.write_shift(n.length,n,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function lOe(e,t,n,i){if(t.v!=null)switch(t.t){case"d":case"n":var r=t.t=="d"?So(ir(t.v)):t.v;r==(r|0)&&r>=0&&r<65536?ot(e,2,rIe(n,i,r)):ot(e,3,nIe(n,i,r));return;case"b":case"e":ot(e,5,sOe(n,i,t.v,t.t));return;case"s":case"str":ot(e,4,aOe(n,i,(t.v||"").slice(0,255)));return}ot(e,1,jw(null,n,i))}function cOe(e,t,n,i){var r=Array.isArray(t),o=ni(t["!ref"]||"A1"),s,a="",l=[];if(o.e.c>255||o.e.r>16383){if(i.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),s=yn(o)}for(var c=o.s.r;c<=o.e.r;++c){a=Jr(c);for(var d=o.s.c;d<=o.e.c;++d){c===o.s.r&&(l[d]=br(d)),s=l[d]+a;var u=r?(t[c]||[])[d]:t[s];u&&lOe(e,u,c,d,i)}}}function dOe(e,t){var n=t||{};Vr!=null&&n.dense==null&&(n.dense=Vr);for(var i=La(),r=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==n.sheet&&(r=o);if(r==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ot(i,n.biff==4?1033:n.biff==3?521:9,M8(e,16,n)),cOe(i,e.Sheets[e.SheetNames[r]],r,n,e),ot(i,10),i.end()}function uOe(e,t,n){ot(e,49,rTe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function hOe(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&ot(e,1054,dTe(r,t[r],n))})}function fOe(e,t){var n=Ae(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ot(e,2151,n),n=Ae(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Cee(ni(t["!ref"]||"A1"),n),n.write_shift(4,4),ot(e,2152,n)}function pOe(e,t){for(var n=0;n<16;++n)ot(e,224,$Q({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(i){ot(e,224,$Q(i,0,t))})}function gOe(e,t){for(var n=0;n<t["!links"].length;++n){var i=t["!links"][n];ot(e,440,BTe(i)),i[1].Tooltip&&ot(e,2048,HTe(i))}delete t["!links"]}function mOe(e,t){if(t){var n=0;t.forEach(function(i,r){++n<=256&&i&&ot(e,125,$Te(OT(r,i),r))})}}function vOe(e,t,n,i,r){var o=16+$f(r.cellXfs,t,r);if(t.v==null&&!t.bf){ot(e,513,Ug(n,i,o));return}if(t.bf)ot(e,6,UAe(t,n,i,r,o));else switch(t.t){case"d":case"n":var s=t.t=="d"?So(ir(t.v)):t.v;ot(e,515,wTe(n,i,s,o,r));break;case"b":case"e":ot(e,517,xTe(n,i,t.v,o,r,t.t));break;case"s":case"str":if(r.bookSST){var a=G8(r.Strings,t.v,r.revStrings);ot(e,253,sTe(n,i,a,o,r))}else ot(e,516,lTe(n,i,(t.v||"").slice(0,255),o,r));break;default:ot(e,513,Ug(n,i,o))}}function COe(e,t,n){var i=La(),r=n.SheetNames[e],o=n.Sheets[r]||{},s=(n||{}).Workbook||{},a=(s.Sheets||[])[e]||{},l=Array.isArray(o),c=t.biff==8,d,u="",f=[],p=ni(o["!ref"]||"A1"),m=c?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}ot(i,2057,M8(n,16,t)),ot(i,13,Kl(1)),ot(i,12,Kl(100)),ot(i,15,ra(!0)),ot(i,17,ra(!1)),ot(i,16,Gg(.001)),ot(i,95,ra(!0)),ot(i,42,ra(!1)),ot(i,43,ra(!1)),ot(i,130,Kl(1)),ot(i,128,yTe([0,0])),ot(i,131,ra(!1)),ot(i,132,ra(!1)),c&&mOe(i,o["!cols"]),ot(i,512,hTe(p,t)),c&&(o["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){u=Jr(v);for(var C=p.s.c;C<=p.e.c;++C){v===p.s.r&&(f[C]=br(C)),d=f[C]+u;var y=l?(o[v]||[])[C]:o[d];y&&(vOe(i,y,v,C,t),c&&y.l&&o["!links"].push([d,y.l]))}}var b=a.CodeName||a.name||r;return c&&ot(i,574,tTe((s.Views||[])[0])),c&&(o["!merges"]||[]).length&&ot(i,229,ATe(o["!merges"])),c&&gOe(i,o),ot(i,442,pee(b,t)),c&&fOe(i,o),ot(i,10),i.end()}function yOe(e,t,n){var i=La(),r=(e||{}).Workbook||{},o=r.Sheets||[],s=r.WBProps||{},a=n.biff==8,l=n.biff==5;if(ot(i,2057,M8(e,5,n)),n.bookType=="xla"&&ot(i,135),ot(i,225,a?Kl(1200):null),ot(i,193,xRe(2)),l&&ot(i,191),l&&ot(i,192),ot(i,226),ot(i,92,zRe("SheetJS",n)),ot(i,66,Kl(a?1200:1252)),a&&ot(i,353,Kl(0)),a&&ot(i,448),ot(i,317,XTe(e.SheetNames.length)),a&&e.vbaraw&&ot(i,211),a&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";ot(i,442,pee(c,n))}ot(i,156,Kl(17)),ot(i,25,ra(!1)),ot(i,18,ra(!1)),ot(i,19,Kl(0)),a&&ot(i,431,ra(!1)),a&&ot(i,444,Kl(0)),ot(i,61,JRe(n)),ot(i,64,ra(!1)),ot(i,141,Kl(0)),ot(i,34,ra(ZPe(e)=="true")),ot(i,14,ra(!0)),a&&ot(i,439,ra(!1)),ot(i,218,Kl(0)),uOe(i,e,n),hOe(i,e.SSF,n),pOe(i,n),a&&ot(i,352,ra(!1));var d=i.end(),u=La();a&&ot(u,140,zTe()),a&&n.Strings&&oOe(u,252,qRe(n.Strings,n)),ot(u,10);var f=u.end(),p=La(),m=0,v=0;for(v=0;v<e.SheetNames.length;++v)m+=(a?12:11)+(a?2:1)*e.SheetNames[v].length;var C=d.length+m+f.length;for(v=0;v<e.SheetNames.length;++v){var y=o[v]||{};ot(p,133,jRe({pos:C,hs:y.Hidden||0,dt:0,name:e.SheetNames[v]},n)),C+=t[v].length}var b=p.end();if(m!=b.length)throw new Error("BS8 "+m+" != "+b.length);var w=[];return d.length&&w.push(d),b.length&&w.push(b),f.length&&w.push(f),Ho(w)}function xOe(e,t){var n=t||{},i=[];e&&!e.SSF&&(e.SSF=rr(Kt)),e&&e.SSF&&(vC(),RT(e.SSF),n.revssf=IT(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,$8(n),n.cellXfs=[],$f(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)i[i.length]=COe(r,n,e);return i.unshift(yOe(e,i,n)),Ho(i)}function ate(e,t){for(var n=0;n<=e.SheetNames.length;++n){var i=e.Sheets[e.SheetNames[n]];if(!(!i||!i["!ref"])){var r=Na(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=t||{};switch(o.biff||2){case 8:case 5:return xOe(e,t);case 4:case 3:case 2:return dOe(e,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function aJ(e,t){var n=t||{};Vr!=null&&n.dense==null&&(n.dense=Vr);var i=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var r=e.match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var o=e.match(/<\/table/i),s=r.index,a=o&&o.index||e.length,l=rDe(e.slice(s,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,u=0,f=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var v=l[s].trim(),C=v.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var y=v.split(/<\/t[dh]>/i);for(a=0;a<y.length;++a){var b=y[a].trim();if(b.match(/<t[dh]/i)){for(var w=b,S=0;w.charAt(0)=="<"&&(S=w.indexOf(">"))>-1;)w=w.slice(S+1);for(var D=0;D<m.length;++D){var R=m[D];R.s.c==d&&R.s.r<c&&c<=R.e.r&&(d=R.e.c+1,D=-1)}var T=Jt(b.slice(0,b.indexOf(">")));f=T.colspan?+T.colspan:1,((u=+T.rowspan)>1||f>1)&&m.push({s:{r:c,c:d},e:{r:c+(u||1)-1,c:d+f-1}});var k=T.t||T["data-t"]||"";if(!w.length){d+=f;continue}if(w=LJ(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!w.length){d+=f;continue}var M={t:"s",v:w};n.raw||!w.trim().length||k=="s"||(w==="TRUE"?M={t:"b",v:!0}:w==="FALSE"?M={t:"b",v:!1}:isNaN(Oc(w))?isNaN(fC(w).getDate())||(M={t:"d",v:ir(w)},n.cellDates||(M={t:"n",v:So(M.v)}),M.z=n.dateNF||Kt[14]):M={t:"n",v:Oc(w)}),n.dense?(i[c]||(i[c]=[]),i[c][d]=M):i[Xt({r:c,c:d})]=M,d+=f}}}}return i["!ref"]=yn(p),m.length&&(i["!merges"]=m),i}function bOe(e,t,n,i){for(var r=e["!merges"]||[],o=[],s=t.s.c;s<=t.e.c;++s){for(var a=0,l=0,c=0;c<r.length;++c)if(!(r[c].s.r>n||r[c].s.c>s)&&!(r[c].e.r<n||r[c].e.c<s)){if(r[c].s.r<n||r[c].s.c<s){a=-1;break}a=r[c].e.r-r[c].s.r+1,l=r[c].e.c-r[c].s.c+1;break}if(!(a<0)){var d=Xt({r:n,c:s}),u=i.dense?(e[n]||[])[s]:e[d],f=u&&u.v!=null&&(u.h||m8(u.w||(ah(u),u.w)||""))||"",p={};a>1&&(p.rowspan=a),l>1&&(p.colspan=l),i.editable?f='<span contenteditable="true">'+f+"</span>":u&&(p["data-t"]=u&&u.t||"z",u.v!=null&&(p["data-v"]=u.v),u.z!=null&&(p["data-z"]=u.z),u.l&&(u.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+u.l.Target+'">'+f+"</a>")),p.id=(i.id||"sjs")+"-"+d,o.push(rt("td",f,p))}}var m="<tr>";return m+o.join("")+"</tr>"}var wOe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',_Oe="</body></html>";function SOe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return jf(aJ(n[0],t),t);var i=X8();return n.forEach(function(r,o){Y8(i,aJ(r,t),"Sheet"+(o+1))}),i}function EOe(e,t,n){var i=[];return i.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function lte(e,t){var n=t||{},i=n.header!=null?n.header:wOe,r=n.footer!=null?n.footer:_Oe,o=[i],s=Na(e["!ref"]);n.dense=Array.isArray(e),o.push(EOe(e,s,n));for(var a=s.s.r;a<=s.e.r;++a)o.push(bOe(e,s,a,n));return o.push("</table>"+r),o.join("")}function cte(e,t,n){var i=n||{};Vr!=null&&(i.dense=Vr);var r=0,o=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var s=typeof i.origin=="string"?wr(i.origin):i.origin;r=s.r,o=s.c}var a=t.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r,c:o}};if(e["!ref"]){var d=Na(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),r==-1&&(c.e.r=r=d.e.r+1)}var u=[],f=0,p=e["!rows"]||(e["!rows"]=[]),m=0,v=0,C=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);m<a.length&&v<l;++m){var S=a[m];if(lJ(S)){if(i.display)continue;p[v]={hidden:!0}}var D=S.children;for(C=y=0;C<D.length;++C){var R=D[C];if(!(i.display&&lJ(R))){var T=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):LJ(R.innerHTML),k=R.getAttribute("data-z")||R.getAttribute("z");for(f=0;f<u.length;++f){var M=u[f];M.s.c==y+o&&M.s.r<v+r&&v+r<=M.e.r&&(y=M.e.c+1-o,f=-1)}w=+R.getAttribute("colspan")||1,((b=+R.getAttribute("rowspan")||1)>1||w>1)&&u.push({s:{r:v+r,c:y+o},e:{r:v+r+(b||1)-1,c:y+o+(w||1)-1}});var B={t:"s",v:T},L=R.getAttribute("data-t")||R.getAttribute("t")||"";T!=null&&(T.length==0?B.t=L||"z":i.raw||T.trim().length==0||L=="s"||(T==="TRUE"?B={t:"b",v:!0}:T==="FALSE"?B={t:"b",v:!1}:isNaN(Oc(T))?isNaN(fC(T).getDate())||(B={t:"d",v:ir(T)},i.cellDates||(B={t:"n",v:So(B.v)}),B.z=i.dateNF||Kt[14]):B={t:"n",v:Oc(T)})),B.z===void 0&&k!=null&&(B.z=k);var V="",ee=R.getElementsByTagName("A");if(ee&&ee.length)for(var re=0;re<ee.length&&!(ee[re].hasAttribute("href")&&(V=ee[re].getAttribute("href"),V.charAt(0)!="#"));++re);V&&V.charAt(0)!="#"&&(B.l={Target:V}),i.dense?(e[v+r]||(e[v+r]=[]),e[v+r][y+o]=B):e[Xt({c:y+o,r:v+r})]=B,c.e.c<y+o&&(c.e.c=y+o),y+=w}}++v}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,v-1+r),e["!ref"]=yn(c),v>=l&&(e["!fullref"]=yn((c.e.r=a.length-m+v-1+r,c))),e}function dte(e,t){var n=t||{},i=n.dense?[]:{};return cte(i,e,t)}function DOe(e,t){return jf(dte(e,t),t)}function lJ(e){var t="",n=ROe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ROe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function TOe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(i,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=ti(t.replace(/<[^>]*>/g,""));return[n]}var cJ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ute(e,t){var n=t||{};Vr!=null&&n.dense==null&&(n.dense=Vr);var i=v8(e),r=[],o,s,a={name:""},l="",c=0,d,u,f={},p=[],m=n.dense?[]:{},v,C,y={value:""},b="",w=0,S,D=[],R=-1,T=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,B={},L=[],V={},ee=0,re=0,se=[],ge=1,fe=1,Ee=[],te={Names:[]},oe={},J=["",""],A=[],ae={},K="",Q=0,ce=!1,Me=!1,ze=0;for(Fw.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Fw.exec(i);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":v[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?m["!ref"]=yn(k):m["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=k.e.r&&(m["!fullref"]=m["!ref"],k.e.r=n.sheetRows-1,m["!ref"]=yn(k)),L.length&&(m["!merges"]=L),se.length&&(m["!rows"]=se),d.name=d.\u540D\u79F0||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),f[d.name]=m,Me=!1):v[0].charAt(v[0].length-2)!=="/"&&(d=Jt(v[0],!1),R=T=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,m=n.dense?[]:{},L=[],se=[],Me=!0);break;case"table-row-group":v[1]==="/"?--M:++M;break;case"table-row":case"\u884C":if(v[1]==="/"){R+=ge,ge=1;break}if(u=Jt(v[0],!1),u.\u884C\u53F7?R=u.\u884C\u53F7-1:R==-1&&(R=0),ge=+u["number-rows-repeated"]||1,ge<10)for(ze=0;ze<ge;++ze)M>0&&(se[R+ze]={level:M});T=-1;break;case"covered-table-cell":v[1]!=="/"&&++T,n.sheetStubs&&(n.dense?(m[R]||(m[R]=[]),m[R][T]={t:"z"}):m[Xt({r:R,c:T})]={t:"z"}),b="",D=[];break;case"table-cell":case"\u6570\u636E":if(v[0].charAt(v[0].length-2)==="/")++T,y=Jt(v[0],!1),fe=parseInt(y["number-columns-repeated"]||"1",10),C={t:"z",v:null},y.formula&&n.cellFormula!=!1&&(C.f=rJ(ti(y.formula))),(y.\u6570\u636E\u7C7B\u578B||y["value-type"])=="string"&&(C.t="s",C.v=ti(y["string-value"]||""),n.dense?(m[R]||(m[R]=[]),m[R][T]=C):m[Xt({r:R,c:T})]=C),T+=fe-1;else if(v[1]!=="/"){++T,b="",w=0,D=[],fe=1;var Ve=ge?R+ge-1:R;if(T>k.e.c&&(k.e.c=T),T<k.s.c&&(k.s.c=T),R<k.s.r&&(k.s.r=R),Ve>k.e.r&&(k.e.r=Ve),y=Jt(v[0],!1),A=[],ae={},C={t:y.\u6570\u636E\u7C7B\u578B||y["value-type"],v:null},n.cellFormula)if(y.formula&&(y.formula=ti(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(ee=parseInt(y["number-matrix-rows-spanned"],10)||0,re=parseInt(y["number-matrix-columns-spanned"],10)||0,V={s:{r:R,c:T},e:{r:R+ee-1,c:T+re-1}},C.F=yn(V),Ee.push([V,C.F])),y.formula)C.f=rJ(y.formula);else for(ze=0;ze<Ee.length;++ze)R>=Ee[ze][0].s.r&&R<=Ee[ze][0].e.r&&T>=Ee[ze][0].s.c&&T<=Ee[ze][0].e.c&&(C.F=Ee[ze][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(ee=parseInt(y["number-rows-spanned"],10)||0,re=parseInt(y["number-columns-spanned"],10)||0,V={s:{r:R,c:T},e:{r:R+ee-1,c:T+re-1}},L.push(V)),y["number-columns-repeated"]&&(fe=parseInt(y["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=nr(y["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(y.value);break;case"percentage":C.t="n",C.v=parseFloat(y.value);break;case"currency":C.t="n",C.v=parseFloat(y.value);break;case"date":C.t="d",C.v=ir(y["date-value"]),n.cellDates||(C.t="n",C.v=So(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=tDe(y["time-value"])/86400,n.cellDates&&(C.t="d",C.v=FT(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(y.\u6570\u636E\u6570\u503C);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",y["string-value"]!=null&&(b=ti(y["string-value"]),D=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(ce=!1,C.t==="s"&&(C.v=b||"",D.length&&(C.R=D),ce=w==0),oe.Target&&(C.l=oe),A.length>0&&(C.c=A,A=[]),b&&n.cellText!==!1&&(C.w=b),ce&&(C.t="z",delete C.v),(!ce||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=R))for(var ye=0;ye<ge;++ye){if(fe=parseInt(y["number-columns-repeated"]||"1",10),n.dense)for(m[R+ye]||(m[R+ye]=[]),m[R+ye][T]=ye==0?C:rr(C);--fe>0;)m[R+ye][T+fe]=rr(C);else for(m[Xt({r:R+ye,c:T})]=C;--fe>0;)m[Xt({r:R+ye,c:T+fe})]=rr(C);k.e.c<=T&&(k.e.c=T)}fe=parseInt(y["number-columns-repeated"]||"1",10),T+=fe-1,fe=0,C={},b="",D=[]}oe={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((o=r.pop())[0]!==v[3])throw"Bad state: "+o}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((o=r.pop())[0]!==v[3])throw"Bad state: "+o;ae.t=b,D.length&&(ae.R=D),ae.a=K,A.push(ae)}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!1]);K="",Q=0,b="",w=0,D=[];break;case"creator":v[1]==="/"?K=i.slice(Q,v.index):Q=v.index+v[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((o=r.pop())[0]!==v[3])throw"Bad state: "+o}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!1]);b="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(B[a.name]=l,(o=r.pop())[0]!==v[3])throw"Bad state: "+o}else v[0].charAt(v[0].length-2)!=="/"&&(l="",a=Jt(v[0],!1),r.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(r[r.length-1][0]){case"time-style":case"date-style":s=Jt(v[0],!1),l+=cJ[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(r[r.length-1][0]){case"time-style":case"date-style":s=Jt(v[0],!1),l+=cJ[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(r[r.length-1][0]){case"number-style":case"date-style":case"time-style":l+=i.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":s=Jt(v[0],!1),J=z6(s["cell-range-address"]);var vt={Name:s.name,Ref:J[0]+"!"+J[1]};Me&&(vt.Sheet=p.length),te.Names.push(vt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(r[r.length-1][0])>-1)break;if(v[1]==="/"&&(!y||!y["string-value"])){var q=TOe(i.slice(w,v.index),S);b=(b.length>0?b+`
`:"")+q[0]}else S=Jt(v[0],!1),w=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{J=z6(Jt(v[0])["target-range-address"]),f[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(oe=Jt(v[0],!1),!oe.href)break;oe.Target=ti(oe.href),delete oe.href,oe.Target.charAt(0)=="#"&&oe.Target.indexOf(".")>-1?(J=z6(oe.Target.slice(1)),oe.Target="#"+J[0]+"!"+J[1]):oe.Target.match(/^\.\.[\\\/]/)&&(oe.Target=oe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(n.WTF)throw new Error(v)}}var Vt={Sheets:f,SheetNames:p,Workbook:te};return n.bookSheets&&delete Vt.Sheets,Vt}function dJ(e,t){t=t||{},ql(e,"META-INF/manifest.xml")&&tRe(co(e,"META-INF/manifest.xml"),t);var n=al(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var i=ute(Ni(n),t);return ql(e,"meta.xml")&&(i.Props=tee(co(e,"meta.xml"))),i}function uJ(e,t){return ute(e,t)}var IOe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Iw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return eo+t}}(),hJ=function(){var e=function(o){return Mi(o).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,i=function(o,s,a){var l=[];l.push('      <table:table table:name="'+Mi(s.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,d=0,u=Na(o["!ref"]||"A1"),f=o["!merges"]||[],p=0,m=Array.isArray(o);if(o["!cols"])for(d=0;d<=u.e.c;++d)l.push("        <table:table-column"+(o["!cols"][d]?' table:style-name="co'+o["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",C=o["!rows"]||[];for(c=0;c<u.s.r;++c)v=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=u.e.r;++c){for(v=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),d=0;d<u.s.c;++d)l.push(t);for(;d<=u.e.c;++d){var y=!1,b={},w="";for(p=0;p!=f.length;++p)if(!(f[p].s.c>d)&&!(f[p].s.r>c)&&!(f[p].e.c<d)&&!(f[p].e.r<c)){(f[p].s.c!=d||f[p].s.r!=c)&&(y=!0),b["table:number-columns-spanned"]=f[p].e.c-f[p].s.c+1,b["table:number-rows-spanned"]=f[p].e.r-f[p].s.r+1;break}if(y){l.push(n);continue}var S=Xt({r:c,c:d}),D=m?(o[c]||[])[d]:o[S];if(D&&D.f&&(b["table:formula"]=Mi(XAe(D.f)),D.F&&D.F.slice(0,S.length)==S)){var R=Na(D.F);b["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,b["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!D){l.push(t);continue}switch(D.t){case"b":w=D.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=D.v?"true":"false";break;case"n":w=D.w||String(D.v||0),b["office:value-type"]="float",b["office:value"]=D.v||0;break;case"s":case"str":w=D.v==null?"":D.v,b["office:value-type"]="string";break;case"d":w=D.w||ir(D.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=ir(D.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var T=e(w);if(D.l&&D.l.Target){var k=D.l.Target;k=k.charAt(0)=="#"?"#"+YAe(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),T=rt("text:a",T,{"xlink:href":k.replace(/&/g,"&amp;")})}l.push("          "+rt("table:table-cell",rt("text:p",T,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},r=function(o,s){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var a=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var u=c["!cols"][d];if(u.width==null&&u.wpx==null&&u.wch==null)continue;Gf(u),u.ods=a;var f=c["!cols"][d].wpx+"px";o.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),o.push(`  </style:style>
`),++a}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var u=c["!rows"][d].hpx+"px";o.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+u+`"/>
`),o.push(`  </style:style>
`),++l}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(s,a){var l=[eo],c=Iw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Iw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+d+`>
`),l.push(eee().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),r(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var u=0;u!=s.SheetNames.length;++u)l.push(i(s.Sheets[s.SheetNames[u]],s,u,a));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function hte(e,t){if(t.bookType=="fods")return hJ(e,t);var n=f8(),i="",r=[],o=[];return i="mimetype",Dn(n,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Dn(n,i,hJ(e,t)),r.push([i,"text/xml"]),o.push([i,"ContentFile"]),i="styles.xml",Dn(n,i,IOe(e,t)),r.push([i,"text/xml"]),o.push([i,"StylesFile"]),i="meta.xml",Dn(n,i,eo+eee()),r.push([i,"text/xml"]),o.push([i,"MetadataFile"]),i="manifest.rdf",Dn(n,i,rRe(o)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Dn(n,i,nRe(r)),n}function Wg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o8(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ni(Wf(e))}function FOe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):sl(Bd(e))}function kOe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var i=0;i<t.length;++i)if(e[n+i]!=t[i])continue e;return!0}return!1}function Uf(e){var t=e.reduce(function(r,o){return r+o.length},0),n=new Uint8Array(t),i=0;return e.forEach(function(r){n.set(r,i),i+=r.length}),n}function fJ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function AOe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,i=e[t+14]&1,r=t+13;r>=t;--r)i=i*256+e[r];return(e[t+15]&128?-i:i)*Math.pow(10,n-6176)}function MOe(e,t,n){var i=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,r=n/Math.pow(10,i-6176);e[t+15]|=i>>7,e[t+14]|=(i&127)<<1;for(var o=0;r>=1;++o,r/=256)e[t+o]=r&255;e[t+15]|=n>=0?0:128}function Nw(e,t){var n=t?t[0]:0,i=e[n]&127;e:if(e[n++]>=128&&(i|=(e[n]&127)<<7,e[n++]<128||(i|=(e[n]&127)<<14,e[n++]<128)||(i|=(e[n]&127)<<21,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),i}function ki(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Br(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function ai(e){for(var t=[],n=[0];n[0]<e.length;){var i=n[0],r=Nw(e,n),o=r&7;r=Math.floor(r/8);var s=0,a;if(r==0)break;switch(o){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:s=4,a=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,a=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=Nw(e,n),a=e.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(r," at offset ").concat(i))}var c={data:a,type:o};t[r]==null?t[r]=[c]:t[r].push(c)}return t}function os(e){var t=[];return e.forEach(function(n,i){n.forEach(function(r){r.data&&(t.push(ki(i*8+r.type)),r.type==2&&t.push(ki(r.data.length)),t.push(r.data))})}),Uf(t)}function W8(e,t){return e?.map(function(n){return t(n.data)})||[]}function jl(e){for(var t,n=[],i=[0];i[0]<e.length;){var r=Nw(e,i),o=ai(e.slice(i[0],i[0]+r));i[0]+=r;var s={id:Br(o[1][0].data),messages:[]};o[2].forEach(function(a){var l=ai(a.data),c=Br(l[3][0].data);s.messages.push({meta:l,data:e.slice(i[0],i[0]+c)}),i[0]+=c}),(t=o[3])!=null&&t[0]&&(s.merge=Br(o[3][0].data)>>>0>0),n.push(s)}return n}function iC(e){var t=[];return e.forEach(function(n){var i=[];i[1]=[{data:ki(n.id),type:0}],i[2]=[],n.merge!=null&&(i[3]=[{data:ki(+!!n.merge),type:0}]);var r=[];n.messages.forEach(function(s){r.push(s.data),s.meta[3]=[{type:0,data:ki(s.data.length)}],i[2].push({data:os(s.meta),type:2})});var o=os(i);t.push(ki(o.length)),t.push(o),r.forEach(function(s){return t.push(s)})}),Uf(t)}function POe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],i=Nw(t,n),r=[];n[0]<t.length;){var o=t[n[0]]&3;if(o==0){var s=t[n[0]++]>>2;if(s<60)++s;else{var a=s-59;s=t[n[0]],a>1&&(s|=t[n[0]+1]<<8),a>2&&(s|=t[n[0]+2]<<16),a>3&&(s|=t[n[0]+3]<<24),s>>>=0,s++,n[0]+=a}r.push(t.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,c=0;if(o==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,o==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),r=[Uf(r)],l==0)throw new Error("Invalid offset 0");if(l>r[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(r.push(r[0].slice(-l)),c-=l;c>=r[r.length-1].length;)r.push(r[r.length-1]),c-=r[r.length-1].length;r.push(r[0].slice(-l,-l+c))}}var d=Uf(r);if(d.length!=i)throw new Error("Unexpected length: ".concat(d.length," != ").concat(i));return d}function $l(e){for(var t=[],n=0;n<e.length;){var i=e[n++],r=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(POe(i,e.slice(n,n+r))),n+=r}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Uf(t)}function rC(e){for(var t=[],n=0;n<e.length;){var i=Math.min(e.length-n,268435455),r=new Uint8Array(4);t.push(r);var o=ki(i),s=o.length;t.push(o),i<=60?(s++,t.push(new Uint8Array([i-1<<2]))):i<=256?(s+=2,t.push(new Uint8Array([240,i-1&255]))):i<=65536?(s+=3,t.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(s+=4,t.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(s+=5,t.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),t.push(e.slice(n,n+i)),s+=i,r[0]=0,r[1]=s&255,r[2]=s>>8&255,r[3]=s>>16&255,n+=i}return Uf(t)}function OOe(e,t,n,i){var r=Wg(e),o=r.getUint32(4,!0),s=(i>1?12:8)+fJ(o&(i>1?3470:398))*4,a=-1,l=-1,c=NaN,d=new Date(2001,0,1);o&512&&(a=r.getUint32(s,!0),s+=4),s+=fJ(o&(i>1?12288:4096))*4,o&16&&(l=r.getUint32(s,!0),s+=4),o&32&&(c=r.getFloat64(s,!0),s+=8),o&64&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8);var u;switch(e[2]){case 0:break;case 2:u={t:"n",v:c};break;case 3:u={t:"s",v:t[l]};break;case 5:u={t:"d",v:d};break;case 6:u={t:"b",v:c>0};break;case 7:u={t:"n",v:c/86400};break;case 8:u={t:"e",v:0};break;case 9:if(a>-1)u={t:"s",v:n[a]};else if(l>-1)u={t:"s",v:t[l]};else if(!isNaN(c))u={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return u}function LOe(e,t,n){var i=Wg(e),r=i.getUint32(8,!0),o=12,s=-1,a=-1,l=NaN,c=NaN,d=new Date(2001,0,1);r&1&&(l=AOe(e,o),o+=16),r&2&&(c=i.getFloat64(o,!0),o+=8),r&4&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8),r&8&&(a=i.getUint32(o,!0),o+=4),r&16&&(s=i.getUint32(o,!0),o+=4);var u;switch(e[1]){case 0:break;case 2:u={t:"n",v:l};break;case 3:u={t:"s",v:t[a]};break;case 5:u={t:"d",v:d};break;case 6:u={t:"b",v:c>0};break;case 7:u={t:"n",v:c/86400};break;case 8:u={t:"e",v:0};break;case 9:if(s>-1)u={t:"s",v:n[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(r&31," : ").concat(e.slice(0,4)));break;case 10:u={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(r&31," : ").concat(e.slice(0,4)))}return u}function W6(e,t){var n=new Uint8Array(32),i=Wg(n),r=12,o=0;switch(n[0]=5,e.t){case"n":n[1]=2,MOe(n,r,e.v),o|=1,r+=16;break;case"b":n[1]=6,i.setFloat64(r,e.v?1:0,!0),o|=2,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,i.setUint32(r,t.indexOf(e.v),!0),o|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(8,o,!0),n.slice(0,r)}function j6(e,t){var n=new Uint8Array(32),i=Wg(n),r=12,o=0;switch(n[0]=3,e.t){case"n":n[2]=2,i.setFloat64(r,e.v,!0),o|=32,r+=8;break;case"b":n[2]=6,i.setFloat64(r,e.v?1:0,!0),o|=32,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,i.setUint32(r,t.indexOf(e.v),!0),o|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(4,o,!0),n.slice(0,r)}function NOe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return OOe(e,t,n,e[0]);case 5:return LOe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Is(e){var t=ai(e);return Nw(t[1][0].data)}function pJ(e,t){var n=ai(t.data),i=Br(n[1][0].data),r=n[3],o=[];return(r||[]).forEach(function(s){var a=ai(s.data),l=Br(a[1][0].data)>>>0;switch(i){case 1:o[l]=o8(a[3][0].data);break;case 8:{var c=e[Is(a[9][0].data)][0],d=ai(c.data),u=e[Is(d[1][0].data)][0],f=Br(u.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var p=ai(u.data);o[l]=p[3].map(function(m){return o8(m.data)}).join("")}break}}),o}function BOe(e,t){var n,i,r,o,s,a,l,c,d,u,f,p,m,v,C=ai(e),y=Br(C[1][0].data)>>>0,b=Br(C[2][0].data)>>>0,w=((i=(n=C[8])==null?void 0:n[0])==null?void 0:i.data)&&Br(C[8][0].data)>0||!1,S,D;if((o=(r=C[7])==null?void 0:r[0])!=null&&o.data&&t!=0)S=(a=(s=C[7])==null?void 0:s[0])==null?void 0:a.data,D=(c=(l=C[6])==null?void 0:l[0])==null?void 0:c.data;else if((u=(d=C[4])==null?void 0:d[0])!=null&&u.data&&t!=1)S=(p=(f=C[4])==null?void 0:f[0])==null?void 0:p.data,D=(v=(m=C[3])==null?void 0:m[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var R=w?4:1,T=Wg(S),k=[],M=0;M<S.length/2;++M){var B=T.getUint16(M*2,!0);B<65535&&k.push([M,B])}if(k.length!=b)throw"Expected ".concat(b," cells, found ").concat(k.length);var L=[];for(M=0;M<k.length-1;++M)L[k[M][0]]=D.subarray(k[M][1]*R,k[M+1][1]*R);return k.length>=1&&(L[k[k.length-1][0]]=D.subarray(k[k.length-1][1]*R)),{R:y,cells:L}}function VOe(e,t){var n,i=ai(t.data),r=(n=i?.[7])!=null&&n[0]?Br(i[7][0].data)>>>0>0?1:0:-1,o=W8(i[5],function(s){return BOe(s,r)});return{nrows:Br(i[4][0].data)>>>0,data:o.reduce(function(s,a){return s[a.R]||(s[a.R]=[]),a.cells.forEach(function(l,c){if(s[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));s[a.R][c]=l}),s},[])}}function HOe(e,t,n){var i,r=ai(t.data),o={s:{r:0,c:0},e:{r:0,c:0}};if(o.e.r=(Br(r[6][0].data)>>>0)-1,o.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(o.e.c=(Br(r[7][0].data)>>>0)-1,o.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));n["!ref"]=yn(o);var s=ai(r[4][0].data),a=pJ(e,e[Is(s[4][0].data)][0]),l=(i=s[17])!=null&&i[0]?pJ(e,e[Is(s[17][0].data)][0]):[],c=ai(s[3][0].data),d=0;c[1].forEach(function(u){var f=ai(u.data),p=e[Is(f[2][0].data)][0],m=Br(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var v=VOe(e,p);v.data.forEach(function(C,y){C.forEach(function(b,w){var S=Xt({r:d+y,c:w}),D=NOe(b,a,l);D&&(n[S]=D)})}),d+=v.nrows})}function GOe(e,t){var n=ai(t.data),i={"!ref":"A1"},r=e[Is(n[2][0].data)],o=Br(r[0].meta[1][0].data);if(o!=6001)throw new Error("6000 unexpected reference to ".concat(o));return HOe(e,r[0],i),i}function zOe(e,t){var n,i=ai(t.data),r={name:(n=i[1])!=null&&n[0]?o8(i[1][0].data):"",sheets:[]},o=W8(i[2],Is);return o.forEach(function(s){e[s].forEach(function(a){var l=Br(a.meta[1][0].data);l==6e3&&r.sheets.push(GOe(e,a))})}),r}function UOe(e,t){var n=X8(),i=ai(t.data),r=W8(i[1],Is);if(r.forEach(function(o){e[o].forEach(function(s){var a=Br(s.meta[1][0].data);if(a==2){var l=zOe(e,s);l.sheets.forEach(function(c,d){Y8(n,c,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function $6(e){var t,n,i,r,o={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=$l(l.content)}catch(u){return console.log("?? "+l.content.length+" "+(u.message||u))}var d;try{d=jl(c)}catch(u){return console.log("## "+(u.message||u))}d.forEach(function(u){o[u.id]=u.messages,s.push(u.id)})}}),!s.length)throw new Error("File has no messages");var a=((r=(i=(n=(t=o?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:i[1])==null?void 0:r[0].data)&&Br(o[1][0].meta[1][0].data)==1&&o[1][0];if(a||s.forEach(function(l){o[l].forEach(function(c){var d=Br(c.meta[1][0].data)>>>0;if(d==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return UOe(o,a)}function WOe(e,t,n){var i,r,o,s;if(!((i=e[6])!=null&&i[0])||!((r=e[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var a=((s=(o=e[8])==null?void 0:o[0])==null?void 0:s.data)&&Br(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=Wg(e[7][0].data),d=0,u=[],f=Wg(e[4][0].data),p=0,m=[],v=0;v<t.length;++v){if(t[v]==null){c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535);continue}c.setUint16(v*2,d,!0),f.setUint16(v*2,p,!0);var C,y;switch(typeof t[v]){case"string":C=W6({t:"s",v:t[v]},n),y=j6({t:"s",v:t[v]},n);break;case"number":C=W6({t:"n",v:t[v]},n),y=j6({t:"n",v:t[v]},n);break;case"boolean":C=W6({t:"b",v:t[v]},n),y=j6({t:"b",v:t[v]},n);break;default:throw new Error("Unsupported value "+t[v])}u.push(C),d+=C.length,m.push(y),p+=y.length,++l}for(e[2][0].data=ki(l);v<e[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535,!0);return e[6][0].data=Uf(u),e[3][0].data=Uf(m),l}function jOe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=Na(n["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(yn(i)));var o=ET(n,{range:i,header:1}),s=["~Sh33tJ5~"];o.forEach(function(K){return K.forEach(function(Q){typeof Q=="string"&&s.push(Q)})});var a={},l=[],c=Bt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(K,Q){return[K,c.FullPaths[Q]]}).forEach(function(K){var Q=K[0],ce=K[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var Me=Q.content,ze=$l(Me),Ve=jl(ze);Ve.forEach(function(ye){l.push(ye.id),a[ye.id]={deps:[],location:ce,type:Br(ye.messages[0].meta[1][0].data)}})}}),l.sort(function(K,Q){return K-Q});var d=l.filter(function(K){return K>1}).map(function(K){return[K,ki(K)]});c.FileIndex.map(function(K,Q){return[K,c.FullPaths[Q]]}).forEach(function(K){var Q=K[0],ce=K[1];if(Q.name.match(/\.iwa/)){var Me=jl($l(Q.content));Me.forEach(function(ze){ze.messages.forEach(function(Ve){d.forEach(function(ye){ze.messages.some(function(vt){return Br(vt.meta[1][0].data)!=11006&&kOe(vt.data,ye[1])})&&a[ye[0]].deps.push(ze.id)})})})}});function u(){for(var K=927262;K<2e6;++K)if(!a[K])return K;throw new Error("Too many messages")}for(var f=Bt.find(c,a[1].location),p=jl($l(f.content)),m,v=0;v<p.length;++v){var C=p[v];C.id==1&&(m=C)}var y=Is(ai(m.messages[0].data)[1][0].data);for(f=Bt.find(c,a[y].location),p=jl($l(f.content)),v=0;v<p.length;++v)C=p[v],C.id==y&&(m=C);for(y=Is(ai(m.messages[0].data)[2][0].data),f=Bt.find(c,a[y].location),p=jl($l(f.content)),v=0;v<p.length;++v)C=p[v],C.id==y&&(m=C);for(y=Is(ai(m.messages[0].data)[2][0].data),f=Bt.find(c,a[y].location),p=jl($l(f.content)),v=0;v<p.length;++v)C=p[v],C.id==y&&(m=C);var b=ai(m.messages[0].data);{b[6][0].data=ki(i.e.r+1),b[7][0].data=ki(i.e.c+1);var w=Is(b[46][0].data),S=Bt.find(c,a[w].location),D=jl($l(S.content));{for(var R=0;R<D.length&&D[R].id!=w;++R);if(D[R].id!=w)throw"Bad ColumnRowUIDMapArchive";var T=ai(D[R].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var k=0;k<=i.e.c;++k){var M=[];M[1]=M[2]=[{type:0,data:ki(k+420690)}],T[1].push({type:2,data:os(M)}),T[2].push({type:0,data:ki(k)}),T[3].push({type:0,data:ki(k)})}T[4]=[],T[5]=[],T[6]=[];for(var B=0;B<=i.e.r;++B)M=[],M[1]=M[2]=[{type:0,data:ki(B+726270)}],T[4].push({type:2,data:os(M)}),T[5].push({type:0,data:ki(B)}),T[6].push({type:0,data:ki(B)});D[R].messages[0].data=os(T)}S.content=rC(iC(D)),S.size=S.content.length,delete b[46];var L=ai(b[4][0].data);{L[7][0].data=ki(i.e.r+1);var V=ai(L[1][0].data),ee=Is(V[2][0].data);S=Bt.find(c,a[ee].location),D=jl($l(S.content));{if(D[0].id!=ee)throw"Bad HeaderStorageBucket";var re=ai(D[0].messages[0].data);for(B=0;B<o.length;++B){var se=ai(re[2][0].data);se[1][0].data=ki(B),se[4][0].data=ki(o[B].length),re[2][B]={type:re[2][0].type,data:os(se)}}D[0].messages[0].data=os(re)}S.content=rC(iC(D)),S.size=S.content.length;var ge=Is(L[2][0].data);S=Bt.find(c,a[ge].location),D=jl($l(S.content));{if(D[0].id!=ge)throw"Bad HeaderStorageBucket";for(re=ai(D[0].messages[0].data),k=0;k<=i.e.c;++k)se=ai(re[2][0].data),se[1][0].data=ki(k),se[4][0].data=ki(i.e.r+1),re[2][k]={type:re[2][0].type,data:os(se)};D[0].messages[0].data=os(re)}S.content=rC(iC(D)),S.size=S.content.length;var fe=Is(L[4][0].data);(function(){for(var K=Bt.find(c,a[fe].location),Q=jl($l(K.content)),ce,Me=0;Me<Q.length;++Me){var ze=Q[Me];ze.id==fe&&(ce=ze)}var Ve=ai(ce.messages[0].data);{Ve[3]=[];var ye=[];s.forEach(function(Vt,St){ye[1]=[{type:0,data:ki(St)}],ye[2]=[{type:0,data:ki(1)}],ye[3]=[{type:2,data:FOe(Vt)}],Ve[3].push({type:2,data:os(ye)})})}ce.messages[0].data=os(Ve);var vt=iC(Q),q=rC(vt);K.content=q,K.size=K.content.length})();var Ee=ai(L[3][0].data);{var te=Ee[1][0];delete Ee[2];var oe=ai(te.data);{var J=Is(oe[2][0].data);(function(){for(var K=Bt.find(c,a[J].location),Q=jl($l(K.content)),ce,Me=0;Me<Q.length;++Me){var ze=Q[Me];ze.id==J&&(ce=ze)}var Ve=ai(ce.messages[0].data);{delete Ve[6],delete Ee[7];var ye=new Uint8Array(Ve[5][0].data);Ve[5]=[];for(var vt=0,q=0;q<=i.e.r;++q){var Vt=ai(ye);vt+=WOe(Vt,o[q],s),Vt[1][0].data=ki(q),Ve[5].push({data:os(Vt),type:2})}Ve[1]=[{type:0,data:ki(i.e.c+1)}],Ve[2]=[{type:0,data:ki(i.e.r+1)}],Ve[3]=[{type:0,data:ki(vt)}],Ve[4]=[{type:0,data:ki(i.e.r+1)}]}ce.messages[0].data=os(Ve);var St=iC(Q),_t=rC(St);K.content=_t,K.size=K.content.length})()}te.data=os(oe)}L[3][0].data=os(Ee)}b[4][0].data=os(L)}m.messages[0].data=os(b);var A=iC(p),ae=rC(A);return f.content=ae,f.size=f.content.length,c}function fte(e){return function(n){for(var i=0;i!=e.length;++i){var r=e[i];n[r[0]]===void 0&&(n[r[0]]=r[1]),r[2]==="n"&&(n[r[0]]=Number(n[r[0]]))}}}function j8(e){fte([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function $8(e){fte([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function $Oe(e){return Rn.WS.indexOf(e)>-1?"sheet":Rn.CS&&e==Rn.CS?"chart":Rn.DS&&e==Rn.DS?"dialog":Rn.MS&&e==Rn.MS?"macro":e&&e.length?e:"sheet"}function qOe(e,t){if(!e)return 0;try{e=t.map(function(i){return i.id||(i.id=i.strRelID),[i.name,e["!id"][i.id].Target,$Oe(e["!id"][i.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function KOe(e,t,n,i,r,o,s,a,l,c,d,u){try{o[i]=xw(al(e,n,!0),t);var f=co(e,t),p;switch(a){case"sheet":p=m3e(f,t,r,l,o[i],c,d,u);break;case"chart":if(p=v3e(f,t,r,l,o[i],c,d,u),!p||!p["!drawel"])break;var m=mw(p["!drawel"].Target,t),v=kw(m),C=ike(al(e,m,!0),xw(al(e,v,!0),m)),y=mw(C,m),b=kw(y);p=WPe(al(e,y,!0),y,l,xw(al(e,b,!0),y),c,p);break;case"macro":p=C3e(f,t,r,l,o[i],c,d,u);break;case"dialog":p=y3e(f,t,r,l,o[i],c,d,u);break;default:throw new Error("Unrecognized sheet type "+a)}s[i]=p;var w=[];o&&o[i]&&Hr(o[i]).forEach(function(S){var D="";if(o[i][S].Type==Rn.CMNT){D=mw(o[i][S].Target,t);var R=_3e(co(e,D,!0),D,l);if(!R||!R.length)return;JQ(p,R,!1)}o[i][S].Type==Rn.TCMNT&&(D=mw(o[i][S].Target,t),w=w.concat(oke(co(e,D,!0),l)))}),w&&w.length&&JQ(p,w,!0,l.people||[])}catch(S){if(l.WTF)throw S}}function Ul(e){return e.charAt(0)=="/"?e.slice(1):e}function XOe(e,t){if(vC(),t=t||{},j8(t),ql(e,"META-INF/manifest.xml")||ql(e,"objectdata.xml"))return dJ(e,t);if(ql(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $6<"u"){if(e.FileIndex)return $6(e);var n=Bt.utils.cfb_new();return xQ(e).forEach(function(re){Dn(n,re,AJ(e,re))}),$6(n)}throw new Error("Unsupported NUMBERS file")}if(!ql(e,"[Content_Types].xml"))throw ql(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ql(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var i=xQ(e),r=JDe(al(e,"[Content_Types].xml")),o=!1,s,a;if(r.workbooks.length===0&&(a="xl/workbook.xml",co(e,a,!0)&&r.workbooks.push(a)),r.workbooks.length===0){if(a="xl/workbook.bin",!co(e,a,!0))throw new Error("Could not find workbook");r.workbooks.push(a),o=!0}r.workbooks[0].slice(-3)=="bin"&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(bw=[],r.sst)try{bw=w3e(co(e,Ul(r.sst)),r.sst,t)}catch(re){if(t.WTF)throw re}t.cellStyles&&r.themes.length&&(l=b3e(al(e,r.themes[0].replace(/^\//,""),!0)||"",r.themes[0],t)),r.style&&(c=x3e(co(e,Ul(r.style)),r.style,l,t))}r.links.map(function(re){try{var se=xw(al(e,kw(Ul(re))),re);return E3e(co(e,Ul(re)),se,re,t)}catch{}});var d=g3e(co(e,Ul(r.workbooks[0])),r.workbooks[0],t),u={},f="";r.coreprops.length&&(f=co(e,Ul(r.coreprops[0]),!0),f&&(u=tee(f)),r.extprops.length!==0&&(f=co(e,Ul(r.extprops[0]),!0),f&&sRe(f,u,t)));var p={};(!t.bookSheets||t.bookProps)&&r.custprops.length!==0&&(f=al(e,Ul(r.custprops[0]),!0),f&&(p=lRe(f,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(se){return se.name}):u.Worksheets&&u.SheetNames.length>0&&(s=u.SheetNames),t.bookProps&&(m.Props=u,m.Custprops=p),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var v={};t.bookDeps&&r.calcchain&&(v=S3e(co(e,Ul(r.calcchain)),r.calcchain,t));var C=0,y={},b,w;{var S=d.Sheets;u.Worksheets=S.length,u.SheetNames=[];for(var D=0;D!=S.length;++D)u.SheetNames[D]=S[D].name}var R=o?"bin":"xml",T=r.workbooks[0].lastIndexOf("/"),k=(r.workbooks[0].slice(0,T+1)+"_rels/"+r.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");ql(e,k)||(k="xl/_rels/workbook."+R+".rels");var M=xw(al(e,k,!0),k.replace(/_rels.*/,"s5s"));(r.metadata||[]).length>=1&&(t.xlmeta=D3e(co(e,Ul(r.metadata[0])),r.metadata[0],t)),(r.people||[]).length>=1&&(t.people=ake(co(e,Ul(r.people[0])),t)),M&&(M=qOe(M,d.Sheets));var B=co(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=u.Worksheets;++C){var L="sheet";if(M&&M[C]?(b="xl/"+M[C][1].replace(/[\/]?xl\//,""),ql(e,b)||(b=M[C][1]),ql(e,b)||(b=k.replace(/_rels\/.*$/,"")+M[C][1]),L=M[C][2]):(b="xl/worksheets/sheet"+(C+1-B)+"."+R,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(C!=t.sheets)continue e;break;case"string":if(u.SheetNames[C].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var V=!1,ee=0;ee!=t.sheets.length;++ee)typeof t.sheets[ee]=="number"&&t.sheets[ee]==C&&(V=1),typeof t.sheets[ee]=="string"&&t.sheets[ee].toLowerCase()==u.SheetNames[C].toLowerCase()&&(V=1);if(!V)continue e}}KOe(e,b,w,u.SheetNames[C],C,y,s,L,t,d,l,c)}return m={Directory:r,Workbook:d,Props:u,Custprops:p,Deps:v,Sheets:s,SheetNames:u.SheetNames,Strings:bw,Styles:c,Themes:l,SSF:rr(Kt)},t&&t.bookFiles&&(e.files?(m.keys=i,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(re,se){re=re.replace(/^Root Entry[\/]/,""),m.keys.push(re),m.files[re]=e.FileIndex[se]}))),t&&t.bookVBA&&(r.vba.length>0?m.vbaraw=co(e,Ul(r.vba[0]),!0):r.defaults&&r.defaults.bin===gke&&(m.vbaraw=co(e,"xl/vbaProject.bin",!0))),m}function YOe(e,t){var n=t||{},i="Workbook",r=Bt.find(e,i);try{if(i="/!DataSpaces/Version",r=Bt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(DIe(r.content),i="/!DataSpaces/DataSpaceMap",r=Bt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var o=TIe(r.content);if(o.length!==1||o[0].comps.length!==1||o[0].comps[0].t!==0||o[0].name!=="StrongEncryptionDataSpace"||o[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=Bt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var s=IIe(r.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=Bt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);kIe(r.content)}catch{}if(i="/EncryptionInfo",r=Bt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var a=AIe(r.content);if(i="/EncryptedPackage",r=Bt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],r.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],r.content,n.password||"",n);throw new Error("File is password-protected")}function ZOe(e,t){return t.bookType=="ods"?hte(e,t):t.bookType=="numbers"?jOe(e,t):t.bookType=="xlsb"?QOe(e,t):JOe(e,t)}function QOe(e,t){aC=1024,e&&!e.SSF&&(e.SSF=rr(Kt)),e&&e.SSF&&(vC(),RT(e.SSF),t.revssf=IT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ww?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",i=Hee.indexOf(t.bookType)>-1,r=k8();$8(t=t||{});var o=f8(),s="",a=0;if(t.cellXfs=[],$f(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Dn(o,s,nee(e.Props,t)),r.coreprops.push(s),Ai(t.rels,2,s,Rn.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Dn(o,s,oee(e.Props,t)),r.extprops.push(s),Ai(t.rels,3,s,Rn.EXT_PROPS),e.Custprops!==e.Props&&Hr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Dn(o,s,see(e.Custprops,t)),r.custprops.push(s),Ai(t.rels,4,s,Rn.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var d={"!id":{}},u=e.Sheets[e.SheetNames[a-1]],f=(u||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+a+"."+n,Dn(o,s,T3e(a-1,s,t,e,d)),r.sheets.push(s),Ai(t.wbrels,-1,"worksheets/sheet"+a+"."+n,Rn.WS[0])}if(u){var p=u["!comments"],m=!1,v="";p&&p.length>0&&(v="xl/comments"+a+"."+n,Dn(o,v,k3e(p,v,t)),r.comments.push(v),Ai(d,-1,"../comments"+a+"."+n,Rn.CMNT),m=!0),u["!legacy"]&&m&&Dn(o,"xl/drawings/vmlDrawing"+a+".vml",Bee(a,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&Dn(o,kw(s),cC(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+n,Dn(o,s,F3e(t.Strings,s,t)),r.strs.push(s),Ai(t.wbrels,-1,"sharedStrings."+n,Rn.SST)),s="xl/workbook."+n,Dn(o,s,R3e(e,s,t)),r.workbooks.push(s),Ai(t.rels,1,s,Rn.WB),s="xl/theme/theme1.xml",Dn(o,s,N8(e.Themes,t)),r.themes.push(s),Ai(t.wbrels,-1,"theme/theme1.xml",Rn.THEME),s="xl/styles."+n,Dn(o,s,I3e(e,s,t)),r.styles.push(s),Ai(t.wbrels,-1,"styles."+n,Rn.STY),e.vbaraw&&i&&(s="xl/vbaProject.bin",Dn(o,s,e.vbaraw),r.vba.push(s),Ai(t.wbrels,-1,"vbaProject.bin",Rn.VBA)),s="xl/metadata."+n,Dn(o,s,A3e(s)),r.metadata.push(s),Ai(t.wbrels,-1,"metadata."+n,Rn.XLMETA),Dn(o,"[Content_Types].xml",JJ(r,t)),Dn(o,"_rels/.rels",cC(t.rels)),Dn(o,"xl/_rels/workbook."+n+".rels",cC(t.wbrels)),delete t.revssf,delete t.ssf,o}function JOe(e,t){aC=1024,e&&!e.SSF&&(e.SSF=rr(Kt)),e&&e.SSF&&(vC(),RT(e.SSF),t.revssf=IT(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ww?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",i=Hee.indexOf(t.bookType)>-1,r=k8();$8(t=t||{});var o=f8(),s="",a=0;if(t.cellXfs=[],$f(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Dn(o,s,nee(e.Props,t)),r.coreprops.push(s),Ai(t.rels,2,s,Rn.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Dn(o,s,oee(e.Props,t)),r.extprops.push(s),Ai(t.rels,3,s,Rn.EXT_PROPS),e.Custprops!==e.Props&&Hr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Dn(o,s,see(e.Custprops,t)),r.custprops.push(s),Ai(t.rels,4,s,Rn.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var u={"!id":{}},f=e.Sheets[e.SheetNames[a-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+a+"."+n,Dn(o,s,Zee(a-1,t,e,u)),r.sheets.push(s),Ai(t.wbrels,-1,"worksheets/sheet"+a+"."+n,Rn.WS[0])}if(f){var m=f["!comments"],v=!1,C="";if(m&&m.length>0){var y=!1;m.forEach(function(b){b[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(C="xl/threadedComments/threadedComment"+a+"."+n,Dn(o,C,ske(m,d,t)),r.threadedcomments.push(C),Ai(u,-1,"../threadedComments/threadedComment"+a+"."+n,Rn.TCMNT)),C="xl/comments"+a+"."+n,Dn(o,C,Vee(m,t)),r.comments.push(C),Ai(u,-1,"../comments"+a+"."+n,Rn.CMNT),v=!0}f["!legacy"]&&v&&Dn(o,"xl/drawings/vmlDrawing"+a+".vml",Bee(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Dn(o,kw(s),cC(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+n,Dn(o,s,Dee(t.Strings,t)),r.strs.push(s),Ai(t.wbrels,-1,"sharedStrings."+n,Rn.SST)),s="xl/workbook."+n,Dn(o,s,nte(e,t)),r.workbooks.push(s),Ai(t.rels,1,s,Rn.WB),s="xl/theme/theme1.xml",Dn(o,s,N8(e.Themes,t)),r.themes.push(s),Ai(t.wbrels,-1,"theme/theme1.xml",Rn.THEME),s="xl/styles."+n,Dn(o,s,Pee(e,t)),r.styles.push(s),Ai(t.wbrels,-1,"styles."+n,Rn.STY),e.vbaraw&&i&&(s="xl/vbaProject.bin",Dn(o,s,e.vbaraw),r.vba.push(s),Ai(t.wbrels,-1,"vbaProject.bin",Rn.VBA)),s="xl/metadata."+n,Dn(o,s,Nee()),r.metadata.push(s),Ai(t.wbrels,-1,"metadata."+n,Rn.XLMETA),d.length>1&&(s="xl/persons/person.xml",Dn(o,s,lke(d,t)),r.people.push(s),Ai(t.wbrels,-1,"persons/person.xml",Rn.PEOPLE)),Dn(o,"[Content_Types].xml",JJ(r,t)),Dn(o,"_rels/.rels",cC(t.rels)),Dn(o,"xl/_rels/workbook."+n+".rels",cC(t.wbrels)),delete t.revssf,delete t.ssf,o}function q8(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ll(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function eLe(e,t){return Bt.find(e,"EncryptedPackage")?YOe(e,t):ste(e,t)}function tLe(e,t){var n,i=e,r=t||{};return r.type||(r.type=On&&Buffer.isBuffer(e)?"buffer":"base64"),n=MJ(i,r),XOe(n,r)}function pte(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return i8(e.slice(n),t);default:break e}return pC.to_workbook(e,t)}function nLe(e,t){var n="",i=q8(e,t);switch(t.type){case"base64":n=ll(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Hg(e);break;default:throw new Error("Unrecognized type "+t.type)}return i[0]==239&&i[1]==187&&i[2]==191&&(n=Ni(n)),t.type="binary",pte(n,t)}function iLe(e,t){var n=e;return t.type=="base64"&&(n=ll(n)),n=Si.utils.decode(1200,n.slice(2),"str"),t.type="binary",pte(n,t)}function rLe(e){return e.match(/[^\x00-\x7F]/)?Bd(e):e}function q6(e,t,n,i){return i?(n.type="string",pC.to_workbook(e,n)):pC.to_workbook(t,n)}function ST(e,t){l8();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return ST(new Uint8Array(e),(n=rr(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var i=e,r=[0,0,0,0],o=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),uC={},n.dateNF&&(uC.dateNF=n.dateNF),n.type||(n.type=On&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=On?"buffer":"binary",i=Q2e(e),typeof Uint8Array<"u"&&!On&&(n.type="array")),n.type=="string"&&(o=!0,n.type="binary",n.codepage=65001,i=rLe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),a=new Uint8Array(s);if(a.foo="bar",!a.foo)return n=rr(n),n.type="array",ST(c8(i),n)}switch((r=q8(i,n))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return eLe(Bt.read(i,n),n);break;case 9:if(r[1]<=8)return ste(i,n);break;case 60:return i8(i,n);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return cIe(i,n);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return See.to_workbook(i,n);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?tLe(i,n):q6(e,i,n,o);case 239:return r[3]===60?i8(i,n):q6(e,i,n,o);case 255:if(r[1]===254)return iLe(i,n);if(r[1]===0&&r[2]===2&&r[3]===0)return Ng.to_workbook(i,n);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return Ng.to_workbook(i,n);break;case 3:case 131:case 139:case 140:return n8.to_workbook(i,n);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return kee.to_workbook(i,n);break;case 10:case 13:case 32:return nLe(i,n);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return lIe.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?n8.to_workbook(i,n):q6(e,i,n,o)}function gte(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Vw(t.file,Bt.write(e,{type:On?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Bt.write(e,t)}function oLe(e,t){var n=rr(t||{}),i=ZOe(e,n);return sLe(i,n)}function sLe(e,t){var n={},i=On?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=i;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=i;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?Bt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof r=="string"){if(t.type=="binary"||t.type=="base64")return r;r=new Uint8Array(DT(r))}return t.password&&typeof encrypt_agile<"u"?gte(encrypt_agile(r,t.password),t):t.type==="file"?Vw(t.file,r):t.type=="string"?Ni(r):r}function aLe(e,t){var n=t||{},i=rOe(e,n);return gte(i,n)}function Nd(e,t,n){n||(n="");var i=n+e;switch(t.type){case"base64":return Dw(Bd(i));case"binary":return Bd(i);case"string":return e;case"file":return Vw(t.file,i,"utf8");case"buffer":return On?lh(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Nd(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function lLe(e,t){switch(t.type){case"base64":return Dw(e);case"binary":return e;case"string":return e;case"file":return Vw(t.file,e,"binary");case"buffer":return On?lh(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function hT(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",i=0;i<e.length;++i)n+=String.fromCharCode(e[i]);return t.type=="base64"?Dw(n):t.type=="string"?Ni(n):n;case"file":return Vw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function mte(e,t){l8(),e3e(e);var n=rr(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var i=mte(e,n);return n.type="array",DT(i)}var r=0;if(n.sheet&&(typeof n.sheet=="number"?r=n.sheet:r=e.SheetNames.indexOf(n.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Nd(Z3e(e,n),n);case"slk":case"sylk":return Nd(_ee.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"htm":case"html":return Nd(lte(e.Sheets[e.SheetNames[r]],n),n);case"txt":return lLe(Cte(e.Sheets[e.SheetNames[r]],n),n);case"csv":return Nd(K8(e.Sheets[e.SheetNames[r]],n),n,"\uFEFF");case"dif":return Nd(See.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"dbf":return hT(n8.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"prn":return Nd(pC.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"rtf":return Nd(kee.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"eth":return Nd(Eee.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"fods":return Nd(hte(e,n),n);case"wk1":return hT(Ng.sheet_to_wk1(e.Sheets[e.SheetNames[r]],n),n);case"wk3":return hT(Ng.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),hT(ate(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),aLe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return oLe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function cLe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function vte(e,t,n){var i=n||{};return i.type="file",i.file=t,cLe(i),mte(e,i)}function dLe(e,t,n,i,r,o,s,a){var l=Jr(n),c=a.defval,d=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),u=!0,f=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch{f.__rowNum__=n}else f.__rowNum__=n;if(!s||e[n])for(var p=t.s.c;p<=t.e.c;++p){var m=s?e[n][p]:e[i[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;o[p]!=null&&(f[o[p]]=c);continue}var v=m.v;switch(m.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(o[p]!=null){if(v==null)if(m.t=="e"&&v===null)f[o[p]]=null;else if(c!==void 0)f[o[p]]=c;else if(d&&v===null)f[o[p]]=null;else continue;else f[o[p]]=d&&(m.t!=="n"||m.t==="n"&&a.rawNumbers!==!1)?v:ah(m,v,a);v!=null&&(u=!1)}}return{row:f,isempty:u}}function ET(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},i=0,r=1,o=[],s=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?i=1:c.header==="A"?i=2:Array.isArray(c.header)?i=3:c.header==null&&(i=0),typeof d){case"string":l=ni(d);break;case"number":l=ni(e["!ref"]),l.s.r=d;break;default:l=d}i>0&&(r=0);var u=Jr(l.s.r),f=[],p=[],m=0,v=0,C=Array.isArray(e),y=l.s.r,b=0,w={};C&&!e[y]&&(e[y]=[]);var S=c.skipHidden&&e["!cols"]||[],D=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(S[b]||{}).hidden)switch(f[b]=br(b),n=C?e[y][b]:e[f[b]+u],i){case 1:o[b]=b-l.s.c;break;case 2:o[b]=f[b];break;case 3:o[b]=c.header[b-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=s=ah(n,null,c),v=w[s]||0,!v)w[s]=1;else{do a=s+"_"+v++;while(w[a]);w[s]=v,w[a]=1}o[b]=a}for(y=l.s.r+r;y<=l.e.r;++y)if(!(D[y]||{}).hidden){var R=dLe(e,l,y,f,i,o,C,c);(R.isempty===!1||(i===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=R.row)}return p.length=m,p}var gJ=/"/g;function uLe(e,t,n,i,r,o,s,a){for(var l=!0,c=[],d="",u=Jr(n),f=t.s.c;f<=t.e.c;++f)if(i[f]){var p=a.dense?(e[n]||[])[f]:e[i[f]+u];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(a.rawNumbers&&p.t=="n"?p.v:ah(p,null,a));for(var m=0,v=0;m!==d.length;++m)if((v=d.charCodeAt(m))===r||v===o||v===34||a.forceQuotes){d='"'+d.replace(gJ,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(gJ,'""')+'"')):d="";c.push(d)}return a.blankrows===!1&&l?null:c.join(s)}function K8(e,t){var n=[],i=t??{};if(e==null||e["!ref"]==null)return"";var r=ni(e["!ref"]),o=i.FS!==void 0?i.FS:",",s=o.charCodeAt(0),a=i.RS!==void 0?i.RS:`
`,l=a.charCodeAt(0),c=new RegExp((o=="|"?"\\|":o)+"+$"),d="",u=[];i.dense=Array.isArray(e);for(var f=i.skipHidden&&e["!cols"]||[],p=i.skipHidden&&e["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(f[m]||{}).hidden||(u[m]=br(m));for(var v=0,C=r.s.r;C<=r.e.r;++C)(p[C]||{}).hidden||(d=uLe(e,r,C,u,s,l,o,i),d!=null&&(i.strip&&(d=d.replace(c,"")),(d||i.blankrows!==!1)&&n.push((v++?a:"")+d)));return delete i.dense,n.join("")}function Cte(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=K8(e,t);if(typeof Si>"u"||t.type=="string")return n;var i=Si.utils.encode(1200,n,"str");return"\xFF\xFE"+i}function hLe(e){var t="",n,i="";if(e==null||e["!ref"]==null)return[];var r=ni(e["!ref"]),o="",s=[],a,l=[],c=Array.isArray(e);for(a=r.s.c;a<=r.e.c;++a)s[a]=br(a);for(var d=r.s.r;d<=r.e.r;++d)for(o=Jr(d),a=r.s.c;a<=r.e.c;++a)if(t=s[a]+o,n=c?(e[d]||[])[a]:e[t],i="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;i=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)i=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)i=""+n.v;else if(n.t=="b")i=n.v?"TRUE":"FALSE";else if(n.w!==void 0)i="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?i="'"+n.v:i=""+n.v}}l[l.length]=t+"="+i}return l}function yte(e,t,n){var i=n||{},r=+!i.skipHeader,o=e||{},s=0,a=0;if(o&&i.origin!=null)if(typeof i.origin=="number")s=i.origin;else{var l=typeof i.origin=="string"?wr(i.origin):i.origin;s=l.r,a=l.c}var c,d={s:{c:0,r:0},e:{c:a,r:s+t.length-1+r}};if(o["!ref"]){var u=ni(o["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),s==-1&&(s=u.e.r+1,d.e.r=s+t.length-1+r)}else s==-1&&(s=0,d.e.r=t.length-1+r);var f=i.header||[],p=0;t.forEach(function(v,C){Hr(v).forEach(function(y){(p=f.indexOf(y))==-1&&(f[p=f.length]=y);var b=v[y],w="z",S="",D=Xt({c:a+p,r:s+C+r});c=Bw(o,D),b&&typeof b=="object"&&!(b instanceof Date)?o[D]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",i.cellDates||(w="n",b=So(b)),S=i.dateNF||Kt[14]):b===null&&i.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,S&&(c.z=S)):o[D]=c={t:w,v:b},S&&(c.z=S))})}),d.e.c=Math.max(d.e.c,a+f.length-1);var m=Jr(s);if(r)for(p=0;p<f.length;++p)o[br(p+a)+m]={t:"s",v:f[p]};return o["!ref"]=yn(d),o}function fLe(e,t){return yte(null,e,t)}function Bw(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var i=wr(t);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Bw(e,Xt(t)):Bw(e,Xt({r:t,c:n||0}))}function pLe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function X8(){return{SheetNames:[],Sheets:{}}}function Y8(e,t,n,i){var r=1;if(!n)for(;r<=65535&&e.SheetNames.indexOf(n="Sheet"+r)!=-1;++r,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&e.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);r=o&&+o[2]||0;var s=o&&o[1]||n;for(++r;r<=65535&&e.SheetNames.indexOf(n=s+r)!=-1;++r);}if(tte(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function gLe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var i=pLe(e,t);switch(e.Workbook.Sheets[i]||(e.Workbook.Sheets[i]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[i].Hidden=n}function mLe(e,t){return e.z=t,e}function xte(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function vLe(e,t,n){return xte(e,"#"+t,n)}function CLe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function yLe(e,t,n,i){for(var r=typeof t!="string"?t:ni(t),o=typeof t=="string"?t:yn(t),s=r.s.r;s<=r.e.r;++s)for(var a=r.s.c;a<=r.e.c;++a){var l=Bw(e,s,a);l.t="n",l.F=o,delete l.v,s==r.s.r&&a==r.s.c&&(l.f=n,i&&(l.D=!0))}return e}var Zg={encode_col:br,encode_row:Jr,encode_cell:Xt,encode_range:yn,decode_col:E8,decode_row:S8,split_cell:FDe,decode_cell:wr,decode_range:Na,format_cell:ah,sheet_add_aoa:$J,sheet_add_json:yte,sheet_add_dom:cte,aoa_to_sheet:yC,json_to_sheet:fLe,table_to_sheet:dte,table_to_book:DOe,sheet_to_csv:K8,sheet_to_txt:Cte,sheet_to_json:ET,sheet_to_html:lte,sheet_to_formulae:hLe,sheet_to_row_object_array:ET,sheet_get_cell:Bw,book_new:X8,book_append_sheet:Y8,book_set_sheet_visibility:gLe,cell_set_number_format:mLe,cell_set_hyperlink:xte,cell_set_internal_link:vLe,cell_add_comment:CLe,sheet_set_array_formula:yLe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var PIt=Ew.version;var bC=class e{constructor(t){this.toaster=t}generateExcel(t,n){let[i,r]=t.reduce((l,c)=>{let d=nh(c),T=c,{geoPositionInfo:u,longitude:f,latitude:p,error:m}=T,v=xl(T,["geoPositionInfo","longitude","latitude","error"]),C={};d.forEach(k=>{k in v&&(C[k]=v[k],delete v[k])});let y=v;l[0].push(y);let[b,w,S,D,R]=Ad(y);return l[1].push(z(ke(z(z(z(z(z({},y[S]?{[S]:y[S]}:{}),y[R]?{[R]:y[R]}:{}),y[D]?{[D]:y[D]}:{}),y[w]?{[w]:y[w]}:{}),y[b]?{[b]:y[b]}:{}),{geoPositionInfo:u,longitude:f,latitude:p,error:m}),C)),l},[[],[]]),o={};i.forEach(l=>{let c=l[rw]||"Sheet1";o[c]||(o[c]=[]);let f=l,{sheetName:d}=f,u=xl(f,["sheetName"]);o[c].push(u)});let s=Zg.book_new();Object.entries(o).forEach(([l,c])=>{let d=Zg.json_to_sheet(c);Zg.book_append_sheet(s,d,l)});let a=Zg.json_to_sheet(r);Zg.book_append_sheet(s,a,"LocationInfo");try{vte(s,n)}catch(l){this.toaster.show("error",`Failed to export excel document due to: ${l.message}`)}}importExcelFile(t,n){let i=ST(t,{type:"binary"});return i.SheetNames.forEach(r=>{let o=i.Sheets[r],s=Zg.sheet_to_json(o,{raw:!0});s.some(l=>{let c=Ad(l);return c.length===1&&c[0]||c.length>=3})&&(s.forEach(l=>{r!=="LocationInfo"&&(l[rw]=r)}),n=nw(s,n))}),n}hideColumns(t,n){let i=Array.from(new Set(t.flatMap(Object.keys))),r=["geoPositionInfo","longitude","latitude","error"],o=i.map(s=>r.includes(s));n["!cols"]=[],o.forEach((s,a)=>{s&&n["!cols"]&&(n["!cols"][a]={hidden:!0})})}static \u0275fac=function(n){return new(n||e)(lt(Hl))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var LT=class e{constructor(t,n,i){this.dataStoreService=t;this.progressService=n;this.excelService=i}progressId=rs;excelData=[];_bottomSheetRef=O(eC);isDataStoreLoaded=void 0;arePicturesLoaded=void 0;destroyRef=O(Xi);ngOnInit(){let t=this.progressService.getProgress().pipe(wi(this.destroyRef)).subscribe(()=>{this.isDataStoreLoaded===void 0?this.progressService.isProgressRunning(rs)&&(this.isDataStoreLoaded=!1):this.isDataStoreLoaded===!1&&(this.isDataStoreLoaded=!this.progressService.isProgressRunning(rs)),this.arePicturesLoaded===void 0?this.progressService.isProgressRunning(Ag)&&(this.arePicturesLoaded=!1):this.arePicturesLoaded===!1&&(this.arePicturesLoaded=!this.progressService.isProgressRunning(Ag)),this.isDataStoreLoaded&&this.arePicturesLoaded&&(this.closeLink(),t.unsubscribe())});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}closeLink(){setTimeout(()=>{this._bottomSheetRef.dismiss()},1e3)}onFileChange(t){let n=t.target.files[0],i=new FileReader;i.onload=r=>{r.target?.result&&(this.excelData=this.excelService.importExcelFile(r.target.result,this.excelData),this.progressService.setMaxCount(rs,1),this.dataStoreService.store(this.excelData))},i.readAsArrayBuffer(n)}static \u0275fac=function(n){return new(n||e)(We(Rs),We(zl),We(bC))};static \u0275cmp=Qe({type:e,selectors:[["app-bottom-file-selection-sheet"]],decls:11,vars:1,consts:[["fileInput",""],[1,"content"],[1,"import-button"],["type","file","accept",".xlsx, .xls",3,"change","click"],[3,"progressId"]],template:function(n,i){if(n&1){let r=ro();Le(0,"div",1)(1,"span"),cn(2,"Select excel sheet with your information about houses"),He(),Le(3,"div",2)(4,"input",3,0),Ft("change",function(s){return ui(r),hi(i.onFileChange(s))})("click",function(){ui(r);let s=Zo(5);return hi(s.value="")}),He(),Ct(6,"app-import-progress-bar",4),He(),Le(7,"div",1)(8,"span"),cn(9,"Select all images you have used in your excel sheet"),He(),Ct(10,"app-upload-multiple-files"),He()()}n&2&&(Xe(6),dt("progressId",i.progressId))},dependencies:[tT,tC,oi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;align-items:center;padding-top:8px}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]{width:auto;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:8px 0 0;transition:.3s;display:inline-block;text-decoration:none;border-radius:4px}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{cursor:pointer}"]})};var qf=class e{showSearchInput=!1;setVisibility(t){this.showSearchInput=t,this.showHideSearchInput()}toggleVisibility(){this.showSearchInput=!this.showSearchInput,this.showHideSearchInput()}getVisibility(){return this.showSearchInput}showHideSearchInput(){let t=document.getElementsByClassName("ol-geocoder")[0];t&&(t.classList.remove("visible","hidden"),t.classList.add(this.showSearchInput?"visible":"hidden"))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var NT=class extends Pr{constructor(t={}){let n=O(qf),i=document.createElement("button");i.innerHTML=`<img style="height: 1em;" src="assets/folder-plus-circle.svg" alt="^" title="Select your import files (excel/foto's) to show on the map" />`;let r=document.createElement("div");r.className="import-files ol-unselectable ol-control",r.appendChild(i),super({element:r,target:t.target});let o=O(oQ),s=()=>{n.setVisibility(!1),o.open(LT)};i.addEventListener("click",s.bind(this),!1),s()}};var BT=class e{createJson(t){return JSON.stringify(t,null,2)}saveJsonFile(t,n){let i=new Blob([t],{type:"application/json"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=n,o.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var bte="exportedMap",VT=class extends Pr{dataStoreService;geoPositionService;excelService;jsonCreatorService;loadPictureService;constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-export-excel-24.png" alt="v" title="Export converted excel sheet, containing location information" />';let r=document.createElement("div");r.className="export-file ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),this.dataStoreService=O(Rs),this.geoPositionService=O(ao),this.excelService=O(bC),this.jsonCreatorService=O(BT),this.loadPictureService=O(Gl);let o=()=>{let s=this.dataStoreService.getStore();if(s.length>0){let a=s.map(l=>{let[c,d,u,f]=Pd(l),p=nh(l),m={};p.length>0&&p.forEach(C=>{let y=this.loadPictureService.getPicture(C);y!==C&&(m=ke(z({},m),{[C]:y}))});let v=this.geoPositionService.getGeoPositionByAddress(u,f,d,c);return v?z(ke(z({},l),{longitude:v.coords.longitude.toString(),latitude:v.coords.latitude.toString(),geoPositionInfo:v.geoPositionInfo}),m):ke(z({},l),{error:`Different address was found for ${f} ${d}, ${u}, please verify the address in the excel sheet`})});this.excelService.generateExcel(a,bte+".xlsx"),this.jsonCreatorService.saveJsonFile(this.jsonCreatorService.createJson(this.loadPictureService.getPicturesStore()),bte+".json")}};i.addEventListener("click",o.bind(this),!1)}};MR();m6();dR();QN();Ar();cr();LR();OR();var Z8="searchedFor",wte=(e,t,n)=>{e&&(n>14?e.setStyle(_Le(t)):e.setStyle(SLe(4,t==="Unknown")),e.setProperties({Address:t}))},_Le=e=>new Aa({image:new Ic({src:"assets/icons8-house-48.png",size:[48,48],anchor:[.5,48],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.7,scale:.5}),text:new Rf({text:e,font:"bold 12px Calibri,sans-serif",offsetY:-29,fill:new na({color:e==="Unknown"?"red":"blue"}),stroke:new ka({color:"white",width:2})})}),SLe=(e,t)=>new Aa({image:new Sg({radius:e,fill:new na({color:t?"red":"black"}),stroke:new ka({color:"white",width:2})})}),ELe=e=>new Aa({image:new Ic({src:"assets/icons8-marker-50.png",size:[50,50],anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.7,scale:.5}),text:new Rf({text:e,font:"bold 12px Calibri,sans-serif",offsetY:-30,fill:new na({color:e==="Unknown"?"red":"blue"}),stroke:new ka({color:"white",width:2})})}),Qg=class e{constructor(t){this.geoPositionService=t;this.zoomInput.pipe(wi()).pipe(Yc(300)).subscribe(()=>{this.onViewChanged(this.map)})}zoomInput=new ut;zoomLevelSingleMarker=11;markers={};markersVectorLayer=new Fg;map;refreshVectorLayer(){let t=this.markersVectorLayer.getSource();t&&(t.clear(!0),t.addFeatures(Object.values(this.markers)))}updateMarkerStyle(){Object.keys(this.markers).forEach(t=>{if(t!==Z8){let n=this.geoPositionService.getGeoPosition(t),i=this.getAddressLabel(n,n?.userName||"Unknown");wte(this.markers[t],i,this.zoomLevelSingleMarker),this.markers[t].changed()}}),this.refreshVectorLayer()}getAddressLabel(t,n){if(t?.details){let[i,r,o,s]=Pd(t.details);return`${i?.length?i+" ":""}${r} ${o}, ${s}`}return n}setupMap(t,n){n?.setZoom(this.zoomLevelSingleMarker),t.forEach(i=>{Object.keys(this.markers).includes(i.id)||(this.markers[i.id]=new If,this.geoPositionService.setGeoPositionIdUid(i.id,qt(this.markers[i.id])));let r=[i.coords.longitude,i.coords.latitude];this.markers[i.id].setGeometry(new ju(bs(r))),wte(this.markers[i.id],this.getAddressLabel(i,i.userName),this.zoomLevelSingleMarker)}),this.refreshVectorLayer()}addMarker(t,n,i){this.markers[t]=new If,this.markers[t].setGeometry(new ju(bs(n))),this.markers[t].setStyle(ELe(i)),this.refreshVectorLayer()}onViewChanged(t){let n=t.getView();this.zoomLevelSingleMarker=n?.getZoom()||11,this.updateMarkerStyle(),console.log("zoom",this.zoomLevelSingleMarker)}initializeMarkers(t){this.map=t,this.markersVectorLayer=new Fg({source:new Wv({features:Object.values(this.markers)})}),t.addLayer(this.markersVectorLayer),t.getView().setZoom(this.zoomLevelSingleMarker),t.getView().on("change:resolution",i=>{this.zoomInput.next(i)})}static \u0275fac=function(n){return new(n||e)(lt(ao))};static \u0275prov=Se({token:e,factory:e.\u0275fac})};Ar();var HT=class extends Pr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-center-of-gravity-50.png" alt="v" title="Center map on Nijkerk" />';let r=document.createElement("div");r.className="center-map ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target});let o=()=>{let s=this.getMap();s&&s.getView().animate({center:bs([5.4808,52.2211]),zoom:11})};i.addEventListener("click",o.bind(this),!1)}};var RLe=["tooltip_info"],GT=class e{constructor(t){this.mapEventHandlers=t}map;tooltipInfo;ngAfterViewInit(){this.mapEventHandlers.assignTooltipHandlers(this.map,this.tooltipInfo.nativeElement)}static \u0275fac=function(n){return new(n||e)(We(Ui))};static \u0275cmp=Qe({type:e,selectors:[["app-tooltip-info-component"]],viewQuery:function(n,i){if(n&1&&tr(RLe,5),n&2){let r;Qn(r=Jn())&&(i.tooltipInfo=r.first)}},inputs:{map:"map"},features:[fi([Ui,{provide:Ui,useExisting:Pa}])],decls:2,vars:0,consts:[["tooltip_info",""],[1,"info"]],template:function(n,i){n&1&&Ct(0,"div",1,0)},styles:[".info[_ngcontent-%COMP%]{position:absolute;display:inline-block;height:auto;width:auto;z-index:100;background-color:#333;color:#fff;text-align:center;border-radius:4px;padding:5px;left:50%;transform:translate(3%);visibility:hidden;pointer-events:none}"]})};var zT=class extends Pr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-magnifier-50.png" alt="v" title="Search location" />';let r=document.createElement("div");r.className="magnifier ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),i.addEventListener("click",n.callback.bind(this),!1)}};var Ete=Mm(_te());Ar();var TLe="https://photon.komoot.io/api/";function Ste(){return new eB}var eB=class e{responses={};outstandingRequests=[];getParameters(t){return console.log("OsOpenNamesSearch.getParameters",t),this.outstandingRequests.push(t.query),{url:TLe,params:{q:t.query,limit:t.limit||1,lang:"en"}}}handleResponse(t){let n=this.outstandingRequests.shift()||"error";if(this.responses[n]=t.features,console.log("OsOpenNamesSearch.handleResponse",t,n),t&&t.features&&t.features.length!==0)return t.features.map(r=>({lon:r.geometry.coordinates[0],lat:r.geometry.coordinates[1],address:{name:r.properties.name,postcode:r.properties.postcode,city:r.properties.city,state:r.properties.state,country:r.properties.country,road:r.properties.street,house_number:r.properties.housenumber},original:{formatted:r.properties.name,details:ke(z({},r.properties),{query:n})}}));let i=`No address found for "${n}", please verify address in your excel sheet`;return[{lon:0,lat:0,address:{},original:{details:{error:i,query:n}}}]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var tB="addresschosen",$w=class e{constructor(t,n,i,r,o){this.dataStoreService=t;this.geoPositionService=n;this.toaster=i;this.progressService=r;this.markers=o;this.photonProvider=Ste(),this.keyboardInput$.subscribe(()=>this.switchAddressChosenHandler(this.searchInputService.getVisibility()))}keyboardInput$=Dp(window,"click").pipe(pn(t=>t.target instanceof HTMLImageElement),wi());map;zoomLevelSingleMarker;responses={};isGeocodeHandlingFinished=void 0;geoCoder;photonProvider;defaultAddressHandler;activeAddressHandler;searchInputService=O(qf);geocoderCreator(t,n){return this.map=t,this.zoomLevelSingleMarker=n,this.defaultAddressHandler=this.handleAddressChosen(this.responses,this.map,this.zoomLevelSingleMarker),this.activeAddressHandler=this.defaultAddressHandler,this.geoCoder=new Ete.default("nominatim",{provider:this.photonProvider,placeholder:"Search for ...",targetType:"text-input",limit:1,keepOpen:!0,target:document.body,preventDefault:!0,debug:!0}),this.geoCoder.on(tB,this.activeAddressHandler),this.geoCoder}handleAddressChosen(t,n,i){return r=>Wr(this,null,function*(){if(r.address.original.details.error)this.toaster.show("error",r.address.original.details.error,[],3e5),yield this.progressService.increaseProgressByStep(rs);else{let{postcode:o,street:s,housenumber:a,city:l,query:c}=r.address.original.details,[d,u]=this.dataStoreService.findByApproach(o,a,s,l,c);u&&this.toaster.show("warning",u,[],0),this.geoPositionService.updateGeoPosition(r.place.lon,r.place.lat,d?d[VR]:void 0,d,JSON.stringify({postcode:o,street:s,housenumber:a,city:l,query:c})),yield this.progressService.increaseProgressByStep(rs),console.log("responses",t),this.isGeocodeHandlingFinished&&(console.log("isGeocodeHandlingFinished",this.isGeocodeHandlingFinished),n.getView().animate({center:bs([5.4808,52.2211]),zoom:i}),this.isGeocodeHandlingFinished=!1)}})}searchAddressChosen(){return t=>Wr(this,null,function*(){if(t.address.original.details.error)this.toaster.show("error",`No address found for "${t.address.original.details.query}", please enter another address`,[],3e5),yield this.progressService.increaseProgressByStep(rs);else{let{postcode:n,street:i,housenumber:r,city:o}=t.address.original.details;!this.dataStoreService.get({[Af]:i,[Vl]:r,[Md]:o})&&!this.dataStoreService.getByAddr(`${i} ${r} ${o}`)&&this.markers.addMarker(Z8,[t.place.lon,t.place.lat],`${i?.length?i+" ":""}${r} ${o}, ${n}`),this.map.getView().animate({center:bs([t.place.lon,t.place.lat]),zoom:15})}})}switchAddressChosenHandler(t){this.geoCoder.un(tB,this.activeAddressHandler),t?(this.activeAddressHandler=this.searchAddressChosen(),this.geoCoder.options.limit=5):(this.activeAddressHandler=this.defaultAddressHandler,this.geoCoder.options.limit=1),this.geoCoder.on(tB,this.activeAddressHandler)}geocodeHandlingFinished(){this.isGeocodeHandlingFinished===void 0&&(this.isGeocodeHandlingFinished=!0)}requestLocation(t){let n=document.querySelector(".gcd-txt-input"),i=document.querySelector(".gcd-txt-search");if(n&&i){let[r,o,s,a]=Pd(t);n.value=`${r??""} ${o}, ${s}, ${a}`.replaceAll(",,",",").replaceAll("  "," "),console.log("search street map for",n.value),i.click()}}static \u0275fac=function(n){return new(n||e)(lt(Rs),lt(ao),lt(Hl),lt(zl),lt(Qg))};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var UT=class extends Pr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/table_edit_24dp.png" alt="v" title="Edit excel" />';let r=document.createElement("div");r.className="edit-excel ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),i.addEventListener("click",n.callback.bind(this),!1)}};var WT=class e{constructor(t,n,i,r,o,s,a,l){this.geoPositionService=t;this.dataStoreService=n;this.pictureStore=i;this.toaster=r;this.progressService=o;this.renderer=s;this.searchInputService=a;this.mapEventHandlers=l;this.destroyRef=O(Xi),$h(()=>{this.renderer.addClass(document.getElementsByClassName("ol-geocoder")[0],this.searchInputService.getVisibility()?"visible":"hidden")})}map;destroyRef;fileImportControl=new NT;exportFileControl=new VT;centerControl=new HT;searchControl=new zT({callback:()=>this.showSearchControl()});editExcelControl=new UT({callback:t=>this.showExcelGrid(t)});markers=O(Qg);geoCoderService=O($w);ngOnInit(){this.initializeMap()}ngAfterViewInit(){let t=this.geoPositionService.geoPositions$.pipe(wi(this.destroyRef),pn(i=>!!i.length)).subscribe(i=>{this.markers.setupMap(i,this.map.getView())});this.progressService.getProgress().pipe(mS(i=>!i[rs]||i[rs].value!==100,!0),pn(i=>Object.keys(i).length>0&&!!i[rs])).subscribe(i=>{i[rs].value===100&&this.geoCoderService.geocodeHandlingFinished()});let n=this.dataStoreService.dataStore$.pipe(wi(this.destroyRef),pn(i=>!!i.length)).subscribe(i=>Wr(this,null,function*(){let r=0,o=0,s=[];this.progressService.setMaxCount(rs,i.length);for(let a=0;a<i.length;a++){let l=i[a];if(this.dataContainsLocation(l))r=Number(l[Mf]),o=Number(l[Pf]),this.geoPositionService.updateGeoPosition(r,o,l[VR],l,l[iw]),Object.keys(l).filter(d=>ow(d)).forEach(d=>this.pictureStore.storePicture(l[d],d)),yield this.progressService.increaseProgressByStep(rs);else{let[c,d,u,f]=Pd(l),p=this.geoPositionService.getGeoPositionByAddress(u,f,d,c);if(p)this.geoPositionService.updateGeoPosition(0,0,p.userName,l,p.geoPositionInfo),yield this.progressService.increaseProgressByStep(rs);else try{this.geoCoderService.requestLocation(l)}catch{s.push(`${f}, ${d}, ${u}`)}}}r&&o&&setTimeout(()=>{this.map.getView().animate({center:bs([5.4808,52.2211]),zoom:this.markers.zoomLevelSingleMarker})},1e3),s.length&&this.toaster.show("error",`${s.length} location request(s) failed for following address(es)`,s,6e5)}));this.destroyRef.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}showSearchControl(){this.searchInputService.toggleVisibility();let t=document.getElementById("gcd-input-query");t&&(t.value="")}showExcelGrid(t){t.stopPropagation(),this.dataStoreService.setSelectedData(void 0),this.dataStoreService.setEditMode(!0),this.mapEventHandlers.closePopup()}initializeMap=()=>{let t=new Cg({target:"attribution"});return this.map=new yR({controls:yg({attribution:!1}).extend([t,this.fileImportControl,this.exportFileControl,this.centerControl,this.searchControl,this.editExcelControl]),target:"map",view:new _s({center:bs([0,0])}),layers:[new RR({source:new Yb})]}),this.map.on("loadstart",()=>{this.map.getTargetElement().classList.add("spinner")}),this.map.on("loadend",()=>{this.map.getTargetElement().classList.remove("spinner")}),this.markers.initializeMarkers(this.map),this.map.addControl(this.geoCoderService.geocoderCreator(this.map,this.markers.zoomLevelSingleMarker)),this.map};dataContainsLocation(t){return Object.keys(t).some(n=>TZ.includes(n)&&!!t[n])}static \u0275fac=function(n){return new(n||e)(We(ao),We(Rs),We(Gl),We(Hl),We(zl),We(Fr),We(qf),We(Ui))};static \u0275cmp=Qe({type:e,selectors:[["app-houses-map"]],features:[fi([Qg,$w,Ui,{provide:Ui,useExisting:Pa}])],decls:4,vars:3,consts:[[1,"main"],[3,"map"]],template:function(n,i){n&1&&(Le(0,"div",0),Ct(1,"app-ol-map",1)(2,"app-tooltip-info-component",1)(3,"app-popup-house-card",1),He()),n&2&&(Xe(),dt("map",i.map),Xe(),dt("map",i.map),Xe(),dt("map",i.map))},dependencies:[JR,qv,GT],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%;width:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1 1 auto}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:40px;height:40px;margin-top:-20px;margin-left:-20px;border-radius:50%;border:5px solid rgba(180,180,180,.6);border-top-color:#0009;animation:_ngcontent-%COMP%_spinner .6s linear infinite}  .import-files{top:65px;left:.5em}  .ol-touch .import-files{top:80px}  .export-file{top:90px;left:.5em}  .ol-touch .export-file{top:115px}  .center-map{top:115px;left:.5em}  .ol-touch .center-map{top:150px}  .magnifier{top:140px;left:.5em}  .ol-touch .magnifier{top:185px}  .edit-excel{top:165px;left:.5em}  .ol-touch .edit-excel{top:220px}']})};function ILe(e,t){if(e&1&&(Le(0,"li",5),cn(1),He()),e&2){let n=t.$implicit;Xe(),ko(n)}}var jT=class e{toast;index;remove=new _e;stopPropagation(t){t.stopPropagation()}close(t){t.stopPropagation(),this.remove.emit(this.index)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Qe({type:e,selectors:[["app-toaster"]],inputs:{toast:"toast",index:"index"},outputs:{remove:"remove"},decls:7,vars:5,consts:[["tabindex","0",3,"click","keyup.enter"],[1,"toast-heading"],[1,"body-container"],["class","body",4,"ngFor","ngForOf"],["tabindex","{0}","role","button",1,"close",3,"click","keypress"],[1,"body"]],template:function(n,i){n&1&&(Le(0,"div",0),Ft("click",function(o){return i.stopPropagation(o)})("keyup.enter",function(o){return i.stopPropagation(o)}),Le(1,"h4",1),cn(2),He(),Le(3,"ul",2),nn(4,ILe,2,1,"li",3),He(),Le(5,"a",4),Ft("click",function(o){return i.close(o)})("keypress",function(o){return i.close(o)}),cn(6,"\xD7"),He()()),n&2&&(wU("toast toast-",i.toast.type,""),Xe(2),ko(i.toast.title),Xe(2),dt("ngForOf",i.toast.body))},dependencies:[oi,ld],styles:[".toast[_ngcontent-%COMP%]{position:relative;left:12px;width:400px;min-height:80px;max-height:200px;padding:.75rem 1.25rem;margin-top:1rem;border:1px solid transparent;border-radius:.25rem;animation:_ngcontent-%COMP%_move 2s both}.body-container[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;overflow-x:hidden;scrollbar-color:black transparent}.body[_ngcontent-%COMP%]{font-weight:700;list-style-type:none}.toast-success[_ngcontent-%COMP%]{color:#fff;background-color:#02ea0280;box-shadow:5px 5px 10px gray}.toast-error[_ngcontent-%COMP%]{color:#000000b0;background-color:#ff000080;box-shadow:5px 5px 10px gray}.toast-warning[_ngcontent-%COMP%]{color:#856404;background-color:#ffb20080;box-shadow:5px 5px 10px gray}.close[_ngcontent-%COMP%]{position:absolute;top:7px;right:10px;font-size:1.5em;cursor:pointer}.toast-heading[_ngcontent-%COMP%]{margin-top:10px}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(100%)}to{transform:translate(0)}}"]})};function FLe(e,t){if(e&1){let n=ro();Le(0,"app-toaster",2),Ft("remove",function(r){ui(n);let o=Zn();return hi(o.remove(r))}),He()}if(e&2){let n=t.$implicit,i=t.index;dt("toast",n)("index",i)}}var $T=class e{constructor(t){this.toaster=t;this.toaster.toast$.pipe(wi()).subscribe(n=>{this.toasts=[n,...this.toasts],n.delay&&setTimeout(()=>this.toasts.pop(),n.delay||6e3)})}toasts=[];remove(t){this.toasts=this.toasts.filter((n,i)=>i!==t)}static \u0275fac=function(n){return new(n||e)(We(Hl))};static \u0275cmp=Qe({type:e,selectors:[["app-toaster-container"]],decls:2,vars:1,consts:[[1,"toaster-container"],[3,"toast","index","remove",4,"ngFor","ngForOf"],[3,"remove","toast","index"]],template:function(n,i){n&1&&(Le(0,"div",0),nn(1,FLe,1,2,"app-toaster",1),He()),n&2&&(Xe(),dt("ngForOf",i.toasts))},dependencies:[jT,oi,ld],styles:[".toaster-container[_ngcontent-%COMP%]{background-color:transparent;opacity:1;bottom:20px;width:480px;height:fit-content;max-height:calc(100vh - 40px);padding-bottom:20px;z-index:1000;position:absolute;top:10px;right:10px;overflow-y:auto;overflow-x:hidden}"]})};var cm=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){let i=t?this.allAsyncListeners:this.allSyncListeners,r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){let i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let n=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let{frameworkOverrides:i}=this,r=a=>{let l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},o=this.getListeners(n,t,!1);if((o?.size??0)>0){let a=new Set(o);for(let l of a)o?.has(l)&&r(()=>l(e))}let s=this.getGlobalListeners(t);if(s.size>0){let a=new Set(s);for(let l of a)r(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function kLe(e,t){return t}function f5(e){return e?.getLocaleTextFunc()??kLe}function ALe(e,t,n,i){let r=t[n];return e.getLocaleTextFunc()(n,typeof r=="function"?r(i):r,i)}function fh(e){return e==null||e===""?null:e}function it(e){return e!=null&&e!==""}function Zi(e){return!it(e)}function MB(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function s_(e,t){let n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function MLe(e,t,n=!1){let i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!n)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var kne=new Set(["__proto__","constructor","prototype"]);function PLe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(let n of Object.keys(e))t(n,e[n])}}function aa(e,t,n=!0,i=!1){it(t)&&PLe(t,(r,o)=>{if(kne.has(r))return;let s=e[r];s!==o&&(i&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[r]=s),Dte(o)&&Dte(s)&&!Array.isArray(s)?aa(s,o,n,i):(n||o!==void 0)&&(e[r]=o))})}function e_(e,t,n){if(!t||!e)return;if(!n)return e[t];let i=t.split("."),r=e;for(let o=0;o<i.length;o++){if(r==null)return;r=r[i[o]]}return r}function Dte(e){return typeof e=="object"&&e!==null}var OLe=(()=>{let e=class Jg{static applyGlobalGridOptions(n){if(!Jg.gridOptions)return z({},n);let i={};return aa(i,Jg.gridOptions,!0,!0),Jg.mergeStrategy==="deep"?aa(i,n,!0,!0):i=z(z({},i),n),Jg.gridOptions.context&&(i.context=Jg.gridOptions.context),n.context&&(Jg.mergeStrategy==="deep"&&i.context&&aa(n.context,i.context,!0,!0),i.context=n.context),i}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),LLe=OLe;var NLe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Zd(e,t,n){n==null||typeof n=="string"&&n==""?Ane(e,t):ic(e,t,n)}function ic(e,t,n){e.setAttribute(Mne(t),n.toString())}function Ane(e,t){e.removeAttribute(Mne(t))}function Mne(e){return`aria-${e}`}function tp(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function BLe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function VLe(e){return e.getAttribute("aria-label")}function HC(e,t){Zd(e,"label",t)}function a_(e,t){Zd(e,"labelledby",t)}function Pne(e,t){Zd(e,"live",t)}function HLe(e,t){Zd(e,"atomic",t)}function GLe(e,t){Zd(e,"relevant",t)}function zLe(e,t){Zd(e,"invalid",t)}function ULe(e,t){Zd(e,"disabled",t)}function One(e,t){Zd(e,"hidden",t)}function PB(e,t){ic(e,"expanded",t)}function WLe(e,t){ic(e,"setsize",t)}function jLe(e,t){ic(e,"posinset",t)}function $Le(e,t){ic(e,"multiselectable",t)}function qLe(e,t){ic(e,"rowcount",t)}function p5(e,t){ic(e,"rowindex",t)}function KLe(e,t){ic(e,"rowspan",t)}function XLe(e,t){ic(e,"colcount",t)}function Lne(e,t){ic(e,"colindex",t)}function YLe(e,t){ic(e,"colspan",t)}function ZLe(e,t){ic(e,"sort",t)}function QLe(e){Ane(e,"sort")}function OB(e,t){Zd(e,"selected",t)}function JLe(e,t){Zd(e,"controls",t)}function e4e(e,t){JLe(e,t.id),a_(t,e.id)}function g5(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var nB,iB,rB,oB,LB,NB,sB;function pm(){return nB===void 0&&(nB=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),nB}function Nne(){return iB===void 0&&(iB=/(firefox)/i.test(navigator.userAgent)),iB}function Bne(){return rB===void 0&&(rB=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),rB}function nm(){return oB===void 0&&(oB=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),oB}function BB(e){if(!e)return null;let t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!Nne())?null:t.toString()}function t4e(){if(sB!==void 0)return sB;if(!document.body)return-1;let e=1e6,t=Nne()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){let i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),sB=e,e}function n4e(){return NB==null&&Vne(),NB}function Vne(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(NB=n,LB=n===0)}function Hne(){return LB==null&&Vne(),LB}var i4e="[tabindex], input, select, button, textarea, [href]",Gne="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function m5(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,Gne),o=Vc(e);return i&&!r&&o}function or(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||One(e,!t)}function r4e(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||One(e,!t)}function l_(e,t){let n="disabled",i=t?o=>o.setAttribute(n,""):o=>o.removeAttribute(n);i(e);let r=e.querySelectorAll("input")??[];for(let o of r)i(o)}function im(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function gm(e){let{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:f,marginBottom:p,marginLeft:m,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(m||"0"),boxSizing:v}}function v5(e){let t=gm(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function c_(e){let t=gm(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function zne(e){let{height:t,marginBottom:n,marginTop:i}=gm(e);return Math.floor(t+n+i)}function fI(e){let{width:t,marginLeft:n,marginRight:i}=gm(e);return Math.floor(t+n+i)}function Une(e){let t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:o}=gm(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(o||0)}}function pI(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function gI(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Bs(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function sa(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Wne(e){return!!e.offsetParent}function Vc(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Wne(e)||window.getComputedStyle(e).visibility!=="visible")}function C5(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function jne(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function $ne(e,t){for(let n=0;n<t.length;n++){let i=t[n],r=e.children[n];r!==i&&e.insertBefore(i,r)}}function o4e(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function x_(e,t){if(t)for(let n of Object.keys(t)){let i=t[n];if(!n||!n.length||i==null)continue;let r=o4e(n),o=i.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;e.style.setProperty(r,s,a)}}function oI(e){return()=>{let t=e();return t?qne(t):!0}}function qne(e){return e.clientWidth<e.scrollWidth}function s4e(e){return e.clientHeight<e.scrollHeight}function mI(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):qd(e,t)}function qd(e,t){t=y5(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function t_(e,t){t=y5(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function y5(e){return typeof e=="number"?`${e}px`:e}function x5(e){return e instanceof Node||e instanceof HTMLElement}function dl(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function sp(e,t,n){let r=iie(e).ResizeObserver,o=r?new r(n):null;return o?.observe(t),()=>o?.disconnect()}function Ch(e,t){let n=iie(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var Kne="data-ref",aB;function Rte(){return aB??(aB=document.createTextNode(" ")),aB.cloneNode()}function Wi(e){let{attrs:t,children:n,cls:i,ref:r,role:o,tag:s}=e,a=document.createElement(s);if(i&&(a.className=i),r&&a.setAttribute(Kne,r),o&&a.setAttribute("role",o),t)for(let l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(let c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(Rte()),l=!1),a.append(Wi(c)),a.appendChild(Rte())))}return a}var Tte={};function b5(e,t){Tte[t]||(e(),Tte[t]=!0)}function np(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function TC(e,...t){b5(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function IC(e,...t){b5(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var a4e={pending:!1,funcs:[]},l4e={pending:!1,funcs:[]};function VB(e,t="setTimeout",n){let i=t==="raf"?l4e:a4e;if(i.funcs.push(e),i.pending)return;i.pending=!0;let r=()=>{let o=i.funcs.slice();i.funcs.length=0,i.pending=!1,o.forEach(s=>s())};t==="raf"?Ch(n,r):window.setTimeout(r,0)}function ls(e,t,n){let i;return function(...r){let o=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(o,r)},n)}}function Ite(e,t){let n=0;return function(...i){let r=this,o=Date.now();o-n<t||(n=o,e.apply(r,i))}}function c4e(e,t,n=100,i){let r=Date.now(),o=null,s=!1,a=()=>{let l=Date.now()-r>n;(e()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&i&&TC(i))};a(),s||(o=window.setInterval(a,10))}var Xne="https://www.ag-grid.com",ct="34.0.0",Fte=2e3,kte=100,Yne="_version_",Zne=null,d4e=!1,FC=`${Xne}/javascript-data-grid`;function u4e(e){Zne=e}function h4e(e){FC=e}function Qne(e,t,n){return Zne?.getConsoleMessage(e,t)??[m4e(e,t,n)]}function w5(e,t,n,i){d4e||e(`error #${t}`,...Qne(t,n,i))}function f4e(e){if(!e)return String(e);let t={};for(let n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function p4e(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=f4e(e)),t}function vI(e){return e===void 0?"undefined":e===null?"null":e}function HB(e,t){return`${e}?${t.toString()}`}function g4e(e,t,n){let i=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length),r=HB(e,t);for(let[o,s]of i){if(o===Yne)continue;let a=r.length-n;if(a<=0)break;let l="...",c=a+l.length,d=s.length-c>kte?s.slice(0,s.length-c)+l:s.slice(0,kte)+l;t.set(o,d),r=HB(e,t)}return r}function Jne(e,t){let n=new URLSearchParams;if(n.append(Yne,ct),t)for(let o of Object.keys(t))n.append(o,p4e(t[o]));let i=`${FC}/errors/${e}`,r=HB(i,n);return r.length<=Fte?r:g4e(i,n,Fte)}var m4e=(e,t,n)=>{let i=Jne(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function $e(...e){w5(TC,e[0],e[1])}function Ci(...e){w5(IC,e[0],e[1])}function Qw(e,t,n){w5(IC,e,t,n)}function v4e(e,t){let n=t[0];return`error #${n} `+Qne(n,t[1],e).join(" ")}function Kd(...e){return v4e(void 0,e)}function eie(e,t){return e.get("rowModelType")===t}function Eo(e,t){return eie(e,"clientSide")}function jC(e,t){return eie(e,"serverSide")}function cs(e,t){return e.get("domLayout")===t}function rm(e){return yI(e)!==void 0}function tie(e){return typeof e.get("getRowHeight")=="function"}function C4e(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function ip(e,t,n=!1,i){let{gos:r,environment:o}=e;if(i==null&&(i=o.getDefaultRowHeight()),tie(r)){if(n)return{height:i,estimated:!0};let l={node:t,data:t.data},c=r.getCallback("getRowHeight")(l);if(GB(c))return c===0&&$e(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&r.get("masterDetail"))return y4e(r);let s=r.get("rowHeight");return{height:s&&GB(s)?s:i,estimated:!1}}function y4e(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return GB(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function om(e){let{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||Zi(i))return t.getDefaultRowHeight();let r=t.refreshRowHeightVariable();return r!==-1?r:($e(24),t.getDefaultRowHeight())}function GB(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function nie(e,t,n){let i=t[e.getDomDataKey()];return i?i[n]:void 0}function dm(e,t,n,i){let r=e.getDomDataKey(),o=t[r];Zi(o)&&(o={},t[r]=o),o[n]=i}function Uo(e){let{gos:t,eGridDiv:n}=e,i=null,r=t.get("getDocument");return r&&it(r)?i=r():n&&(i=n.ownerDocument),i&&it(i)?i:document}function iie(e){return Uo(e).defaultView||window}function d_(e){return e.eGridDiv.getRootNode()}function dr(e){return d_(e).activeElement}function _5(e){let t=null,n=null;try{t=Uo(e).fullscreenElement}catch{}finally{t||(t=d_(e));let i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function x4e(e){return _5(e)?.clientWidth??(window.innerHeight||-1)}function b4e(e){return _5(e)?.clientHeight??(window.innerHeight||-1)}function w4e(e,t,n){let r=e.getBoundingClientRect().height,o=x4e(n)-2,s=b4e(n)-2;if(!e.offsetParent)return;let l=Une(e.offsetParent),{clientY:c,clientX:d}=t,u=c-l.top-r/2,f=d-l.left-10,p=Uo(n),m=p.defaultView||window,v=m.pageYOffset||p.documentElement.scrollTop,C=m.pageXOffset||p.documentElement.scrollLeft;o>0&&f+e.clientWidth>o+C&&(f=o+C-e.clientWidth),f<0&&(f=0),s>0&&u+e.clientHeight>s+v&&(u=s+v-e.clientHeight),u<0&&(u=0),e.style.left=`${f}px`,e.style.top=`${u}px`}function rie(e){let t=dr(e);return t===null||t===Uo(e).body}function kC(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function oie(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||cs(e,"print"))}function Wd(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function zB(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function sie(e){return e.get("grandTotalRow")}function aie(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function lie(e,t,n){return!!t.group&&!t.footer&&aie(e,n)}function GC(e){let t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(b5(()=>$e(25,{id:i}),"getRowIdString"),i=String(i)),i}}function _4e(e,t){let n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function S4e(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function AC(e){return e?.checkboxes??!0}function sI(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function CI(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function lB(e){return e?.hideDisabledCheckboxes??!1}function E4e(e){return typeof e.get("rowSelection")!="string"}function mh(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function cie(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function D4e(e){let t=cie(e);return t===!0||t==="enableSelection"}function R4e(e){let t=cie(e);return t===!0||t==="enableDeselection"}function UB(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function yI(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function u_(e){return yI(e)==="multiRow"}function T4e(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function xI(e){let t=e.get("rowSelection");if(typeof t=="string"){let n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function die(e,t=!0){let n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function h_(e){let t=xI(e);return t==="descendants"||t==="filteredDescendants"}function Ate(e){let t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function I4e(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function cl(e){return e.get("columnMenu")==="legacy"}function F4e(e){return!cl(e)}function k4e(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function uie(e,t,n){typeof e!="object"&&(e={});let i=z({},e);return n.forEach(r=>{let o=t[r];typeof o<"u"&&(i[r]=o)}),i}function hie(e,t){if(!e)return;let n={},i=!1;if(Object.keys(e).forEach(s=>{n[s]=e[s],i=!0}),!i)return;let r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);let o=z({type:"componentStateChanged"},n);t.dispatchEvent(o)}function At(e,t){return e.addGridCommonParams(t)}function fie(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var pie="__ag_Grid_Stop_Propagation",A4e=["touchstart","touchend","touchmove","touchcancel","scroll"],M4e=["wheel"],cB={};function um(e){e[pie]=!0}function ph(e){return e[pie]===!0}var gie=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof cB[n]=="boolean")return cB[n];let i=document.createElement(e[n]||"div");return n="on"+n,cB[n]=n in i}})();function mie(e,t,n){let i=t;for(;i;){let r=nie(e,i,n);if(r)return r;i=i.parentElement}return null}function P4e(e,t){return!t||!e?!1:L4e(t).indexOf(e)>=0}function O4e(e){let t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function L4e(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():O4e(t)}function N4e(e,t,n,i){let r=vie(n),o;r!=null&&(o={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,o)}var vie=e=>{let t=A4e.includes(e),n=M4e.includes(e);if(t)return!0;if(n)return!1},Te=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new cm),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let n=[];for(let i of Object.keys(t)){let r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return B4e(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?N4e(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){let{gos:n}=this;n.addPropertyEventListener(e,t);let i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}let o={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(o)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return f5(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function B4e(e){return e.__addEventListener!==void 0}var V4e=/[&<>"']/g,H4e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $C(e){return e?.toString().toString()??null}function aI(e){return $C(e)?.replace(V4e,t=>H4e[t])??null}var G4e={resizable:!0,sortable:!0},z4e=0;function Cie(){return z4e++}function vh(e){return e instanceof NI}var NI=class extends Te{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=Cie(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new cm,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=aI(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);let r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){let i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=it(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=it(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return At(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??G4e[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return At(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Zi(this.sort)}isSorting(){return it(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return $e(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return At(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Zi(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Zi(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){let i=this.createColumnEvent(e,t);n&&aa(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ns(e){return e instanceof lI}var lI=class extends Te{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=Cie(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(let t of this.children)vh(t)?e(t):Ns(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{vh(t)?e.push(t):Ns(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding();for(let o=0,s=i.length;o<s;o++){let a=i[o];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}let r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=n=>{n.forEach(i=>{Ns(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},U4e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Mte(e,t,n){let i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var W4e=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=MB(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){let r=String(i);return e&&n>0&&$e(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},bI=Object.freeze([]);function vi(e){if(e?.length)return e[e.length-1]}function mm(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function qT(e,t){if(e)for(let n of e)t(n)}function nc(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}function Pte(e,t,n){for(let i=0;i<t.length;i++)nc(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var BI="ag-Grid-AutoColumn",yie="ag-Grid-SelectionColumn",xie="ag-Grid-RowNumbersColumn";function bie(e){let t=[],n=i=>{for(let r=0;r<i.length;r++){let o=i[r];vh(o)?t.push(o):Ns(o)&&n(o.getChildren())}};return n(e),t}function uh(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function wI(e,t,n){let i={};if(!t)return;gh(null,t,o=>{i[o.getInstanceId()]=o}),n&&gh(null,n,o=>{i[o.getInstanceId()]=null});let r=Object.values(i).filter(o=>o!=null);e.context.destroyBeans(r)}function S5(e){return e.getId().startsWith(BI)}function vm(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(yie)??!1}function sm(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(xie)??!1}function _I(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function j4e(e,t){return mm(e,t,(n,i)=>n.getColId()===i.getColId())}function $4e(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function MC(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function wie(e,t){let n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var q4e=(e,t)=>(n,i)=>{let r={value1:void 0,value2:void 0},o=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],o=!0),it(i)&&e[i]!==void 0&&(r.value2=e[i],o=!0)),!o&&t&&(t[n]!==void 0&&(r.value1=t[n]),it(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function K4e(e,t=null,n,i,r){let o=new W4e,{existingCols:s,existingGroups:a,existingColKeys:l}=X4e(i);o.addExistingKeys(l);let c=_ie(e,t,0,n,s,o,a,r),{colGroupSvc:d}=e,u=d?.findMaxDepth(c,0)??0,f=d?d.balanceColumnTree(c,0,u,o):c;return gh(null,f,(m,v)=>{Ns(m)&&m.setupExpandable(),m.originalParent=v}),{columnTree:f,treeDepth:u}}function X4e(e){let t=[],n=[],i=[];return e&&gh(null,e,r=>{if(Ns(r)){let o=r;n.push(o)}else{let o=r;i.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function _ie(e,t,n,i,r,o,s,a){if(!t)return[];let{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){let u=t[d];l&&tNe(u)?c[d]=l.createProvidedColumnGroup(i,u,n,r,o,s,a):c[d]=Y4e(e,i,u,r,o,a)}return c}function Y4e(e,t,n,i,r,o){let s=Q4e(n,i);s&&i?.splice(s.idx,1);let a=s?.column;if(a){let l=WB(e,n,a.getColId());a.setColDef(l,n,o),Z4e(e,a,l,o)}else{let l=r.getUniqueKey(n.colId,n.field),c=WB(e,n,l);a=new NI(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function Sie(e,t,n,i,r,o,s,a){let{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),o!==void 0&&c?.setColPinned(t,o),s!==void 0&&d?.setColFlex(t,s)}function Z4e(e,t,n,i){Sie(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);let r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{let o=t.getActualWidth();t.setActualWidth(o,i)}}function Q4e(e,t){if(t)for(let n=0;n<t.length;n++){let i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function WB(e,t,n,i){let{gos:r,dataTypeSvc:o}=e,s={},a=r.get("defaultColDef");aa(s,a,!1,!0);let l=J4e(e,s,t,n);l&&eNe(e,l,s),aa(s,t,!1,!0);let c=r.get("autoGroupColumnDef"),d=Wd(r);return t.rowGroup&&c&&d&&aa(s,{sort:c.sort,initialSort:c.initialSort},!1,!0),o&&(o.postProcess(s),o.validateColDef(s)),r.validateColDef(s,n,i),s}function J4e(e,t,n,i){let r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),o=n.type??r??t.type;return t.type=o,o?_I(o):void 0}function eNe(e,t,n){if(!t.length)return;let i=Object.assign({},U4e),r=e.gos.get("columnTypes")||{};for(let o of Object.keys(r)){let s=r[o];o in i?$e(34,{key:o}):(s.type&&$e(35),i[o]=s)}t.forEach(o=>{let s=i[o.trim()];s?aa(n,s,!1,!0):$e(36,{t:o})})}function tNe(e){return e.children!==void 0}function gh(e,t,n){if(t)for(let i=0;i<t.length;i++){let r=t[i];Ns(r)&&gh(r,r.getChildren(),n),n(r,e)}}function Eie(e,t){let n=[],i=[],r=[];return e.forEach(s=>{let a=s.getColDef().lockPosition;a==="right"?r.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function Die(e,t){let n=!0;return gh(null,t,i=>{if(!Ns(i))return;let r=i,o=r.getColGroupDef();if(!(o&&o.marryChildren))return;let a=[];r.getLeafColumns().forEach(f=>{let p=e.indexOf(f);a.push(p)});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=r.getLeafColumns().length-1;d>u&&(n=!1)}),n}function Rie(e,t){if(!e||e.length==0)return;let n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function Tie(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=Rie(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function nNe(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=Rie(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function iNe(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function zC(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function Bc(e,t,n){let{colModel:i,rowGroupColsSvc:r,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:u,valueColsSvc:f,eventSvc:p,gos:m}=e,v=i.getColDefCols()??[],C=a?.getColumns();if(!v?.length&&!C?.length)return!1;if(t?.state&&!t.state.forEach)return $e(32),!1;let y=(D,R,T,k,M)=>{if(!D)return;let B=q4e(R,t.defaultState),L=B("flex").value1;if(Sie(e,D,B("hide").value1,B("sort").value1,B("sortIndex").value1,B("pinned").value1,L,n),L==null){let V=B("width").value1;if(V!=null){let ee=D.getColDef().minWidth??u.getDefaultColumnMinWidth();ee!=null&&V>=ee&&D.setActualWidth(V,n)}}M||!D.isPrimary()||(f?.syncColumnWithState(D,n,B),r?.syncColumnWithState(D,n,B,T),o?.syncColumnWithState(D,n,B,k))},b=(D,R,T)=>{let k=Iie(e,n),M=R.slice(),B={},L={},V=[],ee=[],re=[],se=0,ge=r?.columns.slice()??[],fe=o?.columns.slice()??[];D.forEach(oe=>{let J=oe.colId;if(J.startsWith(BI)){V.push(oe),re.push(oe);return}if(vm(J)){ee.push(oe),re.push(oe);return}let ae=T(J);ae?(y(ae,oe,B,L,!1),nc(M,ae)):(re.push(oe),se+=1)});let Ee=oe=>y(oe,null,B,L,!1);M.forEach(Ee),r?.sortColumns(Ote.bind(r,B,ge)),o?.sortColumns(Ote.bind(o,L,fe)),i.refreshCols(!1);let te=(oe,J,A=[])=>{J.forEach(ae=>{let K=oe(ae.colId);nc(A,K),y(K,ae,null,null,!0)}),A.forEach(Ee)};return te(oe=>s?.getColumn(oe)??null,V,s?.getColumns()?.slice()),te(oe=>a?.getColumn(oe)??null,ee,a?.getColumns()?.slice()),oNe(t,i,m),c.refresh(n),p.dispatchEvent({type:"columnEverythingChanged",source:n}),k(),{unmatchedAndAutoStates:re,unmatchedCount:se}};l?.start();let{unmatchedAndAutoStates:w,unmatchedCount:S}=b(t.state||[],v,D=>i.getColDefCol(D));if(w.length>0||it(t.defaultState)){let D=d?.getPivotResultCols()?.list??[];S=b(w,D,R=>d?.getPivotResultCol(R)??null).unmatchedCount}return l?.finish(),S===0}function rNe(e,t){let{colModel:n,autoColSvc:i,selectionColSvc:r,eventSvc:o,gos:s}=e,a=n.getColDefCols();if(!a?.length)return;let l=n.getColDefColTree(),c=bie(l),d=[],u=1e3,f=1e3,p=b=>{let w=Fie(b);Zi(w.rowGroupIndex)&&w.rowGroup&&(w.rowGroupIndex=u++),Zi(w.pivotIndex)&&w.pivot&&(w.pivotIndex=f++),d.push(w)};i?.getColumns()?.forEach(p),r?.getColumns()?.forEach(p),c?.forEach(p),Bc(e,{state:d},t);let m=i?.getColumns()??[],y=[...r?.getColumns()??[],...m,...a].map(b=>({colId:b.colId}));Bc(e,{state:y,applyOrder:!0},t),o.dispatchEvent(At(s,{type:"columnsReset",source:t}))}function Iie(e,t){let{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},c=SI(e),d={};return c.forEach(u=>{d[u.colId]=u}),()=>{let u=(R,T,k,M)=>{let B=T.map(M),L=k.map(M);if(mm(B,L))return;let ee=new Set(T);k.forEach(se=>{ee.delete(se)||ee.add(se)});let re=[...ee];a.dispatchEvent({type:R,columns:re,column:re.length===1?re[0]:null,source:t})},f=R=>{let T=[];return o.forAllCols(k=>{let M=d[k.getColId()];M&&R(M,k)&&T.push(k)}),T},p=R=>R.getColId();u("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],p),u("columnPivotChanged",l.pivotColumns,i?.columns??[],p);let v=f((R,T)=>{let k=R.aggFunc!=null,M=k!=T.isValueActive(),B=k&&R.aggFunc!=T.getAggFunc();return M||B});v.length>0&&iNe(a,"columnValueChanged",v,t),zC(a,f((R,T)=>R.width!=T.getActualWidth()),!0,t),Tie(a,f((R,T)=>R.pinned!=T.getPinned()),t),nNe(a,f((R,T)=>R.hide==T.isVisible()),t);let S=f((R,T)=>R.sort!=T.getSort()||R.sortIndex!=T.getSortIndex());S.length>0&&s?.dispatchSortChangedEvents(t,S);let D=SI(e);aNe(c,D,t,o,a)}}function SI(e){let{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(Zi(r)||!t.isAlive())return[];let o=n?.columns,s=i?.columns,a=[],l=d=>{let u=d.isRowGroupActive()&&o?o.indexOf(d):null,f=d.isPivotActive()&&s?s.indexOf(d):null,p=d.isValueActive()?d.getAggFunc():null,m=d.getSort()!=null?d.getSort():null,v=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:m,sortIndex:v,aggFunc:p,rowGroup:d.isRowGroupActive(),rowGroupIndex:u,pivot:d.isPivotActive(),pivotIndex:f,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));let c=new Map(t.getCols().map((d,u)=>[d.getColId(),u]));return a.sort((d,u)=>{let f=c.has(d.colId)?c.get(d.colId):-1,p=c.has(u.colId)?c.get(u.colId):-1;return f-p}),a}function Fie(e){let t=(m,v)=>m??v??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex),c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=t(n.pivotIndex,n.initialPivotIndex),f=t(n.pivot,n.initialPivot);u==null&&(f==null||f==!1)&&(u=null,f=null);let p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:o,pinned:s,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:u,aggFunc:p}}function oNe(e,t,n){if(!e.applyOrder||!e.state)return;let i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),sNe(t.cols,i,t,n)}function sNe(e,t,n,i){if(e==null)return;let r=[],o={};t.forEach(a=>{if(o[a])return;let l=e.map[a];l&&(r.push(l),o[a]=!0)});let s=0;if(e.list.forEach(a=>{let l=a.getColId();if(o[l]!=null)return;l.startsWith(BI)?r.splice(s++,0,a):r.push(a)}),r=Eie(r,i),!Die(r,n.getColTree())){$e(39);return}e.list=r}function aNe(e,t,n,i,r){let o={};t.forEach(d=>o[d.colId]=d);let s={};e.forEach(d=>{o[d.colId]&&(s[d.colId]=!0)});let a=e.filter(d=>s[d.colId]),l=t.filter(d=>s[d.colId]),c=[];l.forEach((d,u)=>{let f=a&&a[u];if(f&&f.colId!==d.colId){let p=i.getCol(f.colId);p&&c.push(p)}}),c.length&&r.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var Ote=(e,t,n,i)=>{let r=e[n.getId()],o=e[i.getId()],s=r!=null,a=o!=null;if(s&&a)return r-o;if(s)return-1;if(a)return 1;let l=t.indexOf(n),c=t.indexOf(i),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},lNe=class extends Te{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(MC(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),MC(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,colViewport:l,eventSvc:c}=t,d=this.colDefs?Iie(t,e):void 0;n?.expire();let u=this.colDefCols?.list,f=this.colDefCols?.tree,p=K4e(t,this.colDefs,!0,f,e);wI(t,this.colDefCols?.tree,p.columnTree);let m=p.columnTree,v=p.treeDepth,C=bie(m),y={};C.forEach(b=>y[b.getId()]=b),this.colDefCols={tree:m,treeDepth:v,list:C,map:y},r?.extractCols(e,u),o?.extractCols(e,u),s?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),c.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),c.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:o,pivotResultCols:s,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:d,eventSvc:u}=this.beans,f=this.selectCols(s,this.colDefCols);this.createColumnsForService([n,i,r],f);let p=C4e(this.gos,this.showingPivotResult);(!e||p)&&this.restoreColOrder(f),this.positionLockedCols(f),a?.refresh(),o?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(f),c.clear(),d.clear(),!mm(t,this.cols.tree)&&u.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(let n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){let n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;let{map:i,list:r,tree:o,treeDepth:s}=n??t;return this.cols={list:r.slice(),map:z({},i),tree:o.slice(),treeDepth:s},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(i=>{let r=S5(i);if(e){let o=t?.includes(i);return r||o}else return r||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Bc(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let n=t.filter(u=>e.map[u.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}let i=u=>{let f=u.getOriginalParent();return f?f.getChildren().length>1?!0:i(f):!1};if(!n.some(u=>i(u))){let u=new Set(n);for(let f of e.list)u.has(f)||n.push(f);e.list=n;return}let r=new Map;for(let u=0;u<n.length;u++){let f=n[u];r.set(f,u)}let o=e.list.filter(u=>!r.has(u));if(o.length===0){e.list=n;return}let s=(u,f)=>{let p=f?f.getOriginalParent():u.getOriginalParent();if(!p)return null;let m=null,v=null;for(let C of p.getChildren())if(!(C===f||C===u)){if(C instanceof NI){let y=r.get(C);if(y==null)continue;(m==null||m<y)&&(m=y,v=C);continue}C.forEachLeafColumn(y=>{let b=r.get(y);b!=null&&(m==null||m<b)&&(m=b,v=y)})}return v??s(u,p)},a=[],l=new Map;for(let u of o){let f=s(u,null);if(f==null){a.push(u);continue}let p=l.get(f);p===void 0?l.set(f,u):Array.isArray(p)?p.push(u):l.set(f,[p,u])}let c=new Array(e.list.length),d=c.length-1;for(let u=a.length-1;u>=0;u--)c[d--]=a[u];for(let u=n.length-1;u>=0;u--){let f=n[u],p=l.get(f);if(p)if(Array.isArray(p))for(let m=p.length-1;m>=0;m--){let v=p[m];c[d--]=v}else c[d--]=p;c[d--]=f}e.list=c}positionLockedCols(e){e.list=Eie(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=MC(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){wI(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;qT(this.colDefCols?.list,e),qT(n?.columns?.list,e),qT(i?.columns?.list,e),qT(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;let{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(wie(i[r],e))return i[r];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}};var kie=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function b_(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Aie=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){let i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},cNe=0,st=null,Wn=class extends Te{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=cNe++,this.cssManager=new Aie(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(Kne):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let r=this[t];if(r===st)this[t]=i??e;else{let o=n&&n[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){let n=[];for(let i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;let r=this.createComponentFromElement(i,o=>{let s=o.getGui();if(s)for(let a of i.attributes??[])s.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);let o=Array.prototype.slice.call(i.children);r.addItems(o)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){let i=e.nodeName,r=this.getDataRefAttribute(e),o=i.indexOf("AG-")===0,s=o?this.componentSelectors.get(i):null,a=null;if(s){let l=n&&r?n[r]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){let i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=C5(e):i=Wi(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){let o=t[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),x5(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=t;r4e(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=t;or(this.eGui,e,{skipAriaHidden:n});let i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function Mie(e){return typeof e=="object"&&!!e.component}var _r=class Jw{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Jw(n=>{let i=t.length,r=new Array(i);t.forEach((o,s)=>{o.then(a=>{r[s]=a,i--,i===0&&n(r)})})}):Jw.resolve()}static resolve(t=null){return new Jw(n=>n(t))}then(t){return new Jw(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function dNe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Pie(e,t,n,i){let{name:r}=n,o,s,a,l,c,d;if(t){let u=t,f=u[r+"Selector"],p=f?f(i):null,m=v=>{typeof v=="string"?o=v:v!=null&&v!==!0&&(e.isFrameworkComponent(v)?a=v:s=v)};p?(m(p.component),l=p.params,c=p.popup,d=p.popupPosition):m(u[r])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var uNe=class extends Te{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){let{name:o,cellRenderer:s}=t,{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:u,popupPositionFromSelector:f}=Pie(this.beans.frameworkOverrides,e,t,i),p,m,v=w=>{let S=this.registry.getUserComponent(o,w);S&&(l=S.componentFromFramework?void 0:S.component,c=S.componentFromFramework?S.component:void 0,p=S.params,m=S.processParams)};if(a!=null&&v(a),l==null&&c==null&&n!=null&&v(n),l&&s&&!dNe(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){let{validation:w}=this.beans;r&&(a!==n||!n)?a?w?.isProvidedUserComp(a)||Ci(50,{compName:a}):n?w||Ci(260,ke(z({},this.gos.getModuleErrorParams()),{propName:o,compName:n})):Ci(216,{name:o}):n&&!w&&Ci(146,{comp:n});return}let C=this.mergeParams(e,t,i,d,p,m),y=l==null,b=l??c;return{componentFromFramework:y,componentClass:b,params:C,type:t,popupFromSelector:u,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(b,y,C,t)}}newAgStackInstance(e,t,n,i){let r=!t,o;r?o=new e:o=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(o);let s=o.init?.(n);return s==null?_r.resolve(o):s.then(()=>o)}mergeParams(e,t,n,i=null,r,o){let s=z(z({},n),r),a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){let c=l(n);aa(s,c)}else typeof l=="object"&&aa(s,l);return aa(s,i),o?o(s):s}},hNe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},fNe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},pNe={name:"headerComponent",optionalMethods:["refresh"]},gNe={name:"innerHeaderComponent"},mNe={name:"innerHeaderGroupComponent"},vNe={name:"headerGroupComponent"};var CNe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var yNe={name:"loadingCellRenderer",cellRenderer:!0},xNe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},bNe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},wNe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},_Ne={name:"tooltipComponent"},E5={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},SNe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},ENe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},DNe={name:"loadingCellRenderer",cellRenderer:!0},RNe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},TNe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function INe(e,t){return e.getCompDetailsFromGridOptions(fNe,"agDragAndDropImage",t,!0)}function FNe(e,t,n){return e.getCompDetails(t,pNe,"agColumnHeader",n)}function kNe(e,t,n){return e.getCompDetails(t,gNe,void 0,n)}function ANe(e,t){let n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,vNe,"agColumnGroupHeader",t)}function MNe(e,t,n){return e.getCompDetails(t,mNe,void 0,n)}function PNe(e,t){return e.getCompDetailsFromGridOptions(ENe,void 0,t,!0)}function ONe(e,t){return e.getCompDetailsFromGridOptions(DNe,"agLoadingCellRenderer",t,!0)}function LNe(e,t){return e.getCompDetailsFromGridOptions(RNe,"agGroupRowRenderer",t,!0)}function NNe(e,t){return e.getCompDetailsFromGridOptions(TNe,"agDetailCellRenderer",t,!0)}function Lte(e,t,n){return e.getCompDetails(t,CNe,void 0,n)}function Nte(e,t,n){return e.getCompDetails(t,yNe,"agSkeletonCellRenderer",n,!0)}function Oie(e,t,n){return e.getCompDetails(t,xNe,"agCellEditor",n,!0)}function BNe(e,t,n,i){let r=t.filter;return Mie(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,E5,i,n,!0)}function VNe(e,t,n){return e.getCompDetails(t,hNe,"agDateInput",n,!0)}function HNe(e,t){return e.getCompDetailsFromGridOptions(bNe,"agLoadingOverlay",t,!0)}function GNe(e,t){return e.getCompDetailsFromGridOptions(wNe,"agNoRowsOverlay",t,!0)}function zNe(e,t){return e.getCompDetails(t.colDef,_Ne,"agTooltipComponent",t,!0)}function UNe(e,t,n,i){return e.getCompDetails(t,SNe,i,n)}function Lie(e,t){return Pie(e,t,E5)}function dB(e,t,n){return e.mergeParams(t,E5,n)}function f_(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Nie=new Set,EI={},PC={},cI,Bie=!1,Vie=!1,WNe=!1;function jNe(e){let[t,n]=e.version.split(".")||[],[i,r]=cI.split(".")||[];return t===i&&n===r}function $Ne(e){cI||(cI=e.version);let t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?jNe(e)||IC(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${cI}.`)):IC(t(`'${e.moduleName}' is incompatible.`)),e.validate){let n=e.validate();n.isValid||IC(`${n.message}`)}}function p_(e,t,n=!1){n||(Bie=!0),$Ne(e);let i=e.rowModels??["all"];Nie.add(e);let r;t!==void 0?(Vie=!0,PC[t]===void 0&&(PC[t]={}),r=PC[t]):r=EI,i.forEach(o=>{r[o]===void 0&&(r[o]={}),r[o][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(o=>p_(o,t,n))}function qNe(e){delete PC[e]}function jB(e,t,n){let i=r=>!!EI[r]?.[e]||!!PC[t]?.[r]?.[e];return i(n)||i("all")}function D5(){return Vie}function KNe(e,t){let n=PC[e]??{};return[...Object.values(EI.all??{}),...Object.values(n.all??{}),...Object.values(EI[t]??{}),...Object.values(n[t]??{})]}function XNe(){return new Set(Nie)}function YNe(){return Bie}function ZNe(){return WNe}var Hie=class{static register(e){p_(e,void 0)}static registerModules(e){e.forEach(t=>p_(t,void 0))}},QNe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{let n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{let{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function JNe(e){return typeof e=="object"&&!!e.getComp}var e6e=class extends QNe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),qNe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},t6e=class extends Te{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new Gie,this.rowValidations=new zie,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;let n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;let n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){let i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;let n=this.getEditRow(e),i=e.pinnedSibling,r=t&&i&&this.getEditRow(i);if(!n&&!r)return e.data;let o=Object.assign({},e.data),s=(a,l)=>a.forEach(({newValue:c},d)=>{c!==hl&&(l[d.getColId()]=c)});return n&&s(n,o),r&&s(r,o),o}getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;let t=new Map;return this.edits.forEach((n,i)=>t.set(i,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{let i=new Map;t.forEach((r,o)=>i.set(o,z({},r))),this.edits.set(n,i)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map),this.getEditRow(e.rowNode).set(e.column,t)}clearEditValue(e){let{rowNode:t,column:n}=e;if(t)if(n){let i=this.getEdit(e);i&&(i.newValue=i.oldValue,i.state="changed")}else this.getEditRow(t)?.forEach(i=>{i.newValue=i.oldValue,i.state="changed"})}setState(e,t){if(!e.rowNode||!e.column)return;let{rowNode:n,column:i}=e,r=this.getEditRow(n),o=r?.get(i);o?o.state=t:(r||(r=new Map,this.edits.set(n,r)),r.set(i,{newValue:void 0,oldValue:void 0,state:t}))}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||this.edits.size===0)return[];let t=[];return(e??this.edits).forEach((n,i)=>{for(let r of n.keys())t.push(z({rowNode:i,column:r},n.get(r)))}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;let{rowNode:n,column:i}=e,{withOpenEditor:r}=t;if(n){let o=this.getEditRow(n,t);return o?i?r?this.getEdit(e)?.state==="editing":o.has(i)??!1:o.size!==0?r?Array.from(o.values()).some(({state:s})=>s==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:o})=>o==="editing"):this.edits.size>0}start(e){let t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{newValue:hl,oldValue:this.beans.valueSvc.getValue(i,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(let e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},Gie=class{constructor(){this.cellValidations=new Map}getCellValidation(e){let{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){let{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){let{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},zie=class{constructor(){this.rowValidations=new Map}getRowValidation(e){let{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function n6e(e){let{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function Uie(e,t){let n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function i6e(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(it(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function r6e(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function o6e(e){let t=0,n,{pinnedRowModel:i,rowModel:r,pageBounds:o}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=o.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function s6e(e){let t,n=null,{pinnedRowModel:i,pageBounds:r}=e,o=i?.getPinnedBottomRowCount(),s=i?.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):s&&(n="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function rp(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function DC(e,t){let n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;let i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function a6e(e,t,n){let{rowModel:i,pinnedRowModel:r}=e,o;return o??(o=i?.getRowNode(t)),n?o??(o=r?.getPinnedRowById(t,n)):(o??(o=r?.getPinnedRowById(t,"top")),o??(o=r?.getPinnedRowById(t,"bottom"))),o}function DI(e,t){let{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(n===0)return i==="top"?null:i==="bottom"&&s.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:o?.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;let a=i?void 0:s.getRow(n);return Wie(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function Bte(e,t){let{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(l6e(e,t))return i==="bottom"?null:i==="top"&&s.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:o?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;let a=i?void 0:s.getRow(n);return Wie(e,a)??{rowIndex:n+1,rowPinned:i}}function Wie(e,t,n){let{gos:i,rowRenderer:r}=e;if(!t?.sticky||!oie(i))return;let o=n?r.getStickyTopRowCtrls():r.getStickyBottomRowCtrls(),s;for(let a=0;a<o.length;a++)if(o[a].rowNode.rowIndex===t.rowIndex){s=o[a+(n?-1:1)];break}return s?{rowIndex:s.rowNode.rowIndex,rowPinned:null}:void 0}function l6e(e,t){let{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:o}=e;return n==="top"?(r?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=i:o.getLastRow()<=i}function RI(e,t={}){let{rowIndex:n,rowId:i,rowCtrl:r,rowPinned:o}=t;if(r)return r;let{rowModel:s,rowRenderer:a}=e,{rowNode:l}=t;return l??(l=i?a6e(e,i,o):s.getRow(n)),a.getRowCtrls(l?[l]:[])?.[0]}function to(e,t={}){let{cellCtrl:n,colId:i,columnId:r,column:o}=t;if(n)return n;let s=e.colModel.getCol(i??r??$B(o)),a=t.rowCtrl??RI(e,t),l=a?.getCellCtrl(s)??void 0;if(l)return l;let c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[s])?.[0]}function Vte(e){let{editSvc:t}=e;t?.isBatchEditing()?OC(e):t?.stopEditing(void 0,{source:"api"})}function c6e(e,t,n){let{gos:i,popupSvc:r}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;let o=s=>{let a=s.relatedTarget;if(BB(a)===null){Vte(t);return}let l=n.some(c=>c.contains(a))&&nre(i,a);l||(l=!!r&&(r.getActivePopups().some(c=>c.contains(a))||r.isElementWithinCustomPopup(a))),l||Vte(t)};n.forEach(s=>e.addManagedElementListeners(s,{focusout:o}))}function $B(e){if(e)return typeof e=="string"?e:e.getColId()}var hl=Symbol("unedited");function jie(e,t={}){let n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(let r of i){let o=r.comp?.getCellEditor();o&&n.push({ctrl:r,editor:f_(o)})}return n}var d6e=(e,t={})=>jie(e,t).map(n=>n.editor);function u6e(e,t,n,i,r,o){t.length===0&&n?.rowNode&&n?.column&&g_(e,n,i,r,o);let{valueSvc:s,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:d}=n??{};for(let u of t){let{rowNode:f,column:p}=u,m=to(e,u);if(!m){if(f&&p){let C=s.getValue(p,f,void 0,"api"),w=(n?.rowNode===f&&n?.column===p&&i||void 0)??a?.getCellDataValue(u)??s.getValueForDisplay(p,f)?.value??C??hl;l?.setEdit(u,{newValue:w,oldValue:C,state:"editing"})}continue}let v=o&&c===m.rowNode&&m.column===d;g_(e,{rowNode:c,column:m.column},v?i:null,v?r:null,v)}}function ep({newValue:e,oldValue:t}){return e===hl&&(e=t),e!==t}function g_(e,t,n,i,r){let o=to(e,t),s=o?.comp?.getCellEditor(),a=qie(e,t,n,r),l=e.valueSvc.getValue(t.column,t.rowNode,void 0,"api"),c=n?.length===1?n:a.value;if(c===void 0&&(c=l),e.editModelSvc?.setEdit(t,{newValue:c??hl,oldValue:l,state:"editing"}),s){s.refresh?.(a);return}let d=t.column.getColDef(),u=Oie(e.userCompFactory,d,a),f=u?.popupFromSelector!=null?u.popupFromSelector:!!d.cellEditorPopup,p=u?.popupPositionFromSelector!=null?u.popupPositionFromSelector:d.cellEditorPopupPosition;Kie(u.params,i),o&&(o.editCompDetails=u,o.comp?.setEditDetails(u,f,p,e.gos.get("reactiveCustomComponents")),o?.rowCtrl?.refreshRow({suppressFlash:!0}),e.editSvc?.dispatchCellEvent(t,null,"cellEditingStarted"))}function $ie(e,t){let n={newValueExists:!1};if(e)return n;let i=t?.getCellEditor();return!i||i.isCancelAfterEnd?.()||(i.getValidationErrors?.()?.length??0)>0?n:{newValue:i.getValue(),newValueExists:!0}}function qie(e,t,n,i){let{valueSvc:r,gos:o,editSvc:s}=e,a=to(e,t),l=t.rowNode?.rowIndex??void 0,c=s?.isBatchEditing(),d=e.colModel.getCol(t.column.getId()),{rowNode:u,column:f}=t,p=s?.getCellDataValue(t)??$ie(!1,a?.comp)?.newValue,m=p===hl?r.getValueForDisplay(d,u)?.value:p;return At(o,{value:m,eventKey:n??null,column:f,colDef:f.getColDef(),rowIndex:l,node:u,data:u.data,cellStartedEdit:i??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:v=>{s.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:v}),TI(e,t)},eGridCell:a?.eGui,parseValue:v=>r.parseValue(d,u,v,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{s?.validateEdit()}})}function qB(e,t){let{editModelSvc:n}=e;n?.getEditMap().forEach((i,r)=>{i.forEach((o,s)=>{!t&&(o.state==="editing"||o.newValue===hl)||!ep(o)&&(o.state!=="editing"||t)&&n?.removeEdits({rowNode:r,column:s})})})}function h6e(e,t){let n=t.comp?.getCellEditor();if(!n?.refresh)return;let{eventKey:i,cellStartedEdit:r}=t.editCompDetails.params,{column:o}=t,s=qie(e,t,i,r),a=o.getColDef(),l=Oie(e.userCompFactory,a,s);n.refresh(Kie(l.params,i))}function Kie(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Jf(e){e.editModelSvc?.getEditPositions().forEach(t=>{let n=to(e,t);if(!n)return;let{newValue:i,newValueExists:r}=$ie(!1,n.comp);r&&KB(e,t,i)})}function KB(e,t,n,i){let{editModelSvc:r,valueSvc:o,eventSvc:s}=e;if(!r)return;let{rowNode:a,column:l}=t;if(!(a&&l))return;let c=o.getValue(l,a,void 0,"api"),u=!!to(e,t)?.comp?.getCellEditor(),f=r?.getEdit(t)?.newValue;n===void 0&&(n=hl),r.setEdit(t,{newValue:n,oldValue:c,state:u?"editing":"changed"});let{value:p}=o.getValueForDisplay(l,a,!0);if(r.getEdit(t).newValue=p,f===n||u)return;let{rowIndex:m,rowPinned:v,data:C}=a;s.dispatchEvent({type:"cellEditValuesChanged",value:n,colDef:l.getColDef(),newValue:n,oldValue:c,source:i,column:l,rowIndex:m,rowPinned:v,data:C,node:a})}function OC(e,t){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(n=>TI(e,n))}function TI(e,t){let{rowNode:n,column:i}=t,r=to(e,t);if(!r){e.editModelSvc?.hasEdits(t)&&n&&i&&e.editModelSvc?.setState(t,"changed");return}let{comp:o}=r;if(o&&!o.getCellEditor())return;let s=o?.getCellEditor()?.getValidationErrors?.(),a=e.editModelSvc?.getCellValidationModel();s?.length?a?.setCellValidation(t,{errorMessages:s}):a?.clearCellValidation(t),o?.setEditDetails(),e.editModelSvc?.hasEdits(t)&&n&&i&&e.editModelSvc?.setState(t,"changed"),o?.refreshEditStyles(!1,!1),r?.refreshCell({force:!0,suppressFlash:!0});let l=e.editModelSvc?.getEdit(t);e.editSvc?.dispatchCellEvent(t,null,"cellEditingStopped",{valueChanged:l&&ep(l)})}function op(e){let t=jie(e),n=new Gie,{ariaAnnounce:i,localeSvc:r,editModelSvc:o,gos:s}=e,a=s.get("editType")==="fullRow",c=f5(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(let u of t){let{ctrl:f,editor:p}=u,{rowNode:m,column:v}=f,C=p.getValidationErrors?.()??[],y=p.getValidationElement?.();if(y){let b=C!=null&&C.length>0,w=b?C.join(". "):"";zLe(y,b),b&&i.announceValue(`${c} ${C}`,"editorValidation"),y instanceof HTMLInputElement?y.setCustomValidity(w):y.classList.toggle("invalid",b)}C?.length>0&&n.setCellValidation({rowNode:m,column:v},{errorMessages:C})}Jf(e),o?.setCellValidationModel(n);let d=new Set;for(let{ctrl:u}of t)d.add(u.rowCtrl);if(a){let u=f6e(e);o?.setRowValidationModel(u)}for(let u of d.values()){u.rowEditStyleFeature?.applyRowStyles();for(let f of u.getAllCellCtrls())f.tooltipFeature?.refreshTooltip(!0),f.editorTooltipFeature?.refreshTooltip(!0),f.editStyleFeature?.applyCellStyles?.()}}var f6e=e=>{let t=new zie,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(let r of i.keys()){let o=i.get(r);if(!o)continue;let s=[],{rowIndex:a,rowPinned:l}=r;for(let d of o.keys()){let u=o.get(d);u&&s.push(ke(z({column:d,colId:d.getColId(),rowIndex:a,rowPinned:l},u),{newValue:u.newValue===hl?void 0:u.newValue}))}let c=n?.({editorsState:s})??[];c.length>0&&t.setRowValidation({rowNode:r},{errorMessages:c})}return t};function p6e(e){op(e);let t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;let n=[];return t.forEach((i,r)=>{i.forEach(({errorMessages:o},s)=>{n.push({column:s,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:o??null})})}),n}var g6e="ag-column-first",m6e="ag-column-last";function Xie(e,t,n,i){return Zi(e)?[]:C6e(e.headerClass,e,t,n,i)}function Yie(e,t,n){e.toggleCss(g6e,n.isColAtEdge(t,"first")),e.toggleCss(m6e,n.isColAtEdge(t,"last"))}function v6e(e,t,n,i){return At(t,{colDef:e,column:n,columnGroup:i})}function C6e(e,t,n,i,r){if(Zi(e))return[];let o;if(typeof e=="function"){let s=v6e(t,n,i,r);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function w_(e){return!!(e.rowPinned&&e.pinnedSibling)}function Ql(e,t,n,i){let r=t==="top";if(!n)return Ql(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){let l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Ql(e,t,n,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let o=!1,s=!1,a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!o){o=!0,a.push(l);return}if(o&&l===i){s=!0,a.push(l);return}o&&!s&&a.push(l)}),a}var we={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},XB=!1,II=0;function y6e(e){II>0||(e.addEventListener("keydown",FI),e.addEventListener("mousedown",FI))}function x6e(e){II>0||(e.removeEventListener("keydown",FI),e.removeEventListener("mousedown",FI))}function FI(e){let t=XB,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(XB=n)}function b6e(e){let t=Uo(e);return y6e(t),II++,()=>{II--,x6e(t)}}function w6e(){return XB}function _6e(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===we.TAB){let r=i.shiftKey;Cm(e,n,!1,r)||UC(e,r)&&i.preventDefault()}}})}function LC(e,t,n=!1){let i=i4e,r=Gne;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');let o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>Vc(l)),s=Array.prototype.slice.apply(e.querySelectorAll(r));return s.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(o,s):o}function hm(e,t=!1,n=!1,i=!1){let r=LC(e,i?".ag-tab-guard":null,n),o=t?vi(r):r[0];return o?(o.focus({preventScroll:!0}),!0):!1}function Cm(e,t,n,i){let r=LC(t,n?':not([tabindex="-1"])':null),o=dr(e),s;n?s=r.findIndex(l=>l.contains(o)):s=r.indexOf(o);let a=s+(i?-1:1);return a<0||a>=r.length?null:r[a]}function Zie(e,t=5){let n=0;for(;e&&BB(e)===null&&++n<=t;)e=e.parentElement;return BB(e)===null?null:e}function S6e(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function am(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function VI(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function UC(e,t,n=!1){let i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function E6e(e,t,n,{rowNode:i,column:r},o){return At(e.gos,{type:n,node:i,data:i.data,value:o,column:r,colDef:r.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function D6e(e,t=!1){return e===we.DELETE?!0:!t&&e===we.BACKSPACE?Bne():!1}var R6e=class extends Te{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case we.ENTER:this.onEnterKeyDown(e);break;case we.F2:this.onF2KeyDown(e);break;case we.ESCAPE:this.onEscapeKeyDown(e);break;case we.TAB:this.onTabKeyDown(e);break;case we.BACKSPACE:case we.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case we.DOWN:case we.UP:case we.RIGHT:case we.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){let{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let r=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:n}=this.beans;if(!t)return;let i=t.extendLatestRangeInDirection(e);i&&n?.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:n,beans:i,rowNode:r}=this,{gos:o,rangeSvc:s,eventSvc:a,editSvc:l}=i;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),D6e(e,o.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(s&&mh(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){let{column:c}=n,d=this.beans.valueSvc.getDeleteValue(c,r);r.setDataValue(c,d,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){let{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:r}=n,o=i?.isEditing(t),s=t.rowNode,a=i?.isRowEditing(s),l=c=>{i?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(o||a){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(op(n),i?.checkNavWithValidation(t,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?i?.stopEditing({rowNode:s},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){let c=e.shiftKey?we.UP:we.DOWN;r?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===we.ENTER}onF2KeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){let n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:r}=this;if(n||i?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===we.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(r,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(r))return;i?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){let{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&rm(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}};function Qie(e,t,n){if(n===0)return!1;let i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}function Hte({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var T6e=class extends Te{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!ph(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:r,frameworkOverrides:o}=this.beans,s=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;n&&s&&n.getCellRangeCount(c)>1&&n.intersectLastRange(!0);let d=a.createEvent(e,"cellClicked");t.dispatchEvent(d);let u=l.getColDef();if(u.onCellClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{u.onCellClicked(d)})},0),r?.getState(a)!=="editing"){let f=i?.isEditing(),p=r?.getCellValidationModel().getCellValidationMap().size??0,m=r?.getRowValidationModel().getRowValidationMap().size??0;if(f&&(p>0||m>0))return;i?.shouldStartEditing(a,e)?i?.startEditing(a,{event:e}):i?.shouldStopEditing(a,e)&&i?.stopEditing(a)}}onCellDoubleClicked(e){let{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:o,editSvc:s,editModelSvc:a}=n,l=t.getColDef(),c=i.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),s?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){let d=s?.isEditing(),u=a?.getCellValidationModel().getCellValidationMap().size??0,f=a?.getRowValidationModel().getRowValidationMap().size??0;if(d&&(u>0||f>0))return;s?.startEditing(i,{event:e})}}onMouseDown(e){let{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:o,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:u,editSvc:f}=s;if(this.isRightClickInExistingRange(e))return;let p=l&&!l.isEmpty(),m=this.containsWidget(r),{cellPosition:v,column:C}=o,y=sm(C);if(c&&y&&!c.handleMouseDownOnCell(v,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!p){let b=f?.isEditing(o),S=u.get("enableCellTextSelection")&&e.defaultPrevented,D=(pm()||S)&&!b&&!m5(r)&&!m;o.focusCell(D,e)}if(i&&p&&!d.isCellFocused(v)){e.preventDefault();let b=d.getFocusedCell();if(b){let{column:w,rowIndex:S,rowPinned:D}=b;f?.isEditing(b)&&f?.stopEditing(b),d.setFocusedCell({column:w,rowIndex:S,rowPinned:D,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!m){if(l){y&&e.preventDefault();let b=Hte(this.beans,e)&&y;if(i)l.extendLatestRangeToCell(v);else if(!b){let w=t||n;l.setRangeToCell(v,w)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=Hte(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return im(e,"ag-selection-checkbox",3)||im(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},I6e=class extends Te{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){let t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();mm(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e,o=e.getPinned();for(let s=0;r&&s<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||Zi(r)||o!==r.getPinned()));s++);}return i}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=vi(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let n=om(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},F6e="ag-cell",k6e="ag-cell-auto-height",A6e="ag-cell-normal-height",M6e="ag-cell-focus",P6e="ag-cell-first-right-pinned",O6e="ag-cell-last-left-pinned",L6e="ag-cell-not-inline-editing",N6e="ag-cell-wrap-text",kI="cellCtrl";function Jie(e,t){return mie(e,t,kI)}var B6e=0,NC=class extends Te{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;let{colId:r}=e;this.instanceId=r+"-"+B6e++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new I6e(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new T6e(this,e,this.column),this.keyboardListener=new R6e(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();let{rangeSvc:t}=e;t&&mh(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),sm(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),op(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGui=t,this.printLayout=r,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),o&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){let{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:r}=e,o=t.getColDef(),s=this.createCellRendererParams();s.deferRender=!0;let a=Nte(n,o,s);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l,c=new _r(d=>{l=d});return this.addManagedListeners(r,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:_r.resolve()}}showValue(e,t){let{beans:n,column:i,rowNode:r,rangeFeature:o}=this,{userCompFactory:s}=n,a=this.getValueToDisplay(),l,c=r.stub&&r.groupData?.[i.getId()]==null,d=i.getColDef();if(c||this.isCellRenderer()){let u=this.createCellRendererParams();!c||sm(i)?l=Lte(s,d,u):l=Nte(s,d,u)}if(!l&&!c&&n.findSvc?.isMatch(r,i)){let u=this.createCellRendererParams();l=Lte(s,ke(z({},i.getColDef()),{cellRenderer:"agFindCellRenderer"}),u)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){let u=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});u&&(u.compDetails?l=u.compDetails:u.valueToDisplay&&(a=u.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&o&&Ch(n,()=>o?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&w_(this.rowNode))&&!!e}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=CI(t),r=vm(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&AC(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){let{editSvc:e}=this.beans;e?.isEditing(this)&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){let{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:o,beans:{valueSvc:s,gos:a,editSvc:l}}=this;return At(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(n,i).value,setValue:d=>l?.setDataValue({rowNode:i,column:n},d)||s.setValue(i,n,d),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:r.getParentOfValue(),registerRowDragger:(d,u,f,p)=>this.registerRowDragger(d,u,p),setTooltip:(d,u)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,u),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;let i=this.column.getColDef(),r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=e||r||n,s=!!this.comp,a=this.updateAndFormatValue(s),l=o||a;if(s){if(l){this.showValue(!!n,!1);let c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&i.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){let n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){let t=this.eGui;dm(this.beans.gos,t,kI,this),e.addDestroyFunc(()=>dm(this.beans.gos,t,kI,null))}createEvent(e,t){let{rowNode:n,column:i,value:r,beans:o}=this;return E6e(o,e,t,{rowNode:n,column:i},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:n}=this;Yie(e,t,n.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);Lne(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){this.beans.focusSvc.setFocusedCell(ke(z({},this.getFocusedCellPosition()),{forceBrowserFocus:e,sourceEvent:t}))}restoreFocus(e=!1){let{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;let r=()=>{if(!this.isAlive())return;let o=i.getFocusableElement();this.isCellFocused()&&o.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(sm(this.column)&&(e=!0),dl(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.toggleCss(P6e,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.toggleCss(O6e,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(VI(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(M6e,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(i){let o=LC(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:fh(t),column:this.column}}applyStaticCssClasses(){let{comp:e}=this;e.toggleCss(F6e,!0),e.toggleCss(L6e,!0);let t=this.column.isAutoHeight()==!0;e.toggleCss(k6e,t),e.toggleCss(A6e,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(N6e,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(dr(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){let i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},ere="__ag_grid_instance";function tre(e,t){t[ere]=e.gridInstanceId}function m_(e,t){return nre(e,t.target)}function nre(e,t){let n=t;for(;n;){let i=n[ere];if(it(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function V6e(e,t){return Jie(e,t.target)?.getFocusedCellPosition()??null}function Gte(e,t){let n=cs(e.gos,"normal"),i=t,r,o;i.clientX!=null||i.clientY!=null?(r=i.clientX,o=i.clientY):(r=i.x,o=i.y);let{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(o+=s,n){let a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();r+=c.left,o+=l.top}return{x:r,y:o}}var H6e=class extends Te{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){let n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),nc(t,i))}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let r=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),o=this.findCurrentDropTarget(e,r),{lastDropTarget:s,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(o!==s){if(this.leaveLastTargetIfExists(e,n,i,t),s!==null&&o===null&&a?.onGridExit?.(c),s===null&&o!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(o,e,n,i,t),o&&l){let{comp:d,promise:u}=l;d?d.setIcon(o.getIconName?o.getIconName():null,!1):u.then(f=>{f&&f.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){let d=this.createDropTargetEvent(o,e,n,i,t);o.onDragging(d)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){let n=this.getAllContainersFromDropTarget(t),i=!1,r=(a,l)=>{for(let c of l){let{width:d,height:u,left:f,right:p,top:m,bottom:v}=c.getBoundingClientRect();if(d===0||u===0)return!1;let C=a.clientX>=f&&a.clientX<p,y=a.clientY>=m&&a.clientY<v;if(!C||!y)return!1}return!0};for(let a of n)if(r(e,a)){i=!0;break}let{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:i&&t.isInterestedIn(s,o)}findCurrentDropTarget(e,t){let n=t.length;if(n===0)return null;if(n===1)return t[0];let r=d_(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let o of r)for(let s of t)if(this.getAllContainersFromDropTarget(s).flatMap(l=>l).indexOf(o)!==-1)return s;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){let o=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,n,i){let{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){let s=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(s)}let o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){let t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){let o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,d=t.clientX-s.left,u=t.clientY-s.top;return At(c,{event:t,x:d,y:u,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&w4e(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;let i=INe(n,At(t,{dragSource:e}));if(!i)return;let r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){let{dragSource:t,environment:n}=this;if(!t)return;let i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),tre(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";let o=_5(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(i):$e(54)}registerGridDropTarget(e,t){let n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},G6e=class extends Te{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){let i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){let{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),nc(t,n))}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let o=null,s=this.gos.get("suppressTouch");i&&!s&&(o=a=>{m5(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let n=t.touches[0];this.touchLastTime=n,this.touchStart=n;let i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:d_(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:s,type:"touchmove",listener:i,options:{passive:!0}},{target:s,type:"touchend",listener:r,options:{passive:!0}},{target:s,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){let n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let i=c=>this.onMouseMove(c,e.eElement),r=c=>this.onMouseUp(c,e.eElement),o=c=>c.preventDefault(),s=c=>{c.key===we.ESCAPE&&this.cancelDrag(e.eElement)},a=d_(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:n,type:i,listener:r,options:o}=t;n.addEventListener(i,r,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:n,type:i,listener:r,options:o}=t;n.removeEventListener(i,r,o)})})}isEventNearStartEvent(e,t){let{dragStartPixels:n}=this.currentDragParams,i=it(n)?n:4;return Qie(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){let n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){pm()&&Uo(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=o=>!!o.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&m_(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function ire(e,t){return e+"_"+t}function Sr(e){return e instanceof rre}var rre=class extends Te{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return ire(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Sr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=vi(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{vh(t)?e.push(t):Sr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{vh(t)?e.push(t):Sr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Sr(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},YB="row-group-",R5="t-",T5="b-",z6e=0,fm=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=z6e++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:n,eventSvc:i}=this.beans,r=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();let o=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(o),this.sibling){this.sibling.data=e;let a=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(a)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});let s=this.pinnedSibling;s&&(s.data=e,s.__localEventService?.dispatchEvent(s.createDataChangedEvent(e,r,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:s}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Ci(13),null):this.rowPinned==="top"?R5+this.rowIndex:this.rowPinned==="bottom"?T5+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));let o=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(o)}setId(e){let t=GC(this.beans.gos);if(t)if(this.data){let n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(YB)&&Ci(14,{groupPrefix:YB})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){let{colModel:i,valueSvc:r,gos:o,editSvc:s}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;let l=r.getValueForDisplay(a,this).value;if(o.get("readOnlyEdit")){let{beans:{eventSvc:u},data:f,rowIndex:p,rowPinned:m}=this;return u.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:p,rowPinned:m,column:a,colDef:a.colDef,data:f,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(s){let u=s.setDataValue({rowNode:this,column:a},t,n);if(u!=null)return u}let c=r.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);let d=this.pinnedSibling;return d&&c&&d.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){let i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new cm),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new cm),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if($e(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function U6e(e,t,n){return At(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var W6e=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function j6e(e,t){let n=new fm(t);return Object.keys(e).forEach(i=>{W6e.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var ore={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},$6e=new Set(Object.values(ore));function Kf(e,t){let n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;let i=n.create(n.refreshed),r=n;return r.created=!0,r.promise=i,i}function q6e(e,t,n,i,r,o){return t.refresh?.(ke(z({},n),{model:i,source:o})),e().then(s=>{if(s){let{filter:a,filterParams:l}=s;sre(a,l,i,r,o)}})}function sre(e,t,n,i,r){e?.refresh?.(ke(z({},t),{model:n,state:i,source:r}))}function are(e,t,n){let i=e();i?.created&&i.promise.then(r=>{let o=t();sre(r,i.filterParams,o,n()??{model:o},"ui")})}function zte(e,t,n,i,r,o){let s,a=!1,l;switch(e){case"apply":{let c=i();l=c?.model??null,s={state:c?.state,model:l},a=!0;break}case"clear":{s={model:null};break}case"reset":{s={model:null},a=!0,l=null;break}case"cancel":{s={model:n()};break}}r(s),a?o(l):are(t,n,i)}function zo(e,t){return e[t]??null}var K6e={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Qf(e,t,n){return ALe(e,K6e,t,n)}function X6e(e){return{tag:"div",cls:e}}var Y6e=class extends Wn{constructor(e){let{className:t="ag-filter-apply-panel"}=e??{};super(X6e(t)),this.listeners=[],this.className=t}updateButtons(e,t){let n=this.buttons;if(this.buttons=e,n===e)return;let i=this.getGui();Bs(i);let r;this.destroyListeners();let o=document.createDocumentFragment(),s=this.className,a=l=>{let c=`${l}Filter`,d=l?Qf(this,c):void 0,u=y=>{this.dispatchLocalEvent({type:l,event:y})};["apply","clear","reset","cancel"].includes(l)||$e(75);let f=l==="apply",m=Wi({tag:"button",attrs:{type:f&&t?"submit":"button"},ref:`${l}FilterButton`,cls:`ag-button ag-standard-button ${s}-button${f?" "+s+"-apply-button":""}`,children:d});this.activateTabIndex([m]),f&&(r=m);let v=y=>{y.key===we.ENTER&&(y.preventDefault(),u(y))},C=this.listeners;m.addEventListener("click",u),C.push(()=>m.removeEventListener("click",u)),m.addEventListener("keydown",v),C.push(()=>m.removeEventListener("keydown",v)),o.append(m)};e.forEach(l=>a(l)),this.eApply=r,i.append(o)}updateValidity(e){let t=this.eApply;t&&l_(t,e===!1)}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}};function I5(e,t){let{debounceMs:n}=e;return HI(e)?(n!=null&&$e(71),0):n??t}function HI(e){return(e.buttons?.indexOf("apply")??-1)>=0}var Z6e=class extends Wn{constructor(e,t,n,i,r,o){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=r,this.enableGlobalButtonCheck=o,this.hidePopup=null,this.applyActive=!1}postConstruct(){let{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,r=i?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:o=>{o?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,z({filterParamsChanged:({column:o,params:s})=>{o===this.column&&this.resetButtonsPanel(s,this.params)},filterStateChanged:({column:o,state:s})=>{o===this.column&&this.eButtons?.updateValidity(s.valid)},filterAction:({column:o,action:s,event:a})=>{o===this.column&&this.afterAction(s,a)}},this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:o})=>{if(o!==this.isGlobalButtons){this.isGlobalButtons=o;let s=this.params;this.resetButtonsPanel(s,s,!0)}}}:void 0))}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){let{buttons:i,readOnly:r}=t??{},{buttons:o,readOnly:s,useForm:a}=e;if(!n&&r===s&&s_(i,o))return;let l=o&&o.length>0&&!e.readOnly&&!this.isGlobalButtons,c=this.eButtons;if(l){if(this.applyActive=HI(this.params),!c){c=this.createBean(new Y6e),this.appendChild(c.getGui());let d=this.column,u=f=>({event:p})=>{this.updateModel(d,f),this.afterAction(f,p)};c?.addManagedListeners(c,{apply:u("apply"),clear:u("clear"),reset:u("reset"),cancel:u("cancel")}),this.eButtons=c}c.updateButtons(o,a)}else this.applyActive=!1,c&&(sa(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){let t=this.hidePopup;if(!t)return;let n=e,i=n&&n.key,r;(i===we.ENTER||i===we.SPACE)&&(r={keyboardEvent:n}),t(r),this.hidePopup=null}afterAction(e,t){let{params:n,applyActive:i}=this,r=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&i&&this.close(t);break}case"reset":{r&&i&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===we.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},Q6e={tag:"div",cls:"ag-filter"},J6e=class extends Wn{constructor(e,t,n){super(Q6e),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??_r.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:n,beans:{colFilter:i}}=this,r=i.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(o=>{if(!o)return;let{isHandler:s,comp:a}=o,l;if(s){let c=!!this.enableGlobalButtonCheck,d=this.createBean(new Z6e(t,o,i,i.updateModel.bind(i),c&&i.isGlobalButtons,c));this.comp=d,l=d.getGui()}else l=a.getGui(),it(l)||$e(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){let{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Bs(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},F5="T",e8e=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${F5}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function jd(e,t){return e.toString().padStart(t,"0")}function ul(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>jd(r,2)).join(n);return t&&(i+=F5+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>jd(r,2)).join(":")),i}function KT(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),jd(e.getDate(),2),jd(e.getHours(),2),`:${jd(e.getMinutes(),2)}`,`:${jd(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,jd(e.getDate(),2)].map(String):null}var uB=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ZB(e,t){if(t==null)return ul(e,!1);let n=jd(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>jd(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${uB(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${uB(e.getDate())}`,DD:()=>jd(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${uB(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,a=>a in o?o[a]():a)}function dI(e,t=!1){return!!Ha(e,t)}function t8e(e){return!!e&&dI(e,!0)&&!!e.match(e8e)?.[1]}function Ha(e,t=!1){if(!e)return null;let[n,i]=e.split(F5);if(!n)return null;let r=n.split("-").map(f=>parseInt(f,10));if(r.filter(f=>!isNaN(f)).length!==3)return null;let[o,s,a]=r,l=new Date(o,s-1,a);if(l.getFullYear()!==o||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!i||i==="00:00:00")return l;let[c,d,u]=i.split(":").map(f=>parseInt(f,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(d>=0&&d<60)l.setMinutes(d);else if(t)return null;if(u>=0&&u<60)l.setSeconds(u);else if(t)return null;return l}var Ute={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Wte=["january","february","march","april","may","june","july","august","september","october","november","december"];function n8e(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function jte(e){return e instanceof Date&&!isNaN(e.getTime())}var QB={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:jte}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{let i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&jte(e.dateParser(t))}),dateTime:e=>QB.date(e),dateTimeString:e=>QB.dateString(e),object:()=>{},text:()=>{}},JB={number:()=>({comparator:n8e}),boolean:({t:e})=>({valueFormatter:t=>it(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{let i=e(n);return it(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){let r=Wte[Number(n)-1];return t(r,Ute[r])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>KT(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{let r=e(i);return it(r)?r:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>KT(t.dateParser(i??void 0),!1),treeListFormatter:(i,r)=>{if(r===1&&i!=null){let o=Wte[Number(i)-1];return n(o,Ute[o])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{let t=JB.date(e);return t.treeListPathGetter=KT,t},dateTimeString(e){let t=e.dataTypeDefinition.dateParser,n=JB.dateString(e);return n.treeListPathGetter=i=>KT(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{let i=e(n);return it(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function i8e(e,t,n,i,r,o,s){let a=t,l=n,c=e==="agSetColumnFilter";!l&&i.baseDataType==="object"&&!c&&(l=({column:p,node:m})=>r({column:p,node:m,value:o.valueSvc.getValue(p,m)}));let u=(c?JB:QB)[i.baseDataType],f=u({dataTypeDefinition:i,formatValue:r,t:s});return a=typeof t=="object"?z(z({},f),t):f,{filterParams:a,filterValueGetter:l}}var r8e={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},o8e={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function s8e(e,t=!1){return(t?o8e:r8e)[e??"text"]}var lre="ag-resizer-wrapper",Xf=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),a8e={tag:"div",cls:lre,children:[Xf("eTopLeft","topLeft"),Xf("eTop","top"),Xf("eTopRight","topRight"),Xf("eRight","right"),Xf("eBottomRight","bottomRight"),Xf("eBottom","bottom"),Xf("eBottomLeft","bottomLeft"),Xf("eLeft","left")]},l8e=class extends Te{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,d=Vc(this.element);if(d){let u=this.findBoundaryElement(),f=window.getComputedStyle(u);if(f.minWidth!=null){let p=u.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-p}if(f.minHeight!=null){let p=u.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-p}}if(this.minHeight=r||l,this.minWidth=n||c,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(d&&t){let u=this.boundaryEl,f=!0;if(u||(u=this.findBoundaryElement(),f=!1),u){let p=parseFloat(u.style.top),m=parseFloat(u.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(p)?0:p):this.setPosition(m,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let i=!!e[t],r=this.getResizerElement(t),o={dragStartPixels:0,eElement:r,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(o),this.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,n=this.element,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)t_(n,e),e=zne(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?t_(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,s=e?0:r.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-i.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:n}=this.config,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)qd(t,e),e=fI(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?qd(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=sp(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,s)?0:s,c=this.shouldSkipY(t,!!i,o,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,i){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=i<0&&e.clientX>a+o.left||i>0&&e.clientX<a+o.left:n?l=i<0&&e.clientX>s.right||i>0&&e.clientX<a+o.left:l=i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)}shouldSkipY(e,t,n=0,i){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=i<0&&e.clientY>a+o.top+n||i>0&&e.clientY<a+o.top:l=i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)}createResizeMap(){let e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(Wi(a8e)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${lre}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,n=0;for(let i=0;i<e.length;i++){let r=e[i],o=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){let l=window.getComputedStyle(r);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null,n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){let r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:o,isLeft:s}=this.currentResizer,a=r||s,l=o||i,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:s,isTop:i}),u=this.position.x,f=this.position.y,p=0,m=0;if(a&&c){let v=s?-1:1,C=this.getWidth(),y=C+c*v,b=!1;s&&(p=C-y,(u+p<=0||y<=this.minWidth)&&(b=!0,p=0)),b||this.setWidth(y)}if(l&&d){let v=i?-1:1,C=this.getHeight(),y=C+d*v,b=!1;i?(m=C-y,(f+m<=0||y<=this.minHeight)&&(b=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(b=!0),b||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||m)&&this.offsetElement(u+p,f+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:n}=this.position,i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());let{movementX:r,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},c8e="ag-focus-managed",qC=class extends Te{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks=z({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;let i=Cm(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())}},t)}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(c8e),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||ph(t))return;let{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){um(t);return}t.key===we.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},d8e=class extends Wn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){let e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new qC(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new l8e(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){let t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){let t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);let r=t.state,o=this.state;return this.state=r,(r.model!==o.model||r.state!==o.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=HI(e),this.setupApplyDebounced()}doesFilterPass(e){$e(283);let{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass(ke(z({},e),{model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)}))}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return $e(284),this.params.model!=null}setupApplyDebounced(){let e=I5(this.params,this.defaultDebounceMs),t=ls(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return $e(285),this.params.model}setModel(e){$e(286);let{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){let{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();let n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;let r=this.params;r.onStateChange(i),r.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:n}=this;if(!t)return;let i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Qf(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function u8e(e){return!!e.operator}function h8e(e,t,n){if(t==null)return null;let i=null,{compName:r,jsComp:o,fwComp:s}=Lie(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:o==null&&s==null&&t.filter===!0&&(i=n()),i}var Nc={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},k5=class extends Te{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Nc.AUTO_HEIGHT:t.print?Nc.PRINT:Nc.NORMAL;this.view.updateLayoutClasses(n,t)}},Yf="Viewport",$te="fakeVScrollComp",qte=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],Kte=100,hB=150,f8e=class extends Te{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=ls(this,()=>this.lastScrollSource[1]=null,hB),this.resetLastVScrollDebounced=ls(this,()=>this.lastScrollSource[0]=null,hB)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Yf)});for(let e of qte){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?ls(this,this.onVScroll.bind(this,Yf),Kte):this.onVScroll.bind(this,Yf),i=t?ls(this,this.onVScroll.bind(this,$te),Kte):this.onVScroll.bind(this,$te);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...qte,Yf]){if(this.lastScrollSource[1]===t)continue;let n=this.getViewportForSource(t);gI(n,e,this.enableRtl)}}getViewportForSource(e){return e===Yf?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;let i=pI(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Yf?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Yf?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent(ke(z({},t),{type:"bodyScrollEnd"}))},hB)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!nm()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=v5(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Yf)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),gI(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:n}=this.beans,i=n.getRowCount(),r=-1;for(let o=0;o<i;o++){let s=n.getRow(o);if(typeof e=="function"){if(s&&e(s)){r=o;break}}else if(e===s||e===s.data){r=o;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(cs(this.gos,"print"))return;let{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){$e(88,{index:e});return}this.clearRetryListeners();let{frameworkOverrides:o,pageBounds:s,rowContainerHeight:a,rowRenderer:l}=this.beans;o.wrapIncoming(()=>{let c=this.ctrlsSvc.getGridBodyCtrl(),d=i.getRow(e),u,f,p=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:m,stickyBottomHeight:v}=c,C=d.rowTop,y=d.rowHeight,b=s.getPixelOffset(),w=d.rowTop-b,S=w+d.rowHeight,D=this.getVScrollPosition(),R=a.divStretchOffset,T=D.top+R,k=D.bottom+R,M=k-T,B=a.getScrollPositionForPixel(w),L=a.getScrollPositionForPixel(S-M),V=Math.min((B+L)/2,w),ee=T+m>w,re=k-v<S,se=null;t==="top"?se=B-m:t==="bottom"?se=L+v:t==="middle"?se=V:ee?se=B-m:re&&(L-B>M?se=B-m:se=L+v),se!==null&&(this.setVerticalScrollPosition(se),l.redraw({afterScroll:!0})),u=C!==d.rowTop||y!==d.rowHeight,f=m!==c.stickyTopHeight||v!==c.stickyBottomHeight,p++}while((u||f)&&p<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(d?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){let m=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{let v=this.getVScrollPosition().top;m!==v&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){let{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;let o=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,a=(s?n:i)||r,l=s?i:n;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:d,colMiddle:u,colRight:f}=this.getColumnBounds(e);return c?u-o/2:a?s?f:d:s?d-o:f-o}return null}isColumnOutsideViewport(e){let{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>r:n<r,a=o?n<i:t>i;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,s=t?n-r:r,a=s+i*o,l=s+i/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},A5=class extends Te{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=cs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth(),s;e?s=i+r+o:(s=i,this.addSpacer&&(this.gos.get("enableRtl")?r:o)===0&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())),this.callback(s)}},p8e=class extends Te{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{Ch(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=v5(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function M5(e,t,n,i,r,o){if(n==null&&t==null)return;let s={},a={},l=(c,d)=>{c.split(" ").forEach(u=>{u.trim()!=""&&d(u)})};if(n){let c=Object.keys(n);for(let d=0;d<c.length;d++){let u=c[d],f=n[u],p;typeof f=="string"?p=e?e.evaluate(f,i):!0:typeof f=="function"&&(p=f(i)),l(u,m=>{p?s[m]=!0:a[m]=!0})}}t&&o&&Object.keys(t).forEach(c=>l(c,d=>{s[d]||(a[d]=!0)})),o&&Object.keys(a).forEach(o),Object.keys(s).forEach(r)}function Xte(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var g8e=class extends Te{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){let n=this.gos,i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);let o=n.getCallback("getRowClass");if(o){let s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){let{gos:i,expressionSvc:r}=this.beans,o=At(i,{data:e.data,node:e,rowIndex:e.rowIndex});M5(r,void 0,i.get("rowClassRules"),o,t,n)}processStylesFromGridOptions(e){let t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle"),r;if(i){let o={data:e.data,node:e,rowIndex:e.rowIndex};r=i(o)}if(r||n)return Object.assign({},n,r)}},m8e=0,AI="renderedRow",MI=class extends Te{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+m8e++,this.rowId=aI(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Xte(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=aI(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){let{context:r,focusSvc:o}=this.beans;i=b_(this,r,i);let s={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s);let a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let d=this.fullWidthGui?.element;d&&!this.beans.editSvc?.isEditing(this)&&o.isRowFocused(a.rowIndex,a.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),rm(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&PB(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),dm(t,e.element,AI,this),e.compBean.addDestroyFunc(()=>dm(t,e.element,AI,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=aI(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(VB(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(VB(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),o=!!t,s=!!n||!i.isPinningRight();return r&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=lie(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new NC(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){let i={list:[],map:{}},r=(c,d,u)=>{u!=null?i.list.splice(u,0,d):i.list.push(d),i.map[c]=d},o=[];for(let c of t){let d=c.getInstanceId(),u=e.map[d];u&&!this.isCorrectCtrlForSpan(u)&&(u.destroy(),u=void 0),u||(u=this.getNewCellCtrl(c)),u&&r(d,u)}for(let c of e.list){let d=c.column.getInstanceId();if(i.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?o.push([d,c]):c.destroy()}if(o.length)for(let[c,d]of o){let u=i.list.findIndex(p=>p.column.getLeft()>d.column.getLeft()),f=u===-1?void 0:Math.max(u-1,0);r(c,d,f)}let{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==n){let c=l.column.getInstanceId();if(!i.map[c]&&a.allCols.includes(l.column)){let u=this.createFocusedCellCtrl();if(u){let f=i.list.findIndex(m=>m.column.getLeft()>u.column.getLeft()),p=f===-1?void 0:Math.max(f-1,0);r(c,u,p)}}}return i}createFocusedCellCtrl(){let{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;let i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");let r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){let{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;let{visibleCols:o,editSvc:s}=this.beans,a=s?.isEditing(e),l=e.isCellFocused();return a||l?!(o.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||cs(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=it(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){let{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}else{let{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){let{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:r,context:o,rowSpanSvc:s}=e;this.addManagedListeners(this.rowNode,z({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},i?.getRowExpandedListeners(this)??{})),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),s&&this.addManagedListeners(s,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(let e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",r=t==="below",s=this.gos.get("treeData")&&(r||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{let c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",i),c.toggleCss("ag-row-highlight-below",r),c.toggleCss("ag-row-highlight-indent",s),s?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:fh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:n,column:i}=t;if(!(n.element===e.target))return;let s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:c?.column??i};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||ph(e))return;let t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=dr(this.beans),o=!1;n&&r&&(o=n.contains(r)&&r.classList.contains("ag-cell"));let s=null;!i&&!o&&(s=Cm(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!s)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>Vc(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{dl(n.element,"tabindex",t)})}onFullWidthRowFocused(e){let t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{let o=this.beans.colModel.getCol(e?.column)?.pinned;o?i=o==="right"?this.rightGui?.element:this.leftGui?.element:i=this.centerGui?.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:n}=this;return At(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){let n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){ph(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=im(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();let r=this.findFullWidthInfoForEvent(e);if(!r)return;let{rowGui:o,column:s}=r,a=o.element,l=e.target,c=e.defaultPrevented||pm();a&&a.contains(l)&&m5(l)&&(c=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(ph(e)||this.lastMouseDownOnDragger)return;let{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:n,rowNode:i}=this,r=At(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,c)=>this.addFullWidthRowDragging(s,a,l,c),setTooltip:(s,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return NNe(o,r);case"FullWidthGroup":{let{value:s,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=s,r.valueFormatted=a,LNe(o,r)}case"FullWidthLoading":return ONe(o,r);default:return PNe(o,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){let{rowDragSvc:r,context:o}=this.beans;if(!r||!this.isFullWidth())return;let s=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){let e=Xte(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(o.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&o.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&o.push("ag-row-pinned-source"),i.isSelected()&&o.push("ag-row-selected"),i.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),i.stub&&o.push("ag-row-loading"),n&&o.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(o,i),i.dragging&&o.push("ag-row-dragging");let{rowStyleSvc:s}=r;return s&&(s.processClassesFromGridOptions(o,i),s.preProcessRowClassRules(o,i)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),n&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:o}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(n=>n.element);for(let n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=tie(this.gos)?ip(this.beans,this.rowNode).height:void 0,o=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&kC(this.gos)&&!t.sticky)if(t.rowTop!=null){let r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(dr(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;let e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&it(e)){let t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,n;if(t.sticky)n=t.stickyRowTop;else{let i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i?.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",i),o.rowComp.toggleCss("ag-row-odd",!i),p5(o.element,r)})}};function cre(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function e5(e,t,n,i,r){let o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let s=At(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(o&&o(s))}function v8e(e){let{pinnedRowModel:t,rowModel:n}=e,[i,r]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],o=i?null:"top",s,a;r?(s=null,a=n.getRowCount()-1):(s="bottom",a=t?.getPinnedBottomRowCount()??-1);let{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!d?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s})}var C8e=65,y8e=67,x8e=86,b8e=68,w8e=90,_8e=89;function S8e(e){let{keyCode:t}=e,n;switch(t){case C8e:n=we.A;break;case y8e:n=we.C;break;case x8e:n=we.V;break;case b8e:n=we.D;break;case w8e:n=we.Z;break;case _8e:n=we.Y;break;default:n=e.code}return n}var E8e=class extends Te{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",gie("touchstart")?"touchstart":"mousedown"].forEach(n=>{let i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){if(!m_(this.gos,t)||ph(t))return;let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:Jie(t,e),rowCtrl:mie(t,e,AI)}}processKeyboardEvent(e,t){let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){let i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!e5(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),cre(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){let{rowNode:i}=e,{focusSvc:r,navigation:o}=this.beans,a=r.getFocusedCell()?.column;if(!e5(this.gos,n,i,a,!1)){let c=n.key;if(t==="keydown")switch(c){case we.PAGE_HOME:case we.PAGE_END:case we.PAGE_UP:case we.PAGE_DOWN:o?.handlePageScrollingKey(n,!0);break;case we.LEFT:case we.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case we.UP:case we.DOWN:e.onKeyboardNavigate(n);break;case we.TAB:e.onTabKeyDown(n);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!m_(this.gos,e))return;let n=S8e(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===we.A)return this.onCtrlAndA(e);if(n===we.C)return this.onCtrlAndC(i,e);if(n===we.D)return this.onCtrlAndD(i,e);if(n===we.V)return this.onCtrlAndV(i,e);if(n===we.X)return this.onCtrlAndX(i,e);if(n===we.Y)return this.onCtrlAndY(r);if(n===we.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&mh(r)&&t.isRowsToRender()?v8e(this.beans):i&&i?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:die(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},dre=class extends Te{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},XT=e=>e.topRowCtrls,YT=e=>e.getStickyTopRowCtrls(),ZT=e=>e.getStickyBottomRowCtrls(),QT=e=>e.bottomRowCtrls,JT=e=>e.allRowCtrls,fB=e=>e.getCtrls("top"),pB=e=>e.getCtrls("center"),gB=e=>e.getCtrls("bottom"),D8e={center:{type:"center",name:"center-cols",getRowCtrls:JT,getSpannedRowCtrls:pB},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:JT,getSpannedRowCtrls:pB},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:JT,getSpannedRowCtrls:pB},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:JT},topCenter:{type:"center",name:"floating-top",getRowCtrls:XT,getSpannedRowCtrls:fB},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:XT,getSpannedRowCtrls:fB},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:XT,getSpannedRowCtrls:fB},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:XT},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:YT},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:YT},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:YT},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:YT},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:ZT},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:ZT},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:ZT},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:ZT},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:QT,getSpannedRowCtrls:gB},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:QT,getSpannedRowCtrls:gB},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:QT,getSpannedRowCtrls:gB},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:QT}};function ure(e){return`ag-${__(e).name}-viewport`}function uI(e){let t=__(e);return t.container??`ag-${t.name}-container`}function R8e(e){return`ag-${__(e).name}-spanned-cells-container`}function __(e){return D8e[e]}var T8e=["topCenter","topLeft","topRight"],I8e=["bottomCenter","bottomLeft","bottomRight"],F8e=["center","left","right"],k8e=["center","left","right","fullWidth"],A8e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],M8e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],P8e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],hre=["stickyTopCenter","stickyTopLeft","stickyTopRight"],fre=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],O8e=[...hre,"stickyTopFullWidth",...fre,"stickyBottomFullWidth"],L8e=[...T8e,...I8e,...F8e,...hre,...fre],N8e=class extends Te{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=__(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new p8e(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new E8e(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:r,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(M8e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(P8e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(k8e,()=>this.createManagedBean(new dre(this.eContainer,this.name==="center"?i:void 0))),o&&this.forContainers(L8e,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(A8e,()=>this.createManagedBean(new A5(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(O8e.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let n=this.gos.get("ensureDomOrder"),i=cs(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return c_(this.eViewport)}getCenterViewportScrollLeft(){return pI(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=sp(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Wne(this.eViewport)}getViewportScrollLeft(){return pI(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||qne(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){gI(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=cs(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,o=t.filter(s=>{let a=s.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},pre="ag-force-vertical-scroll",B8e="ag-selectable",V8e="ag-column-moving",H8e=class extends Te{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${ure("center")}`),this.eFullWidthContainer=n.querySelector(`.${uI("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${uI("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${uI("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new k5(this.comp)),this.scrollFeature=this.createManagedBean(new f8e(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){let t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let n=t&&e.getScrollbarWidth()||0,i=Hne()?16:0,r=`calc(100% + ${n+i}px)`;Ch(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,n=this.gos.get("treeData");if(!n){let i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{let{target:i}=n,r=im(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{let{target:i,relatedTarget:r}=n,o=t.contains(r),s=im(r,"ag-root",t);im(i,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(V8e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(B8e,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?pre:null,n=cs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&s4e(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,n=t.sizesMeasured,i=()=>{let r=n&&kC(this.gos)&&!e.stretching,o=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){let{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:o,touchSvc:s}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),s?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});let l=this.onStickyWheel.bind(this);for(let d of[t,n,i,r])this.addManagedElementListeners(d,{wheel:l});let c=this.onHorizontalWheel.bind(this);for(let d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&m_(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();let{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),o=t.getRowBorderWidth(),s=r-o,a=n?s+n:0,l=i?s+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=i+o;n.setStickyBottomBottom(`${s}px`)}},gre=class extends Wn{constructor(e,t){super(),this.direction=t,this.eViewport=st,this.eContainer=st,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",Bne()||nm())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Hne(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Ch(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;c4e(()=>Vc(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},G8e={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},z8e=class extends gre{constructor(){super(G8e,"horizontal"),this.eLeftSpacer=st,this.eRightSpacer=st,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new A5(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),qd(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),qd(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:i===0&&t?16:i,s=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),t_(this.getGui(),o),t_(this.eViewport,o),t_(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return pI(this.eViewport,this.enableRtl)}setScrollPosition(e){Vc(this.eViewport)||this.attemptSettingScrollPosition(e),gI(this.eViewport,e,this.enableRtl)}},U8e={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:z8e},W8e={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},j8e=class extends gre{constructor(){super(W8e,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new dre(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),qd(this.getGui(),r),qd(this.eViewport,r),qd(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Vc(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},$8e={selector:"AG-FAKE-VERTICAL-SCROLL",component:j8e};function q8e(e){return e.cols?e.cols.treeDepth+1:-1}function $d(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function P5(e){let t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let i of n){if(!i)continue;let r=i.getGroupRowCount()||0;for(let o=0;o<r;o++){let s=i.getGroupRowCtrlAtIndex(o),a=t[o];if(s){let l=K8e(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function K8e(e,t){let i=e.colModel.isPivotMode()?Y8e(e):vre(e),r=t.getHeaderCellCtrls();for(let o of r){let{column:s}=o,a=s.getAutoHeaderHeight();a!=null&&a>i&&s.isAutoHeaderHeight()&&(i=a)}return i}function O5(e){let n=e.colModel.isPivotMode()?X8e(e):S_(e);return e.colModel.forAllCols(i=>{let r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function S_(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function mre(e){return e.gos.get("floatingFiltersHeight")??S_(e)}function vre(e){return e.gos.get("groupHeaderHeight")??S_(e)}function X8e(e){return e.gos.get("pivotHeaderHeight")??S_(e)}function Y8e(e){return e.gos.get("pivotGroupHeaderHeight")??vre(e)}var Z8e=class extends Te{setComp(e,t,n){this.comp=e,this.eGui=t;let{beans:i}=this,{headerNavigation:r,touchSvc:o,ctrlsSvc:s}=i;r&&this.createManagedBean(new qC(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();let a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o?.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Ch(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,n=P5(e).reduce((o,s)=>o+s,0),i=O5(e);if(e.filterManager?.hasFloatingFilters()&&(t+=mre(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;let r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:o,focusSvc:s}=r;(o.navigateHorizontally(i,!0,e)||!n&&s.focusOverlay(!1)||UC(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:n}=this.beans;switch(e.key){case we.LEFT:t="LEFT";case we.RIGHT:{it(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case we.UP:t="UP";case we.DOWN:{it(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(dr(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){let{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;let{target:o}=e??t;(o===this.eGui||o===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},L5=class extends Wn{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},Q8e={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},J8e=class extends L5{constructor(e){super(Q8e,e),this.eResize=st,this.eHeaderCompWrapper=st,this.headerCompVersion=0}postConstruct(){let e=this.getGui(),t=(r,o)=>{o!=null&&o!=""?e.setAttribute(r,o):e.removeAttribute(r)},n=()=>{let r=this.ctrl.getSelectAllGui();r&&(this.eResize.insertAdjacentElement("afterend",r),this.addDestroyFunc(()=>r.remove()))};t("col-id",this.ctrl.column.getColId());let i={setWidth:r=>e.style.width=r,toggleCss:(r,o)=>this.toggleCss(r,o),setUserStyles:r=>x_(e,r),setAriaSort:r=>r?ZLe(e,r):QLe(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:n,removeSelectAllGui:()=>this.ctrl.getSelectAllGui()?.remove()};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),n()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},eBe={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},tBe=class extends L5{constructor(e){super(eBe,e),this.eResize=st,this.eHeaderCompWrapper=st}postConstruct(){let e=this.getGui(),t=(i,r)=>r!=null?e.setAttribute(i,r):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let n={toggleCss:(i,r)=>this.toggleCss(i,r),setUserStyles:i=>x_(e,i),setHeaderWrapperHidden:i=>{i?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:i=>{i!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${i}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",i!=null)},setResizableDisplayed:i=>or(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let n=this.getGui(),i=e.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(n)}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:n}=this;t?n.style.setProperty(e,t):n.style.removeProperty(e)}},nBe={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},iBe=class extends L5{constructor(e){super(nBe,e),this.eFloatingFilterBody=st,this.eButtonWrapper=st,this.eButtonShowMainFilter=st}postConstruct(){let e=this.getGui(),t={toggleCss:(n,i)=>this.toggleCss(n,i),setUserStyles:n=>x_(e,n),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>or(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},rBe=class extends Wn{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){p5(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let n=this.headerComps;if(this.headerComps={},e.forEach(i=>{let r=i.instanceId,o=n[r];delete n[r],o==null&&(o=this.createHeaderComp(i),this.getGui().appendChild(o.getGui())),this.headerComps[r]=o}),Object.values(n).forEach(i=>{this.getGui().removeChild(i.getGui()),this.destroyBean(i)}),t){let i=Object.values(this.headerComps);i.sort((o,s)=>{let a=o.getCtrl().column.getLeft(),l=s.getCtrl().column.getLeft();return a-l});let r=i.map(o=>o.getGui());$ne(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new tBe(e);break;case"filter":t=new iBe(e);break;default:t=new J8e(e);break}return this.createBean(t),t.setParentComponent(this),t}},N5=class extends Te{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?vi(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=it(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:n,visibleCols:i}=this.beans;if(!cs(n,"print")||e.getPinned()==="left")return t;let o=i.getColsLeftWidth();if(e.getPinned()==="right"){let s=i.bodyWidth;return o+s+t}return o+t}setLeft(e){if(it(e)&&(this.eCell.style.left=`${e}px`),Sr(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&YLe(this.ariaEl,t.length)}}},oBe=0,Cre="headerCtrl",B5=class extends Te{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+oBe++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){let{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!it(r))return!1;let o=At(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(o)}getWrapperHasFocus(){return dr(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,n;if(typeof t=="function"){let i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,o=u=>{if(!this.isAlive()||!i.isAlive())return;let{paddingTop:f,paddingBottom:p,borderBottomWidth:m,borderTopWidth:v}=gm(this.eGui),C=f+p+m+v,b=t.offsetHeight+C;if(u<5){let w=Uo(r),S=!w||!w.contains(t),D=b==0;if(S||D){VB(()=>o(u+1),"raf",r);return}}this.setColHeaderHeight(this.column,b)},s=!1,a,l=()=>{let u=this.column.isAutoHeaderHeight();u&&!s&&c(),!u&&s&&d()},c=()=>{s=!0,o(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=sp(this.beans,t,()=>o(0))},d=()=>{s=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>d()),i.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),i.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),n&&n(l)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(Yie(e,t,n.visibleCols),Lne(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=am(this.beans);this.eGui&&dl(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=dr(this.beans),n=e.key===we.LEFT||e.key===we.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;let r=e.key===we.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:n}=this,i=e.key===we.LEFT!==t.get("enableRtl"),r=n.getPinned(),o=t.get("enableRtl");return r&&o!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case we.PAGE_DOWN:case we.PAGE_UP:case we.PAGE_HOME:case we.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=Cre,{eGui:n,gos:i}=this;dm(i,n,t,this),e.addDestroyFunc(()=>dm(i,n,t,null))}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){let i=e??t,{menuSvc:r,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},sBe=class extends B5{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;let{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:u}=a,f=b_(this,c,r);this.setGui(t,f),this.updateState(),this.setupWidth(f),this.setupMovingCss(f),this.setupMenuClass(f),this.setupSortableClass(f),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:m=>this.setRefreshFunction("measuring",m),compBean:f}),this.addColumnHoverListener(f),this.setupFilterClass(f),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(f),this.setupSelectAll(f),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=f.createManagedBean(l.createResizeFeature(o.pinned,s,n,e,this)):or(n,!1),d?.createHoverFeature(f,[s],t),u?.createRangeHighlightFeature(f,s,e),f.createManagedBean(new N5(s,t,a)),f.createManagedBean(new qC(t,{shouldStopEventPropagation:m=>this.shouldStopEventPropagation(m),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(f),f.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),f.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),f.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let p=()=>this.checkDisplayName();f.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),f.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return At(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return FNe(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return At(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||cl(this.gos)),showColumnMenu:(o,s)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t?.setSortForColumn(this.column,o,!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{let n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===we.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===we.ENTER&&this.onEnterKeyDown(e),e.key===we.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){let n=this.comp.getUserCompInstance();Yte(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),w6e()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),n=Xie(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:n,beans:i}=this,r=P5(this.beans),o=r.reduce((d,u)=>d+=u,0)===0;if(n.toggleCss("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}let{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",s>0);let l=O5(i);if(s===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);let c=0;for(let d=0;d<s;d++)c+=r[r.length-1-d];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${l+c}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(BLe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!cl(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(dr(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return Yte(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Yte(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var aBe=0,mB=class extends Te{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=aBe++,this.allCtrls=[];let i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=cs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=b_(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=cs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],n=P5(this.beans),i=O5(this.beans);t.push(...n),t.push(i),e?.hasFloatingFilters()&&t.push(mre(this.beans));let r=0;for(let s=0;s<this.rowIndex;s++)r+=t[s];let o=t[this.rowIndex];return{topOffset:r,rowHeight:o}}onVirtualColumnsChanged(e=!1){let t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);let n=i=>{let{focusSvc:r,visibleCols:o}=this.beans;return r.isHeaderWrapperFocused(i)?o.isVisible(i.column):!1};if(e)for(let[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;let i=e.getUniqueId(),r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new sBe(e,this));break}t.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{let r=n.getHeadersToRender(i,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){let n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},lBe=class extends Te{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:o,filterManager:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);let a=this.onDisplayedColumnsChanged.bind(this,s);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});let l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,colModel:n,filterManager:i}=this.beans,r=0,o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{let d=q8e(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<d;u++){let f=this.createBean(new mB(r++,this.pinned,"group"));this.groupsRowCtrls.push(f)}},a=()=>{let d=r++,u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==d);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new mB(d,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!i?.hasFloatingFilters()&&!this.hidden;let d=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){d();return}let u=r++;if(this.filtersRowCtrl){let f=this.filtersRowCtrl.rowIndex!==u;(!e||f)&&d()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new mB(u,this.pinned,"filter")))};s(),a(),l();let c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){let t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(vh(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){let i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;let{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new A5(e=>this.comp.setCenterWidth(`${e}px`),!0))}},cBe=class extends Te{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&cl(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(cl(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&vh(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(nm()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!cl(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!cl(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return cl(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){let{positionBy:r,onClosedCallback:o}=t,s=t.column;if(r==="button"){let{buttonElement:a}=t;e?.showMenuAfterButtonClick(s,a,n,o,i)}else if(r==="mouse"){let{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(s,a,n,o,i)}else if(s){let a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),Ch(a,()=>{let c=l.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);c&&e?.showMenuAfterButtonClick(s,c.getAnchorElementForMenu(i),n,o,i)})}}};function Zte(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var V5=class extends Wn{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},GI=class extends V5{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},yre=class extends Wn{constructor(){super()}},dBe={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},uBe=class extends yre{init(){let e=fh(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??dBe),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},hBe={tag:"span",cls:"ag-overlay-no-rows-center"},fBe=class extends yre{init(){let e=fh(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??hBe),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function pBe(e,t,n){let i=tc(e,t,n);if(i){let{className:o}=i;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return i}let r=Wi({tag:"span"});return r.appendChild(i),r}function tc(e,t,n){let i=null;e==="smallDown"?$e(262):e==="smallLeft"?$e(263):e==="smallRight"&&$e(264);let r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){let o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{$e(38,{iconName:e});return}if(typeof o=="string")return C5(o);if(x5(o))return o;$e(133,{iconName:e});return}else{let o=t.registry.getIcon(e);return o||t.validation?.validateIcon(e),Wi({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var gBe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",mBe={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},vBe=class extends Wn{constructor(){super(),this.dragSource=null,this.eIcon=st,this.eLabel=st,this.eGhost=st,this.registerCSS(gBe)}postConstruct(){let e=t=>pBe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(mBe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eIcon:n,dragSource:i,dropIconMap:r,gos:o}=this;Bs(n);let s=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),s=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(s===r.hide&&o.get("suppressDragLeaveHidesColumns"))&&s&&n.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},CBe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",yBe=class extends Wn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(CBe)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;Bs(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(or(t,!1),tp(t,"presentation")):(or(t,!0),tp(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(mI(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return l_(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},xre=class extends yBe{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||VLe(e)!==null?a_(e,""):a_(e,t??"")}setAriaLabel(e){return HC(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return qd(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function xBe(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var tm=class extends xre{constructor(e,t,n="text",i="input"){super(e,e?.template??xBe(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=st,this.eWrapper=st,this.eInput=st}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);let{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;let{inputName:r,inputWidth:o}=this.config;r!=null&&this.setInputName(r),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,dl(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return mI(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return dl(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return HC(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return l_(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)dl(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";dl(this.eInput,"autocomplete",t)}return this}},H5=class extends tm{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});let i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},G5={selector:"AG-CHECKBOX",component:H5},bBe=".ag-checkbox-cell{height:100%}",wBe={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},_Be=class extends Wn{constructor(){super(wBe,[G5]),this.eCheckbox=st,this.registerCSS(bBe)}init(e){this.refresh(e);let{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),Pne(i,"polite"),this.addManagedListeners(i,{click:r=>{if(um(r),t.isDisabled())return;let o=t.getValue();this.onCheckboxChanged(o)},dblclick:r=>{um(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===we.SPACE&&!t.isDisabled()){e.eGridCell===dr(n)&&t.toggle();let o=t.getValue();this.onCheckboxChanged(o),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0,{value:i,column:r,node:o}=e;if(o.group&&r)if(typeof i=="boolean")t=i;else{let u=r.getColId();u.startsWith(BI)?t=i==null||i===""?void 0:i==="true":o.aggData&&o.aggData[u]!==void 0?t=i??void 0:n=!1}else t=i??void 0;let{eCheckbox:s}=this;if(!n){s.setDisplayed(!1);return}s.setValue(t);let a=e.disabled??!r?.isCellEditable(o);s.setDisabled(a);let l=this.getLocaleTextFunc(),c=g5(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;s.setInputAriaLabel(d)}onCheckboxChanged(e){let{params:t}=this,{column:n,node:i,value:r}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:i.rowIndex,rowPinned:i.rowPinned,state:"changed",oldValue:r,newValue:r}],{update:!0});let o=i.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:i,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),o||this.updateCheckbox(t)}},Qte=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){let{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),nc(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(let t of this.visible)if(t.id==e)return t}clear(){let{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){let{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],r=DBe(this.order);if(this.order.sort((s,a)=>(s.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,i)??this.order,!r)return;let o=sie(n);o==="bottom"||o==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){let{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function bre(e){if(e.level===-1)return!0;let t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?bre(t):!1}function vB(e,t){let{gos:n,rowModel:i,filterManager:r}=e;return jC(n,i)?!i.getRowNode(t.id):r?.isAnyFilterPresent()?!bre(t):n.get("pivotMode")?!t.group:!1}function SBe(e){return!!e.footer&&e.level===-1}function EBe(e){return!!e.pinnedSibling&&SBe(e.pinnedSibling)}function DBe(e){let t=e.findIndex(EBe);if(t>-1)return e.splice(t,1)?.[0]}var Jte=class extends Te{postConstruct(){let{gos:e,beans:t}=this;this.top=new Qte(t,"top"),this.bottom=new Qte(t,"bottom");let n=r=>vB(t,r.pinnedSibling),i=()=>{let r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(o=>this.pinRow(o,r(o)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:()=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(r=>r.hide(n)),this.refreshRowPositions(),this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(TBe),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{let n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,FBe(this.beans);return}let i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){let s=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(s,null,n),this.pinRow(a,t,n);return}let o=n&&IBe(this.beans,e,n);if(o){o.forEach(s=>this.pinRow(s,t));return}if(t==null){let s=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(s);if(!a)return;a.delete(s);let l=s.pinnedSibling;CB(s),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{let s=ene(this.beans,e,t),a=this.getContainer(t);a.add(s),vB(this.beans,e)&&a.hide(l=>vB(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=ip(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return tne(this.top)}getPinnedBottomTotalHeight(){return tne(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){let e=t=>{let n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(let i of e[n]){let r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{let n=new Set;e.forEachQueued(i=>{let r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(let i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){let{gos:e,beans:t,_grandTotalPinned:n}=this,i=t.rowModel;if(!Eo(e,i))return;let r=i.rootNode?.sibling;if(!r)return;let o=r.pinnedSibling,s=o&&this.findPinnedRowNode(o);if(n){if(s&&s.floating!==n&&(s.delete(o),CB(o)),!s||s.floating!==n){let a=ene(t,r,n);this.getContainer(n).add(a)}}else{if(!s)return;s.delete(o),CB(o)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){let t=n=>RBe(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function RBe(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(ip(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function ene(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;let i=j6e(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;let r=n==="top"?R5:T5;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function CB(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);let t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function TBe(e){let t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function IBe(e,t,n){let{rowSpanSvc:i}=e,r=(n&&i?.isCellSpanning(n,t))??!1;if(n&&r)return i?.getCellSpan(n,t)?.spannedNodes}function tne(e){let t=e.size();if(t===0)return 0;let n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function FBe({gos:e,rowModel:t}){Eo(e,t)&&t.refreshModel({step:"map"})}var nne=class extends Te{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){let t=n=>{n.setRowHeight(n.rowHeight,!0)};qw(this.pinnedBottomRows,t),qw(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=ip(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return qw(this.pinnedBottomRows,n),t=0,qw(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}let i=GC(this.gos),r=t==="top"?R5:T5,o=new Set(n.order),s=[],a=new Set,l=0,c=-1;for(let d of e){let u=i?.({data:d,level:0,rowPinned:t})??r+this.nextId++;if(a.has(u)){$e(96,{id:u,data:d});continue}c++,a.add(u),s.push(u);let f=n_(n,u);if(f!==void 0)f.data!==d&&f.updateData(d),l+=this.setRowTopAndRowIndex(f,l,c),o.delete(u);else{let p=new fm(this.beans);p.id=u,p.data=d,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,c),n.cache[u]=p,n.order.push(u)}}o.forEach(d=>{n_(n,d)?.clearRowTopAndRowIndex(),delete n.cache[d]}),n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(ip(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return ine(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return ine(this.pinnedBottomRows)}getPinnedTopRowCount(){return n5(this.pinnedTopRows)}getPinnedBottomRowCount(){return n5(this.pinnedBottomRows)}getPinnedTopRow(e){return t5(this.pinnedTopRows,e)}getPinnedBottomRow(e){return t5(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return n_(this.getCache(t),e)}forEachPinnedRow(e,t){return qw(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function ine(e){let t=n5(e);if(t===0)return 0;let n=t5(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function n_(e,t){return e.cache[t]}function t5(e,t){return n_(e,e.order[t])}function qw(e,t){e.order.forEach((n,i)=>{let r=n_(e,n);r&&t(r,i)})}function n5(e){return e.order.length}var kBe=class extends Te{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){let{gos:e}=this,t=()=>{let n=e.get("enableRowPinning"),i=sie(e),o=!!n||(i==="pinnedBottom"||i==="pinnedTop"),s=o?this.inner instanceof nne:this.inner instanceof Jte;this.inner&&s&&this.destroyBean(this.inner),(s||!this.inner)&&(this.inner=this.createManagedBean(o?new Jte:new nne))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},ABe="ROOT_NODE_ID",MBe=class extends Te{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=ABe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){let n=GC(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,o=new Set,s=this.rootNode,a=s.allLeafChildren,l=a.length,c=!1,d=!1,u=!1,f=!1;for(let m=0,v=-1,C=t.length;m<C;m++){let y=t[m],b=this.getRowNode(n({data:y,level:0}));if(!b)c=!0,b=this.createRowNode(y,-1),r.add(b);else{if(i){let w=b.sourceRowIndex;f||(f=w<=v||c),v=w}b.data!==y&&(u=!0,b.updateData(y),r.update(b))}o.add(b)}let p=[];for(let m=0;m<l;m++){let v=a[m];o.has(v)||(d=!0,v.isSelected()&&p.push(v),v.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(v.pinnedSibling,null),this.rowNodeDeleted(v),r.remove(v))}if(c||d||f){let m=new Array(o.size),v=0;if(!i)for(let y=0;y<l;++y){let b=a[y];o.delete(b)&&(b.sourceRowIndex=v,m[v++]=b)}for(let y of o)y.sourceRowIndex=v,m[v++]=y;s.allLeafChildren=m;let C=s.sibling;C&&(C.allLeafChildren=m),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=f)}(c||d||f||u)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();let t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=GC(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){let n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let u=0;u<i.length;u++)if(i[u]?.rowIndex==r-1){r=u+1;break}}let o=n.length,s=t.changedRowNodes,a=new Array(o);for(let d=0;d<o;d++){let u=this.createRowNode(n[d],r+d);s.add(u),a[d]=u}let l=this.rootNode;if(r<i.length){let d=i.slice(0,r),u=i.slice(r,i.length),f=d.length+a.length;for(let p=0,m=u.length;p<m;++p)u[p].sourceRowIndex=f+p;i=[...d,...a,...u],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;let c=l.sibling;c&&(c.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{remove:o}=t;if(!o?.length)return;let s={};o.forEach(c=>{let d=this.lookupRowNode(e,c);d&&(d.isSelected()&&r.push(d),d.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(d.pinnedSibling,null),d.clearRowTopAndRowIndex(),s[d.id]=!0,delete this.allNodesMap[d.id],i.remove.push(d),n.remove(d))});let a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!s[c.id])??null,a.allLeafChildren?.forEach((c,d)=>{c.sourceRowIndex=d});let l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{update:o}=t;o?.length&&o.forEach(s=>{let a=this.lookupRowNode(e,s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){let t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){let n=new fm(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&$e(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){let i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return Ci(4,{id:i}),null}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return Ci(5,{data:t}),null;return n||null}};var PBe={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},OBe=class extends Wn{constructor(){super(PBe,[G5]),this.eCheckbox=st}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=g5(e,i),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:um,click:i=>{um(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let o=typeof i=="object"?lB(i):void 0,s=typeof r=="object"?lB(r):void 0;o!==s&&this.onSelectableChanged()}),UB(this.gos)||typeof this.getIsVisible()=="function"){let i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){let{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,o=this.getIsVisible(),s;if(typeof o=="function"){let u=n?.callbackParams;if(!e)s=o(ke(z({},u),{node:t,data:t.data}));else{let f=e.createColumnFunctionCallbackParams(t);s=o(z(z({},u),f))}}else s=o??!1;let a=r&&!s||!r&&s,l=r||s,c=i.get("rowSelection"),d=c&&typeof c!="string"?!lB(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?d:!0)),this.setDisplayed(l&&(a?d:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?AC(t):this.column?.getColDef()?.checkboxSelection}},LBe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t,{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){let r=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:o}:{keep:o,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){let n=this.getRoot();if(n==null){let r=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&r.push(o)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}let i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){let{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Ql(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){let r=Ql(n,"bottom",void 0,e),o=i.getRowCount(),s=i.getRow(o-1);return(i.getNodesInRangeForSelection(t,s)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Ql(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){let r=Ql(n,"top",t,void 0),o=Ql(n,"bottom",void 0,e),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(!e.rowPinned&&t.rowPinned==="top")return Ql(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){let r=Ql(n,"top",e,void 0),o=Ql(n,"bottom",void 0,t),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Ql(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){let r=Ql(n,"bottom",void 0,t),o=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,o)??[]).concat(r)}return null}},NBe=class extends Te{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(dr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new H5);this.cbSelectAll=t,t.addCss("ag-header-select-all"),tp(t.getGui(),"presentation"),this.showOrHideSelectAll();let n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let o=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;o(i)!==o(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);let r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${s})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return u_(this.gos)?!0:($e(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:n}=this.beans;return Eo(t)||jC(t)?!0:($e(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");let i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){let{column:e,gos:t,beans:n}=this,o=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return wre(n,e)&&this.checkRightRowModelType(o)&&this.checkSelectionType(o)}getSelectAllMode(){let e=die(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function wre({gos:e,selectionColSvc:t},n){let i=e.get("rowSelection"),r=n.getColDef(),{headerCheckboxSelection:o}=r,s=!1;if(typeof i=="object"){let l=vm(n),c=S5(n);(CI(i)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(s=sI(i))}else typeof o=="function"?s=o(At(e,{column:n,colDef:r})):s=!!o;return s}var BBe=class extends Te{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new LBe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let n=UB(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=UB(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new OBe}createSelectAllFeature(e){if(wre(this.beans,e))return new NBe(e)}isMultiSelect(){return u_(this.gos)}onRowCtrlSelected(e,t,n){let i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);let o=r.element;OB(o,i),o.contains(dr(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected();if(!e.selectable)return;let i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!w_(e)||!rm(this.gos)}updateRowSelectable(e,t){let n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(h_(this.gos)){let r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){let r=e.childrenAfterGroup[i],o=r.isSelected();if(!r.selectable){let s=this.calculateSelectedFromChildren(r);if(s===null)continue;o=s}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){let r=!e.selectable&&t,o=e.__selected===t;if(r||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");let a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(ke(z({},U6e(e,this.gos,"rowSelected")),{event:n||null,source:i})),!0}isCellCheckboxSelection(e,t){let n=this.gos.get("rowSelection");if(n&&typeof n!="string"){let i=vm(e)&&AC(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){let{gos:r,selectionCtx:o}=this,s=e.isSelected(),a=h_(r),l=D4e(r),c=R4e(r),d=this.isMultiSelect(),u=i==="rowClicked";if(u&&!(l||c))return null;if(t&&n&&d){let f=o.getRoot();if(f)if(f.isSelected()){let p=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:p.discard,select:p.keep,reset:!1}}else{let p=o.extend(e,a);return{select:[],deselect:p.keep,reset:!1}}else return null}else if(t&&d){let f=o.selectAll?this.beans.rowModel.getRow(0):void 0,p=o.getRoot(f),m=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:m.keep,deselect:m.discard,reset:o.selectAll||!!(p&&!p.isSelected())}}else if(n){if(u){let f=!s;return f&&!l||!f&&!c?null:(o.setRoot(e),{node:e,newValue:f,clearSelection:!1})}return o.setRoot(e),{node:e,newValue:!s,clearSelection:!d}}else{o.setRoot(e);let f=T4e(r),p=xI(r)==="filteredDescendants",m=u&&(!f||!l);if(p&&s===void 0&&Eo(r))return{node:e,newValue:!1,clearSelection:!d||m};if(u){let v=s?!f:l;return v===s&&!m||v&&!l||!v&&!c?null:{node:e,newValue:v,clearSelection:!d||m,keepDescendants:e.group&&a}}return{node:e,newValue:!s,clearSelection:!d||m}}}},VBe=class extends H5{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}};var ym=class extends tm{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let n=this.eInput;return n.value!==e&&(n.value=it(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{cre(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{let i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},zI={selector:"AG-INPUT-TEXT-FIELD",component:ym},HBe=class extends tm{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},GBe={selector:"AG-INPUT-TEXT-AREA",component:HBe},z5=class extends ym{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let o=parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){dr(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){let n=this.precision;if(n==null)return e;if(t){let r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}let i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,dl(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,dl(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,dl(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(it(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);let r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},zBe={selector:"AG-INPUT-NUMBER-FIELD",component:z5},UBe=class extends ym{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=pm();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){dr(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?ul(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,dl(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?ul(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,dl(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,dl(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Ha(this.getValue())??void 0}setDate(e,t){this.setValue(ul(e??null,this.includeTime),t)}},_re={selector:"AG-INPUT-DATE-FIELD",component:UBe},WBe=class extends Wn{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case we.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case we.DOWN:case we.UP:e.preventDefault(),this.navigate(t);break;case we.PAGE_DOWN:case we.PAGE_UP:case we.PAGE_HOME:case we.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===we.DOWN,n,{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let s=i.indexOf(r)+(t?1:-1);s=Math.min(Math.max(s,0),i.length-1),n=i[s]}this.highlightItem(n)}navigateToPage(e){let{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;let i=t.indexOf(n),r=this.options.length-1,o=t[0].clientHeight,s=Math.floor(this.getGui().clientHeight/o),a=-1;e===we.PAGE_HOME?a=0:e===we.PAGE_END?a=r:e===we.PAGE_DOWN?a=Math.min(i+s,r):e===we.PAGE_UP&&(a=Math.max(i-s,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{sa(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){let e=this.getGui();tp(e,this.options.length===0?"presentation":"listbox")}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{jLe(t,n+1),WLe(t,e.length)})}renderOption(e,t){let n=Wi({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=Wi({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let n=this.options.findIndex(i=>i.value===e);if(n!==-1){let i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Vc(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),OB(e,!0);let t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:o}=e;(r+o>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){let e=this.highlightedEl;!e||!Vc(e)||(e.classList.remove(this.activeClass),OB(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},jBe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.ag-picker-has-focus:not(.invalid)),&:where(:focus-within:not(.invalid)){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}&:disabled{opacity:.5}}",$Be={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},qBe=class extends xre{constructor(e){if(super(e,e?.template||$Be,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=st,this.eWrapper=st,this.eDisplayField=st,this.eIcon=st,this.registerCSS(jBe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:i}=this.config;if(n){let r=tc(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),PB(e,!1),this.ariaRole&&tp(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case we.UP:case we.DOWN:case we.ENTER:case we.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case we.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,u={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let v=rie(c);this.beforeHidePicker(),v&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:d};e.style.position="absolute";let f=c.popupSvc,p=f.addPopup(u);l?(s&&(e.style.minWidth=s),e.style.width=y5(fI(d)),a&&(e.style.maxWidth=a)):mI(e,a??fI(d));let m=o??`${v5(f.getPopupParent())}px`;return e.style.setProperty("max-height",m),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:o}=this,s=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();PB(t,e);let n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return mI(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},KBe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",U5=class extends qBe{constructor(e){super(z({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(KBe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:oI(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new WBe("select",!0));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),e4e(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===we.TAB&&this.hidePicker(),t){case we.ENTER:case we.UP:case we.DOWN:case we.PAGE_UP:case we.PAGE_DOWN:case we.PAGE_HOME:case we.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case we.ESCAPE:super.onKeyDown(e);break;case we.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){let{listComponent:i,config:{placeholder:r},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),o.textContent=l,s?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},XBe={selector:"AG-SELECT",component:U5},yB={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},YBe=class extends Te{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:f,isEmpty:p,eFocusableElement:m}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=m,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=f,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new qC(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():LC(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=Uo(this.beans),n=LC(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,o;e?(r=0,o=i):(r=i+1,o=n.length);let s=n.slice(r,o),a=this.gos.get("tabIndex");s.sort((l,c)=>{let d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:d===0?1:u===0?-1:d-u}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=LC(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Cm(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ZBe=class extends Te{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],o={setTabIndex:C=>{r.forEach(y=>C!=null?y.setAttribute("tabindex",C):y.removeAttribute("tabindex"))}};this.addTabGuards(t,n);let{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:f,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}=e;this.tabGuardCtrl=this.createManagedBean(new YBe({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:f,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=Uo(this.beans).createElement("div"),n=e==="top"?yB.TAB_GUARD_TOP:yB.TAB_GUARD_BOTTOM;return t.classList.add(yB.TAB_GUARD,n),tp(t,"presentation"),t}addTabGuards(e,t){let n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];Bs(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){x5(t)||(t=t.getGui());let{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;sa(e),sa(t),super.destroy()}},Sre=class extends Wn{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new ZBe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},em=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new cm,this.preventMouseClick=t;let n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;let i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!Qie(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};var QBe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},W5=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${Xne}/${this.frameworkName}-data-grid`,h4e(this.baseDocLink)}setInterval(e,t){return new _r(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){let o=vie(t);o!=null&&(r.passive=o)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function JBe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var e5e=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],rne=Object.fromEntries(e5e.map((e,t)=>[e,t]));function t5e(e,t){let n=(e.beanName?rne[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?rne[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function n5e(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var i5e={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},r5e={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},o5e={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},xB=class extends Wn{constructor(e){super(),this.eCenterContainer=st,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{let i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new lBe(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",n=e?i5e:t?r5e:o5e;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==st?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n,i=r=>{let o=r.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),n&&jne(this.eRowContainer,o,n),n=o};e.forEach(r=>{let o=r.instanceId,s=t[o];delete t[o];let a=s||this.createBean(new rBe(r));this.headerRowComps[o]=a,this.rowCompsList.push(a),i(a)}),Object.values(t).forEach(r=>this.destroyRowComp(r))}},s5e={tag:"div",cls:"ag-header",role:"presentation"},a5e=class extends Wn{constructor(){super(s5e)}postConstruct(){let e={toggleCss:(i,r)=>this.toggleCss(i,r),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new Z8e).setComp(e,this.getGui(),this.getFocusableElement());let n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new xB("left")),n(new xB(null)),n(new xB("right"))}},l5e={selector:"AG-HEADER-ROOT",component:a5e},c5e=class extends Wn{constructor(e,t,n,i,r){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.gos=e.gos,this.column=t.column,this.rowNode=t.rowNode,this.eRow=i;let o=Wi({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.column.colIdSanitised}});this.eCell=o;let s;t.isCellSpanning()?(s=Wi({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),s.appendChild(o),this.setTemplateFromElement(s)):this.setTemplateFromElement(o),this.cellCssManager=new Aie(()=>o),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let a={toggleCss:(l,c)=>this.cellCssManager.toggleCss(l,c),setUserStyles:l=>x_(o,l),getFocusableElement:()=>o,setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(l,c)=>this.refreshEditStyles(l,c)};t.setComp(a,o,s,this.eCellWrapper,n,r,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){let e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;i&&(this.eCellWrapper=Wi({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));let r=!n&&this.eCellWrapper!=null;r&&(sa(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!n);let o=!e&&n,s=o&&this.eCellValue==null;s&&(this.eCellValue=Wi({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));let a=!o&&this.eCellValue!=null;a&&(sa(this.eCellValue),this.eCellValue=void 0);let l=i||r||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){let{cellCtrl:e,eCellWrapper:t,eCellValue:n,includeRowDrag:i,includeDndSource:r,includeSelection:o}=this,s=a=>{a&&t.insertBefore(a.getGui(),n)};i&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),s(this.rowDraggingComp)),r&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),s(this.dndSourceComp)),o&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),s(this.checkboxSelectionComp))}createCellEditorInstance(e,t,n){let i=this.editorVersion,r=e.newAgStackInstance(),{params:o}=e;r.then(a=>this.afterCellEditorCreated(i,a,o,t,n)),Zi(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();Bs(t);let n=$C(e);n!=null&&(t.textContent=n)}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),sa(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(dr(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),sa(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let t=this.rendererVersion,n=o=>s=>{if(this.rendererVersion!==t||!this.isAlive())return;let l=o.newAgStackInstance(),c=this.afterCellRendererCreated.bind(this,t,o.componentClass);l?.then(c)},{animationFrameSvc:i}=this.beans,r;if(i?.active&&this.firstRender?r=(o,s=!1)=>{i.createTask(n(o),this.rowNode.rowIndex,"p2",o.componentFromFramework,s)}:r=o=>n(o)(),e.params?.deferRender&&!this.cellCtrl.rowNode.group){let{loadingComp:o,onReady:s}=this.cellCtrl.getDeferLoadingCellRenderer();o&&(r(o),s.then(()=>r(e,!0)))}else r(e)}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}this.cellRenderer=n,this.cellRendererClass=t;let r=n.getGui();if(this.cellRendererGui=r,r!=null){let o=this.getParentOfValue();Bs(o),o.appendChild(r)}}afterCellEditorCreated(e,t,n,i,r){let o=e!==this.editorVersion,{context:s}=this.beans;if(o){s.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){s.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){$e(97,{colId:this.column.getId()}),s.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let l=i||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached?.(),this.cellCtrl.enableEditorTooltipFeature(t),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssManager:n}=this;n.toggleCss("ag-cell-inline-editing",e&&!t),n.toggleCss("ag-cell-popup-editing",e&&!!t),n.toggleCss("ag-cell-not-inline-editing",!e||!!t)}addInCellEditor(){let{eCell:e}=this;e.contains(dr(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),Bs(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){let{gos:n,context:i,popupSvc:r,localeSvc:o,editSvc:s}=this.beans;n.get("editType")==="fullRow"&&$e(98);let a=this.cellEditor;this.cellEditorPopupWrapper=i.createBean(s.createPopupEditorWrapper(e));let l=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&l.appendChild(this.cellEditorGui);let c=n.get("stopEditingWhenCellsLoseFocus"),d=t??a.getPopupPosition?.()??"over",u=n.get("enableRtl"),f={ePopup:l,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:d,alignSide:u?"right":"left",keepWithinBounds:!0},p=r.positionPopupByComponent.bind(r,f),m=f5(o),v=r.addPopup({modal:c,eChild:l,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:p,ariaLabel:m("ariaLabelCellEditor","Cell Editor")});v&&(this.hideEditorPopup=v.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},d5e=class extends Wn{constructor(e,t,n){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;let i=Wi({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(i,n),this.setTemplateFromElement(i);let r=i.style;this.domOrder=this.rowCtrl.getDomOrder();let o={setDomOrder:s=>this.domOrder=s,setCellCtrls:s=>this.setCellCtrls(s),showFullWidth:s=>this.showFullWidth(s),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,toggleCss:(s,a)=>this.toggleCss(s,a),setUserStyles:s=>x_(i,s),setTop:s=>r.top=s,setTransform:s=>r.transform=s,setRowIndex:s=>i.setAttribute("row-index",s),setRowId:s=>i.setAttribute("row-id",s),setRowBusinessKey:s=>i.setAttribute("row-business-key",s),refreshFullWidth:s=>this.fullWidthCellRenderer?.refresh?.(s())??!1};e.setComp(o,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}setInitialStyle(e,t){let n=this.rowCtrl.getInitialTransform(t);if(n)e.style.setProperty("transform",n);else{let i=this.rowCtrl.getInitialRowTop(t);i&&e.style.setProperty("top",i)}}showFullWidth(e){let t=i=>{if(this.isAlive()){let r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=new Map(this.cellComps);for(let n of e){let i=n.instanceId;this.cellComps.has(i)?t.delete(i):this.newCellComp(n)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];for(let n of e){let i=this.cellComps.get(n.instanceId);i&&t.push(i.getGui())}$ne(this.getGui(),t)}newCellComp(e){let t=this.beans.editSvc?.isEditing(e,{withOpenEditor:!0})??!1,n=new c5e(this.beans,e,this.rowCtrl.printLayout,this.getGui(),t);this.cellComps.set(e.instanceId,n),this.getGui().appendChild(n.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(let t of e.values()){if(!t)return;let n=t.cellCtrl.instanceId;if(this.cellComps.get(n)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(n)}}};function u5e(e,t,n){let i=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,r={tag:"div",ref:"eContainer",cls:uI(e),role:"rowgroup"};if(t.type==="center"||i){let o={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${R8e(e)}`,role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:`ag-viewport ${ure(e)}`,role:"presentation",children:[r,i?o:null]}}return r}var h5e=class extends Wn{constructor(e){super(),this.eViewport=st,this.eContainer=st,this.eSpannedContainer=st,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=__(this.name)}postConstruct(){this.setTemplate(u5e(this.name,this.options,this.beans));let e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setSpannedRowCtrls:n=>this.setRowCtrls(n,!0),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>{this.eContainer.style.width=n,this.eSpannedContainer&&(this.eSpannedContainer.style.width=n)},setOffsetTop:n=>{let i=`translateY(${n})`;this.eContainer.style.transform=i,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=i)}};this.createManagedBean(new N8e(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:n,options:i}=this,r=t?this.eSpannedContainer:this.eContainer,o=t?z({},this.rowCompsWithSpan):z({},this.rowCompsNoSpan),s={};t?this.rowCompsWithSpan=s:this.rowCompsNoSpan=s,this.lastPlacedElement=null;let a=[];for(let l of e){let c=l.instanceId,d=o[c],u;if(d)u=d,delete o[c];else{if(!l.rowNode.displayed)continue;u=new d5e(l,n,i.type)}s[c]=u,a.push([u,!d])}this.removeOldRows(Object.values(o),r),this.addRowNodes(a,r)}addRowNodes(e,t){let{domOrder:n}=this;for(let[i,r]of e){let o=i.getGui();n?this.ensureDomOrder(o,t):r&&t.appendChild(o)}}removeOldRows(e,t){for(let n of e)t.removeChild(n.getGui()),n.destroy()}ensureDomOrder(e,t){jne(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},f5e={selector:"AG-ROW-CONTAINER",component:h5e};function Kw(e,t){return t.map(n=>{let i=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[i]={name:n},{tag:"ag-row-container",ref:i,attrs:{name:n}}})}function p5e(e){let t={},n={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:Kw(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:Kw(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:Kw(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:Kw(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:Kw(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:n}}var g5e=class extends Wn{constructor(){super(...arguments),this.eGridRoot=st,this.eBodyViewport=st,this.eStickyTop=st,this.eStickyBottom=st,this.eTop=st,this.eBottom=st,this.eBody=st}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,n=e?.getOverlayWrapperSelector(),{paramsMap:i,elementParams:r}=p5e(!!n);this.setTemplate(r,[...n?[n]:[],U8e,$8e,l5e,f5e],i);let o=(a,l)=>{let c=`${a}px`;l.style.minHeight=c,l.style.height=c},s={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>XLe(this.getGui(),a),setRowCount:a=>qLe(this.getGui(),a),setTopHeight:a=>o(a,this.eTop),setBottomHeight:a=>o(a,this.eBottom),setTopInvisible:a=>this.eTop.classList.toggle("ag-invisible",a),setBottomInvisible:a=>this.eBottom.classList.toggle("ag-invisible",a),setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-invisible",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.toggleCss(a,l),updateLayoutClasses:(a,l)=>{let c=[this.eBodyViewport.classList,this.eBody.classList];for(let d of c)d.toggle(Nc.AUTO_HEIGHT,l.autoHeight),d.toggle(Nc.NORMAL,l.normal),d.toggle(Nc.PRINT,l.print);this.toggleCss(Nc.AUTO_HEIGHT,l.autoHeight),this.toggleCss(Nc.NORMAL,l.normal),this.toggleCss(Nc.PRINT,l.print)},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle(pre,l),registerBodyViewportResizeListener:a=>{let l=sp(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(c=>c.classList.toggle(a,l))},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>tp(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new H8e),this.ctrl.setComp(s,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&mh(this.gos)||u_(this.gos))&&$Le(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let n=this.eBodyViewport.classList;n.toggle("ag-row-animation",t),n.toggle("ag-row-no-animation",!t)}},m5e={selector:"AG-GRID-BODY",component:g5e},v5e=class extends Te{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),tre(this.gos,t),this.createManagedBean(new k5(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let o=sp(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),r.register("gridCtrl",this)}isDetailGrid(){return Zie(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){let{visibleCols:r,focusSvc:o}=this.beans,s=r.allCols,a=vi(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,o=r.allCols;if(e){if(n.length>1)return this.focusContainer(vi(n),e);let s=vi(o);if(i.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||am(this.beans)){if(i.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<n.length;s++)if(hm(n[s].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;let r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!VI(e)||!am(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let n=dr(this.beans),i=e.findIndex(o=>o.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);let n=hm(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},C5e=class extends Sre{constructor(e){super(),this.gridBody=st,this.sideBar=st,this.pagination=st,this.rootWrapperBody=st,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCss(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new v5e),n=t.getOptionalSelectors(),i=this.createTemplate(n),r=[m5e,...Object.values(n).filter(o=>!!o)];this.setTemplate(i,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),np(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let n=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=Nc,{autoHeight:s,normal:a,print:l}=t;n.toggle(i,s),n.toggle(r,a),n.toggle(o,l),this.toggleCss(i,s),this.toggleCss(r,a),this.toggleCss(o,l)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,n=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,i=e.statusBarSelector?{tag:"ag-status-bar"}:null,r=e.watermarkSelector?{tag:"ag-watermark"}:null,o=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},n]},i,o,r]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>Vc(t.getGui()))}},Yt=(e,t)=>{for(let n of Object.keys(t))t[n]=e;return t},one=z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z(z({dispatchEvent:"CommunityCore"},Yt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0})),Yt("GridState",{getState:0,setState:0})),Yt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),Yt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),Yt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),Yt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),Yt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),Yt("ValueCache",{expireValueCache:0})),Yt("CellApi",{getCellValue:0})),Yt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),Yt("Sort",{onSortChanged:0})),Yt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0})),Yt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),Yt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),Yt("HighlightChanges",{flashCells:0})),Yt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0})),Yt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),Yt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),Yt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),Yt("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),Yt("ColumnResize",{setColumnWidths:0})),Yt("ColumnHover",{isColumnHovered:0})),Yt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0})),Yt("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0})),Yt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),Yt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),Yt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0})),Yt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),Yt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),Yt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),Yt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),Yt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Yt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),Yt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),Yt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Yt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Yt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Yt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Yt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Yt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Yt("ContextMenu",{showContextMenu:0})),Yt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),Yt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Yt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),Yt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),Yt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Yt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),Yt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Yt("StatusBar",{getStatusPanel:0})),bB={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},y5e=(e,t)=>e.eventSvc.dispatchEvent(t),Ere=class{};Reflect.defineProperty(Ere,"name",{value:"GridApi"});var x5e=class extends Te{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new Ere,this.fns=ke(z({},bB),{dispatchEvent:y5e}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(one))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:n,beans:i}=this;n!==bB&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:n,preDestroyLink:i}=this;if(!t)$e(26,{fnName:e,preDestroyLink:i});else{let r=one[e];n.assertModuleRegistered(r,`api.${e}`)&&$e(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=bB,this.beans=null}};function b5e(e){return e.context.getGridId()}function w5e(e){e.gridDestroySvc.destroy()}function _5e(e){return e.gridDestroySvc.destroyCalled}function S5e(e,t){return e.gos.get(t)}function E5e(e,t,n){Dre(e,{[t]:n})}function Dre(e,t){e.gos.updateGridOptions({options:t})}function D5e(e,t){let n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var R5e={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},T5e=class extends Wn{constructor(e,t,n){super(R5e),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(tc("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:n,eCell:i,gos:r}=this,o=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(i,0,0),o){let a=At(r,{rowNode:t,dragEvent:e});o(a)}else try{let a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function I5e(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function F5e(e,t){let n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function k5e(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function A5e(e){let t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function M5e(e,t){let n=e.rowDropHighlightSvc;if(!n)return;let i=t?.row,r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");let o=i?.rowIndex;o==null||r==="none"?n.clear():n.set(i,r)}var P5e=class extends Te{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},O5e={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},L5e=class extends Wn{constructor(e,t,n,i,r,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(O5e),this.getGui().appendChild(tc("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){let r=i.get("rowDragManaged")?new B5e(this,t,n):new N5e(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault()}})[0]);let n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let i=this.getDragItem(),r=i.rowNodes?.length||1,o=this.getRowDragText(this.column);return o?o(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Rre=class extends Te{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){let n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let i=!t,r=!1,{column:o,rowNode:s,parent:a}=this;if(o){let l=o.getColDef().rowDrag;r=typeof l=="function",i=(t?!!l:o.isRowDrag(s))||a.isCustomGui()}r?(a.setDisplayed(!0,n),a.setVisible(i&&!t,n)):(a.setDisplayed(i,n),a.setVisible(!t,n))}}},N5e=class extends Rre{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},B5e=class extends Rre{postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),o=n.get("suppressRowDrag"),s=t.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a,this.rowNode.footer)}},v_=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){let i=e.childrenAfterGroup;if(i)for(let r=0,o=i.length;r<o;++r){let s=i[r];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,n):n&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){let i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){let r=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},V5e=class extends Te{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;let t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){let{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Eo(t,e)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{let r=i.gridBodyCtrl,o=0,s=()=>r.scrollFeature.getVScrollPosition().top;this.autoScrollService=new QBe({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:s,setVerticalPosition:a=>r.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{let a=s();if(o!==a){o=a;let l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();let e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let i=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((r,o)=>r.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){let{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e);if(!(i.get("rowDragManaged")&&this.shouldPreventRowMove()))if(i.get("suppressMoveWhenRowDragging")||!r){if(n.isDropZoneWithinThisGrid(e)){let s=this.managedRowsDrop(e,t),a=s?.target,l=this.beans.rowDropHighlightSvc;a&&s.rows.length?l.set(a,s.position):l.clear()}}else{let s=this.managedRowsDrop(e,t);s&&this.dropRows(s)}}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(vi(t.split("-")),10)}managedRowsDrop(e,t){let{rowNode:n,rowNodes:i}=e.dragItem,o=i?.length&&(n??i[0]);if(!o)return this.makeGroupThrottleClear(),null;let{beans:s,gos:a,clientSideRowModel:l}=this,c=l.rootNode,d=Gte(s,e).y,u=l.getRowIndexAtPixel(d),f=l.getRow(u)??null,p=o!==f,m=f?(d-f.rowTop-f.rowHeight/2)/f.rowHeight||0:1,v=this.isFromThisGrid(e),y=fie(a)!=="group"&&v,b=null;if(y&&f?.footer){b=f.sibling??c;let L=i_(l,-1,f)??i_(l,1,f);m=L&&L.rowIndex>f.rowIndex?-.5:.5,f=L??null}let w=m<0,S=!1;if(v&&f){if(p){if(S=i.indexOf(f)>=0,S){let L=H5e(l,u<o.rowIndex,i);L?.parent===f.parent&&(f=L,u=f.rowIndex)}}else{if(Math.abs(m)<=.5)return this.makeGroupThrottleClear(),null;S=!0}(S||!y&&Math.abs(u-o.rowIndex)===1)&&(w=u<o.rowIndex)}let D=this.makeGroupThrottleTarget;D!==null&&D!==f&&this.makeGroupThrottleClear(),f?.expanded&&f.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=f),b===null&&y&&(!f||m>=.5&&f.rowIndex===s.pageBounds.getLastRow()?b=c:this.targetShouldBeParent(f,m,S,i)&&(this.makeGroupThrottled&&(b=f),t&&(b===null||!f.expanded)&&(this.makeGroupThrottleTarget=f,this.makeGroupThrottleStart())),b??(b=f?.parent??c));let R=!1;if(b!==null){if(b===f&&b!==c){R=!0;let L=b.expanded?i_(l,1,f):null;L?.parent===b&&(f=L,R=!1,w=!0)}if(f&&!R){let L=f;for(;L&&L!==c&&L!==b;)f=L,L=L.parent}z5e(i,b)&&(b=null)}if(!b&&S&&(y||o===f))return null;let T=R?"inside":w?"above":"below",k={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:v,position:T,source:o,target:f,newParent:b,rows:i},M=!1,B=a.get("isRowValidDropPosition");if(B){let L=B(k);L?typeof L=="object"&&(L.rows!==void 0&&(k.rows=L.rows??bI),L.newParent!==void 0&&(k.newParent=L.newParent),L.target!==void 0&&(k.target=L.target),L.position&&(M=!0,k.position=L.position)):k.rows=bI}return(!k.newParent||!k.rows.length)&&!M&&(k.position=w?"above":"below"),k}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;let e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){let r=e?.rowIndex;if(n||r===null)return!1;let o=.25;if(t<-.5+o)return!1;if(t<.5-o)return!0;let s,a=r+1,l=this.clientSideRowModel;do s=l.getRow(a++);while(s&&s.footer);let c=e.childrenAfterGroup;if(s&&s.parent===e&&c?.length){let d=new Set(i);for(let u of c)if(u.rowIndex!==null&&!d.has(u))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){$e(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e)){$e(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));let i=z({isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0},n);t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){let t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this),s=this.onDragCancel.bind(this),a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:o,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){let n=this.beans,{pageBounds:i,rowModel:r,gos:o}=n,s=Gte(this.beans,t).y,a=s>i.getCurrentPagePixelRange().pageLastPixel,l=-1,c;return a||(l=r.getRowIndexAtPixel(s),c=r.getRow(l)),At(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:s,vDirection:t.vDirection})}dispatchGridEvent(e,t){let n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){let i=this.managedRowsDrop(e,!1);i&&this.dropRows(i),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){let i=GC(this.gos),r=this.clientSideRowModel,o=n.filter(({data:a,rowPinned:l})=>!r.getRowNode(i?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(o.length===0)return!1;let s=t?sne(t)+(e==="above"?0:1):void 0;return r.updateRowData({add:o,addIndex:s}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new v_(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:i}){let r=!1,o=this.clientSideRowModel,s=new Set;for(let d of n){if(d.footer||d.rowTop===null&&d!==o.getRowNode(d.id))continue;if(i&&d.parent!==i){if(G5e(d,i))continue;d.treeParent=i,r=!0}let u=Tre(d);u&&s.add(u)}if(!r&&s.size===0)return!1;let a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&DC(this.beans,l);return s.size&&this.reorderLeafChildren(s,...this.getMoveRowsBounds(s,t,e==="above"))&&(r=!0),r?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){let i=this.clientSideRowModel.rootNode?.allLeafChildren.length??0,r=sne(t);r<0||r>=i?r=i:n||++r;let o=r,s=Math.min(r,i-1);for(let a of e){let l=a.sourceRowIndex;l<o&&(o=l),l>s&&(s=l)}return[o,r,s]}reorderLeafChildren(e,t,n,i){let r=!1,o=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!o)return!1;let s=t;for(let l=t;l<n;++l){let c=o[l];e.has(c)||(c.sourceRowIndex!==s&&(c.sourceRowIndex=s,o[s]=c,r=!0),++s)}let a=i;for(let l=i;l>=n;--l){let c=o[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,o[a]=c,r=!0),--a)}for(let l of e)l.sourceRowIndex!==s&&(l.sourceRowIndex=s,o[s]=l,r=!0),++s;return r}},H5e=(e,t,n)=>t?i_(e,-1,n[0]):i_(e,1,vi(n)),i_=(e,t,n)=>{if(n){let i=e.getRowCount(),r=n.rowIndex+t;for(;r>=0&&r<i;){let o=e.getRow(r);if(!o||!o.footer)return o;r+=t}}},G5e=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},z5e=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},sne=e=>{let t=Tre(e);return t!==void 0?t.sourceRowIndex:-1},Tre=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;let t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},U5e=class extends Te{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){let n=t.createManagedBean(new V5e(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,o){return new L5e(e,t,n,i,r,o)}createRowDragCompForRow(e,t){if(mh(this.gos))return;let n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,o){let s=this.gos;return s.get("rowDragManaged")&&(!Eo(s)||s.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,o)}},W5e=class extends Te{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){let e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){let e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){let n=e!==this.row,i=e.uiLevel,r=t!==this.position,o=i!==this.uiLevel;(n||r||o)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},Ire={moduleName:"Drag",version:ct,beans:[G6e]},j5e={moduleName:"DragAndDrop",version:ct,dynamicBeans:{dndSourceComp:T5e},icons:{rowDrag:"grip"}},Fre={moduleName:"SharedDragAndDrop",version:ct,beans:[H6e],dependsOn:[Ire],userComponents:{agDragAndDropImage:vBe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},$5e={moduleName:"RowDrag",version:ct,beans:[W5e,U5e],apiFunctions:{addRowDropZone:I5e,removeRowDropZone:F5e,getRowDropZoneParams:k5e,getRowDropPositionIndicator:A5e,setRowDropPositionIndicator:M5e},dependsOn:[Fre]},q5e={moduleName:"HorizontalResize",version:ct,beans:[P5e],dependsOn:[Ire]},K5e=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",X5e=class extends Te{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}let r=o=>{for(;o.length;){let s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function Y5e(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function Z5e(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var Q5e=class extends Te{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function J5e(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{let o=e.indexOf(i),s=e.indexOf(r);return o-s})}function kre(e){let{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:c,visibleCols:d}=e,{allMovingColumns:u}=e;if(t){let D=[];u.forEach(R=>{let T=null,k=R.getParent();for(;k!=null&&k.getDisplayedLeafColumns().length===1;)T=k,k=k.getParent();T!=null?(!!T.getColGroupDef()?.marryChildren?T.getProvidedColumnGroup().getLeafColumns():T.getLeafColumns()).forEach(L=>{D.includes(L)||D.push(L)}):D.includes(R)||D.push(R)}),u=D}let f=u.slice();J5e(l.getCols(),f);let p=i7e({movingCols:f,draggingRight:n,xPosition:i,pinned:s,gos:a,colModel:l,visibleCols:d}),m=e7e(f,l);if(p.length===0)return;let v=p[0],C=m!==null&&!r;if(t&&(C=m!==null),C&&!o&&(!n&&v>=m||n&&v<=m))return;let y=d.allCols,b=[],w=null;for(let D=0;D<p.length;D++){let R=p[D],T=c.getProposedColumnOrder(f,R);if(!c.doesOrderPassRules(T))continue;let k=T.filter(B=>y.includes(B));if(w===null)w=k;else if(!mm(k,w))break;let M=t7e(T);b.push({move:R,fragCount:M})}if(b.length===0)return;b.sort((D,R)=>D.fragCount-R.fragCount);let S=b[0].move;if(!(S>l.getCols().length-u.length))return{columns:u,toIndex:S}}function Are(e){let{columns:t,toIndex:n}=kre(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function e7e(e,t){let n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),r=i[0];return vi(i)-r!==i.length-1?null:r}function t7e(e){function t(i){let r=[],o=i.getOriginalParent();for(;o!=null;)r.push(o),o=o.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),o=t(e[i+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach(s=>{o.indexOf(s)===-1&&n++})}return n}function n7e(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function i7e(e){let{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(w=>w.getColDef().suppressMovable))return[];let c=n7e(a,r),d=s.getCols(),u=c.filter(w=>t.includes(w)),f=c.filter(w=>!t.includes(w)),p=d.filter(w=>!t.includes(w)),m=0,v=i;if(n){let w=0;u.forEach(S=>w+=S.getActualWidth()),v-=w}if(v>0){for(let w=0;w<f.length;w++){let S=f[w];if(v-=S.getActualWidth(),v<0)break;m++}n&&m++}let C;if(m>0){let w=f[m-1];C=p.indexOf(w)+1}else C=p.indexOf(f[0]),C===-1&&(C=0);let y=[C],b=(w,S)=>w-S;if(n){let w=C+1,S=d.length-1;for(;w<=S;)y.push(w),w++;y.sort(b)}else{let w=C,S=d.length-1,D=d[w];for(;w<=S&&c.indexOf(D)<0;)w++,y.push(w),D=d[w];w=C-1;let R=0;for(;w>=R;)y.push(w),w--;y.sort(b).reverse()}return y}function i5(e){let{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:o,skipScrollPadding:s}=e,a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function wB(e,t){for(let n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var ane=7,r5=100,eI=r5/2,r7e=5,o7e=100,s7e=class extends Te{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!it(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(let r of i){let o=r.getPinned();if(r.getColDef().lockPinned){if(o==e)return"move";continue}let s=n?.containerType;if(s===e||!e)return"move";if(e&&(!o||s!==e))return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{let r=t.visibleState,o=(n||[]).filter(s=>r[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){let{gos:r,ctrlsSvc:o}=this.beans,s=r.get("suppressMoveWhenColumnDragging");if(i&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Zi(e.hDirection))return;let a=i5({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;let i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){let{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;let t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){let o=this.getAllMovingColumns(e,!0);if(r){let s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){let o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:i,fromLeft:s,fromEnter:t,fakeEvent:n}),c=Are(ke(z({},l),{finished:r}));c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let n=e.dragSource.getDragItem(),i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;let r=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){let{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),o=i.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned),s=null,a=null,l=null;for(let d of o){if(a=d.getActualWidth(),s=this.getNormalisedColumnLeft(d,0,r),s!=null){let u=s+a;if(s<=t&&u>=t){l=d;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){let u=o[d],f=o[d].getParent();if(!f){l=u;break}let p=f?.getDisplayedLeafColumns();if(p.length){l=vi(p);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let c;t-s<a/2!==r?c=0:c=1,lne(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){let{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!o||!s||a==null)return;let l=i.allCols,c=l.indexOf(o),d=l.indexOf(s),u=a===0!==r,f=c<d||c===d&&!u,p=0;if(u?f&&(p-=1):f||(p+=1),d+p===c)return;let m=l[d+p];if(!m)return;let v=this.getNormalisedColumnLeft(m,20,r);return{fromLeft:f,xPosition:v}}getColumnMoveAndTargetInfo(e,t,n){let i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:o}=a7e(e);if(!r||!o||i.column||!t)return z({firstMovingCol:r},i);let a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){let{gos:i,ctrlsSvc:r}=this.beans,o=e.getLeft();if(o==null)return null;let s=e.getActualWidth();return i5({x:n?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>ane;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=kre(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(lne(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth(),r,o;this.gos.get("enableRtl")?(r=e<n+eI,o=e>i-eI):(o=e<n+eI,r=e>i-eI),this.needToMoveRight=r,this.needToMoveLeft=o,o||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),o7e),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*r7e,e>r5&&(e=r5);let t=null,n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:i,dragAndDrop:r,gos:o}=this.beans;if(this.failedMoveAttempts<=ane+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!o.get("suppressMoveWhenColumnDragging")){let s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){let i=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());let{pinnedCols:r,dragAndDrop:o}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&o.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function lne(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function a7e(e){let t=e.length,n,i;for(let r=0;r<t;r++){if(!n){let o=e[r];o.getLeft()!=null&&(n=o)}if(!i){let o=e[t-1-r];o.getLeft()!=null&&(i=o)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var l7e=class extends Te{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r,o=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[o,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[o,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[o,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new s7e(n)),this.bodyDropPivotTarget=this.createManagedBean(new Q5e(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},c7e=class extends Te{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){let i=this.beans.colModel.getCols();if(!i)return;let r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){let{colModel:r,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){$e(30,{toIndex:t});return}o?.start();let c=r.getColsForKeys(e);this.doesMovePassRules(c,t)&&(Pte(r.getCols(),c,t),s.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:i,source:n})),o?.finish()}doesMovePassRules(e,t){let n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){let{colModel:t,gos:n}=this.beans;return!(!Die(e,t.getColTree())||!(r=>{let o=c=>c?c==="left"||c===!0?-1:1:0,s=n.get("enableRtl"),a=s?1:-1,l=!0;return r.forEach(c=>{let d=o(c.getColDef().lockPosition);s?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){let i=this.beans.colModel.getCols().slice();return Pte(i,e,t),i}createBodyDropTarget(e,t){return new l7e(e,t)}moveHeader(e,t,n,i,r){let{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),u=d.left,f=Sr(n),p=f?d.width:n.getActualWidth(),m=e==="left"!==s.get("enableRtl"),v=i5({x:m?u-20:u+p+20,pinned:i,fromKeyboard:!0,gos:s,ctrlsSvc:o}),C=c.focusedHeader;Are({allMovingColumns:f?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:v,pinned:i,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let y;if(f){let b=n.getDisplayedLeafColumns();y=m?b[0]:vi(b)}else y=n;if(o.getScrollFeature().ensureColumnVisible(y,"auto"),(!r.isAlive()||s.get("ensureDomOrder"))&&C){let b;if(f){let w=n.getGroupId(),S=n.getLeafColumns();if(!S.length)return;let D=S[0].getParent();if(!D)return;b=d7e(D,w)}else b=n;b&&c.focusHeaderPosition({headerPosition:ke(z({},C),{column:b})})}}setDragSourceForHeader(e,t,n){let{gos:i,colModel:r,dragAndDrop:o,visibleCols:s}=this.beans,a=!i.get("suppressDragLeaveHidesColumns"),l=Sr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],u={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>h7e(t,s.allCols):()=>u7e(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),wB(c,!0)},onDragStopped:()=>wB(c,!1),onDragCancelled:()=>wB(c,!1),onGridEnter:f=>{if(a){let{columns:p=[],visibleState:m}=f??{},v=l?y=>!m||m[y.getColId()]:()=>!0,C=p.filter(y=>!y.getColDef().lockVisible&&v(y));r.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:f=>{if(a){let p=f?.columns?.filter(m=>!m.getColDef().lockVisible)||[];r.setColsVisible(p,!1,"uiColumnMoved")}}};return o.addDragSource(u,!0),u}};function d7e(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function u7e(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function h7e(e,t){let n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());let r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),nc(n,a))}),n.forEach(a=>r.push(a));let o=[],s=e.getLeafColumns();for(let a of r)s.indexOf(a)!==-1&&o.push(a);return{columns:r,columnsInSplit:o,visibleState:i,containerType:o[0]?.pinned}}var f7e={moduleName:"ColumnMove",version:ct,beans:[c7e,X5e],apiFunctions:{moveColumnByIndex:Y5e,moveColumns:Z5e},dependsOn:[Fre],css:[K5e]},p7e=class extends Te{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let n=document.createElement("form");n.style.position="fixed";let i=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,n)),i.appendChild(n);let r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{let i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){let n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";let i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){let c=s.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}s=s.parentElement}i.appendChild(n),t.appendChild(i)}},Mre={moduleName:"AutoWidth",version:ct,beans:[p7e]};function g7e(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var m7e=class extends Te{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){let i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){let t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),n=(l,c)=>l.map(d=>d.getActualWidth()/c),i=this.getColumnsToResize(),r=t(i),o=n(i,r),s={columnsToResize:i,resizeStartWidth:r,resizeRatios:o},a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){let l=a.getDisplayedLeafColumns(),c=s.groupAfterColumns=l.filter(u=>u.isResizable()),d=s.groupAfterStartWidth=t(c);s.groupAfterRatios=n(c,d)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){let{columnsToResize:r,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:r,ratios:s,width:t}),a){let u=t-o;d.push({columns:a,ratios:c,width:l-u})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},v7e=class extends Te{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){let e=[],t,n,i=()=>{if(or(this.eResize,t),!t)return;let{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(s=>s()),e.length=0},o=()=>{let s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==n)&&(t=s,n=a,r(),i())};o(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){let{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:o}=this,s=this.normaliseResizeAmount(t),a=r+s,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:u}=o;if(this.column.getPinned()){let f=c?.leftWidth??0,p=c?.rightWidth??0,m=c_(d.getGridBodyCtrl().eBodyViewport)-50;if(f+p+(s-i)>m)return}this.lastResizeAmount=s,u?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},C7e=class extends Te{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){let r=[],{colModel:o,gos:s,visibleCols:a}=this.beans;e.forEach(l=>{let c=o.getColDefCol(l.key)||o.getCol(l.key);if(!c)return;if(r.push({width:l.newWidth,ratios:[1],columns:[c]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){let u=a.getColAfter(c);if(!u)return;let f=c.getActualWidth()-l.newWidth,p=u.getActualWidth()+f;r.push({width:p,ratios:[1],columns:[u]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){let{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(d=>y7e(d)))){if(n){let d=t&&t.length>0?t[0].columns:null;zC(this.eventSvc,d,n,i)}return}let o=[],s=[];t.forEach(d=>{let{width:u,columns:f,ratios:p}=d,m={},v={};f.forEach(b=>s.push(b));let C=!0,y=0;for(;C;){if(y++,y>1e3){Ci(31);break}C=!1;let b=[],w=0,S=u;f.forEach((R,T)=>{if(v[R.getId()])S-=m[R.getId()];else{b.push(R);let M=p[T];w+=M}});let D=1/w;b.forEach((R,T)=>{let k=T===b.length-1,M;k?M=S:(M=Math.round(p[T]*u*D),S-=M);let B=R.getMinWidth(),L=R.getMaxWidth();M<B?(M=B,v[R.getId()]=!0,C=!0):L>0&&M>L&&(M=L,v[R.getId()]=!0,C=!0),m[R.getId()]=M})}f.forEach(b=>{let w=m[b.getId()];b.getActualWidth()!==w&&(b.setActualWidth(w,i),o.push(b))})});let a=o.length>0,l=[];if(a){let{colFlex:d,visibleCols:u,colViewport:f}=this.beans;l=d?.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0})??[],u.setLeftValues(i),u.updateBodyWidths(),f.checkViewportColumns()}let c=s.concat(l);(a||n)&&zC(this.eventSvc,c,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;let i=e.getActualWidth(),r=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(i+t,r),o);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new v7e(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new m7e(e,t,n,i)}};function y7e(e){let{columns:t,width:n}=e,i=0,r=0,o=!0;t.forEach(l=>{let c=l.getMinWidth();i+=c||0;let d=l.getMaxWidth();d>0?r+=d:o=!1});let s=n>=i,a=!o||n<=r;return s&&a}var x7e={moduleName:"ColumnResize",version:ct,beans:[C7e],apiFunctions:{setColumnWidths:g7e},dependsOn:[q5e,Mre]},b7e=class extends Te{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},w7e=class extends B5{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){let{column:o,beans:s}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:u}=s;this.comp=e,r=b_(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let f=this.rowCtrl.pinned,p=o.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(r,p,t),d?.createRangeHighlightFeature(r,o,e),r.createManagedBean(new N5(o,t,s)),r.createManagedBean(new b7e(e,o)),u?this.resizeFeature=r.createManagedBean(u.createGroupResizeFeature(e,n,f,o)):e.setResizableDisplayed(!1),r.createManagedBean(new qC(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,p),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.getDefinition();return At(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=vi(t)===e;if(!n&&!i)return;let r=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving()),s=!1,a=!1;if(o){let l=this.beans.gos.get("enableRtl"),c=r===1,d=r===0;n&&(l?a=c:s=d),i&&(l?s=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",s),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){let{resizeFeature:n}=this;if(!n)return;let i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,o=r.getProvidedColumnGroup(),s=At(n,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(o,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>i?.showMenuAfterButtonClick(o,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>i?.showMenuAfterMouseEvent(o,l,"columnMenu",c),eGridHeader:this.eGui}),a=ANe(t,s);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),n=Xie(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){let{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(o=>{e.addManagedListeners(o,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===we.ENTER){let n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function _7e(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function S7e(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function E7e(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function D7e(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function R7e(e){return e.colGroupSvc?.getColumnGroupState()??[]}function T7e(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function I7e(e){e.colGroupSvc?.resetColumnGroupState("api")}function F7e(e){return e.visibleCols.treeLeft}function k7e(e){return e.visibleCols.treeCenter}function A7e(e){return e.visibleCols.treeRight}function M7e(e){return e.visibleCols.getAllTrees()}function P7e(e,t){for(let n=0;n<t.length;n++){let i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var O7e=class extends Te{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colFlex:n,colModel:i,colGroupSvc:r,colViewport:o,selectionColSvc:s}=this.beans;t||this.buildTrees(i,r),r?.updateOpenClosedVisibility(),this.leftCols=_B(this.treeLeft),this.centerCols=_B(this.treeCenter),this.rightCols=_B(this.treeRight),s?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),o.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){let e=uh(this.centerCols),t=uh(this.leftCols),n=uh(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,o;this.gos.get("enableRtl")?(r=t?t[0]:null,o=n?vi(n):null):(r=t?vi(t):null,o=n?n[0]:null),e.getCols().forEach(s=>{s.setLastLeftPinned(s===r,i),s.setFirstRightPinned(s===o,i)})}buildTrees(e,t){let n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),o=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new kie,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),n=[],i=[],r=[];for(let o of t){let s=o.getPinned();s?s===!0||s==="left"?n.push(o):r.push(o):i.push(o)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return Sr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Sr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(r){let s=uh(o);o.forEach(a=>{s-=a.getActualWidth(),a.setLeft(s,e)})}else{let s=0;o.forEach(a=>{a.setLeft(s,e),s+=a.getActualWidth()})}P7e(i,o)}),i.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){let r=[],o=null;for(let s=0;s<t.length;s++){let a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){let f=c-1;for(let p=1;p<=f;p++)d.push(t[s+p]);s+=f}let u;n?(u=!1,d.forEach(f=>{n(f)&&(u=!0)})):u=!0,u&&(r.length===0&&o&&(i&&i(a))&&r.push(o),r.push(a)),o=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};lm(this.treeCenter,!1,e),lm(this.treeLeft,!1,e),lm(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){let i=this[t[n]];if(i.length)return e?vi(i):i[0]}return null}getColAfter(e){let t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return uh(this.leftCols)}getDisplayedColumnsRightWidth(){return uh(this.rightCols)}isColAtEdge(e,t){let n=this.allCols;if(!n.length)return!1;let i=t==="first",r;if(Sr(e)){let o=e.getDisplayedLeafColumns();if(!o.length)return!1;r=i?o[0]:vi(o)}else r=e;return(i?n[0]:vi(n))===r}};function lm(e,t,n){if(e)for(let i=0;i<e.length;i++){let r=e[i];if(Sr(r)){let o=t?r.getDisplayedChildren():r.getChildren();lm(o,t,n)}n(r)}}function _B(e){let t=[];return lm(e,!0,n=>{vh(n)&&t.push(n)}),t}var L7e=class extends Te{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return gh(null,t,n=>{Ns(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let n=[];gh(null,t,i=>{if(Ns(i)){let r=i.getColGroupDef(),o={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){let{colModel:n,colAnimation:i,visibleCols:r,eventSvc:o}=this.beans;if(!n.getColTree().length)return;i?.start();let a=[];e.forEach(l=>{let c=l.groupId,d=l.open,u=this.getProvidedColGroup(c);u&&u.isExpanded()!==d&&(u.setExpanded(d),a.push(u))}),r.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i?.finish()}setColumnGroupOpened(e,t,n){let i;Ns(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return gh(null,this.beans.colModel.getColTree(),n=>{Ns(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?vi(i):i[0],o=`getCol${t}`;for(;;){let s=this.beans.visibleCols[o](r);if(!s)return null;let a=this.getColGroupAtLevel(s,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();lm(e,!1,t=>{Sr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Sr(e))return e;let n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number",r=null;return lm(n,!1,o=>{if(Sr(o)){let s=o,a;i?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(r=s)}}),r}createColumnGroups(e){let{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(r),a=[],l=t;for(;l.length;){let c=l;l=[];let d=0,u=f=>{let p=d;d=f;let m=c[p],C=(Sr(m)?m.getProvidedColumnGroup():m).getOriginalParent();if(C==null){for(let b=p;b<f;b++)a.push(c[b]);return}let y=this.createColumnGroup(C,n,s,i,o);for(let b=p;b<f;b++)y.addChild(c[b]);l.push(y)};for(let f=1;f<c.length;f++){let p=c[f],v=(Sr(p)?p.getProvidedColumnGroup():p).getOriginalParent(),C=c[d],b=(Sr(C)?C.getProvidedColumnGroup():C).getOriginalParent();v!==b&&u(f)}d<c.length&&u(c.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,o,s){let a=r.getUniqueKey(t.groupId||null,null),l=Mte(this.beans,t,a),c=new lI(l,a,!1,n);this.createBean(c);let d=this.findExistingGroup(t,o);d&&o.splice(d.idx,1);let u=d?.group;u&&c.setExpanded(u.isExpanded());let f=_ie(this.beans,l.children,n+1,e,i,r,o,s);return c.setChildren(f),c}balanceColumnTree(e,t,n,i){let r=[];for(let o=0;o<e.length;o++){let s=e[o];if(Ns(s)){let a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let c=n-1;c>=t;c--){let d=i.getUniqueKey(null,null),u=Mte(this.beans,null,d),f=new lI(u,d,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(r.push(a),e.some(d=>Ns(d))){l.setChildren([s]);continue}else{l.setChildren(e);break}r.push(s)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Ns(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){let r=e[i];if(Ns(r)){let o=r,s=this.findMaxDepth(o.getChildren(),t+1);n<s&&(n=s)}}return n}balanceTreeForAutoCols(e,t){let n=[];return e.forEach(i=>{let r=i;for(let o=t-1;o>=0;o--){let s=new lI(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([r]),r.originalParent=s,r=s}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){let r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){let o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=ire(o,s),l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),it(l)?l.reset():(l=new rre(e,o,s,i),r||this.createBean(l)),l}mapOldGroupsById(e){let t={},n=i=>{i.forEach(r=>{if(Sr(r)){let o=r;t[r.getUniqueId()]=o,n(o.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,Sr(n)){let i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},N7e={moduleName:"ColumnGroup",version:ct,dynamicBeans:{headerGroupCellCtrl:w7e},beans:[L7e],apiFunctions:{getAllDisplayedColumnGroups:M7e,getCenterDisplayedColumnGroups:k7e,getColumnGroup:S7e,getColumnGroupState:R7e,getDisplayNameForColumnGroup:D7e,getLeftDisplayedColumnGroups:F7e,getProvidedColumnGroup:E7e,getRightDisplayedColumnGroups:A7e,resetColumnGroupState:I7e,setColumnGroupOpened:_7e,setColumnGroupState:T7e}},B7e={tag:"div",cls:"ag-skeleton-container"},V7e=class extends Wn{constructor(){super(B7e)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>a_(e.eParentOfValue)),a_(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");HC(this.getGui(),t)}setupLoading(e){let t=Wi({tag:"div",cls:"ag-skeleton-effect"}),n=e.node.rowIndex;if(n!=null){let o=75+25*(n%2===0?Math.sin(n):Math.cos(n));t.style.width=`${o}%`}this.getGui().appendChild(t);let i=this.getLocaleTextFunc(),r=e.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");HC(this.getGui(),r)}refresh(e){return!1}},H7e={moduleName:"CheckboxCellRenderer",version:ct,userComponents:{agCheckboxCellRenderer:_Be}},G7e={moduleName:"SkeletonCellRenderer",version:ct,userComponents:{agSkeletonCellRenderer:V7e}};function z7e(e,t){let n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function U7e(e){return e.colModel.getColumnDefs()}function W7e(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function j7e(e,t){return e.colModel.getColDefCol(t)}function $7e(e){return e.colModel.getColDefCols()}function q7e(e,t){return Bc(e,t,"api")}function K7e(e){return SI(e)}function X7e(e){rNe(e,"api")}function Y7e(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Z7e(e){return e.visibleCols.isPinningLeft()}function Q7e(e){return e.visibleCols.isPinningRight()}function J7e(e,t){return e.visibleCols.getColAfter(t)}function eVe(e,t){return e.visibleCols.getColBefore(t)}function tVe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function nVe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function iVe(e){return e.colModel.getCols()}function rVe(e){return e.visibleCols.leftCols}function oVe(e){return e.visibleCols.centerCols}function sVe(e){return e.visibleCols.rightCols}function aVe(e){return e.visibleCols.allCols}function lVe(e){return e.colViewport.getViewportColumns()}function o5(e,t){if(!e)return;let n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||kne.has(r))return;let o=n[r];typeof o=="object"&&o!==null&&o.constructor===Object?i[r]=o5(o):i[r]=o}),i}var cVe=class extends Te{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){let r=e.slice();t?r.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&r.sort((a,l)=>i.indexOf(a)-i.indexOf(l));let o=this.rowGroupColsSvc?.columns,s=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,o,s)}buildColumnDefs(e,t=[],n=[]){let i=[],r={};return e.forEach(o=>{let s=this.createDefFromColumn(o,t,n),a=!0,l=s,c=o.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}let f=r[c.getGroupId()];if(f){f.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],r[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&i.push(l)}),i}createDefFromGroup(e){let t=o5(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){let i=o5(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},dVe=class extends Te{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let n=this.flexViewportWidth;if(!n)return[];let{visibleCols:i}=this.beans,r=i.centerCols,o=-1;if(e.resizingCols){let m=new Set(e.resizingCols);for(let v=r.length-1;v>=0;v--)if(m.has(r[v])){o=v;break}}let s=!1,a=r.map((m,v)=>{let C=m.getFlex(),y=C!=null&&C>0&&v>o;return s||(s=y),{col:m,isFlex:y,flex:Math.max(0,C??0),initialSize:m.getActualWidth(),min:m.getMinWidth(),max:m.getMaxWidth(),targetSize:0}});if(!s)return[];let l=a.length,c=a.reduce((m,v)=>m+v.flex,0),d=n,u=(m,v)=>{m.frozenSize=v,m.col.setActualWidth(v,t),d-=v,c-=m.flex,l-=1},f=m=>m.frozenSize!=null;for(let m of a)m.isFlex||u(m,m.initialSize);for(;l>0;){let m=Math.round(c<1?d*c:d),v,C=0,y=0;for(let S of a){if(f(S))continue;v=S,y+=m*(S.flex/c);let D=y-C,R=Math.round(D);S.targetSize=R,C+=R}v&&(v.targetSize+=m-C);let b=0;for(let S of a){if(f(S))continue;let D=S.targetSize,R=Math.min(Math.max(D,S.min),S.max);b+=R-D,S.violationType=R===D?void 0:R<D?"max":"min",S.targetSize=R}let w=b===0?"all":b>0?"min":"max";for(let S of a)f(S)||(w==="all"||S.violationType===w)&&u(S,S.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();let p=a.filter(m=>m.isFlex&&!m.violationType).map(m=>m.col);if(e.fireResizedEvent){let m=a.filter(C=>C.initialSize!==C.frozenSize).map(C=>C.col),v=a.filter(C=>C.flex).map(C=>C.col);zC(this.eventSvc,m,!0,t,v)}return p}initCol(e){let{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},uVe=["dateTimeString","dateString","text","number","boolean","date"],hVe=class extends Te{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===we.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,r)=>{let o=t.getColDefCol(n),s=o?.getColDef();if(!o||!s)return 0;let a=i==null?"":e({column:o,node:null,value:i}),l=r==null?"":e({column:o,node:null,value:r});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={},n={},i=d=>u=>{let{column:f,node:p,value:m}=u,v=f.getColDef().valueFormatter;return v===d.groupSafeValueFormatter&&(v=d.valueFormatter),this.beans.valueSvc.formatValue(f,p,m,v)};for(let d of Object.keys(e)){let u=e[d],f=ke(z({},u),{groupSafeValueFormatter:une(u,this.gos)});t[d]=f,n[d]=i(f)}let r=this.gos.get("dataTypeDefinitions")??{},o={};for(let d of Object.keys(r)){let u=r[d],f=this.processDataTypeDefinition(u,r,[d],e);f&&(t[d]=f,u.dataTypeMatcher&&(o[d]=u.dataTypeMatcher),n[d]=i(f))}let{valueParser:s,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==s,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){let n=z({},e);for(let i of uVe)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let r,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=i[o],a=t[o];if(s&&a&&(s=a),!dne(e,s,o))return;r=cne(s,e)}else{if(n.includes(o)){$e(44);return}let s=t[o];if(!dne(e,s,o))return;let a=this.processDataTypeDefinition(s,t,[...n,o],i);if(!a)return;r=cne(a,e)}return ke(z({},r),{groupSafeValueFormatter:une(r,this.gos)})}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t,{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[i];if(!o){$e(47,{cellDataType:i});return}return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){let{gos:n}=this;if(!Eo(n))return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(SB(t,i))return!1;let r=t.type===null?e.type:t.type;if(r){let o=n.get("columnTypes")??{};if(_I(r).some(a=>{let l=o[a.trim()];return l&&SB(l,i)}))return!1}return!SB(e,i)}inferCellDataType(e,t){if(!e)return;let n,i=this.getInitialData();if(i){let o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=e_(i,e,o)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(o=>this.dataTypeMatchers[o](n))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);let[r]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:s}=o;s&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let i={},r={};for(let o of Object.keys(this.columnStateUpdatesPendingInference)){let s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;let l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let d=pVe(a,s);d.rowGroup&&d.rowGroupIndex==null&&(i[o]=d),d.pivot&&d.pivotIndex==null&&(r[o]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&Bc(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){let n=e.getUserProvidedColDef();if(!n)return!1;let i=WB(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){let t=n=>$e(48,{property:n});if(e.cellDataType==="object"){let{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){let t=e.cellDataType;if(!t)return;let{dataTypeDefinitions:n,beans:i,formatValueFuncs:r}=this,o=n[t];i.colFilter?.setColDefPropsForDataType(e,o,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){let r=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:r});Object.assign(e,o)}getDateObjectTypeDef(e){let t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>Ha(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):ul(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){let t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Ha(n)??void 0,dateFormatter:n=>ul(n??null,t)??void 0,valueParser:n=>dI(String(n.newValue))?n.newValue:null,valueFormatter:n=>dI(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&dI(n)}}getDefaultDataTypes(){let e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:MB(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:ke(z({},this.getDateStringTypeDef("dateTimeString")),{dataTypeMatcher:t=>typeof t=="string"&&t8e(t)}),object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>MB(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function cne(e,t){let n=z(z({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[..._I(e.columnTypes),..._I(t.columnTypes)]),n}function dne(e,t,n){return t?t.baseDataType!==e.baseDataType?($e(46),!1):!0:($e(45,{parentCellDataType:n}),!1)}function une(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){let i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(ke(z({},n),{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(ke(z({},n),{value:n.value.value}))}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function fVe(e,t,n,i){if(!t[n])return!1;let r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function SB(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>fVe(e,t,n,i))}function pVe(e,t){let n=Fie(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var gVe={moduleName:"DataType",version:ct,beans:[hVe],dependsOn:[H7e]},mVe={moduleName:"ColumnFlex",version:ct,beans:[dVe]},vVe={moduleName:"ColumnApi",version:ct,beans:[cVe],apiFunctions:{getColumnDef:z7e,getDisplayNameForColumn:W7e,getColumn:j7e,getColumns:$7e,applyColumnState:q7e,getColumnState:K7e,resetColumnState:X7e,isPinning:Y7e,isPinningLeft:Z7e,isPinningRight:Q7e,getDisplayedColAfter:J7e,getDisplayedColBefore:eVe,setColumnsVisible:tVe,setColumnsPinned:nVe,getAllGridColumns:iVe,getDisplayedLeftColumns:rVe,getDisplayedCenterColumns:oVe,getDisplayedRightColumns:sVe,getAllDisplayedColumns:aVe,getAllDisplayedVirtualColumns:lVe,getColumnDefs:U7e}};function CVe(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var yVe=class extends Te{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;let i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){let i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){let o=e.headerValueGetter;if(o){let s=At(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof o=="function"?o(s):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,s)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return CVe(e.field)}return""}},xVe=class extends Te{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){let{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let s=i.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||bVe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,o=t<i&&n<i,s=t>r&&n>r;return!o&&!s}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=o=>{let s=o.getLeft();return it(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);let a=(l,c,d)=>{let u=!1;for(let f=0;f<l.length;f++){let p=l[f],m=!1;if(vh(p))m=e[p.getId()]===!0;else{let C=p.getDisplayedChildren();C&&(m=a(C,c,d+1))}m&&(u=!0,c[d]||(c[d]=[]),c[d].push(p))}return u};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function bVe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var wVe=class extends Te{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){let o=t(r),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=C5("<span>"+o+"</span>");return}if(o==null){this.eGui=Wi({tag:"span"});return}this.eGui=o}}return n}},_Ve={moduleName:"CellRendererFunction",version:ct,beans:[wVe]},SVe=class extends Te{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){let o=(s,a,l,c)=>{this.agGridDefaults[s]=a,(l||c)&&(this.agGridDefaultOverrides[s]={params:l,processParams:c})};for(let s of Object.keys(n)){let a=n[s];if(JNe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){let{classImp:l,params:c,processParams:d}=a;o(s,l,c,d)}else o(s,a)}}if(i){this.dynamicBeans??(this.dynamicBeans={});for(let o of Object.keys(i))this.dynamicBeans[o]=i[o]}if(r?.forEach(o=>{this.selectors[o.selector]=o}),t)for(let o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){let n=(a,l,c,d)=>({componentFromFramework:l,component:a,params:c,processParams:d}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);let o=this.jsComps[t];if(o){let a=i.isFrameworkComponent(o);return n(o,a)}let s=this.agGridDefaults[t];if(s){let a=this.agGridDefaultOverrides[t];return n(s,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(Kd(279,{name:e}));let i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??Kd(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},EVe=23,DVe=class extends Te{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===EVe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},RVe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&.invalid{box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',j5=typeof window!="object"||!window?.document?.fonts?.forEach,WC=(e,t,n,i,r,o)=>{if(j5||a5)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let s=BC.map.get(t);if(s||(s=[],BC.map.set(t,s)),s.find(d=>d.css===e))return;let a=document.createElement("style");o&&a.setAttribute("nonce",o),a.dataset.agGlobalCss=n,a.textContent=e;let l={css:e,el:a,priority:r},c;for(let d of s){if(d.priority>r)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);let d=s.indexOf(c);s.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},Pre=(e,t,n)=>{WC(RVe,e,"core",t,0,n),Array.from(XNe()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>i.css?.forEach(r=>WC(r,e,`module-${i.moduleName}`,t,0,n)))},TVe=e=>{BC.grids.add(e)},IVe=e=>{if(BC.grids.delete(e),BC.grids.size===0){BC.map=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},hne,BC=(hne=typeof window=="object"?window:{}).agStyleInjectionState??(hne.agStyleInjectionState={map:new WeakMap,grids:new Set}),Xd=e=>new Ore(e),Zf="$default",FVe=0,Ore=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams=z({[Zf]:z(z({},n[Zf]??{}),t??{})},n)}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){let o=`ag-theme-${this.feature??"part"}-${++FVe}`;typeof r=="function"&&(r=r()),r=`:where(.${o}) {
${r}
}
`;for(let s of this.cssImports??[])r=`@import url(${JSON.stringify(s)});
${r}`;i={css:r,class:o}}else i=!1;this._inject=i}return i&&e&&WC(i.css,e,i.class,t,1,n),i?i.class:!1}},kVe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),Lre=e=>`--ag-${kVe(e)}`,Yd=e=>`var(${Lre(e)})`,AVe=(e,t,n)=>Math.max(t,Math.min(n,e)),MVe=e=>{let t=new Map;return n=>{let i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Ud=e=>({ref:"accentColor",mix:e}),Jl=e=>({ref:"foregroundColor",mix:e}),ec=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),PVe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Va={ref:"backgroundColor"},SC={ref:"foregroundColor"},hh={ref:"accentColor"},PI={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Jl(.15),chromeBackgroundColor:ec(.02),browserColorScheme:"light"},OVe=ke(z({},PI),{textColor:SC,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Va,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:hh,rangeSelectionBackgroundColor:Ud(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Ud(.5),rangeHeaderHighlightColor:PVe(.08),rowNumbersSelectedColor:Ud(.5),rowHoverColor:Ud(.08),columnHoverColor:Ud(.05),selectedRowBackgroundColor:Ud(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Va,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Va,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Jl(.7),focusShadow:{spread:3,color:Ud(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Jl(.1),iconButtonActiveColor:hh,iconButtonActiveBackgroundColor:Ud(.28),iconButtonActiveIndicatorColor:hh,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:hh,toggleButtonOffBackgroundColor:ec(.3),toggleButtonSwitchBackgroundColor:Va,toggleButtonSwitchInset:2,menuBorder:{color:Jl(.2)},menuBackgroundColor:ec(.03),menuTextColor:ec(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Jl(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:hh},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:Jl(.2)},panelBackgroundColor:Va,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:Jl(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Jl(.13)},selectCellBackgroundColor:Jl(.07),selectCellBorder:{color:Jl(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Va,filterPanelApplyButtonBackgroundColor:hh,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:SC,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:SC,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Jl(.15),statusBarLabelColor:SC,statusBarLabelFontWeight:500,statusBarValueColor:SC,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}}),LVe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",Nre={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},NVe=ke(z({},Nre),{cellBatchEditTextColor:"#f3d0b3"}),BVe=()=>Xd({feature:"batchEditStyle",params:Nre,css:LVe}),VVe=BVe(),HVe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",GVe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}};var zVe=()=>Xd({feature:"buttonStyle",params:ke(z({},GVe),{buttonBackgroundColor:Va,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:hh}}),css:HVe}),UVe=zVe();var WVe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}";var jVe=()=>Xd({feature:"columnDropStyle",css:WVe}),Bre=jVe();var $Ve=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],qVe=MVe(e=>(e=e.toLowerCase(),$Ve.find(t=>e.endsWith(t.toLowerCase()))??"length")),UI=e=>typeof e=="object"&&e?.ref?Yd(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,$5=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Yd(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Yd(e.onto):"transparent"}, ${t} ${AVe(e.mix*100,0,100)}%)`}return!1},KVe=UI,RC=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Yd(n)} `)})`:e&&"ref"in e?Yd(e.ref):!1,XVe=UI,s5=(e,t)=>typeof e=="string"?e:e===!0?s5({},t):e===!1?t==="columnBorder"?s5({color:"transparent"},t):"none":e&&"ref"in e?Yd(e.ref):Vre(e.style??"solid")+" "+RC(e.width??{ref:"borderWidth"})+" "+$5(e.color??{ref:"borderColor"}),YVe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Yd(e.ref):[RC(e.offsetX??0),RC(e.offsetY??0),RC(e.radius??0),RC(e.spread??0),$5(e.color??{ref:"foregroundColor"})].join(" "),Vre=UI,Hre=e=>typeof e=="string"?e.includes(",")?e:fne(e):e&&"googleFont"in e?Hre(e.googleFont):e&&"ref"in e?Yd(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),fne(t))).join(", "):!1,fne=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),ZVe=UI,Gre=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?Gre({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Yd(e.ref):!1,QVe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Ci(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Yd(e.ref):!1,JVe={color:$5,colorScheme:KVe,length:RC,scale:XVe,border:s5,borderStyle:Vre,shadow:YVe,image:Gre,fontFamily:Hre,fontWeight:ZVe,duration:QVe},eHe=(e,t)=>{let n=qVe(e);return JVe[n](t,e)},a5=!1;var tHe=()=>new zre().withPart(UVe).withPart(Bre).withPart(VVe),zre=class Ure{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Ore?new Ure([...this.parts,t]):(Qw(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Xd({feature:t}))}withParams(t,n=Zf){return this.withPart(Xd({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(j5||a5)return;iHe(),Pre(t,n,i);let o=nHe(this);if(o.length>0)for(let s of o)r&&oHe(s,i);for(let s of this.parts)s.use(t,n,i)}_getCssClass(){return a5?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=pne(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let n={[Zf]:z({},OVe)};for(let i of pne(this.parts))for(let r of Object.keys(i.modeParams)){let o=i.modeParams[r];if(o){let s=n[r]??(n[r]={}),a=new Set;for(let l of Object.keys(o)){let c=o[l];c!==void 0&&(s[l]=c,a.add(l))}if(r===Zf)for(let l of Object.keys(n)){let c=n[l];if(l!==Zf)for(let d of a)delete c[d]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){let n="##SELECTOR##",i=this._paramsCssCache;if(!i){let r="",o="",s=this._getModeParams();for(let l of Object.keys(s)){let c=s[l];if(l!==Zf){let u=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=u,o+=u}for(let d of Object.keys(c).sort()){let u=c[d],f=eHe(d,u);if(f===!1)Ci(107,{key:d,value:u});else{let p=Lre(d),m=p.replace("--ag-","--ag-inherited-");r+=`	${p}: var(${m}, ${f});
`,o+=`	${m}: var(${p});
`}}l!==Zf&&(r+=`}
`,o+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${o}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},pne=e=>{let t=new Map;for(let i of e)t.set(i.feature,i);let n=[];for(let i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},nHe=e=>{let t=new Set,n=o=>{if(Array.isArray(o))o.forEach(n);else{let s=o?.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(n),Array.from(t).sort()},gne=!1,iHe=()=>{if(!gne){gne=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},rHe=new Set,oHe=(e,t)=>Wr(void 0,null,function*(){rHe.add(e);let n=`@import url('https://${sHe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;WC(n,document.head,`googleFont:${e}`,void 0,0,t)}),sHe="fonts.googleapis.com",aHe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',lHe=()=>Xd({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Va,checkboxUncheckedBorderColor:ec(.3),checkboxCheckedBackgroundColor:hh,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Va,checkboxIndeterminateBackgroundColor:ec(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Va,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:aHe}),cHe=lHe();var Wre=()=>ke(z(z({},PI),NVe),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ec(.05),rowHoverColor:Ud(.15),selectedRowBackgroundColor:Ud(.2),menuBackgroundColor:ec(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:SC,findMatchColor:Va,findActiveMatchColor:Va,checkboxUncheckedBorderColor:ec(.4),toggleButtonOffBackgroundColor:ec(.4),rowBatchEditBackgroundColor:ec(.1)});var dHe=()=>ke(z({},Wre()),{backgroundColor:"#1f2836"});var uHe=()=>Xd({feature:"colorScheme",params:PI,modeParams:{light:PI,dark:Wre(),"dark-blue":dHe()}}),hHe=uHe();var jre={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},$re={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},fHe=(e={})=>{let t="";for(let n of[...Object.keys(jre),...Object.keys($re)]){let i=pHe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},pHe=(e,t=1.5)=>{let n=$re[e];if(n)return n;let i=jre[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},gHe=(e={})=>Xd({feature:"iconSet",css:()=>fHe(e)});var mHe=gHe();var vHe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',CHe=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}";var yHe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}};var xHe=()=>Xd({feature:"inputStyle",params:ke(z({},yHe),{inputBackgroundColor:Va,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:hh},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ec(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>vHe+CHe}),bHe=xHe();var wHe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}';var _He={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};var SHe=()=>Xd({feature:"tabStyle",params:ke(z({},_He),{tabBarBorder:!0,tabBarBackgroundColor:Jl(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Va}),css:wHe}),EHe=SHe();var DHe=()=>tHe().withPart(cHe).withPart(hHe).withPart(mHe).withPart(EHe).withPart(bHe).withPart(Bre).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),RHe=DHe();var THe={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},IHe={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},FHe={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},mne={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},vne={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Cne={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},EB={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},yne={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},kHe=0,AHe=class extends Te{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++kHe}`,this.globalCSS=[]}wireBeans(e){let{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(mne),this.getSizeEl(vne),this.getSizeEl(Cne),this.getSizeEl(EB),this.getSizeEl(yne),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>IVe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(yne)}getRowBorderWidth(){return this.getCSSVariablePixelValue(EB)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(mne)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(vne)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(THe)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(IHe),n=this.getCSSVariablePixelValue(FHe);return e-1+n*t}getCellPadding(){let e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Cne)}applyThemeClasses(e){let{gridTheme:t}=this,n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(let o of Array.from(i.classList))o.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${o}`:o);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(let i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){let i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?WC(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let n=t.offsetWidth;return n===DB?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Wi({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.getMeasurementContainer();t=Wi({tag:"div"});let{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${DB}px)`)):t.style.width=`var(${e.cssName}, ${DB}px)`,n.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!r&&$e(9,{variable:e});let s=sp(this.beans,t,()=>{let a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==o&&(o=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(EB);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme"),o;if(r==="legacy")o=void 0;else{let s=r??RHe;s instanceof zre?o=s:Ci(240,{theme:s})}if(o!==i){if(o){TVe(this),Pre(this.eStyleContainer,this.cssLayer,this.styleNonce);for(let[a,l]of n)WC(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=o,o?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let s=this.eParamsStyle;if(!s){s=this.eParamsStyle=Wi({tag:"style"});let a=this.gos.get("styleNonce");a&&s.setAttribute("nonce",a),t.appendChild(s)}j5||(s.textContent=o?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ci(r?106:239)}},DB=15538,MHe=class extends Te{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new cm}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(At(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(At(this.gos,e))}};function qre(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function l5(e,t){let n;if(Sr(e)&&qre(e)&&e.isPadding()){let i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}var PHe=class extends Te{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});let t=Uo(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n,{colModel:i,colGroupSvc:r,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;let a=o.getHeaderRowContainerCtrl()?.getAllCtrls(),l=vi(a||[]).type==="filter",c=$d(this.beans)-1,d=-1,u=n;for(;u;)d++,u=u.getParent();let f=d;return t&&l&&f===c-1&&f++,f===-1?null:{headerRowIndex:f,column:n}}navigateVertically(e,t){let n=this.beans.focusSvc,i=n.focusedHeader;if(!i)return!1;let{headerRowIndex:r}=i,o=i.column,s=$d(this.beans),a=e==="UP",l=this.getHeaderRowType(r),{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:u}=a?OHe(l,o,r):LHe(l,o,r),f=!1;return c<0&&(c=0,d=o,f=!0),c>=s?(c=-1,this.currentHeaderRowWithoutSpan=-1):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!f&&!d?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){let{focusSvc:i,gos:r}=this.beans,o=z({},i.focusedHeader),s,a;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a));let l=r.getCallback("tabToNextHeader");if(t&&l){let c=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(c){let{headerRowIndex:d}=i.focusedHeader||{};d!=null&&d!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return s||!t?i.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,a,n)}focusNextHeaderRow(e,t,n){let i=e.headerRowIndex,r=null,o,s=this.beans;if(t==="Before"?i>0&&(o=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,this.currentHeaderRowWithoutSpan<$d(s)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(o,"start")),!r)return!1;let{column:a,headerRowIndex:l}=l5(r.column,r?.headerRowIndex);return s.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Sr(e)){let i=e.getDisplayedLeafColumns();n=t==="Before"?vi(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i,{colGroupSvc:r,visibleCols:o}=this.beans;if(Sr(e.column)?n=r?.getGroupAtDirection(e.column,t)??void 0:(i=`getCol${t}`,n=o[i](e.column)),!n)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){let c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[Math.max(0,c.length-1-s)]}let{column:a,headerRowIndex:l}=l5(n,s);return{column:a,headerRowIndex:l}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,o=n.allCols,s=o[t==="start"?0:o.length-1];if(!s)return;let l=i.getHeaderRowContainerCtrl(s.getPinned())?.getRowType(e);if(l=="group"){let c=r?.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:c}}return{headerRowIndex:l==null?-1:e,column:s}}};function OHe(e,t,n){let i=e==="filter",r=e==="column",o=i?t:t.getParent(),s=n-1,a=s;if(r&&qre(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),s--;a=s,s<0&&(o=t,s=n,a=void 0)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:a}}function LHe(e,t,n,i="After"){let r=t,o=n+1,s=o;if(e==="group"){let a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:vi(a),c=[],d=l;for(;d.getParent()!==t;)d=d.getParent(),c.push(d);if(r=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){let f=c[u];if(!f.isPadding()){r=f;break}o++}else r=vi(c),r||(r=l)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:s}}var NHe=class extends Te{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(b6e(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){let{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(dr(this.beans),Cre)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=dr(this.beans);return this.isDomDataPresentInHierarchy(e,kI)?!0:this.isDomDataPresentInHierarchy(e,AI)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(nie(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(z({type:"cellFocusCleared"},e))}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:s}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:fh(i),column:a};let l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent(ke(z(z({type:"cellFocused"},l),this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams}),{forceBrowserFocus:r,preventScrollOnBrowserFocus:o,sourceEvent:s})),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:Uie(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:o}=this.focusedHeader;return t===r&&n===o&&i==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),am(this.beans))return!1;let{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:o,rowWithoutSpanValue:s}=e,{headerPosition:a}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){let l=this.focusedHeader,c=$d(this.beans);if(n){let d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{let d=this.gos.getCallback("navigateToNextHeader");if(d&&r){let u={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:r};a=d(u)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:o,rowWithoutSpanValue:s}):!1}focusHeaderPositionFromUserFunc(e){if(am(this.beans))return!1;let{userFunc:t,headerPosition:n,direction:i,event:r}=e,o=this.focusedHeader,s=$d(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:o}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:o});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:o}=e,{column:s,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:d}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:o});d?.scrollToColumn(s,n);let f=c.getHeaderRowContainerCtrl(s.getPinned())?.focusHeader(t.headerRowIndex,s,o)||!1;return d&&f&&(r!=null||i)&&(d.currentHeaderRowWithoutSpan=r??-1),f}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let n=l5(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=$d(this.beans)-1,n=vi(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===fh(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&hm(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(VI(this.beans))return t&&!am(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:UC(this.beans,t);let r=t?s6e(this.beans):o6e(this.beans);if(r){let o=e.column??this.focusedHeader?.column,{rowIndex:s,rowPinned:a}=r,l=rp(this.beans,r);if(!o||!l||s==null)return!1;if(o.isSuppressNavigable(l)){let c=this.gos.get("enableRtl"),d;return!i||i.key===we.TAB?d=c?we.LEFT:we.RIGHT:d=i.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:s,column:o,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:s,column:o,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:s,column:o,rowPinned:fh(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:s,rowPinned:a,column:o})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:$d(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},BHe=class extends Te{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:n4e();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},VHe=class extends Te{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},hI=new Set(["gridPreDestroyed","fillStart","pasteStart"]),HHe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset"];var q5=HHe.reduce((e,t)=>(e[t]=k4e(t),e),{}),Xw=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),GHe={tag:"span",cls:"ag-sort-indicator-container",children:[Xw("Order","order"),Xw("Asc","ascending-icon"),Xw("Desc","descending-icon"),Xw("Mixed","mixed-icon"),Xw("None","none-icon")]},K5=class extends Wn{constructor(e){super(),this.eSortOrder=st,this.eSortAsc=st,this.eSortDesc=st,this.eSortMixed=st,this.eSortNone=st,e||this.setTemplate(GHe)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;let i=tc(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:o}=this,s=o.sortSvc.getDisplaySortForColumn(i);if(e&&or(e,s==="asc",{skipAriaHidden:!0}),t&&or(t,s==="desc",{skipAriaHidden:!0}),n){let a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=s==null;or(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);let i=t.getColDef().showRowGroup;Wd(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:n}=this;if(e){let i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";or(e,i,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;let i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,o=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),s=r>=0&&o;or(e,s,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():Bs(e)}},zHe={selector:"AG-SORT-INDICATOR",component:K5},C_=["asc","desc",null],UHe=class extends Te{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){let i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){let i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);let{gos:r,showRowGroupCols:o}=this.beans,s=Wd(r),a=[e];if(s&&e.getColDef().showRowGroup){let u=o?.getSourceColumnsForGroupColumn?.(e)?.filter(f=>f.isSortable());u&&(a=[e,...u])}a.forEach(d=>this.setColSort(d,t,i));let l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),c=[];if(!l){let d=this.clearSortBarTheseColumns(a,i);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(i,c)}updateSortIndex(e){let{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Wd(t),o=i?.getShowRowGroupCol(e.getId()),s=r&&o||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));let l=a.filter(d=>r&&d.getColDef().showRowGroup?!1:d!==s);(s.getSort()?[...l,s]:l).forEach((d,u)=>this.setColSortIndex(d,u))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){let n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){let n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??C_,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans,r=[];if(t.forAllCols(c=>{c.getSort()&&r.push(c)}),t.isPivotMode()){let c=Wd(e);r=r.filter(d=>{let u=!!d.getAggFunc(),f=!d.isPrimary(),p=c?n?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return u||f||p})}let o=i?.columns.filter(c=>!!c.getSort())??[],s={};r.forEach((c,d)=>s[c.getId()]=d),r.sort((c,d)=>{let u=c.getSortIndex(),f=d.getSortIndex();if(u!=null&&f!=null)return u-f;if(u==null&&f==null){let p=s[c.getId()],m=s[d.getId()];return p>m?1:-1}else return f==null?-1:1});let a=Wd(e)&&!!o.length;a&&(r=[...new Set(r.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);let l=new Map;return r.forEach((c,d)=>l.set(c,d)),a&&o.forEach(c=>{let d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=Wd(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(s=>s.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:o=>{let s=t.isMoving(),l=Date.now()-i<50;s||l||this.progressSortFromEvent(t,o)}});let r=()=>{let o=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",o==="asc"),e.toggleCss("ag-header-cell-sorted-desc",o==="desc"),e.toggleCss("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){let l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){let{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new K5(e)}getSortIndicatorSelector(){return zHe}},VC={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},WHe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),jHe={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?VC[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:VC[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?VC[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},$He=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{let n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Kd(262);if(t.smallLeft)return Kd(263);if(t.smallRight)return Kd(264)}return null}},sortingOrder:{validate:t=>{let n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){let i=n.filter(r=>!C_.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${C_.map(vI).join()}], currently it includes [${i.map(vI).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{let n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:o,rowDragEntireRow:s,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":o?s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),qHe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},KHe=()=>Object.keys(qHe),XHe=()=>({objectName:"colDef",allProperties:KHe(),docsUrl:"column-properties/",deprecations:WHe(),validations:$He()}),YHe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],ZHe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],QHe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Kre=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],JHe=["theme","rowSelection"],X5=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Xre=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers"],eGe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],tGe=()=>[...QHe,...ZHe,...YHe,...Kre,...eGe,...Xre,...X5,...JHe],nGe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function zd(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var iGe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},rGe=()=>{let e={autoSizePadding:{validate({autoSizePadding:n}){return zd("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return zd("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return zd("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{let i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:r,pinnedBottomRowData:o}){return i&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:r,pinnedBottomRowData:o}){return i&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Kd(262);if(n.smallLeft)return Kd(263);if(n.smallRight)return Kd(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return zd("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return zd("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return zd("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{let i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return zd("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{let i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return zd("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{let i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){let r=i.filter(o=>!C_.includes(o));if(r.length>0)return`sortingOrder must be an array with elements from [${C_.map(vI).join()}], currently it includes [${r.map(vI).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{let i=n.rowModelType??"clientSide";switch(i){case"clientSide":{let{treeDataChildrenField:r,treeDataParentIdField:o,getDataPath:s,getRowId:a}=n;if(!r&&!o&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{let r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return zd("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return zd("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{let i=n.renderingMode,r=["default","legacy"];return i&&!r.includes(i)?`renderingMode must be one of [${r.join()}], currently it's ${i}`:null}}},t={};return Xre.forEach(n=>{t[n]={expectedType:"boolean"}}),Kre.forEach(n=>{t[n]={expectedType:"number"}}),aa(t,e),t},oGe=()=>({objectName:"gridOptions",allProperties:[...tGe(),...Object.values(q5)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:nGe(),validations:rGe()}),sGe=0,aGe=0,lGe=class extends Te{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=aGe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new cm,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;let i=hI.has(t);if(i&&!e||!i&&e||!cGe(t))return;let r=(o,s)=>{let a=q5[o],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(s))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(let o of this.queueEvents)r(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??NLe[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return it(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){let i={id:sGe++,properties:[]},r=[],{gridOptions:o,validation:s}=this;for(let a of Object.keys(e)){let l=e[a];s?.warnOnInitialPropertyUpdate(n,a);let c=t||typeof l=="object"&&n==="api",d=o[a];if(c||d!==l){o[a]=l;let u={type:a,currentValue:l,previousValue:d,changeSet:i,source:n};r.push(u)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{np(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(let n of Object.keys(e)){let i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){this.validateOptions(e,iGe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,jHe),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){let n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||Ci(200,ke(z({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:D5(),rowModelType:this.get("rowModelType"),isUmd:ZNe()}}isModuleRegistered(e){return jB(e,this.gridId,this.get("rowModelType"))}};function cGe(e){return!!q5[e]}function Yre(e){let t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var dGe=Yre(!0),uGe=Yre(!1),hGe=class extends Wn{constructor(){super(...arguments),this.eFilter=st,this.eFilterButton=st,this.eSortIndicator=st,this.eMenu=st,this.eLabel=st,this.eText=st,this.eSortOrder=st,this.eSortAsc=st,this.eSortDesc=st,this.eSortMixed=st,this.eSortNone=st,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let n=z({},e);aa(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let n=e.template;return n?n?.trim?n.trim():n:t?dGe:uGe}init(e){this.params=e;let{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,o=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let n=kNe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){let{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=$C(t))}addInIcon(e,t,n){let i=tc(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){sa(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:n}=this,i=cl(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);let r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:n,beans:i,eMenu:r,eFilterButton:o}=this,s=t.column,a=cl(n);if(e&&!a){if(i.menuSvc?.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??o??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:i,eSortOrder:r,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,o,s,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;if(!e)return;let n=()=>{let i=t.column.isFilterActive();or(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return sa(t),!1;let r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},fGe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},pGe=class extends Wn{constructor(){super(fGe),this.agOpened=st,this.agClosed=st,this.agLabel=st,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&$e(89)}workOutInnerHeaderGroupComponent(e,t){let n=MNe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let r=l=>{if(ph(l))return;let c=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);let o=l=>{um(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();let s=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){let i=n.isExpanded();or(e,i),or(t,!i)}else or(e,!1),or(t,!1)}addInIcon(e,t){let n=tc(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:n}=this;or(t,!1),or(n,!1);return}}setupLabel(e){let{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;it(t)&&!i&&(this.agLabel.textContent=$C(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},gGe={moduleName:"ColumnHeaderComp",version:ct,userComponents:{agColumnHeader:hGe},icons:{menu:"menu",menuAlt:"menu-alt"}},mGe={moduleName:"ColumnGroupHeaderComp",version:ct,userComponents:{agColumnGroupHeader:pGe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},vGe=class extends Te{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&$e(92)}createTask(e,t,n,i,r=!1){this.verify();let o=n;i&&this.batchFrameworkComps&&(o="f1");let s={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[o],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:n,f1:i,destroyTasks:r,beans:o}=this,{ctrlsSvc:s,frameworkOverrides:a}=o,l=t.list,c=n.list,d=i.list,u=Date.now(),f=0,p=e<=0,m=s.getScrollFeature();for(;p||f<e;){if(!m.scrollGridIfNeeded()){let C;if(l.length)this.sortTaskList(t),C=l.pop().task;else if(c.length)this.sortTaskList(n),C=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(p||f<e)&&!m.scrollGridIfNeeded();){if(d.length)this.sortTaskList(i),C=d.pop().task,C();else break;f=Date.now()-u}}),C=()=>{};else if(r.length)C=r.pop();else break;C()}f=Date.now()-u}l.length||c.length||d.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);Ch(this.beans,e)}isQueueEmpty(){return!this.ticking}},CGe={moduleName:"AnimationFrame",version:ct,beans:[vGe]},yGe=class extends Te{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!nm())return;let t=(n,i,r)=>{let{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget(r?.target??null);s?.column&&s.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!nm()||gie("dblclick"))return!1;let i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;let{params:r,eMenu:o,eFilterButton:s}=e,a=new em(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&it(o)&&r.enableMenu,d=c?new em(o,!0):a;if(r.enableMenu||i?.isHeaderContextMenuEnabled(r.column)){let u=c?"tap":"longTap",f=p=>r.showColumnMenuAfterMouseClick(p.touchStart);e.addManagedListeners(d,{[u]:f})}if(r.enableSorting){let u=f=>{let p=f.touchStart.target;l&&(o?.contains(p)||s?.contains(p))||n?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:u})}if(r.enableFilterButton&&s){let u=new em(s,!0);e.addManagedListeners(u,{tap:()=>r.showFilter(s)}),e.addDestroyFunc(()=>u.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e){let t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){let n=new em(t.eGridHeader,!0),i=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){let i=new em(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!nm())return;let i=new em(t),r=o=>{m_(this.gos,o.touchEvent)&&n(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},xGe={moduleName:"Touch",version:ct,beans:[yGe]},bGe=class extends Te{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let n=e===we.UP,i=e===we.DOWN,r=e===we.LEFT,o,s,{pageBounds:a,gos:l,visibleCols:c}=this.beans;if(n||i)s=n?a.getFirstRow():a.getLastRow(),o=t.column;else{let d=l.get("enableRtl");s=t.rowIndex,o=(r!==d?c.allCols:[...c.allCols].reverse()).find(f=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:f}))}return o?{rowIndex:s,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case we.UP:n=this.getCellAbove(n);break;case we.DOWN:n=this.getCellBelow(n);break;case we.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case we.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,$e(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){let t=e.column,n,{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,n=Bte(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,n=DI(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:n}=this.beans,i=t.allCols,r=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=i[0];let a=Bte(this.beans,e);if(Zi(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols,o=e.rowIndex,s=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=vi(r);let l=DI(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Zi(l)||!l.rowPinned&&!(i?.isRowInPage(l.rowIndex)??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:a,rowPinned:s}}isSuppressNavigable(e,t){let{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){let i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function wGe(e){return e.focusSvc.getFocusedCell()}function _Ge(e){return e.focusSvc.clearFocusedCell()}function SGe(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function EGe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function DGe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function RGe(e,t,n=!1){let i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var TGe=class extends Te{constructor(){super(),this.beanName="navigation",this.onPageDown=Ite(this.onPageDown,100),this.onPageUp=Ite(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=V6e(this.gos,e),a=!1;switch(n){case we.PAGE_HOME:case we.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case we.LEFT:case we.RIGHT:case we.UP:case we.DOWN:if(!s)return!1;r&&!i&&!o&&(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case we.PAGE_DOWN:case we.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===we.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:o}=e,{scrollFeature:s}=this.gridBodyCon;it(i)&&!i.isPinned()&&s.ensureColumnVisible(i),it(t)&&s.ensureIndexVisible(t,n),e.isAsync||s.ensureIndexVisible(r);let{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(e){let t=this.beans,n=RB(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:o,rowAutoHeight:s}=t,a=r.getPixelOffset(),l=n.top+i,c=o.getRowIndexAtPixel(l+a);s?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){let t=this.beans,n=RB(t),{pageBounds:i,rowModel:r,rowAutoHeight:o}=t,s=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){let{pageBounds:i,rowModel:r}=this.beans,o=this.getViewportHeight(),s=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),c=r.getRow(e.rowIndex),d=n?c?.rowHeight-o-l:o-l,u=c?.rowTop+d,f=r.getRowIndexAtPixel(u+l);if(f===e.rowIndex){let m=n?-1:1;t=f=e.rowIndex+m}let p;n?(p="bottom",f<s&&(f=s),t<s&&(t=s)):(p="top",f>a&&(f=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(f))&&(t=f,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:o}=this.beans,s=r.getLastRow(),a=0,l=e.rowIndex;for(;l>=0&&l<=s;){let c=o.getRow(l);if(c){let d=c.rowHeight??0;if(a+d>i)break;a+=d}l+=n}return Math.max(0,Math.min(l,s))}getViewportHeight(){let e=this.beans,t=RB(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth(),i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){let t=e===we.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,o=n.allCols,s=t?i.getFirstRow():i.getLastRow(),a=r.getRow(s);if(!a)return;let l=(t?o:[...o].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){let n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){let{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===s.getFirstRow())&&(l.get("headerHeight")===0||am(r)?UC(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof NC&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||UC(r,n))&&t.preventDefault()}tabToNextCell(e,t){let n=this.beans,{focusSvc:i,rowRenderer:r}=n,o=i.getFocusedCell();if(!o)return!1;let s=DC(n,o);return!s&&(s=r.getRowByPosition(o),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){let{editSvc:r,focusSvc:o}=this.beans,s,a=e instanceof NC?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?s=r?.moveToNextCell(a,t,n,i):s=this.moveToNextCellNotEditing(e,t,n),s===null?s:s||!!o.focusedHeader}moveToNextCellNotEditing(e,t,n){let i=this.beans.visibleCols.allCols,r;if(e instanceof MI){if(r=ke(z({},e.getRowPosition()),{column:t?i[0]:vi(i)}),this.gos.get("embedFullWidthRows")&&n){let s=e.findFullWidthInfoForEvent(n);s&&(r.column=s.column)}}else r=e.getFocusedCellPosition();let o=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(o===!1)return null;if(o instanceof NC)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return it(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let r=e,o=this.beans,{cellNavigation:s,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:d}=o;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=s.getNextTabbedCell(r,t);let u=a.getCallback("tabToNextCell");if(it(u)){let v=u({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(v===!0)r=e;else{if(v===!1)return!1;r={rowIndex:v.rowIndex,column:v.column,rowPinned:v.rowPinned}}}if(!r)return null;if(r.rowIndex<0){let m=$d(o);return l.focusHeaderPosition({headerPosition:{headerRowIndex:m+r.rowIndex,column:r.column},fromCell:!0}),null}let f=a.get("editType")==="fullRow";if(n&&(!f||i)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);let p=DC(o,r);if(!p){let m=c.getRowByPosition(r);if(!m||!m.isFullWidth()||n)continue;return ke(z({},m.getRowPosition()),{column:r?.column})}if(!s.isSuppressNavigable(p.column,p.rowNode))return p.setFocusedCellPosition(r),d?.setRangeToCell(r),p}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,o=!1,s=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=s;for(;r&&(r===n||!this.isValidNavigateCell(r));)c.get("enableRtl")?t===we.LEFT&&(r=this.getLastCellOfColSpan(r)):t===we.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),o=Zi(r);if(o&&e&&e.key===we.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){let u=c.getCallback("navigateToNextCell");if(it(u)){let p=u({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});it(p)?r={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}:r=null}}if(!r)return;if(r.rowIndex<0){let u=$d(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:u+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let d=this.getNormalisedPosition(r);d?this.focusPosition(d):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let n=DC(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:o}=this.beans,s=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;let l=r.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?vi(s):s[0])};this.focusPosition(c);let d=t??(l!=null&&i6e(c,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!rp(this.beans,e)}getLastCellOfColSpan(e){let t=DC(this.beans,e);if(!t)return e;let n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:vi(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=oie(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&Zi(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}};function RB(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var IGe={moduleName:"KeyboardNavigation",version:ct,beans:[TGe,bGe,PHe],apiFunctions:{getFocusedCell:wGe,clearFocusedCell:_Ge,setFocusedCell:SGe,setFocusedHeader:RGe,tabToNextCell:EGe,tabToPreviousCell:DGe}},FGe=class extends Te{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},kGe=class extends Te{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){let{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;let r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},AGe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",MGe=class extends Te{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let n of this.elements)n&&(or(n,t),qd(n,e))}},PGe=class extends Te{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=cs(e,"print"),r=i?0:t.getColsLeftWidth(),o=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=c_(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:o}=n,s=r;!s.length&&!o||(i&&(s=i({columns:s,viewportWidth:t})),!(!s||!s.length)&&(s=s.filter(a=>!sm(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new MGe(e,t)}setColsPinned(e,t,n){let{colModel:i,colAnimation:r,visibleCols:o,gos:s}=this.beans;if(!i.cols||!e?.length)return;if(cs(s,"print")){$e(37);return}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;let l=[];e.forEach(c=>{if(!c)return;let d=i.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(o.refresh(n),Tie(this.eventSvc,l,n)),r?.finish()}initCol(e){let{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;let r=()=>{let o=n?this.leftWidth:this.rightWidth;if(o==null)return;let s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),u=t.verticalScrollShowing&&(l&&n||!l&&i)?o+c:o;e.comp.setPinnedContainerWidth(`${u}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:i,rightWidth:r}=this,o=c_(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>o)if(o>i+r)e=o-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,n=this.leftWidth??0,i=t+n,r=!1;if(i<e)return{columns:[],hasLockedPinned:r};let{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols],l=0,c=0,d=0,u=[],f=i-d-e;for(;(c<s.length||l<a.length)&&f>0;){if(l<a.length){let p=a[l++];if(p.colDef.lockPinned){r=!0;continue}f-=p.getActualWidth(),u.push(p)}if(c<s.length&&f>0){let p=s[c++];if(p.colDef.lockPinned){r=!0;continue}f-=p.getActualWidth(),u.push(p)}}return{columns:u,hasLockedPinned:r}}},OGe={moduleName:"PinnedColumn",version:ct,beans:[PGe],css:[AGe]},LGe=class extends Te{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=ls(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=Uo(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),Pne(n,"polite"),GLe(n,"additions text"),HLe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}\u200B`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(Bs(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},NGe={moduleName:"Aria",version:ct,beans:[LGe]};function BGe(e){e.overlays?.showLoadingOverlay()}function VGe(e){e.overlays?.showNoRowsOverlay()}function HGe(e){e.overlays?.hideOverlay()}var GGe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",zGe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},Zre=class extends Wn{constructor(){super(zGe),this.eOverlayWrapper=st,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(GGe)}handleKeyDown(e){if(e.key!==we.TAB||e.defaultPrevented||ph(e))return;let t=this.beans;if(Cm(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:vi(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=UC(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){let n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=Nc;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(o,t.print)}postConstruct(){this.createManagedBean(new k5(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){let r=dr(this.beans);r&&!rie(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){let o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:s})=>{o.refresh?.(At(this.gos,z({},s??{})))})}n&&this.isGridFocused()&&hm(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Bs(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=dr(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},UGe={selector:"AG-OVERLAY-WRAPPER",component:Zre},WGe=class extends Te{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Eo(this.gos),this.isServerSide=!this.isClientSide&&jC(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){$e(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return UGe}getOverlayWrapperCompClass(){return Zre}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:o}}=this,s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!i.get("suppressLoadingOverlay")&&(s=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(HNe(this.beans.userCompFactory,At(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(GNe(this.beans.userCompFactory,At(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){let i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},jGe={moduleName:"Overlay",version:ct,userComponents:{agLoadingOverlay:uBe,agNoRowsOverlay:fBe},apiFunctions:{showLoadingOverlay:BGe,showNoRowsOverlay:VGe,hideOverlay:HGe},beans:[WGe]},$Ge=class extends Te{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=t4e(),np(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;np(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},qGe=400,KGe=class extends Te{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{mh(this.gos)?n():i()}),mh(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{let i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=cs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new XGe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){let n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},o=()=>{n(l=>l.onFirstRightPinnedChanged())},s=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let e=cs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(n=>{let i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){let{pinnedRowModel:i,beans:r,printLayout:o}=this,s=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i?.forEachPinnedRow(t,(l,c)=>{let d=e[c];d&&i.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in s&&n?(e[c]=s[l.id],delete s[l.id]):e[c]=new MI(l,r,!1,!1,o)});let a=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let n=i=>{let r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){let{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&kC(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:o,gos:s}=this;if(o){o.checkStickyRows();let a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Kd(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:$d(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell(ke(z({},n),{preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}));return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(At(this.gos,ke(z({},n),{forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})))}findPositionToFocus(e){let{pagination:t,pageBounds:n}=this.beans,i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=DI(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});let r=this.getRowByPosition(i);if(r?.isAlive())return ke(z({},r.getRowPosition()),{column:e.column});i=DI(this.beans,i)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){let r=t[i].getAllCellCtrls(),o=r.length;for(let s=0;s<o;s++)e.push(r[s])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){let i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){let r={force:n,newData:!1,suppressFlash:i};for(let o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=c5(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{let r=i.rowNode;return d5(r,t)})}getCellCtrls(e,t){let n;it(t)&&(n={},t.forEach(r=>{let o=this.colModel.getCol(r);it(o)&&(n[o.getId()]=!0)}));let i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(o=>{let s=o.column.getId();n&&!n[s]||i.push(o)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);let t={};for(let n of Object.values(this.rowCtrlsByRowIndex)){let i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{let i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e,r,o=this.stickyRowFeature;o&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);let s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();let d=o.extraTopHeight+o.extraBottomHeight;d&&this.updateContainerHeights(d)}let c=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if(!(i&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){let d=t?.getFocusCellToUseAfterRefresh();r!=null&&d==null&&(n?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){let n={};e.forEach(o=>n[o]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);let n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);let r=s=>{let a=s.rowNode.rowIndex;a==null||a===i||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};for(let s of Object.values(this.rowCtrlsByRowIndex))r(s);if(e)for(let s of Object.values(e))r(s);t.sort((s,a)=>s-a);let o=[];for(let s=0;s<t.length;s++){let a=t[s],l=this.rowModel.getRow(a);l&&!l.sticky&&o.push(a)}return o}recycleRows(e,t=!1,n=!1){let i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);let r=[];if(i.forEach(o=>{let s=this.createOrUpdateRowCtrl(o,e,t,n);it(s)&&r.push(s)}),e){let{animationFrameSvc:o}=this.beans;o?.active&&n&&!this.printLayout?o.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=c5(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;let i=n.rowNode;return!(t!=null&&!d5(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,o=this.rowCtrlsByRowIndex[e];if(o||(r=this.rowModel.getRow(e),it(r)&&it(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null)),!o)if(r||(r=this.rowModel.getRow(e)),it(r))o=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){let n=[];if(e){for(let i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){let r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),qGe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=om(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{let d=this.getRowBufferInPixels(),u=this.ctrlsSvc.getScrollFeature(),f=this.gos.get("suppressRowVirtualisation"),p=!1,m,v;do{let S=t.getPixelOffset(),{pageFirstPixel:D,pageLastPixel:R}=t.getCurrentPagePixelRange(),T=e.divStretchOffset,k=u.getVScrollPosition(),M=k.top,B=k.bottom;f?(m=D+T,v=R+T):(m=Math.max(M+S-d,D)+T,v=Math.min(B+S+d,R)+T),this.firstVisibleVPixel=Math.max(M+S,D)+T,this.lastVisibleVPixel=Math.min(B+S,R)+T,p=this.ensureAllRowsInRangeHaveHeightsCalculated(m,v)}while(p);let C=n.getRowIndexAtPixel(m),y=n.getRowIndexAtPixel(v),b=t.getFirstRow(),w=t.getLastRow();C<b&&(C=b),y>w&&(y=w),i=C,r=y}let o=cs(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&r-i>a&&(r=i+a);let l=i!==this.firstRenderedRow,c=r!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Ch(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(s||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||s||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),o=this.editSvc?.isEditing(e),s=i.detail;return r||o||s?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){let i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;let r=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new MI(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t,{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},XGe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],nc(this.entriesList,n)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],nc(this.entriesList,e)}getEntries(){return this.entriesList}};function c5(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(n=>{let i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function d5(e,t){let n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var YGe=class extends Te{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Wd(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Wd(e))}doFullSort(e,t){let n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){let i=t.rowNode,r=n.rowNode;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=a.sort==="desc",c=this.getValue(i,a.column),d=this.getValue(r,a.column),u,f=this.getComparator(a,i);if(f?u=f(c,d,i,r,l):u=MLe(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-n.currentPos}getComparator(e,t){let n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;let r=!t.group&&n.getColDef().field;if(!r)return;let o=this.beans.colModel.getColDefCol(r);if(o)return o.getColDef().comparator}getValue(e,t){let{valueSvc:n,colModel:i,showRowGroupCols:r,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(aie(o,i.isPivotActive())){let c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0}let l=r?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function ZGe(e){e.sortSvc?.onSortChanged("api")}var Qre={moduleName:"Sort",version:ct,beans:[UHe,YGe],apiFunctions:{onSortChanged:ZGe},userComponents:{agSortIndicator:K5},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},QGe=class extends Te{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),np(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,MC(e.source))}}};function JGe(e){e.valueCache?.expire()}function eze(e,t){let{colKey:n,rowNode:i,useFormatter:r}=t,o=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Zi(o))return null;let s=e.valueSvc.getValueForDisplay(o,i).value;return r?e.valueSvc.formatValue(o,i,s)??$C(s):s}var tze="paste",nze=class extends Te{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;Eo(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:n}=this.beans;if(e.source===tze||t.get("suppressChangeDetection"))return;let i=e.node,r=[i],o=this.clientSideRowModel,s=o?.rootNode;if(s&&!i.isRowPinned()){let a=t.get("aggregateOnlyChangedColumns"),l=new v_(a,s);l.addParentNode(i.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{r.push(c),c.sibling&&r.push(c.sibling)})}n.refreshCells({rowNodes:r})}},ize=class extends Te{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ci(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Ci(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},rze=class extends Te{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){let i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},oze={moduleName:"ValueCache",version:ct,beans:[rze],apiFunctions:{expireValueCache:JGe}},sze={moduleName:"Expression",version:ct,beans:[ize]},aze={moduleName:"ChangeDetection",version:ct,beans:[nze]},lze={moduleName:"CellApi",version:ct,apiFunctions:{getCellValue:eze}},tI={checkSiblings:!0},cze=class extends Te{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=jC(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1,r="ui"){let{showRowGroupColValueSvc:o}=this.beans,s=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(o&&l&&(s||a)){let v=o.getGroupValue(t,e);if(v==null)return{value:null,valueFormatted:null};if(!n)return{value:v.value,valueFormatted:null};let C=o.formatAndPrefixGroupColValue(v,e,i);return{value:v.value,valueFormatted:C}}if(!e)return{value:t.key,valueFormatted:null};let c=t.leafGroup&&this.colModel.isPivotMode(),d=t.group&&t.expanded&&!t.footer&&!c,u=this.gos.get("groupSuppressBlankHeader")||!t.sibling,f=d&&!u,p=this.getValue(e,t,f,r),m=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:p,valueFormatted:m?this.formatValue(e,t,p):null}}getValue(e,t,n=!1,i="ui"){if(this.initialised||this.init(),!t)return;let r=e.getColDef(),o=r.field,s=e.getColId(),a=t.data;if(this.hasEdit&&i==="ui"){let v=this.editSvc;if(v.isRowEditing(t,tI)&&(a=v.getRowDataValue(t,tI)),v.isEditing()){let C=v.getCellDataValue({rowNode:t,column:e});if(C!==void 0)return C}}let l,c=r.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;let d=typeof c!="string"||!t.group,u=t.groupData&&s in t.groupData,f=!n&&t.aggData&&t.aggData[s]!==void 0,p=this.isSsrm&&n&&!!r.aggFunc,m=this.isSsrm&&t.footer&&t.field&&(r.showRowGroup===!0||r.showRowGroup===t.field);if(this.isTreeData&&f)l=t.aggData[s];else if(this.isTreeData&&r.valueGetter)l=this.executeValueGetter(r.valueGetter,a,e,t);else if(this.isTreeData&&o&&a)l=e_(a,o,e.isFieldContainsDots());else if(u)l=t.groupData[s];else if(f)l=t.aggData[s];else if(r.valueGetter&&!p){if(!d)return l;l=this.executeValueGetter(r.valueGetter,a,e,t)}else if(m)l=e_(a,t.field,e.isFieldContainsDots());else if(o&&a&&!p){if(!d)return l;l=e_(a,o,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){let v=l.substring(1);l=this.executeValueGetter(v,a,e,t)}return l}parseValue(e,t,n,i){let r=e.getColDef(),o=r.valueParser;if(it(o)){let s=At(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof o=="function"?o(s):this.expressionSvc?.evaluate(o,s)}return n}getDeleteValue(e,t){return it(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){let{expressionSvc:o}=this.beans,s=null,a,l=e.getColDef();if(i?a=i:r&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){let u={rowNode:t};if(this.hasEdit){let f=this.editSvc;f.isEditing(u,tI)&&(c=f.getRowDataValue(t,tI))}}let d=At(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?s=a(d):s=o?o.evaluate(a,d):null}else if(l.refData)return l.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}setValue(e,t,n,i){let r=this.colModel.getColDefCol(t);if(!e||!r)return!1;Zi(e.data)&&(e.data={});let{field:o,valueSetter:s}=r.getColDef();if(Zi(o)&&Zi(s))return $e(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return $e(135),!1;let a=At(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(it(s)?typeof s=="function"?l=s(a):l=this.expressionSvc?.evaluate(s,a):l=this.setValueUsingField(e.data,o,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let c=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,a,c,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{let o=t.split("."),s=e;for(;o.length>0&&s;){let a=o.shift();o.length===0?(r=s[a]===n,r||(s[a]=n)):s=s[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){let r=n.getColId(),o=this.valueCache.getValue(i,r);if(o!==void 0)return o;let s=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,s),s}executeValueGetterWithoutValueCache(e,t,n,i){let r=At(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)}),o;return typeof e=="function"?o=e(r):o=this.expressionSvc?.evaluate(e,r),o}getValueCallback(e,t){let n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){let n=this.getValue(e,t),i=e.getColDef().keyCreator,r=n;if(i){let o=At(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(o)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&$e(121)),r}},dze={moduleName:"CommunityCore",version:ct,beans:[VHe,x5e,SVe,uNe,$Ge,O7e,MHe,lGe,lNe,kGe,FGe,KGe,cze,NHe,AHe,BHe,DVe,QGe,yVe,xVe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:b5e,destroy:w5e,isDestroyed:_5e,getGridOption:S5e,setGridOption:E5e,updateGridOptions:Dre,isModuleRegistered:D5e},dependsOn:[gVe,f7e,x7e,Qre,gGe,N7e,mGe,jGe,aze,CGe,IGe,OGe,NGe,xGe,_Ve,mVe,sze,G7e]};function Jre(e){let{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e,o=n.map((l,c)=>({value:l,relevance:uze(t,l),idx:c}));if(o.sort((l,c)=>c.relevance-l.relevance),i&&(o=o.filter(l=>l.relevance!==0)),o.length>0&&r&&r>0){let c=o[0].relevance*r;o=o.filter(d=>c-d.relevance<0)}let s=[],a=[];for(let l of o)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function uze(e,t){if(e===t)return 1e3;let n=e.length,i=t.length;if(n===0||i===0)return 0;let r=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),s=o.indexOf(r);if(s!==-1)return 980-s*2;if([...r].filter(u=>o.includes(u)).length===0)return 0;let l=Array.from({length:i+1},(u,f)=>f);for(let u=0;u<n;u++){let f=[u+1];for(let p=0;p<i;p++){let m=l[p+1]+1,v=f[p]+1,C=l[p]+(e[u]!==t[p]?1:0);i>10&&p>i/2&&(C+=1),u>0&&p>0&&e[u-1]===t[p-1]&&(C-=4),f.push(Math.min(m,v,C))}l=f}let c=Math.round(l[i]),d=Math.max(1,1e3-c*30);return Math.max(1,d)}var eoe={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},TB=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],hze={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:TB,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...TB,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...TB,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},fze={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function pze(e,t){let n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{let r=hze[i];r?r.forEach(o=>{let s=fze[o];(!s||s===t)&&n.push(o)}):n.push(i)}),n}var toe=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,gze=e=>{let t=e.map(i=>`import { ${r_(i)} } from '${eoe[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>r_(i,!0)).join(", ")} ]); 

For more info see: ${FC}/modules/`};function r_(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function mze(e,t){let n=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines"),i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>eoe[o])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function noe({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var xne=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:o,isUmd:s})=>{let a=pze(t,r),l=typeof e=="string"?e:xze[e];if(s)return mze(l,a);let c=a.filter(f=>f==="IntegratedCharts"||f==="Sparklines"),d=c.length>0?`${c.map(f=>r_(f)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(f=>r_(f)).join(", "):r_(a[0])} is not registered${n?" for gridId: "+i:""}. ${d} Check if you have registered the module:
`}
${gze(a)}`+(o?` 

${o}`:"")},bne=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,vze=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Cze={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${vze(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{let r=[],o=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],s=Jre({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&r.push(`         Did you mean: [${s.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${FC}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:xne,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${FC}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>bne("IntegratedChartsModule"),258:()=>bne("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>xne({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:VC[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${FC}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>toe(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:noe,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`};function yze(e,t){let n=Cze[e];if(!n)return[`Missing error text for error id ${e}!`];let i=n(t),o=`
See ${Jne(e,t)}`;return Array.isArray(i)?i.concat(o):[i,o]}var xze={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"};function ioe(e,t,n){if(!t)return Ci(11),{};let i=n,r;if(!i?.setThemeOnGridDiv){let s=Wi({tag:"div"});s.style.height="100%",e.appendChild(s),e=s,r=()=>e.remove()}return new wze().create(e,t,s=>{let a=new C5e(e);s.createBean(a)},void 0,n,r)}var bze=1,wze=class{create(e,t,n,i,r,o){let s=LLe.applyGlobalGridOptions(t),a=s.gridId??String(bze++),l=this.getRegisteredModules(r,a,s.rowModelType),c=this.createBeansList(s.rowModelType,l,a),d=this.createProvidedBeans(e,s,r);if(!c)return;let u={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:t5e,beanDestroyComparator:n5e,derivedBeans:[JBe],destroyCallback:o},f=new e6e(u);return this.registerModuleFeatures(f,l),n(f),f.getBean("syncSvc").start(),i&&i(f),f.getBean("gridApi")}getRegisteredModules(e,t,n){return p_(dze,void 0,!0),e?.modules?.forEach(i=>p_(i,t)),KNe(t,wne(n))}registerModuleFeatures(e,t){let n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);let o=r.apiFunctions;o&&Object.keys(o).forEach(a=>{i?.addFunction(a,o[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;Zi(i)&&(i=new W5);let r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){let i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=wne(e),o=i[r];if(!o){Qw(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!YNe()){Qw(272,void 0,toe());return}if(!e){let a=Object.entries(i).filter(([l,c])=>jB(c,n,l));if(a.length==1){let[l,c]=a[0];if(l!==r){let d={moduleName:c,rowModelType:l};Qw(275,d,noe(d));return}}}if(!jB(o,n,r)){Qw(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:o,gridScoped:D5(),gridId:n,rowModelType:r},`Missing module ${o}Module for rowModelType ${r}.`);return}let s=new Set;return t.forEach(a=>a.beans?.forEach(l=>s.add(l))),Array.from(s)}};function wne(e){return e??"clientSide"}function Qd(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function WI(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0}function roe(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var _ze=class extends Te{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,o)=>t({key:i,defaultValue:r,variableValues:o});let n=e.get("localeText");return(i,r,o)=>{let s=n&&n[i];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??r}}};function Sze(e,t=!1){let n=[],i=[],r=[],o=[],s=[],a=[],l=[],c=[],d=[],u=0;for(let f=0;f<e.length;f++){let{colId:p,sort:m,sortIndex:v,rowGroup:C,rowGroupIndex:y,aggFunc:b,pivot:w,pivotIndex:S,pinned:D,hide:R,width:T,flex:k}=e[f];d.push(p),m&&(n[v??u++]={colId:p,sort:m}),C&&(i[y??0]=p),typeof b=="string"&&r.push({colId:p,aggFunc:b}),w&&(o[S??0]=p),D&&(D==="right"?a:s).push(p),R&&l.push(p),(k!=null||T)&&c.push({colId:p,flex:k??void 0,width:T})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function Eze(e){let t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var ooe=class{wrap(e,t,n,i){let r=this.createWrapper(e,i);return t?.forEach(o=>{this.createMethod(r,o,!0)}),n?.forEach(o=>{this.createMethod(r,o,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&$e(49,{methodName:t}),null)}}},Dze={tag:"div",cls:"ag-tooltip"},Rze=class extends V5{constructor(){super(Dze)}init(e){let{value:t}=e,n=this.getGui();n.textContent=$C(t);let i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},Tze=1e3,Ize=1e3,_ne=100,Sne,nI=!1,Fze=class extends Te{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!nm()&&(nI?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},_ne):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||nI)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-Sne<Tze}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!it(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let n=t.getRowNode?.(),i=At(this.gos,z({location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0)},t.getAdditionalParams?.()??{}));this.state=2,this.tooltipInstanceCount++;let r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);zNe(this.userCompFactory,i)?.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Sne=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");let r=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:s,columnMoved:s})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Uo(this.beans),{keydown:s=>{i.contains(s?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=dr(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent(ke(z({},e),{mouseEvent:this.lastMouseEvent})):this.popupSvc?.positionPopupByComponent(ke(z({},e),{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?Ize:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){nI=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},_ne)}unlockService(){nI=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function IB(e){return e.get("tooltipShowMode")==="whenTruncated"}var kze=class extends Te{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){let n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Fze(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function Aze(e,t){if(typeof e!="number")return"";let n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var Mze=class extends Te{getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Pze=class{constructor(e){let{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&e.isRowGroupDisplayed(r.rowGroupColumn?.getColId()??""))return{value:this.processRowGroupCallback(At(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(At(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r,void 0,void 0).value,type:i,parseValue:f=>this.valueSvc.parseValue(e,r,f,this.valueSvc.getValue(e,r,void 0)),formatValue:f=>this.valueSvc.formatValue(e,r,f)??f}))??""};let o=this.gos.get("treeData"),s=this.valueSvc,a=r.level===-1&&r.footer,l=t===0&&lie(this.gos,r,this.colModel.isPivotMode()),c=e.colDef.showRowGroup===!0&&(r.group||o);if(!a&&(l||c)){let f="",p=r;for(;p&&p.level!==-1;){let{value:m,valueFormatted:v}=s.getValueForDisplay(l?void 0:e,p,!0,!0);f=` -> ${v??m??""}${f}`,p=p.parent}return{value:f,valueFormatted:f}}let{value:d,valueFormatted:u}=s.getValueForDisplay(e,r,!0,!0);return{value:d??"",valueFormatted:u}}getHeaderName(e,t){return e?e(At(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function Oze(e,t){let n=document.defaultView||window;if(!n){$e(52);return}let i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var Lze={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Ba="clientSide",oa="serverSide",wC="infinite",Nze={onGroupExpandedOrCollapsed:[Ba],refreshClientSideRowModel:[Ba],isRowDataEmpty:[Ba],forEachLeafNode:[Ba],forEachNodeAfterFilter:[Ba],forEachNodeAfterFilterAndSort:[Ba],resetRowHeights:[Ba],applyTransaction:[Ba],applyTransactionAsync:[Ba],flushAsyncTransactions:[Ba],getBestCostNodeSelection:[Ba],getServerSideSelectionState:[oa],setServerSideSelectionState:[oa],applyServerSideTransaction:[oa],applyServerSideTransactionAsync:[oa],applyServerSideRowData:[oa],retryServerSideLoads:[oa],flushServerSideAsyncTransactions:[oa],refreshServerSide:[oa],getServerSideGroupLevelState:[oa],refreshInfiniteCache:[wC],purgeInfiniteCache:[wC],getInfiniteRowCount:[wC],isLastRowIndexKnown:[wC,oa],expandAll:[Ba,oa],collapseAll:[Ba,oa],onRowHeightChanged:[Ba,oa],setRowCount:[wC,oa],getCacheBlockState:[wC,oa]},Bze={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Vze(e,t,n){let i=Bze[e];if(i){let{version:o,new:s,old:a,message:l}=i,c=a??e;return(...d)=>{let u=s?`Please use ${s} instead. `:"";return TC(`Since ${o} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}let r=Nze[e];return r?(...o)=>{let s=n.rowModel.getType();if(!r.includes(s)){IC(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,o)}:t}var Hze={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},Gze={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},zze={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},Uze=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Wze=class extends Te{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,u4e(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Lze[t]&&$e(22,{key:t})}processGridOptions(e){this.processOptions(e,oGe())}validateApiFunction(e,t){return Vze(e,t,this.beans)}missingUserComponent(e,t,n,i){let r=VC[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):$e(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){let t=Hze[e];return t?Kd(200,ke(z({},this.gos.getModuleErrorParams()),{moduleName:t,reasonOrId:e})):void 0}checkRowEvents(e){$ze.has(e)&&$e(10,{eventType:e})}validateIcon(e){if(Uze.has(e)&&$e(43,{iconName:e}),Gze[e])return;let t=zze[e];if(t){Ci(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:D5(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}$e(134,{iconName:e})}isProvidedUserComp(e){return!!VC[e]}validateColDef(e){this.processOptions(e,XHe())}processOptions(e,t){let{validations:n,deprecations:i,allProperties:r,propertyExceptions:o,objectName:s,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(i)],r,s,a);let l=new Set;Object.keys(e).forEach(d=>{let u=i[d];if(u){let{message:b,version:w}=u;l.add(`As of v${w}, ${String(d)} is deprecated. ${b??""}`)}let f=e[d];if(f==null||f===!1)return;let p=n[d];if(!p)return;let{dependencies:m,validate:v,supportedRowModels:C,expectedType:y}=p;if(y){let b=typeof f;if(b!==y){l.add(`${String(d)} should be of type '${y}' but received '${b}' (${f}).`);return}}if(C){let b=this.gridOptions.rowModelType??"clientSide";if(!C.includes(b)){l.add(`${String(d)} is not supported with the '${b}' row model. It is only valid with: ${C.join(", ")}.`);return}}if(m){let b=this.checkForRequiredDependencies(d,m,e);if(b){l.add(b);return}}if(v){let b=v(e,this.gridOptions,this.beans);if(b){l.add(b);return}}}),l.size>0&&l.forEach(d=>{TC(d)})}checkForRequiredDependencies(e,t,n){let r=Object.entries(t).filter(([o,s])=>{let a=n[o];return!s.required.includes(a)});return r.length===0?null:r.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){let o=["__ob__","__v_skip","__metadata__"],s=jze(Object.getOwnPropertyNames(e),[...o,...t,...n],n),a=Object.keys(s);for(let l of a){let c=s[l],d=`invalid ${i} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),TC(d)}if(a.length>0&&r){let l=this.beans.frameworkOverrides.getDocLink(r);TC(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return yze(e,t)}};function jze(e,t,n){let i={},r=e.filter(o=>!t.some(s=>s===o));return r.length>0&&r.forEach(o=>i[o]=Jre({inputValue:o,allSuggestions:n}).values),i}var $ze=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),qze={moduleName:"Validation",version:ct,beans:[Wze]};function soe(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Kze=class extends Te{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(o=>{let s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):i.childrenAfterFilter=i.childrenAfterGroup,soe(i)};if(this.doingTreeDataFiltering()){let i=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){let l=o.childrenAfterGroup[a],c=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(o.childrenAfterGroup[a],c):n(l,c)}n(o,s)},r=o=>i(o,!1);t.executeFromRootNode(r)}else{let i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Xze=class extends B5{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;let o=b_(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o);let s=()=>this.onColDefChanged(o);o.addManagedListeners(this.column,{colDefChanged:s}),o.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&s()}}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return At(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=tc("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new qC(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();HC(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){let{beans:t}=this;if(dr(t)===this.eGui)return;let r=Cm(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}let o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case we.UP:case we.DOWN:case we.LEFT:case we.RIGHT:if(t)return;um(e);case we.ENTER:t&&hm(this.eGui)&&e.preventDefault();break;case we.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&im(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){let r=this.lastFocusEvent,o=!!(r&&r.key===we.TAB);if(r&&o){let s=r.shiftKey;hm(this.eGui,s)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new N5(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!cl(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{beans:{colFilter:t},column:n,gos:i}=this,r=o=>{if(o?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;let s=this.comp.getFloatingFilterComp();s&&s.then(a=>{if(a){if(i.get("enableFilterHandlers")){let d=o,u="filter";d?.afterFloatingFilter?u="ui":d?.afterDataChange?u="dataChanged":o?.source==="api"&&(u="api"),this.updateFloatingFilterParams(this.userCompDetails,u);return}let l=t?.getCurrentFloatingFilterParentModel(n),c=o?ke(z({},o),{columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}):null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:r}),t?.isFilterActive(n)&&r(null)}setupWidth(e){let t=()=>{let n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let i=this.beans.colFilter,r=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!r?this.updateCompDetails(e,r,n):o.then(s=>{!s||i?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n=ke(z({},n),{model:zo(this.beans.colFilter?.model??{},this.column.getColId()),source:t})),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function Yze(e,t){let n=e.colModel.getCol(t);if(!n){Ci(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function Zze(e){e.menuSvc?.hidePopupMenu()}var Qze={moduleName:"SharedMenu",version:ct,beans:[cBe],apiFunctions:{showColumnMenu:Yze,hidePopupMenu:Zze}},Jze=0,e9e=200,t9e=class extends Te{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:n,column:i,node:r,event:o}=e,s=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1,c=()=>{let d=this.keepXYWithinBounds(n,s.top-a.top,0),u=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${u}px`,l=!0);let p=a.right-a.left-u,m;return this.gos.get("enableRtl")?(m=C(),m<0&&(m=v(),this.setAlignedStyles(n,"left")),m>p&&(m=0,this.setAlignedStyles(n,"right"))):(m=v(),m>p&&(m=C(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),{x:m,y:d};function v(){return s.right-a.left-2}function C(){return s.left-a.left-u}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,o instanceof MouseEvent?o:void 0,i,r)})}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:c,type:d}=e,u=o.getBoundingClientRect(),f=this.getParentRect();this.setAlignedTo(o,t);let p=()=>{let m=u.left-f.left;s==="right"&&(m-=t.offsetWidth-u.width);let v;return a==="over"?(v=u.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,f,e.nudgeY||0)==="under"?v=u.top-f.top+u.height:v=u.top-t.offsetHeight-(i||0)*2-f.top),{x:m,y:v}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(d,t,o,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,i){let r=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+i;return r>s?"under":o>s||o>r?"above":"under"}setAlignedStyles(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(s=>{r.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let n=this.getPopupIndex(t);if(n!==-1){let i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,o){let s=this.gos.getCallback("postProcessPopup");s&&s({column:r,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){let{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=s();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(d+=i),r&&(u+=r),n&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let c=sp(this.beans,t,()=>l(!0));setTimeout(()=>c(),e9e)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){let e=Uo(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Une(t)}keepXYWithinBounds(e,t,n){let i=n===0,r=i?"clientHeight":"clientWidth",o=i?"top":"left",s=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=Uo(this.beans),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),f=d.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),m=d===l.body,v=Math.ceil(u[s]),y=m?(i?zne:fI)(c)+c[a]:d[r];m&&(y-=Math.abs(p[o]-f[o]));let b=y-v;return Math.min(Math.max(t,0),Math.abs(b))}addPopup(e){let t=Uo(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:o,anchorToElement:s}=e;if(!t)return $e(122),{hideFunc:()=>{}};let a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);let l=this.createPopupWrapper(n,i,!!r),c=this.addEventListenersToPopup(ke(z({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(n,l,c,s),{hideFunc:c}}initialisePopupPosition(e){let n=this.getPopupParent().getBoundingClientRect();it(e.style.top)||(e.style.top=`${n.top*-1}px`),it(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){let i=this.getPopupParent(),{environment:r,gos:o}=this.beans,s=Wi({tag:"div"});return r.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||tp(e,"dialog"),HC(e,t),s.appendChild(e),i.appendChild(s),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){let t=this.beans,n=Uo(t),i=this.getPopupParent(),{wrapperEl:r,eChild:o,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:c}=e,d=!1,u=v=>{if(!r.contains(dr(t)))return;v.key===we.ESCAPE&&!ph(v)&&m({keyboardEvent:v})},f=v=>m({mouseEvent:v}),p=v=>m({touchEvent:v}),m=(v={})=>{let{mouseEvent:C,touchEvent:y,keyboardEvent:b,forceHide:w}=v;!w&&(this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:y},o)||d)||(d=!0,i.removeChild(r),n.removeEventListener("keydown",u),n.removeEventListener("mousedown",f),n.removeEventListener("touchstart",p),n.removeEventListener("contextmenu",f),this.eventSvc.removeEventListener("dragStarted",f),s&&s(C||y||b),this.removePopupFromPopupList(o))};return a&&a({hidePopup:m}),window.setTimeout(()=>{l&&n.addEventListener("keydown",u),c&&(n.addEventListener("mousedown",f),this.eventSvc.addEventListener("dragStarted",f),n.addEventListener("touchstart",p),n.addEventListener("contextmenu",f))},0),m}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Jze++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;let r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,o=i.getBoundingClientRect(),s=u=>parseInt(u.substring(0,u.length-1),10),a=(u,f)=>{let p=n[u]-o[u],m=s(r.style[u]);return{initialDiff:p,lastDiff:p,initial:m,last:m,direction:f}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new _r(u=>{d.wrapIncoming(()=>{d.setInterval(()=>{let f=t.getBoundingClientRect(),p=i.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}let v=(C,y)=>{let b=s(r.style[y]);C.last!==b&&(C.initial=b,C.last=b);let w=f[y]-p[y];if(w!=C.lastDiff){let S=this.keepXYWithinBounds(r,C.initial+C.initialDiff-w,C.direction);r.style[y]=`${S}px`,C.last=S}C.lastDiff=w};v(l,"top"),v(c,"left")},200).then(f=>{u(()=>{f!=null&&window.clearInterval(f)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;let o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){let a=this.popupList[s];if(P4e(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){let t=Uo(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){let t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;let o=[],s=[];for(let f of n)f!==r&&(f.classList.contains("ag-always-on-top")?s.push(f):o.push(f));let a=[],l=s.length,u=r.classList.contains("ag-always-on-top")||!l?[...o,...s,r]:[...o,r,...s];for(let f=0;f<=i;f++){let p=u[f];if(n[f]===u[f]||p===r)continue;p.querySelectorAll("div").forEach(v=>{v.scrollTop!==0&&a.push([v,v.scrollTop])}),f===0?t.insertAdjacentElement("afterbegin",p):u[f-1].insertAdjacentElement("afterend",p)}for(;a.length;){let f=a.pop();f[0].scrollTop=f[1]}}},jI={moduleName:"Popup",version:ct,beans:[t9e]},n9e=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function i9e(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function r9e(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function o9e(e,t){let n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function s9e(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function a9e(e){return e.filterManager?.getFilterModel()??{}}function l9e(e,t,n){let{gos:i,colModel:r,colFilter:o}=e;n&&!i.get("enableFilterHandlers")&&($e(288),n=!1);let s=r.getColDefCol(t);return s?o?.getModelForColumn(s,n)??null:null}function c9e(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function d9e(e,t){let n=e.colModel.getCol(t);if(!n){Ci(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function u9e(e,t){let n=e.colModel.getCol(t);if(!n){Ci(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function h9e(e,t){let{colModel:n,colFilter:i,gos:r}=e;if(!r.get("enableFilterHandlers")){$e(287);return}let{colId:o,action:s}=t;if(o){let a=n.getColById(o);a&&i?.updateModel(a,s)}else i?.updateAllModels(s)}var f9e={filterHandler:()=>({doesFilterPass:()=>!0})},p9e=class extends Te{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap=z({},ore),this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n,groupsChanged:i})=>{(i||n.rowDataUpdated)&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});let e=this.gos,t=z({},e.get("initialState")?.filter?.filterModel??{});this.initialModel=t,this.model=z({},t),e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}setModel(e,t="api"){let{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}let o=[],s=this.getModel(!0);if(e){let a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{let d=e[c];o.push(this.setModelOnFilterWrapper(l,d)),a.delete(c)}),a.forEach(l=>{let c=n.getColDefCol(l)||n.getCol(l);if(!c){$e(62,{colId:l});return}if(!c.isFilterAllowed()){$e(63,{colId:l});return}let d=this.getOrCreateFilterWrapper(c,!0);if(!d){$e(64,{colId:l});return}o.push(this.setModelOnFilterWrapper(d,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{o.push(this.setModelOnFilterWrapper(a,null))});_r.all(o).then(()=>{let a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,d)=>{let u=s?s[d]:null,f=a?a[d]:null;s_(u,f)||l.push(c.column)}),l.length>0&&r?.onFilterChanged({columns:l,source:t})})}getModel(e){let t={},{allColumnFilters:n,initialModel:i,beans:{colModel:r}}=this;if(n.forEach((o,s)=>{let a=this.getModelFromFilterWrapper(o);it(a)&&(t[s]=a)}),!e)for(let o of Object.keys(i)){let s=i[o];it(s)&&!n.has(o)&&r.getCol(o)?.isFilterAllowed()&&(t[o]=s)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(let i of Object.keys(t)){let r=t[i];this.state.set(i,{model:zo(this.model,i),state:r})}this.setModel(e,n)}getState(){let e=this.state;if(!e.size)return;let t={},n=!1;return e.forEach((i,r)=>{let o=i.state;o!=null&&(n=!0,t[r]=o)}),n?t:void 0}getModelFromFilterWrapper(e){let n=e.column.getColId();if(e.isHandler)return zo(this.model,n);let i=e.filter;return i?typeof i.getModel!="function"?($e(66),null):i.getModel():zo(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){let e=c=>c?c.isFilterActive?c.isFilterActive():($e(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!zB(n),r=c=>{if(!c.isPrimary())return!0;let u=!t.isPivotActive();return!c.isValueActive()||!u?!1:t.isPivotMode()?!0:i},o=[],s=[],a=(c,d,u)=>{d&&(r(c)?o.push(u):s.push(u))},l=[];return this.allColumnFilters.forEach(c=>{let d=c.column,u=d.getColId();if(c.isHandler)l.push(_r.resolve().then(()=>{a(d,this.isHandlerActive(d),{colId:u,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{let f=Kf(c);f&&l.push(f.then(p=>{a(d,e(p),{colId:u,isHandler:!1,comp:p})}))}}),_r.all(l).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){let n=[];return this.allColumnFilters.forEach(i=>{let r=i.column;if(i.isHandler)n.push(_r.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{let o=Kf(i);o&&n.push(o.then(s=>{this.setColFilterActive(r,s.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),_r.all(n)}doFiltersPass(e,t,n){let{data:i,aggData:r}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:i,a=this.model;for(let l=0;l<o.length;l++){let c=o[l],{colId:d,isHandler:u}=c;if(d!==t)if(u){let{handler:f,handlerParams:p}=c;if(!f.doesFilterPass({node:e,data:s,model:zo(a,d),handlerParams:p}))return!1}else{let f=c.comp;if(typeof f.doesFilterPass!="function"){Ci(91);continue}if(!f.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){let t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){let{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{let{column:o,isHandler:s}=r;i!==o.getColId()&&(s&&r.handler.onAnyFilterChanged?.(),Kf(r,s)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){let t=[];this.allColumnFilters.forEach(n=>{let i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();let r=Kf(n,i);r&&t.push(r.then(o=>{o.onNewRowsLoaded?.()}))}),_r.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){let{filterValueSvc:n,colModel:i}=this.beans;return(r,o)=>{let s=o?i.getCol(o):e;return s?n.getValue(s,r,t):void 0}}isFilterActive(e){let t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);let n=t?.filter;return n?n.isFilterActive():zo(this.initialModel,e.getColId())!=null}isHandlerActive(e){let t=it(zo(this.model,e.getColId()));if(t)return t;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){let t=this.getOrCreateFilterWrapper(e,!0);return t?Kf(t):null}getFilterUiForDisplay(e){let t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;let n=Kf(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){let n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return I4e(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":s8e(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,r,o){let s=()=>{let c=this.createFilterCompParams(e,r,o),d=i(c,r);return BNe(this.beans.userCompFactory,t,d,n)},a=s();return a?{compDetails:a,createFilterUi:c=>(c?s():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){let r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));let{handler:o,handlerParams:s,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,i,!!o,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:o,handlerGenerator:a,handlerParams:s};let{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||$e(281,{colId:e.getColId()})),{compDetails:c,handler:o,handlerGenerator:a,handlerParams:s,createFilterUi:d}}createBaseFilterParams(e,t){let{filterManager:n,rowModel:i}=this.beans;return At(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>n?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){let r=this.filterChangedCallbackFactory(e),o=this.createBaseFilterParams(e,i);if(o.filterChangedCallback=r,o.filterModifiedCallback=i?()=>{}:s=>this.filterModified(e,s),t){let s=o,a=e.getColId(),l=zo(this.model,a);s.model=l,s.state=this.state.get(a)??{model:l},s.onModelChange=(c,d)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{r(ke(z({},d),{source:"columnFilter"}))})},s.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},s.onAction=(c,d,u)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:u})},s.getHandler=()=>this.getHandler(e,!0),s.onUiChange=c=>this.filterUiChanged(e,c),s.source=n}return o}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){let i=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),r}createFilterWrapper(e){let{compDetails:t,handler:n,handlerGenerator:i,handlerParams:r,createFilterUi:o}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),s=e.getColId();if(n)return delete this.initialModel[s],n.init?.(ke(z({},r),{source:"init",model:zo(this.model,s)})),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:r,filterUi:this.createFilterUiForHandler(t,o)};if(o){let a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,o,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){let{gos:n,frameworkOverrides:i,registry:r}=this.beans,o,s=u=>{let f=u.filter;if(Mie(f)){let p=f.handler;return p||(o=f.doesFilterPass,o?()=>({doesFilterPass:o}):void 0)}return typeof f=="string"?f:void 0},a=n.get("enableFilterHandlers")?s(e):void 0,l=u=>()=>this.createBean(r.createDynamicBean(u,!0)),c,d;if(typeof a=="string"){let u=n.get("filterHandlers")?.[a];u!=null?c=u:$6e.has(a)&&(c=l(a),d=a)}else c=a;if(!c){let u,{compName:f,jsComp:p,fwComp:m}=Lie(i,e);f?u=f:p==null&&m==null&&e.filter===!0&&(u=t),d=this.handlerMap[u],d&&(c=l(d))}if(c)return{filterHandler:c,handlerNameOrCallback:o??d}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){let c=this.gos;if(!c.get("enableFilterHandlers"))return;Eo(c)&&$e(277,{colId:e.getColId()}),i=f9e}let r=dB(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:o,filterHandler:s}=i,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,s,r);return{handler:a,handlerParams:l,handlerGenerator:o??s}}createHandlerFromFunc(e,t,n){let i=e.getColDef(),r=t(At(this.gos,{column:e,colDef:i})),o=this.createHandlerParams(e,n);return{handler:r,handlerParams:o}}createHandlerParams(e,t){let n=e.getColDef(),i=e.getColId(),r=this.filterChangedCallbackFactory(e);return At(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:o=>this.beans.filterManager?.doesRowPassOtherFilters(i,o)??!0,onModelChange:(o,s)=>{this.updateStoredModel(i,o),this.refreshHandlerAndUi(e,o,"handler").then(()=>{r(ke(z({},s),{source:"columnFilter"}))})},filterParams:t})}onColumnsChanged(){let e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((o,s)=>{let a;o.column.isPrimary()?a=t.getColDefCol(s):a=t.getCol(s),!(a&&a===o.column)&&(e.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(s))});let r=i&&e.every(o=>i.isGroupFilter(o));e.length>0&&!r&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){let{userCompFactory:n,frameworkOverrides:i,selectableFilter:r}=this.beans,o=f=>{let p=this.getOrCreateFilterUi(e);p?.then(m=>{f(f_(m))})},s=e.getColDef(),a=r?.isSelectable(s)?r.getFilterDef(e,s):s,l=h8e(i,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),d=dB(n,a,this.createFilterCompParams(e,c,"init",!0)),u=At(this.gos,{column:e,filterParams:d,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:o,showParentFilter:t});if(c){let f=u,p=e.getColId(),m=this.filterChangedCallbackFactory(e);f.onUiChange=v=>this.floatingFilterUiChanged(e,v),f.model=zo(this.model,p),f.onModelChange=(v,C)=>{this.updateStoredModel(p,v),this.refreshHandlerAndUi(e,v,"floating",!0).then(()=>{m(ke(z({},C),{source:"columnFilter"}))})},f.getHandler=()=>this.getHandler(e,!0),f.source="init"}return UNe(n,s,u,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){let r=t.getColId();delete this.initialModel[r],this.state.delete(r);let o=e.filterUi,s=this.createFilterUiForHandler(n,i);e.filterUi=s,o?.created&&o.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){let n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1,{column:i,isHandler:r,filterUi:o}=e,s=i.getColId();r&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));let a=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(o){if(o.created)return o.promise.then(l=>(n=r?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return _r.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){let n=this.allColumnFilters.get(e);if(!n)return;let i=this.beans,r=n.column,o=r.getColDef(),s=r.isFilterAllowed(),a=this.getDefaultFilter(r),l=i.selectableFilter,c=l?.isSelectable(o)?l.getFilterDef(r,o):o,d=s?this.createHandlerFunc(c,this.getDefaultFilter(r)):void 0,u=!!d,f=n.isHandler;if(f!=u){this.destroyFilter(r,"paramsUpdated");return}let{compDetails:p,createFilterUi:m}=(s?this.createFilterComp(r,c,a,C=>C,u,"colDef"):null)??{compDetails:null,createFilterUi:null},v=p?.params??dB(i.userCompFactory,c,this.createFilterCompParams(r,u,"colDef"));if(f){let C=d?.handlerNameOrCallback??d?.filterHandler,y=zo(this.model,e);if(n.handlerGenerator!=C){let b=n.handler,{handler:w,handlerParams:S}=this.createHandlerFromFunc(r,d.filterHandler,v);n.handler=w,n.handlerParams=S,n.handlerGenerator=C,delete this.model[e],w.init?.(ke(z({},S),{source:"init",model:null})),this.destroyBean(b),y!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{let b=this.createHandlerParams(r,p?.params);n.handlerParams=b,n.handler.refresh?.(ke(z({},b),{source:"colDef",model:y}))}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,p)||!n.filterUi||!p){this.destroyFilterUi(n,r,p,m);return}n.filterUi.filterParams=v,Kf(n,f)?.then(C=>{(C?.refresh?C.refresh(v):!0)===!1?this.destroyFilterUi(n,r,p,m):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:v})})}refreshHandlerAndUi(e,t,n,i){let r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),_r.resolve();if(!r.isHandler)return _r.resolve();let{filterUi:o,handler:s,handlerParams:a}=r;return q6e(()=>{if(o){let{created:l,filterParams:c}=o;if(l)return o.promise.then(d=>d?{filter:d,filterParams:c}:void 0);o.refreshed=!0}return _r.resolve(void 0)},s,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){let n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){let t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);let n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(r=>{i(f_(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){let{state:i,model:r}=this,o=e.getColId(),s=i.get(o);return s?s.model??null:zo(r,o)}let n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{},i=new Promise(r=>{n=r});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:zo(this.model,e)}}setModelForColumnLegacy(e,t){let n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):_r.resolve()}setColDefPropsForDataType(e,t,n){let i=e.filter,r=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof r!="string")return;let o,s,a=this.beans,{filterParams:l,filterValueGetter:c}=e;r==="agMultiColumnFilter"?{filterParams:o,filterValueGetter:s}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:o,filterValueGetter:s}=i8e(r,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=o,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new _r(i=>{if(e.isHandler){let o=e.column,s=o.getColId(),a=this.model[s];if(this.updateStoredModel(s,t),n&&t===a){i();return}this.refreshHandlerAndUi(o,t,"api").then(()=>i());return}let r=Kf(e);if(r){r.then(o=>{if(typeof o?.setModel!="function"){$e(65),i();return}(o.setModel(t)||_r.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){it(t)?this.model[e]=t:delete this.model[e];let n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent(z({type:"filterModified",column:e,filterInstance:n},t))})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(z({type:"filterUiChanged",column:e},t))}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(z({type:"floatingFilterUiChanged",column:e},t))}updateModel(e,t,n){let i=e.getColId(),r=()=>this.cachedFilter(e)?.filterUi;zte(t,r,()=>zo(this.model,i),()=>this.state.get(i),o=>this.updateState(e,o),o=>r()?.filterParams?.onModelChange(o,n))}updateAllModels(e,t){let n=[];this.allColumnFilters.forEach((i,r)=>{let o=this.beans.colModel.getColDefCol(r);o&&zte(e,()=>i.filterUi,()=>zo(this.model,r),()=>this.state.get(r),s=>this.updateState(o,s),s=>{this.updateStoredModel(r,s),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),n.push(this.refreshHandlerAndUi(o,s,"ui"))})}),n.length&&_r.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){let t=e.getColId();are(()=>this.cachedFilter(e)?.filterUi,()=>zo(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){let{state:e,model:t,activeFilterComps:n}=this;for(let r of n)if(r.source==="COLUMN_MENU")return!1;let i=!1;for(let r of e.keys()){let o=e.get(r);if(o.valid===!1)return!1;(o.model??null)!==zo(t,r)&&(i=!0)}return i}hasUnappliedModel(e){let{model:t,state:n}=this;return(n.get(e)?.model??null)!==zo(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;let n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function g9e(e){return!!e.filterManager?.isAnyFilterPresent()}function m9e(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var v9e=class extends Te{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){zB(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):_r.resolve()).then(()=>{let r={source:t,type:"filterChanged",columns:i};n&&aa(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!zB(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){$e(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},C9e=class extends Te{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,cl(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,o="left",s=cl(this.gos);!s&&this.gos.get("enableRtl")&&(r=1,o="right");let a=s?void 0:4*r,l=s?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},n,t,s,i)}showPopup(e,t,n,i,r,o){let s=e?this.createBean(new J6e(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){Ci(57);return}let a=Wi({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:v=>this.trapFocusWithin(v,a)}),a.appendChild(s?.getGui());let l,c=()=>s?.afterGuiDetached(),d=F4e(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,u=v=>{Zte(e,!1,"contextMenu");let C=v instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),C&&i&&Vc(i)&&Zie(i)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),o?.()},f=this.getLocaleTextFunc(),p=r&&n!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),m=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:p});m&&(this.hidePopup=l=m.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:n,hidePopup:l})}),Zte(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==we.TAB||e.defaultPrevented||Cm(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),hm(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},y9e=class extends Te{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;let i=e.getColDef(),{selectableFilter:r,valueSvc:o}=this.beans,s=n??r?.getFilterValueGetter(e.getColId())??i.filterValueGetter;return s?this.executeFilterValueGetter(s,t.data,e,t,i):o.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){let{expressionSvc:o,valueSvc:s}=this.beans,a=At(this.gos,{data:t,node:i,column:n,colDef:r,getValue:s.getValueCallback.bind(s,i)});return typeof e=="function"?e(a):o?.evaluate(e,a)}},x9e={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},b9e=class extends Wn{constructor(){super(x9e,[zI]),this.eFloatingFilterText=st}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){let n=e,i=n.getHandler();if(i.getModelAsString){let r=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},Y5=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){let n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){let{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;let n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(o=>t[o]!=null)?!0:($e(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){let{filterOptions:t}=this;if(e)return e;if(t.length>=1){let n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;$e(73)}else $e(74)}getCustomOption(e){return this.customFilterOptions[e]}};function o_(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function OI(e){return e==null||typeof e=="string"&&e.trim().length===0}function w9e(e){return e==="AND"||e==="OR"?e:"AND"}function _9e(e,t,n){if(e==null)return;let{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function S9e(e,t){let n=e.length;return n>t&&(e.splice(t),$e(78),n=t),n}function y_(e,t){let n=t.getCustomOption(e);if(n){let{numberOfInputs:r}=n;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var Z5=class extends d8e{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);let t=new Y5;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=w9e(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();let t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{let i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){let n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let o;if(n){let s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{let s=e,a=t;o=s.operator===a.operator&&mm(s.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),_r.resolve();if(e.operator){let i=e,r=i.conditions;r==null&&(r=[],$e(77));let o=S9e(r,this.maxNumConditions),s=this.getNumConditions();if(o<s)this.removeConditionsAndOperators(o);else if(o>s)for(let l=s;l<o;l++)this.createJoinOperatorPanel(),this.createOption();let a=i.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),r.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),_r.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&($e(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&($e(80),n=1),n>t&&($e(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){let e=this.getGui(),t=this.createManagedBean(new U5);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());let n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);let i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){let e=Wi({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);let t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);let i=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){let i=this.createManagedBean(new VBe);e.push(i);let r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);let i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{let o=this.isConditionDisabled(r,e);i.setDisabled(o||this.filterListOptions.length<=1),r===1&&(l_(this.eJoinPanels[0],o),this.eJoinAnds[0].setDisabled(o),this.eJoinOrs[0].setDisabled(o))}),this.eConditionBodies.forEach((i,r)=>{or(i,this.isConditionBodyVisible(r))});let n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOrs.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,o,s)=>{this.setElementDisplayed(i,r<s),this.setElementDisabled(i,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:n,eConditionBodies:i,eJoinPanels:r,eJoinAnds:o,eJoinOrs:s}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);let a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,n){o_(e,t,n).forEach(r=>sa(r))}removeComponents(e,t,n){o_(e,t,n).forEach(r=>{sa(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){let n=this.getInputs(0)[0];n instanceof tm&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();let e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1,r=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{let a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),i=!0,l&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){let i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof tm))return;let o=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",s=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,i)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof tm&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Wn&&or(e.getGui(),t)}setElementDisabled(e,t){e instanceof Wn&&l_(e.getGui(),t)}attachElementOnChange(e,t){e instanceof tm&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){let i=y_(t,this.optionsFactory),r=this.getInputs(e);for(let o=0;o<r.length;o++){let s=r[o];s!=null&&n(s,o,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return y_(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){let n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){let e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,r,o)=>{o===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},aoe=class{constructor(e,t,n,i,r,o){this.alive=!0,this.context=e,this.eParent=r;let s=VNe(t,n,i);s&&s.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),a?.afterGuiAttached?.();let{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),o?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){or(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Q5=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function loe(e,t){let{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&Ha(n)||null,i&&Ha(i)||null].slice(0,y_(r,t))}var Ene=1e3,Dne=1/0,E9e=class extends Z5{constructor(){super("dateFilter",loe,Q5),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Ene,this.maxValidYear=Dne,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);let t=(l,c)=>{let d=e[l];if(d!=null)if(isNaN(d))$e(82,{param:l});else return d==null?c:Number(d);return c},n=t("minValidYear",Ene),i=t("maxValidYear",Dne);this.minValidYear=n,this.maxValidYear=i,n>i&&$e(83);let{minValidDate:r,maxValidDate:o}=e,s=r instanceof Date?r:Ha(r);this.minValidDate=s;let a=o instanceof Date?o:Ha(o);this.maxValidDate=a,s&&a&&s>a&&$e(84)}createDateCompWrapper(e){let{beans:{userCompFactory:t,context:n,gos:i},params:r}=this,o=new aoe(n,t,r.colDef,At(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){let e=Wi({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){let r=Wi({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),o_(this.eConditionPanelsFrom,e,t),o_(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){o_(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,o)=>{r!==e||!t||i>=o||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=ul(i[0])),i.length>1&&(n.dateTo=ul(i[1])),z({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},n)}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},coe=class extends Te{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){let t=e.filterParams,n=new Y5;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){let t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){let t=e.model;if(t==null)return!0;let{operator:n}=t,i=[];if(n){let s=t;i.push(...s.conditions??[])}else i.push(t);let r=n&&n==="OR"?"some":"every",o=this.params.getValue(e.node);return i[r](s=>this.individualConditionPasses(e,s,o))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){let{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let o=u8e(t)?t.conditions:[t],s=n?.map(d=>typeof d=="string"?d:d.displayKey)??this.defaultOptions;if(!(!o||o.every(d=>s.find(u=>u===d.type)!==void 0))){this.params=ke(z({},e),{model:null}),e.onModelChange(null);return}let l=!1,c=this.filterType;if((o&&!o.every(d=>d.filterType===c)||t.filterType!==c)&&(o=o.map(d=>ke(z({},d),{filterType:c})),l=!0),typeof i=="number"&&o&&o.length>i&&(o=o.slice(0,i),l=!0),l){let d=o.length>1?ke(z({},t),{filterType:c,conditions:o}):ke(z({},o[0]),{filterType:c});this.params=ke(z({},e),{model:d}),e.onModelChange(d);return}}individualConditionPasses(e,t,n){let i=this.optionsFactory,r=this.mapValuesFromModel(t,i),o=i.getCustomOption(t.type),s=_9e(o,r,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}},doe=class extends coe{evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:o}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){let i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";let r=this.comparator(),o=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let s=r(e[1],t);return this.params.filterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return OI(t);case"notBlank":return!OI(t);default:return $e(76,{filterModelType:i}),!0}}},uoe={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},D9e={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},J5=class extends Te{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){let n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?Qf(this,"filterSummaryInactive"):null;if(e.operator!=null){let o=e,a=(o.conditions??[]).map(c=>this.getModelAsString(c,t)),l=o.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Qf(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?Qf(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{let o=e,s=this.optionsFactory.getCustomOption(o.type),{displayKey:a,displayName:l,numberOfInputs:c}=s||{};return a&&l&&c===0?n(a,l):this.conditionToString(o,i,o.type==="inRange"||c===2,a,l)}}}updateParams(e){let{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,r,o){let s,a=this.getTypeKey(e);return a&&(s=Qf(this,a)),r&&o&&(s=this.getLocaleTextFunc()(r,o)),s!=null?t?`${s} ${Qf(this,"filterSummaryInRangeValues",[n(),i()])}`:`${s} ${n()}`:null}getTypeKey(e){let t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e)}},hoe=class extends J5{constructor(e,t){super(e,t,n=>{let{dataTypeSvc:i,valueSvc:r}=this.beans,o=t.column,a=i?.getDateFormatterFunction(o)?.(n??void 0);return r.formatValue(o,null,a)}),this.filterTypeKeys=uoe}conditionToString(e,t,n,i,r){let{type:o}=e,s=Ha(e.dateFrom),a=Ha(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):f=>ZB(f,l),d=()=>s!==null?c(s):"null",u=()=>a!==null?c(a):"null";if(t){let f=this.conditionForToolPanel(o,n,d,u,i,r);if(f!=null)return f}return n?`${d()}-${u()}`:s!=null?c(s):`${o}`}};function R9e(e,t){let n=t;return n<e?-1:n>e?1:0}var T9e=class extends doe{constructor(){super(loe,Q5),this.filterType="date",this.FilterModelFormatterClass=hoe}comparator(){return this.params.filterParams.comparator??R9e}isValid(e){let t=this.params.filterParams.isValidDate;return!t||t(e)}},foe=class extends Wn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;let t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){let n=e;this.onModelUpdated(n.model)}}setParams(e){let t=new Y5;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;let t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){let{source:i,model:r}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(r)}}updateParams(e){let t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},I9e={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},F9e=class extends foe{constructor(){super(I9e,[zI]),this.eReadOnlyText=st,this.eDateWrapper=st,this.FilterModelFormatterClass=hoe,this.filterType="date",this.defaultOptions=Q5}setParams(e){super.setParams(e),this.createDateComponent();let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let n=e?Ha(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){or(this.eDateWrapper,e),or(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){let e=this.dateComp.getDate();if(this.reactive){let t=this.params;t.onUiChange();let n=t.model,i=ul(e),r=i==null?null:ke(z({},n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption}),{dateFrom:i});t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){let{filterParams:e}=this.params,t=I5(e,this.defaultDebounceMs);return At(this.gos,{onDateChanged:ls(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new aoe(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},k9e={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},A9e=class extends Wn{constructor(){super(k9e,[zI]),this.eDateInput=st,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){let t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&pm();let{minValidYear:i,maxValidYear:r,minValidDate:o,maxValidDate:s,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,u=l??d?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?u?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",o&&i&&$e(85),s&&r&&$e(86),o&&s){let[f,p]=[o,s].map(m=>m instanceof Date?m:Ha(m));f&&p&&f.getTime()>p.getTime()&&$e(87)}o?o instanceof Date?t.min=ZB(o):t.min=o:i&&(t.min=`${i}-01-01`),s?s instanceof Date?t.max=ZB(s):t.max=s:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ha(this.eDateInput.getValue())}setDate(e){let t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(ul(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},e7=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function u5(e){let{allowedCharPattern:t}=e??{};return t??null}function h5(e){return e==null||isNaN(e)?null:e}function poe(e,t){let{filter:n,filterTo:i,type:r}=e||{};return[h5(n),h5(i)].slice(0,y_(r,t))}var M9e=class extends Z5{constructor(){super("numberFilter",poe,e7),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){let{numberFormatter:i}=this.params,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createEValue(){let e=u5(this.params),t=Wi({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){let r=this.createManagedBean(i?new ym({allowedCharPattern:i}):new z5);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){let n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(h5(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=fh(e);t!=null&&t.trim()===""&&(t=null);let n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},goe=class extends J5{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=uoe}conditionToString(e,t,n,i,r){let{filter:o,filterTo:s,type:a}=e,l=this.formatValue.bind(this);if(t){let c=this.conditionForToolPanel(a,n,()=>l(o),()=>l(s),i,r);if(c!=null)return c}return n?`${l(o)}-${l(s)}`:o!=null?l(o):`${a}`}},P9e=class extends doe{constructor(){super(poe,e7),this.filterType="number",this.FilterModelFormatterClass=goe}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},moe=class extends Te{constructor(e){super(),this.params=e,this.eInput=st,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new ym(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){let{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function voe(e){let t=e?.trim();return t===""?e:t}function Coe(e,t){let{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,y_(r,t))}var O9e={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},yoe=class extends foe{constructor(){super(...arguments),this.eFloatingFilterInputContainer=st,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(O9e)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){let t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=HI(e.filterParams),!r){let o=I5(e.filterParams,i),s=ls(this,this.syncUpWithParentFilter.bind(this),o);n.setValueChangedListener(s)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,n=t.getValue();Bs(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){let t=e.key===we.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;let{inputSvc:i,params:r,lastType:o}=this,s=i.getValue();if(r.filterParams.trimInput&&(s=voe(s),i.setValue(s,!0)),n){let a=r,l=a.model,c=this.convertValue(s),d=c==null?null:ke(z({},l??{filterType:this.filterType,type:o??this.optionsFactory.defaultOption}),{filter:c});a.onModelChange(d,{afterFloatingFilter:!0})}else r.parentFilterInstance(a=>{a?.onFloatingFilterChanged(o||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},L9e=class extends Te{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new z5),this.eTextInput=this.createManagedBean(new ym),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},N9e=class extends yoe{constructor(){super(...arguments),this.FilterModelFormatterClass=goe,this.filterType="number",this.defaultOptions=e7}updateParams(e){u5(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=u5(e.filterParams),this.allowedCharPattern?this.createManagedBean(new moe({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new L9e)}convertValue(e){return e?Number(e):null}},t7=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],B9e=class extends Z5{constructor(){super("textFilter",Coe,t7),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let n=[];return this.forEachPositionInput(e,(i,r,o,s)=>{if(r<s){let a=fh(i.getValue());t&&this.params.trimInput&&(a=voe(a)??null,i.setValue(a,!0)),n.push(a)}}),n}createEValue(){let e=Wi({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){let i=this.createManagedBean(new ym);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){let n=o=>this.removeComponents(o,e,t),{eValuesFrom:i,eValuesTo:r}=this;n(i),n(r)}},xoe=class extends J5{constructor(){super(...arguments),this.filterTypeKeys=D9e}conditionToString(e,t,n,i,r){let{filter:o,filterTo:s,type:a}=e;if(t){let l=d=>()=>Qf(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(a,n,l(o),l(s),i,r);if(c!=null)return c}return n?`${o}-${s}`:o!=null?`${o}`:`${a}`}},V9e=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{let i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},H9e=e=>e,G9e=e=>e==null?null:e.toString().toLowerCase(),z9e=class extends coe{constructor(){super(Coe,t7),this.filterType="text",this.FilterModelFormatterClass=xoe}updateParams(e){super.updateParams(e),this.matcher=e.textMatcher??V9e,this.formatter=e.textFormatter??(e.caseSensitive?H9e:G9e)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){let r=e.map(f=>this.formatter(f))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(n.type==="blank")return OI(t);if(n.type==="notBlank")return!OI(t);let u={api:s,colDef:a,column:l,context:c,node:i.node,data:i.data,filterOption:n.type,value:o,textFormatter:d};return r.some(f=>this.matcher(ke(z({},u),{filterText:f})))}},U9e=class extends yoe{constructor(){super(...arguments),this.FilterModelFormatterClass=xoe,this.filterType="text",this.defaultOptions=t7}createFloatingFilterInputService(){return this.createManagedBean(new moe)}};function W9e(e){return!!e.quickFilter?.isFilterPresent()}function j9e(e){return e.quickFilter?.getText()}function $9e(e){e.quickFilter?.resetCache()}var q9e=class extends Te{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),o=e?.getColumns(),s=t.getColDefCols(),a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return it(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){$e(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{let i=this.getTextForColumn(n,e);return it(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);let{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t),i=e.getColDef();if(i.getQuickFilterText){let r=At(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return it(n)?n.toString().toUpperCase():null}getAggText(e){let t=[];return this.colsToUse.forEach(n=>{let i=this.getTextForColumn(n,e);it(i)&&t.push(i)}),t.join(`
`)}},K9e={moduleName:"ClientSideRowModelFilter",version:ct,rowModels:["clientSide"],beans:[Kze]},n7={moduleName:"FilterCore",version:ct,beans:[v9e],apiFunctions:{isAnyFilterPresent:g9e,onFilterChanged:m9e},css:[n9e],dependsOn:[K9e]},boe={moduleName:"FilterValue",version:ct,beans:[y9e]},$I={moduleName:"ColumnFilter",version:ct,beans:[p9e,C9e],dynamicBeans:{headerFilterCellCtrl:Xze},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:i9e,getColumnFilterInstance:r9e,destroyFilter:o9e,setFilterModel:s9e,getFilterModel:a9e,getColumnFilterModel:l9e,setColumnFilterModel:c9e,showColumnFilter:d9e,getColumnFilterHandler:u9e,doFilterAction:h9e},dependsOn:[n7,jI,boe,Qze]},X9e={moduleName:"CustomFilter",version:ct,userComponents:{agReadOnlyFloatingFilter:b9e},dependsOn:[$I]},Y9e={moduleName:"TextFilter",version:ct,dependsOn:[$I],userComponents:{agTextColumnFilter:{classImp:B9e,params:{useForm:!0}},agTextColumnFloatingFilter:U9e},dynamicBeans:{agTextColumnFilterHandler:z9e}},Z9e={moduleName:"NumberFilter",version:ct,dependsOn:[$I],userComponents:{agNumberColumnFilter:{classImp:M9e,params:{useForm:!0}},agNumberColumnFloatingFilter:N9e},dynamicBeans:{agNumberColumnFilterHandler:P9e}},Q9e={moduleName:"DateFilter",version:ct,dependsOn:[$I],userComponents:{agDateColumnFilter:{classImp:E9e,params:{useForm:!0}},agDateInput:A9e,agDateColumnFloatingFilter:F9e},dynamicBeans:{agDateColumnFilterHandler:T9e}},J9e={moduleName:"QuickFilterCore",version:ct,rowModels:["clientSide"],beans:[q9e],dependsOn:[n7,boe]},eUe={moduleName:"QuickFilter",version:ct,apiFunctions:{isQuickFilterPresent:W9e,getQuickFilter:j9e,resetQuickFilter:$9e},dependsOn:[J9e]},tUe={moduleName:"ExternalFilter",version:ct,dependsOn:[n7]},nUe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",FB=(e,t,n)=>{let{editModelSvc:i}=e,r=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,o=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,s=r||o;return s&&s.length?s.join(n("tooltipValidationErrorSeparator",". ")):void 0},iUe=class extends Te{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);let r=IB(this.gos),{column:o,eGui:s}=t,a=o.getColDef();!i&&r&&!a.headerComponent&&(i=oI(()=>s.querySelector(".ag-header-cell-text")));let l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>n??o.getColDef().headerTooltip,shouldDisplayTooltip:i},c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);let r=IB(this.gos),{column:o,eGui:s}=t,a=o.getColGroupDef();!i&&r&&!a?.headerGroupComponent&&(i=oI(()=>s.querySelector(".ag-header-group-text")));let l={getColumn:()=>o,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);let c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){let{beans:i}=this,{gos:r,editSvc:o}=i,{column:s,rowNode:a}=e,l="cell",c=()=>{let p=!!!o?.isEditing(e)&&FB(i,e,this.getLocaleTextFunc());if(p)return l="cellEditor",p;l="cell";let m=s.getColDef(),v=a.data;if(m.tooltipField&&it(v))return e_(v,m.tooltipField,s.isTooltipFieldContainsDots());let C=m.tooltipValueGetter;return C?C(At(r,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=IB(r);n||(d&&!e.isCellRenderer()?n=()=>{let f=!!o?.isEditing(e);if(!f&&FB(i,e,this.getLocaleTextFunc()))return!0;if(!s.isTooltipEnabled())return!1;let v=oI(()=>{let C=e.eGui;return C.children.length===0?C:C.querySelector(".ag-cell-value")});return!f&&v()}:n=()=>!o?.isEditing(e));let u={getColumn:()=>s,getColDef:()=>s.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(u,i)}setupFullWidthRowTooltip(e,t,n,i){let r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},o=this.beans,s=o.context;e&&t.destroyBean(e,s);let a=this.createTooltipFeature(r,o);if(a)return t.createBean(a,s)}setupCellEditorTooltip(e,t){let{beans:n}=this,{context:i}=n,r=t.getValidationElement?.();if(!r)return;let o={getGui:()=>r,getTooltipValue:()=>FB(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{let{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),d=!!l&&l.size>0,u=!!c&&c.size>0;return d||u}},s=this.createTooltipFeature(o,n);if(s)return e.createBean(s,i)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=it(t.tooltipField)||it(t.tooltipValueGetter)||it(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},woe={moduleName:"Tooltip",version:ct,beans:[iUe],dynamicBeans:{tooltipFeature:kze},userComponents:{agTooltipComponent:Rze},dependsOn:[jI],css:[nUe]},EC=class{constructor(e){this.cellValueChanges=e}},kB=class extends EC{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},rUe=10,Rne=class{constructor(e){this.actionStack=[],this.maxStackSize=e||rUe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},oUe=class extends Te{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&Uie(this.activeCellEdit,t),i=this.activeRowEdit!==null&&r6e(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;let{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:c}=e,d={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new Rne(n),this.redoStack=new Rne(n),this.addListeners();let i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});let r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});let r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;let o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,s=>s[i],r),o instanceof kB?this.processRange(o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{let{rowIndex:r,rowPinned:o,columnId:s}=i,a={rowIndex:r,rowPinned:o},l=rp(this.beans,a);l.displayed&&l.setDataValue(s,t(i),n)})}processRange(e){let t,n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;let o=i.startRow,s=i.endRow;r===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},o=rp(this.beans,r),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){let{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:o,rangeSvc:s}=this.beans,a=r.getCol(n);if(!a)return;let{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);let c={rowIndex:t,column:a,rowPinned:i};o.setFocusedCell(ke(z({},c),{forceBrowserFocus:!0})),s?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new EC(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let n=new EC(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new EC(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new kB(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:n}=this.beans;t&&mh(n)?e=new kB(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new EC(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>{this.batchEditing=!0},batchEditingStopped:e=>{if(!this.batchEditing||(this.batchEditing=!1,e.changes?.length===0))return;let t=new EC(e.changes??[]);this.pushActionsToUndoStack(t),this.cellValueChanges=[]}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},sUe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",aUe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},lUe=class extends GI{constructor(){super(aUe,[G5]),this.eEditor=st}initialiseEditor(e){let t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),n=g5(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},qI=class extends GI{constructor(e){super(),this.cellEditorInput=e,this.eEditor=st}initialiseEditor(e){let{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());let{eEditor:n}=this,{cellStartedEdit:i,eventKey:r,suppressPreventDefault:o}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let s,a=!0;i?(this.focusAfterAttached=!0,r===we.BACKSPACE||r===we.DELETE?s="":r&&r.length===1?o?a=!1:s=r:(s=t.getStartValue(),r!==we.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),a&&s!=null&&n.setStartValue(s),this.addGuiEventListener("keydown",l=>{let{key:c}=l;(c===we.PAGE_UP||c===we.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;pm()||t.getFocusableElement().focus();let n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},cUe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},dUe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return cUe}getAgComponents(){return[_re]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:i,step:r,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:r,getValidationErrors:o}=n,s=[],a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){let l=i instanceof Date?i:new Date(i);if(t<l){let c=l.toLocaleDateString();s.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(r){let l=r instanceof Date?r:new Date(r);if(t>l){let c=l.toLocaleDateString();s.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return s.length||(s=null),o?o({value:t,cellEditorParams:n,internalErrors:s}):s}getValue(){let{eEditor:e,params:t}=this,n=e.getDate();return!it(n)&&!it(t.value)?t.value:n??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return ul(e,this.includeTime??!1)}},uUe=class extends qI{constructor(){super(new dUe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},hUe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},fUe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return hUe}getAgComponents(){return[_re]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:i,step:r,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:r,max:o,getValidationErrors:s}=t,a=[];if(i){let l=new Date(i),c=this.getLocaleTextFunc();if(r){let d=new Date(r);if(l<d){let u=d.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${u}`,[u]))}}if(o){let d=new Date(o);if(l>d){let u=d.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${u}`,[u]))}}}return a.length||(a=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){let{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!it(n)&&!it(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return ul(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ha(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ul(e??null,this.includeTime??!1)??void 0}},pUe=class extends qI{constructor(){super(new fUe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},gUe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},mUe=class extends GI{constructor(){super(gUe,[GBe]),this.eEditor=st}initialiseEditor(e){let{eEditor:t}=this,{cellStartedEdit:n,value:i,maxLength:r,cols:o,rows:s}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(r||200).setCols(o||60).setRows(s||10),i!=null&&t.setValue(i.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===we.LEFT||t===we.UP||t===we.RIGHT||t===we.DOWN||e.shiftKey&&t===we.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.getLocaleTextFunc();this.eEditor.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eEditor.getFocusableElement().focus()}getValue(){let{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!it(i)&&!it(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),r=this.getValue(),o=[];return typeof r=="string"&&t!=null&&r.length>t&&o.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:r,internalErrors:o,cellEditorParams:e}):o}},vUe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},CUe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return vUe}getAgComponents(){return[zBe]}init(e,t){this.eEditor=e,this.params=t;let{max:n,min:i,precision:r,step:o}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),o!=null&&e.setStep(o);let s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){let{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,o=this.eEditor.getInputElement().valueAsNumber,s=this.getLocaleTextFunc(),a=[];return typeof o=="number"&&(t!=null&&o<t&&a.push(s("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&o>n&&a.push(s("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),i?i({value:o,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===we.UP||e.key===we.DOWN)&&e.preventDefault()}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();if(!it(n)&&!it(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){pm()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},yUe=class extends qI{constructor(){super(new CUe(()=>this.getLocaleTextFunc()))}},xUe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},bUe=class extends GI{constructor(){super(xUe,[XBe]),this.eEditor=st,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;let{eEditor:t,valueSvc:n,gos:i}=this,{values:r,value:o,eventKey:s}=e;if(Zi(r)){$e(58);return}this.startedByEnter=s!=null?s===we.ENTER:!1;let a=!1;r.forEach(u=>{let f={value:u},p=n.formatValue(e.column,null,u),m=p!=null;f.text=m?p:u,t.addOption(f),a=a||o===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){let{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue(),r=[];if(t&&!t.includes(i)){let o=this.getLocaleTextFunc();r.push(o("invalidSelectionValidation","Invalid selection."))}else r=null;return n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},wUe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},_Ue=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return wUe}getAgComponents(){return[zI]}init(e,t){this.eEditor=e,this.params=t;let n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),r=this.getLocaleTextFunc(),o=[];return t!=null&&typeof i=="string"&&i.length>t&&o.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:i,cellEditorParams:e,internalErrors:o}):o}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();return!it(n)&&!it(t.value)?t.value:t.parseValue(n)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){let e=this.eEditor,t=e.getValue(),n=it(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},Tne=class extends qI{constructor(){super(new _Ue(()=>this.getLocaleTextFunc()))}};function SUe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function EUe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function _oe(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function Soe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function DUe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function RUe(e){e.undoRedo?.undo("api")}function TUe(e){e.undoRedo?.redo("api")}function IUe(e){let t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,r)=>{let{rowIndex:o,rowPinned:s}=r;i.forEach(({newValue:a,oldValue:l,state:c},d)=>{let u=ep({newValue:a,oldValue:l});a===hl&&(a=void 0);let f={newValue:a,oldValue:l,state:c,column:d,colId:d.getColId(),colKey:d.getColId(),rowIndex:o,rowPinned:s};(c==="editing"||c==="changed"&&u)&&n.push(f)})}),n}function FUe(e,t=!1){let{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(i=>{i.state==="editing"&&n.revertSingleCellEdit(i)}):Jf(e),OC(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function kUe(e,t){let n=to(e,t);return e.editSvc?.isEditing(n)??!1}function AUe(e,t){let{key:n,colKey:i,rowIndex:r,rowPinned:o}=t,{editSvc:s,colModel:a}=e,l=a.getCol(i);if(!l){$e(12,{colKey:i});return}let c={rowIndex:r,rowPinned:o||null,column:l};o==null&&Soe(e,r),_oe(e,i),DC(e,c)&&s?.setEditingCells([ke(z({},c),{colId:l.getColId(),newValue:n,state:"editing"})],{update:!0})}function MUe(e){return e.editSvc?.validateEdit()||null}function PUe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function OUe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var LUe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},NUe=class extends V5{constructor(e){super(LUe),this.params=e}postConstruct(){dm(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,n=i=>{e5(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},LI=(e,t=!1)=>{if(e!==void 0)return ep(e)||t&&e.state==="editing"};function Eoe(e,t,n=!1){return LI(e.editModelSvc?.getEdit(t),n)}function Doe(e,t){let{editModelSvc:n}=e,{column:i,rowNode:r}=t;if(e.gos.get("groupTotalRow")&&!r?.footer)return!1;for(let o of r?.allLeafChildren??[])if(LI(n?.getEdit({rowNode:o,column:i}))||LI(n?.getEdit({rowNode:o.pinnedSibling,column:i})))return!0}function Roe(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return LI(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var BUe=class extends Te{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){let{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){let r=Eoe(n,e)||Doe(n,e)||Roe(n,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);let i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},VUe=class extends Te{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){let{rowCtrl:e,editModelSvc:t,beans:n}=this,i=e.rowNode,r=t?.getEditRow(i),o=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!r&&i.pinnedSibling&&(i=i.pinnedSibling,r=t?.getEditRow(i)),r){let s=Array.from(r.keys()).some(a=>{let l={rowNode:i,column:a};return Eoe(n,l,!0)||Doe(n,l)||Roe(n,l)});this.applyStyle(o,s);return}this.applyStyle(o)}applyStyle(e=!1,t=!1){let n=this.editSvc?.isBatchEditing()??!1,i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",i&&t),r.toggleCss("ag-row-batch-edit",i&&t&&n),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},HUe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{let r=new Set;return e.forEachNode(o=>i.has(o)&&r.add(o)),t?.forEachPinnedRow("top",o=>i.has(o)&&r.add(o)),t?.forEachPinnedRow("bottom",o=>i.has(o)&&r.add(o)),i.forEach(o=>{r.has(o)||n.removeEdits({rowNode:o})}),r},GUe=({editModelSvc:e},t,n)=>{t.forEach(i=>e?.getEditRow(i)?.forEach((r,o)=>!n.has(o)&&e.removeEdits({rowNode:i,column:o})))},zUe=e=>()=>{let t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());GUe(e,HUe(e,i),t)},Toe={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},UUe=new Set(Object.keys(Toe)),iI={cancel:!0,source:"api"},WUe={cancel:!1,source:"api"},Yw={checkSiblings:!0},rI={force:!0,suppressFlash:!0},jUe=class extends Te{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){let{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,iI),this.createStrategy(i)});let t=zUe(e),n=()=>{let i=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||r?this.stopEditing(void 0,iI):this.isEditing()&&(this.isBatchEditing()?OC(e,this.model.getEditPositions()):this.stopEditing(void 0,WUe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,rowDataUpdated:n,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,iI)):(this.stopEditing(void 0,iI),this.batch=!1)}createStrategy(e){let{beans:t,gos:n,strategy:i}=this,r=e??n.get("editType")??"singleCell";if(i){if(i.beanName===r)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,i)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return p6e(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Yw)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){let{startedEdit:n=!0,event:i=null,source:r="ui",ignoreEventKey:o=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;let s=to(this.beans,e);if(s&&!s.comp){s.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}let a=this.shouldStartEditing?.(e,i,n,r);if(a===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&this.stopEditing(void 0,{source:r}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,i,r,o)}stopEditing(e,t){let{event:n,cancel:i,source:r="ui",suppressNavigateAfterEdit:o}=t||{},{beans:s,model:a}=this;if(UUe.has(r))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,ke(z({},t),{source:Toe[r]}));if(!this.isEditing()||!this.strategy)return!1;let l=to(s,e);l&&(l.onEditorAttachedFuncs=[]);let c=a.getEditMap(!0),d=!1,u=!i&&!!this.shouldStopEditing(e,n,r),f=i&&!!this.shouldCancelEditing(e,n,r);if(u||f){Jf(s);let p=a.getEditMap();this.processEdits(p,i),this.strategy?.stop(i),this.bulkRefresh(void 0,c),c=p,d||(d=u)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){let p=n.key,m=p===we.ENTER,v=p===we.ESCAPE;(m||v)&&(m?Jf(s):v&&this.revertSingleCellEdit(l,!1),OC(s,a.getEditPositions()),n.preventDefault(),this.bulkRefresh(e,c,{suppressFlash:!0}),c=a.getEditMap())}else Jf(s),c=a.getEditMap();return d&&e&&this.model.removeEdits(e),!o&&l&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,l.cellPosition),qB(s),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),f&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(c.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),d&&u&&this.dispatchBatchEvent("batchEditingStopped",c)),d}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let i=e?we.UP:we.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1)}}processEdits(e,t=!1){let n=Array.from(e.keys()),{beans:i}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0;for(let o of n){let s=e.get(o);for(let a of s.keys()){let l=s.get(a),d=to(i,{rowNode:o,column:a}),u=ep(l);!t&&u&&!r&&(d&&(d.suppressRefreshCell=!0),o.setDataValue(a,l.newValue,"commit"),d&&(d.suppressRefreshCell=!1),d?.refreshCell(rI))}}}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(rI)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;let{newValue:i,oldValue:r}=n,{rowIndex:o,rowPinned:s,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:o,rowPinned:s,column:t,source:"api",data:a,newValue:i,oldValue:r,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){let{beans:i,gos:r}=this,{editModelSvc:o,rowModel:s}=i;Eo(r,s)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&o?.getEditMap(!1)?.forEach((a,l)=>{for(let c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,i={}){let{beans:r,gos:o}=this,s=new Set([e]),a=new Set,l=e.pinnedSibling;l&&s.add(l);let c=e.sibling;c&&a.add(c);let d=e.parent;for(;d;)d.sibling?.footer&&o.get("groupTotalRow")||!d.parent&&d.sibling&&o.get("grandTotalRow")?a.add(d.sibling):a.add(d),d=d.parent;s.forEach(u=>this.dispatchEditValuesChanged({rowNode:u,column:t},n)),s.forEach(u=>to(r,{rowNode:u,column:t})?.refreshCell(i)),a.forEach(u=>to(r,{rowNode:u,column:t})?.refreshCell(i))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){let{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t){if(this.hasValidationErrors(e)){let n=to(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.(),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){let n=to(this.beans,e);n?.comp?.getCellEditor()&&(this.model.clearEditValue(e),OC(this.beans,[e]),g_(this.beans,e),op(this.beans),n?.refreshCell(rI),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){op(this.beans);let t=to(this.beans,e);t&&(t.refreshCell(rI),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let r;return e instanceof NC&&this.isEditing()&&(r=this.strategy?.moveToNextEditingCell(e,t,n,i)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t}){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t}),i=e.pinnedSibling;if(i){let o=this.model.getEdit({rowNode:i,column:t});o&&(n=o)}let r=n?.newValue;return r===hl||!n?this.valueSvc.getValue(t,e,!0,"api"):r}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){c6e(this,this.beans,e)}createPopupEditorWrapper(e){return new NUe(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&n!=="paste"&&n!=="rangeSvc"&&n!=="renderer"&&n!=="cellClear")return;let{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());let r=this.isBatchEditing()?"ui":"api",o=this.model.getEdit(e);if(o){if(o.newValue===t)return!1;if(o.oldValue!==t)return KB(i,e,t,n),this.stopEditing(e,{source:r}),!0;if(o.oldValue===t)return i.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{newValue:t,oldValue:o.oldValue}),!0}return KB(i,e,t,n),this.stopEditing(e,{source:r}),!0}handleColDefChanged(e){h6e(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Yw))return;let{rowNode:i,column:r}=e,{compDetails:o,valueToDisplay:s}=t;if(o){let{params:l}=o;return l.data=this.model.getEditRowDataValue(i,Yw),{compDetails:o}}let a=this.model.getEditRow(e.rowNode,Yw);if(s!==void 0&&a?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,i)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return At(this.gos,z({type:e},e==="batchEditingStopped"?{changes:this.model.getEditPositions(t).map(n=>ke(z({},n),{rowIndex:n.rowNode.rowIndex,rowPinned:n.rowNode.rowPinned,columnId:n.column.getColId()}))}:{}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;let{beans:i,rangeSvc:r,valueSvc:o}=this;Jf(i);let s=this.model.getEditMap(!0),a=s.get(e)?.get(t)?.newValue;n.forEach(c=>{if(r?.forEachRowInRange(c,d=>{let u=rp(i,d);if(u===void 0)return;let f=s.get(u)??new Map;for(let p of c.columns)if(p&&this.isCellEditable({rowNode:u,column:p},"api")){let m=o.getValue(p,u,!0,"api"),v=o.parseValue(p,u??null,a,m);Number.isNaN(v)&&(v=null),f.set(p,{newValue:v,oldValue:m,state:"changed"})}f.size>0&&s.set(u,f)}),this.setEditMap(s),this.batch){this.cleanupEditors(),qB(i),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"})}),this.bulkRefresh();let l=to(i,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new BUe(e,t)}createRowStyleFeature(e,t){return new VUe(e,t)}setEditingCells(e,t){let{beans:n}=this,{colModel:i,valueSvc:r}=n,o=new Map;e.forEach(({colId:s,column:a,colKey:l,rowIndex:c,rowPinned:d,newValue:u,state:f})=>{let p=s?i.getCol(s):l?i.getCol(l):a;if(!p)return;let m=rp(n,{rowIndex:c,rowPinned:d});if(!m)return;let v=r.getValue(p,m,!0,"api");if(!ep({newValue:u,oldValue:v})&&f!=="editing")return;let C=o.get(m);C||(C=new Map,o.set(m,C)),u===void 0&&(u=hl),C.set(p,{newValue:u,oldValue:v,state:f??"changed"})}),this.setEditMap(o,t)}onCellFocused(e){let t=to(this.beans,e);if(!t||!this.isEditing(t,Yw))return;let n=this.model.getEdit(t);if(!n||!ep(n))return;let r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}},Ioe=class extends Te{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t,n=e.previousParams,{editSvc:i,beans:r}=this;n&&(t=to(r,n));let{gos:o,editModelSvc:s}=r,a=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){if(t&&!a&&i.checkNavWithValidation(t,e)==="block-stop")return;let{column:l,rowIndex:c,rowPinned:d}=e,u={column:l,rowNode:rp(r,{rowIndex:c,rowPinned:d})},p=o.get("invalidEditValueMode")==="block"&&!!s?.getCellValidationModel().hasCellValidation(u);(n||a?i.stopEditing(void 0,{cancel:p,source:a?"api":void 0}):!0)||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e){let t=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};if(t.forEach(r=>{if(n.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0){n.fail.push(r);return}n.pass.push(r)}),e)return t.forEach(r=>{TI(this.beans,r),this.model.stop(r)}),!0;let i=this.processValidationResults(n);return i.destroy.length>0&&i.destroy.forEach(r=>{TI(this.beans,r),this.model.stop(r)}),i.keep.length>0&&i.keep.forEach(r=>{let o=to(this.beans,r);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Jf(this.beans);let n=this.model.getEditPositions(),i=[];e?n.forEach(r=>{!e||r.rowNode===e||i.push(r)}):n.forEach(r=>{i.push(r)}),OC(this.beans,i),qB(this.beans,t)}stopAllEditing(){Jf(this.beans),this.stop()}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){let t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{let i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,i,r=!1){let o=i instanceof KeyboardEvent&&!r&&i.key||void 0;u6e(this.beans,e,t,o,i,n)}dispatchCellEvent(e,t,n,i){let r=to(this.beans,e);r&&this.eventSvc.dispatchEvent(z(z({},r.createEvent(t??null,n)),i))}dispatchRowEvent(e,t){let n=RI(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,i="ui"){if(t instanceof KeyboardEvent&&(t.key===we.TAB||t.key===we.ENTER||t.key===we.F2||t.key===we.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;let o=e?.getColDef(),s=this.deriveClickCount(o),a=t?.type;return a==="click"&&t?.detail===1&&s===1||a==="dblclick"&&t?.detail===2&&s===2?!0:i==="api"?n??!1:!1}shouldStop(e,t,n="ui"){let i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===we.ENTER:null}shouldCancel(e,t,n="ui"){let i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===we.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});let n=[];if(e.forEach((i,r)=>{i.forEach((o,s)=>{o.state==="editing"&&n.push(ke(z({},o),{rowNode:r,column:s}))})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){let i=n.at(-1),r=i.newValue===hl?void 0:i.newValue;this.start(i,new KeyboardEvent("keydown",{key:r}),"api");let o=to(this.beans,i);o&&this.setFocusInOnEditor(o)}}deriveClickCount(e){let{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},$Ue=class extends Ioe{constructor(){super(...arguments),this.beanName="fullRow"}isCellEditable(e,t="ui"){let n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(r=>super.isCellEditable({rowNode:e.rowNode,column:r},t))}shouldStop(e,t,n="ui"){let{rowNode:i}=e||{};if(!RI(this.beans,{rowNode:this.rowNode}))return!0;let o=super.shouldStop({rowNode:this.rowNode},t,n);return o!==null?o:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",i){let{rowNode:r}=e;this.rowNode!==r&&super.cleanupEditors(e),this.model.hasEdits({rowNode:r})||this.dispatchRowEvent({rowNode:r},"rowEditingStarted");let o=this.beans.visibleCols.allCols,s=[];o.forEach(a=>{if(!a.isCellEditable(r))return;let l={rowNode:r,column:a};s.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=r,this.setupEditors(s,e,!0,t,i)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e){let{rowNode:t}=this;if(t&&!this.model.hasRowEdits(t))return!1;let n=this.model.getEditRow(t),i=!1;for(let[,r]of n)if(ep(r)){i=!0;break}return op(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:t})==="block-stop"?!1:(super.stop(e),t&&(i&&this.dispatchRowEvent({rowNode:t},"rowValueChanged"),this.dispatchRowEvent({rowNode:t},"rowEditingStopped")),this.rowNode=void 0,!0)}onCellFocusChanged(e){let{rowIndex:t}=e;if(e.previousParams?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent||this.model.getRowValidationModel().getRowValidationMap().size>0)return;super.onCellFocusChanged(e);let i=e.previousParams;i&&RI(this.beans,i)?.refreshRow({suppressFlash:!0,force:!0})}cleanupEditors({rowNode:e}={},t){super.cleanupEditors({rowNode:e},t),e&&this.dispatchRowEvent({rowNode:this.rowNode},"rowEditingStopped")}moveToNextEditingCell(e,t,n,i="ui"){let r=this.editSvc.checkNavWithValidation(void 0,n)==="block-stop",o=e.cellPosition,s;this.model.suspend(!0);try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(s===!1)return null;if(s==null)return r;let a=s.cellPosition,l=e.isCellEditable(),c=s.isCellEditable(),d=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(!d){if(op(this.beans),this.model.getRowValidationModel().getRowValidationMap().size>0){if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0}else if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0;if(r&&this.model.getRowValidationModel().getRowValidation(e))return!0}return l&&this.setFocusOutOnEditor(e),c&&!r?(s.comp?.getCellEditor()||g_(this.beans,s,void 0,n,!0),this.setFocusInOnEditor(s),s.focusCell(!1,n)):s.focusCell(!0,n),!d&&!r&&(super.cleanupEditors(s,!0),this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0}},qUe=class extends Ioe{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){let i=super.shouldStop(e,t,n);if(i!==null)return i;let{rowNode:r,column:o}=e||{};return(!this.rowNode||!this.column)&&r&&o?null:this.rowNode!==r||this.column!==o}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",i){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,i)}dispatchRowEvent(e,t){}stop(e){return super.stop(e),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){let{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:r,rowPinned:o}=e,s=rp(this.beans,{rowIndex:i,rowPinned:o}),a=$B(r),l=t.getCol(a),c=e.previousParams;if(c){let d=$B(c.column);if(c?.rowIndex===i&&d===a&&c?.rowPinned===o)return}n?.isEditing({rowNode:s,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui"){let r=this.editSvc.checkNavWithValidation(void 0,n)==="block-stop",o=e.cellPosition,s,a=this.beans.gos.get("editType")==="fullRow";a?this.model.suspend(!0):(e.eGui.focus(),e.stopEditing());try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(s===!1)return null;if(s==null)return r;let l=s.cellPosition,c=e.isCellEditable(),d=s.isCellEditable(),u=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;if(!u){if(op(this.beans),this.model.getRowValidationModel().getRowValidationMap().size>0){if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0}else if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0;if(r&&this.model.getRowValidationModel().getRowValidation(e))return!0}if(c&&this.setFocusOutOnEditor(e),!u&&!r&&(super.cleanupEditors(s,!0),this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),d&&!r)s.focusCell(!1,n),s.comp?.getCellEditor()||g_(this.beans,s,void 0,n,!0),this.setFocusInOnEditor(s);else{if(r&&this.model.getCellValidationModel().getCellValidation(e))return!0;s.focusCell(!0,n)}return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},ap={moduleName:"EditCore",version:ct,beans:[t6e,jUe],apiFunctions:{getEditingCells:IUe,getCellEditorInstances:d6e,startEditingCell:AUe,stopEditing:FUe,isEditing:kUe,validateEdit:MUe},dynamicBeans:{singleCell:qUe,fullRow:$Ue},dependsOn:[jI,woe],css:[sUe]},KUe={moduleName:"UndoRedoEdit",version:ct,beans:[oUe],apiFunctions:{undoCellEditing:RUe,redoCellEditing:TUe,getCurrentUndoSize:PUe,getCurrentRedoSize:OUe},dependsOn:[ap]},XUe={moduleName:"TextEditor",version:ct,userComponents:{agCellEditor:Tne,agTextCellEditor:Tne},dependsOn:[ap]},YUe={moduleName:"NumberEditor",version:ct,userComponents:{agNumberCellEditor:{classImp:yUe}},dependsOn:[ap]},ZUe={moduleName:"DateEditor",version:ct,userComponents:{agDateCellEditor:uUe,agDateStringCellEditor:pUe},dependsOn:[ap]},QUe={moduleName:"CheckboxEditor",version:ct,userComponents:{agCheckboxCellEditor:lUe},dependsOn:[ap]},JUe={moduleName:"SelectEditor",version:ct,userComponents:{agSelectCellEditor:bUe},dependsOn:[ap]},eWe={moduleName:"LargeTextEditor",version:ct,userComponents:{agLargeTextCellEditor:mUe},dependsOn:[ap]},tWe={moduleName:"CustomEditor",version:ct,dependsOn:[ap]},nWe=class extends Te{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,MC(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),$4e(e))}createColumns(e,t){let n=()=>{wI(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,o=(this.columns?.treeDepth??-1)==i,s=this.generateSelectionCols();if(j4e(s,this.columns?.list??[])&&o)return;n();let{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(s,c)??[];this.columns={list:s,tree:d,treeDepth:c,map:{}},t(f=>{if(!f)return null;let p=f.filter(m=>!vm(m));return[...s,...p]})}updateColumns(e){let t=MC(e.source);this.columns?.list.forEach(n=>{let i=this.createSelectionColDef(e.currentValue);n.setColDef(i,null,t),Bc(this.beans,{state:[ke(z({},i),{colId:n.getColId()})]},t)})}getColumn(e){return this.columns?.list.find(t=>wie(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!rm(e))return!1;let i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;let r=!!AC(n),o=sI(n);return r||o}createSelectionColDef(e){let{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),a=n??{},{rowSpan:r,spanRows:o}=a,s=xl(a,["rowSpan","spanRows"]);return ke(z({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,c,d,u){let f=d.isSelected(),p=u.isSelected();return f===p?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null},s),{colId:yie,chartDataType:"excluded"})}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);let n=new NI(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){let i=t&&typeof t!="string"?AC(t):void 0,r=e&&typeof e!="string"?AC(e):void 0,o=i!==r,s=t&&typeof t!="string"?sI(t):void 0,a=e&&typeof e!="string"?sI(e):void 0,l=s!==a,c=CI(e),d=CI(t);(o||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){wI(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;let i=e.length+t.length+n.length;if(i===0)return;let r=this.columns.list[0];if(!r.isVisible())return;let o=()=>{let l;switch(r.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&nc(l,r)};(this.beans.rowNumbersSvc?.getColumn(xie)?2:1)===i&&o()}};function iWe(e,t){if(!t.nodes.every(s=>s.rowPinned&&!w_(s)?($e(59),!1):s.id===void 0?($e(60),!1):!0))return;let{nodes:i,source:r,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:r??"api",newValue:o})}function rWe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function oWe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function sWe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function aWe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function lWe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function cWe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function dWe(e){return e.selectionSvc?.getSelectedNodes()??[]}function uWe(e){return e.selectionSvc?.getSelectedRows()??[]}var hWe=class extends BBe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=yI(e),this.groupSelectsDescendants=h_(e),this.groupSelectsFiltered=xI(e)==="filteredDescendants",this.masterSelectsDetail=Ate(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=h_(e),n=yI(e),i=xI(e)==="filteredDescendants";this.masterSelectsDetail=Ate(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:o,keepDescendants:s=!1}){if(!rm(this.gos)&&e)return $e(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return $e(130),0;let a=0;for(let l=0;l<i.length;l++){let c=i[l],d=_C(c),u=this.groupSelectsFiltered&&d.group;if(d.rowPinned&&!w_(d)){$e(59);continue}if(d.id===void 0){$e(60);continue}u||this.selectRowNode(d,e,r,o)&&(this.detailSelection.delete(d.id),a++),this.groupSelectsDescendants&&d.childrenAfterGroup?.length&&(a+=this.selectChildren(d,e,o))}return n||(i.length===1&&o==="api"&&this.selectionCtx.setRoot(_C(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(_C(i[0]),s,o)),a>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),a}selectRange(e,t,n){let i=0;return e.forEach(r=>{let o=_C(r);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){let i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:n,rowModel:i}=this.beans;if(!Eo(n,i))return!1;let r=i.rootNode;if(!r)return!1;t||(t=new v_(!0,r),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==r){let a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t,n){let i=new Map,r=0;return this.selectedNodes.forEach(o=>{let s=o.id==e.id;if((t?!pWe(e,o):!0)&&!s){let l=this.selectedNodes.get(o.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&o.parent&&i.set(o.parent.id,o.parent)}}),i.forEach(o=>{let s=this.calculateSelectedFromChildren(o);this.selectRowNode(o,s===null?!1:s,void 0,n)}),r}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new fm(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!Eo(e,t))return;let n=t.getTopLevelNodes();if(n===null)return;let i=[];function r(o){for(let s=0,a=o.length;s<a;s++){let l=o[s];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let n=Eo(this.gos),i=!1,r=o=>{let s=this.selectRowNode(_C(o),!1,void 0,e);i||(i=s)};if(t==="currentPage"||t==="filtered"){if(!n){Ci(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){let o=this.updateGroupsFromChildrenSelections(e);i||(i=o)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return Foe(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){let o=s=>{n(s),s.childrenAfterFilter?.forEach(o)};o(r);return}this.groupSelectsDescendants||n(r)}),t;let i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let o=i;o<=r;o++){let s=n.getRow(o);s&&e(s)}}selectAllRowNodes(e){let{gos:t,selectionCtx:n}=this;if(!rm(t)){$e(132);return}if(E4e(t)&&!u_(t)){$e(130);return}if(!this.canSelectAll())return;let{source:i,selectAll:r}=e,o=!1;if(this.getNodesToSelect(r).forEach(s=>{let a=this.selectRowNode(_C(s),!0,void 0,i);o||(o=a)}),n.selectAll=!0,Eo(t)&&this.groupSelectsDescendants){let s=this.updateGroupsFromChildrenSelections(i);o||(o=s)}o&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Ci(103);return}let i=new Set(e),r=[];this.beans.rowModel.forEachNode(o=>{i.has(o.id)&&r.push(o)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){let{gos:e}=this.beans;return!!Eo(e)}updateSelectable(e){let{gos:t,rowModel:n}=this.beans;if(!rm(t))return;let i="selectableChanged",r=e!==void 0,o=Eo(t)&&this.groupSelectsDescendants,s=[],a=l=>{if(r&&!l.group)return;if(o&&l.group){let d=l.childrenAfterGroup?.some(u=>u.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&s.push(l)};if(o){if(e===void 0){let l=n.rootNode;e=l?new v_(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:i}),!r&&o&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let n=e.detailNode?.detailGridInfo?.api;if(!n)return;let i=fWe(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){let o=this.detailSelection.get(e.id)??new Set;for(let s of n.getSelectedNodes())o.add(s.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!u_(t)){$e(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{let i=this.detailSelection.get(e.id);if(i){let r=[];for(let o of i){let s=n.getRowNode(o);s&&r.push(s)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function _C(e){return w_(e)?e.pinnedSibling:e.footer?e.sibling:e}function fWe(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),Foe(t,n)}function Foe(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function pWe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var gWe={moduleName:"SharedRowSelection",version:ct,beans:[nWe],apiFunctions:{setNodesSelected:iWe,selectAll:rWe,deselectAll:oWe,selectAllFiltered:sWe,deselectAllFiltered:aWe,selectAllOnCurrentPage:lWe,deselectAllOnCurrentPage:cWe,getSelectedNodes:dWe,getSelectedRows:uWe}},mWe={moduleName:"RowSelection",version:ct,rowModels:["clientSide","infinite","viewport"],beans:[hWe],dependsOn:[gWe]};function vWe(e){e.expansionSvc?.expandAll(!0)}function CWe(e){e.expansionSvc?.expandAll(!1)}function yWe(e){let t=Qd(e),n=roe(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function xWe(e,t,n){let i=roe(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Ci(238);return}i.setRowCount(t,n);return}Ci(28);return}let r=WI(e);if(r){r.setRowCount(t,n);return}}function bWe(e){return jC(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function wWe(e){return e.rowModel.isLastRowIndexKnown()}var _We={moduleName:"CsrmSsrmSharedApi",version:ct,apiFunctions:{expandAll:vWe,collapseAll:CWe,onRowHeightChanged:yWe}},SWe={moduleName:"SsrmInfiniteSharedApi",version:ct,apiFunctions:{setRowCount:xWe,getCacheBlockState:bWe,isLastRowIndexKnown:wWe}},EWe=class extends Te{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){Ci(18),t||Ci(20);return}if(this.isGridApi(i))return i;let r=i;return"current"in r?r.current?.api:(r.api||Ci(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":$e(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,n=null,i=this.beans,{colResize:r,ctrlsSvc:o,colModel:s}=i;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;let a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let u=e.api.getColumnState().map(f=>({colId:f.colId}));Bc(i,{state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let u=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));Bc(i,{state:u},"alignedGridChanged")}break;case"columnPinned":{let u=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));Bc(i,{state:u},"alignedGridChanged")}break;case"columnResized":{let d=e,u={};a.forEach(f=>{u[f.getId()]={key:f.getColId(),newWidth:f.getActualWidth()}}),d.flexColumns?.forEach(f=>{u[f.getId()]&&delete u[f.getId()]}),r?.setColumnWidths(Object.values(u),!1,d.finished,"alignedGridChanged");break}}let c=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",c)})}},DWe={moduleName:"AlignedGrids",version:ct,beans:[EWe]},RWe=class extends MBe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},AB=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function TWe(e){if(Zi(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let n=0;n<t.length;n++){let i=t[n],r=n===0,o=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==o&&(i.lastChild=o,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function koe(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),TWe(e)}var IWe=class extends Te{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){let t=this.beans,n=t.sortSvc.getSortOptions(),i=it(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=n.some(({column:s})=>Wd(t.gos)?s.isPrimary()&&s.isRowGroupActive():!!s.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,o)}sort(e,t,n,i,r,o,s){let{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:d,rowRenderer:u,showRowGroupCols:f}=e,p=a.get("groupMaintainOrder"),m=l.getCols().some(w=>w.isRowGroupActive()),v=l.isPivotMode(),C=a.getCallback("postSortRows"),y=!1,b=w=>{let S=v&&w.leafGroup,D=p&&m&&!w.leafGroup&&!s,R;if(D){let k=c?.columns?.[w.level+1]?.getSort()===null,M=w.childrenAfterAggFilter.slice(0);if(w.childrenAfterSort&&!k){let B={};w.childrenAfterSort.forEach((L,V)=>{B[L.id]=V}),M.sort((L,V)=>(B[L.id]??0)-(B[V.id]??0))}R=M}else!n||S?R=w.childrenAfterAggFilter.slice(0):i&&r?R=FWe(d,w,r,o,t):R=d.doFullSort(w.childrenAfterAggFilter,t);if(y||(y=w.childrenAfterSort?.[0]!==R[0]),w.childrenAfterSort=R,koe(w),C){let T={nodes:w.childrenAfterSort};C(T)}};if(o?.forEachChangedNodeDepthFirst(b),y&&this.gos.get("groupHideOpenParents")){let w=f?.getShowRowGroupCols();w?.length&&u.refreshCells({columns:w,force:!0})}}};function FWe(e,t,n,i,r){let o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,r);let a=new Set,l=[],{updates:c,adds:d}=n;for(let f=0,p=o.length;f<p;++f){let m=o[f];c.has(m)||d.has(m)||i&&!i.canSkip(m)?l.push({currentPos:l.length,rowNode:m}):a.add(m.id)}let u=s.filter(f=>a.has(f.id)).map((f,p)=>({currentPos:p,rowNode:f}));return l.sort((f,p)=>e.compareRowNodes(r,f,p)),kWe(e,r,l,u)}function kWe(e,t,n,i){let r=[],o=0,s=0,a=n.length,l=i.length;for(;o<a&&s<l;){let c=n[o],d=i[s],u=e.compareRowNodes(t,c,d),f;u<0?(f=c,++o):(f=d,++s),r.push(f.rowNode)}for(;o<a;)r.push(n[o++].rowNode);for(;s<l;)r.push(i[s++].rowNode);return r}var AWe=class extends Te{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.lastHighlightedRow=null,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=ls(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new fm(this.beans);let n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){let{gos:e,beans:t}=this;return fie(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,o=!1;do{r=!1;let s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),c=Math.min(a,i);for(let d=l;d<=c;d++){let u=this.getRow(d);if(u.rowHeightEstimated){let f=ip(this.beans,u);u.setRowHeight(f.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}onPropChange(e){if(!this.rootNode)return;let t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),o=this.nodeManager,s=this.getNewNodeManager(),a=o!==s||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData"),l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,$e(1))),a&&(r||(l=o?.extractRowData()??l),o!==s&&(o?.deactivate(),this.nodeManager=s),s.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new AB,s.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;let{selectionSvc:d,pinnedRowModel:u}=this.beans;d?.reset("rowDataChanged"),u?.isManual()&&u.reset(),this.rowNodesCountReady=!0,s.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(let{refreshProps:c,step:d}of this.orderedStages)if(e.some(u=>c.has(u))){i.step=d;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){let{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight(),i=0,r=new Set,o=cs(this.gos,"normal");for(let s=0,a=t.length;s<a;++s){let l=t[s];if(l.id!=null&&r.add(l.id),l.rowHeight==null){let c=ip(e,l,o,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(i),l.setRowIndex(s),i+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){let n=e.active,i=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},r=o=>{if(o!==null&&(i(o),i(o.detailNode),i(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){let s=o.level==-1;n&&!s&&!o.expanded||o.childrenAfterGroup.forEach(r)}};r(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let n=e.childrenAfterSort,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let{childrenAfterSort:r}=t,o=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:s}=this.beans;return s?s.getTopDisplayIndex(n,e,r,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;let o=t.childrenAfterSort?.findIndex(s=>s===r);return o===-1?e:o??e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=kC(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=kC(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=kC(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new v_(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}beforeRefreshModel(e,t=!1){this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e,groupsChanged:t}),this.started&&e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"})}refreshModel(e){if(!this.rootNode)return;let t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if(!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.beforeRefreshModel(e);return}switch(this.isRefreshingModel=!0,e.step!=="group"&&this.beforeRefreshModel(e),e.step){case"group":{let i=this.doRowGrouping(e);this.beforeRefreshModel(e,i),e.step==="group"&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}let n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1,r=[],o=h_(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(i)return;if(n&&(s===t||s===e)&&(i=!0,s.group&&o)){r.push(...s.allLeafChildren);return}if(!n){if(s!==t&&s!==e)return;n=!0}if(!s.group||!o){r.push(s);return}}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(vi(t).rowTop<=e)return t.length-1;let o=-1,s=-1;for(;;){let a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),o===n&&s===i))return a;o=n,s=i}}isRowInPixel(e,t){let n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){let{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}let o=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[o])}depthFirstSearchRowNodes(e,t=!1,n=o=>o.childrenAfterGroup,i=this.rootNode,r=0){let o=r;if(!i)return o;let s=i===this.rootNode;s||e(i,o++);let{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){let l=n(i);if(l){o=a?.addTotalRows(o,i,e,t,s,"top")??o;for(let c of l)o=this.depthFirstSearchRowNodes(e,t,n,c,o);return a?.addTotalRows(o,i,e,t,s,"bottom")??o}}return o}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),koe(n)})}doRowGrouping(e){let t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;let i=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,i&&(i.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,soe(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){let t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(YB)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],n=new AB,i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:o,rowsInserted:s}=this.nodeManager.updateRowData(r.rowDataTransaction,n);s&&(i=!0),t.push(o),r.callback&&e.push(r.callback.bind(null,o))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new AB,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(let i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=bI,this.rowsToDisplay=bI}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function MWe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function PWe(e,t){let n=Qd(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function OWe(e){return Qd(e)?.isEmpty()??!0}function LWe(e,t){Qd(e)?.forEachLeafNode(t)}function NWe(e,t){Qd(e)?.forEachNodeAfterFilter(t)}function BWe(e,t){Qd(e)?.forEachNodeAfterFilterAndSort(t)}function VWe(e){if(e.rowAutoHeight?.active){$e(3);return}Qd(e)?.resetRowHeights()}function HWe(e,t){return e.frameworkOverrides.wrapIncoming(()=>Qd(e)?.updateRowData(t))}function GWe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Qd(e)?.batchUpdateRowData(t,n))}function zWe(e){e.frameworkOverrides.wrapIncoming(()=>Qd(e)?.flushAsyncTransactions())}function UWe(e){return e.selectionSvc?.getBestCostNodeSelection()}var WWe={moduleName:"ClientSideRowModel",version:ct,rowModels:["clientSide"],beans:[RWe,AWe,IWe],dependsOn:[Qre]},jWe={moduleName:"ClientSideRowModelApi",version:ct,apiFunctions:{onGroupExpandedOrCollapsed:MWe,refreshClientSideRowModel:PWe,isRowDataEmpty:OWe,forEachLeafNode:LWe,forEachNodeAfterFilter:NWe,forEachNodeAfterFilterAndSort:BWe,resetRowHeights:VWe,applyTransaction:HWe,applyTransactionAsync:GWe,flushAsyncTransactions:zWe,getBestCostNodeSelection:UWe},dependsOn:[_We]},$We=class extends Te{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){let r=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,c=!!i.footer,d=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&_4e(this.gos,i);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!c||r(At(this.gos,{node:i})))return;let p=e.onNewBodyRow(i);if(n.forEach((m,v)=>{p.onColumn(m,v,i)}),t.getCustomContentBelowRow){let m=t.getCustomContentBelowRow(At(this.gos,{node:i}));m&&e.addCustomContent(m)}}appendContent(e){return t=>{let n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{let n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){let i=new kie,{colGroupSvc:r}=this.beans,o=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){let i=n.onNewHeaderRow();t.forEach((r,o)=>{i.onColumn(r,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{let i=this.rowModel,r=Eo(this.gos,i),o=jC(this.gos,i),s=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>i.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||s){let c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?i.forEachNode(a):r||o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;let i=t.getSortOptions(),r=(o,s)=>o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?o.parent?.id===s.parent?.id?n.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(o.parent,s.parent):o.level>s.level?r(o.parent,s):r(o,s.parent);e.sort(r)}processPinnedBottomRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),c=f=>vm(f)?!1:!sm(f)||i;if(r&&r.length)return o.getColsForKeys(r).filter(c);let d=s.get("treeData"),u=[];return t&&!l?u=o.getCols():u=a.allCols,u=u.filter(f=>c(f)&&(n&&!d?!S5(f):!0)),u}recursivelyAddHeaderGroups(e,t,n){let i=[];e.forEach(r=>{let o=r;o.getChildren&&o.getChildren().forEach(s=>i.push(s))}),e.length>0&&Sr(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){let i=e.onNewHeaderGroupingRow(),r=0;t.forEach(o=>{let s=o,a;n?a=n(At(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");let l=s.getLeafColumns().reduce((c,d,u,f)=>{let p=vi(c);return d.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[u],c.push(p)):p&&p[1]==null&&(p[1]=u-1),u===f.length-1&&p&&p[1]==null&&(p[1]=u),c},[]);i.onColumn(s,a||"",r++,s.getLeafColumns().length-1,l)})}},qWe={moduleName:"SharedExport",version:ct,beans:[$We]},Ine=`\r
`,KWe=class extends Pze{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Ine),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);let i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():($e(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Ine),this.isFirstLine=!1}},XWe=class extends Mze{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){$e(51);return}let t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(At(this.gos,{})):t.fileName;Oze(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new KWe({colModel:t,colNames:n,valueSvc:r,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function YWe(e,t){return e.csvCreator?.getDataAsCsv(t)}function ZWe(e,t){e.csvCreator?.exportDataAsCsv(t)}var QWe={moduleName:"CsvExport",version:ct,beans:[XWe],apiFunctions:{getDataAsCsv:YWe,exportDataAsCsv:ZWe},dependsOn:[qWe]},JWe=class extends Te{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){let t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let o=0;o<e;o++){let s=n+o,a=new fm(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),r.push(a)}}getBlockStateJson(){let{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){it(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Zi(this.params.datasource.getRows)){$e(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:At(o,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){let{rowNodes:t,beans:n}=this;t.forEach((r,o)=>{let s=e.rowData?e.rowData[o]:void 0;!r.id&&r.alreadyRendered&&s&&(t[o]=new fm(n),t[o].setRowIndex(r.rowIndex),t[o].setRowTop(r.rowTop),t[o].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[o],s,this.startRow+o)});let i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},eje=2,tje=class extends Te{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let n=Math.floor(e/this.params.blockSize),i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){let t=this.params,n=this.createBean(new JWe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(np(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(n);let i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,o=eje-1;t.forEach((s,a)=>{let l=s.state==="needsLoading"&&a>=o,c=i?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:n,overflowSize:i}=this.params,o=(e.id+1)*n+i;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,it(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let n=[],i=-1,r=!1,o={value:0},s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(r&&i+1!==l.id){s=!0;return}i=l.id,l.forEachNode(c=>{let d=c===e||c===t;(r||d)&&n.push(c),d&&(r=!r)},o,this.rowCount)}}),s||r?[]:n}},nje=class extends Te{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=om(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=om(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!s_(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;GC(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:om(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new tje(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function ije(e){WI(e)?.refreshCache()}function rje(e){WI(e)?.purgeCache()}function oje(e){return WI(e)?.getRowCount()}var sje=class extends Te{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=S4e(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=ls(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){nc(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){np(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){np(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},aje={moduleName:"InfiniteRowModelCore",version:ct,rowModels:["infinite"],beans:[nje,sje]},lje={moduleName:"InfiniteRowModel",version:ct,apiFunctions:{refreshInfiniteCache:ije,purgeInfiniteCache:rje,getInfiniteRowCount:oje},dependsOn:[aje,SWe]},cje="\u2191",dje="\u2193",uje={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},hje=class extends Wn{constructor(){super(uje),this.eValue=st,this.eDelta=st,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let n=Math.abs(t),i=e.formatValue(n),r=it(i)?i:n,o=t>=0,s=this.eDelta;o?s.textContent=cje+r:s.textContent=dje+r,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Bs(this.eDelta)}refresh(e,t=!1){let{value:n,valueFormatted:i}=e,{eValue:r,lastValue:o,beans:s}=this;if(n===o||(it(i)?r.textContent=i:it(n)?r.textContent=n:Bs(r),s.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;let a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){let c=a-l;this.showDelta(e,c)}return o&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},fje=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",pje={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},gje=class extends Wn{constructor(){super(pje),this.eCurrent=st,this.refreshCount=0,this.registerCSS(fje)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let{beans:t,eCurrent:n}=this,i=Wi({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Zi(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;let i=this.eCurrent;return it(e.valueFormatted)?i.textContent=e.valueFormatted:it(e.value)?i.textContent=n:Bs(i),!0}},mje=class extends Te{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){let r=this.animations[t];r.delete(e);let o=Date.now(),s=o+n,a=o+n+i,l={phase:"flash",flashEndTime:s,fadeEndTime:a};r.set(e,l);let c=`ag-cell-${t}`,d=`${c}-animation`,{comp:u,eGui:{style:f}}=e;u.toggleCss(c,!0),u.toggleCss(d,!1),f.removeProperty("transition"),f.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=s)}advanceAnimations(){let e=Date.now(),t=null;for(let n of Object.keys(this.animations)){let i=this.animations[n],r=`ag-cell-${n}`,o=`${r}-animation`;for(let[s,a]of i){if(!s.isAlive()||!s.comp){i.delete(s);continue}let{phase:l,flashEndTime:c,fadeEndTime:d}=a,u=l==="flash"?c:d;if(!(e+15>=u)){t=Math.min(u,t??1/0);continue}let{comp:p,eGui:{style:m}}=s;switch(l){case"flash":p.toggleCss(r,!1),p.toggleCss(o,!0),m.transition=`background-color ${d-c}ms`,m.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":p.toggleCss(r,!1),p.toggleCss(o,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),i.delete(s);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;let n=n6e(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(let e of Object.keys(this.animations))this.animations[e].clear()}};function vje(e,t={}){let{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var Cje={moduleName:"HighlightChanges",version:ct,beans:[mje],userComponents:{agAnimateShowChangeCellRenderer:hje,agAnimateSlideCellRenderer:gje},apiFunctions:{flashCells:vje}};function yje(e){return e.stateSvc?.getState()??{}}function xje(e,t,n){return e.stateSvc?.setState(t,n)}function Fne(e){switch(e=z({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=bje(e)}return e.version=ct,e}function bje(e){return e.cellSelection=wje(e,"rangeSelection"),e}function wje(e,t){if(e&&typeof e=="object")return e[t]}var _je=class extends Te{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ls(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ls(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=ls(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Eo(this.gos);let e=Fne(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;let n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));let[i,r,o]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(i(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{r?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{o?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){let n=Fne(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();let i="api",r=t?new Set(t):void 0;this.setGridReadyState(n,i,r),this.setColumnsInitialisedState(n,i,!1,r),this.setRowCountState(n,i,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,r),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");let t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);let n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){let{filter:i,rowGroupExpansion:r,rowSelection:o,pagination:s}=e,a=(c,d)=>!n?.has(c)&&(d||t==="api");a("filter",i)&&this.setFilterState(i),a("rowGroupExpansion",r)&&this.setRowGroupExpansionState(r,t),a("rowSelection",o)&&this.setRowSelectionState(o,t),a("pagination",s)&&this.setPaginationState(s,t);let l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");let t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:r,colFilter:o}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&t("pagination",this.getPaginationState())}}),o&&this.addManagedListeners(o,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){let{scroll:i,cellSelection:r,focusedCell:o,columnOrder:s,rowPinning:a}=e,l=(u,f)=>!n?.has(u)&&(f||t==="api");l("focusedCell",o)&&this.setFocusedCellState(o),l("cellSelection",r)&&this.setCellSelectionState(r),l("scroll",i)&&this.setScrollState(i),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!s?.orderedColIds,t);let c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());let d=this.getRangeSelectionState();c("rangeSelection",d),c("cellSelection",d),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");let t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){let i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){let e=this.beans;return Sze(SI(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){let{sort:r,rowGroup:o,aggregation:s,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:u}=e,f=(B,L)=>!i?.has(B)&&(L||t==="api"),p={},m=B=>{let L=p[B];return L||(L={colId:B},p[B]=L,L)},v={},C=f("sort",r);C&&r?.sortModel.forEach(({colId:B,sort:L},V)=>{let ee=m(B);ee.sort=L,ee.sortIndex=V}),(C||!n)&&(v.sort=null,v.sortIndex=null);let y=f("rowGroup",o);y&&o?.groupColIds.forEach((B,L)=>{let V=m(B);V.rowGroup=!0,V.rowGroupIndex=L}),(y||!n)&&(v.rowGroup=null,v.rowGroupIndex=null);let b=f("aggregation",s);b&&s?.aggregationModel.forEach(({colId:B,aggFunc:L})=>{m(B).aggFunc=L}),(b||!n)&&(v.aggFunc=null);let w=f("pivot",a);w&&(a?.pivotColIds.forEach((B,L)=>{let V=m(B);V.pivot=!0,V.pivotIndex=L}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(w||!n)&&(v.pivot=null,v.pivotIndex=null);let S=f("columnPinning",l);S&&(l?.leftColIds.forEach(B=>{m(B).pinned="left"}),l?.rightColIds.forEach(B=>{m(B).pinned="right"})),(S||!n)&&(v.pinned=null);let D=f("columnVisibility",c);D&&c?.hiddenColIds.forEach(B=>{m(B).hide=!0}),(D||!n)&&(v.hide=null);let R=f("columnSizing",d);R&&d?.columnSizingModel.forEach(({colId:B,flex:L,width:V})=>{let ee=m(B);ee.flex=L??null,ee.width=V}),(R||!n)&&(v.flex=null);let T=u?.orderedColIds,k=!!T?.length&&!i?.has("columnOrder"),M=k?T.map(B=>m(B)):Object.values(p);M.length&&(this.columnStates=M,Bc(this.beans,{state:M,applyOrder:k,defaultState:v},t))}setColumnPivotState(e,t){let n=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;this.columnGroupStates=void 0;let r=this.beans,{pivotResultCols:o,colGroupSvc:s}=r;if(o?.isPivotResultColsPresent()){if(n){let a=[];for(let l of n)o.getPivotResultCol(l.colId)&&a.push(l);Bc(r,{state:a,applyOrder:e},t)}i&&s?.setColumnGroupState(i,t)}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState();return Eze(t)}setColumnGroupState(e,t,n){let i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let r=new Set(e.columnGroup?.openColumnGroupIds),s=i.getColumnGroupState().map(({groupId:a})=>{let l=r.has(a);return l&&r.delete(a),{groupId:a,open:l}});r.forEach(a=>{s.push({groupId:a,open:!0})}),s.length&&(this.columnGroupStates=s),i.setColumnGroupState(s,t)}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let n=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0;return t||i||n?{filterModel:t,columnFilterState:n,advancedFilterModel:i}:void 0}setFilterState(e){let t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||i!==void 0)&&t?.setFilterState(n??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:n,type:i,startRow:r,endRow:o,columns:s,startColumn:a}=t;return{id:n,type:i,startRow:r,endRow:o,colIds:s.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!mh(t)||!n)return;let o=[];e?.cellRanges.forEach(s=>{let a=[];if(s.colIds.forEach(c=>{let d=i.getCol(c);d&&a.push(d)}),!a.length)return;let l=i.getCol(s.startColId);if(!l){let c=r.allCols,d=new Set(a);l=c.find(u=>d.has(u))}o.push(ke(z({},s),{columns:a,startColumn:l}))}),n.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:o,ctrlsSvc:s}=this.beans;i.wrapIncoming(()=>{s.get("center").setCenterViewportScrollLeft(n),s.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}let{colId:i,rowIndex:r,rowPinned:o}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){let{pagination:n,gos:i}=this.beans;if(!n)return;let{pageSize:r,page:o}=e??{page:0,pageSize:i.get("paginationPageSize")},s=t==="gridInitializing";r&&!i.get("paginationAutoPageSize")&&n.setPageSize(r,s?"initialState":"pageSizeSelector"),typeof o=="number"&&(s?n.setPage(o):n.goToPage(o))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){let{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;let n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){let t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){let n=this.beans.expansionSvc;if(!n)return;let i=e?.expandedRowGroupIds??[],r;if(t==="api"){let o=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(o?.length){let s=new Set(o);for(let a of i)s.delete(a);r=Array.from(s)}}n.expandRows(i,r)}updateColumnState(e){let t=this.getColumnState(),n=!1,i=this.cachedState;for(let r of Object.keys(t)){let o=t[r];s_(o,i[r])||(n=!0)}this.cachedState=z(z({},i),t),n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let n=this.cachedState[e];this.setCachedStateValue(e,t),s_(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=ke(z({},this.cachedState),{[e]:t})}refreshStaleState(){let e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},Sje={moduleName:"GridState",version:ct,beans:[_je],apiFunctions:{getState:yje,setState:xje}};function Eje(e){return e.rowModel.isLastRowIndexKnown()}function Dje(e){return e.pagination?.getPageSize()??100}function Rje(e){return e.pagination?.getCurrentPage()??0}function Tje(e){return e.pagination?.getTotalPages()??1}function Ije(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Fje(e){e.pagination?.goToNextPage()}function kje(e){e.pagination?.goToPreviousPage()}function Aje(e){e.pagination?.goToFirstPage()}function Mje(e){e.pagination?.goToLastPage()}function Pje(e,t){e.pagination?.goToPage(t)}var Oje=class extends Te{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,n=()=>{let i=Math.max(om(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?ls(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Zw="paginationPageSizeSelector",Lje={tag:"span",cls:"ag-paging-page-size"},Nje=class extends Wn{constructor(){super(Lje),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Zw,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Bs(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Zw)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){let r=this.gos.exists("paginationPageSize"),o=this.gos.get(Zw)!==!0;$e(94,{pageSizeSet:r,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||$e(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Zw}),e.unshift("")}let i=String(n?"":t);this.selectPageSizeComp?(mm(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new U5).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(Zw);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Bje={selector:"AG-PAGE-SIZE-SELECTOR",component:Nje},Vje=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Hje=class extends Sre{constructor(){super(),this.btFirst=st,this.btPrevious=st,this.btNext=st,this.btLast=st,this.lbRecordCount=st,this.lbFirstRowOnPage=st,this.lbLastRowOnPage=st,this.lbCurrent=st,this.lbTotal=st,this.pageSizeComp=st,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Vje)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Bje]);let{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",tc(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",tc(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",tc(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",tc(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):S6e(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===we.ENTER||i.key===we.SPACE)&&(i.preventDefault(),n())}})}),_6e(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Aze(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){ULe(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),o=this.pagination.getPageSize(),s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*r+1,a=s+o-1,e&&a>i&&(a=i));let l=s+o-1,c=!e&&n<l,d=this.formatNumber(s);this.lbFirstRowOnPage.textContent=d;let u,f=this.getLocaleTextFunc();c?u=f("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;let m=t>0?r+1:0,v=this.formatNumber(m);this.lbCurrent.textContent=v;let C,y;if(e)C=this.formatNumber(t),y=this.formatNumber(i);else{let b=f("more","more");C=b,y=b}this.lbTotal.textContent=C,this.lbRecordCount.textContent=y,this.announceAriaStatus(d,u,y,v,C)}announceAriaStatus(e,t,n,i,r){let o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,d=`${s} ${i} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Gje={selector:"AG-PAGINATION",component:Hje},zje=class extends Te{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Gje}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){let t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;let{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return it(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:it(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:it(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:it(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();let r=this.currentPage,o=n*r,s=n*(r+1)-1;if(s>i&&(s=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},Uje={moduleName:"Pagination",version:ct,beans:[zje,Oje],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Eje,paginationGetPageSize:Dje,paginationGetCurrentPage:Rje,paginationGetTotalPages:Tje,paginationGetRowCount:Ije,paginationGoToNextPage:Fje,paginationGoToPreviousPage:kje,paginationGoToFirstPage:Aje,paginationGoToLastPage:Mje,paginationGoToPage:Pje},dependsOn:[jI]};function Wje(e,t={}){let n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function Aoe(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&Aoe(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function jje(e,t){return e.rowModel.getRowNode(t)}function $je(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function qje(e){return e.rowRenderer.getRenderedNodes()}function Kje(e,t,n){e.rowModel.forEachNode(t,n)}function Xje(e){return e.rowRenderer.firstRenderedRow}function Yje(e){return e.rowRenderer.lastRenderedRow}function Zje(e,t){return e.rowModel.getRow(t)}function Qje(e){return e.rowModel.getRowCount()}var Jje={moduleName:"RowApi",version:ct,apiFunctions:{redrawRows:Wje,setRowNodeExpanded:Aoe,getRowNode:jje,addRenderedRowListener:$je,getRenderedNodes:qje,forEachNode:Kje,getFirstDisplayedRowIndex:Xje,getLastDisplayedRowIndex:Yje,getDisplayedRowAtIndex:Zje,getDisplayedRowCount:Qje}},e$e={moduleName:"ScrollApi",version:ct,apiFunctions:{getVerticalPixelRange:SUe,getHorizontalPixelRange:EUe,ensureColumnVisible:_oe,ensureIndexVisible:Soe,ensureNodeVisible:DUe}};function t$e(e,t,n){if(!t)return;let i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function n$e(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function i$e(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function r$e(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function o$e(e){e.animationFrameSvc?.flushAllFrames()}function s$e(e){return{rowHeight:om(e),headerHeight:S_(e)}}function a$e(e,t={}){let n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{let s=o.getCellRenderer();s!=null&&n.push(f_(s))}),t.columns?.length)return n;let i=[],r=c5(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(r&&!d5(o.rowNode,r)||!o.isFullWidth())return;let s=o.getFullWidthCellRenderers();for(let a=0;a<s.length;a++){let l=s[a];l!=null&&i.push(f_(l))}}),[...i,...n]}var l$e={moduleName:"RenderApi",version:ct,apiFunctions:{setGridAriaProperty:t$e,refreshCells:n$e,refreshHeader:i$e,isAnimationFrameQueueEmpty:r$e,flushAllAnimationFrames:o$e,getSizesForCurrentTheme:s$e,getCellRendererInstances:a$e}};function c$e(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function Moe({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function d$e(e,t){t&&typeof t=="object"?Moe(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var u$e=class extends Te{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,defaultMaxWidth:o,defaultMinWidth:s,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:d,colModel:u,autoWidthCalc:f,visibleCols:p}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&d&&!d.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;let m=[],v=-1,C=Object.fromEntries(a.map(({colId:w,maxWidth:S,minWidth:D})=>[w,{maxWidth:S,minWidth:D}])),y=n??this.gos.get("skipHeaderOnAutoSize"),b=i??y;for(;v!==0;){v=0;let w=[];t.forEach(S=>{if(!S||vm(S))return;let D=u.getCol(S);if(!D||sm(D)||m.indexOf(D)>=0)return;let R=f.getPreferredWidthForColumn(D,y);if(R>0){let T=C[D.colId]??{};T.minWidth??(T.minWidth=s),T.maxWidth??(T.maxWidth=o);let k=h$e(D,R,T);D.setActualWidth(k,l),m.push(D),v++}w.push(D)}),w.length&&p.refresh(l)}b||this.autoSizeColumnGroupsByColumns(t,l,r),zC(this.eventSvc,m,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){let{colModel:i,ctrlsSvc:r}=this.beans,o=new Set;i.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||o.add(d),d=d.getParent()});let a,l=[];for(let c of o){for(let d of r.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}let t=this.beans.visibleCols.allCols;this.autoSizeCols(z({colKeys:t},e))}addColumnAutosize(e,t){let n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);let r=new em(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){let i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{let o=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),s=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=c_(r.eGridBody)-s;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):$e(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}let r={};i&&i?.columnLimits?.forEach(v=>{var C=v,{key:p}=C,m=xl(C,["key"]);r[typeof p=="string"?p:p.getColId()]=m});let o=this.beans.visibleCols.allCols;if(e<=0||!o.length||e===uh(o)&&o.every(m=>{if(m.colDef.suppressSizeToFit)return!0;let v=r?.[m.getId()],C=v?.minWidth??i?.defaultMinWidth,y=v?.maxWidth??i?.defaultMaxWidth,b=m.getActualWidth();return(C==null||b>=C)&&(y==null||b<=y)}))return;let a=[],l=[];o.forEach(p=>{p.getColDef().suppressSizeToFit===!0?l.push(p):a.push(p)});let c=a.slice(0),d=!1,u=p=>{nc(a,p),l.push(p)};for(a.forEach(p=>{p.resetActualWidth(t);let m=r?.[p.getId()],v=m?.minWidth??i?.defaultMinWidth,C=m?.maxWidth??i?.defaultMaxWidth,y=p.getActualWidth();typeof v=="number"&&y<v?p.setActualWidth(v,t,!0):typeof C=="number"&&y>C&&p.setActualWidth(C,t,!0)});!d;){d=!0;let p=e-uh(l);if(p<=0)a.forEach(m=>{let v=r?.[m.getId()]?.minWidth??i?.defaultMinWidth;if(typeof v=="number"){m.setActualWidth(v,t,!0);return}m.setActualWidth(m.minWidth,t)});else{let m=p/uh(a),v=p;for(let C=a.length-1;C>=0;C--){let y=a[C],b=r?.[y.getId()],w=b?.minWidth??i?.defaultMinWidth,S=b?.maxWidth??i?.defaultMaxWidth,D=y.getMinWidth(),R=y.getMaxWidth(),T=typeof w=="number"&&w>D?w:D,k=typeof S=="number"&&S<R?S:R,M=Math.round(y.getActualWidth()*m);M<T?(M=T,u(y),d=!1):M>k?(M=k,u(y),d=!1):C===0&&(M=v),y.setActualWidth(M,t,!0),v-=M}}}c.forEach(p=>{p.fireColumnWidthChangedEvent(t)});let f=this.beans.visibleCols;f.setLeftValues(t),f.updateBodyWidths(),!n&&zC(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,o=n?.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:r,columnLimits:o}=e;setTimeout(()=>{let s={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:r,columnLimits:o};t?this.autoSizeCols(z({colKeys:t},s)):this.autoSizeAllColumns(s)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function h$e(e,t,n={}){let i=n.minWidth??e.getMinWidth();t<i&&(t=i);let r=n.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}var f$e={moduleName:"ColumnAutoSize",version:ct,beans:[u$e],apiFunctions:{sizeColumnsToFit:c$e,autoSizeColumns:Moe,autoSizeAllColumns:d$e},dependsOn:[Mre]},p$e=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function g$e(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function m$e(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function v$e(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function C$e(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function y$e(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var x$e={moduleName:"PinnedRow",version:ct,beans:[kBe],css:[p$e],apiFunctions:{getPinnedTopRowCount:g$e,getPinnedBottomRowCount:m$e,getPinnedTopRow:v$e,getPinnedBottomRow:C$e,forEachPinnedRow:y$e},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},b$e=class extends NC{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,o,s){this.eWrapper=n,super.setComp(e,t,n,i,r,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&p5(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){KLe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(VI(t)){this.focusedCellPosition=void 0;return}let n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},w$e=class extends MI{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new b$e(t,this,this.beans)}isCorrectCtrlForSpan(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},_$e=class extends Te{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){let{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,o=this.getAllRelevantRowControls(e),s=new Map,a=!1;for(let c of o)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(d,u)=>{if(s.has(u.firstNode))return;let f=i.get(u.firstNode);if(f){s.set(u.firstNode,f),i.delete(u.firstNode);return}a=!0;let p=new w$e(u.firstNode,this.beans,!1,!1,!1);s.set(u.firstNode,p)});this[n]=s;let l=s.size===r;if(!(!a&&l)){for(let c of i.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;let i=`${Poe(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){let t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){let t=`${e}Ctrls`;for(let n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Poe=e=>e??"center",S$e=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},E$e=class extends Te{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:o,pagination:s}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,d=n.getCallback("isFullWidthRow"),u=a.equals,f=a.spanRows,p=typeof f=="function",m=null,v=null,C,y=(w,S)=>{m=w,v=null,C=S},b=w=>{let S=!w.isExpandable()&&!w.group&&!w.detail&&(d?!d({rowNode:w}):!0);if(w.rowIndex==null||!S){y(null,null);return}if(m==null||w.level!==m.level||w.footer||v&&w.rowIndex-1!==v?.getLastNode().rowIndex){y(w,o.getValue(t,w));return}let D=o.getValue(t,w);if(p){let R=At(n,{valueA:C,nodeA:m,valueB:D,nodeB:w,column:t,colDef:a});if(!f(R)){y(w,D);return}}else if(u?!u(C,D):C!==D){y(w,D);return}if(!v){let R=l?.get(m);R?.firstNode===m?(R.reset(),v=R):v=new S$e(t,m),c.set(m,v)}v.addSpannedNode(w),c.set(w,v)};switch(e){case"center":r.forEachDisplayedNode?.(w=>{(!s||s.isRowInPage(w.rowIndex))&&b(w)});break;case"top":i?.forEachPinnedRow("top",b);break;case"bottom":i?.forEachPinnedRow("bottom",b);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${Poe(e.rowPinned)}ValueNodeMap`].get(e)}},D$e=class extends Te{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=ls(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=ls(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;let n=this.createManagedBean(new E$e(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){let n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,o=this.spanningColumns.get(i);if(!o)return;let s;switch(e.rowPinned){case"top":s=t?.getPinnedTopRow(r);break;case"bottom":s=t?.getPinnedBottomRow(r);break;default:s=n.getRow(r)}if(s)return o.getCellSpan(s)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?ke(z({},e),{rowIndex:t.firstNode.rowIndex}):e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?ke(z({},e),{rowIndex:t.getLastNode().rowIndex}):e}getCellSpan(e,t){let n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){let r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},R$e={moduleName:"CellSpan",version:ct,beans:[D$e,_$e]},T$e=class extends Te{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);M5(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,o=>t.toggleCss(o,!0),o=>t.toggleCss(o,!1)),this.cellClassRules=i}applyUserStyles(){let e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){let r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(o=>t.toggleCss(o,!1));let r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(o=>t.toggleCss(o,!0))}getCellClassParams(e,t){let{value:n,rowNode:i}=this.cellCtrl;return At(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},I$e=class extends Te{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){M5(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){let{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new T$e(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},F$e={moduleName:"CellStyle",version:ct,beans:[I$e]},k$e={moduleName:"RowStyle",version:ct,beans:[g8e]};function A$e(e,t){return!!e.colHover?.isHovered(t)}var M$e=class extends Te{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{let{beans:i,gos:r,element:o,columns:s}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:a.setMouseOver.bind(a,s),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},P$e="ag-column-hover",O$e=class extends Te{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){let i=()=>{let r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;let n=this.isHovered(e);t.toggleCss(P$e,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);let r=()=>{let o=this.isHovered(n);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new M$e(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},L$e={moduleName:"ColumnHover",version:ct,beans:[O$e],apiFunctions:{isColumnHovered:A$e}},N$e=class extends Te{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){let n=this.wrapSvc?.wrap(e,t)??t,i=!hI.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){let n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,n=(o,s)=>{hI.has(o)&&t(o,s)},i=(o,s)=>{hI.has(o)||t(o,s)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});let r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){let{syncListener:s,asyncListener:a}=i.get(r);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function B$e(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function V$e(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function H$e(e,t){e.apiEventSvc?.addGlobalListener(t)}function G$e(e,t){e.apiEventSvc?.removeGlobalListener(t)}var z$e={moduleName:"EventApi",version:ct,apiFunctions:{addEventListener:B$e,addGlobalListener:H$e,removeEventListener:V$e,removeGlobalListener:G$e},beans:[N$e]},U$e={moduleName:"Locale",version:ct,beans:[_ze]},W$e=class extends Te{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=ls(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols,o=!1,s=a=>{let l=a.__autoHeights,c=ip(this.beans,a).height;for(let d of r){let u=l?.[d.getColId()],f=n?.getCellSpan(d,a);if(f){if(f.getLastNode()!==a)continue;if(u=n?.getCellSpan(d,a)?.getLastNodeAutoHeight(),!u)return}if(u==null){if(this.colSpanSkipCell(d,a))continue;return}c=Math.max(u,c)}c!==a.rowHeight&&(a.setRowHeight(c),o=!0)};i?.forEachPinnedRow?.("top",s),i?.forEachPinnedRow?.("bottom",s),t.forEachDisplayedNode?.(s),o&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}let i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=r.getLeftColsForRow(t);break;case"right":o=r.getRightColsForRow(t);break;case null:o=i.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let i=t.parentElement,{rowNode:r,column:o}=e,s=this.beans,a=d=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;let{paddingTop:u,paddingBottom:f,borderBottomWidth:p,borderTopWidth:m}=gm(i),v=u+f+p+m,y=t.offsetHeight+v;if(d<5){let b=Uo(s),w=!b||!b.contains(t),S=y==0;if(w||S){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(r,y,o)},l=()=>a(0);l();let c=sp(s,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(r,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;let e=this.beans.rowRenderer.getAllRowCtrls(),t=null;for(let{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(let i of t){let r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},j$e={moduleName:"RowAutoHeight",version:ct,beans:[W$e]},Ooe={moduleName:"AllCommunity",version:ct,dependsOn:[WWe,QWe,lje,qze,XUe,YUe,ZUe,QUe,JUe,eWe,tWe,KUe,Y9e,Z9e,Q9e,X9e,eUe,tUe,Sje,DWe,Uje,vVe,Jje,e$e,l$e,f$e,$5e,x$e,mWe,oze,F$e,L$e,k$e,z$e,lze,Cje,woe,U$e,j$e,j5e,jWe,R$e]};var $$e=(()=>{class e{constructor(){this.vcr=O($r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Qe({type:e,selectors:[["ag-component-container"]],standalone:!1,decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),Boe=16,i7=0;function q$e(e){let t=new Map;for(let n=0;n<Boe;n++){let i=e.createComponent($$e);t.set(n,i),sa(i.location.nativeElement)}return t}var K$e=new Set(["doesFilterPass","isFilterActive"]),Loe=(()=>{class e extends ooe{setViewContainerRef(n,i){this.viewContainerRef=n,this.angularFrameworkOverrides=i}createWrapper(n){let i=this.angularFrameworkOverrides,r=this;r.compShards??=q$e(this.viewContainerRef);class o extends r7{init(l){i.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.createComponent(n)}hasMethod(l){return s.getFrameworkComponentInstance()[l]!=null}callMethod(l,c){let d=this.getFrameworkComponentInstance(),u=d[l];return K$e.has(l)?u.apply(d,c):i.runInsideAngular(()=>u.apply(d,c))}addMethod(l,c){s[l]=c}}let s=new o;return s}createComponent(n){return i7=(i7+1)%Boe,this.compShards.get(i7).instance.vcr.createComponent(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Ys(e)))(r||e)}})()}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),r7=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,sa(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef?.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},KI=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t,n){let{frameworkOverrides:i,wrappedListeners:r}=this,o=n;if(i.shouldWrapOutgoing){o=a=>{i.wrapOutgoing(()=>n(a))};let s=r.get(t);s||(s=new Map,r.set(t,s)),s.set(n,o)}return o}wrapGlobal(t){let{frameworkOverrides:n,wrappedGlobalListeners:i}=this,r=t;return n.shouldWrapOutgoing&&(r=(o,s)=>{n.wrapOutgoing(()=>t(o,s))},i.set(t,r)),r}unwrap(t,n){let{wrappedListeners:i}=this,r=i.get(t);if(r){let o=r.get(n);if(o)return r.delete(n),r.size===0&&i.delete(t),o}return n}unwrapGlobal(t){let{wrappedGlobalListeners:n}=this,i=n.get(t);return i?(n.delete(t),i):t}},Noe=(()=>{class e extends W5{constructor(n){super("angular"),this._ngZone=n,this.batchFrameworkComps=!0,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(i,r)=>r==="resize-observer"||r==="popupPositioning"?this._ngZone.runOutsideAngular(i):i():this.runOutside=i=>this._ngZone.runOutsideAngular(i):this.runOutside=i=>i()}get shouldWrapOutgoing(){return this._ngZone&&pt.isInAngularZone()}createLocalEventListenerWrapper(n,i){if(this.shouldWrapOutgoing)return n??(i.setFrameworkOverrides(this),new KI(this))}createGlobalEventListenerWrapper(){return new KI(this)}isFrameworkComponent(n){if(!n)return!1;let i=n.prototype;return i&&"agInit"in i}runInsideAngular(n){return!this._ngZone||pt.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n,i){return this.runOutside(n,i)}static{this.\u0275fac=function(i){return new(i||e)(lt(pt))}}static{this.\u0275prov=Se({token:e,factory:e.\u0275fac})}}return e})(),Voe=(()=>{class e{constructor(n,i,r,o){this._viewContainerRef=i,this._angularFrameworkOverrides=r,this._frameworkCompWrapper=o,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(s=>{this._resolveFullyReady=s}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.getFullRowEditValidationErrors=void 0,this.invalidEditValueMode=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.findSearchValue=void 0,this.findOptions=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableFilterHandlers=void 0,this.filterHandlers=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.rowDragInsertDelay=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.treeDataParentIdField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.enableRowPinning=void 0,this.isRowPinnable=void 0,this.isRowPinned=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.styleNonce=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.isRowValidDropPosition=void 0,this.toolPanelVisibleChanged=new _e,this.toolPanelSizeChanged=new _e,this.columnMenuVisibleChanged=new _e,this.contextMenuVisibleChanged=new _e,this.cutStart=new _e,this.cutEnd=new _e,this.pasteStart=new _e,this.pasteEnd=new _e,this.columnVisible=new _e,this.columnPinned=new _e,this.columnResized=new _e,this.columnMoved=new _e,this.columnValueChanged=new _e,this.columnPivotModeChanged=new _e,this.columnPivotChanged=new _e,this.columnGroupOpened=new _e,this.newColumnsLoaded=new _e,this.gridColumnsChanged=new _e,this.displayedColumnsChanged=new _e,this.virtualColumnsChanged=new _e,this.columnEverythingChanged=new _e,this.columnsReset=new _e,this.columnHeaderMouseOver=new _e,this.columnHeaderMouseLeave=new _e,this.columnHeaderClicked=new _e,this.columnHeaderContextMenu=new _e,this.componentStateChanged=new _e,this.cellValueChanged=new _e,this.cellEditRequest=new _e,this.rowValueChanged=new _e,this.cellEditingStarted=new _e,this.cellEditingStopped=new _e,this.rowEditingStarted=new _e,this.rowEditingStopped=new _e,this.undoStarted=new _e,this.undoEnded=new _e,this.redoStarted=new _e,this.redoEnded=new _e,this.cellSelectionDeleteStart=new _e,this.cellSelectionDeleteEnd=new _e,this.rangeDeleteStart=new _e,this.rangeDeleteEnd=new _e,this.fillStart=new _e,this.fillEnd=new _e,this.filterOpened=new _e,this.filterChanged=new _e,this.filterModified=new _e,this.filterUiChanged=new _e,this.floatingFilterUiChanged=new _e,this.advancedFilterBuilderVisibleChanged=new _e,this.findChanged=new _e,this.chartCreated=new _e,this.chartRangeSelectionChanged=new _e,this.chartOptionsChanged=new _e,this.chartDestroyed=new _e,this.cellKeyDown=new _e,this.gridReady=new _e,this.firstDataRendered=new _e,this.gridSizeChanged=new _e,this.modelUpdated=new _e,this.virtualRowRemoved=new _e,this.viewportChanged=new _e,this.bodyScroll=new _e,this.bodyScrollEnd=new _e,this.dragStarted=new _e,this.dragStopped=new _e,this.dragCancelled=new _e,this.stateUpdated=new _e,this.paginationChanged=new _e,this.rowDragEnter=new _e,this.rowDragMove=new _e,this.rowDragLeave=new _e,this.rowDragEnd=new _e,this.rowDragCancel=new _e,this.rowResizeStarted=new _e,this.rowResizeEnded=new _e,this.columnRowGroupChanged=new _e,this.rowGroupOpened=new _e,this.expandOrCollapseAll=new _e,this.pivotMaxColumnsExceeded=new _e,this.pinnedRowDataChanged=new _e,this.pinnedRowsChanged=new _e,this.rowDataUpdated=new _e,this.asyncTransactionsFlushed=new _e,this.storeRefreshed=new _e,this.headerFocused=new _e,this.cellClicked=new _e,this.cellDoubleClicked=new _e,this.cellFocused=new _e,this.cellMouseOver=new _e,this.cellMouseOut=new _e,this.cellMouseDown=new _e,this.rowClicked=new _e,this.rowDoubleClicked=new _e,this.rowSelected=new _e,this.selectionChanged=new _e,this.cellContextMenu=new _e,this.rangeSelectionChanged=new _e,this.cellSelectionChanged=new _e,this.tooltipShow=new _e,this.tooltipHide=new _e,this.sortChanged=new _e,this._nativeElement=n.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let n=Object.keys(this).filter(a=>!(a.startsWith("_")||a=="gridOptions"||a=="modules"||this[a]instanceof _e)),i={};n.forEach(a=>{let l=Y$e(a,this[a]);i[a]=l});let r=uie(this.gridOptions,i,n),o={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},s=ioe(this._nativeElement,r,o);s&&(this.api=s),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(n){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let i={};for(let r of Object.keys(n)){let o=n[r];i[r]=o.currentValue}hie(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){let r=this[n],o=r?.observed??r?.observers?.length>0,s=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[s];return o||a}globalListener(n,i){if(this._destroyed)return;let r=this[n];if(r&&this.isEmitterUsed(n)){let o=()=>this._angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));this._holdEvents?this._fullyReady.then(()=>o()):o()}}static{this.\u0275fac=function(i){return new(i||e)(We(Tt),We($r),We(Noe),We(Loe))}}static{this.\u0275cmp=Qe({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",pe],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",pe],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",pe],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",pe],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",pe],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",pe],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",pe],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",pe],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",pe],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",pe],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",pe],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",pe],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",pe],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",pe],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",pe],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",pe],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",pe],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",pe],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",pe],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",pe],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",pe],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",pe],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",pe],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",pe],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",pe],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",pe],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",pe],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",getFullRowEditValidationErrors:"getFullRowEditValidationErrors",invalidEditValueMode:"invalidEditValueMode",singleClickEdit:[2,"singleClickEdit","singleClickEdit",pe],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",pe],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",pe],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",pe],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",pe],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",pe],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",pe],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",pe],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",pe],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",pe],excelStyles:"excelStyles",findSearchValue:"findSearchValue",findOptions:"findOptions",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",pe],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",pe],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",pe],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",pe],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",pe],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",pe],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",pe],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",pe],enableFilterHandlers:[2,"enableFilterHandlers","enableFilterHandlers",pe],filterHandlers:"filterHandlers",enableCharts:[2,"enableCharts","enableCharts",pe],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",pe],keepDetailRows:[2,"keepDetailRows","keepDetailRows",pe],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",pe],context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",pe],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",pe],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",pe],suppressTouch:[2,"suppressTouch","suppressTouch",pe],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",pe],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",pe],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",pe],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",pe],debug:[2,"debug","debug",pe],loading:[2,"loading","loading",pe],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",pe],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",pe],pagination:[2,"pagination","pagination",pe],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",pe],paginateChildRows:[2,"paginateChildRows","paginateChildRows",pe],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",pe],pivotMode:[2,"pivotMode","pivotMode",pe],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",pe],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",pe],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",pe],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",pe],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",pe],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",pe],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",pe],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",pe],animateRows:[2,"animateRows","animateRows",pe],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",pe],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",pe],enableCellSpan:[2,"enableCellSpan","enableCellSpan",pe],enableRtl:[2,"enableRtl","enableRtl",pe],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",pe],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",pe],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",pe],rowDragManaged:[2,"rowDragManaged","rowDragManaged",pe],rowDragInsertDelay:"rowDragInsertDelay",suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",pe],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",pe],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",pe],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",pe],rowDragText:"rowDragText",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",pe],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",pe],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",pe],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",pe],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",pe],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",pe],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",pe],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",pe],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",pe],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",pe],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",pe],treeDataChildrenField:"treeDataChildrenField",treeDataParentIdField:"treeDataParentIdField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",pe],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",pe],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",enableRowPinning:"enableRowPinning",isRowPinnable:"isRowPinnable",isRowPinned:"isRowPinned",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",pe],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",pe],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",pe],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",pe],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",pe],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",pe],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",pe],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",pe],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",pe],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",pe],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",pe],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",pe],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",pe],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",pe],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",pe],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",pe],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",pe],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",pe],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",pe],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",pe],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",pe],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",pe],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",pe],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",pe],enableFillHandle:[2,"enableFillHandle","enableFillHandle",pe],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",pe],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",pe],unSortIcon:[2,"unSortIcon","unSortIcon",pe],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",pe],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",pe],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",pe],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",pe],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",pe],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",pe],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",pe],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",pe],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",pe],themeCssLayer:"themeCssLayer",styleNonce:"styleNonce",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",pe],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow",isRowValidDropPosition:"isRowValidDropPosition"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnsReset:"columnsReset",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",filterUiChanged:"filterUiChanged",floatingFilterUiChanged:"floatingFilterUiChanged",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",findChanged:"findChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",rowResizeStarted:"rowResizeStarted",rowResizeEnded:"rowResizeEnded",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",pinnedRowsChanged:"pinnedRowsChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[fi([Noe,Loe]),Yo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),X$e=new Set(X5);function Y$e(e,t){return X$e.has(e)?t===""?!0:t==="false"?!1:t:t}var XI=class e{show=!1;position="left";offset="10";className="overflow-pane-css-class";get displayStyle(){return this.show?"unset":"none"}get leftStyle(){return this.position==="left"?`${this.offset}px`:"unset"}get rightStyle(){return this.position==="right"?`${this.offset}px`:"unset"}width="480px";static \u0275fac=function(n){return new(n||e)};static \u0275dir=Lt({type:e,selectors:[["","appOverflowPane",""]],hostVars:10,hostBindings:function(n,i){n&2&&(Xa(i.className),gc("display",i.displayStyle)("left",i.leftStyle)("right",i.rightStyle)("width",i.width))},inputs:{show:"show",position:"position",offset:"offset",width:"width"}})};var nae=Mm(NR());var Hoe="mat-badge-content",Z$e=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,r){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}"],encapsulation:2,changeDetection:0})}return e})(),Goe=(()=>{class e{_ngZone=O(pt);_elementRef=O(Tt);_ariaDescriber=O(N2);_renderer=O(Fr);_animationMode=O(Ir,{optional:!0});_idGenerator=O(ys);get color(){return this._color}set color(n){this._setColor(n),this._color=n}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(n){this._updateRenderedContent(n)}_content;get description(){return this._description}set description(n){this._updateDescription(n)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=O(U0);_document=O(Ot);constructor(){let n=O(oo);n.load(Z$e),n.load(eg)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let n=this._renderer.createElement("span"),i="mat-badge-active";return n.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),n.setAttribute("aria-hidden","true"),n.classList.add(Hoe),this._animationMode==="NoopAnimations"&&n.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(n),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{n.classList.add(i)})}):n.classList.add(i),n}_updateRenderedContent(n){let i=`${n??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!n||this._isHostInteractive())&&this._removeInlineDescription(),this._description=n,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,n):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(n){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),n&&i.add(`mat-badge-${n}`)}_clearExistingBadges(){let n=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Hoe}`);for(let i of Array.from(n))i!==this._badgeElement&&i.remove()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Lt({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){i&2&&gn("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",pe],disabled:[2,"matBadgeDisabled","disabled",pe],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",pe]}})}return e})(),zoe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[W0,dn,dn]})}return e})();var J$e=["mat-internal-form-field",""],eqe=["*"],Uoe=(()=>{class e{labelPosition;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&gn("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:J$e,ngContentSelectors:eqe,decls:1,vars:0,template:function(i,r){i&1&&(Kr(),ri(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return e})();var tqe=["input"],nqe=["label"],iqe=["*"],rqe=new Re("mat-checkbox-default-options",{providedIn:"root",factory:joe});function joe(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Vs=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(Vs||{}),oqe={provide:E2,useExisting:id(()=>YI),multi:!0},o7=class{source;checked},Woe=joe(),YI=(()=>{class e{_elementRef=O(Tt);_changeDetectorRef=O(Fi);_ngZone=O(pt);_animationMode=O(Ir,{optional:!0});_options=O(rqe,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let i=new o7;return i.source=this,i.checked=n,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new _e;indeterminateChange=new _e;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Vs.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){O(oo).load(j0);let n=O(new s0("tabindex"),{optional:!0});this._options=this._options||Woe,this.color=this._options.color||Woe.color,this.tabIndex=n==null?0:parseInt(n)||0,this.id=this._uniqueId=O(ys).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(n){let i=n!=this._indeterminate;this._indeterminate=n,i&&(this._indeterminate?this._transitionCheckState(Vs.Indeterminate):this._transitionCheckState(this.checked?Vs.Checked:Vs.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===n||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Vs.Checked:Vs.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&n==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,i){if(this._animationMode==="NoopAnimations")return"";switch(n){case Vs.Init:if(i===Vs.Checked)return this._animationClasses.uncheckedToChecked;if(i==Vs.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Vs.Unchecked:return i===Vs.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Vs.Checked:return i===Vs.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Vs.Indeterminate:return i===Vs.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let i=this._inputElement;i&&(i.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Qe({type:e,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(tr(tqe,5),tr(nqe,5)),i&2){let o;Qn(o=Jn())&&(r._inputElement=o.first),Qn(o=Jn())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(Up("id",r.id),bi("tabindex",null)("aria-label",null)("aria-labelledby",null),Xa(r.color?"mat-"+r.color:"mat-accent"),gn("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",pe],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",pe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",pe],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:x0(n)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",pe],checked:[2,"checked","checked",pe],disabled:[2,"disabled","disabled",pe],indeterminate:[2,"indeterminate","indeterminate",pe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[fi([oqe,{provide:zx,useExisting:e,multi:!0}]),Yo],ngContentSelectors:iqe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=ro();Kr(),Le(0,"div",3),Ft("click",function(a){return ui(o),hi(r._preventBubblingFromLabel(a))}),Le(1,"div",4,0)(3,"div",5),Ft("click",function(){return ui(o),hi(r._onTouchTargetClick())}),He(),Le(4,"input",6,1),Ft("blur",function(){return ui(o),hi(r._onBlur())})("click",function(){return ui(o),hi(r._onInputClick())})("change",function(a){return ui(o),hi(r._onInteractionEvent(a))}),He(),Ct(6,"div",7),Le(7,"div",8),Gp(),Le(8,"svg",9),Ct(9,"path",10),He(),tx(),Ct(10,"div",11),He(),Ct(11,"div",12),He(),Le(12,"label",13,2),ri(14),He()()}if(i&2){let o=Zo(2);dt("labelPosition",r.labelPosition),Xe(4),gn("mdc-checkbox--selected",r.checked),dt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),bi("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),Xe(7),dt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),Xe(),dt("for",r.inputId)}},dependencies:[B2,Uoe],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();var $oe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=It({type:e});static \u0275inj=Rt({imports:[YI,dn,dn]})}return e})();var D_=Mm(tae());var OF=class e{key="1960";saveData(t,n){localStorage.setItem(t,this.encrypt(n))}hasData(t){return localStorage.getItem(t)!==null}getData(t){let n=localStorage.getItem(t)||"";return this.decrypt(n)}removeData(t){localStorage.removeItem(t)}clearData(){localStorage.clear()}encrypt(t){return D_.AES.encrypt(t,this.key).toString()}decrypt(t){return D_.AES.decrypt(t,this.key).toString(D_.enc.Utf8)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})};var LF=class e{constructor(t,n){this.dataStoreService=t;this.storageService=n}gridApi;cellValueChangedEvent$;firstDataRendered$;gridStyleChange=new _e;destroyRef=O(Xi);undoCounter=0;redoCounter=0;disableUndoButton=!1;disableRedoButton=!1;isPrinting=!1;checkedAllPages=!1;ngOnInit(){this.firstDataRendered$.pipe(wi(this.destroyRef)).subscribe(()=>{this.onFirstDataRendered()})}onFirstDataRendered(){this.undoCounter=0,this.redoCounter=0,this.disableUndoButton=!1,this.disableRedoButton=!1;let t=this.gridApi.getGridOption("onSortChanged"),n=this.gridApi.getGridOption("onColumnMoved"),i=this.gridApi.getGridOption("onFilterChanged"),r=this.gridApi.getGridOption("onCellValueChanged");this.gridApi.updateGridOptions({onSortChanged:o=>this.onSortChanged(t,o),onColumnMoved:o=>this.onColumnMoved(n,o),onFilterChanged:o=>this.onFilterChanged(i,o),onCellValueChanged:o=>this.onCellValueChanged(r,o)})}close(){this.dataStoreService.setEditMode(!1)}clearFilters(){this.gridApi.setFilterModel(null),this.updateRedoUndoSettings()}saveSettings(){this.storageService.saveData("ColumnState",this.gridApi.getColumnState().map(t=>JSON.stringify(t)).join("~")),this.updateRedoUndoSettings()}restoreSettings(){if(!this.storageService.hasData("ColumnState")){console.log("no columns state to restore by, you must save state first");return}this.gridApi.applyColumnState({state:this.storageService.getData("ColumnState").split("~").map(t=>JSON.parse(t)),applyOrder:!0}),this.updateRedoUndoSettings()}resetSettings(){this.gridApi.resetColumnState(),setTimeout(()=>{this.gridApi.autoSizeAllColumns()},10),this.updateRedoUndoSettings()}undo(){this.gridApi.undoCellEditing()}redo(){this.gridApi.redoCellEditing()}onCheckAllPages(){this.checkedAllPages=!this.checkedAllPages}onBtnExport(){this.gridApi.exportDataAsCsv({allColumns:!1})}onCellValueChanged(t,n){t&&t(n),this.updateRedoUndoSettings()}onSortChanged(t,n){t&&t(n),this.updateRedoUndoSettings()}onColumnMoved(t,n){t&&t(n),this.updateRedoUndoSettings()}onFilterChanged(t,n){t&&t(n),this.updateRedoUndoSettings()}onBtPrint(){this.setPrinterFriendly(),setTimeout(()=>{print(),this.setNormal()},2e3)}updateRedoUndoSettings(){this.undoCounter=this.gridApi.getCurrentUndoSize(),this.redoCounter=this.gridApi.getCurrentRedoSize(),this.disableUndoButton=this.undoCounter<1,this.disableRedoButton=this.redoCounter<1}originalStyle;currentSelectedPage;setPrinterFriendly(){this.currentSelectedPage=this.gridApi.paginationGetCurrentPage(),this.checkedAllPages?this.gridApi.updateGridOptions({pagination:!1}):(this.gridApi.updateGridOptions({paginationAutoPageSize:!1,paginationPageSize:this.gridApi.paginationGetPageSize()}),this.gridApi.paginationGoToPage(this.currentSelectedPage)),this.isPrinting=!0,this.gridStyleChange.emit(`
      display: table !important;
      width: 100% !important;
      height: 100% !important;
      max-height: 100% !important;
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      z-index: 99999 !important;
      overflow: hidden !important;
      background: white !important;
    `),setTimeout(()=>{let n=document.querySelector("#section-to-print");this.originalStyle=n.style.cssText,n.style.width="",n.style.height="",this.gridApi.updateGridOptions({domLayout:"print"})},100)}setNormal(){this.gridStyleChange.emit(""),this.gridApi.updateGridOptions({pagination:!0,paginationAutoPageSize:!0}),this.currentSelectedPage&&this.gridApi.paginationGoToPage(this.currentSelectedPage),setTimeout(()=>{let t=document.querySelector("#section-to-print");t.style.cssText=this.originalStyle||"",this.gridApi.setGridOption("domLayout",void 0),this.isPrinting=!1},100)}static \u0275fac=function(n){return new(n||e)(We(Rs),We(OF))};static \u0275cmp=Qe({type:e,selectors:[["app-top-buttons"]],inputs:{gridApi:"gridApi",cellValueChangedEvent$:"cellValueChangedEvent$",firstDataRendered$:"firstDataRendered$"},outputs:{gridStyleChange:"gridStyleChange"},decls:32,vars:6,consts:[[1,"button-row",3,"hidden"],[1,"flex-container"],["matMiniFab","","aria-hidden","false","aria-label","Button with a filter off icon","matTooltip","Clear filters"],[3,"click"],["matMiniFab","","aria-hidden","false","aria-label","Button with a backup table icon","matTooltip","Save grid settings"],["matMiniFab","","aria-hidden","false","aria-label","Button with a table icon","matTooltip","Restore grid settings"],["fontSet","material-symbols-outlined",3,"click"],["matMiniFab","","aria-label","Button with a reset icon","matTooltip","Reset grid settings"],["matMiniFab","","aria-label","Button with a undo icon","matTooltip","Undo",3,"disabled"],["fontSet","material-symbols-outlined",3,"click","matBadge"],["matMiniFab","","aria-label","Button with a redo icon","matTooltip","Redo",3,"disabled"],["matMiniFab","","aria-label","Button with a export csv icon","matTooltip","Export to csv file"],["matMiniFab","","aria-label","Button with a print icon","matTooltip","Print grid"],[1,"check-all-pages",3,"change","checked"],["mat-icon-button","","aria-label","Button with a close icon",1,"close-button"],[1,"close-icon",3,"click"]],template:function(n,i){n&1&&(Le(0,"div",0)(1,"div",1)(2,"div")(3,"button",2)(4,"mat-icon",3),Ft("click",function(){return i.clearFilters()}),cn(5,"filter_list_off"),He()(),Le(6,"button",4)(7,"mat-icon",3),Ft("click",function(){return i.saveSettings()}),cn(8,"backup_table"),He()(),Le(9,"button",5)(10,"mat-icon",6),Ft("click",function(){return i.restoreSettings()}),cn(11,"table"),He()(),Le(12,"button",7)(13,"mat-icon",6),Ft("click",function(){return i.resetSettings()}),cn(14,"reset_settings"),He()(),Le(15,"button",8)(16,"mat-icon",9),Ft("click",function(){return i.undo()}),cn(17,"undo"),He()(),Le(18,"button",10)(19,"mat-icon",9),Ft("click",function(){return i.redo()}),cn(20,"redo"),He()(),Le(21,"button",11)(22,"mat-icon",6),Ft("click",function(){return i.onBtnExport()}),cn(23,"csv"),He()(),Le(24,"button",12)(25,"mat-icon",6),Ft("click",function(){return i.onBtPrint()}),cn(26,"print"),He()(),Le(27,"mat-checkbox",13),Ft("change",function(){return i.onCheckAllPages()}),cn(28," All pages "),He()(),Le(29,"button",14)(30,"mat-icon",15),Ft("click",function(){return i.close()}),cn(31,"close"),He()()()()),n&2&&(dt("hidden",i.isPrinting),Xe(15),dt("disabled",i.disableUndoButton),Xe(),dt("matBadge",i.undoCounter),Xe(2),dt("disabled",i.disableRedoButton),Xe(),dt("matBadge",i.redoCounter),Xe(8),dt("checked",i.checkedAllPages))},dependencies:[aw,R6,Pu,Mu,lg,ob,zoe,Goe,$oe,YI],styles:["@media print{[_nghost-%COMP%]{display:none}}section[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:8px}.button-row[_ngcontent-%COMP%]{background:color-mix(in srgb,#fff,#181d1f 2%);border:none;border-radius:8px}.button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:0}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px;border-radius:8px;border-color:wheat}.close-icon[_ngcontent-%COMP%]{color:red;float:right;cursor:pointer}.close-button[_ngcontent-%COMP%]{border-style:hidden;background-color:transparent;margin:4px!important}.check-all-pages[_ngcontent-%COMP%]{vertical-align:super}button[_ngcontent-%COMP%]{cursor:pointer}"]})};Hie.registerModules([Ooe]);var NF=class e{constructor(t,n,i){this.dataStoreService=t;this.eRef=n;this.doms=i;this.inEditMode=this.dataStoreService.isInEditMode()}clickout(t){this.eRef.nativeElement.contains(t.target)||this.dataStoreService.setEditMode(!1)}destroyRef=O(Xi);defaultColDef={filter:!0,minWidth:60,flex:1};inEditMode=!1;rowData=[];colDefs=[];autoSizeStrategy={type:"fitCellContents"};gridApi;firstDataRendered$=new ut;hostStyle="";dataStore=[];selectedIndex;rowSelection=()=>({mode:"singleRow",checkboxes:!1,enableClickSelection:!0});onGridReady(t){this.gridApi=t.api,this.dataStoreService.editMode$.pipe(wi(this.destroyRef)).subscribe(n=>Wr(this,null,function*(){if(this.inEditMode=n,n){this.dataStore=this.dataStoreService.getStore();let i=this.dataStoreService.getSelectedData();i?this.selectedIndex=this.dataStore.findIndex(o=>(0,nae.isEqual)(o,i)):this.selectedIndex=void 0,this.rowData=this.dataStore.map((o,s)=>{let p=o,{geoPositionInfo:a,longitude:l,latitude:c,error:d,sheetName:u}=p,f=xl(p,["geoPositionInfo","longitude","latitude","error","sheetName"]);return z({id:s.toString()},f)});let r=kZ(this.rowData);this.colDefs=r.map(o=>({headerName:o,field:o,hide:o==="id",editable:!0,cellEditor:"agTextCellEditor",cellEditorParams:{maxLength:100}})),this.selectedIndex!==void 0&&this.gridApi.setFilterModel(null),this.gridApi.setGridOption("columnDefs",this.colDefs),this.gridApi.setGridOption("rowData",this.rowData),this.selectedIndex!==void 0?this.gridApi.getRowNode(this.selectedIndex?.toString())?.setSelected(!0):this.gridApi.deselectAll(),setTimeout(()=>{if(this.gridApi.autoSizeAllColumns(),this.selectedIndex!==void 0){let o=this.gridApi.paginationGetPageSize(),s=Math.floor((this.selectedIndex||0)/o);console.log("pageSize",o),console.log("selectedIndex",this.selectedIndex),console.log("page",s),console.log("totalPages",this.gridApi.paginationGetTotalPages()),this.gridApi.paginationGoToPage(s),this.gridApi.ensureIndexVisible(this.selectedIndex)}else this.gridApi.paginationGoToPage(0)},10)}}))}onFirstDataRendered(t){this.firstDataRendered$.next(t)}onGetRowId(t){return t.data.id}onCellValueChanged(t){let n=t.data;this.dataStoreService.updateData(n),this.inEditMode&&(this.rowData=this.dataStoreService.getStore().map((i,r)=>{let u=i,{geoPositionInfo:o,longitude:s,latitude:a,error:l,sheetName:c}=u,d=xl(u,["geoPositionInfo","longitude","latitude","error","sheetName"]);return z({id:r.toString()},d)}))}onRowSelected(t){this.dataStoreService.setSelectedData(t.data)}onGridStyleChange(t){this.hostStyle=this.doms.bypassSecurityTrustStyle(t)}static \u0275fac=function(n){return new(n||e)(We(Rs),We(Tt),We(jp))};static \u0275cmp=Qe({type:e,selectors:[["app-excel-grid"]],hostBindings:function(n,i){n&1&&Ft("click",function(o){return i.clickout(o)},!1,h9)},decls:3,vars:14,consts:[["appOverflowPane","","width","70%","offset","0",3,"show"],[3,"gridStyleChange","gridApi","firstDataRendered$"],["id","section-to-print",2,"width","100%","height","calc(100% - 49px)",3,"gridReady","cellValueChanged","rowSelected","firstDataRendered","defaultColDef","paginationAutoPageSize","pagination","suppressFieldDotNotation","suppressExcelExport","undoRedoCellEditing","autoSizeStrategy","getRowId","rowSelection"]],template:function(n,i){n&1&&(Le(0,"div",0)(1,"app-top-buttons",1),Ft("gridStyleChange",function(o){return i.onGridStyleChange(o)}),He(),Le(2,"ag-grid-angular",2),Ft("gridReady",function(o){return i.onGridReady(o)})("cellValueChanged",function(o){return i.onCellValueChanged(o)})("rowSelected",function(o){return i.onRowSelected(o)})("firstDataRendered",function(o){return i.onFirstDataRendered(o)}),He()()),n&2&&(pU(i.hostStyle),dt("show",i.inEditMode),Xe(),dt("gridApi",i.gridApi)("firstDataRendered$",i.firstDataRendered$),Xe(),dt("defaultColDef",i.defaultColDef)("paginationAutoPageSize",!0)("pagination",!0)("suppressFieldDotNotation",!0)("suppressExcelExport",!0)("undoRedoCellEditing",!0)("autoSizeStrategy",i.autoSizeStrategy)("getRowId",i.onGetRowId)("rowSelection",i.rowSelection()))},dependencies:[Voe,XI,oi,LF],encapsulation:2})};var BF=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Qe({type:e,selectors:[["app-houses"]],decls:4,vars:0,consts:[[1,"content"],["show",""]],template:function(n,i){n&1&&(Le(0,"div",0),Ct(1,"app-excel-grid",1)(2,"app-houses-map")(3,"app-toaster-container"),He())},dependencies:[WT,oi,lg,$T,NF],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   .import-icon[_ngcontent-%COMP%]{color:#2190e4;position:fixed;top:95px;left:10px}"]})};var iae=[{path:"hangout/:userId/:username",component:WR},{path:"home",component:sw},{path:"location",component:sw},{path:"",component:BF}];var l7={providers:[OU({eventCoalescing:!0}),U3(iae),v3(C3())]};var VF=class e{title="app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Qe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&Ct(0,"router-outlet")},dependencies:[Mx],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;flex-direction:column;flex:1 1 100%}"]})};d3(VF,ke(z({},l7),{providers:[...l7.providers,{provide:iD,useValue:{subscriptSizing:"dynamic"}}]})).catch(e=>console.error(e));
