import{a as re,b as Le,c as Jh,d as da,e as Ye,f as An,g as bu,h as yu,i as wu,j as Et,k as PR,l as gL,m as V1}from"./chunk-K4ALXBGI.js";var Yr,lA=Ye(()=>{"use strict";Yr={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}});function cA(e){let t=jr();for(let n=0,i=e.length;n<i;++n)jf(t,e[n]);return t}function s0e(e,t,n){let i=Math.min.apply(null,e),r=Math.min.apply(null,t),o=Math.max.apply(null,e),s=Math.max.apply(null,t);return ba(i,r,o,s,n)}function xg(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function bS(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function yS(e,t,n){let i,r;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?r=e[1]-n:e[3]<n?r=n-e[3]:r=0,i*i+r*r}function wl(e,t){return dA(e,t[0],t[1])}function Md(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function dA(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function vS(e,t){let n=e[0],i=e[1],r=e[2],o=e[3],s=t[0],a=t[1],l=Yr.UNKNOWN;return s<n?l=l|Yr.LEFT:s>r&&(l=l|Yr.RIGHT),a<i?l=l|Yr.BELOW:a>o&&(l=l|Yr.ABOVE),l===Yr.UNKNOWN&&(l=Yr.INTERSECTING),l}function jr(){return[1/0,1/0,-1/0,-1/0]}function ba(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function zf(e){return ba(1/0,1/0,-1/0,-1/0,e)}function wS(e,t){let n=e[0],i=e[1];return ba(n,i,n,i,t)}function Sg(e,t,n,i,r){let o=zf(r);return uA(o,e,t,n,i)}function Td(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function _j(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function jf(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function uA(e,t,n,i,r){for(;n<i;n+=r)a0e(e,t[n],t[n+1]);return e}function a0e(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function CS(e,t){let n;return n=t(Eg(e)),n||(n=t(Dg(e)),n)||(n=t(Rg(e)),n)||(n=t(Wa(e)),n)?n:!1}function ny(e){let t=0;return qu(e)||(t=Tn(e)*sr(e)),t}function Eg(e){return[e[0],e[1]]}function Dg(e){return[e[2],e[1]]}function Ua(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function xj(e,t){let n;if(t==="bottom-left")n=Eg(e);else if(t==="bottom-right")n=Dg(e);else if(t==="top-left")n=Wa(e);else if(t==="top-right")n=Rg(e);else throw new Error("Invalid corner");return n}function iy(e,t,n,i,r){let[o,s,a,l,d,c,u,h]=hA(e,t,n,i);return ba(Math.min(o,a,d,u),Math.min(s,l,c,h),Math.max(o,a,d,u),Math.max(s,l,c,h),r)}function hA(e,t,n,i){let r=t*i[0]/2,o=t*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,d=r*a,c=o*s,u=o*a,h=e[0],p=e[1];return[h-l+u,p-d-c,h-l-u,p-d+c,h+l-u,p+d+c,h+l+u,p+d-c,h-l+u,p-d-c]}function sr(e){return e[3]-e[1]}function gc(e,t,n){let i=n||jr();return mr(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):zf(i),i}function Wa(e){return[e[0],e[3]]}function Rg(e){return[e[2],e[3]]}function Tn(e){return e[2]-e[0]}function mr(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function qu(e){return e[2]<e[0]||e[3]<e[1]}function Sj(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Ej(e,t,n){let i=!1,r=vS(e,t),o=vS(e,n);if(r===Yr.INTERSECTING||o===Yr.INTERSECTING)i=!0;else{let s=e[0],a=e[1],l=e[2],d=e[3],c=t[0],u=t[1],h=n[0],p=n[1],f=(p-u)/(h-c),m,g;o&Yr.ABOVE&&!(r&Yr.ABOVE)&&(m=h-(p-d)/f,i=m>=s&&m<=l),!i&&o&Yr.RIGHT&&!(r&Yr.RIGHT)&&(g=p-(h-l)*f,i=g>=a&&g<=d),!i&&o&Yr.BELOW&&!(r&Yr.BELOW)&&(m=h-(p-a)/f,i=m>=s&&m<=l),!i&&o&Yr.LEFT&&!(r&Yr.LEFT)&&(g=p-(h-s)*f,i=g>=a&&g<=d)}return i}function Dj(e,t,n,i){if(qu(e))return zf(n);let r=[];if(i>1){let a=e[2]-e[0],l=e[3]-e[1];for(let d=0;d<i;++d)r.push(e[0]+a*d/i,e[1],e[2],e[1]+l*d/i,e[2]-a*d/i,e[3],e[0],e[3]-l*d/i)}else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);let o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return s0e(o,s,n)}function fA(e,t){let n=t.getExtent(),i=Ua(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){let r=Tn(n),s=Math.floor((i[0]-n[0])/r)*r;e[0]-=s,e[2]-=s}return e}function _S(e,t,n){if(t.canWrapX()){let i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];fA(e,t);let r=Tn(i);if(Tn(e)>r&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+r,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-r,e[3]]]}return[e]}var ni=Ye(()=>{"use strict";lA()});function ui(e,t,n){return Math.min(Math.max(e,t),n)}function Rj(e,t,n,i,r,o){let s=r-n,a=o-i;if(s!==0||a!==0){let l=((e-n)*s+(t-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return Id(e,t,n,i)}function Id(e,t,n,i){let r=n-e,o=i-t;return r*r+o*o}function Mj(e){let t=e.length;for(let i=0;i<t;i++){let r=i,o=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){let l=Math.abs(e[a][i]);l>o&&(o=l,r=a)}if(o===0)return null;let s=e[r];e[r]=e[i],e[i]=s;for(let a=i+1;a<t;a++){let l=-e[a][i]/e[i][i];for(let d=i;d<t+1;d++)i==d?e[a][d]=0:e[a][d]+=l*e[i][d]}}let n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let r=i-1;r>=0;r--)e[r][t]-=e[r][i]*n[i]}return n}function xS(e){return e*180/Math.PI}function Cl(e){return e*Math.PI/180}function _l(e,t){let n=e%t;return n*t<0?n+t:n}function qo(e,t,n){return e+n*(t-e)}function Mg(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}function ry(e,t){return Math.floor(Mg(e,t))}function oy(e,t){return Math.ceil(Mg(e,t))}function SS(e,t,n){if(e>=t&&e<n)return e;let i=n-t;return((e-t)%i+i)%i+t}var ar=Ye(()=>{"use strict"});function Tj(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function l0e(e,t,n){return e?t.replace("{x}",e[0].toFixed(n)).replace("{y}",e[1].toFixed(n)):""}function Gf(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function Tg(e,t){let n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=r,e[1]=o,e}function Ij(e,t){return e[0]*=t,e[1]*=t,e}function kj(e,t){return l0e(e,"{x}, {y}",t)}function Ig(e,t){if(t.canWrapX()){let n=Tn(t.getExtent()),i=pA(e,t,n);i&&(e[0]-=i*n)}return e}function pA(e,t,n){let i=t.getExtent(),r=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||Tn(i),r=Math.floor((e[0]-i[0])/n)),r}var kd=Ye(()=>{"use strict";ni()});function vc(e){for(let t in e)delete e[t]}function xl(e){let t;for(t in e)return!1;return!t}var Sl=Ye(()=>{"use strict"});function yn(e,t,n,i,r){if(r){let s=n;n=function(a){return e.removeEventListener(t,n),s.call(i??this,a)}}else i&&i!==e&&(n=n.bind(i));let o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function kg(e,t,n,i){return yn(e,t,n,i,!0)}function Qn(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),vc(e))}var js=Ye(()=>{"use strict";Sl()});function ES(...e){c0e>Aj.warn||console.warn(...e)}var Aj,c0e,mA=Ye(()=>{"use strict";Aj={info:1,warn:2,error:3,none:4},c0e=Aj.info});var $a,gA=Ye(()=>{"use strict";$a={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}});var vA,Yu,sy=Ye(()=>{"use strict";gA();vA=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||$a[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Yu=vA});function Fj(e,t,n,i){let r=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let o=0;o<r;o+=i){t[o]=Ag*e[o]/180;let s=ay*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));s>DS?s=DS:s<-DS&&(s=-DS),t[o+1]=s}return t}function Pj(e,t,n,i){let r=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let o=0;o<r;o+=i)t[o]=180*e[o]/Ag,t[o+1]=360*Math.atan(Math.exp(e[o+1]/ay))/Math.PI-90;return t}var ay,Ag,d0e,u0e,DS,Xu,bA,Oj=Ye(()=>{"use strict";sy();ay=6378137,Ag=Math.PI*ay,d0e=[-Ag,-Ag,Ag,Ag],u0e=[-180,-85,180,85],DS=ay*Math.log(Math.tan(Math.PI/2)),Xu=class extends Yu{constructor(t){super({code:t,units:"m",extent:d0e,global:!0,worldExtent:u0e,getPointResolution:function(n,i){return n/Math.cosh(i[1]/ay)}})}},bA=[new Xu("EPSG:3857"),new Xu("EPSG:102100"),new Xu("EPSG:102113"),new Xu("EPSG:900913"),new Xu("http://www.opengis.net/def/crs/EPSG/0/3857"),new Xu("http://www.opengis.net/gml/srs/epsg.xml#3857")]});var h0e,Lj,f0e,Ad,yA,Nj=Ye(()=>{"use strict";sy();h0e=6378137,Lj=[-180,-90,180,90],f0e=Math.PI*h0e/180,Ad=class extends Yu{constructor(t,n){super({code:t,units:"degrees",extent:Lj,axisOrientation:n,global:!0,metersPerUnit:f0e,worldExtent:Lj})}},yA=[new Ad("CRS:84"),new Ad("EPSG:4326","neu"),new Ad("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ad("urn:ogc:def:crs:OGC:2:84"),new Ad("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ad("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ad("http://www.opengis.net/def/crs/EPSG/0/4326","neu")]});function Bj(){RS={}}function Vj(e){return RS[e]||RS[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Hj(e,t){RS[e]=t}var RS,zj=Ye(()=>{"use strict";RS={}});function jj(){Uf={}}function Zu(e,t,n){let i=e.getCode(),r=t.getCode();i in Uf||(Uf[i]={}),Uf[i][r]=n}function MS(e,t){return e in Uf&&t in Uf[e]?Uf[e][t]:null}var Uf,Gj=Ye(()=>{"use strict";Uf={}});function C0e(e,t,n){let i=e-5e5,s=(n.north?t:t-1e7)/TS/(IS*Xj),a=s+v0e*Math.sin(2*s)+b0e*Math.sin(4*s)+y0e*Math.sin(6*s)+w0e*Math.sin(8*s),l=Math.sin(a),d=l*l,c=Math.cos(a),u=l/c,h=u*u,p=h*h,f=1-qa*d,m=Math.sqrt(1-qa*d),g=IS/m,v=(1-qa)/f,w=Wf*c**2,E=w*w,T=i/(g*TS),F=T*T,k=F*T,L=k*T,V=L*T,j=V*T,z=a-u/v*(F/2-L/24*(5+3*h+10*w-4*E-9*Wf))+j/720*(61+90*h+298*w+45*p-252*Wf-3*E),R=(T-k/6*(1+2*h+w)+V/120*(5-2*w+28*h-3*E+8*Wf+24*p))/c;return R=SS(R+Cl(Zj(n.number)),-Math.PI,Math.PI),[xS(R),xS(z)]}function S0e(e,t,n){e=SS(e,_0e,x0e),t<Wj?t=Wj:t>$j&&(t=$j);let i=Cl(t),r=Math.sin(i),o=Math.cos(i),s=r/o,a=s*s,l=a*a,d=Cl(e),c=Zj(n.number),u=Cl(c),h=IS/Math.sqrt(1-qa*r**2),p=Wf*o**2,f=o*SS(d-u,-Math.PI,Math.PI),m=f*f,g=m*f,v=g*f,w=v*f,E=w*f,T=IS*(Xj*i-p0e*Math.sin(2*i)+m0e*Math.sin(4*i)-g0e*Math.sin(6*i)),F=TS*h*(f+g/6*(1-a+p)+w/120*(5-18*a+l+72*p-58*Wf))+5e5,k=TS*(T+h*s*(m/2+v/24*(5-a+9*p+4*p**2)+E/720*(61-58*a+l+600*p-330*Wf)));return n.north||(k+=1e7),[F,k]}function Zj(e){return(e-1)*6-180+3}function Qj(e){let t=0;for(let r of E0e){let o=e.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,i=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(i=!0,n=t-32600),n?{number:n,north:i}:null}function qj(e,t){return function(n,i,r,o){let s=n.length;r=r>1?r:2,o=o??r,i||(r>2?i=n.slice():i=new Array(s));for(let a=0;a<s;a+=o){let l=n[a],d=n[a+1],c=e(l,d,t);i[a]=c[0],i[a+1]=c[1]}return i}}function Jj(e){return Qj(e)?new Yu({code:e,units:"m"}):null}function eG(e){let t=Qj(e.getCode());return t?{forward:qj(S0e,t),inverse:qj(C0e,t)}:null}var TS,qa,kS,AS,Wf,Uj,Fg,Kj,wA,CA,Yj,Xj,p0e,m0e,g0e,v0e,b0e,y0e,w0e,IS,Wj,$j,_0e,x0e,E0e,tG=Ye(()=>{"use strict";ar();sy();TS=.9996,qa=.00669438,kS=qa*qa,AS=kS*qa,Wf=qa/(1-qa),Uj=Math.sqrt(1-qa),Fg=(1-Uj)/(1+Uj),Kj=Fg*Fg,wA=Kj*Fg,CA=wA*Fg,Yj=CA*Fg,Xj=1-qa/4-3*kS/64-5*AS/256,p0e=3*qa/8+3*kS/32+45*AS/1024,m0e=15*kS/256+45*AS/1024,g0e=35*AS/3072,v0e=3/2*Fg-27/32*wA+269/512*Yj,b0e=21/16*Kj-55/32*CA,y0e=151/96*wA-417/128*Yj,w0e=1097/512*CA,IS=6378137;Wj=-80,$j=84,_0e=-180,x0e=180;E0e=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/]});function _A(e,t,n){n=n||D0e;let i=Cl(e[1]),r=Cl(t[1]),o=(r-i)/2,s=Cl(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var D0e,nG=Ye(()=>{"use strict";ar();D0e=63710088e-1});var lG={};bu(lG,{METERS_PER_UNIT:()=>$a,Projection:()=>Yu,addCommon:()=>aG,addCoordinateTransforms:()=>I0e,addEquivalentProjections:()=>EA,addEquivalentTransforms:()=>rG,addProjection:()=>FS,addProjections:()=>iG,clearAllProjections:()=>T0e,clearUserProjection:()=>F0e,cloneTransform:()=>OS,createProjection:()=>cy,createSafeCoordinateTransform:()=>O0e,createTransformFromCoordinateTransform:()=>ly,disableCoordinateWarning:()=>PS,equivalent:()=>dy,fromLonLat:()=>ms,fromUserCoordinate:()=>Ya,fromUserExtent:()=>ya,fromUserResolution:()=>sG,get:()=>Wi,getPointResolution:()=>$f,getTransform:()=>Qu,getTransformFromProjections:()=>Ka,getUserProjection:()=>bc,identityTransform:()=>DA,setUserProjection:()=>oG,toLonLat:()=>k0e,toUserCoordinate:()=>Pg,toUserExtent:()=>Pd,toUserResolution:()=>MA,transform:()=>Fd,transformExtent:()=>RA,transformWithProjections:()=>A0e,useGeographic:()=>P0e});function PS(e){SA=!(e===void 0?!0:e)}function OS(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function DA(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function FS(e){Hj(e.getCode(),e),Zu(e,e,OS)}function iG(e){e.forEach(FS)}function Wi(e){if(typeof e!="string")return e;let t=Vj(e);if(t)return t;for(let n of M0e){let i=n(e);if(i)return i}return null}function $f(e,t,n,i){e=Wi(e);let r,o=e.getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){let s=e.getMetersPerUnit();s&&(r=r*s/$a[i])}}else{let s=e.getUnits();if(s=="degrees"&&!i||i=="degrees")r=t;else{let a=Ka(e,Wi("EPSG:4326"));if(!a&&s!=="degrees")r=t*e.getMetersPerUnit();else{let d=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];d=a(d,d,2);let c=_A(d.slice(0,2),d.slice(2,4)),u=_A(d.slice(4,6),d.slice(6,8));r=(c+u)/2}let l=i?$a[i]:e.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function EA(e){iG(e),e.forEach(function(t){e.forEach(function(n){t!==n&&Zu(t,n,OS)})})}function rG(e,t,n,i){e.forEach(function(r){t.forEach(function(o){Zu(r,o,n),Zu(o,r,i)})})}function T0e(){Bj(),jj()}function cy(e,t){return e?typeof e=="string"?Wi(e):e:Wi(t)}function ly(e){return function(t,n,i,r){let o=t.length;i=i!==void 0?i:2,r=r??i,n=n!==void 0?n:new Array(o);for(let s=0;s<o;s+=r){let a=e(t.slice(s,s+i)),l=a.length;for(let d=0,c=r;d<c;++d)n[s+d]=d>=l?t[s+d]:a[d]}return n}}function I0e(e,t,n,i){let r=Wi(e),o=Wi(t);Zu(r,o,ly(n)),Zu(o,r,ly(i))}function ms(e,t){return PS(),Fd(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function k0e(e,t){let n=Fd(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=_l(i+180,360)-180),n}function dy(e,t){if(e===t)return!0;let n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Ka(e,t)===OS)&&n}function Ka(e,t){let n=e.getCode(),i=t.getCode(),r=MS(n,i);if(r)return r;let o=null,s=null;for(let l of R0e)o||(o=l(e)),s||(s=l(t));if(!o&&!s)return null;let a="EPSG:4326";if(s)if(o)r=xA(o.inverse,s.forward);else{let l=MS(n,a);l&&(r=xA(l,s.forward))}else{let l=MS(a,i);l&&(r=xA(o.inverse,l))}return r&&(FS(e),FS(t),Zu(e,t,r)),r}function xA(e,t){return function(n,i,r,o){return i=e(n,i,r,o),t(i,i,r,o)}}function Qu(e,t){let n=Wi(e),i=Wi(t);return Ka(n,i)}function Fd(e,t,n){let i=Qu(t,n);if(!i){let r=Wi(t).getCode(),o=Wi(n).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(e,void 0,e.length)}function RA(e,t,n,i){let r=Qu(t,n);return Dj(e,r,void 0,i)}function A0e(e,t,n){return Ka(t,n)(e)}function oG(e){ps=Wi(e)}function F0e(){ps=null}function bc(){return ps}function P0e(){oG("EPSG:4326")}function Pg(e,t){return ps?Fd(e,t,ps):e}function Ya(e,t){return ps?Fd(e,ps,t):(SA&&!Gf(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(SA=!1,ES("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Pd(e,t){return ps?RA(e,t,ps):e}function ya(e,t){return ps?RA(e,ps,t):e}function MA(e,t){if(!ps)return e;let n=Wi(t).getMetersPerUnit(),i=ps.getMetersPerUnit();return n&&i?e*n/i:e}function sG(e,t){if(!ps)return e;let n=Wi(t).getMetersPerUnit(),i=ps.getMetersPerUnit();return n&&i?e*i/n:e}function O0e(e,t,n){return function(i){let r,o;if(e.canWrapX()){let s=e.getExtent(),a=Tn(s);i=i.slice(0),o=pA(i,e,a),o&&(i[0]=i[0]-o*a),i[0]=ui(i[0],s[0],s[2]),i[1]=ui(i[1],s[1],s[3]),r=n(i)}else r=n(i);return o&&t.canWrapX()&&(r[0]+=o*Tn(t.getExtent())),r}}function aG(){EA(bA),EA(yA),rG(yA,bA,Fj,Pj)}var R0e,M0e,SA,ps,Sr=Ye(()=>{"use strict";mA();kd();ni();ar();sy();gA();Oj();Nj();zj();Gj();tG();nG();R0e=[eG],M0e=[Jj],SA=!0;ps=null;aG()});var Xa,LS=Ye(()=>{"use strict";Xa={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}});var El,Og=Ye(()=>{"use strict";El={PROPERTYCHANGE:"propertychange"}});var Vt,gr=Ye(()=>{"use strict";Vt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}});var TA,Ju,uy=Ye(()=>{"use strict";TA=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Ju=TA});function cG(e,t,n){let i,r;n=n||Gs;let o=0,s=e.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+n(e[i],t),r<0?o=i+1:(s=i,a=!r);return a?o:~o}function Gs(e,t){return e>t?1:e<t?-1:0}function dG(e,t){return e<t?1:e>t?-1:0}function Lg(e,t,n){if(e[0]<=t)return 0;let i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){let o=e[r];if(o===t)return r;if(o<t)return n(t,e[r-1],o)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(e[r]<t)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(e[r]<=t)return r;return i-1}for(let r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return i-1}function uG(e,t,n){for(;t<n;){let i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function Ng(e,t){let n=Array.isArray(t)?t:[t],i=n.length;for(let r=0;r<i;r++)e[e.length]=n[r]}function Ko(e,t){let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function hG(e,t,n){let i=t||Gs;return e.every(function(r,o){if(o===0)return!0;let s=i(e[o-1],r);return!(s>0||n&&s===0)})}var Gr=Ye(()=>{"use strict"});function Od(){return!0}function Ld(){return!1}function Nd(){}function NS(e){let t,n,i;return function(){let r=Array.prototype.slice.call(arguments);return(!n||this!==i||!Ko(r,n))&&(i=this,n=r,t=e.apply(this,arguments)),t}}function fG(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}var gs=Ye(()=>{"use strict";Gr()});var IA,go,yc=Ye(()=>{"use strict";IA=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},go=IA});var kA,eh,hy=Ye(()=>{"use strict";uy();gs();Sl();yc();kA=class extends Ju{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;let i=this.listeners_||(this.listeners_={}),r=i[t]||(i[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){let n=typeof t=="string",i=n?t:t.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let o=n?new go(t):t;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let l;for(let d=0,c=r.length;d<c;++d)if("handleEvent"in r[d]?l=r[d].handleEvent(o):l=r[d].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[i]===0){let d=a[i];for(delete a[i];d--;)this.removeEventListener(i,Nd);delete s[i]}return l}disposeInternal(){this.listeners_&&vc(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;let i=this.listeners_[t];if(!i)return;let r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[r]=Nd,++this.pendingRemovals_[t]):(i.splice(r,1),i.length===0&&delete this.listeners_[t]))}},eh=kA});function L0e(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)Qn(e[t]);else Qn(e)}var Bg,BS,AA=Ye(()=>{"use strict";gr();hy();js();Bg=class extends eh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Vt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){let i=t.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=yn(this,t[o],n);return r}return yn(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){let r=t.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=kg(this,t[o],n)}else i=kg(this,t,n);return n.ol_key=i,i}unInternal(t,n){let i=n.ol_key;if(i)L0e(i);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}};Bg.prototype.on;Bg.prototype.once;Bg.prototype.un;BS=Bg});function Gn(){throw new Error("Unimplemented abstract method.")}function xn(e){return e.ol_uid||(e.ol_uid=String(++N0e))}var N0e,Er=Ye(()=>{"use strict";N0e=0});var VS,FA,Dr,Za=Ye(()=>{"use strict";Og();AA();yc();Sl();Er();VS=class extends go{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}},FA=class extends BS{constructor(t){super(),this.on,this.once,this.un,xn(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new VS(i,t,n)),i=El.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new VS(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){let r=this.values_||(this.values_={});if(i)r[t]=n;else{let o=r[t];r[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(let i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){let i=this.values_[t];delete this.values_[t],xl(this.values_)&&(this.values_=null),n||this.notify(t,i)}}},Dr=FA});var pG={};bu(pG,{default:()=>Rr});var PA,Rr,th=Ye(()=>{"use strict";LS();Za();js();gs();PA=class extends Dr{constructor(t){super();let n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,i=this.listenerKeys.length;n<i;++n)Qn(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){let n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Nd&&this.listenerKeys.push(yn(t,Xa.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}},Rr=PA});var fy,bG,wc,Vg,NA,V0e,vG,BA,nh=Ye(()=>{"use strict";fy="ol-hidden",bG="ol-selectable",wc="ol-unselectable",Vg="ol-control",NA="ol-collapsed",V0e=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),vG=["style","variant","weight","size","lineHeight","family"],BA=function(e){let t=e.match(V0e);if(!t)return null;let n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=vG.length;i<r;++i){let o=t[i+1];o!==void 0&&(n[vG[i]]=o)}return n.families=n.family.split(/,\s?/),n}});var vo,my=Ye(()=>{"use strict";vo={ADD:"add",REMOVE:"remove"}});var wG,Hg,zA,vs,zg=Ye(()=>{"use strict";my();Za();yc();wG={LENGTH:"length"},Hg=class extends go{constructor(t,n,i){super(t),this.element=n,this.index=i}},zA=class extends Dr{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,i=t.length;n<i;++n)this.push(t[n]);return this}forEach(t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)t(n[i],i,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(wG.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new Hg(vo.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;let n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Hg(vo.REMOVE,n,t)),n}setAt(t,n){let i=this.getLength();if(t>=i){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);let r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new Hg(vo.REMOVE,r,t)),this.dispatchEvent(new Hg(vo.ADD,n,t))}updateLength_(){this.set(wG.LENGTH,this.array_.length)}assertUnique_(t,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==n)throw new Error("Duplicate item added to a unique collection")}},vs=zA});var qf,z0e,PKe,CG,UA,_G,GS,WA,US,Kf=Ye(()=>{"use strict";qf=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",z0e=qf.includes("safari")&&!qf.includes("chrom"),PKe=z0e&&(qf.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(qf)),CG=qf.includes("webkit")&&!qf.includes("edge"),UA=qf.includes("macintosh"),_G=typeof devicePixelRatio<"u"?devicePixelRatio:1,GS=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,WA=typeof Image<"u"&&Image.prototype.decode,US=function(){let e=!1;try{let t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}()});function In(e,t){if(!e)throw new Error(t)}var Us=Ye(()=>{"use strict"});var no,WS=Ye(()=>{"use strict";no={ANIMATING:0,INTERACTING:1}});var Qa,RG=Ye(()=>{"use strict";Qa={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}});function YA(e,t,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!t)return i;let l=t?0:o[0]*r,d=t?0:o[1]*r,c=a?a[0]:0,u=a?a[1]:0,h=e[0]+l/2+c,p=e[2]-l/2+c,f=e[1]+d/2+u,m=e[3]-d/2+u;h>p&&(h=(p+h)/2,p=h),f>m&&(f=(m+f)/2,m=f);let g=ui(i[0],h,p),v=ui(i[1],f,m);if(s&&n&&r){let w=30*r;g+=-w*Math.log(1+Math.max(0,h-i[0])/w)+w*Math.log(1+Math.max(0,i[0]-p)/w),v+=-w*Math.log(1+Math.max(0,f-i[1])/w)+w*Math.log(1+Math.max(0,i[1]-m)/w)}return[g,v]}}function MG(e){return e}var TG=Ye(()=>{"use strict";ar()});function XA(e){return Math.pow(e,3)}function Ja(e){return 1-XA(1-e)}function IG(e){return 3*e*e-2*e*e*e}function kG(e){return e}var rh=Ye(()=>{"use strict"});function bo(){return[1,0,0,1,0,0]}function FG(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function vr(e,t){let n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function Po(e,t,n,i,r,o,s,a){let l=Math.sin(o),d=Math.cos(o);return e[0]=i*d,e[1]=r*l,e[2]=-i*l,e[3]=r*d,e[4]=s*i*d-a*i*l+t,e[5]=s*r*l+a*r*d+n,e}function $S(e,t){let n=j0e(t);In(n!==0,"Transformation matrix cannot be inverted");let i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5];return e[0]=s/n,e[1]=-r/n,e[2]=-o/n,e[3]=i/n,e[4]=(o*l-s*a)/n,e[5]=-(i*l-r*a)/n,e}function j0e(e){return e[0]*e[3]-e[1]*e[2]}function PG(e){return"matrix("+e.join(", ")+")"}function AG(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}function OG(e,t){let n=AG(e),i=AG(t);for(let r=0;r<6;++r)if(Math.round((n[r]-i[r])*G0e[r])!==0)return!1;return!0}var sYe,G0e,Dl=Ye(()=>{"use strict";Us();sYe=new Array(6);G0e=[1e5,1e5,1e5,1e5,2,2]});function Ws(e,t,n,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=i){let d=e[l],c=e[l+1];o[a++]=r[0]*d+r[2]*c+r[4],o[a++]=r[1]*d+r[3]*c+r[5];for(let u=2;u<s;u++)o[a++]=e[l+u]}return o&&o.length!=a&&(o.length=a),o}function qS(e,t,n,i,r,o,s){s=s||[];let a=Math.cos(r),l=Math.sin(r),d=o[0],c=o[1],u=0;for(let h=t;h<n;h+=i){let p=e[h]-d,f=e[h+1]-c;s[u++]=d+p*a-f*l,s[u++]=c+p*l+f*a;for(let m=h+2;m<h+i;++m)s[u++]=e[m]}return s&&s.length!=u&&(s.length=u),s}function LG(e,t,n,i,r,o,s,a){a=a||[];let l=s[0],d=s[1],c=0;for(let u=t;u<n;u+=i){let h=e[u]-l,p=e[u+1]-d;a[c++]=l+r*h,a[c++]=d+o*p;for(let f=u+2;f<u+i;++f)a[c++]=e[f]}return a&&a.length!=c&&(a.length=c),a}function NG(e,t,n,i,r,o,s){s=s||[];let a=0;for(let l=t;l<n;l+=i){s[a++]=e[l]+r,s[a++]=e[l+1]+o;for(let d=l+2;d<l+i;++d)s[a++]=e[d]}return s&&s.length!=a&&(s.length=a),s}var oh=Ye(()=>{"use strict"});var BG,U0e,ZA,VG,HG=Ye(()=>{"use strict";Za();ni();gs();Sr();Dl();Er();oh();BG=bo(),U0e=[NaN,NaN],ZA=class extends Dr{constructor(){super(),this.extent_=jr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=NS((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Gn()}closestPointXY(t,n,i,r){return Gn()}containsXY(t,n){return this.closestPointXY(t,n,U0e,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Gn()}getExtent(t){if(this.extentRevision_!=this.getRevision()){let n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&zf(n),this.extentRevision_=this.getRevision()}return Sj(this.extent_,t)}rotate(t,n){Gn()}scale(t,n,i){Gn()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Gn()}getType(){return Gn()}applyTransform(t){Gn()}intersectsExtent(t){return Gn()}translate(t,n){Gn()}transform(t,n){let i=Wi(t),r=i.getUnits()=="tile-pixels"?function(o,s,a){let l=i.getExtent(),d=i.getWorldExtent(),c=sr(d)/sr(l);Po(BG,d[0],d[3],c,-c,0,0,0);let u=Ws(o,0,o.length,a,BG,s),h=Qu(i,n);return h?h(u,u,a):u}:Qu(i,n);return this.applyTransform(r),this}},VG=ZA});function W0e(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function zG(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function jG(e,t,n){let i=e.getFlatCoordinates();if(!i)return null;let r=e.getStride();return Ws(i,0,i.length,r,t,n)}var QA,jg,vy=Ye(()=>{"use strict";ni();Er();HG();oh();QA=class extends VG{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Gn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=zG(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Gn()}setLayout(t,n,i){let r;if(t)r=zG(t);else{for(let o=0;o<i;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=W0e(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){let i=this.getFlatCoordinates();if(i){let r=this.getStride();qS(i,0,i.length,r,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=Ua(this.getExtent()));let r=this.getFlatCoordinates();if(r){let o=this.getStride();LG(r,0,r.length,o,t,n,i,r),this.changed()}}translate(t,n){let i=this.getFlatCoordinates();if(i){let r=this.getStride();NG(i,0,i.length,r,t,n,i),this.changed()}}};jg=QA});function JA(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1],a=0,l=0;for(;t<n;t+=i){let d=e[t]-o,c=e[t+1]-s;r+=l*d-a*c,a=d,l=c}return r/2}function GG(e,t,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){let a=n[o];r+=JA(e,t,a,i),t=a}return r}var e4=Ye(()=>{"use strict"});function UG(e,t,n,i,r,o,s){let a=e[t],l=e[t+1],d=e[n]-a,c=e[n+1]-l,u;if(d===0&&c===0)u=t;else{let h=((r-a)*d+(o-l)*c)/(d*d+c*c);if(h>1)u=n;else if(h>0){for(let p=0;p<i;++p)s[p]=qo(e[t+p],e[n+p],h);s.length=i;return}else u=t}for(let h=0;h<i;++h)s[h]=e[u+h];s.length=i}function t4(e,t,n,i,r){let o=e[t],s=e[t+1];for(t+=i;t<n;t+=i){let a=e[t],l=e[t+1],d=Id(o,s,a,l);d>r&&(r=d),o=a,s=l}return r}function WG(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){let a=n[o];r=t4(e,t,a,i,r),t=a}return r}function n4(e,t,n,i,r,o,s,a,l,d,c){if(t==n)return d;let u,h;if(r===0){if(h=Id(s,a,e[t],e[t+1]),h<d){for(u=0;u<i;++u)l[u]=e[t+u];return l.length=i,h}return d}c=c||[NaN,NaN];let p=t+i;for(;p<n;)if(UG(e,p-i,p,i,s,a,c),h=Id(s,a,c[0],c[1]),h<d){for(d=h,u=0;u<i;++u)l[u]=c[u];l.length=i,p+=i}else p+=i*Math.max((Math.sqrt(h)-Math.sqrt(d))/r|0,1);if(o&&(UG(e,n-i,t,i,s,a,c),h=Id(s,a,c[0],c[1]),h<d)){for(d=h,u=0;u<i;++u)l[u]=c[u];l.length=i}return d}function $G(e,t,n,i,r,o,s,a,l,d,c){c=c||[NaN,NaN];for(let u=0,h=n.length;u<h;++u){let p=n[u];d=n4(e,t,p,i,r,o,s,a,l,d,c),t=p}return d}var i4=Ye(()=>{"use strict";ar()});function qG(e,t,n,i){for(let r=0,o=n.length;r<o;++r)e[t++]=n[r];return t}function r4(e,t,n,i){for(let r=0,o=n.length;r<o;++r){let s=n[r];for(let a=0;a<i;++a)e[t++]=s[a]}return t}function KG(e,t,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=r4(e,t,n[s],i);r[o++]=l,t=l}return r.length=o,r}var KS=Ye(()=>{"use strict"});function sh(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=t;s<n;s+=i)r[o++]=e.slice(s,s+i);return r.length=o,r}function Gg(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];r[o++]=sh(e,t,l,i,r[o]),t=l}return r.length=o,r}function o4(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];r[o++]=l.length===1&&l[0]===t?[]:Gg(e,t,l,i,r[o]),t=l[l.length-1]}return r.length=o,r}var YS=Ye(()=>{"use strict"});function by(e,t,n,i,r,o,s){let a=(n-t)/i;if(a<3){for(;t<n;t+=i)o[s++]=e[t],o[s++]=e[t+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let d=[t,n-i],c=0;for(;d.length>0;){let u=d.pop(),h=d.pop(),p=0,f=e[h],m=e[h+1],g=e[u],v=e[u+1];for(let w=h+i;w<u;w+=i){let E=e[w],T=e[w+1],F=Rj(E,T,f,m,g,v);F>p&&(c=w,p=F)}p>r&&(l[(c-t)/i]=1,h+i<c&&d.push(h,c),c+i<u&&d.push(c,u))}for(let u=0;u<a;++u)l[u]&&(o[s++]=e[t+u*i],o[s++]=e[t+u*i+1]);return s}function YG(e,t,n,i,r,o,s,a){for(let l=0,d=n.length;l<d;++l){let c=n[l];s=by(e,t,c,i,r,o,s),a.push(s),t=c}return s}function ah(e,t){return t*Math.round(e/t)}function $0e(e,t,n,i,r,o,s){if(t==n)return s;let a=ah(e[t],r),l=ah(e[t+1],r);t+=i,o[s++]=a,o[s++]=l;let d,c;do if(d=ah(e[t],r),c=ah(e[t+1],r),t+=i,t==n)return o[s++]=d,o[s++]=c,s;while(d==a&&c==l);for(;t<n;){let u=ah(e[t],r),h=ah(e[t+1],r);if(t+=i,u==d&&h==c)continue;let p=d-a,f=c-l,m=u-a,g=h-l;if(p*g==f*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(f<0&&g<f||f==g||f>0&&g>f)){d=u,c=h;continue}o[s++]=d,o[s++]=c,a=d,l=c,d=u,c=h}return o[s++]=d,o[s++]=c,s}function XS(e,t,n,i,r,o,s,a){for(let l=0,d=n.length;l<d;++l){let c=n[l];s=$0e(e,t,c,i,r,o,s),a.push(s),t=c}return s}var yy=Ye(()=>{"use strict";ar()});var s4,a4,XG=Ye(()=>{"use strict";ni();vy();e4();i4();KS();YS();yy();s4=class e extends jg{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new e(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,r){return r<yS(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(t4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),n4(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,r))}getArea(){return JA(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return sh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){let n=[];return n.length=by(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=r4(this.flatCoordinates,0,t,this.stride),this.changed()}},a4=s4});var ZG={};bu(ZG,{default:()=>Bd});var l4,Bd,ZS=Ye(()=>{"use strict";ni();ar();vy();KS();l4=class e extends jg{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){let t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,r){let o=this.flatCoordinates,s=Id(t,n,o[0],o[1]);if(s<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return wS(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return dA(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=qG(this.flatCoordinates,0,t,this.stride),this.changed()}},Bd=l4});function QG(e,t,n,i,r){return!CS(r,function(s){return!lh(e,t,n,i,s[0],s[1])})}function lh(e,t,n,i,r,o){let s=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){let d=e[t],c=e[t+1];l<=o?c>o&&(d-a)*(o-l)-(r-a)*(c-l)>0&&s++:c<=o&&(d-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=d,l=c}return s!==0}function QS(e,t,n,i,r,o){if(n.length===0||!lh(e,t,n[0],i,r,o))return!1;for(let s=1,a=n.length;s<a;++s)if(lh(e,n[s-1],n[s],i,r,o))return!1;return!0}var JS=Ye(()=>{"use strict";ni()});function wy(e,t,n,i,r,o,s){let a,l,d,c,u,h,p,f=r[o+1],m=[];for(let w=0,E=n.length;w<E;++w){let T=n[w];for(c=e[T-i],h=e[T-i+1],a=t;a<T;a+=i)u=e[a],p=e[a+1],(f<=h&&p<=f||h<=f&&f<=p)&&(d=(f-h)/(p-h)*(u-c)+c,m.push(d)),c=u,h=p}let g=NaN,v=-1/0;for(m.sort(Gs),c=m[0],a=1,l=m.length;a<l;++a){u=m[a];let w=Math.abs(u-c);w>v&&(d=(c+u)/2,QS(e,t,n,i,d,f)&&(g=d,v=w)),c=u}return isNaN(g)&&(g=r[o]),s?(s.push(g,f,v),s):[g,f,v]}function JG(e,t,n,i,r){let o=[];for(let s=0,a=n.length;s<a;++s){let l=n[s];o=wy(e,t,l,i,r,2*s,o),t=l[l.length-1]}return o}var c4=Ye(()=>{"use strict";Gr();JS()});function eU(e,t,n,i,r){let o;for(t+=i;t<n;t+=i)if(o=r(e.slice(t-i,t),e.slice(t,t+i)),o)return o;return!1}var tU=Ye(()=>{"use strict"});function nU(e,t,n,i,r,o){return o=o??uA(jr(),e,t,n,i),mr(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:eU(e,t,n,i,function(s,a){return Ej(r,s,a)}):!1}function d4(e,t,n,i,r){return!!(nU(e,t,n,i,r)||lh(e,t,n,i,r[0],r[1])||lh(e,t,n,i,r[0],r[3])||lh(e,t,n,i,r[2],r[1])||lh(e,t,n,i,r[2],r[3]))}function iU(e,t,n,i,r){if(!d4(e,t,n[0],i,r))return!1;if(n.length===1)return!0;for(let o=1,s=n.length;o<s;++o)if(QG(e,n[o-1],n[o],i,r)&&!nU(e,n[o-1],n[o],i,r))return!1;return!0}var u4=Ye(()=>{"use strict";ni();JS();tU()});function rU(e,t,n,i){for(;t<n-i;){for(let r=0;r<i;++r){let o=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=o}t+=i,n-=i}}var oU=Ye(()=>{"use strict"});function h4(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1];for(;t<n;t+=i){let a=e[t],l=e[t+1];r+=(a-o)*(l+s),o=a,s=l}return r===0?void 0:r>0}function sU(e,t,n,i,r){r=r!==void 0?r:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=h4(e,t,a,i);if(o===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=a}return!0}function f4(e,t,n,i,r){r=r!==void 0?r:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=h4(e,t,a,i);(o===0?r&&l||!r&&!l:r&&!l||!r&&l)&&rU(e,t,a,i),t=a}return t}function aU(e,t){let n=[],i=0,r=0,o;for(let s=0,a=t.length;s<a;++s){let l=t[s],d=h4(e,i,l,2);if(o===void 0&&(o=d),d===o)n.push(t.slice(r,s+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=s+1,i=l}return n}var p4=Ye(()=>{"use strict";oU()});function m4(e){if(qu(e))throw new Error("Cannot create polygon from empty extent");let t=e[0],n=e[1],i=e[2],r=e[3],o=[t,n,t,r,i,r,i,n,t,n];return new e2(o,"XY",[o.length])}var e2,lU,g4=Ye(()=>{"use strict";Gr();ni();XG();ZS();vy();e4();i4();JS();KS();YS();c4();u4();p4();yy();e2=class e extends jg{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Ng(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,r){return r<yS(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(WG(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$G(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,r))}containsXY(t,n){return QS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return GG(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),f4(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Gg(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let t=Ua(this.getExtent());this.flatInteriorPoint_=wy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Bd(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new a4(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){let t=this.layout,n=this.flatCoordinates,i=this.ends_,r=[],o=0;for(let s=0,a=i.length;s<a;++s){let l=i[s],d=new a4(n.slice(o,l),t);r.push(d),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;sU(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=f4(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let n=[],i=[];return n.length=XS(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return iU(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=KG(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},lU=e2});function v4(e,t,n,i){let r=Tn(t)/n[0],o=sr(t)/n[1];return i?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function b4(e,t,n){let i=Math.min(e,t),r=50;return i*=Math.log(1+r*Math.max(0,e/t-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/e-1))/r+1),ui(i,n/2,t*2)}function cU(e,t,n,i){return t=t!==void 0?t:!0,function(r,o,s,a){if(r!==void 0){let l=e[0],d=e[e.length-1],c=n?v4(l,n,s,i):l;if(a)return t?b4(r,c,d):ui(r,d,c);let u=Math.min(c,r),h=Math.floor(Lg(e,u,o));return e[h]>c&&h<e.length-1?e[h+1]:e[h]}}}function dU(e,t,n,i,r,o){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(s,a,l,d){if(s!==void 0){let c=r?v4(t,r,l,o):t;if(d)return i?b4(s,c,n):ui(s,n,c);let u=1e-9,h=Math.ceil(Math.log(t/c)/Math.log(e)-u),p=-a*(.5-u)+.5,f=Math.min(c,s),m=Math.floor(Math.log(t/f)/Math.log(e)+p),g=Math.max(h,m),v=t/Math.pow(e,g);return ui(v,n,c)}}}function y4(e,t,n,i,r){return n=n!==void 0?n:!0,function(o,s,a,l){if(o!==void 0){let d=i?v4(e,i,a,r):e;return!n||!l?ui(o,t,d):b4(o,d,t)}}}var uU=Ye(()=>{"use strict";Gr();ni();ar()});function Ug(e){if(e!==void 0)return 0}function w4(e){if(e!==void 0)return e}function hU(e){let t=2*Math.PI/e;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function fU(e){let t=e===void 0?Cl(5):e;return function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n}}var t2=Ye(()=>{"use strict";ar()});function n2(e,t){setTimeout(function(){e(t)},0)}function q0e(e){if(e.extent!==void 0){let n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return YA(e.extent,e.constrainOnlyCenter,n)}let t=cy(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){let n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,YA(n,!1,!1)}return MG}function K0e(e){let t,n,i,s=e.minZoom!==void 0?e.minZoom:C4,a=e.maxZoom!==void 0?e.maxZoom:28,l=e.zoomFactor!==void 0?e.zoomFactor:2,d=e.multiWorld!==void 0?e.multiWorld:!1,c=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,u=e.showFullExtent!==void 0?e.showFullExtent:!1,h=cy(e.projection,"EPSG:3857"),p=h.getExtent(),f=e.constrainOnlyCenter,m=e.extent;if(!d&&!m&&h.isGlobal()&&(f=!1,m=p),e.resolutions!==void 0){let g=e.resolutions;n=g[s],i=g[a]!==void 0?g[a]:g[g.length-1],e.constrainResolution?t=cU(g,c,!f&&m,u):t=y4(n,i,c,!f&&m,u)}else{let v=(p?Math.max(Tn(p),sr(p)):360*$a.degrees/h.getMetersPerUnit())/256/Math.pow(2,C4),w=v/Math.pow(2,28-C4);n=e.maxResolution,n!==void 0?s=0:n=v/Math.pow(l,s),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(l,a):i=v/Math.pow(l,a):i=w),a=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-s),e.constrainResolution?t=dU(l,n,i,c,!f&&m,u):t=y4(n,i,c,!f&&m,u)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}function Y0e(e){if(e.enableRotation!==void 0?e.enableRotation:!0){let n=e.constrainRotation;return n===void 0||n===!0?fU():n===!1?w4:typeof n=="number"?hU(n):w4}return Ug}function X0e(e){return!(e.sourceCenter&&e.targetCenter&&!Gf(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function _4(e,t,n,i,r){let o=Math.cos(-r),s=Math.sin(-r),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,s=-s;let d=a*o-l*s,c=l*o+a*s;return[d,c]}var C4,x4,Yo,Cy=Ye(()=>{"use strict";Za();WS();RG();Gr();Us();TG();kd();rh();ni();gs();g4();ar();Sr();uU();t2();C4=0,x4=class extends Dr{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=cy(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&PS(),t.center&&(t.center=Ya(t.center,this.projection_)),t.extent&&(t.extent=ya(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){let n=Object.assign({},t);for(let a in Qa)delete n[a];this.setProperties(n,!0);let i=K0e(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;let r=q0e(t),o=i.constraint,s=Y0e(t);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;let i=this.getCenterInternal();if(i){let r=t||[0,0,0,0];n=n||[0,0,0,0];let o=this.getResolution(),s=o/2*(r[3]-n[3]+n[1]-r[1]),a=o/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(t){let n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Ya(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Ya(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){let c=arguments[r];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(r===n){i&&n2(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,d=[];for(;r<n;++r){let c=arguments[r],u={start:o,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||IG,callback:i};if(c.center&&(u.sourceCenter=s,u.targetCenter=c.center.slice(),s=u.targetCenter),c.zoom!==void 0?(u.sourceResolution=a,u.targetResolution=this.getResolutionForZoom(c.zoom),a=u.targetResolution):c.resolution&&(u.sourceResolution=a,u.targetResolution=c.resolution,a=u.targetResolution),c.rotation!==void 0){u.sourceRotation=l;let h=_l(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+h,l=u.targetRotation}X0e(u)?u.complete=!0:o+=u.duration,d.push(u)}this.animations_.push(d),this.setHint(no.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[no.ANIMATING]>0}getInteracting(){return this.hints_[no.INTERACTING]>0}cancelAnimations(){this.setHint(no.ANIMATING,-this.hints_[no.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){let r=this.animations_[n];if(r[0].callback&&n2(r[0].callback,!1),!t)for(let o=0,s=r.length;o<s;++o){let a=r[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let t=Date.now(),n=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],o=!0;for(let s=0,a=r.length;s<a;++s){let l=r[s];if(l.complete)continue;let d=t-l.start,c=l.duration>0?d/l.duration:1;c>=1?(l.complete=!0,c=1):o=!1;let u=l.easing(c);if(l.sourceCenter){let h=l.sourceCenter[0],p=l.sourceCenter[1],f=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;let g=h+u*(f-h),v=p+u*(m-p);this.targetCenter_=[g,v]}if(l.sourceResolution&&l.targetResolution){let h=u===1?l.targetResolution:l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){let p=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(h,0,p,!0);this.targetCenter_=this.calculateCenterZoom(f,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let h=u===1?_l(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){let p=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(p,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(no.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=r[0].callback;s&&n2(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],Tg(i,t-this.getRotation()),Tj(i,n)),i}calculateCenterZoom(t,n){let i,r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){let s=n[0]-t*(n[0]-r[0])/o,a=n[1]-t*(n[1]-r[1])/o;i=[s,a]}return i}getViewportSize_(t){let n=this.viewportSize_;if(t){let i=n[0],r=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let t=this.getCenterInternal();return t&&Pg(t,this.getProjection())}getCenterInternal(){return this.get(Qa.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){let n=this.calculateExtentInternal(t);return Pd(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();let n=this.getCenterInternal();In(n,"The view center is not defined");let i=this.getResolution();In(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return In(r!==void 0,"The view rotation is not defined"),iy(n,i,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Qa.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(ya(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();let i=Tn(t)/n[0],r=sr(t)/n[1];return Math.max(i,r)}getResolutionForValueFunction(t){t=t||2;let n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(t);return function(o){return n/Math.pow(t,o*r)}}getRotation(){return this.get(Qa.ROTATION)}getValueForResolutionFunction(t){let n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/n;return function(s){return Math.log(i/s)/n/o}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){let t=this.getProjection(),n=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();r=_4(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t,n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,r;if(this.resolutions_){let o=Lg(this.resolutions_,t,1);n=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let n=ui(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,ui(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(In(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){In(!qu(t),"Cannot fit empty extent provided as `geometry`");let r=ya(t,this.getProjection());i=m4(r)}else if(t.getType()==="Circle"){let r=ya(t.getExtent(),this.getProjection());i=m4(r),i.rotate(this.getRotation(),Ua(r))}else{let r=bc();r?i=t.clone().transform(r,this.getProjection()):i=t}this.fitInternal(i,n)}rotatedExtentForGeometry(t){let n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),o=t.getFlatCoordinates(),s=t.getStride(),a=1/0,l=1/0,d=-1/0,c=-1/0;for(let u=0,h=o.length;u<h;u+=s){let p=o[u]*i-o[u+1]*r,f=o[u]*r+o[u+1]*i;a=Math.min(a,p),l=Math.min(l,f),d=Math.max(d,p),c=Math.max(c,f)}return[a,l,d,c]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());let r=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1,s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;let a=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let d=this.getRotation(),c=Math.sin(d),u=Math.cos(d),h=Ua(a);h[0]+=(r[1]-r[3])/2*l,h[1]+=(r[0]-r[2])/2*l;let p=h[0]*u-h[1]*c,f=h[1]*u+h[0]*c,m=this.getConstrainedCenter([p,f],l),g=n.callback?n.callback:Nd;n.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},g):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),n2(g,!0))}centerOn(t,n,i){this.centerOnInternal(Ya(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(_4(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,r){let o,s=this.padding_;if(s&&t){let a=this.getViewportSizeMinusPadding_(-i),l=_4(t,r,[a[0]/2+s[3],a[1]/2+s[0]],n,i);o=[t[0]-l[0],t[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){let n=Pg(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){let n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Ya(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Ya(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Ya(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){let i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(Qa.ROTATION)!==r&&this.set(Qa.ROTATION,r),this.get(Qa.RESOLUTION)!==s&&(this.set(Qa.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Qa.CENTER)||!Gf(this.get(Qa.CENTER),a))&&this.set(Qa.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;let r=n||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!Gf(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:t,easing:Ja,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(no.INTERACTING,1)}endInteraction(t,n,i){i=i&&Ya(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(no.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){let i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}};Yo=x4});function Fi(e,t,n,i){let r;return n&&n.length?r=n.shift():GS?r=new OffscreenCanvas(e||300,t||300):r=document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}function Wg(){return S4||(S4=Fi(1,1)),S4}function Yf(e){let t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function mU(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function gU(e){let t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function E4(e,t){let n=t.parentNode;n&&n.replaceChild(e,t)}function i2(e){for(;e.lastChild;)e.lastChild.remove()}function vU(e,t){let n=e.childNodes;for(let i=0;;++i){let r=n[i],o=t[i];if(!r&&!o)break;if(r!==o){if(!r){e.appendChild(o);continue}if(!o){e.removeChild(r),--i;continue}e.insertBefore(o,r)}}}var S4,yo=Ye(()=>{"use strict";Kf()});var Di,U4=Ye(()=>{"use strict";Di={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}});var W4,c2,$4=Ye(()=>{"use strict";Za();Us();ar();Er();U4();W4=class extends Dr{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;let n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Di.OPACITY]=t.opacity!==void 0?t.opacity:1,In(typeof n[Di.OPACITY]=="number","Layer opacity must be a number"),n[Di.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Di.Z_INDEX]=t.zIndex,n[Di.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Di.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Di.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Di.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){let n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=ui(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Gn()}getLayerStatesArray(t){return Gn()}getExtent(){return this.get(Di.EXTENT)}getMaxResolution(){return this.get(Di.MAX_RESOLUTION)}getMinResolution(){return this.get(Di.MIN_RESOLUTION)}getMinZoom(){return this.get(Di.MIN_ZOOM)}getMaxZoom(){return this.get(Di.MAX_ZOOM)}getOpacity(){return this.get(Di.OPACITY)}getSourceState(){return Gn()}getVisible(){return this.get(Di.VISIBLE)}getZIndex(){return this.get(Di.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Di.EXTENT,t)}setMaxResolution(t){this.set(Di.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Di.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Di.MAX_ZOOM,t)}setMinZoom(t){this.set(Di.MIN_ZOOM,t)}setOpacity(t){In(typeof t=="number","Layer opacity must be a number"),this.set(Di.OPACITY,t)}setVisible(t){this.set(Di.VISIBLE,t)}setZIndex(t){this.set(Di.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},c2=W4});var Oo,Yg=Ye(()=>{"use strict";Oo={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}});function Sy(e,t){if(!e.visible)return!1;let n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;let i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}var Y4,Jf,Xg=Ye(()=>{"use strict";Cy();Us();gr();js();ni();Yg();$4();U4();Y4=class extends c2{constructor(t){let n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Di.SOURCE,this.handleSourcePropertyChange_);let i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Di.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Qn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let t=this.getSource();t&&(this.sourceChangeKey_=yn(t,Vt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n,i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof Yo?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(s=>s.layer===this),!r)return!1}else r=this.getLayerState();let o=this.getExtent();return Sy(r,n.viewState)&&(!o||mr(o,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n=this.getSource()?.getAttributions();if(!n)return[];let i=t instanceof Yo?t.getViewStateAndExtent():t,r=n(i);return Array.isArray(r)||(r=[r]),r}render(t,n){let i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){let n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Di.MAP,t)}getMapInternal(){return this.get(Di.MAP)}setMap(t){this.mapPrecomposeKey_&&(Qn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Qn(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=yn(t,Oo.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=yn(this,Vt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){let n=t.frameState.layerStatesArray,i=this.getLayerState(!1);In(!n.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(t){this.set(Di.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};Jf=Y4});function d2(e,t,n=0,i=e.length-1,r=Q0e){for(;i>n;){if(i-n>600){let l=i-n+1,d=t-n+1,c=Math.log(l),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(l-u)/l)*(d-l/2<0?-1:1),p=Math.max(n,Math.floor(t-d*u/l+h)),f=Math.min(i,Math.floor(t+(l-d)*u/l+h));d2(e,t,p,f,r)}let o=e[t],s=n,a=i;for(Ey(e,n,t),r(e[i],o)>0&&Ey(e,n,i);s<a;){for(Ey(e,s,a),s++,a--;r(e[s],o)<0;)s++;for(;r(e[a],o)>0;)a--}r(e[n],o)===0?Ey(e,n,a):(a++,Ey(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}}function Ey(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function Q0e(e,t){return e<t?-1:e>t?1:0}var VU=Ye(()=>{"use strict"});function J0e(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function Zg(e,t){Dy(e,0,e.children.length,t,e)}function Dy(e,t,n,i,r){r||(r=Qg(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){let s=e.children[o];Ry(r,e.leaf?i(s):s)}return r}function Ry(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function eve(e,t){return e.minX-t.minX}function tve(e,t){return e.minY-t.minY}function X4(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u2(e){return e.maxX-e.minX+(e.maxY-e.minY)}function nve(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function ive(e,t){let n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function Z4(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h2(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Qg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function HU(e,t,n,i,r){let o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=i)continue;let s=t+Math.ceil((n-t)/i/2)*i;d2(e,s,t,n,r),o.push(t,s,s,n)}}var Jg,Q4=Ye(()=>{"use strict";VU();Jg=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data,i=[];if(!h2(t,n))return i;let r=this.toBBox,o=[];for(;n;){for(let s=0;s<n.children.length;s++){let a=n.children[s],l=n.leaf?r(a):a;h2(t,l)&&(n.leaf?i.push(a):Z4(t,l)?this._all(a,i):o.push(a))}n=o.pop()}return i}collides(t){let n=this.data;if(!h2(t,n))return!1;let i=[];for(;n;){for(let r=0;r<n.children.length;r++){let o=n.children[r],s=n.leaf?this.toBBox(o):o;if(h2(t,s)){if(n.leaf||Z4(t,s))return!0;i.push(o)}}n=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){let i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Qg([]),this}remove(t,n){if(!t)return this;let i=this.data,r=this.toBBox(t),o=[],s=[],a,l,d;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],a=s.pop(),d=!0),i.leaf){let c=J0e(t,i.children,n);if(c!==-1)return i.children.splice(c,1),o.push(i),this._condense(o),this}!d&&!i.leaf&&Z4(i,r)?(o.push(i),s.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],d=!1):i=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){let i=[];for(;t;)t.leaf?n.push(...t.children):i.push(...t.children),t=i.pop();return n}_build(t,n,i,r){let o=i-n+1,s=this._maxEntries,a;if(o<=s)return a=Qg(t.slice(n,i+1)),Zg(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=Qg([]),a.leaf=!1,a.height=r;let l=Math.ceil(o/s),d=l*Math.ceil(Math.sqrt(s));HU(t,n,i,d,this.compareMinX);for(let c=n;c<=i;c+=d){let u=Math.min(c+d-1,i);HU(t,c,u,l,this.compareMinY);for(let h=c;h<=u;h+=l){let p=Math.min(h+l-1,u);a.children.push(this._build(t,h,p,r-1))}}return Zg(a,this.toBBox),a}_chooseSubtree(t,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let o=1/0,s=1/0,a;for(let l=0;l<n.children.length;l++){let d=n.children[l],c=X4(d),u=nve(t,d)-c;u<s?(s=u,o=c<o?c:o,a=d):u===s&&c<o&&(o=c,a=d)}n=a||n.children[0]}return n}_insert(t,n,i){let r=i?t:this.toBBox(t),o=[],s=this._chooseSubtree(r,this.data,n,o);for(s.children.push(t),Ry(s,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(t,n){let i=t[n],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);let s=this._chooseSplitIndex(i,o,r),a=Qg(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,Zg(i,this.toBBox),Zg(a,this.toBBox),n?t[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(t,n){this.data=Qg([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Zg(this.data,this.toBBox)}_chooseSplitIndex(t,n,i){let r,o=1/0,s=1/0;for(let a=n;a<=i-n;a++){let l=Dy(t,0,a,this.toBBox),d=Dy(t,a,i,this.toBBox),c=ive(l,d),u=X4(l)+X4(d);c<o?(o=c,r=a,s=u<s?u:s):c===o&&u<s&&(s=u,r=a)}return r||i-n}_chooseSplitAxis(t,n,i){let r=t.leaf?this.compareMinX:eve,o=t.leaf?this.compareMinY:tve,s=this._allDistMargin(t,n,i,r),a=this._allDistMargin(t,n,i,o);s<a&&t.children.sort(r)}_allDistMargin(t,n,i,r){t.children.sort(r);let o=this.toBBox,s=Dy(t,0,n,o),a=Dy(t,i-n,i,o),l=u2(s)+u2(a);for(let d=n;d<i-n;d++){let c=t.children[d];Ry(s,t.leaf?o(c):c),l+=u2(s)}for(let d=i-n-1;d>=n;d--){let c=t.children[d];Ry(a,t.leaf?o(c):c),l+=u2(a)}return l}_adjustParentBBoxes(t,n,i){for(let r=i;r>=0;r--)Ry(n[r],t)}_condense(t){for(let n=t.length-1,i;n>=0;n--)t[n].children.length===0?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():Zg(t[n],this.toBBox)}}});function rve(){return J4||(J4=Fi(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),J4}function f2(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function Ty(e){throw new Error('failed to parse "'+e+'" as color')}function zU(e){if(e.toLowerCase().startsWith("rgb")){let o=e.match(sve)||e.match(ove)||e.match(ave);if(o){let s=o[4],a=100/255;return[ui(f2(o[1],a)+.5|0,0,255),ui(f2(o[2],a)+.5|0,0,255),ui(f2(o[3],a)+.5|0,0,255),s!==void 0?ui(f2(s,100),0,1):1]}Ty(e)}if(e.startsWith("#")){if(lve.test(e)){let o=e.substring(1),s=o.length<=4?1:2,a=[0,0,0,255];for(let l=0,d=o.length;l<d;l+=s){let c=parseInt(o.substring(l,l+s),16);s===1&&(c+=c<<4),a[l/s]=c}return a[3]=a[3]/255,a}Ty(e)}let t=rve();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=e,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=e,t.fillStyle===n&&Ty(e));let i=t.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return zU(i);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);let r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=Mg(r[3]/255,3),r}function jU(e){return typeof e=="string"?e:ky(e)}function GU(e){if(e.length===4)return e;let t=e.slice();return t[3]=1,t}function t6(e){return e>.0031308?Math.pow(e,1/2.4)*269.025-14.025:e*3294.6}function n6(e){return e>.2068965?Math.pow(e,3):(e-4/29)*(108/841)}function i6(e){return e>10.314724?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function r6(e){return e>.0088564?Math.pow(e,1/3):e/(108/841)+4/29}function o6(e){let t=i6(e[0]),n=i6(e[1]),i=i6(e[2]),r=r6(t*.222488403+n*.716873169+i*.06060791),o=500*(r6(t*.452247074+n*.399439023+i*.148375274)-r),s=200*(r-r6(t*.016863605+n*.117638439+i*.865350722)),a=Math.atan2(s,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+s*s),a<0?a+360:a,e[3]]}function UU(e){let t=(e[0]+16)/116,n=e[1],i=e[2]*Math.PI/180,r=n6(t),o=n6(t+n/500*Math.cos(i)),s=n6(t-n/200*Math.sin(i)),a=t6(o*3.021973625-r*1.617392459-s*.404875592),l=t6(o*-.943766287+r*1.916279586+s*.027607165),d=t6(o*.069407491-r*.22898585+s*1.159737864);return[ui(a+.5|0,0,255),ui(l+.5|0,0,255),ui(d+.5|0,0,255),e[3]]}function Iy(e){if(e==="none")return p2;if(My.hasOwnProperty(e))return My[e];if(e6>=cve){let n=0;for(let i in My)(n++&3)===0&&(delete My[i],--e6)}let t=zU(e);t.length!==4&&Ty(e);for(let n of t)isNaN(n)&&Ty(e);return My[e]=t,++e6,t}function Ml(e){return Array.isArray(e)?e:Iy(e)}function ky(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let i=e[2];i!=(i|0)&&(i=i+.5|0);let r=e[3]===void 0?1:Math.round(e[3]*1e3)/1e3;return"rgba("+t+","+n+","+i+","+r+")"}var p2,J4,ove,sve,ave,lve,cve,My,e6,Tl=Ye(()=>{"use strict";yo();ar();p2=[NaN,NaN,NaN,0];ove=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,sve=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,ave=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,lve=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;cve=1024,My={},e6=0});function s6(e){return e[0]>0&&e[1]>0}function WU(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function Mr(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var Sc=Ye(()=>{"use strict"});function uve(e){return e in c6}function Fy(e){let t=[];for(let n of dve)Py(e,n)&&t.push(c6[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Py(e,t){return(e&t)===t}function dh(e,t){return e===t}function d6(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function wo(e,t,n){switch(typeof e){case"boolean":{if(dh(t,bs))return new Tr(bs,e?"true":"false");if(!Py(t,Xo))throw new Error(`got a boolean, but expected ${Fy(t)}`);return new Tr(Xo,e)}case"number":{if(dh(t,Ay))return new Tr(Ay,Mr(e));if(dh(t,Xo))return new Tr(Xo,!!e);if(dh(t,bs))return new Tr(bs,e.toString());if(!Py(t,ii))throw new Error(`got a number, but expected ${Fy(t)}`);return new Tr(ii,e)}case"string":{if(dh(t,wa))return new Tr(wa,Iy(e));if(dh(t,Xo))return new Tr(Xo,!!e);if(!Py(t,bs))throw new Error(`got a string, but expected ${Fy(t)}`);return new Tr(bs,e)}default:}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(e.length===0)throw new Error("empty expression");if(typeof e[0]=="string")return _ve(e,t,n);for(let i of e)if(typeof i!="number")throw new Error("expected an array of numbers");if(dh(t,Ay)){if(e.length!==2)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new Tr(Ay,e)}if(dh(t,wa)){if(e.length===3)return new Tr(wa,[...e,1]);if(e.length===4)return new Tr(wa,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!Py(t,uh))throw new Error(`got an array of numbers, but expected ${Fy(t)}`);return new Tr(uh,e)}function $U(e,t,n){let i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=e[o+1];switch(typeof s){case"number":{r[o]=new Tr(ii,s);break}case"string":{r[o]=new Tr(bs,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&n.properties.add(String(s))}return r}function fve(e,t,n){let i=e[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Tr(bs,i)]}function pve(e,t,n){n.featureId=!0}function mve(e,t,n){n.geometryType=!0}function a6(e,t,n){n.mapState=!0}function e0(e,t,n){let i=e[0];if(e.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Hn(e,t){return function(n,i,r){let o=n[0],s=n.length-1;if(e===t){if(s!==e){let a=e===1?"":"s";throw new Error(`expected ${e} argument${a} for ${o}, got ${s}`)}}else if(s<e||s>t){let a=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function qU(e,t,n){let i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=wo(e[o+1],t,n);r[o]=s}return r}function Ri(e){return function(t,n,i){let r=t.length-1,o=new Array(r);for(let s=0;s<r;++s){let a=wo(t[s+1],e,i);o[s]=a}return o}}function gve(e,t,n){let i=e[0],r=e.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function KU(e,t,n){let i=e[0],r=e.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function vve(e,t,n){let i=e.length-1,r=bs|ii|Xo,o=wo(e[1],r,n),s=wo(e[e.length-1],t,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let d=wo(e[l+2],o.type,n);a[l]=d}catch(d){throw new Error(`failed to parse argument ${l+1} of match expression: ${d.message}`)}try{let d=wo(e[l+3],s.type,n);a[l+1]=d}catch(d){throw new Error(`failed to parse argument ${l+2} of match expression: ${d.message}`)}}return[o,...a,s]}function bve(e,t,n){let i=e[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let o=new Tr(ii,r),s;try{s=wo(e[2],ii,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){try{let d=wo(e[l+3],ii,n);a[l]=d}catch(d){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${d.message}`)}try{let d=wo(e[l+4],t,n);a[l+1]=d}catch(d){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${d.message}`)}}return[o,s,...a]}function yve(e,t,n){let i=wo(e[e.length-1],t,n),r=new Array(e.length-1);for(let o=0;o<r.length-1;o+=2){try{let s=wo(e[o+1],Xo,n);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=wo(e[o+2],i.type,n);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function wve(e,t,n){let i=e[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=bs}else r=ii;let o=new Array(i.length);for(let a=0;a<o.length;a++)try{let l=wo(i[a],r,n);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[wo(e[1],r,n),...o]}function Cve(e,t,n){let i;try{i=wo(e[1],ii,n)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let r=e[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let o=new Array(r.length);for(let s=0;s<o.length;s++){let a;try{a=wo(r[s],wa,n)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof Tr))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[i,...o]}function wn(...e){return function(t,n,i){let r=t[0],o;for(let s=0;s<e.length;s++){let a=e[s](t,n,i);if(s==e.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new l6(n,r,...o)}}function _ve(e,t,n){let i=e[0],r=hve[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(e,t,n)}function u6(e){if(!e)return"";let t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return u6(e.getGeometries()[0]);default:return""}}var ep,Xo,ii,bs,wa,uh,Ay,m2,c6,dve,Tr,l6,qe,hve,h6=Ye(()=>{"use strict";Gr();Tl();Sc();ep=0,Xo=1<<ep++,ii=1<<ep++,bs=1<<ep++,wa=1<<ep++,uh=1<<ep++,Ay=1<<ep++,m2=Math.pow(2,ep)-1,c6={[Xo]:"boolean",[ii]:"number",[bs]:"string",[wa]:"color",[uh]:"number[]",[Ay]:"size"},dve=Object.keys(c6).map(Number).sort(Gs);Tr=class{constructor(t,n){if(!uve(t))throw new Error(`literal expressions must have a specific type, got ${Fy(t)}`);this.type=t,this.value=n}},l6=class{constructor(t,n,...i){this.type=t,this.operator=n,this.args=i}};qe={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},hve={[qe.Get]:wn(Hn(1,1/0),$U),[qe.Var]:wn(Hn(1,1),fve),[qe.Has]:wn(Hn(1,1/0),$U),[qe.Id]:wn(pve,e0),[qe.Concat]:wn(Hn(2,1/0),Ri(bs)),[qe.GeometryType]:wn(mve,e0),[qe.LineMetric]:wn(e0),[qe.Resolution]:wn(a6,e0),[qe.Zoom]:wn(a6,e0),[qe.Time]:wn(a6,e0),[qe.Any]:wn(Hn(2,1/0),Ri(Xo)),[qe.All]:wn(Hn(2,1/0),Ri(Xo)),[qe.Not]:wn(Hn(1,1),Ri(Xo)),[qe.Equal]:wn(Hn(2,2),Ri(m2)),[qe.NotEqual]:wn(Hn(2,2),Ri(m2)),[qe.GreaterThan]:wn(Hn(2,2),Ri(ii)),[qe.GreaterThanOrEqualTo]:wn(Hn(2,2),Ri(ii)),[qe.LessThan]:wn(Hn(2,2),Ri(ii)),[qe.LessThanOrEqualTo]:wn(Hn(2,2),Ri(ii)),[qe.Multiply]:wn(Hn(2,1/0),qU),[qe.Coalesce]:wn(Hn(2,1/0),qU),[qe.Divide]:wn(Hn(2,2),Ri(ii)),[qe.Add]:wn(Hn(2,1/0),Ri(ii)),[qe.Subtract]:wn(Hn(2,2),Ri(ii)),[qe.Clamp]:wn(Hn(3,3),Ri(ii)),[qe.Mod]:wn(Hn(2,2),Ri(ii)),[qe.Pow]:wn(Hn(2,2),Ri(ii)),[qe.Abs]:wn(Hn(1,1),Ri(ii)),[qe.Floor]:wn(Hn(1,1),Ri(ii)),[qe.Ceil]:wn(Hn(1,1),Ri(ii)),[qe.Round]:wn(Hn(1,1),Ri(ii)),[qe.Sin]:wn(Hn(1,1),Ri(ii)),[qe.Cos]:wn(Hn(1,1),Ri(ii)),[qe.Atan]:wn(Hn(1,2),Ri(ii)),[qe.Sqrt]:wn(Hn(1,1),Ri(ii)),[qe.Match]:wn(Hn(4,1/0),KU,vve),[qe.Between]:wn(Hn(3,3),Ri(ii)),[qe.Interpolate]:wn(Hn(6,1/0),KU,bve),[qe.Case]:wn(Hn(3,1/0),gve,yve),[qe.In]:wn(Hn(2,2),wve),[qe.Number]:wn(Hn(1,1/0),Ri(m2)),[qe.String]:wn(Hn(1,1/0),Ri(m2)),[qe.Array]:wn(Hn(1,1/0),Ri(ii)),[qe.Color]:wn(Hn(1,4),Ri(ii)),[qe.Band]:wn(Hn(1,3),Ri(ii)),[qe.Palette]:wn(Hn(2,2),Cve),[qe.ToString]:wn(Hn(1,1),Ri(Xo|ii|bs|wa))}});function f6(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ec(e,t,n){let i=wo(e,t,n);return Il(i,n)}function Il(e,t){if(e instanceof Tr){if(e.type===wa&&typeof e.value=="string"){let i=Iy(e.value);return function(){return i}}return function(){return e.value}}let n=e.operator;switch(n){case qe.Number:case qe.String:case qe.Coalesce:return xve(e,t);case qe.Get:case qe.Var:case qe.Has:return Sve(e,t);case qe.Id:return i=>i.featureId;case qe.GeometryType:return i=>i.geometryType;case qe.Concat:{let i=e.args.map(r=>Il(r,t));return r=>"".concat(...i.map(o=>o(r).toString()))}case qe.Resolution:return i=>i.resolution;case qe.Any:case qe.All:case qe.Between:case qe.In:case qe.Not:return Dve(e,t);case qe.Equal:case qe.NotEqual:case qe.LessThan:case qe.LessThanOrEqualTo:case qe.GreaterThan:case qe.GreaterThanOrEqualTo:return Eve(e,t);case qe.Multiply:case qe.Divide:case qe.Add:case qe.Subtract:case qe.Clamp:case qe.Mod:case qe.Pow:case qe.Abs:case qe.Floor:case qe.Ceil:case qe.Round:case qe.Sin:case qe.Cos:case qe.Atan:case qe.Sqrt:return Rve(e,t);case qe.Case:return Mve(e,t);case qe.Match:return Tve(e,t);case qe.Interpolate:return Ive(e,t);case qe.ToString:return kve(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function xve(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Il(e.args[o],t);switch(n){case qe.Coalesce:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case qe.Number:case qe.String:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function Sve(e,t){let i=e.args[0].value;switch(e.operator){case qe.Get:return r=>{let o=e.args,s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let c=o[a].value;s=s[c]}return s};case qe.Var:return r=>r.variables[i];case qe.Has:return r=>{let o=e.args;if(!(i in r.properties))return!1;let s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let c=o[a].value;if(!s||!Object.hasOwn(s,c))return!1;s=s[c]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function Eve(e,t){let n=e.operator,i=Il(e.args[0],t),r=Il(e.args[1],t);switch(n){case qe.Equal:return o=>i(o)===r(o);case qe.NotEqual:return o=>i(o)!==r(o);case qe.LessThan:return o=>i(o)<r(o);case qe.LessThanOrEqualTo:return o=>i(o)<=r(o);case qe.GreaterThan:return o=>i(o)>r(o);case qe.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function Dve(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Il(e.args[o],t);switch(n){case qe.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case qe.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case qe.Between:return o=>{let s=r[0](o),a=r[1](o),l=r[2](o);return s>=a&&s<=l};case qe.In:return o=>{let s=r[0](o);for(let a=1;a<i;++a)if(s===r[a](o))return!0;return!1};case qe.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function Rve(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Il(e.args[o],t);switch(n){case qe.Multiply:return o=>{let s=1;for(let a=0;a<i;++a)s*=r[a](o);return s};case qe.Divide:return o=>r[0](o)/r[1](o);case qe.Add:return o=>{let s=0;for(let a=0;a<i;++a)s+=r[a](o);return s};case qe.Subtract:return o=>r[0](o)-r[1](o);case qe.Clamp:return o=>{let s=r[0](o),a=r[1](o);if(s<a)return a;let l=r[2](o);return s>l?l:s};case qe.Mod:return o=>r[0](o)%r[1](o);case qe.Pow:return o=>Math.pow(r[0](o),r[1](o));case qe.Abs:return o=>Math.abs(r[0](o));case qe.Floor:return o=>Math.floor(r[0](o));case qe.Ceil:return o=>Math.ceil(r[0](o));case qe.Round:return o=>Math.round(r[0](o));case qe.Sin:return o=>Math.sin(r[0](o));case qe.Cos:return o=>Math.cos(r[0](o));case qe.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case qe.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function Mve(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Il(e.args[r],t);return r=>{for(let o=0;o<n-1;o+=2)if(i[o](r))return i[o+1](r);return i[n-1](r)}}function Tve(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Il(e.args[r],t);return r=>{let o=i[0](r);for(let s=1;s<n-1;s+=2)if(o===i[s](r))return i[s+1](r);return i[n-1](r)}}function Ive(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Il(e.args[r],t);return r=>{let o=i[0](r),s=i[1](r),a,l;for(let d=2;d<n;d+=2){let c=i[d](r),u=i[d+1](r),h=Array.isArray(u);if(h&&(u=GU(u)),c>=s)return d===2?u:h?Ave(o,s,a,l,c,u):Oy(o,s,a,l,c,u);a=c,l=u}return l}}function kve(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Il(e.args[o],t);switch(n){case qe.ToString:return o=>{let s=r[0](o);return e.args[0].type===wa?ky(s):s.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Oy(e,t,n,i,r,o){let s=r-n;if(s===0)return i;let a=t-n,l=e===1?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1);return i+l*(o-i)}function Ave(e,t,n,i,r,o){if(r-n===0)return i;let a=o6(i),l=o6(o),d=l[2]-a[2];d>180?d-=360:d<-180&&(d+=360);let c=[Oy(e,t,n,a[0],r,l[0]),Oy(e,t,n,a[1],r,l[1]),a[2]+Oy(e,t,n,0,r,d),Oy(e,t,n,i[3],r,o[3])];return UU(c)}var YU=Ye(()=>{"use strict";Tl();h6()});var pn,Vd=Ye(()=>{"use strict";pn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}});function XU(e,t,n){let i=e,r=!0,o=!1,s=!1,a=[kg(i,Vt.LOAD,function(){s=!0,o||t()})];return i.src&&WA?(o=!0,i.decode().then(function(){r&&t()}).catch(function(l){r&&(s?t():n())})):a.push(kg(i,Vt.ERROR,n)),function(){r=!1,a.forEach(Qn)}}function Fve(e,t){return new Promise((n,i)=>{function r(){s(),n(e)}function o(){s(),i(new Error("Image load error"))}function s(){e.removeEventListener("load",r),e.removeEventListener("error",o)}e.addEventListener("load",r),e.addEventListener("error",o),t&&(e.src=t)})}function ZU(e,t){return t&&(e.src=t),e.src&&WA?new Promise((n,i)=>e.decode().then(()=>n(e)).catch(r=>e.complete&&e.width?n(e):i(r))):Fve(e)}var p6=Ye(()=>{"use strict";gr();js();Kf()});function m6(e,t,n){let i=n?Ml(n):"null";return t+":"+e+":"+i}var g6,Zo,Ly=Ye(()=>{"use strict";Vd();Tl();yo();g6=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(let n in this.cache_){let i=this.cache_[n];(t++&3)===0&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,i){let r=m6(t,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,i){let r=m6(t,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,i,r,o){let s=m6(t,n,i),a=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===pn.IDLE&&r.load(),r.getImageState()===pn.LOADING?r.ready().then(()=>{this.patternCache_[s]=Wg().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=Wg().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};Zo=new g6});function t0(e,t,n,i,r,o){let s=t===void 0?void 0:Zo.get(t,n,r);return s||(s=new g2(e,e&&"src"in e?e.src||void 0:t,n,i,r),Zo.set(t,n,r,s,o)),o&&s&&!Zo.getPattern(t,n,r)&&Zo.set(t,n,r,s,o),s}var Ny,g2,QU,By=Ye(()=>{"use strict";p6();Vd();Tl();yo();gr();hy();Ly();Ny=null,g2=class extends eh{constructor(t,n,i,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?pn.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===pn.LOADED){Ny||(Ny=Fi(1,1,void 0,{willReadFrequently:!0})),Ny.drawImage(this.image_,0,0);try{Ny.getImageData(0,0,1,1),this.tainted_=!1}catch{Ny=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Vt.CHANGE)}handleImageError_(){this.imageState_=pn.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=pn.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let t=this.size_[0],n=this.size_[1],i=Fi(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===pn.IDLE){this.image_||this.initializeImage_(),this.imageState_=pn.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&ZU(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==pn.LOADED)return;let n=this.image_,i=Fi(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=i.canvas;i.scale(t,t),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=jU(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===pn.LOADED||this.imageState_===pn.ERROR)t();else{let n=()=>{(this.imageState_===pn.LOADED||this.imageState_===pn.ERROR)&&(this.removeEventListener(Vt.CHANGE,n),t())};this.addEventListener(Vt.CHANGE,n)}})),this.ready_}};QU=g2});function $s(e){return e?Array.isArray(e)?ky(e):typeof e=="object"&&"src"in e?Pve(e):e:null}function Pve(e){if(!e.offset||!e.size)return Zo.getPattern(e.src,"anonymous",e.color);let t=e.src+":"+e.offset,n=Zo.getPattern(t,void 0,e.color);if(n)return n;let i=Zo.get(e.src,"anonymous",null);if(i.getImageState()!==pn.LOADED)return null;let r=Fi(e.size[0],e.size[1]);return r.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),t0(r.canvas,t,void 0,pn.LOADED,e.color,!0),Zo.getPattern(t,void 0,e.color)}var Vy=Ye(()=>{"use strict";Vd();Tl();yo();By();Ly()});function eW(e,t){return n0||(n0=Fi(1,1)),e!=v6&&(n0.font=e,v6=n0.font),n0.measureText(t)}function v2(e,t){return eW(e,t).width}function y6(e,t,n){if(t in n)return n[t];let i=t.split(`
`).reduce((r,o)=>Math.max(r,v2(e,o)),0);return n[t]=i,i}function tW(e,t){let n=[],i=[],r=[],o=0,s=0,a=0,l=0;for(let d=0,c=t.length;d<=c;d+=2){let u=t[d];if(u===`
`||d===c){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}let h=t[d+1]||e.font,p=v2(h,u);n.push(p),s+=p;let f=Ove(h);i.push(f),l=Math.max(l,f)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}function nW(e,t,n,i,r,o,s,a,l,d,c){e.save(),n!==1&&(e.globalAlpha===void 0?e.globalAlpha=u=>u.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,d),e.scale(c[0],c[1]),Lve(i,e)):c[0]<0||c[1]<0?(e.translate(l,d),e.scale(c[0],c[1]),e.drawImage(i,r,o,s,a,0,0,s,a)):e.drawImage(i,r,o,s,a,l,d,s*c[0],a*c[1]),e.restore()}function Lve(e,t){let n=e.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}var b2,io,Rc,qs,Ks,Mc,Hd,zd,hh,tp,jd,Gd,Dc,n0,v6,b6,JU,Ove,Ud=Ye(()=>{"use strict";Za();nh();yo();Kf();Sl();b2="10px sans-serif",io="#000",Rc="round",qs=[],Ks=0,Mc="round",Hd=10,zd="#000",hh="center",tp="middle",jd=[0,0,0,0],Gd=1,Dc=new Dr,n0=null,b6={},JU=function(){let t="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function a(d,c,u){let h=!0;for(let p=0;p<i;++p){let f=n[p];if(s=v2(d+" "+c+" "+t+f,r),u!=f){let m=v2(d+" "+c+" "+t+u+","+f,r);h=h&&m!=s}}return!!h}function l(){let d=!0,c=Dc.getKeys();for(let u=0,h=c.length;u<h;++u){let p=c[u];if(Dc.get(p)<100){let[f,m,g]=p.split(`
`);a(f,m,g)?(vc(b6),n0=null,v6=void 0,Dc.set(p,100)):(Dc.set(p,Dc.get(p)+1,!0),d=!1)}}d&&(clearInterval(o),o=void 0)}return function(d){let c=BA(d);if(!c)return;let u=c.families;for(let h=0,p=u.length;h<p;++h){let f=u[h],m=c.style+`
`+c.weight+`
`+f;Dc.get(m)===void 0&&(Dc.set(m,100,!0),a(c.style,c.weight,f)||(Dc.set(m,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),Ove=function(){let e;return function(t){let n=b6[t];if(n==null){if(GS){let i=BA(t),r=eW(t,"\u017Dg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);b6[t]=n}return n}}()});var w6,y2,C6=Ye(()=>{"use strict";Sc();Er();w6=class e{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Mr(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Gn()}getImage(t){return Gn()}getHitDetectionImage(){return Gn()}getPixelRatio(t){return 1}getImageState(){return Gn()}getImageSize(){return Gn()}getOrigin(){return Gn()}getSize(){return Gn()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Mr(t)}listenImageChange(t){Gn()}load(){Gn()}unlistenImageChange(t){Gn()}ready(){return Promise.resolve()}},y2=w6});var _6,w2,x6=Ye(()=>{"use strict";Vd();Tl();Vy();yo();Ud();By();Ly();C6();_6=class e extends y2{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?pn.LOADING:pn.LOADED,this.imageState_===pn.LOADING&&this.ready().then(()=>this.imageState_=pn.LOADED),this.render()}clone(){let t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){let t=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-n[0]/i[0],t[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let n=this.fill_?.getKey(),i=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(","),r=Zo.get(i,null,null)?.getImage(1);if(!r){let o=this.renderOptions_,s=Math.ceil(o.size*t),a=Fi(s,s);this.draw_(o,a,t),r=a.canvas,Zo.set(i,null,null,new QU(r,void 0,null,pn.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){let k=r;r=o,o=k}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),d=Math.sqrt(o*o-l*l),c=r-d,u=Math.sqrt(l*l+c*c),h=u/l;if(t==="miter"&&h<=i)return h*n;let p=n/2/h,f=n/2*(c/u),g=Math.sqrt((r+p)*(r+p)+f*f)-r;if(this.radius2_===void 0||t==="bevel")return g*2;let v=r*Math.sin(a),w=Math.sqrt(r*r-v*v),E=o-w,F=Math.sqrt(v*v+E*E)/v;if(F<=i){let k=F*n/2-o-r;return 2*Math.max(g,k)}return g*2}createRenderOptions(){let t=Rc,n=Mc,i=0,r=null,o=0,s,a=0;this.stroke_&&(s=$s(this.stroke_.getColor()??zd),a=this.stroke_.getWidth()??Gd,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Mc,t=this.stroke_.getLineCap()??Rc,i=this.stroke_.getMiterLimit()??Hd);let l=this.calculateLineJoinSize_(n,a,i),d=Math.max(this.radius,this.radius2_||0),c=Math.ceil(2*d+l);return{strokeStyle:s,strokeWidth:a,size:c,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=io),n.fillStyle=$s(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Ml(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=Fi(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_,i=this.radius;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let a=0;a<n;a++){let l=o+a*s,d=a%2===0?i:r;t.lineTo(d*Math.cos(l),d*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=io,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},w2=_6});var S6,np,C2=Ye(()=>{"use strict";x6();S6=class e extends w2{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){let t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}},np=S6});var E6,ys,i0=Ye(()=>{"use strict";Vd();Tl();Er();By();E6=class e{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){let t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){let n=t0(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===pn.IDLE&&n.load(),n.getImageState()===pn.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){let t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?xn(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:Ml(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},ys=E6});var rW={};bu(rW,{default:()=>kl});function iW(e,t,n,i){return n!==void 0&&i!==void 0?[n/e,i/t]:n!==void 0?n/e:i!==void 0?i/t:1}var D6,kl,Hy=Ye(()=>{"use strict";Vd();Us();Tl();gr();Er();By();C6();D6=class e extends y2{constructor(t){t=t||{};let n=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;let s=t.img!==void 0?t.img:null,a=t.src;In(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||xn(s)),In(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),In(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(t.src!==void 0?l=pn.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?pn.LOADED:pn.IDLE:l=pn.LOADING:l=pn.LOADED),this.color_=t.color!==void 0?Ml(t.color):null,this.iconImage_=t0(s,a,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let d,c;if(t.size)[d,c]=t.size;else{let u=this.getImage(1);if(u.width&&u.height)d=u.width,c=u.height;else if(u instanceof HTMLImageElement){this.initialOptions_=t;let h=()=>{if(this.unlistenImageChange(h),!this.initialOptions_)return;let p=this.iconImage_.getSize();this.setScale(iW(p[0],p[1],t.width,t.height))};this.listenImageChange(h);return}}d!==void 0&&this.setScale(iW(d,c,t.width,t.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}let n=this.getDisplacement(),i=this.getScaleArray();return[t[0]-n[0]/i[0],t[1]+n[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){let n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==pn.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){let t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==pn.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Vt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Vt.CHANGE,t)}ready(){return this.iconImage_.ready()}},kl=D6});var R6,Ys,zy=Ye(()=>{"use strict";R6=class e{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){let t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}},Ys=R6});var sW={};bu(sW,{createDefaultStyle:()=>_2,createEditingStyle:()=>Nve,default:()=>Qo,toFunction:()=>T6});function T6(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(In(typeof e.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}function _2(e,t){if(!M6){let n=new ys({color:"rgba(255,255,255,0.4)"}),i=new Ys({color:"#3399CC",width:1.25});M6=[new fh({image:new np({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return M6}function Nve(){let e={},t=[255,255,255,1],n=[0,153,255,1],i=3;return e.Polygon=[new fh({fill:new ys({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new fh({stroke:new Ys({color:t,width:i+2})}),new fh({stroke:new Ys({color:n,width:i})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new fh({image:new np({radius:i*2,fill:new ys({color:n}),stroke:new Ys({color:t,width:i/2})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function oW(e){return e.getGeometry()}var fh,M6,Qo,r0=Ye(()=>{"use strict";Us();C2();i0();zy();fh=class e{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=oW,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new e({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=oW,this.geometry_=t}setZIndex(t){this.zIndex_=t}};M6=null;Qo=fh});var Bve,I6,ph,x2=Ye(()=>{"use strict";Sc();i0();Bve="#333",I6=class e{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Mr(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new ys({color:Bve}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Mr(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}},ph=I6});function Vve(e){return!0}function dW(e){let t=d6(),n=Hve(e,t),i=f6();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,t.featureId){let s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return t.geometryType&&(i.geometryType=u6(r.getGeometry())),n(i)}}function F6(e){let t=d6(),n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=k6(e[s],t);let r=f6(),o=new Array(n);return function(s,a){if(r.properties=s.getPropertiesInternal(),r.resolution=a,t.featureId){let d=s.getId();d!==void 0?r.featureId=d:r.featureId=null}let l=0;for(let d=0;d<n;++d){let c=i[d](r);c&&(o[l]=c,l+=1)}return o.length=l,o}}function Hve(e,t){let n=e.length,i=new Array(n);for(let r=0;r<n;++r){let o=e[r],s="filter"in o?Ec(o.filter,Xo,t):Vve,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let d=0;d<l;++d)a[d]=k6(o.style[d],t)}else a=[k6(o.style,t)];i[r]={filter:s,styles:a}}return function(r){let o=[],s=!1;for(let a=0;a<n;++a){let l=i[a].filter;if(l(r)&&!(e[a].else&&s)){s=!0;for(let d of i[a].styles){let c=d(r);c&&o.push(c)}}}return o}}function k6(e,t){let n=jy(e,"",t),i=Gy(e,"",t),r=zve(e,t),o=jve(e,t),s=Xs(e,"z-index",t);if(!n&&!i&&!r&&!o&&!xl(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));let a=new Qo;return function(l){let d=!0;if(n){let c=n(l);c&&(d=!1),a.setFill(c)}if(i){let c=i(l);c&&(d=!1),a.setStroke(c)}if(r){let c=r(l);c&&(d=!1),a.setText(c)}if(o){let c=o(l);c&&(d=!1),a.setImage(c)}return s&&a.setZIndex(s(l)),d?null:a}}function jy(e,t,n){let i;if(t+"fill-pattern-src"in e)i=$ve(e,t+"fill-",n);else{if(e[t+"fill-color"]==="none")return o=>null;i=P6(e,t+"fill-color",n)}if(!i)return null;let r=new ys;return function(o){let s=i(o);return s===p2?null:(r.setColor(s),r)}}function Gy(e,t,n){let i=Xs(e,t+"stroke-width",n),r=P6(e,t+"stroke-color",n);if(!i&&!r)return null;let o=Wd(e,t+"stroke-line-cap",n),s=Wd(e,t+"stroke-line-join",n),a=uW(e,t+"stroke-line-dash",n),l=Xs(e,t+"stroke-line-dash-offset",n),d=Xs(e,t+"stroke-miter-limit",n),c=new Ys;return function(u){if(r){let h=r(u);if(h===p2)return null;c.setColor(h)}if(i&&c.setWidth(i(u)),o){let h=o(u);if(h!=="butt"&&h!=="round"&&h!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(h)}if(s){let h=s(u);if(h!=="bevel"&&h!=="round"&&h!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(h)}return a&&c.setLineDash(a(u)),l&&c.setLineDashOffset(l(u)),d&&c.setMiterLimit(d(u)),c}}function zve(e,t){let n="text-",i=Wd(e,n+"value",t);if(!i)return null;let r=jy(e,n,t),o=jy(e,n+"background-",t),s=Gy(e,n,t),a=Gy(e,n+"background-",t),l=Wd(e,n+"font",t),d=Xs(e,n+"max-angle",t),c=Xs(e,n+"offset-x",t),u=Xs(e,n+"offset-y",t),h=o0(e,n+"overflow",t),p=Wd(e,n+"placement",t),f=Xs(e,n+"repeat",t),m=D2(e,n+"scale",t),g=o0(e,n+"rotate-with-view",t),v=Xs(e,n+"rotation",t),w=Wd(e,n+"align",t),E=Wd(e,n+"justify",t),T=Wd(e,n+"baseline",t),F=o0(e,n+"keep-upright",t),k=uW(e,n+"padding",t),L=R2(e,n+"declutter-mode"),V=new ph({declutterMode:L});return function(j){if(V.setText(i(j)),r&&V.setFill(r(j)),o&&V.setBackgroundFill(o(j)),s&&V.setStroke(s(j)),a&&V.setBackgroundStroke(a(j)),l&&V.setFont(l(j)),d&&V.setMaxAngle(d(j)),c&&V.setOffsetX(c(j)),u&&V.setOffsetY(u(j)),h&&V.setOverflow(h(j)),p){let z=p(j);if(z!=="point"&&z!=="line")throw new Error("Expected point or line for text-placement");V.setPlacement(z)}if(f&&V.setRepeat(f(j)),m&&V.setScale(m(j)),g&&V.setRotateWithView(g(j)),v&&V.setRotation(v(j)),w){let z=w(j);if(z!=="left"&&z!=="center"&&z!=="right"&&z!=="end"&&z!=="start")throw new Error("Expected left, right, center, start, or end for text-align");V.setTextAlign(z)}if(E){let z=E(j);if(z!=="left"&&z!=="right"&&z!=="center")throw new Error("Expected left, right, or center for text-justify");V.setJustify(z)}if(T){let z=T(j);if(z!=="bottom"&&z!=="top"&&z!=="middle"&&z!=="alphabetic"&&z!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");V.setTextBaseline(z)}return k&&V.setPadding(k(j)),F&&V.setKeepUpright(F(j)),V}}function jve(e,t){return"icon-src"in e?Gve(e,t):"shape-points"in e?Uve(e,t):"circle-radius"in e?Wve(e,t):null}function Gve(e,t){let n="icon-",i=n+"src",r=hW(e[i],i),o=S2(e,n+"anchor",t),s=D2(e,n+"scale",t),a=Xs(e,n+"opacity",t),l=S2(e,n+"displacement",t),d=Xs(e,n+"rotation",t),c=o0(e,n+"rotate-with-view",t),u=lW(e,n+"anchor-origin"),h=cW(e,n+"anchor-x-units"),p=cW(e,n+"anchor-y-units"),f=Xve(e,n+"color"),m=Kve(e,n+"cross-origin"),g=Yve(e,n+"offset"),v=lW(e,n+"offset-origin"),w=E2(e,n+"width"),E=E2(e,n+"height"),T=qve(e,n+"size"),F=R2(e,n+"declutter-mode"),k=new kl({src:r,anchorOrigin:u,anchorXUnits:h,anchorYUnits:p,color:f,crossOrigin:m,offset:g,offsetOrigin:v,height:E,width:w,size:T,declutterMode:F});return function(L){return a&&k.setOpacity(a(L)),l&&k.setDisplacement(l(L)),d&&k.setRotation(d(L)),c&&k.setRotateWithView(c(L)),s&&k.setScale(s(L)),o&&k.setAnchor(o(L)),k}}function Uve(e,t){let n="shape-",i=n+"points",r=n+"radius",o=A6(e[i],i),s=A6(e[r],r),a=jy(e,n,t),l=Gy(e,n,t),d=D2(e,n+"scale",t),c=S2(e,n+"displacement",t),u=Xs(e,n+"rotation",t),h=o0(e,n+"rotate-with-view",t),p=E2(e,n+"radius2"),f=E2(e,n+"angle"),m=R2(e,n+"declutter-mode"),g=new w2({points:o,radius:s,radius2:p,angle:f,declutterMode:m});return function(v){return a&&g.setFill(a(v)),l&&g.setStroke(l(v)),c&&g.setDisplacement(c(v)),u&&g.setRotation(u(v)),h&&g.setRotateWithView(h(v)),d&&g.setScale(d(v)),g}}function Wve(e,t){let n="circle-",i=jy(e,n,t),r=Gy(e,n,t),o=Xs(e,n+"radius",t),s=D2(e,n+"scale",t),a=S2(e,n+"displacement",t),l=Xs(e,n+"rotation",t),d=o0(e,n+"rotate-with-view",t),c=R2(e,n+"declutter-mode"),u=new np({radius:5,declutterMode:c});return function(h){return o&&u.setRadius(o(h)),i&&u.setFill(i(h)),r&&u.setStroke(r(h)),a&&u.setDisplacement(a(h)),l&&u.setRotation(l(h)),d&&u.setRotateWithView(d(h)),s&&u.setScale(s(h)),u}}function Xs(e,t,n){if(!(t in e))return;let i=Ec(e[t],ii,n);return function(r){return A6(i(r),t)}}function Wd(e,t,n){if(!(t in e))return null;let i=Ec(e[t],bs,n);return function(r){return hW(i(r),t)}}function $ve(e,t,n){let i=Wd(e,t+"pattern-src",n),r=aW(e,t+"pattern-offset",n),o=aW(e,t+"pattern-size",n),s=P6(e,t+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:o&&o(a),color:s&&s(a)}}}function o0(e,t,n){if(!(t in e))return null;let i=Ec(e[t],Xo,n);return function(r){let o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function P6(e,t,n){if(!(t in e))return null;let i=Ec(e[t],wa,n);return function(r){return fW(i(r),t)}}function uW(e,t,n){if(!(t in e))return null;let i=Ec(e[t],uh,n);return function(r){return Uy(i(r),t)}}function S2(e,t,n){if(!(t in e))return null;let i=Ec(e[t],uh,n);return function(r){let o=Uy(i(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function aW(e,t,n){if(!(t in e))return null;let i=Ec(e[t],uh,n);return function(r){return pW(i(r),t)}}function D2(e,t,n){if(!(t in e))return null;let i=Ec(e[t],uh|ii,n);return function(r){return Zve(i(r),t)}}function E2(e,t){let n=e[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function qve(e,t){let n=e[t];if(n!==void 0){if(typeof n=="number")return Mr(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function Kve(e,t){let n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function lW(e,t){let n=e[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function cW(e,t){let n=e[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function Yve(e,t){let n=e[t];if(n!==void 0)return Uy(n,t)}function R2(e,t){let n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function Xve(e,t){let n=e[t];if(n!==void 0)return fW(n,t)}function Uy(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);let n=e.length;for(let i=0;i<n;++i)if(typeof e[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return e}function hW(e,t){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}function A6(e,t){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}function fW(e,t){if(typeof e=="string")return e;let n=Uy(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function pW(e,t){let n=Uy(e,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function Zve(e,t){return typeof e=="number"?e:pW(e,t)}var mW=Ye(()=>{"use strict";Tl();YU();h6();Sl();Sc();C2();i0();Hy();x6();zy();r0();x2()});function Qve(e){if(e===void 0)return _2;if(!e)return null;if(typeof e=="function"||e instanceof Qo)return e;if(!Array.isArray(e))return F6([e]);if(e.length===0)return[];let t=e.length,n=e[0];if(n instanceof Qo){let r=new Array(t);for(let o=0;o<t;++o){let s=e[o];if(!(s instanceof Qo))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in n){let r=new Array(t);for(let o=0;o<t;++o){let s=e[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return dW(r)}return F6(e)}var gW,O6,M2,L6=Ye(()=>{"use strict";Q4();mW();r0();Xg();gW={RENDER_ORDER:"renderOrder"},O6=class extends Jf{constructor(t){t=t||{};let n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(gW.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){let i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new Jg(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(gW.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?_2:t;let n=Qve(t);this.styleFunction_=t===null?void 0:T6(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}};M2=O6});var N6,T2,B6=Ye(()=>{"use strict";yc();N6=class extends go{constructor(t,n,i,r){super(t),this.inversePixelTransform=n,this.frameState=i,this.context=r}},T2=N6});var Z6,L2,Q6=Ye(()=>{"use strict";yo();Z6=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Wg(),{get:(t,n)=>{if(typeof Wg()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,i)=>(this.push_(n,i),!0)})}push_(...t){let n=this.instructions_,i=this.zIndex+this.offset_;n[i]||(n[i]=[]),n[i].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){let o=n[i];if(typeof o=="function"){o(t);continue}let s=n[++i];if(typeof t[o]=="function")t[o](...s);else{if(typeof s=="function"){t[o]=s(t);continue}t[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},L2=Z6});var abe,J6,kW,AW=Ye(()=>{"use strict";Vd();AA();gr();Er();abe=5,J6=class extends BS{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=abe}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Gn()}getData(t){return null}prepareFrame(t){return Gn()}renderFrame(t,n){return Gn()}forEachFeatureAtCoordinate(t,n,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){let n=t.target;(n.getState()===pn.LOADED||n.getState()===pn.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=pn.LOADED&&n!=pn.ERROR&&t.addEventListener(Vt.CHANGE,this.boundHandleImageChange_),n==pn.IDLE&&(t.load(),n=t.getState()),n==pn.LOADED}renderIfReadyAndVisible(){let t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}},kW=J6});function lbe(){l0=Fi(1,1,void 0,{willReadFrequently:!0})}var tF,l0,eF,N2,nF=Ye(()=>{"use strict";Gr();Tl();yo();ni();B6();Yg();Q6();Dl();AW();tF=[],l0=null;eF=class extends kW{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=bo(),this.pixelTransform=bo(),this.inversePixelTransform=bo(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,i){l0||lbe(),l0.clearRect(0,0,1,1);let r;try{l0.drawImage(t,n,i,1,1,0,0,1,1),r=l0.getImageData(0,0,1,1).data}catch{return l0=null,null}return r}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,n,i){let r=this.getLayer().getClassName(),o,s;if(t&&t.className===r&&(!i||t&&t.style.backgroundColor&&Ko(Ml(t.style.backgroundColor),Ml(i)))){let a=t.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&OG(s.canvas.style.transform,n)?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=Fi();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,n,i){let r=Wa(i),o=Rg(i),s=Dg(i),a=Eg(i);vr(n.coordinateToPixelTransform,r),vr(n.coordinateToPixelTransform,o),vr(n.coordinateToPixelTransform,s),vr(n.coordinateToPixelTransform,a);let l=this.inversePixelTransform;vr(l,r),vr(l,o),vr(l,s),vr(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}prepareContainer(t,n){let i=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,s=t.pixelRatio,a=Math.round(Tn(i)/r*s),l=Math.round(sr(i)/r*s);Po(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,o,-a/2,-l/2),$S(this.inversePixelTransform,this.pixelTransform);let d=PG(this.pixelTransform);if(this.useContainer(n,d,this.getBackground(t)),!this.containerReused){let c=this.context.canvas;c.width!=a||c.height!=l?(c.width=a,c.height=l):this.context.clearRect(0,0,a,l),d!==c.style.transform&&(c.style.transform=d)}}dispatchRenderEvent_(t,n,i){let r=this.getLayer();if(r.hasListener(t)){let o=new T2(t,this.inversePixelTransform,i,n);r.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Oo.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Oo.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new L2),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Oo.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Oo.POSTRENDER,this.context,t))}getRenderTransform(t,n,i,r,o,s,a){let l=o/2,d=s/2,c=r/n,u=-c,h=-t[0]+a,p=-t[1];return Po(this.tempTransform,l,d,c,u,-i,h,p)}disposeInternal(){delete this.frameState,super.disposeInternal()}},N2=eF});function jW(e){return e?typeof e=="function"?e:(Array.isArray(e)||(e=[e]),t=>e):null}var dF,z2,uF=Ye(()=>{"use strict";Za();Sr();dF=class extends Dr{constructor(t){super(),this.projection=Wi(t.projection),this.attributions_=jW(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;let n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=jW(t),this.changed()}setState(t){this.state_=t,this.changed()}};z2=dF});var KW={};bu(KW,{createStyleFunction:()=>qW,default:()=>gh});function qW(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(In(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}var vF,gh,U2=Ye(()=>{"use strict";Za();Us();gr();js();vF=class e extends Dr{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){let n=t;this.setGeometry(n)}else{let n=t;this.setProperties(n)}}clone(){let t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let n=this.getGeometry();n&&t.setGeometry(n.clone());let i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Qn(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=yn(t,Vt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?qW(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};gh=vF});function bF(e,t,n,i,r,o,s){let a,l,d=(n-t)/i;if(d===1)a=t;else if(d===2)a=t,l=r;else if(d!==0){let c=e[t],u=e[t+1],h=0,p=[0];for(let g=t+i;g<n;g+=i){let v=e[g],w=e[g+1];h+=Math.sqrt((v-c)*(v-c)+(w-u)*(w-u)),p.push(h),c=v,u=w}let f=r*h,m=cG(p,f);m<0?(l=(f-p[-m-2])/(p[-m-1]-p[-m-2]),a=t+(-m-2)*i):a=t+m*i}s=s>1?s:2,o=o||new Array(s);for(let c=0;c<s;++c)o[c]=a===void 0?NaN:l===void 0?e[a+c]:qo(e[a+c],e[a+i+c],l);return o}var YW=Ye(()=>{"use strict";Gr();ar()});function XW(e,t,n,i){let r=e[t],o=e[t+1],s=0;for(let a=t+i;a<n;a+=i){let l=e[a],d=e[a+1];s+=Math.sqrt((l-r)*(l-r)+(d-o)*(d-o)),r=l,o=d}return s}var ZW=Ye(()=>{"use strict"});var yF,W2,wF=Ye(()=>{"use strict";yF=class{drawCustom(t,n,i,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,i){}drawFeature(t,n,i){}drawGeometryCollection(t,n,i){}drawLineString(t,n,i){}drawMultiLineString(t,n,i){}drawMultiPoint(t,n,i){}drawMultiPolygon(t,n,i){}drawPoint(t,n,i){}drawPolygon(t,n,i){}drawText(t,n,i){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}},W2=yF});var CF,QW,JW=Ye(()=>{"use strict";Gr();Vy();ni();vy();oh();ar();Dl();wF();Ud();CF=class extends W2{constructor(t,n,i,r,o,s,a){super(),this.context_=t,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?Mg(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=bo()}drawImages_(t,n,i,r){if(!this.image_)return;let o=Ws(t,n,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let c=0,u=o.length;c<u;c+=2){let h=o[c]-this.imageAnchorX_,p=o[c+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let f=h+this.imageAnchorX_,m=p+this.imageAnchorY_;Po(a,f,m,1,1,d,-f,-m),s.save(),s.transform.apply(s,a),s.translate(f,m),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(t,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=Ws(t,n,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=r){let l=o[n]+this.textOffsetX_,d=o[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,d-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,d),this.textFillState_&&s.fillText(this.text_,l,d))}}moveToLineTo_(t,n,i,r,o){let s=this.context_,a=Ws(t,n,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let d=2;d<l;d+=2)s.lineTo(a[d],a[d+1]);return o&&s.closePath(),i}drawRings_(t,n,i,r){for(let o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(t,n,i[o],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!mr(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=jG(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}}drawFeature(t,n){let i=n.getGeometryFunction()(t);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(t){let n=t.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!mr(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){let n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getExtent();if(mr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=t.getFlatCoordinates(),o=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(let l=0,d=s.length;l<d;++l)o=this.moveToLineTo_(r,o,s[l],a,!1);i.stroke()}if(this.text_!==""){let i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!mr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!mr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_,i=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),s=t.getStride();n.beginPath();for(let a=0,l=o.length;a<l;++a){let d=o[a];r=this.drawRings_(i,r,d,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){let n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){let n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),Ko(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){let n=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:hh;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{let i=t.getColor();this.fillState_={fillStyle:$s(i||io)}}if(!n)this.strokeState_=null;else{let i=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),s=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),d=n.getMiterLimit(),c=o||qs;this.strokeState_={lineCap:r!==void 0?r:Rc,lineDash:this.pixelRatio_===1?c:c.map(u=>u*this.pixelRatio_),lineDashOffset:(s||Ks)*this.pixelRatio_,lineJoin:a!==void 0?a:Mc,lineWidth:(l!==void 0?l:Gd)*this.pixelRatio_,miterLimit:d!==void 0?d:Hd,strokeStyle:$s(i||zd)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}let i=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();let s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(t){if(!t)this.text_="";else{let n=t.getFill();if(!n)this.textFillState_=null;else{let p=n.getColor();this.textFillState_={fillStyle:$s(p||io)}}let i=t.getStroke();if(!i)this.textStrokeState_=null;else{let p=i.getColor(),f=i.getLineCap(),m=i.getLineDash(),g=i.getLineDashOffset(),v=i.getLineJoin(),w=i.getWidth(),E=i.getMiterLimit();this.textStrokeState_={lineCap:f!==void 0?f:Rc,lineDash:m||qs,lineDashOffset:g||Ks,lineJoin:v!==void 0?v:Mc,lineWidth:w!==void 0?w:Gd,miterLimit:E!==void 0?E:Hd,strokeStyle:$s(p||zd)}}let r=t.getFont(),o=t.getOffsetX(),s=t.getOffsetY(),a=t.getRotateWithView(),l=t.getRotation(),d=t.getScaleArray(),c=t.getText(),u=t.getTextAlign(),h=t.getTextBaseline();this.textState_={font:r!==void 0?r:b2,textAlign:u!==void 0?u:hh,textBaseline:h!==void 0?h:tp},this.text_=c!==void 0?Array.isArray(c)?c.reduce((p,f,m)=>p+=m%2?" ":f,""):c:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}},QW=CF});function t$(e,t){return parseInt(xn(e),10)-parseInt(xn(t),10)}function _F(e,t){let n=xF(e,t);return n*n}function xF(e,t){return wbe*e/t}function Cbe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(o||s){let l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}}function SF(e,t,n,i,r,o,s,a){let l=[],d=n.getImage();if(d){let h=!0,p=d.getImageState();p==pn.LOADED||p==pn.ERROR?h=!1:p==pn.IDLE&&d.load(),h&&l.push(d.ready())}let c=n.getFill();c&&c.loading()&&l.push(c.ready());let u=l.length>0;return u&&Promise.all(l).then(()=>r(null)),_be(e,t,n,i,o,s,a),u}function _be(e,t,n,i,r,o,s){let a=n.getGeometryFunction()(t);if(!a)return;let l=a.simplifyTransformed(i,r);if(n.getRenderer())n$(e,l,n,t,s);else{let c=e$[l.getType()];c(e,l,n,t,s,o)}}function n$(e,t,n,i,r){if(t.getType()=="GeometryCollection"){let s=t.getGeometries();for(let a=0,l=s.length;a<l;++a)n$(e,s[a],n,i,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function xbe(e,t,n,i,r,o){let s=t.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let d=e$[s[a].getType()];d(e,s[a],n,i,r,o)}}function Sbe(e,t,n,i,r){let o=n.getStroke();if(o){let a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,i,r)}let s=n.getText();if(s&&s.getText()){let a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(t,i,r)}}function Ebe(e,t,n,i,r){let o=n.getStroke();if(o){let a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,i,r)}let s=n.getText();if(s&&s.getText()){let a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(t,i,r)}}function Dbe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(s||o){let l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}function Rbe(e,t,n,i,r,o){let s=n.getImage(),a=n.getText(),l=a&&a.getText(),d=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=pn.LOADED)return;let c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(s,d),c.drawPoint(t,i,r)}if(l){let c=e.getBuilder(n.getZIndex(),"Text");c.setTextStyle(a,d),c.drawText(t,i,r)}}function Mbe(e,t,n,i,r,o){let s=n.getImage(),a=s&&s.getOpacity()!==0,l=n.getText(),d=l&&l.getText(),c=o&&a&&d?{}:void 0;if(a){if(s.getImageState()!=pn.LOADED)return;let u=e.getBuilder(n.getZIndex(),"Image");u.setImageStyle(s,c),u.drawMultiPoint(t,i,r)}if(d){let u=e.getBuilder(n.getZIndex(),"Text");u.setTextStyle(l,c),u.drawText(t,i,r)}}function Tbe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(o||s){let l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}var wbe,e$,i$=Ye(()=>{"use strict";Vd();Er();wbe=.5,e$={Point:Rbe,LineString:Sbe,Polygon:Tbe,MultiPoint:Mbe,MultiLineString:Ebe,MultiPolygon:Dbe,GeometryCollection:xbe,Circle:Cbe}});function kbe(e,t,n,i,r,o,s){let a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(n,i,r):e,!0),t.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Ibe,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let d=t.getType();try{let c;d=="text"||d=="json"?c=a.responseText:d=="xml"?c=a.responseXML||a.responseText:d=="arraybuffer"&&(c=a.response),c?o(t.readFeatures(c,{extent:n,featureProjection:r}),t.readProjection(c)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function EF(e,t){return function(n,i,r,o,s){kbe(e,t,n,i,r,(a,l)=>{this.addFeatures(a),o!==void 0&&o(a)},()=>{this.changed(),s!==void 0&&s()})}}var Ibe,r$=Ye(()=>{"use strict";Ibe=!1});function o$(e,t){return[[-1/0,-1/0,1/0,1/0]]}var s$=Ye(()=>{"use strict";Sr()});function a$(e,t,n,i){let r=[],o=jr();for(let s=0,a=n.length;s<a;++s){let l=n[s];o=Sg(e,t,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return r}var l$=Ye(()=>{"use strict";ni()});var DF=Ye(()=>{"use strict";ZS()});var c$,qy,op,d$=Ye(()=>{"use strict";Gr();ni();gs();l$();c4();YW();p4();yy();oh();Sr();Dl();c$=bo(),qy=class e{constructor(t,n,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?wS(this.flatCoordinates_):Sg(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let t=Ua(this.getExtent());this.flatInteriorPoints_=wy(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let t=aU(this.flatCoordinates_,this.ends_),n=a$(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=JG(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=bF(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let t=this.flatCoordinates_,n=0,i=this.ends_;for(let r=0,o=i.length;r<o;++r){let s=i[r],a=bF(t,n,s,2,.5);Ng(this.flatMidpoints_,a),n=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=Wi(t);let n=t.getExtent(),i=t.getWorldExtent();if(n&&i){let r=sr(i)/sr(n);Po(c$,i[0],i[3],r,-r,0,0,0),Ws(this.flatCoordinates_,0,this.flatCoordinates_.length,2,c$,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new e(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=NS((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=by(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=YG(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,r);break;case"Polygon":r=[],i.length=XS(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new e(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}};qy.prototype.getFlatCoordinates=qy.prototype.getOrientedFlatCoordinates;op=qy});var RF,MF,u$=Ye(()=>{"use strict";Q4();ni();Sl();Er();RF=class{constructor(t){this.rbush_=new Jg(t),this.items_={}}insert(t,n){let i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(i),this.items_[xn(n)]=i}load(t,n){let i=new Array(n.length);for(let r=0,o=n.length;r<o;r++){let s=t[r],a=n[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[xn(a)]=l}this.rbush_.load(i)}remove(t){let n=xn(t),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(t,n){let i=this.items_[xn(n)],r=[i.minX,i.minY,i.maxX,i.maxY];Td(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){let n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let i;for(let r=0,o=t.length;r<o;r++)if(i=n(t[r]),i)return i;return i}isEmpty(){return xl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){let n=this.rbush_.toJSON();return ba(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(let n in t.items_)this.items_[n]=t.items_[n]}},MF=RF});var Ca,h$=Ye(()=>{"use strict";Ca={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}});var f$={};bu(f$,{VectorSourceEvent:()=>Al,default:()=>d0});var Al,TF,d0,$2=Ye(()=>{"use strict";zg();my();Og();Gr();Us();yc();gr();js();ni();r$();gs();s$();Sl();d$();u$();Er();uF();h$();Al=class extends go{constructor(t,n,i){super(t),this.feature=n,this.features=i}},TF=class extends z2{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Nd,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(In(this.format_,"`format` must be set when `url` is set"),this.loader_=EF(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:o$;let n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new MF:null,this.loadedExtentsRtree_=new MF,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(t.features)?r=t.features:t.features&&(i=t.features,r=i.getArray()),!n&&i===void 0&&(i=new vs(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){let n=xn(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);let i=t.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new Al(Ca.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof op||(this.featureChangeKeys_[t]=[yn(n,Vt.CHANGE,this.handleFeatureChange_,this),yn(n,El.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let i=!0;if(n.getId()!==void 0){let r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof op){let o=this.idIndex_[r];o instanceof op?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:i=!1}else i=!1}return i&&(In(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){let n=[],i=[],r=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=xn(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){let a=i[o],l=xn(a);this.setupChangeEvents_(l,a);let d=a.getGeometry();if(d){let c=d.getExtent();n.push(c),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Ca.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new Al(Ca.ADDFEATURE,i[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(Ca.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(Ca.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(vo.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),t.addEventListener(vo.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Qn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(let i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let n=new Al(Ca.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){let i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(r){let o=r.getGeometry();if(o instanceof op||o.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(i){let r=i.getGeometry();if(r instanceof op||r.intersectsExtent(t)){let o=n(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),xl(this.nullGeometryFeatures_)||Ng(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){let n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);let r=_S(t,n);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){let i=t[0],r=t[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return n=n||Od,this.featuresRtree_.forEachInExtent(l,function(d){if(n(d)){let c=d.getGeometry(),u=a;if(a=c instanceof op?0:c.closestPointXY(i,r,s,a),a<u){o=d;let h=Math.sqrt(a);l[0]=i-h,l[1]=r-h,l[2]=i+h,l[3]=r+h}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){let n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){let n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){let n=t.target,i=xn(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{let s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}let o=n.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Al(Ca.CHANGEFEATURE,n))}hasFeature(t){let n=t.getId();return n!==void 0?n in this.idIndex_:xn(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&xl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,i){let r=this.loadedExtentsRtree_,o=this.strategy_(t,n,i);for(let s=0,a=o.length;s<a;++s){let l=o[s];r.forEachInExtent(l,function(c){return Md(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Al(Ca.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Al(Ca.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Al(Ca.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){let n=this.loadedExtentsRtree_,i=n.forEachInExtent(t,function(r){if(Td(r.extent,t))return r});i&&n.remove(i)}removeFeatures(t){let n=!1;for(let i=0,r=t.length;i<r;++i)n=this.removeFeatureInternal(t[i])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){let n=xn(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(Qn),delete this.featureChangeKeys_[n];let r=t.getId();if(r!==void 0){let o=r.toString(),s=this.idIndex_[o];s===t?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(t),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[n],this.hasListener(Ca.REMOVEFEATURE)&&this.dispatchEvent(new Al(Ca.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(let n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){In(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(EF(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}},d0=TF});var Ky,Yy,Tc,$d,IF,nn,sp=Ye(()=>{"use strict";Ky={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Yy=[Ky.FILL],Tc=[Ky.STROKE],$d=[Ky.BEGIN_PATH],IF=[Ky.CLOSE_PATH],nn=Ky});var kF,Ic,u0=Ye(()=>{"use strict";Gr();Vy();lA();ni();YS();wF();Ud();sp();kF=class extends W2{constructor(t,n,i,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){let n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})}appendFlatPointCoordinates(t,n){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=t.length;a<l;a+=n)r[0]=t[a],r[1]=t[a+1],wl(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(t,n,i,r,o,s){let a=this.coordinates,l=a.length,d=this.getBufferedMaxExtent();s&&(n+=r);let c=t[n],u=t[n+1],h=this.tmpCoordinate_,p=!0,f,m,g;for(f=n+r;f<i;f+=r)h[0]=t[f],h[1]=t[f+1],g=vS(d,h),g!==m?(p&&(a[l++]=c,a[l++]=u,p=!1),a[l++]=h[0],a[l++]=h[1]):g===Yr.INTERSECTING?(a[l++]=h[0],a[l++]=h[1],p=!1):p=!0,c=h[0],u=h[1],m=g;return(o&&p||f===n+r)&&(a[l++]=c,a[l++]=u),l}drawCustomCoordinates_(t,n,i,r,o){for(let s=0,a=i.length;s<a;++s){let l=i[s],d=this.appendFlatLineCoordinates(t,n,l,r,!1,!1);o.push(d),n=l}return n}drawCustom(t,n,i,r,o){this.beginGeometry(t,n,o);let s=t.getType(),a=t.getStride(),l=this.coordinates.length,d,c,u,h,p;switch(s){case"MultiPolygon":d=t.getOrientedFlatCoordinates(),h=[];let f=t.getEndss();p=0;for(let m=0,g=f.length;m<g;++m){let v=[];p=this.drawCustomCoordinates_(d,p,f[m],a,v),h.push(v)}this.instructions.push([nn.CUSTOM,l,h,t,i,o4,o]),this.hitDetectionInstructions.push([nn.CUSTOM,l,h,t,r||i,o4,o]);break;case"Polygon":case"MultiLineString":u=[],d=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(d,0,t.getEnds(),a,u),this.instructions.push([nn.CUSTOM,l,u,t,i,Gg,o]),this.hitDetectionInstructions.push([nn.CUSTOM,l,u,t,r||i,Gg,o]);break;case"LineString":case"Circle":d=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(d,0,d.length,a,!1,!1),this.instructions.push([nn.CUSTOM,l,c,t,i,sh,o]),this.hitDetectionInstructions.push([nn.CUSTOM,l,c,t,r||i,sh,o]);break;case"MultiPoint":d=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(d,a),c>l&&(this.instructions.push([nn.CUSTOM,l,c,t,i,sh,o]),this.hitDetectionInstructions.push([nn.CUSTOM,l,c,t,r||i,sh,o]));break;case"Point":d=t.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),c=this.coordinates.length,this.instructions.push([nn.CUSTOM,l,c,t,i,void 0,o]),this.hitDetectionInstructions.push([nn.CUSTOM,l,c,t,r||i,void 0,o]);break;default:}this.endGeometry(n)}beginGeometry(t,n,i){this.beginGeometryInstruction1_=[nn.BEGIN_GEOMETRY,n,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[nn.BEGIN_GEOMETRY,n,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let t=this.hitDetectionInstructions;t.reverse();let n,i=t.length,r,o,s=-1;for(n=0;n<i;++n)r=t[n],o=r[0],o==nn.END_GEOMETRY?s=n:o==nn.BEGIN_GEOMETRY&&(r[2]=n,uG(this.hitDetectionInstructions,s,n),s=-1)}fillStyleToState(t,n={}){if(t){let i=t.getColor();n.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,n.fillStyle=$s(i||io)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){let i=t.getColor();n.strokeStyle=$s(i||zd);let r=t.getLineCap();n.lineCap=r!==void 0?r:Rc;let o=t.getLineDash();n.lineDash=o?o.slice():qs;let s=t.getLineDashOffset();n.lineDashOffset=s||Ks;let a=t.getLineJoin();n.lineJoin=a!==void 0?a:Mc;let l=t.getWidth();n.lineWidth=l!==void 0?l:Gd;let d=t.getMiterLimit();n.miterLimit=d!==void 0?d:Hd,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){let i=this.state;this.fillStyleToState(t,i),this.strokeStyleToState(n,i)}createFill(t){let n=t.fillStyle,i=[nn.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[nn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){let i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,n){let i=t.strokeStyle,r=t.lineCap,o=t.lineDash,s=t.lineDashOffset,a=t.lineJoin,l=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||o!=t.currentLineDash&&!Ko(t.currentLineDash,o)||t.currentLineDashOffset!=s||t.currentLineJoin!=a||t.currentLineWidth!=l||t.currentMiterLimit!=d)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=s,t.currentLineJoin=a,t.currentLineWidth=l,t.currentMiterLimit=d)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let n=[nn.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=bS(this.maxExtent),this.maxLineWidth>0)){let t=this.resolution*(this.maxLineWidth+1)/2;xg(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Ic=kF});var AF,p$,m$=Ye(()=>{"use strict";ni();u0();sp();AF=class extends Ic{constructor(t,n,i,r){super(t,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,i){if(!this.image_||this.maxExtent&&!wl(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,i);let r=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([nn.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([nn.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,i){if(!this.image_)return;this.beginGeometry(t,n,i);let r=t.getFlatCoordinates(),o=[];for(let l=0,d=r.length;l<d;l+=t.getStride())(!this.maxExtent||wl(this.maxExtent,r.slice(l,l+2)))&&o.push(r[l],r[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([nn.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([nn.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){let i=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}},p$=AF});var FF,g$,v$=Ye(()=>{"use strict";Ud();u0();sp();FF=class extends Ic{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinates_(t,n,i,r){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,i,r,!1,!1),a=[nn.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,n,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,qs,Ks],$d);let a=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Tc),this.endGeometry(n)}drawMultiLineString(t,n,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,qs,Ks],$d);let a=t.getEnds(),l=t.getFlatCoordinates(),d=t.getStride(),c=0;for(let u=0,h=a.length;u<h;++u)c=this.drawFlatCoordinates_(l,c,a[u],d);this.hitDetectionInstructions.push(Tc),this.endGeometry(n)}finish(){let t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Tc),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Tc),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push($d)}},g$=FF});var PF,OF,b$=Ye(()=>{"use strict";yy();Ud();u0();sp();PF=class extends Ic{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinatess_(t,n,i,r){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=i.length;this.instructions.push($d),this.hitDetectionInstructions.push($d);for(let d=0;d<l;++d){let c=i[d],u=this.coordinates.length,h=this.appendFlatLineCoordinates(t,n,c,r,!0,!a),p=[nn.MOVE_TO_LINE_TO,u,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(IF),this.hitDetectionInstructions.push(IF)),n=c}return s&&(this.instructions.push(Yy),this.hitDetectionInstructions.push(Yy)),a&&(this.instructions.push(Tc),this.hitDetectionInstructions.push(Tc)),n}drawCircle(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([nn.SET_FILL_STYLE,io]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,qs,Ks]);let a=t.getFlatCoordinates(),l=t.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let c=[nn.CIRCLE,d];this.instructions.push($d,c),this.hitDetectionInstructions.push($d,c),r.fillStyle!==void 0&&(this.instructions.push(Yy),this.hitDetectionInstructions.push(Yy)),r.strokeStyle!==void 0&&(this.instructions.push(Tc),this.hitDetectionInstructions.push(Tc)),this.endGeometry(n)}drawPolygon(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([nn.SET_FILL_STYLE,io]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,qs,Ks]);let a=t.getEnds(),l=t.getOrientedFlatCoordinates(),d=t.getStride();this.drawFlatCoordinatess_(l,0,a,d),this.endGeometry(n)}drawMultiPolygon(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([nn.SET_FILL_STYLE,io]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,qs,Ks]);let a=t.getEndss(),l=t.getOrientedFlatCoordinates(),d=t.getStride(),c=0;for(let u=0,h=a.length;u<h;++u)c=this.drawFlatCoordinatess_(l,c,a[u],d);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let t=this.tolerance;if(t!==0){let n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=ah(n[i],t)}return super.finish()}setFillStrokeStyles_(){let t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}},OF=PF});function y$(e,t,n,i,r){let o=[],s=n,a=0,l=t.slice(n,2);for(;a<e&&s+r<i;){let[d,c]=l.slice(-2),u=t[s+r],h=t[s+r+1],p=Math.sqrt((u-d)*(u-d)+(h-c)*(h-c));if(a+=p,a>=e){let f=(e-a+p)/p,m=qo(d,u,f),g=qo(c,h,f);l.push(m,g),o.push(l),l=[m,g],a==e&&(s+=r),a=0}else if(a<e)l.push(t[s+r],t[s+r+1]),s+=r;else{let f=p-a,m=qo(d,u,f/p),g=qo(c,h,f/p);l.push(m,g),o.push(l),l=[m,g],a=0,s+=r}}return a>0&&o.push(l),o}var w$=Ye(()=>{"use strict";ar()});function C$(e,t,n,i,r){let o=n,s=n,a=0,l=0,d=n,c,u,h,p,f,m,g,v,w,E;for(u=n;u<i;u+=r){let T=t[u],F=t[u+1];f!==void 0&&(w=T-f,E=F-m,p=Math.sqrt(w*w+E*E),g!==void 0&&(l+=h,c=Math.acos((g*w+v*E)/(h*p)),c>e&&(l>a&&(a=l,o=d,s=u),l=0,d=u-r)),h=p,g=w,v=E),f=T,m=F}return l+=p,l>a?[d,u]:[o,s]}var _$=Ye(()=>{"use strict"});var Xy,LF,x$,NF=Ye(()=>{"use strict";Vy();ni();w$();_$();Er();Ud();u0();sp();Xy={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},LF=class extends Ic{constructor(t,n,i,r){super(t,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[io]={fillStyle:io},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,i){let r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;let a=this.coordinates,l=a.length,d=t.getType(),c=null,u=t.getStride();if(s.placement==="line"&&(d=="LineString"||d=="MultiLineString"||d=="Polygon"||d=="MultiPolygon")){if(!mr(this.maxExtent,t.getExtent()))return;let h;if(c=t.getFlatCoordinates(),d=="LineString")h=[c.length];else if(d=="MultiLineString")h=t.getEnds();else if(d=="Polygon")h=t.getEnds().slice(0,1);else if(d=="MultiPolygon"){let g=t.getEndss();h=[];for(let v=0,w=g.length;v<w;++v)h.push(g[v][0])}this.beginGeometry(t,n,i);let p=s.repeat,f=p?void 0:s.textAlign,m=0;for(let g=0,v=h.length;g<v;++g){let w;p?w=y$(p*this.resolution,c,m,h[g],u):w=[c.slice(m,h[g])];for(let E=0,T=w.length;E<T;++E){let F=w[E],k=0,L=F.length;if(f==null){let j=C$(s.maxAngle,F,0,F.length,2);k=j[0],L=j[1]}for(let j=k;j<L;j+=u)a.push(F[j],F[j+1]);let V=a.length;m=h[g],this.drawChars_(l,V),l=V}}this.endGeometry(n)}else{let h=s.overflow?null:[];switch(d){case"Point":case"MultiPoint":c=t.getFlatCoordinates();break;case"LineString":c=t.getFlatMidpoint();break;case"Circle":c=t.getCenter();break;case"MultiLineString":c=t.getFlatMidpoints(),u=2;break;case"Polygon":c=t.getFlatInteriorPoint(),s.overflow||h.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":let T=t.getFlatInteriorPoints();c=[];for(let F=0,k=T.length;F<k;F+=3)s.overflow||h.push(T[F+2]/this.resolution),c.push(T[F],T[F+1]);if(c.length===0)return;u=2;break;default:}let p=this.appendFlatPointCoordinates(c,u);if(p===l)return;if(h&&(p-l)/2!==c.length/u){let T=l/2;h=h.filter((F,k)=>{let L=a[(T+k)*2]===c[k*u]&&a[(T+k)*2+1]===c[k*u+1];return L||--T,L})}this.saveTextStates_();let f=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,m=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(t,n,i);let g=s.padding;if(g!=jd&&(s.scale[0]<0||s.scale[1]<0)){let T=s.padding[0],F=s.padding[1],k=s.padding[2],L=s.padding[3];s.scale[0]<0&&(F=-F,L=-L),s.scale[1]<0&&(T=-T,k=-k),g=[T,F,k,L]}let v=this.pixelRatio;this.instructions.push([nn.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,g==jd?jd:g.map(function(T){return T*v}),f,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);let w=1/v,E=f?f.slice(0):null;E&&(E[1]=io),this.hitDetectionInstructions.push([nn.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,this.declutterMode_,this.declutterImageWithText_,g,E,m,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?io:this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]),this.endGeometry(n)}}saveTextStates_(){let t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||hh,justify:n.justify,textBaseline:n.textBaseline||tp,scale:n.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(t,n){let i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,d=Xy[r.textBaseline],c=this.textOffsetY_*l,u=this.text_,h=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([nn.DRAW_CHARS,t,n,d,r.overflow,a,r.maxAngle,l,c,o,h*l,u,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([nn.DRAW_CHARS,t,n,d,r.overflow,a&&io,r.maxAngle,l,c,o,h*l,u,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let i,r,o;if(!t)this.text_="";else{let s=t.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=$s(s.getColor()||io)):(r=null,this.textFillState_=r);let a=t.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let m=a.getLineDash(),g=a.getLineDashOffset(),v=a.getWidth(),w=a.getMiterLimit();o.lineCap=a.getLineCap()||Rc,o.lineDash=m?m.slice():qs,o.lineDashOffset=g===void 0?Ks:g,o.lineJoin=a.getLineJoin()||Mc,o.lineWidth=v===void 0?Gd:v,o.miterLimit=w===void 0?Hd:w,o.strokeStyle=$s(a.getColor()||zd)}i=this.textState_;let l=t.getFont()||b2;JU(l);let d=t.getScaleArray();i.overflow=t.getOverflow(),i.font=l,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||tp,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||jd,i.scale=d===void 0?[1,1]:d;let c=t.getOffsetX(),u=t.getOffsetY(),h=t.getRotateWithView(),p=t.getKeepUpright(),f=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=u===void 0?0:u,this.textRotateWithView_=h===void 0?!1:h,this.textKeepUpright_=p===void 0?!0:p,this.textRotation_=f===void 0?0:f,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:xn(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+xn(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}},x$=LF});var Abe,BF,S$,E$=Ye(()=>{"use strict";u0();m$();v$();b$();NF();Abe={Circle:OF,Default:Ic,Image:p$,LineString:g$,Polygon:OF,Text:x$},BF=class{constructor(t,n,i,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let t={};for(let n in this.buildersByZIndex_){t[n]=t[n]||{};let i=this.buildersByZIndex_[n];for(let r in i){let o=i[r].finish();t[n][r]=o}}return t}getBuilder(t,n){let i=t!==void 0?t.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[n];if(o===void 0){let s=Abe[n];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o}return o}},S$=BF});function D$(e,t,n,i,r,o,s,a,l,d,c,u,h=!0){let p=e[t],f=e[t+1],m=0,g=0,v=0,w=0;function E(){m=p,g=f,t+=i,p=e[t],f=e[t+1],w+=v,v=Math.sqrt((p-m)*(p-m)+(f-g)*(f-g))}do E();while(t<n-i&&w+v<o);let T=v===0?0:(o-w)/v,F=qo(m,p,T),k=qo(g,f,T),L=t-i,V=w,j=o+a*l(d,r,c);for(;t<n-i&&w+v<j;)E();T=v===0?0:(j-w)/v;let z=qo(m,p,T),R=qo(g,f,T),I=!1;if(h)if(u){let _=[F,k,z,R];qS(_,0,4,2,u,_,_),I=_[0]>_[2]}else I=F>z;let N=Math.PI,b=[],C=L+i===t;t=L,v=0,w=V,p=e[t],f=e[t+1];let x;if(C){E(),x=Math.atan2(f-g,p-m),I&&(x+=x>0?-N:N);let _=(z+F)/2,D=(R+k)/2;return b[0]=[_,D,(j-o)/2,x,r],b}r=r.replace(/\n/g," ");for(let _=0,D=r.length;_<D;){E();let M=Math.atan2(f-g,p-m);if(I&&(M+=M>0?-N:N),x!==void 0){let K=M-x;if(K+=K>N?-2*N:K<-N?2*N:0,Math.abs(K)>s)return null}x=M;let O=_,U=0;for(;_<D;++_){let K=I?D-_-1:_,A=a*l(d,r[K],c);if(t+i<n&&w+v<o+U+A/2)break;U+=A}if(_===O)continue;let G=I?r.substring(D-O,D-_):r.substring(O,_);T=v===0?0:(o+U/2-w)/v;let Y=qo(m,p,T),B=qo(g,f,T);b.push([Y,B,U/2,M,G]),o+=U}return b}var R$=Ye(()=>{"use strict";ar();oh()});function M$(e){return e[3].declutterBox}function VF(e,t){return t==="start"?t=T$.test(e)?"right":"left":t==="end"&&(t=T$.test(e)?"left":"right"),Xy[t]}function Fbe(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}function Pbe(e,t,n){return n%2===0&&(e+=t),e}var h0,vh,qd,Kd,bh,T$,HF,I$,k$=Ye(()=>{"use strict";Gr();ni();ZW();R$();oh();Dl();Q6();Ud();sp();NF();h0=jr(),vh=[],qd=[],Kd=[],bh=[];T$=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");HF=class{constructor(t,n,i,r,o){this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=bo(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new L2:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,i,r){let o=t+n+i+r;if(this.labels_[o])return this.labels_[o];let s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],d=this.pixelRatio,c=[l.scale[0]*d,l.scale[1]*d],u=l.justify?Xy[l.justify]:VF(Array.isArray(t)?t[0]:t,l.textAlign||hh),h=r&&s.lineWidth?s.lineWidth:0,p=Array.isArray(t)?t:String(t).split(`
`).reduce(Fbe,[]),{width:f,height:m,widths:g,heights:v,lineWidths:w}=tW(l,p),E=f+h,T=[],F=(E+2)*c[0],k=(m+h)*c[1],L={width:F<0?Math.floor(F):Math.ceil(F),height:k<0?Math.floor(k):Math.ceil(k),contextInstructions:T};(c[0]!=1||c[1]!=1)&&T.push("scale",c),r&&(T.push("strokeStyle",s.strokeStyle),T.push("lineWidth",h),T.push("lineCap",s.lineCap),T.push("lineJoin",s.lineJoin),T.push("miterLimit",s.miterLimit),T.push("setLineDash",[s.lineDash]),T.push("lineDashOffset",s.lineDashOffset)),i&&T.push("fillStyle",a.fillStyle),T.push("textBaseline","middle"),T.push("textAlign","center");let V=.5-u,j=u*E+V*h,z=[],R=[],I=0,N=0,b=0,C=0,x;for(let _=0,D=p.length;_<D;_+=2){let M=p[_];if(M===`
`){N+=I,I=0,j=u*E+V*h,++C;continue}let O=p[_+1]||l.font;O!==x&&(r&&z.push("font",O),i&&R.push("font",O),x=O),I=Math.max(I,v[b]);let U=[M,j+V*g[b]+u*(g[b]-w[C]),.5*(h+I)+N];j+=g[b],r&&z.push("strokeText",U),i&&R.push("fillText",U),++b}return Array.prototype.push.apply(T,z),Array.prototype.push.apply(T,R),this.labels_[o]=L,L}replayTextBackground_(t,n,i,r,o,s,a){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,n),s&&(this.alignAndScaleFill_=s[2],t.fillStyle=s[1],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())}calculateImageOrLabelDimensions_(t,n,i,r,o,s,a,l,d,c,u,h,p,f,m,g){a*=h[0],l*=h[1];let v=i-a,w=r-l,E=o+d>t?t-d:o,T=s+c>n?n-c:s,F=f[3]+E*h[0]+f[1],k=f[0]+T*h[1]+f[2],L=v-f[3],V=w-f[0];(m||u!==0)&&(vh[0]=L,bh[0]=L,vh[1]=V,qd[1]=V,qd[0]=L+F,Kd[0]=qd[0],Kd[1]=V+k,bh[1]=Kd[1]);let j;return u!==0?(j=Po(bo(),i,r,1,1,u,-i,-r),vr(j,vh),vr(j,qd),vr(j,Kd),vr(j,bh),ba(Math.min(vh[0],qd[0],Kd[0],bh[0]),Math.min(vh[1],qd[1],Kd[1],bh[1]),Math.max(vh[0],qd[0],Kd[0],bh[0]),Math.max(vh[1],qd[1],Kd[1],bh[1]),h0)):ba(Math.min(L,L+F),Math.min(V,V+k),Math.max(L,L+F),Math.max(V,V+k),h0),p&&(v=Math.round(v),w=Math.round(w)),{drawImageX:v,drawImageY:w,drawImageW:E,drawImageH:T,originX:d,originY:c,declutterBox:{minX:h0[0],minY:h0[1],maxX:h0[2],maxY:h0[3],value:g},canvasTransform:j,scale:h}}replayImageOrLabel_(t,n,i,r,o,s,a){let l=!!(s||a),d=r.declutterBox,c=a?a[2]*r.scale[0]/2:0;return d.minX-c<=n[0]&&d.maxX+c>=0&&d.minY-c<=n[1]&&d.maxY+c>=0&&(l&&this.replayTextBackground_(t,vh,qd,Kd,bh,s,a),nW(t,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){let n=this.alignAndScaleFill_;if(n){let i=vr(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(i[0]%r,i[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,i,r){let o=this.textStates[n],s=this.createLabel(t,n,r,i),a=this.strokeStates[i],l=this.pixelRatio,d=VF(Array.isArray(t)?t[0]:t,o.textAlign||hh),c=Xy[o.textBaseline||tp],u=a&&a.lineWidth?a.lineWidth:0,h=s.width/l-2*o.scale[0],p=d*h+2*(.5-d)*u,f=c*s.height/l+2*(.5-c)*u;return{label:s,anchorX:p,anchorY:f}}execute_(t,n,i,r,o,s,a,l){let d=this.zIndexContext_,c;this.pixelCoordinates_&&Ko(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Ws(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),FG(this.renderedTransform_,i));let u=0,h=r.length,p=0,f,m,g,v,w,E,T,F,k,L,V,j,z,R=0,I=0,N=this.coordinateCache_,b=this.viewRotation_,C=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,x={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:b},_=this.instructions!=r||this.overlaps?0:200,D,M,O,U;for(;u<h;){let G=r[u];switch(G[0]){case nn.BEGIN_GEOMETRY:D=G[1],U=G[3],D.getGeometry()?a!==void 0&&!mr(a,U.getExtent())?u=G[2]+1:++u:u=G[2],d&&(d.zIndex=G[4]);break;case nn.BEGIN_PATH:R>_&&(this.fill_(t),R=0),I>_&&(t.stroke(),I=0),!R&&!I&&(t.beginPath(),w=NaN,E=NaN),++u;break;case nn.CIRCLE:p=G[1];let B=c[p],K=c[p+1],A=c[p+2],P=c[p+3],W=A-B,Q=P-K,se=Math.sqrt(W*W+Q*Q);t.moveTo(B+se,K),t.arc(B,K,se,0,2*Math.PI,!0),++u;break;case nn.CLOSE_PATH:t.closePath(),++u;break;case nn.CUSTOM:p=G[1],f=G[2];let ne=G[3],ie=G[4],ye=G[5];x.geometry=ne,x.feature=D,u in N||(N[u]=[]);let ve=N[u];ye?ye(c,p,f,2,ve):(ve[0]=c[p],ve[1]=c[p+1],ve.length=2),d&&(d.zIndex=G[6]),ie(ve,x),++u;break;case nn.DRAW_IMAGE:p=G[1],f=G[2],k=G[3],m=G[4],g=G[5];let ee=G[6],fe=G[7],de=G[8],he=G[9],Ce=G[10],_e=G[11],xe=G[12],ze=G[13];v=G[14]||"declutter";let Ve=G[15];if(!k&&G.length>=20){L=G[19],V=G[20],j=G[21],z=G[22];let Mt=this.drawLabelWithPointPlacement_(L,V,j,z);k=Mt.label,G[3]=k;let pi=G[23];m=(Mt.anchorX-pi)*this.pixelRatio,G[4]=m;let Ot=G[24];g=(Mt.anchorY-Ot)*this.pixelRatio,G[5]=g,ee=k.height,G[6]=ee,ze=k.width,G[13]=ze}let Ze;G.length>25&&(Ze=G[25]);let mt,Ue,nt;G.length>17?(mt=G[16],Ue=G[17],nt=G[18]):(mt=jd,Ue=null,nt=null),Ce&&C?_e+=b:!Ce&&!C&&(_e-=b);let on=0;for(;p<f;p+=2){if(Ze&&Ze[on++]<ze/this.pixelRatio)continue;let Mt=this.calculateImageOrLabelDimensions_(k.width,k.height,c[p],c[p+1],ze,ee,m,g,de,he,_e,xe,o,mt,!!Ue||!!nt,D),pi=[t,n,k,Mt,fe,Ue,nt];if(l){let Ot,Ft,hi;if(Ve){let Ee=f-p;if(!Ve[Ee]){Ve[Ee]={args:pi,declutterMode:v};continue}let ke=Ve[Ee];Ot=ke.args,Ft=ke.declutterMode,delete Ve[Ee],hi=M$(Ot)}let St,ue;if(Ot&&(Ft!=="declutter"||!l.collides(hi))&&(St=!0),(v!=="declutter"||!l.collides(Mt.declutterBox))&&(ue=!0),Ft==="declutter"&&v==="declutter"){let Ee=St&&ue;St=Ee,ue=Ee}St&&(Ft!=="none"&&l.insert(hi),this.replayImageOrLabel_.apply(this,Ot)),ue&&(v!=="none"&&l.insert(Mt.declutterBox),this.replayImageOrLabel_.apply(this,pi))}else this.replayImageOrLabel_.apply(this,pi)}++u;break;case nn.DRAW_CHARS:let bt=G[1],Me=G[2],be=G[3],ge=G[4];z=G[5];let Ie=G[6],ct=G[7],tt=G[8];j=G[9];let vt=G[10];L=G[11],Array.isArray(L)&&(L=L.reduce(Pbe,"")),V=G[12];let tr=[G[13],G[13]];v=G[14]||"declutter";let xt=G[15],wt=this.textStates[V],Sn=wt.font,At=[wt.scale[0]*ct,wt.scale[1]*ct],Yt;Sn in this.widths_?Yt=this.widths_[Sn]:(Yt={},this.widths_[Sn]=Yt);let Hi=XW(c,bt,Me,2),Ut=Math.abs(At[0])*y6(Sn,L,Yt);if(ge||Ut<=Hi){let Mt=this.textStates[V].textAlign,pi=(Hi-Ut)*VF(L,Mt),Ot=D$(c,bt,Me,2,L,pi,Ie,Math.abs(At[0]),y6,Sn,Yt,C?0:this.viewRotation_,xt);e:if(Ot){let Ft=[],hi,St,ue,Ee,ke;if(j)for(hi=0,St=Ot.length;hi<St;++hi){ke=Ot[hi],ue=ke[4],Ee=this.createLabel(ue,V,"",j),m=ke[2]+(At[0]<0?-vt:vt),g=be*Ee.height+(.5-be)*2*vt*At[1]/At[0]-tt;let Xe=this.calculateImageOrLabelDimensions_(Ee.width,Ee.height,ke[0],ke[1],Ee.width,Ee.height,m,g,0,0,ke[3],tr,!1,jd,!1,D);if(l&&v==="declutter"&&l.collides(Xe.declutterBox))break e;Ft.push([t,n,Ee,Xe,1,null,null])}if(z)for(hi=0,St=Ot.length;hi<St;++hi){ke=Ot[hi],ue=ke[4],Ee=this.createLabel(ue,V,z,""),m=ke[2],g=be*Ee.height-tt;let Xe=this.calculateImageOrLabelDimensions_(Ee.width,Ee.height,ke[0],ke[1],Ee.width,Ee.height,m,g,0,0,ke[3],tr,!1,jd,!1,D);if(l&&v==="declutter"&&l.collides(Xe.declutterBox))break e;Ft.push([t,n,Ee,Xe,1,null,null])}l&&v!=="none"&&l.load(Ft.map(M$));for(let Xe=0,zn=Ft.length;Xe<zn;++Xe)this.replayImageOrLabel_.apply(this,Ft[Xe])}}++u;break;case nn.END_GEOMETRY:if(s!==void 0){D=G[1];let Mt=s(D,U,v);if(Mt)return Mt}++u;break;case nn.FILL:_?R++:this.fill_(t),++u;break;case nn.MOVE_TO_LINE_TO:for(p=G[1],f=G[2],M=c[p],O=c[p+1],t.moveTo(M,O),w=M+.5|0,E=O+.5|0,p+=2;p<f;p+=2)M=c[p],O=c[p+1],T=M+.5|0,F=O+.5|0,(p==f-2||T!==w||F!==E)&&(t.lineTo(M,O),w=T,E=F);++u;break;case nn.SET_FILL_STYLE:this.alignAndScaleFill_=G[2],R&&(this.fill_(t),R=0,I&&(t.stroke(),I=0)),t.fillStyle=G[1],++u;break;case nn.SET_STROKE_STYLE:I&&(t.stroke(),I=0),this.setStrokeStyle_(t,G),++u;break;case nn.STROKE:_?I++:t.stroke(),++u;break;default:++u;break}}R&&this.fill_(t),I&&t.stroke()}execute(t,n,i,r,o,s){this.viewRotation_=r,this.execute_(t,n,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(t,n,i,r,o){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}},I$=HF});function Obe(e){if(zF[e]!==void 0)return zF[e];let t=e*2+1,n=e*e,i=new Array(n+1);for(let o=0;o<=e;++o)for(let s=0;s<=e;++s){let a=o*o+s*s;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((e+o)*t+(e+s))*4+3),o>0&&l.push(((e-o)*t+(e+s))*4+3),s>0&&(l.push(((e+o)*t+(e-s))*4+3),o>0&&l.push(((e-o)*t+(e-s))*4+3))}let r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return zF[e]=r,r}var ap,GF,A$,jF,zF,F$,P$=Ye(()=>{"use strict";Gr();yo();ni();oh();Sl();Dl();k$();ap=["Polygon","Circle","LineString","Image","Text","Default"],GF=["Image","Text"],A$=ap.filter(e=>!GF.includes(e)),jF=class{constructor(t,n,i,r,o,s,a){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=bo(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(t,n){let i=this.getClipCoords(n);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,n){for(let i in t){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let o=t[i];for(let s in o){let a=o[s];r[s]=new I$(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(t){for(let n in this.executorsByZIndex_){let i=this.executorsByZIndex_[n];for(let r=0,o=t.length;r<o;++r)if(t[r]in i)return!0}return!1}forEachFeatureAtCoordinate(t,n,i,r,o,s){r=Math.round(r);let a=r*2+1,l=Po(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-t[0],-t[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Fi(a,a));let c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):d||c.clearRect(0,0,a,a);let u;this.renderBuffer_!==void 0&&(u=jr(),jf(u,t),xg(u,n*(this.renderBuffer_+r),u));let h=Obe(r),p;function f(F,k,L){let V=c.getImageData(0,0,a,a).data;for(let j=0,z=h.length;j<z;j++)if(V[h[j]]>0){if(!s||L==="none"||p!=="Image"&&p!=="Text"||s.includes(F)){let R=(h[j]-3)/4,I=r-R%a,N=r-(R/a|0),b=o(F,k,I*I+N*N);if(b)return b}c.clearRect(0,0,a,a);break}}let m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(Gs);let g,v,w,E,T;for(g=m.length-1;g>=0;--g){let F=m[g].toString();for(w=this.executorsByZIndex_[F],v=ap.length-1;v>=0;--v)if(p=ap[v],E=w[p],E!==void 0&&(T=E.executeHitDetection(c,l,i,f,u),T))return T}}getClipCoords(t){let n=this.maxExtent_;if(!n)return null;let i=n[0],r=n[1],o=n[2],s=n[3],a=[i,r,i,s,o,s,o,r];return Ws(a,0,8,2,t,a),a}isEmpty(){return xl(this.executorsByZIndex_)}execute(t,n,i,r,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?dG:Gs),s=s||ap;let d=ap.length;for(let c=0,u=l.length;c<u;++c){let h=l[c].toString(),p=this.executorsByZIndex_[h];for(let f=0,m=s.length;f<m;++f){let g=s[f],v=p[g];if(v!==void 0){let w=a===null?void 0:v.getZIndexContext(),E=w?w.getContext():t,T=this.maxExtent_&&g!=="Image"&&g!=="Text";if(T&&(E.save(),this.clip(E,i)),!w||g==="Text"||g==="Image"?v.execute(E,n,i,r,o,a):w.pushFunction(F=>v.execute(F,n,i,r,o,a)),T&&E.restore(),w){w.offset();let F=l[c]*d+f;this.deferredZIndexContexts_[F]||(this.deferredZIndexContexts_[F]=[]),this.deferredZIndexContexts_[F].push(w)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Gs);for(let i=0,r=n.length;i<r;++i)t[n[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[i]].length=0}},zF={};F$=jF});var q2=Ye(()=>{"use strict";i0();Hy();zy();r0();x2()});function O$(e,t,n,i,r,o,s,a,l){let d=l?Pd(r,l):r,c=e[0]*Fl,u=e[1]*Fl,h=Fi(c,u);h.imageSmoothingEnabled=!1;let p=h.canvas,f=new QW(h,Fl,r,null,s,a,l?Ka(bc(),l):null),m=n.length,g=Math.floor((256*256*256-1)/m),v={};for(let E=1;E<=m;++E){let T=n[E-1],F=T.getStyleFunction()||i;if(!F)continue;let k=F(T,o);if(!k)continue;Array.isArray(k)||(k=[k]);let V=(E*g).toString(16).padStart(7,"#00000");for(let j=0,z=k.length;j<z;++j){let R=k[j],I=R.getGeometryFunction()(T);if(!I||!mr(d,I.getExtent()))continue;let N=R.clone(),b=N.getFill();b&&b.setColor(V);let C=N.getStroke();C&&(C.setColor(V),C.setLineDash(null)),N.setText(void 0);let x=R.getImage();if(x){let O=x.getImageSize();if(!O)continue;let U=Fi(O[0],O[1],void 0,{alpha:!1}),G=U.canvas;U.fillStyle=V,U.fillRect(0,0,G.width,G.height),N.setImage(new kl({img:G,anchor:x.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:x.getOrigin(),opacity:1,size:x.getSize(),scale:x.getScale(),rotation:x.getRotation(),rotateWithView:x.getRotateWithView()}))}let _=N.getZIndex()||0,D=v[_];D||(D={},v[_]=D,D.Polygon=[],D.Circle=[],D.LineString=[],D.Point=[]);let M=I.getType();if(M==="GeometryCollection"){let O=I.getGeometriesArrayRecursive();for(let U=0,G=O.length;U<G;++U){let Y=O[U];D[Y.getType().replace("Multi","")].push(Y,N)}}else D[M.replace("Multi","")].push(I,N)}}let w=Object.keys(v).map(Number).sort(Gs);for(let E=0,T=w.length;E<T;++E){let F=v[w[E]];for(let k in F){let L=F[k];for(let V=0,j=L.length;V<j;V+=2){f.setStyle(L[V+1]);for(let z=0,R=t.length;z<R;++z)f.setTransform(t[z]),f.drawGeometry(L[V])}}}return h.getImageData(0,0,p.width,p.height)}function L$(e,t,n){let i=[];if(n){let r=Math.floor(Math.round(e[0])*Fl),o=Math.floor(Math.round(e[1])*Fl),s=(ui(r,0,n.width-1)+ui(o,0,n.height-1)*n.width)*4,a=n.data[s],l=n.data[s+1],c=n.data[s+2]+256*(l+256*a),u=Math.floor((256*256*256-1)/t.length);c&&c%u===0&&i.push(t[c/u-1])}return i}var Fl,N$=Ye(()=>{"use strict";Gr();yo();ni();ar();Sr();q2();JW();Fl=.5});var UF,B$,V$=Ye(()=>{"use strict";WS();Gr();kd();yo();ni();Sr();Yg();E$();P$();N$();Er();i$();nF();UF=class extends N2{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=jr(),this.wrappedRenderedExtent_=jr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,i){let r=n.extent,o=n.viewState,s=o.center,a=o.resolution,l=o.projection,d=o.rotation,c=l.getExtent(),u=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),p=n.pixelRatio,f=n.viewHints,m=!(f[no.ANIMATING]||f[no.INTERACTING]),g=this.context,v=Math.round(Tn(r)/a*p),w=Math.round(sr(r)/a*p),E=u.getWrapX()&&l.canWrapX(),T=E?Tn(c):null,F=E?Math.ceil((r[2]-c[2])/T)+1:1,k=E?Math.floor((r[0]-c[0])/T):0;do{let L=this.getRenderTransform(s,a,0,p,v,w,k*T);n.declutter&&(L=L.slice(0)),t.execute(g,[g.canvas.width,g.canvas.height],L,d,m,i===void 0?ap:i?GF:A$,i?h&&n.declutter[h]:void 0)}while(++k<F)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Fi(this.context.canvas.width,this.context.canvas.height,tF))}resetDrawContext_(){if(this.opacity_!==1){let t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Yf(this.context),tF.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){let i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;let r=t.viewState;this.prepareContainer(t,n);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener(Oo.PRERENDER)||this.getLayer().hasListener(Oo.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,t);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let d=ya(i.extent,l);a=mr(d,t.extent),this.clipped_=a&&!Md(d,t.extent),this.clipped_&&this.clipUnrotated(o,t,d)}return a&&this.renderWorlds(s,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,d=this.getLayer(),c=[],u=i[0]*Fl,h=i[1]*Fl;c.push(this.getRenderTransform(r,o,s,Fl,u,h,0).slice());let p=d.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!Md(f,l)){let g=l[0],v=Tn(f),w=0,E;for(;g<f[0];)--w,E=v*w,c.push(this.getRenderTransform(r,o,s,Fl,u,h,E).slice()),g+=v;for(w=0,g=l[2];g>f[2];)++w,E=v*w,c.push(this.getRenderTransform(r,o,s,Fl,u,h,E).slice()),g-=v}let m=bc();this.hitDetectionImageData_=O$(i,c,this.renderedFeatures_,d.getStyleFunction(),l,o,s,_F(o,this.renderedPixelRatio_),m?a:null)}n(L$(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,i,r,o){if(!this.replayGroup_)return;let s=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),d={},c=function(h,p,f){let m=xn(h),g=d[m];if(g){if(g!==!0&&f<g.distanceSq){if(f===0)return d[m]=!0,o.splice(o.lastIndexOf(g),1),r(h,l,p);g.geometry=p,g.distanceSq=f}}else{if(f===0)return d[m]=!0,r(h,l,p);o.push(d[m]={feature:h,layer:l,geometry:p,distanceSq:f,callback:r})}},u=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,c,u?n.declutter?.[u]?.all().map(h=>h.value):null)}handleFontsChanged(){let t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){let n=this.getLayer(),i=n.getSource();if(!i)return!1;let r=t.viewHints[no.ANIMATING],o=t.viewHints[no.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=t.extent,d=t.viewState,c=d.projection,u=d.resolution,h=t.pixelRatio,p=n.getRevision(),f=n.getRenderBuffer(),m=n.getRenderOrder();m===void 0&&(m=t$);let g=d.center.slice(),v=xg(l,f*u),w=v.slice(),E=[v.slice()],T=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!Md(T,t.extent)){let C=Tn(T),x=Math.max(Tn(v)/2,C);v[0]=T[0]-x,v[2]=T[2]+x,Ig(g,c);let _=fA(E[0],c);_[0]<T[0]&&_[2]<T[2]?E.push([_[0]+C,_[1],_[2]+C,_[3]]):_[0]>T[0]&&_[2]>T[2]&&E.push([_[0]-C,_[1],_[2]-C,_[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==p&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!t.declutter&&Md(this.wrappedRenderedExtent_,v))return Ko(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let F=new S$(xF(u,h),v,u,h),k=bc(),L;if(k){for(let C=0,x=E.length;C<x;++C){let _=E[C],D=Pd(_,c);i.loadFeatures(D,MA(u,c),k)}L=Ka(k,c)}else for(let C=0,x=E.length;C<x;++C)i.loadFeatures(E[C],u,c);let V=_F(u,h),j=!0,z=(C,x)=>{let _,D=C.getStyleFunction()||n.getStyleFunction();if(D&&(_=D(C,u)),_){let M=this.renderFeature(C,V,_,F,L,this.getLayer().getDeclutter(),x);j=j&&!M}},R=Pd(v,c),I=i.getFeaturesInExtent(R);m&&I.sort(m);for(let C=0,x=I.length;C<x;++C)z(I[C],C);this.renderedFeatures_=I,this.ready=j;let N=F.finish(),b=new F$(v,u,h,i.getOverlaps(),N,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=u,this.renderedRevision_=p,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=w,this.wrappedRenderedExtent_=v,this.renderedCenter_=g,this.renderedProjection_=c,this.renderedPixelRatio_=h,this.replayGroup_=b,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,i,r,o,s,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let d=0,c=i.length;d<c;++d)l=SF(r,t,i[d],n,this.boundHandleStyleImageChange_,o,s,a)||l;else l=SF(r,t,i,n,this.boundHandleStyleImageChange_,o,s,a);return l}},B$=UF});var H$={};bu(H$,{default:()=>lp});var WF,lp,K2=Ye(()=>{"use strict";V$();L6();WF=class extends M2{constructor(t){super(t)}createRenderer(){return new B$(this)}},lp=WF});var Y2=An((p0,Zy)=>{"use strict";(function(){var e,t="4.17.21",n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",d=1,c=2,u=4,h=1,p=2,f=1,m=2,g=4,v=8,w=16,E=32,T=64,F=128,k=256,L=512,V=30,j="...",z=800,R=16,I=1,N=2,b=3,C=1/0,x=9007199254740991,_=17976931348623157e292,D=NaN,M=4294967295,O=M-1,U=M>>>1,G=[["ary",F],["bind",f],["bindKey",m],["curry",v],["curryRight",w],["flip",L],["partial",E],["partialRight",T],["rearg",k]],Y="[object Arguments]",B="[object Array]",K="[object AsyncFunction]",A="[object Boolean]",P="[object Date]",W="[object DOMException]",Q="[object Error]",se="[object Function]",ne="[object GeneratorFunction]",ie="[object Map]",ye="[object Number]",ve="[object Null]",ee="[object Object]",fe="[object Promise]",de="[object Proxy]",he="[object RegExp]",Ce="[object Set]",_e="[object String]",xe="[object Symbol]",ze="[object Undefined]",Ve="[object WeakMap]",Ze="[object WeakSet]",mt="[object ArrayBuffer]",Ue="[object DataView]",nt="[object Float32Array]",on="[object Float64Array]",bt="[object Int8Array]",Me="[object Int16Array]",be="[object Int32Array]",ge="[object Uint8Array]",Ie="[object Uint8ClampedArray]",ct="[object Uint16Array]",tt="[object Uint32Array]",vt=/\b__p \+= '';/g,tr=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,Sn=/[&<>"']/g,At=RegExp(wt.source),Yt=RegExp(Sn.source),Hi=/<%-([\s\S]+?)%>/g,Ut=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,pi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hi=/[\\^$.*+?()[\]{}|]/g,St=RegExp(hi.source),ue=/^\s+/,Ee=/\s/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xe=/\{\n\/\* \[wrapped with (.+)\] \*/,zn=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tt=/[()=,{}\[\]\/\s]/,fi=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,si=/^[-+]0x[0-9a-f]+$/i,fn=/^0b[01]+$/i,kn=/^\[object .+?Constructor\]$/,mi=/^0o[0-7]+$/i,qi=/^(?:0|[1-9]\d*)$/,ir=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,cr=/($^)/,dr=/['\n\r\u2028\u2029\\]/g,wr="\\ud800-\\udfff",ce="\\u0300-\\u036f",Te="\\ufe20-\\ufe2f",Ke="\\u20d0-\\u20ff",He=ce+Te+Ke,lt="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",Lt="\\xac\\xb1\\xd7\\xf7",Pn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xt="\\u2000-\\u206f",rn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="A-Z\\xc0-\\xd6\\xd8-\\xde",Pi="\\ufe0e\\ufe0f",Ki=Lt+Pn+Xt+rn,Yn="['\u2019]",gi="["+wr+"]",Ir="["+Ki+"]",kr="["+He+"]",So="\\d+",xs="["+lt+"]",ta="["+Pt+"]",Ra="[^"+wr+Ki+So+lt+Pt+Qt+"]",Vo="\\ud83c[\\udffb-\\udfff]",Jn="(?:"+kr+"|"+Vo+")",qn="[^"+wr+"]",qc="(?:\\ud83c[\\udde6-\\uddff]){2}",na="[\\ud800-\\udbff][\\udc00-\\udfff]",ia="["+Qt+"]",lo="\\u200d",Ss="(?:"+ta+"|"+Ra+")",Ma="(?:"+ia+"|"+Ra+")",Bl="(?:"+Yn+"(?:d|ll|m|re|s|t|ve))?",Vl="(?:"+Yn+"(?:D|LL|M|RE|S|T|VE))?",Eo=Jn+"?",ra="["+Pi+"]?",Vp="(?:"+lo+"(?:"+[qn,qc,na].join("|")+")"+ra+Eo+")*",su="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hl=ra+Eo+Vp,au="(?:"+[xs,qc,na].join("|")+")"+Hl,jh="(?:"+[qn+kr+"?",kr,qc,na,gi].join("|")+")",lu=RegExp(Yn,"g"),cu=RegExp(kr,"g"),Q0=RegExp(Vo+"(?="+Vo+")|"+jh+Hl,"g"),SD=RegExp([ia+"?"+ta+"+"+Bl+"(?="+[Ir,ia,"$"].join("|")+")",Ma+"+"+Vl+"(?="+[Ir,ia+Ss,"$"].join("|")+")",ia+"?"+Ss+"+"+Bl,ia+"+"+Vl,zh,su,So,au].join("|"),"g"),ED=RegExp("["+lo+wr+He+Pi+"]"),DD=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,RD=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],MD=-1,zi={};zi[nt]=zi[on]=zi[bt]=zi[Me]=zi[be]=zi[ge]=zi[Ie]=zi[ct]=zi[tt]=!0,zi[Y]=zi[B]=zi[mt]=zi[A]=zi[Ue]=zi[P]=zi[Q]=zi[se]=zi[ie]=zi[ye]=zi[ee]=zi[he]=zi[Ce]=zi[_e]=zi[Ve]=!1;var Oi={};Oi[Y]=Oi[B]=Oi[mt]=Oi[Ue]=Oi[A]=Oi[P]=Oi[nt]=Oi[on]=Oi[bt]=Oi[Me]=Oi[be]=Oi[ie]=Oi[ye]=Oi[ee]=Oi[he]=Oi[Ce]=Oi[_e]=Oi[xe]=Oi[ge]=Oi[Ie]=Oi[ct]=Oi[tt]=!0,Oi[Q]=Oi[se]=Oi[Ve]=!1;var TD={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ID={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zw={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hp=parseFloat,kD=parseInt,jw=typeof global=="object"&&global&&global.Object===Object&&global,Gw=typeof self=="object"&&self&&self.Object===Object&&self,Wr=jw||Gw||Function("return this")(),J0=typeof p0=="object"&&p0&&!p0.nodeType&&p0,Kc=J0&&typeof Zy=="object"&&Zy&&!Zy.nodeType&&Zy,Uw=Kc&&Kc.exports===J0,ev=Uw&&jw.process,oa=function(){try{var Se=Kc&&Kc.require&&Kc.require("util").types;return Se||ev&&ev.binding&&ev.binding("util")}catch{}}(),Ww=oa&&oa.isArrayBuffer,$w=oa&&oa.isDate,AD=oa&&oa.isMap,qw=oa&&oa.isRegExp,Kw=oa&&oa.isSet,Yw=oa&&oa.isTypedArray;function is(Se,Ge,Oe){switch(Oe.length){case 0:return Se.call(Ge);case 1:return Se.call(Ge,Oe[0]);case 2:return Se.call(Ge,Oe[0],Oe[1]);case 3:return Se.call(Ge,Oe[0],Oe[1],Oe[2])}return Se.apply(Ge,Oe)}function FD(Se,Ge,Oe,Nt){for(var Dn=-1,Ci=Se==null?0:Se.length;++Dn<Ci;){var Xr=Se[Dn];Ge(Nt,Xr,Oe(Xr),Se)}return Nt}function Es(Se,Ge){for(var Oe=-1,Nt=Se==null?0:Se.length;++Oe<Nt&&Ge(Se[Oe],Oe,Se)!==!1;);return Se}function PD(Se,Ge){for(var Oe=Se==null?0:Se.length;Oe--&&Ge(Se[Oe],Oe,Se)!==!1;);return Se}function Xw(Se,Ge){for(var Oe=-1,Nt=Se==null?0:Se.length;++Oe<Nt;)if(!Ge(Se[Oe],Oe,Se))return!1;return!0}function zl(Se,Ge){for(var Oe=-1,Nt=Se==null?0:Se.length,Dn=0,Ci=[];++Oe<Nt;){var Xr=Se[Oe];Ge(Xr,Oe,Se)&&(Ci[Dn++]=Xr)}return Ci}function zp(Se,Ge){var Oe=Se==null?0:Se.length;return!!Oe&&le(Se,Ge,0)>-1}function tv(Se,Ge,Oe){for(var Nt=-1,Dn=Se==null?0:Se.length;++Nt<Dn;)if(Oe(Ge,Se[Nt]))return!0;return!1}function Yi(Se,Ge){for(var Oe=-1,Nt=Se==null?0:Se.length,Dn=Array(Nt);++Oe<Nt;)Dn[Oe]=Ge(Se[Oe],Oe,Se);return Dn}function jl(Se,Ge){for(var Oe=-1,Nt=Ge.length,Dn=Se.length;++Oe<Nt;)Se[Dn+Oe]=Ge[Oe];return Se}function nv(Se,Ge,Oe,Nt){var Dn=-1,Ci=Se==null?0:Se.length;for(Nt&&Ci&&(Oe=Se[++Dn]);++Dn<Ci;)Oe=Ge(Oe,Se[Dn],Dn,Se);return Oe}function OD(Se,Ge,Oe,Nt){var Dn=Se==null?0:Se.length;for(Nt&&Dn&&(Oe=Se[--Dn]);Dn--;)Oe=Ge(Oe,Se[Dn],Dn,Se);return Oe}function Ar(Se,Ge){for(var Oe=-1,Nt=Se==null?0:Se.length;++Oe<Nt;)if(Ge(Se[Oe],Oe,Se))return!0;return!1}var iv=Bt("length");function LD(Se){return Se.split("")}function Z(Se){return Se.match(ht)||[]}function $(Se,Ge,Oe){var Nt;return Oe(Se,function(Dn,Ci,Xr){if(Ge(Dn,Ci,Xr))return Nt=Ci,!1}),Nt}function X(Se,Ge,Oe,Nt){for(var Dn=Se.length,Ci=Oe+(Nt?1:-1);Nt?Ci--:++Ci<Dn;)if(Ge(Se[Ci],Ci,Se))return Ci;return-1}function le(Se,Ge,Oe){return Ge===Ge?fJ(Se,Ge,Oe):X(Se,We,Oe)}function pe(Se,Ge,Oe,Nt){for(var Dn=Oe-1,Ci=Se.length;++Dn<Ci;)if(Nt(Se[Dn],Ge))return Dn;return-1}function We(Se){return Se!==Se}function dt(Se,Ge){var Oe=Se==null?0:Se.length;return Oe?rr(Se,Ge)/Oe:D}function Bt(Se){return function(Ge){return Ge==null?e:Ge[Se]}}function mn(Se){return function(Ge){return Se==null?e:Se[Ge]}}function ai(Se,Ge,Oe,Nt,Dn){return Dn(Se,function(Ci,Xr,ji){Oe=Nt?(Nt=!1,Ci):Ge(Oe,Ci,Xr,ji)}),Oe}function wi(Se,Ge){var Oe=Se.length;for(Se.sort(Ge);Oe--;)Se[Oe]=Se[Oe].value;return Se}function rr(Se,Ge){for(var Oe,Nt=-1,Dn=Se.length;++Nt<Dn;){var Ci=Ge(Se[Nt]);Ci!==e&&(Oe=Oe===e?Ci:Oe+Ci)}return Oe}function du(Se,Ge){for(var Oe=-1,Nt=Array(Se);++Oe<Se;)Nt[Oe]=Ge(Oe);return Nt}function ND(Se,Ge){return Yi(Ge,function(Oe){return[Oe,Se[Oe]]})}function rv(Se){return Se&&Se.slice(0,D5(Se)+1).replace(ue,"")}function rs(Se){return function(Ge){return Se(Ge)}}function jp(Se,Ge){return Yi(Ge,function(Oe){return Se[Oe]})}function Gh(Se,Ge){return Se.has(Ge)}function ov(Se,Ge){for(var Oe=-1,Nt=Se.length;++Oe<Nt&&le(Ge,Se[Oe],0)>-1;);return Oe}function Zw(Se,Ge){for(var Oe=Se.length;Oe--&&le(Ge,Se[Oe],0)>-1;);return Oe}function BD(Se,Ge){for(var Oe=Se.length,Nt=0;Oe--;)Se[Oe]===Ge&&++Nt;return Nt}var Qw=mn(TD),Jw=mn(ID);function e1(Se){return"\\"+zw[Se]}function sv(Se,Ge){return Se==null?e:Se[Ge]}function Gl(Se){return ED.test(Se)}function t1(Se){return DD.test(Se)}function VD(Se){for(var Ge,Oe=[];!(Ge=Se.next()).done;)Oe.push(Ge.value);return Oe}function av(Se){var Ge=-1,Oe=Array(Se.size);return Se.forEach(function(Nt,Dn){Oe[++Ge]=[Dn,Nt]}),Oe}function n1(Se,Ge){return function(Oe){return Se(Ge(Oe))}}function Ul(Se,Ge){for(var Oe=-1,Nt=Se.length,Dn=0,Ci=[];++Oe<Nt;){var Xr=Se[Oe];(Xr===Ge||Xr===l)&&(Se[Oe]=l,Ci[Dn++]=Oe)}return Ci}function Uh(Se){var Ge=-1,Oe=Array(Se.size);return Se.forEach(function(Nt){Oe[++Ge]=Nt}),Oe}function hJ(Se){var Ge=-1,Oe=Array(Se.size);return Se.forEach(function(Nt){Oe[++Ge]=[Nt,Nt]}),Oe}function fJ(Se,Ge,Oe){for(var Nt=Oe-1,Dn=Se.length;++Nt<Dn;)if(Se[Nt]===Ge)return Nt;return-1}function pJ(Se,Ge,Oe){for(var Nt=Oe+1;Nt--;)if(Se[Nt]===Ge)return Nt;return Nt}function Gp(Se){return Gl(Se)?gJ(Se):iv(Se)}function al(Se){return Gl(Se)?vJ(Se):LD(Se)}function D5(Se){for(var Ge=Se.length;Ge--&&Ee.test(Se.charAt(Ge)););return Ge}var mJ=mn(En);function gJ(Se){for(var Ge=Q0.lastIndex=0;Q0.test(Se);)++Ge;return Ge}function vJ(Se){return Se.match(Q0)||[]}function bJ(Se){return Se.match(SD)||[]}var yJ=function Se(Ge){Ge=Ge==null?Wr:uu.defaults(Wr.Object(),Ge,uu.pick(Wr,RD));var Oe=Ge.Array,Nt=Ge.Date,Dn=Ge.Error,Ci=Ge.Function,Xr=Ge.Math,ji=Ge.Object,HD=Ge.RegExp,wJ=Ge.String,Ta=Ge.TypeError,i1=Oe.prototype,CJ=Ci.prototype,Up=ji.prototype,r1=Ge["__core-js_shared__"],o1=CJ.toString,Li=Up.hasOwnProperty,_J=0,R5=function(){var y=/[^.]+$/.exec(r1&&r1.keys&&r1.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),s1=Up.toString,xJ=o1.call(ji),SJ=Wr._,EJ=HD("^"+o1.call(Li).replace(hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),a1=Uw?Ge.Buffer:e,hu=Ge.Symbol,l1=Ge.Uint8Array,M5=a1?a1.allocUnsafe:e,c1=n1(ji.getPrototypeOf,ji),T5=ji.create,I5=Up.propertyIsEnumerable,d1=i1.splice,k5=hu?hu.isConcatSpreadable:e,lv=hu?hu.iterator:e,Wh=hu?hu.toStringTag:e,u1=function(){try{var y=Xh(ji,"defineProperty");return y({},"",{}),y}catch{}}(),DJ=Ge.clearTimeout!==Wr.clearTimeout&&Ge.clearTimeout,RJ=Nt&&Nt.now!==Wr.Date.now&&Nt.now,MJ=Ge.setTimeout!==Wr.setTimeout&&Ge.setTimeout,h1=Xr.ceil,f1=Xr.floor,zD=ji.getOwnPropertySymbols,TJ=a1?a1.isBuffer:e,A5=Ge.isFinite,IJ=i1.join,kJ=n1(ji.keys,ji),Zr=Xr.max,Ho=Xr.min,AJ=Nt.now,FJ=Ge.parseInt,F5=Xr.random,PJ=i1.reverse,jD=Xh(Ge,"DataView"),cv=Xh(Ge,"Map"),GD=Xh(Ge,"Promise"),Wp=Xh(Ge,"Set"),dv=Xh(Ge,"WeakMap"),uv=Xh(ji,"create"),p1=dv&&new dv,$p={},OJ=Zh(jD),LJ=Zh(cv),NJ=Zh(GD),BJ=Zh(Wp),VJ=Zh(dv),m1=hu?hu.prototype:e,hv=m1?m1.valueOf:e,P5=m1?m1.toString:e;function oe(y){if(Cr(y)&&!Mn(y)&&!(y instanceof ei)){if(y instanceof Ia)return y;if(Li.call(y,"__wrapped__"))return OO(y)}return new Ia(y)}var qp=function(){function y(){}return function(S){if(!ur(S))return{};if(T5)return T5(S);y.prototype=S;var H=new y;return y.prototype=e,H}}();function g1(){}function Ia(y,S){this.__wrapped__=y,this.__actions__=[],this.__chain__=!!S,this.__index__=0,this.__values__=e}oe.templateSettings={escape:Hi,evaluate:Ut,interpolate:Mt,variable:"",imports:{_:oe}},oe.prototype=g1.prototype,oe.prototype.constructor=oe,Ia.prototype=qp(g1.prototype),Ia.prototype.constructor=Ia;function ei(y){this.__wrapped__=y,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function HJ(){var y=new ei(this.__wrapped__);return y.__actions__=Ds(this.__actions__),y.__dir__=this.__dir__,y.__filtered__=this.__filtered__,y.__iteratees__=Ds(this.__iteratees__),y.__takeCount__=this.__takeCount__,y.__views__=Ds(this.__views__),y}function zJ(){if(this.__filtered__){var y=new ei(this);y.__dir__=-1,y.__filtered__=!0}else y=this.clone(),y.__dir__*=-1;return y}function jJ(){var y=this.__wrapped__.value(),S=this.__dir__,H=Mn(y),q=S<0,J=H?y.length:0,ae=ete(0,J,this.__views__),me=ae.start,we=ae.end,De=we-me,Qe=q?we:me-1,Je=this.__iteratees__,rt=Je.length,_t=0,$t=Ho(De,this.__takeCount__);if(!H||!q&&J==De&&$t==De)return rO(y,this.__actions__);var ln=[];e:for(;De--&&_t<$t;){Qe+=S;for(var jn=-1,cn=y[Qe];++jn<rt;){var Xn=Je[jn],li=Xn.iteratee,la=Xn.type,as=li(cn);if(la==N)cn=as;else if(!as){if(la==I)continue e;break e}}ln[_t++]=cn}return ln}ei.prototype=qp(g1.prototype),ei.prototype.constructor=ei;function $h(y){var S=-1,H=y==null?0:y.length;for(this.clear();++S<H;){var q=y[S];this.set(q[0],q[1])}}function GJ(){this.__data__=uv?uv(null):{},this.size=0}function UJ(y){var S=this.has(y)&&delete this.__data__[y];return this.size-=S?1:0,S}function WJ(y){var S=this.__data__;if(uv){var H=S[y];return H===s?e:H}return Li.call(S,y)?S[y]:e}function $J(y){var S=this.__data__;return uv?S[y]!==e:Li.call(S,y)}function qJ(y,S){var H=this.__data__;return this.size+=this.has(y)?0:1,H[y]=uv&&S===e?s:S,this}$h.prototype.clear=GJ,$h.prototype.delete=UJ,$h.prototype.get=WJ,$h.prototype.has=$J,$h.prototype.set=qJ;function Yc(y){var S=-1,H=y==null?0:y.length;for(this.clear();++S<H;){var q=y[S];this.set(q[0],q[1])}}function KJ(){this.__data__=[],this.size=0}function YJ(y){var S=this.__data__,H=v1(S,y);if(H<0)return!1;var q=S.length-1;return H==q?S.pop():d1.call(S,H,1),--this.size,!0}function XJ(y){var S=this.__data__,H=v1(S,y);return H<0?e:S[H][1]}function ZJ(y){return v1(this.__data__,y)>-1}function QJ(y,S){var H=this.__data__,q=v1(H,y);return q<0?(++this.size,H.push([y,S])):H[q][1]=S,this}Yc.prototype.clear=KJ,Yc.prototype.delete=YJ,Yc.prototype.get=XJ,Yc.prototype.has=ZJ,Yc.prototype.set=QJ;function Xc(y){var S=-1,H=y==null?0:y.length;for(this.clear();++S<H;){var q=y[S];this.set(q[0],q[1])}}function JJ(){this.size=0,this.__data__={hash:new $h,map:new(cv||Yc),string:new $h}}function eee(y){var S=T1(this,y).delete(y);return this.size-=S?1:0,S}function tee(y){return T1(this,y).get(y)}function nee(y){return T1(this,y).has(y)}function iee(y,S){var H=T1(this,y),q=H.size;return H.set(y,S),this.size+=H.size==q?0:1,this}Xc.prototype.clear=JJ,Xc.prototype.delete=eee,Xc.prototype.get=tee,Xc.prototype.has=nee,Xc.prototype.set=iee;function qh(y){var S=-1,H=y==null?0:y.length;for(this.__data__=new Xc;++S<H;)this.add(y[S])}function ree(y){return this.__data__.set(y,s),this}function oee(y){return this.__data__.has(y)}qh.prototype.add=qh.prototype.push=ree,qh.prototype.has=oee;function ll(y){var S=this.__data__=new Yc(y);this.size=S.size}function see(){this.__data__=new Yc,this.size=0}function aee(y){var S=this.__data__,H=S.delete(y);return this.size=S.size,H}function lee(y){return this.__data__.get(y)}function cee(y){return this.__data__.has(y)}function dee(y,S){var H=this.__data__;if(H instanceof Yc){var q=H.__data__;if(!cv||q.length<n-1)return q.push([y,S]),this.size=++H.size,this;H=this.__data__=new Xc(q)}return H.set(y,S),this.size=H.size,this}ll.prototype.clear=see,ll.prototype.delete=aee,ll.prototype.get=lee,ll.prototype.has=cee,ll.prototype.set=dee;function O5(y,S){var H=Mn(y),q=!H&&Qh(y),J=!H&&!q&&vu(y),ae=!H&&!q&&!J&&Zp(y),me=H||q||J||ae,we=me?du(y.length,wJ):[],De=we.length;for(var Qe in y)(S||Li.call(y,Qe))&&!(me&&(Qe=="length"||J&&(Qe=="offset"||Qe=="parent")||ae&&(Qe=="buffer"||Qe=="byteLength"||Qe=="byteOffset")||ed(Qe,De)))&&we.push(Qe);return we}function L5(y){var S=y.length;return S?y[eR(0,S-1)]:e}function uee(y,S){return I1(Ds(y),Kh(S,0,y.length))}function hee(y){return I1(Ds(y))}function UD(y,S,H){(H!==e&&!cl(y[S],H)||H===e&&!(S in y))&&Zc(y,S,H)}function fv(y,S,H){var q=y[S];(!(Li.call(y,S)&&cl(q,H))||H===e&&!(S in y))&&Zc(y,S,H)}function v1(y,S){for(var H=y.length;H--;)if(cl(y[H][0],S))return H;return-1}function fee(y,S,H,q){return fu(y,function(J,ae,me){S(q,J,H(J),me)}),q}function N5(y,S){return y&&$l(S,co(S),y)}function pee(y,S){return y&&$l(S,Ms(S),y)}function Zc(y,S,H){S=="__proto__"&&u1?u1(y,S,{configurable:!0,enumerable:!0,value:H,writable:!0}):y[S]=H}function WD(y,S){for(var H=-1,q=S.length,J=Oe(q),ae=y==null;++H<q;)J[H]=ae?e:ER(y,S[H]);return J}function Kh(y,S,H){return y===y&&(H!==e&&(y=y<=H?y:H),S!==e&&(y=y>=S?y:S)),y}function ka(y,S,H,q,J,ae){var me,we=S&d,De=S&c,Qe=S&u;if(H&&(me=J?H(y,q,J,ae):H(y)),me!==e)return me;if(!ur(y))return y;var Je=Mn(y);if(Je){if(me=nte(y),!we)return Ds(y,me)}else{var rt=zo(y),_t=rt==se||rt==ne;if(vu(y))return aO(y,we);if(rt==ee||rt==Y||_t&&!J){if(me=De||_t?{}:DO(y),!we)return De?Wee(y,pee(me,y)):Uee(y,N5(me,y))}else{if(!Oi[rt])return J?y:{};me=ite(y,rt,we)}}ae||(ae=new ll);var $t=ae.get(y);if($t)return $t;ae.set(y,me),tL(y)?y.forEach(function(cn){me.add(ka(cn,S,H,cn,y,ae))}):JO(y)&&y.forEach(function(cn,Xn){me.set(Xn,ka(cn,S,H,Xn,y,ae))});var ln=Qe?De?uR:dR:De?Ms:co,jn=Je?e:ln(y);return Es(jn||y,function(cn,Xn){jn&&(Xn=cn,cn=y[Xn]),fv(me,Xn,ka(cn,S,H,Xn,y,ae))}),me}function mee(y){var S=co(y);return function(H){return B5(H,y,S)}}function B5(y,S,H){var q=H.length;if(y==null)return!q;for(y=ji(y);q--;){var J=H[q],ae=S[J],me=y[J];if(me===e&&!(J in y)||!ae(me))return!1}return!0}function V5(y,S,H){if(typeof y!="function")throw new Ta(r);return wv(function(){y.apply(e,H)},S)}function pv(y,S,H,q){var J=-1,ae=zp,me=!0,we=y.length,De=[],Qe=S.length;if(!we)return De;H&&(S=Yi(S,rs(H))),q?(ae=tv,me=!1):S.length>=n&&(ae=Gh,me=!1,S=new qh(S));e:for(;++J<we;){var Je=y[J],rt=H==null?Je:H(Je);if(Je=q||Je!==0?Je:0,me&&rt===rt){for(var _t=Qe;_t--;)if(S[_t]===rt)continue e;De.push(Je)}else ae(S,rt,q)||De.push(Je)}return De}var fu=hO(Wl),H5=hO(qD,!0);function gee(y,S){var H=!0;return fu(y,function(q,J,ae){return H=!!S(q,J,ae),H}),H}function b1(y,S,H){for(var q=-1,J=y.length;++q<J;){var ae=y[q],me=S(ae);if(me!=null&&(we===e?me===me&&!aa(me):H(me,we)))var we=me,De=ae}return De}function vee(y,S,H,q){var J=y.length;for(H=On(H),H<0&&(H=-H>J?0:J+H),q=q===e||q>J?J:On(q),q<0&&(q+=J),q=H>q?0:iL(q);H<q;)y[H++]=S;return y}function z5(y,S){var H=[];return fu(y,function(q,J,ae){S(q,J,ae)&&H.push(q)}),H}function Do(y,S,H,q,J){var ae=-1,me=y.length;for(H||(H=ote),J||(J=[]);++ae<me;){var we=y[ae];S>0&&H(we)?S>1?Do(we,S-1,H,q,J):jl(J,we):q||(J[J.length]=we)}return J}var $D=fO(),j5=fO(!0);function Wl(y,S){return y&&$D(y,S,co)}function qD(y,S){return y&&j5(y,S,co)}function y1(y,S){return zl(S,function(H){return td(y[H])})}function Yh(y,S){S=mu(S,y);for(var H=0,q=S.length;y!=null&&H<q;)y=y[ql(S[H++])];return H&&H==q?y:e}function G5(y,S,H){var q=S(y);return Mn(y)?q:jl(q,H(y))}function os(y){return y==null?y===e?ze:ve:Wh&&Wh in ji(y)?Jee(y):hte(y)}function KD(y,S){return y>S}function bee(y,S){return y!=null&&Li.call(y,S)}function yee(y,S){return y!=null&&S in ji(y)}function wee(y,S,H){return y>=Ho(S,H)&&y<Zr(S,H)}function YD(y,S,H){for(var q=H?tv:zp,J=y[0].length,ae=y.length,me=ae,we=Oe(ae),De=1/0,Qe=[];me--;){var Je=y[me];me&&S&&(Je=Yi(Je,rs(S))),De=Ho(Je.length,De),we[me]=!H&&(S||J>=120&&Je.length>=120)?new qh(me&&Je):e}Je=y[0];var rt=-1,_t=we[0];e:for(;++rt<J&&Qe.length<De;){var $t=Je[rt],ln=S?S($t):$t;if($t=H||$t!==0?$t:0,!(_t?Gh(_t,ln):q(Qe,ln,H))){for(me=ae;--me;){var jn=we[me];if(!(jn?Gh(jn,ln):q(y[me],ln,H)))continue e}_t&&_t.push(ln),Qe.push($t)}}return Qe}function Cee(y,S,H,q){return Wl(y,function(J,ae,me){S(q,H(J),ae,me)}),q}function mv(y,S,H){S=mu(S,y),y=IO(y,S);var q=y==null?y:y[ql(Fa(S))];return q==null?e:is(q,y,H)}function U5(y){return Cr(y)&&os(y)==Y}function _ee(y){return Cr(y)&&os(y)==mt}function xee(y){return Cr(y)&&os(y)==P}function gv(y,S,H,q,J){return y===S?!0:y==null||S==null||!Cr(y)&&!Cr(S)?y!==y&&S!==S:See(y,S,H,q,gv,J)}function See(y,S,H,q,J,ae){var me=Mn(y),we=Mn(S),De=me?B:zo(y),Qe=we?B:zo(S);De=De==Y?ee:De,Qe=Qe==Y?ee:Qe;var Je=De==ee,rt=Qe==ee,_t=De==Qe;if(_t&&vu(y)){if(!vu(S))return!1;me=!0,Je=!1}if(_t&&!Je)return ae||(ae=new ll),me||Zp(y)?xO(y,S,H,q,J,ae):Zee(y,S,De,H,q,J,ae);if(!(H&h)){var $t=Je&&Li.call(y,"__wrapped__"),ln=rt&&Li.call(S,"__wrapped__");if($t||ln){var jn=$t?y.value():y,cn=ln?S.value():S;return ae||(ae=new ll),J(jn,cn,H,q,ae)}}return _t?(ae||(ae=new ll),Qee(y,S,H,q,J,ae)):!1}function Eee(y){return Cr(y)&&zo(y)==ie}function XD(y,S,H,q){var J=H.length,ae=J,me=!q;if(y==null)return!ae;for(y=ji(y);J--;){var we=H[J];if(me&&we[2]?we[1]!==y[we[0]]:!(we[0]in y))return!1}for(;++J<ae;){we=H[J];var De=we[0],Qe=y[De],Je=we[1];if(me&&we[2]){if(Qe===e&&!(De in y))return!1}else{var rt=new ll;if(q)var _t=q(Qe,Je,De,y,S,rt);if(!(_t===e?gv(Je,Qe,h|p,q,rt):_t))return!1}}return!0}function W5(y){if(!ur(y)||ate(y))return!1;var S=td(y)?EJ:kn;return S.test(Zh(y))}function Dee(y){return Cr(y)&&os(y)==he}function Ree(y){return Cr(y)&&zo(y)==Ce}function Mee(y){return Cr(y)&&L1(y.length)&&!!zi[os(y)]}function $5(y){return typeof y=="function"?y:y==null?Ts:typeof y=="object"?Mn(y)?Y5(y[0],y[1]):K5(y):pL(y)}function ZD(y){if(!yv(y))return kJ(y);var S=[];for(var H in ji(y))Li.call(y,H)&&H!="constructor"&&S.push(H);return S}function Tee(y){if(!ur(y))return ute(y);var S=yv(y),H=[];for(var q in y)q=="constructor"&&(S||!Li.call(y,q))||H.push(q);return H}function QD(y,S){return y<S}function q5(y,S){var H=-1,q=Rs(y)?Oe(y.length):[];return fu(y,function(J,ae,me){q[++H]=S(J,ae,me)}),q}function K5(y){var S=fR(y);return S.length==1&&S[0][2]?MO(S[0][0],S[0][1]):function(H){return H===y||XD(H,y,S)}}function Y5(y,S){return mR(y)&&RO(S)?MO(ql(y),S):function(H){var q=ER(H,y);return q===e&&q===S?DR(H,y):gv(S,q,h|p)}}function w1(y,S,H,q,J){y!==S&&$D(S,function(ae,me){if(J||(J=new ll),ur(ae))Iee(y,S,me,H,w1,q,J);else{var we=q?q(vR(y,me),ae,me+"",y,S,J):e;we===e&&(we=ae),UD(y,me,we)}},Ms)}function Iee(y,S,H,q,J,ae,me){var we=vR(y,H),De=vR(S,H),Qe=me.get(De);if(Qe){UD(y,H,Qe);return}var Je=ae?ae(we,De,H+"",y,S,me):e,rt=Je===e;if(rt){var _t=Mn(De),$t=!_t&&vu(De),ln=!_t&&!$t&&Zp(De);Je=De,_t||$t||ln?Mn(we)?Je=we:Fr(we)?Je=Ds(we):$t?(rt=!1,Je=aO(De,!0)):ln?(rt=!1,Je=lO(De,!0)):Je=[]:Cv(De)||Qh(De)?(Je=we,Qh(we)?Je=rL(we):(!ur(we)||td(we))&&(Je=DO(De))):rt=!1}rt&&(me.set(De,Je),J(Je,De,q,ae,me),me.delete(De)),UD(y,H,Je)}function X5(y,S){var H=y.length;if(H)return S+=S<0?H:0,ed(S,H)?y[S]:e}function Z5(y,S,H){S.length?S=Yi(S,function(ae){return Mn(ae)?function(me){return Yh(me,ae.length===1?ae[0]:ae)}:ae}):S=[Ts];var q=-1;S=Yi(S,rs(sn()));var J=q5(y,function(ae,me,we){var De=Yi(S,function(Qe){return Qe(ae)});return{criteria:De,index:++q,value:ae}});return wi(J,function(ae,me){return Gee(ae,me,H)})}function kee(y,S){return Q5(y,S,function(H,q){return DR(y,q)})}function Q5(y,S,H){for(var q=-1,J=S.length,ae={};++q<J;){var me=S[q],we=Yh(y,me);H(we,me)&&vv(ae,mu(me,y),we)}return ae}function Aee(y){return function(S){return Yh(S,y)}}function JD(y,S,H,q){var J=q?pe:le,ae=-1,me=S.length,we=y;for(y===S&&(S=Ds(S)),H&&(we=Yi(y,rs(H)));++ae<me;)for(var De=0,Qe=S[ae],Je=H?H(Qe):Qe;(De=J(we,Je,De,q))>-1;)we!==y&&d1.call(we,De,1),d1.call(y,De,1);return y}function J5(y,S){for(var H=y?S.length:0,q=H-1;H--;){var J=S[H];if(H==q||J!==ae){var ae=J;ed(J)?d1.call(y,J,1):iR(y,J)}}return y}function eR(y,S){return y+f1(F5()*(S-y+1))}function Fee(y,S,H,q){for(var J=-1,ae=Zr(h1((S-y)/(H||1)),0),me=Oe(ae);ae--;)me[q?ae:++J]=y,y+=H;return me}function tR(y,S){var H="";if(!y||S<1||S>x)return H;do S%2&&(H+=y),S=f1(S/2),S&&(y+=y);while(S);return H}function Un(y,S){return bR(TO(y,S,Ts),y+"")}function Pee(y){return L5(Qp(y))}function Oee(y,S){var H=Qp(y);return I1(H,Kh(S,0,H.length))}function vv(y,S,H,q){if(!ur(y))return y;S=mu(S,y);for(var J=-1,ae=S.length,me=ae-1,we=y;we!=null&&++J<ae;){var De=ql(S[J]),Qe=H;if(De==="__proto__"||De==="constructor"||De==="prototype")return y;if(J!=me){var Je=we[De];Qe=q?q(Je,De,we):e,Qe===e&&(Qe=ur(Je)?Je:ed(S[J+1])?[]:{})}fv(we,De,Qe),we=we[De]}return y}var eO=p1?function(y,S){return p1.set(y,S),y}:Ts,Lee=u1?function(y,S){return u1(y,"toString",{configurable:!0,enumerable:!1,value:MR(S),writable:!0})}:Ts;function Nee(y){return I1(Qp(y))}function Aa(y,S,H){var q=-1,J=y.length;S<0&&(S=-S>J?0:J+S),H=H>J?J:H,H<0&&(H+=J),J=S>H?0:H-S>>>0,S>>>=0;for(var ae=Oe(J);++q<J;)ae[q]=y[q+S];return ae}function Bee(y,S){var H;return fu(y,function(q,J,ae){return H=S(q,J,ae),!H}),!!H}function C1(y,S,H){var q=0,J=y==null?q:y.length;if(typeof S=="number"&&S===S&&J<=U){for(;q<J;){var ae=q+J>>>1,me=y[ae];me!==null&&!aa(me)&&(H?me<=S:me<S)?q=ae+1:J=ae}return J}return nR(y,S,Ts,H)}function nR(y,S,H,q){var J=0,ae=y==null?0:y.length;if(ae===0)return 0;S=H(S);for(var me=S!==S,we=S===null,De=aa(S),Qe=S===e;J<ae;){var Je=f1((J+ae)/2),rt=H(y[Je]),_t=rt!==e,$t=rt===null,ln=rt===rt,jn=aa(rt);if(me)var cn=q||ln;else Qe?cn=ln&&(q||_t):we?cn=ln&&_t&&(q||!$t):De?cn=ln&&_t&&!$t&&(q||!jn):$t||jn?cn=!1:cn=q?rt<=S:rt<S;cn?J=Je+1:ae=Je}return Ho(ae,O)}function tO(y,S){for(var H=-1,q=y.length,J=0,ae=[];++H<q;){var me=y[H],we=S?S(me):me;if(!H||!cl(we,De)){var De=we;ae[J++]=me===0?0:me}}return ae}function nO(y){return typeof y=="number"?y:aa(y)?D:+y}function sa(y){if(typeof y=="string")return y;if(Mn(y))return Yi(y,sa)+"";if(aa(y))return P5?P5.call(y):"";var S=y+"";return S=="0"&&1/y==-C?"-0":S}function pu(y,S,H){var q=-1,J=zp,ae=y.length,me=!0,we=[],De=we;if(H)me=!1,J=tv;else if(ae>=n){var Qe=S?null:Yee(y);if(Qe)return Uh(Qe);me=!1,J=Gh,De=new qh}else De=S?[]:we;e:for(;++q<ae;){var Je=y[q],rt=S?S(Je):Je;if(Je=H||Je!==0?Je:0,me&&rt===rt){for(var _t=De.length;_t--;)if(De[_t]===rt)continue e;S&&De.push(rt),we.push(Je)}else J(De,rt,H)||(De!==we&&De.push(rt),we.push(Je))}return we}function iR(y,S){return S=mu(S,y),y=IO(y,S),y==null||delete y[ql(Fa(S))]}function iO(y,S,H,q){return vv(y,S,H(Yh(y,S)),q)}function _1(y,S,H,q){for(var J=y.length,ae=q?J:-1;(q?ae--:++ae<J)&&S(y[ae],ae,y););return H?Aa(y,q?0:ae,q?ae+1:J):Aa(y,q?ae+1:0,q?J:ae)}function rO(y,S){var H=y;return H instanceof ei&&(H=H.value()),nv(S,function(q,J){return J.func.apply(J.thisArg,jl([q],J.args))},H)}function rR(y,S,H){var q=y.length;if(q<2)return q?pu(y[0]):[];for(var J=-1,ae=Oe(q);++J<q;)for(var me=y[J],we=-1;++we<q;)we!=J&&(ae[J]=pv(ae[J]||me,y[we],S,H));return pu(Do(ae,1),S,H)}function oO(y,S,H){for(var q=-1,J=y.length,ae=S.length,me={};++q<J;){var we=q<ae?S[q]:e;H(me,y[q],we)}return me}function oR(y){return Fr(y)?y:[]}function sR(y){return typeof y=="function"?y:Ts}function mu(y,S){return Mn(y)?y:mR(y,S)?[y]:PO(Ii(y))}var Vee=Un;function gu(y,S,H){var q=y.length;return H=H===e?q:H,!S&&H>=q?y:Aa(y,S,H)}var sO=DJ||function(y){return Wr.clearTimeout(y)};function aO(y,S){if(S)return y.slice();var H=y.length,q=M5?M5(H):new y.constructor(H);return y.copy(q),q}function aR(y){var S=new y.constructor(y.byteLength);return new l1(S).set(new l1(y)),S}function Hee(y,S){var H=S?aR(y.buffer):y.buffer;return new y.constructor(H,y.byteOffset,y.byteLength)}function zee(y){var S=new y.constructor(y.source,Ct.exec(y));return S.lastIndex=y.lastIndex,S}function jee(y){return hv?ji(hv.call(y)):{}}function lO(y,S){var H=S?aR(y.buffer):y.buffer;return new y.constructor(H,y.byteOffset,y.length)}function cO(y,S){if(y!==S){var H=y!==e,q=y===null,J=y===y,ae=aa(y),me=S!==e,we=S===null,De=S===S,Qe=aa(S);if(!we&&!Qe&&!ae&&y>S||ae&&me&&De&&!we&&!Qe||q&&me&&De||!H&&De||!J)return 1;if(!q&&!ae&&!Qe&&y<S||Qe&&H&&J&&!q&&!ae||we&&H&&J||!me&&J||!De)return-1}return 0}function Gee(y,S,H){for(var q=-1,J=y.criteria,ae=S.criteria,me=J.length,we=H.length;++q<me;){var De=cO(J[q],ae[q]);if(De){if(q>=we)return De;var Qe=H[q];return De*(Qe=="desc"?-1:1)}}return y.index-S.index}function dO(y,S,H,q){for(var J=-1,ae=y.length,me=H.length,we=-1,De=S.length,Qe=Zr(ae-me,0),Je=Oe(De+Qe),rt=!q;++we<De;)Je[we]=S[we];for(;++J<me;)(rt||J<ae)&&(Je[H[J]]=y[J]);for(;Qe--;)Je[we++]=y[J++];return Je}function uO(y,S,H,q){for(var J=-1,ae=y.length,me=-1,we=H.length,De=-1,Qe=S.length,Je=Zr(ae-we,0),rt=Oe(Je+Qe),_t=!q;++J<Je;)rt[J]=y[J];for(var $t=J;++De<Qe;)rt[$t+De]=S[De];for(;++me<we;)(_t||J<ae)&&(rt[$t+H[me]]=y[J++]);return rt}function Ds(y,S){var H=-1,q=y.length;for(S||(S=Oe(q));++H<q;)S[H]=y[H];return S}function $l(y,S,H,q){var J=!H;H||(H={});for(var ae=-1,me=S.length;++ae<me;){var we=S[ae],De=q?q(H[we],y[we],we,H,y):e;De===e&&(De=y[we]),J?Zc(H,we,De):fv(H,we,De)}return H}function Uee(y,S){return $l(y,pR(y),S)}function Wee(y,S){return $l(y,SO(y),S)}function x1(y,S){return function(H,q){var J=Mn(H)?FD:fee,ae=S?S():{};return J(H,y,sn(q,2),ae)}}function Kp(y){return Un(function(S,H){var q=-1,J=H.length,ae=J>1?H[J-1]:e,me=J>2?H[2]:e;for(ae=y.length>3&&typeof ae=="function"?(J--,ae):e,me&&ss(H[0],H[1],me)&&(ae=J<3?e:ae,J=1),S=ji(S);++q<J;){var we=H[q];we&&y(S,we,q,ae)}return S})}function hO(y,S){return function(H,q){if(H==null)return H;if(!Rs(H))return y(H,q);for(var J=H.length,ae=S?J:-1,me=ji(H);(S?ae--:++ae<J)&&q(me[ae],ae,me)!==!1;);return H}}function fO(y){return function(S,H,q){for(var J=-1,ae=ji(S),me=q(S),we=me.length;we--;){var De=me[y?we:++J];if(H(ae[De],De,ae)===!1)break}return S}}function $ee(y,S,H){var q=S&f,J=bv(y);function ae(){var me=this&&this!==Wr&&this instanceof ae?J:y;return me.apply(q?H:this,arguments)}return ae}function pO(y){return function(S){S=Ii(S);var H=Gl(S)?al(S):e,q=H?H[0]:S.charAt(0),J=H?gu(H,1).join(""):S.slice(1);return q[y]()+J}}function Yp(y){return function(S){return nv(hL(uL(S).replace(lu,"")),y,"")}}function bv(y){return function(){var S=arguments;switch(S.length){case 0:return new y;case 1:return new y(S[0]);case 2:return new y(S[0],S[1]);case 3:return new y(S[0],S[1],S[2]);case 4:return new y(S[0],S[1],S[2],S[3]);case 5:return new y(S[0],S[1],S[2],S[3],S[4]);case 6:return new y(S[0],S[1],S[2],S[3],S[4],S[5]);case 7:return new y(S[0],S[1],S[2],S[3],S[4],S[5],S[6])}var H=qp(y.prototype),q=y.apply(H,S);return ur(q)?q:H}}function qee(y,S,H){var q=bv(y);function J(){for(var ae=arguments.length,me=Oe(ae),we=ae,De=Xp(J);we--;)me[we]=arguments[we];var Qe=ae<3&&me[0]!==De&&me[ae-1]!==De?[]:Ul(me,De);if(ae-=Qe.length,ae<H)return yO(y,S,S1,J.placeholder,e,me,Qe,e,e,H-ae);var Je=this&&this!==Wr&&this instanceof J?q:y;return is(Je,this,me)}return J}function mO(y){return function(S,H,q){var J=ji(S);if(!Rs(S)){var ae=sn(H,3);S=co(S),H=function(we){return ae(J[we],we,J)}}var me=y(S,H,q);return me>-1?J[ae?S[me]:me]:e}}function gO(y){return Jc(function(S){var H=S.length,q=H,J=Ia.prototype.thru;for(y&&S.reverse();q--;){var ae=S[q];if(typeof ae!="function")throw new Ta(r);if(J&&!me&&M1(ae)=="wrapper")var me=new Ia([],!0)}for(q=me?q:H;++q<H;){ae=S[q];var we=M1(ae),De=we=="wrapper"?hR(ae):e;De&&gR(De[0])&&De[1]==(F|v|E|k)&&!De[4].length&&De[9]==1?me=me[M1(De[0])].apply(me,De[3]):me=ae.length==1&&gR(ae)?me[we]():me.thru(ae)}return function(){var Qe=arguments,Je=Qe[0];if(me&&Qe.length==1&&Mn(Je))return me.plant(Je).value();for(var rt=0,_t=H?S[rt].apply(this,Qe):Je;++rt<H;)_t=S[rt].call(this,_t);return _t}})}function S1(y,S,H,q,J,ae,me,we,De,Qe){var Je=S&F,rt=S&f,_t=S&m,$t=S&(v|w),ln=S&L,jn=_t?e:bv(y);function cn(){for(var Xn=arguments.length,li=Oe(Xn),la=Xn;la--;)li[la]=arguments[la];if($t)var as=Xp(cn),ca=BD(li,as);if(q&&(li=dO(li,q,J,$t)),ae&&(li=uO(li,ae,me,$t)),Xn-=ca,$t&&Xn<Qe){var Pr=Ul(li,as);return yO(y,S,S1,cn.placeholder,H,li,Pr,we,De,Qe-Xn)}var dl=rt?H:this,id=_t?dl[y]:y;return Xn=li.length,we?li=fte(li,we):ln&&Xn>1&&li.reverse(),Je&&De<Xn&&(li.length=De),this&&this!==Wr&&this instanceof cn&&(id=jn||bv(id)),id.apply(dl,li)}return cn}function vO(y,S){return function(H,q){return Cee(H,y,S(q),{})}}function E1(y,S){return function(H,q){var J;if(H===e&&q===e)return S;if(H!==e&&(J=H),q!==e){if(J===e)return q;typeof H=="string"||typeof q=="string"?(H=sa(H),q=sa(q)):(H=nO(H),q=nO(q)),J=y(H,q)}return J}}function lR(y){return Jc(function(S){return S=Yi(S,rs(sn())),Un(function(H){var q=this;return y(S,function(J){return is(J,q,H)})})})}function D1(y,S){S=S===e?" ":sa(S);var H=S.length;if(H<2)return H?tR(S,y):S;var q=tR(S,h1(y/Gp(S)));return Gl(S)?gu(al(q),0,y).join(""):q.slice(0,y)}function Kee(y,S,H,q){var J=S&f,ae=bv(y);function me(){for(var we=-1,De=arguments.length,Qe=-1,Je=q.length,rt=Oe(Je+De),_t=this&&this!==Wr&&this instanceof me?ae:y;++Qe<Je;)rt[Qe]=q[Qe];for(;De--;)rt[Qe++]=arguments[++we];return is(_t,J?H:this,rt)}return me}function bO(y){return function(S,H,q){return q&&typeof q!="number"&&ss(S,H,q)&&(H=q=e),S=nd(S),H===e?(H=S,S=0):H=nd(H),q=q===e?S<H?1:-1:nd(q),Fee(S,H,q,y)}}function R1(y){return function(S,H){return typeof S=="string"&&typeof H=="string"||(S=Pa(S),H=Pa(H)),y(S,H)}}function yO(y,S,H,q,J,ae,me,we,De,Qe){var Je=S&v,rt=Je?me:e,_t=Je?e:me,$t=Je?ae:e,ln=Je?e:ae;S|=Je?E:T,S&=~(Je?T:E),S&g||(S&=~(f|m));var jn=[y,S,J,$t,rt,ln,_t,we,De,Qe],cn=H.apply(e,jn);return gR(y)&&kO(cn,jn),cn.placeholder=q,AO(cn,y,S)}function cR(y){var S=Xr[y];return function(H,q){if(H=Pa(H),q=q==null?0:Ho(On(q),292),q&&A5(H)){var J=(Ii(H)+"e").split("e"),ae=S(J[0]+"e"+(+J[1]+q));return J=(Ii(ae)+"e").split("e"),+(J[0]+"e"+(+J[1]-q))}return S(H)}}var Yee=Wp&&1/Uh(new Wp([,-0]))[1]==C?function(y){return new Wp(y)}:kR;function wO(y){return function(S){var H=zo(S);return H==ie?av(S):H==Ce?hJ(S):ND(S,y(S))}}function Qc(y,S,H,q,J,ae,me,we){var De=S&m;if(!De&&typeof y!="function")throw new Ta(r);var Qe=q?q.length:0;if(Qe||(S&=~(E|T),q=J=e),me=me===e?me:Zr(On(me),0),we=we===e?we:On(we),Qe-=J?J.length:0,S&T){var Je=q,rt=J;q=J=e}var _t=De?e:hR(y),$t=[y,S,H,q,J,Je,rt,ae,me,we];if(_t&&dte($t,_t),y=$t[0],S=$t[1],H=$t[2],q=$t[3],J=$t[4],we=$t[9]=$t[9]===e?De?0:y.length:Zr($t[9]-Qe,0),!we&&S&(v|w)&&(S&=~(v|w)),!S||S==f)var ln=$ee(y,S,H);else S==v||S==w?ln=qee(y,S,we):(S==E||S==(f|E))&&!J.length?ln=Kee(y,S,H,q):ln=S1.apply(e,$t);var jn=_t?eO:kO;return AO(jn(ln,$t),y,S)}function CO(y,S,H,q){return y===e||cl(y,Up[H])&&!Li.call(q,H)?S:y}function _O(y,S,H,q,J,ae){return ur(y)&&ur(S)&&(ae.set(S,y),w1(y,S,e,_O,ae),ae.delete(S)),y}function Xee(y){return Cv(y)?e:y}function xO(y,S,H,q,J,ae){var me=H&h,we=y.length,De=S.length;if(we!=De&&!(me&&De>we))return!1;var Qe=ae.get(y),Je=ae.get(S);if(Qe&&Je)return Qe==S&&Je==y;var rt=-1,_t=!0,$t=H&p?new qh:e;for(ae.set(y,S),ae.set(S,y);++rt<we;){var ln=y[rt],jn=S[rt];if(q)var cn=me?q(jn,ln,rt,S,y,ae):q(ln,jn,rt,y,S,ae);if(cn!==e){if(cn)continue;_t=!1;break}if($t){if(!Ar(S,function(Xn,li){if(!Gh($t,li)&&(ln===Xn||J(ln,Xn,H,q,ae)))return $t.push(li)})){_t=!1;break}}else if(!(ln===jn||J(ln,jn,H,q,ae))){_t=!1;break}}return ae.delete(y),ae.delete(S),_t}function Zee(y,S,H,q,J,ae,me){switch(H){case Ue:if(y.byteLength!=S.byteLength||y.byteOffset!=S.byteOffset)return!1;y=y.buffer,S=S.buffer;case mt:return!(y.byteLength!=S.byteLength||!ae(new l1(y),new l1(S)));case A:case P:case ye:return cl(+y,+S);case Q:return y.name==S.name&&y.message==S.message;case he:case _e:return y==S+"";case ie:var we=av;case Ce:var De=q&h;if(we||(we=Uh),y.size!=S.size&&!De)return!1;var Qe=me.get(y);if(Qe)return Qe==S;q|=p,me.set(y,S);var Je=xO(we(y),we(S),q,J,ae,me);return me.delete(y),Je;case xe:if(hv)return hv.call(y)==hv.call(S)}return!1}function Qee(y,S,H,q,J,ae){var me=H&h,we=dR(y),De=we.length,Qe=dR(S),Je=Qe.length;if(De!=Je&&!me)return!1;for(var rt=De;rt--;){var _t=we[rt];if(!(me?_t in S:Li.call(S,_t)))return!1}var $t=ae.get(y),ln=ae.get(S);if($t&&ln)return $t==S&&ln==y;var jn=!0;ae.set(y,S),ae.set(S,y);for(var cn=me;++rt<De;){_t=we[rt];var Xn=y[_t],li=S[_t];if(q)var la=me?q(li,Xn,_t,S,y,ae):q(Xn,li,_t,y,S,ae);if(!(la===e?Xn===li||J(Xn,li,H,q,ae):la)){jn=!1;break}cn||(cn=_t=="constructor")}if(jn&&!cn){var as=y.constructor,ca=S.constructor;as!=ca&&"constructor"in y&&"constructor"in S&&!(typeof as=="function"&&as instanceof as&&typeof ca=="function"&&ca instanceof ca)&&(jn=!1)}return ae.delete(y),ae.delete(S),jn}function Jc(y){return bR(TO(y,e,BO),y+"")}function dR(y){return G5(y,co,pR)}function uR(y){return G5(y,Ms,SO)}var hR=p1?function(y){return p1.get(y)}:kR;function M1(y){for(var S=y.name+"",H=$p[S],q=Li.call($p,S)?H.length:0;q--;){var J=H[q],ae=J.func;if(ae==null||ae==y)return J.name}return S}function Xp(y){var S=Li.call(oe,"placeholder")?oe:y;return S.placeholder}function sn(){var y=oe.iteratee||TR;return y=y===TR?$5:y,arguments.length?y(arguments[0],arguments[1]):y}function T1(y,S){var H=y.__data__;return ste(S)?H[typeof S=="string"?"string":"hash"]:H.map}function fR(y){for(var S=co(y),H=S.length;H--;){var q=S[H],J=y[q];S[H]=[q,J,RO(J)]}return S}function Xh(y,S){var H=sv(y,S);return W5(H)?H:e}function Jee(y){var S=Li.call(y,Wh),H=y[Wh];try{y[Wh]=e;var q=!0}catch{}var J=s1.call(y);return q&&(S?y[Wh]=H:delete y[Wh]),J}var pR=zD?function(y){return y==null?[]:(y=ji(y),zl(zD(y),function(S){return I5.call(y,S)}))}:AR,SO=zD?function(y){for(var S=[];y;)jl(S,pR(y)),y=c1(y);return S}:AR,zo=os;(jD&&zo(new jD(new ArrayBuffer(1)))!=Ue||cv&&zo(new cv)!=ie||GD&&zo(GD.resolve())!=fe||Wp&&zo(new Wp)!=Ce||dv&&zo(new dv)!=Ve)&&(zo=function(y){var S=os(y),H=S==ee?y.constructor:e,q=H?Zh(H):"";if(q)switch(q){case OJ:return Ue;case LJ:return ie;case NJ:return fe;case BJ:return Ce;case VJ:return Ve}return S});function ete(y,S,H){for(var q=-1,J=H.length;++q<J;){var ae=H[q],me=ae.size;switch(ae.type){case"drop":y+=me;break;case"dropRight":S-=me;break;case"take":S=Ho(S,y+me);break;case"takeRight":y=Zr(y,S-me);break}}return{start:y,end:S}}function tte(y){var S=y.match(Xe);return S?S[1].split(zn):[]}function EO(y,S,H){S=mu(S,y);for(var q=-1,J=S.length,ae=!1;++q<J;){var me=ql(S[q]);if(!(ae=y!=null&&H(y,me)))break;y=y[me]}return ae||++q!=J?ae:(J=y==null?0:y.length,!!J&&L1(J)&&ed(me,J)&&(Mn(y)||Qh(y)))}function nte(y){var S=y.length,H=new y.constructor(S);return S&&typeof y[0]=="string"&&Li.call(y,"index")&&(H.index=y.index,H.input=y.input),H}function DO(y){return typeof y.constructor=="function"&&!yv(y)?qp(c1(y)):{}}function ite(y,S,H){var q=y.constructor;switch(S){case mt:return aR(y);case A:case P:return new q(+y);case Ue:return Hee(y,H);case nt:case on:case bt:case Me:case be:case ge:case Ie:case ct:case tt:return lO(y,H);case ie:return new q;case ye:case _e:return new q(y);case he:return zee(y);case Ce:return new q;case xe:return jee(y)}}function rte(y,S){var H=S.length;if(!H)return y;var q=H-1;return S[q]=(H>1?"& ":"")+S[q],S=S.join(H>2?", ":" "),y.replace(ke,`{
/* [wrapped with `+S+`] */
`)}function ote(y){return Mn(y)||Qh(y)||!!(k5&&y&&y[k5])}function ed(y,S){var H=typeof y;return S=S??x,!!S&&(H=="number"||H!="symbol"&&qi.test(y))&&y>-1&&y%1==0&&y<S}function ss(y,S,H){if(!ur(H))return!1;var q=typeof S;return(q=="number"?Rs(H)&&ed(S,H.length):q=="string"&&S in H)?cl(H[S],y):!1}function mR(y,S){if(Mn(y))return!1;var H=typeof y;return H=="number"||H=="symbol"||H=="boolean"||y==null||aa(y)?!0:Ot.test(y)||!pi.test(y)||S!=null&&y in ji(S)}function ste(y){var S=typeof y;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?y!=="__proto__":y===null}function gR(y){var S=M1(y),H=oe[S];if(typeof H!="function"||!(S in ei.prototype))return!1;if(y===H)return!0;var q=hR(H);return!!q&&y===q[0]}function ate(y){return!!R5&&R5 in y}var lte=r1?td:FR;function yv(y){var S=y&&y.constructor,H=typeof S=="function"&&S.prototype||Up;return y===H}function RO(y){return y===y&&!ur(y)}function MO(y,S){return function(H){return H==null?!1:H[y]===S&&(S!==e||y in ji(H))}}function cte(y){var S=P1(y,function(q){return H.size===a&&H.clear(),q}),H=S.cache;return S}function dte(y,S){var H=y[1],q=S[1],J=H|q,ae=J<(f|m|F),me=q==F&&H==v||q==F&&H==k&&y[7].length<=S[8]||q==(F|k)&&S[7].length<=S[8]&&H==v;if(!(ae||me))return y;q&f&&(y[2]=S[2],J|=H&f?0:g);var we=S[3];if(we){var De=y[3];y[3]=De?dO(De,we,S[4]):we,y[4]=De?Ul(y[3],l):S[4]}return we=S[5],we&&(De=y[5],y[5]=De?uO(De,we,S[6]):we,y[6]=De?Ul(y[5],l):S[6]),we=S[7],we&&(y[7]=we),q&F&&(y[8]=y[8]==null?S[8]:Ho(y[8],S[8])),y[9]==null&&(y[9]=S[9]),y[0]=S[0],y[1]=J,y}function ute(y){var S=[];if(y!=null)for(var H in ji(y))S.push(H);return S}function hte(y){return s1.call(y)}function TO(y,S,H){return S=Zr(S===e?y.length-1:S,0),function(){for(var q=arguments,J=-1,ae=Zr(q.length-S,0),me=Oe(ae);++J<ae;)me[J]=q[S+J];J=-1;for(var we=Oe(S+1);++J<S;)we[J]=q[J];return we[S]=H(me),is(y,this,we)}}function IO(y,S){return S.length<2?y:Yh(y,Aa(S,0,-1))}function fte(y,S){for(var H=y.length,q=Ho(S.length,H),J=Ds(y);q--;){var ae=S[q];y[q]=ed(ae,H)?J[ae]:e}return y}function vR(y,S){if(!(S==="constructor"&&typeof y[S]=="function")&&S!="__proto__")return y[S]}var kO=FO(eO),wv=MJ||function(y,S){return Wr.setTimeout(y,S)},bR=FO(Lee);function AO(y,S,H){var q=S+"";return bR(y,rte(q,pte(tte(q),H)))}function FO(y){var S=0,H=0;return function(){var q=AJ(),J=R-(q-H);if(H=q,J>0){if(++S>=z)return arguments[0]}else S=0;return y.apply(e,arguments)}}function I1(y,S){var H=-1,q=y.length,J=q-1;for(S=S===e?q:S;++H<S;){var ae=eR(H,J),me=y[ae];y[ae]=y[H],y[H]=me}return y.length=S,y}var PO=cte(function(y){var S=[];return y.charCodeAt(0)===46&&S.push(""),y.replace(Ft,function(H,q,J,ae){S.push(J?ae.replace(fi,"$1"):q||H)}),S});function ql(y){if(typeof y=="string"||aa(y))return y;var S=y+"";return S=="0"&&1/y==-C?"-0":S}function Zh(y){if(y!=null){try{return o1.call(y)}catch{}try{return y+""}catch{}}return""}function pte(y,S){return Es(G,function(H){var q="_."+H[0];S&H[1]&&!zp(y,q)&&y.push(q)}),y.sort()}function OO(y){if(y instanceof ei)return y.clone();var S=new Ia(y.__wrapped__,y.__chain__);return S.__actions__=Ds(y.__actions__),S.__index__=y.__index__,S.__values__=y.__values__,S}function mte(y,S,H){(H?ss(y,S,H):S===e)?S=1:S=Zr(On(S),0);var q=y==null?0:y.length;if(!q||S<1)return[];for(var J=0,ae=0,me=Oe(h1(q/S));J<q;)me[ae++]=Aa(y,J,J+=S);return me}function gte(y){for(var S=-1,H=y==null?0:y.length,q=0,J=[];++S<H;){var ae=y[S];ae&&(J[q++]=ae)}return J}function vte(){var y=arguments.length;if(!y)return[];for(var S=Oe(y-1),H=arguments[0],q=y;q--;)S[q-1]=arguments[q];return jl(Mn(H)?Ds(H):[H],Do(S,1))}var bte=Un(function(y,S){return Fr(y)?pv(y,Do(S,1,Fr,!0)):[]}),yte=Un(function(y,S){var H=Fa(S);return Fr(H)&&(H=e),Fr(y)?pv(y,Do(S,1,Fr,!0),sn(H,2)):[]}),wte=Un(function(y,S){var H=Fa(S);return Fr(H)&&(H=e),Fr(y)?pv(y,Do(S,1,Fr,!0),e,H):[]});function Cte(y,S,H){var q=y==null?0:y.length;return q?(S=H||S===e?1:On(S),Aa(y,S<0?0:S,q)):[]}function _te(y,S,H){var q=y==null?0:y.length;return q?(S=H||S===e?1:On(S),S=q-S,Aa(y,0,S<0?0:S)):[]}function xte(y,S){return y&&y.length?_1(y,sn(S,3),!0,!0):[]}function Ste(y,S){return y&&y.length?_1(y,sn(S,3),!0):[]}function Ete(y,S,H,q){var J=y==null?0:y.length;return J?(H&&typeof H!="number"&&ss(y,S,H)&&(H=0,q=J),vee(y,S,H,q)):[]}function LO(y,S,H){var q=y==null?0:y.length;if(!q)return-1;var J=H==null?0:On(H);return J<0&&(J=Zr(q+J,0)),X(y,sn(S,3),J)}function NO(y,S,H){var q=y==null?0:y.length;if(!q)return-1;var J=q-1;return H!==e&&(J=On(H),J=H<0?Zr(q+J,0):Ho(J,q-1)),X(y,sn(S,3),J,!0)}function BO(y){var S=y==null?0:y.length;return S?Do(y,1):[]}function Dte(y){var S=y==null?0:y.length;return S?Do(y,C):[]}function Rte(y,S){var H=y==null?0:y.length;return H?(S=S===e?1:On(S),Do(y,S)):[]}function Mte(y){for(var S=-1,H=y==null?0:y.length,q={};++S<H;){var J=y[S];q[J[0]]=J[1]}return q}function VO(y){return y&&y.length?y[0]:e}function Tte(y,S,H){var q=y==null?0:y.length;if(!q)return-1;var J=H==null?0:On(H);return J<0&&(J=Zr(q+J,0)),le(y,S,J)}function Ite(y){var S=y==null?0:y.length;return S?Aa(y,0,-1):[]}var kte=Un(function(y){var S=Yi(y,oR);return S.length&&S[0]===y[0]?YD(S):[]}),Ate=Un(function(y){var S=Fa(y),H=Yi(y,oR);return S===Fa(H)?S=e:H.pop(),H.length&&H[0]===y[0]?YD(H,sn(S,2)):[]}),Fte=Un(function(y){var S=Fa(y),H=Yi(y,oR);return S=typeof S=="function"?S:e,S&&H.pop(),H.length&&H[0]===y[0]?YD(H,e,S):[]});function Pte(y,S){return y==null?"":IJ.call(y,S)}function Fa(y){var S=y==null?0:y.length;return S?y[S-1]:e}function Ote(y,S,H){var q=y==null?0:y.length;if(!q)return-1;var J=q;return H!==e&&(J=On(H),J=J<0?Zr(q+J,0):Ho(J,q-1)),S===S?pJ(y,S,J):X(y,We,J,!0)}function Lte(y,S){return y&&y.length?X5(y,On(S)):e}var Nte=Un(HO);function HO(y,S){return y&&y.length&&S&&S.length?JD(y,S):y}function Bte(y,S,H){return y&&y.length&&S&&S.length?JD(y,S,sn(H,2)):y}function Vte(y,S,H){return y&&y.length&&S&&S.length?JD(y,S,e,H):y}var Hte=Jc(function(y,S){var H=y==null?0:y.length,q=WD(y,S);return J5(y,Yi(S,function(J){return ed(J,H)?+J:J}).sort(cO)),q});function zte(y,S){var H=[];if(!(y&&y.length))return H;var q=-1,J=[],ae=y.length;for(S=sn(S,3);++q<ae;){var me=y[q];S(me,q,y)&&(H.push(me),J.push(q))}return J5(y,J),H}function yR(y){return y==null?y:PJ.call(y)}function jte(y,S,H){var q=y==null?0:y.length;return q?(H&&typeof H!="number"&&ss(y,S,H)?(S=0,H=q):(S=S==null?0:On(S),H=H===e?q:On(H)),Aa(y,S,H)):[]}function Gte(y,S){return C1(y,S)}function Ute(y,S,H){return nR(y,S,sn(H,2))}function Wte(y,S){var H=y==null?0:y.length;if(H){var q=C1(y,S);if(q<H&&cl(y[q],S))return q}return-1}function $te(y,S){return C1(y,S,!0)}function qte(y,S,H){return nR(y,S,sn(H,2),!0)}function Kte(y,S){var H=y==null?0:y.length;if(H){var q=C1(y,S,!0)-1;if(cl(y[q],S))return q}return-1}function Yte(y){return y&&y.length?tO(y):[]}function Xte(y,S){return y&&y.length?tO(y,sn(S,2)):[]}function Zte(y){var S=y==null?0:y.length;return S?Aa(y,1,S):[]}function Qte(y,S,H){return y&&y.length?(S=H||S===e?1:On(S),Aa(y,0,S<0?0:S)):[]}function Jte(y,S,H){var q=y==null?0:y.length;return q?(S=H||S===e?1:On(S),S=q-S,Aa(y,S<0?0:S,q)):[]}function ene(y,S){return y&&y.length?_1(y,sn(S,3),!1,!0):[]}function tne(y,S){return y&&y.length?_1(y,sn(S,3)):[]}var nne=Un(function(y){return pu(Do(y,1,Fr,!0))}),ine=Un(function(y){var S=Fa(y);return Fr(S)&&(S=e),pu(Do(y,1,Fr,!0),sn(S,2))}),rne=Un(function(y){var S=Fa(y);return S=typeof S=="function"?S:e,pu(Do(y,1,Fr,!0),e,S)});function one(y){return y&&y.length?pu(y):[]}function sne(y,S){return y&&y.length?pu(y,sn(S,2)):[]}function ane(y,S){return S=typeof S=="function"?S:e,y&&y.length?pu(y,e,S):[]}function wR(y){if(!(y&&y.length))return[];var S=0;return y=zl(y,function(H){if(Fr(H))return S=Zr(H.length,S),!0}),du(S,function(H){return Yi(y,Bt(H))})}function zO(y,S){if(!(y&&y.length))return[];var H=wR(y);return S==null?H:Yi(H,function(q){return is(S,e,q)})}var lne=Un(function(y,S){return Fr(y)?pv(y,S):[]}),cne=Un(function(y){return rR(zl(y,Fr))}),dne=Un(function(y){var S=Fa(y);return Fr(S)&&(S=e),rR(zl(y,Fr),sn(S,2))}),une=Un(function(y){var S=Fa(y);return S=typeof S=="function"?S:e,rR(zl(y,Fr),e,S)}),hne=Un(wR);function fne(y,S){return oO(y||[],S||[],fv)}function pne(y,S){return oO(y||[],S||[],vv)}var mne=Un(function(y){var S=y.length,H=S>1?y[S-1]:e;return H=typeof H=="function"?(y.pop(),H):e,zO(y,H)});function jO(y){var S=oe(y);return S.__chain__=!0,S}function gne(y,S){return S(y),y}function k1(y,S){return S(y)}var vne=Jc(function(y){var S=y.length,H=S?y[0]:0,q=this.__wrapped__,J=function(ae){return WD(ae,y)};return S>1||this.__actions__.length||!(q instanceof ei)||!ed(H)?this.thru(J):(q=q.slice(H,+H+(S?1:0)),q.__actions__.push({func:k1,args:[J],thisArg:e}),new Ia(q,this.__chain__).thru(function(ae){return S&&!ae.length&&ae.push(e),ae}))});function bne(){return jO(this)}function yne(){return new Ia(this.value(),this.__chain__)}function wne(){this.__values__===e&&(this.__values__=nL(this.value()));var y=this.__index__>=this.__values__.length,S=y?e:this.__values__[this.__index__++];return{done:y,value:S}}function Cne(){return this}function _ne(y){for(var S,H=this;H instanceof g1;){var q=OO(H);q.__index__=0,q.__values__=e,S?J.__wrapped__=q:S=q;var J=q;H=H.__wrapped__}return J.__wrapped__=y,S}function xne(){var y=this.__wrapped__;if(y instanceof ei){var S=y;return this.__actions__.length&&(S=new ei(this)),S=S.reverse(),S.__actions__.push({func:k1,args:[yR],thisArg:e}),new Ia(S,this.__chain__)}return this.thru(yR)}function Sne(){return rO(this.__wrapped__,this.__actions__)}var Ene=x1(function(y,S,H){Li.call(y,H)?++y[H]:Zc(y,H,1)});function Dne(y,S,H){var q=Mn(y)?Xw:gee;return H&&ss(y,S,H)&&(S=e),q(y,sn(S,3))}function Rne(y,S){var H=Mn(y)?zl:z5;return H(y,sn(S,3))}var Mne=mO(LO),Tne=mO(NO);function Ine(y,S){return Do(A1(y,S),1)}function kne(y,S){return Do(A1(y,S),C)}function Ane(y,S,H){return H=H===e?1:On(H),Do(A1(y,S),H)}function GO(y,S){var H=Mn(y)?Es:fu;return H(y,sn(S,3))}function UO(y,S){var H=Mn(y)?PD:H5;return H(y,sn(S,3))}var Fne=x1(function(y,S,H){Li.call(y,H)?y[H].push(S):Zc(y,H,[S])});function Pne(y,S,H,q){y=Rs(y)?y:Qp(y),H=H&&!q?On(H):0;var J=y.length;return H<0&&(H=Zr(J+H,0)),N1(y)?H<=J&&y.indexOf(S,H)>-1:!!J&&le(y,S,H)>-1}var One=Un(function(y,S,H){var q=-1,J=typeof S=="function",ae=Rs(y)?Oe(y.length):[];return fu(y,function(me){ae[++q]=J?is(S,me,H):mv(me,S,H)}),ae}),Lne=x1(function(y,S,H){Zc(y,H,S)});function A1(y,S){var H=Mn(y)?Yi:q5;return H(y,sn(S,3))}function Nne(y,S,H,q){return y==null?[]:(Mn(S)||(S=S==null?[]:[S]),H=q?e:H,Mn(H)||(H=H==null?[]:[H]),Z5(y,S,H))}var Bne=x1(function(y,S,H){y[H?0:1].push(S)},function(){return[[],[]]});function Vne(y,S,H){var q=Mn(y)?nv:ai,J=arguments.length<3;return q(y,sn(S,4),H,J,fu)}function Hne(y,S,H){var q=Mn(y)?OD:ai,J=arguments.length<3;return q(y,sn(S,4),H,J,H5)}function zne(y,S){var H=Mn(y)?zl:z5;return H(y,O1(sn(S,3)))}function jne(y){var S=Mn(y)?L5:Pee;return S(y)}function Gne(y,S,H){(H?ss(y,S,H):S===e)?S=1:S=On(S);var q=Mn(y)?uee:Oee;return q(y,S)}function Une(y){var S=Mn(y)?hee:Nee;return S(y)}function Wne(y){if(y==null)return 0;if(Rs(y))return N1(y)?Gp(y):y.length;var S=zo(y);return S==ie||S==Ce?y.size:ZD(y).length}function $ne(y,S,H){var q=Mn(y)?Ar:Bee;return H&&ss(y,S,H)&&(S=e),q(y,sn(S,3))}var qne=Un(function(y,S){if(y==null)return[];var H=S.length;return H>1&&ss(y,S[0],S[1])?S=[]:H>2&&ss(S[0],S[1],S[2])&&(S=[S[0]]),Z5(y,Do(S,1),[])}),F1=RJ||function(){return Wr.Date.now()};function Kne(y,S){if(typeof S!="function")throw new Ta(r);return y=On(y),function(){if(--y<1)return S.apply(this,arguments)}}function WO(y,S,H){return S=H?e:S,S=y&&S==null?y.length:S,Qc(y,F,e,e,e,e,S)}function $O(y,S){var H;if(typeof S!="function")throw new Ta(r);return y=On(y),function(){return--y>0&&(H=S.apply(this,arguments)),y<=1&&(S=e),H}}var CR=Un(function(y,S,H){var q=f;if(H.length){var J=Ul(H,Xp(CR));q|=E}return Qc(y,q,S,H,J)}),qO=Un(function(y,S,H){var q=f|m;if(H.length){var J=Ul(H,Xp(qO));q|=E}return Qc(S,q,y,H,J)});function KO(y,S,H){S=H?e:S;var q=Qc(y,v,e,e,e,e,e,S);return q.placeholder=KO.placeholder,q}function YO(y,S,H){S=H?e:S;var q=Qc(y,w,e,e,e,e,e,S);return q.placeholder=YO.placeholder,q}function XO(y,S,H){var q,J,ae,me,we,De,Qe=0,Je=!1,rt=!1,_t=!0;if(typeof y!="function")throw new Ta(r);S=Pa(S)||0,ur(H)&&(Je=!!H.leading,rt="maxWait"in H,ae=rt?Zr(Pa(H.maxWait)||0,S):ae,_t="trailing"in H?!!H.trailing:_t);function $t(Pr){var dl=q,id=J;return q=J=e,Qe=Pr,me=y.apply(id,dl),me}function ln(Pr){return Qe=Pr,we=wv(Xn,S),Je?$t(Pr):me}function jn(Pr){var dl=Pr-De,id=Pr-Qe,mL=S-dl;return rt?Ho(mL,ae-id):mL}function cn(Pr){var dl=Pr-De,id=Pr-Qe;return De===e||dl>=S||dl<0||rt&&id>=ae}function Xn(){var Pr=F1();if(cn(Pr))return li(Pr);we=wv(Xn,jn(Pr))}function li(Pr){return we=e,_t&&q?$t(Pr):(q=J=e,me)}function la(){we!==e&&sO(we),Qe=0,q=De=J=we=e}function as(){return we===e?me:li(F1())}function ca(){var Pr=F1(),dl=cn(Pr);if(q=arguments,J=this,De=Pr,dl){if(we===e)return ln(De);if(rt)return sO(we),we=wv(Xn,S),$t(De)}return we===e&&(we=wv(Xn,S)),me}return ca.cancel=la,ca.flush=as,ca}var Yne=Un(function(y,S){return V5(y,1,S)}),Xne=Un(function(y,S,H){return V5(y,Pa(S)||0,H)});function Zne(y){return Qc(y,L)}function P1(y,S){if(typeof y!="function"||S!=null&&typeof S!="function")throw new Ta(r);var H=function(){var q=arguments,J=S?S.apply(this,q):q[0],ae=H.cache;if(ae.has(J))return ae.get(J);var me=y.apply(this,q);return H.cache=ae.set(J,me)||ae,me};return H.cache=new(P1.Cache||Xc),H}P1.Cache=Xc;function O1(y){if(typeof y!="function")throw new Ta(r);return function(){var S=arguments;switch(S.length){case 0:return!y.call(this);case 1:return!y.call(this,S[0]);case 2:return!y.call(this,S[0],S[1]);case 3:return!y.call(this,S[0],S[1],S[2])}return!y.apply(this,S)}}function Qne(y){return $O(2,y)}var Jne=Vee(function(y,S){S=S.length==1&&Mn(S[0])?Yi(S[0],rs(sn())):Yi(Do(S,1),rs(sn()));var H=S.length;return Un(function(q){for(var J=-1,ae=Ho(q.length,H);++J<ae;)q[J]=S[J].call(this,q[J]);return is(y,this,q)})}),_R=Un(function(y,S){var H=Ul(S,Xp(_R));return Qc(y,E,e,S,H)}),ZO=Un(function(y,S){var H=Ul(S,Xp(ZO));return Qc(y,T,e,S,H)}),eie=Jc(function(y,S){return Qc(y,k,e,e,e,S)});function tie(y,S){if(typeof y!="function")throw new Ta(r);return S=S===e?S:On(S),Un(y,S)}function nie(y,S){if(typeof y!="function")throw new Ta(r);return S=S==null?0:Zr(On(S),0),Un(function(H){var q=H[S],J=gu(H,0,S);return q&&jl(J,q),is(y,this,J)})}function iie(y,S,H){var q=!0,J=!0;if(typeof y!="function")throw new Ta(r);return ur(H)&&(q="leading"in H?!!H.leading:q,J="trailing"in H?!!H.trailing:J),XO(y,S,{leading:q,maxWait:S,trailing:J})}function rie(y){return WO(y,1)}function oie(y,S){return _R(sR(S),y)}function sie(){if(!arguments.length)return[];var y=arguments[0];return Mn(y)?y:[y]}function aie(y){return ka(y,u)}function lie(y,S){return S=typeof S=="function"?S:e,ka(y,u,S)}function cie(y){return ka(y,d|u)}function die(y,S){return S=typeof S=="function"?S:e,ka(y,d|u,S)}function uie(y,S){return S==null||B5(y,S,co(S))}function cl(y,S){return y===S||y!==y&&S!==S}var hie=R1(KD),fie=R1(function(y,S){return y>=S}),Qh=U5(function(){return arguments}())?U5:function(y){return Cr(y)&&Li.call(y,"callee")&&!I5.call(y,"callee")},Mn=Oe.isArray,pie=Ww?rs(Ww):_ee;function Rs(y){return y!=null&&L1(y.length)&&!td(y)}function Fr(y){return Cr(y)&&Rs(y)}function mie(y){return y===!0||y===!1||Cr(y)&&os(y)==A}var vu=TJ||FR,gie=$w?rs($w):xee;function vie(y){return Cr(y)&&y.nodeType===1&&!Cv(y)}function bie(y){if(y==null)return!0;if(Rs(y)&&(Mn(y)||typeof y=="string"||typeof y.splice=="function"||vu(y)||Zp(y)||Qh(y)))return!y.length;var S=zo(y);if(S==ie||S==Ce)return!y.size;if(yv(y))return!ZD(y).length;for(var H in y)if(Li.call(y,H))return!1;return!0}function yie(y,S){return gv(y,S)}function wie(y,S,H){H=typeof H=="function"?H:e;var q=H?H(y,S):e;return q===e?gv(y,S,e,H):!!q}function xR(y){if(!Cr(y))return!1;var S=os(y);return S==Q||S==W||typeof y.message=="string"&&typeof y.name=="string"&&!Cv(y)}function Cie(y){return typeof y=="number"&&A5(y)}function td(y){if(!ur(y))return!1;var S=os(y);return S==se||S==ne||S==K||S==de}function QO(y){return typeof y=="number"&&y==On(y)}function L1(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=x}function ur(y){var S=typeof y;return y!=null&&(S=="object"||S=="function")}function Cr(y){return y!=null&&typeof y=="object"}var JO=AD?rs(AD):Eee;function _ie(y,S){return y===S||XD(y,S,fR(S))}function xie(y,S,H){return H=typeof H=="function"?H:e,XD(y,S,fR(S),H)}function Sie(y){return eL(y)&&y!=+y}function Eie(y){if(lte(y))throw new Dn(i);return W5(y)}function Die(y){return y===null}function Rie(y){return y==null}function eL(y){return typeof y=="number"||Cr(y)&&os(y)==ye}function Cv(y){if(!Cr(y)||os(y)!=ee)return!1;var S=c1(y);if(S===null)return!0;var H=Li.call(S,"constructor")&&S.constructor;return typeof H=="function"&&H instanceof H&&o1.call(H)==xJ}var SR=qw?rs(qw):Dee;function Mie(y){return QO(y)&&y>=-x&&y<=x}var tL=Kw?rs(Kw):Ree;function N1(y){return typeof y=="string"||!Mn(y)&&Cr(y)&&os(y)==_e}function aa(y){return typeof y=="symbol"||Cr(y)&&os(y)==xe}var Zp=Yw?rs(Yw):Mee;function Tie(y){return y===e}function Iie(y){return Cr(y)&&zo(y)==Ve}function kie(y){return Cr(y)&&os(y)==Ze}var Aie=R1(QD),Fie=R1(function(y,S){return y<=S});function nL(y){if(!y)return[];if(Rs(y))return N1(y)?al(y):Ds(y);if(lv&&y[lv])return VD(y[lv]());var S=zo(y),H=S==ie?av:S==Ce?Uh:Qp;return H(y)}function nd(y){if(!y)return y===0?y:0;if(y=Pa(y),y===C||y===-C){var S=y<0?-1:1;return S*_}return y===y?y:0}function On(y){var S=nd(y),H=S%1;return S===S?H?S-H:S:0}function iL(y){return y?Kh(On(y),0,M):0}function Pa(y){if(typeof y=="number")return y;if(aa(y))return D;if(ur(y)){var S=typeof y.valueOf=="function"?y.valueOf():y;y=ur(S)?S+"":S}if(typeof y!="string")return y===0?y:+y;y=rv(y);var H=fn.test(y);return H||mi.test(y)?kD(y.slice(2),H?2:8):si.test(y)?D:+y}function rL(y){return $l(y,Ms(y))}function Pie(y){return y?Kh(On(y),-x,x):y===0?y:0}function Ii(y){return y==null?"":sa(y)}var Oie=Kp(function(y,S){if(yv(S)||Rs(S)){$l(S,co(S),y);return}for(var H in S)Li.call(S,H)&&fv(y,H,S[H])}),oL=Kp(function(y,S){$l(S,Ms(S),y)}),B1=Kp(function(y,S,H,q){$l(S,Ms(S),y,q)}),Lie=Kp(function(y,S,H,q){$l(S,co(S),y,q)}),Nie=Jc(WD);function Bie(y,S){var H=qp(y);return S==null?H:N5(H,S)}var Vie=Un(function(y,S){y=ji(y);var H=-1,q=S.length,J=q>2?S[2]:e;for(J&&ss(S[0],S[1],J)&&(q=1);++H<q;)for(var ae=S[H],me=Ms(ae),we=-1,De=me.length;++we<De;){var Qe=me[we],Je=y[Qe];(Je===e||cl(Je,Up[Qe])&&!Li.call(y,Qe))&&(y[Qe]=ae[Qe])}return y}),Hie=Un(function(y){return y.push(e,_O),is(sL,e,y)});function zie(y,S){return $(y,sn(S,3),Wl)}function jie(y,S){return $(y,sn(S,3),qD)}function Gie(y,S){return y==null?y:$D(y,sn(S,3),Ms)}function Uie(y,S){return y==null?y:j5(y,sn(S,3),Ms)}function Wie(y,S){return y&&Wl(y,sn(S,3))}function $ie(y,S){return y&&qD(y,sn(S,3))}function qie(y){return y==null?[]:y1(y,co(y))}function Kie(y){return y==null?[]:y1(y,Ms(y))}function ER(y,S,H){var q=y==null?e:Yh(y,S);return q===e?H:q}function Yie(y,S){return y!=null&&EO(y,S,bee)}function DR(y,S){return y!=null&&EO(y,S,yee)}var Xie=vO(function(y,S,H){S!=null&&typeof S.toString!="function"&&(S=s1.call(S)),y[S]=H},MR(Ts)),Zie=vO(function(y,S,H){S!=null&&typeof S.toString!="function"&&(S=s1.call(S)),Li.call(y,S)?y[S].push(H):y[S]=[H]},sn),Qie=Un(mv);function co(y){return Rs(y)?O5(y):ZD(y)}function Ms(y){return Rs(y)?O5(y,!0):Tee(y)}function Jie(y,S){var H={};return S=sn(S,3),Wl(y,function(q,J,ae){Zc(H,S(q,J,ae),q)}),H}function ere(y,S){var H={};return S=sn(S,3),Wl(y,function(q,J,ae){Zc(H,J,S(q,J,ae))}),H}var tre=Kp(function(y,S,H){w1(y,S,H)}),sL=Kp(function(y,S,H,q){w1(y,S,H,q)}),nre=Jc(function(y,S){var H={};if(y==null)return H;var q=!1;S=Yi(S,function(ae){return ae=mu(ae,y),q||(q=ae.length>1),ae}),$l(y,uR(y),H),q&&(H=ka(H,d|c|u,Xee));for(var J=S.length;J--;)iR(H,S[J]);return H});function ire(y,S){return aL(y,O1(sn(S)))}var rre=Jc(function(y,S){return y==null?{}:kee(y,S)});function aL(y,S){if(y==null)return{};var H=Yi(uR(y),function(q){return[q]});return S=sn(S),Q5(y,H,function(q,J){return S(q,J[0])})}function ore(y,S,H){S=mu(S,y);var q=-1,J=S.length;for(J||(J=1,y=e);++q<J;){var ae=y==null?e:y[ql(S[q])];ae===e&&(q=J,ae=H),y=td(ae)?ae.call(y):ae}return y}function sre(y,S,H){return y==null?y:vv(y,S,H)}function are(y,S,H,q){return q=typeof q=="function"?q:e,y==null?y:vv(y,S,H,q)}var lL=wO(co),cL=wO(Ms);function lre(y,S,H){var q=Mn(y),J=q||vu(y)||Zp(y);if(S=sn(S,4),H==null){var ae=y&&y.constructor;J?H=q?new ae:[]:ur(y)?H=td(ae)?qp(c1(y)):{}:H={}}return(J?Es:Wl)(y,function(me,we,De){return S(H,me,we,De)}),H}function cre(y,S){return y==null?!0:iR(y,S)}function dre(y,S,H){return y==null?y:iO(y,S,sR(H))}function ure(y,S,H,q){return q=typeof q=="function"?q:e,y==null?y:iO(y,S,sR(H),q)}function Qp(y){return y==null?[]:jp(y,co(y))}function hre(y){return y==null?[]:jp(y,Ms(y))}function fre(y,S,H){return H===e&&(H=S,S=e),H!==e&&(H=Pa(H),H=H===H?H:0),S!==e&&(S=Pa(S),S=S===S?S:0),Kh(Pa(y),S,H)}function pre(y,S,H){return S=nd(S),H===e?(H=S,S=0):H=nd(H),y=Pa(y),wee(y,S,H)}function mre(y,S,H){if(H&&typeof H!="boolean"&&ss(y,S,H)&&(S=H=e),H===e&&(typeof S=="boolean"?(H=S,S=e):typeof y=="boolean"&&(H=y,y=e)),y===e&&S===e?(y=0,S=1):(y=nd(y),S===e?(S=y,y=0):S=nd(S)),y>S){var q=y;y=S,S=q}if(H||y%1||S%1){var J=F5();return Ho(y+J*(S-y+Hp("1e-"+((J+"").length-1))),S)}return eR(y,S)}var gre=Yp(function(y,S,H){return S=S.toLowerCase(),y+(H?dL(S):S)});function dL(y){return RR(Ii(y).toLowerCase())}function uL(y){return y=Ii(y),y&&y.replace(ir,Qw).replace(cu,"")}function vre(y,S,H){y=Ii(y),S=sa(S);var q=y.length;H=H===e?q:Kh(On(H),0,q);var J=H;return H-=S.length,H>=0&&y.slice(H,J)==S}function bre(y){return y=Ii(y),y&&Yt.test(y)?y.replace(Sn,Jw):y}function yre(y){return y=Ii(y),y&&St.test(y)?y.replace(hi,"\\$&"):y}var wre=Yp(function(y,S,H){return y+(H?"-":"")+S.toLowerCase()}),Cre=Yp(function(y,S,H){return y+(H?" ":"")+S.toLowerCase()}),_re=pO("toLowerCase");function xre(y,S,H){y=Ii(y),S=On(S);var q=S?Gp(y):0;if(!S||q>=S)return y;var J=(S-q)/2;return D1(f1(J),H)+y+D1(h1(J),H)}function Sre(y,S,H){y=Ii(y),S=On(S);var q=S?Gp(y):0;return S&&q<S?y+D1(S-q,H):y}function Ere(y,S,H){y=Ii(y),S=On(S);var q=S?Gp(y):0;return S&&q<S?D1(S-q,H)+y:y}function Dre(y,S,H){return H||S==null?S=0:S&&(S=+S),FJ(Ii(y).replace(ue,""),S||0)}function Rre(y,S,H){return(H?ss(y,S,H):S===e)?S=1:S=On(S),tR(Ii(y),S)}function Mre(){var y=arguments,S=Ii(y[0]);return y.length<3?S:S.replace(y[1],y[2])}var Tre=Yp(function(y,S,H){return y+(H?"_":"")+S.toLowerCase()});function Ire(y,S,H){return H&&typeof H!="number"&&ss(y,S,H)&&(S=H=e),H=H===e?M:H>>>0,H?(y=Ii(y),y&&(typeof S=="string"||S!=null&&!SR(S))&&(S=sa(S),!S&&Gl(y))?gu(al(y),0,H):y.split(S,H)):[]}var kre=Yp(function(y,S,H){return y+(H?" ":"")+RR(S)});function Are(y,S,H){return y=Ii(y),H=H==null?0:Kh(On(H),0,y.length),S=sa(S),y.slice(H,H+S.length)==S}function Fre(y,S,H){var q=oe.templateSettings;H&&ss(y,S,H)&&(S=e),y=Ii(y),S=B1({},S,q,CO);var J=B1({},S.imports,q.imports,CO),ae=co(J),me=jp(J,ae),we,De,Qe=0,Je=S.interpolate||cr,rt="__p += '",_t=HD((S.escape||cr).source+"|"+Je.source+"|"+(Je===Mt?Wt:cr).source+"|"+(S.evaluate||cr).source+"|$","g"),$t="//# sourceURL="+(Li.call(S,"sourceURL")?(S.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++MD+"]")+`
`;y.replace(_t,function(cn,Xn,li,la,as,ca){return li||(li=la),rt+=y.slice(Qe,ca).replace(dr,e1),Xn&&(we=!0,rt+=`' +
__e(`+Xn+`) +
'`),as&&(De=!0,rt+=`';
`+as+`;
__p += '`),li&&(rt+=`' +
((__t = (`+li+`)) == null ? '' : __t) +
'`),Qe=ca+cn.length,cn}),rt+=`';
`;var ln=Li.call(S,"variable")&&S.variable;if(!ln)rt=`with (obj) {
`+rt+`
}
`;else if(Tt.test(ln))throw new Dn(o);rt=(De?rt.replace(vt,""):rt).replace(tr,"$1").replace(xt,"$1;"),rt="function("+(ln||"obj")+`) {
`+(ln?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(we?", __e = _.escape":"")+(De?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+rt+`return __p
}`;var jn=fL(function(){return Ci(ae,$t+"return "+rt).apply(e,me)});if(jn.source=rt,xR(jn))throw jn;return jn}function Pre(y){return Ii(y).toLowerCase()}function Ore(y){return Ii(y).toUpperCase()}function Lre(y,S,H){if(y=Ii(y),y&&(H||S===e))return rv(y);if(!y||!(S=sa(S)))return y;var q=al(y),J=al(S),ae=ov(q,J),me=Zw(q,J)+1;return gu(q,ae,me).join("")}function Nre(y,S,H){if(y=Ii(y),y&&(H||S===e))return y.slice(0,D5(y)+1);if(!y||!(S=sa(S)))return y;var q=al(y),J=Zw(q,al(S))+1;return gu(q,0,J).join("")}function Bre(y,S,H){if(y=Ii(y),y&&(H||S===e))return y.replace(ue,"");if(!y||!(S=sa(S)))return y;var q=al(y),J=ov(q,al(S));return gu(q,J).join("")}function Vre(y,S){var H=V,q=j;if(ur(S)){var J="separator"in S?S.separator:J;H="length"in S?On(S.length):H,q="omission"in S?sa(S.omission):q}y=Ii(y);var ae=y.length;if(Gl(y)){var me=al(y);ae=me.length}if(H>=ae)return y;var we=H-Gp(q);if(we<1)return q;var De=me?gu(me,0,we).join(""):y.slice(0,we);if(J===e)return De+q;if(me&&(we+=De.length-we),SR(J)){if(y.slice(we).search(J)){var Qe,Je=De;for(J.global||(J=HD(J.source,Ii(Ct.exec(J))+"g")),J.lastIndex=0;Qe=J.exec(Je);)var rt=Qe.index;De=De.slice(0,rt===e?we:rt)}}else if(y.indexOf(sa(J),we)!=we){var _t=De.lastIndexOf(J);_t>-1&&(De=De.slice(0,_t))}return De+q}function Hre(y){return y=Ii(y),y&&At.test(y)?y.replace(wt,mJ):y}var zre=Yp(function(y,S,H){return y+(H?" ":"")+S.toUpperCase()}),RR=pO("toUpperCase");function hL(y,S,H){return y=Ii(y),S=H?e:S,S===e?t1(y)?bJ(y):Z(y):y.match(S)||[]}var fL=Un(function(y,S){try{return is(y,e,S)}catch(H){return xR(H)?H:new Dn(H)}}),jre=Jc(function(y,S){return Es(S,function(H){H=ql(H),Zc(y,H,CR(y[H],y))}),y});function Gre(y){var S=y==null?0:y.length,H=sn();return y=S?Yi(y,function(q){if(typeof q[1]!="function")throw new Ta(r);return[H(q[0]),q[1]]}):[],Un(function(q){for(var J=-1;++J<S;){var ae=y[J];if(is(ae[0],this,q))return is(ae[1],this,q)}})}function Ure(y){return mee(ka(y,d))}function MR(y){return function(){return y}}function Wre(y,S){return y==null||y!==y?S:y}var $re=gO(),qre=gO(!0);function Ts(y){return y}function TR(y){return $5(typeof y=="function"?y:ka(y,d))}function Kre(y){return K5(ka(y,d))}function Yre(y,S){return Y5(y,ka(S,d))}var Xre=Un(function(y,S){return function(H){return mv(H,y,S)}}),Zre=Un(function(y,S){return function(H){return mv(y,H,S)}});function IR(y,S,H){var q=co(S),J=y1(S,q);H==null&&!(ur(S)&&(J.length||!q.length))&&(H=S,S=y,y=this,J=y1(S,co(S)));var ae=!(ur(H)&&"chain"in H)||!!H.chain,me=td(y);return Es(J,function(we){var De=S[we];y[we]=De,me&&(y.prototype[we]=function(){var Qe=this.__chain__;if(ae||Qe){var Je=y(this.__wrapped__),rt=Je.__actions__=Ds(this.__actions__);return rt.push({func:De,args:arguments,thisArg:y}),Je.__chain__=Qe,Je}return De.apply(y,jl([this.value()],arguments))})}),y}function Qre(){return Wr._===this&&(Wr._=SJ),this}function kR(){}function Jre(y){return y=On(y),Un(function(S){return X5(S,y)})}var eoe=lR(Yi),toe=lR(Xw),noe=lR(Ar);function pL(y){return mR(y)?Bt(ql(y)):Aee(y)}function ioe(y){return function(S){return y==null?e:Yh(y,S)}}var roe=bO(),ooe=bO(!0);function AR(){return[]}function FR(){return!1}function soe(){return{}}function aoe(){return""}function loe(){return!0}function coe(y,S){if(y=On(y),y<1||y>x)return[];var H=M,q=Ho(y,M);S=sn(S),y-=M;for(var J=du(q,S);++H<y;)S(H);return J}function doe(y){return Mn(y)?Yi(y,ql):aa(y)?[y]:Ds(PO(Ii(y)))}function uoe(y){var S=++_J;return Ii(y)+S}var hoe=E1(function(y,S){return y+S},0),foe=cR("ceil"),poe=E1(function(y,S){return y/S},1),moe=cR("floor");function goe(y){return y&&y.length?b1(y,Ts,KD):e}function voe(y,S){return y&&y.length?b1(y,sn(S,2),KD):e}function boe(y){return dt(y,Ts)}function yoe(y,S){return dt(y,sn(S,2))}function woe(y){return y&&y.length?b1(y,Ts,QD):e}function Coe(y,S){return y&&y.length?b1(y,sn(S,2),QD):e}var _oe=E1(function(y,S){return y*S},1),xoe=cR("round"),Soe=E1(function(y,S){return y-S},0);function Eoe(y){return y&&y.length?rr(y,Ts):0}function Doe(y,S){return y&&y.length?rr(y,sn(S,2)):0}return oe.after=Kne,oe.ary=WO,oe.assign=Oie,oe.assignIn=oL,oe.assignInWith=B1,oe.assignWith=Lie,oe.at=Nie,oe.before=$O,oe.bind=CR,oe.bindAll=jre,oe.bindKey=qO,oe.castArray=sie,oe.chain=jO,oe.chunk=mte,oe.compact=gte,oe.concat=vte,oe.cond=Gre,oe.conforms=Ure,oe.constant=MR,oe.countBy=Ene,oe.create=Bie,oe.curry=KO,oe.curryRight=YO,oe.debounce=XO,oe.defaults=Vie,oe.defaultsDeep=Hie,oe.defer=Yne,oe.delay=Xne,oe.difference=bte,oe.differenceBy=yte,oe.differenceWith=wte,oe.drop=Cte,oe.dropRight=_te,oe.dropRightWhile=xte,oe.dropWhile=Ste,oe.fill=Ete,oe.filter=Rne,oe.flatMap=Ine,oe.flatMapDeep=kne,oe.flatMapDepth=Ane,oe.flatten=BO,oe.flattenDeep=Dte,oe.flattenDepth=Rte,oe.flip=Zne,oe.flow=$re,oe.flowRight=qre,oe.fromPairs=Mte,oe.functions=qie,oe.functionsIn=Kie,oe.groupBy=Fne,oe.initial=Ite,oe.intersection=kte,oe.intersectionBy=Ate,oe.intersectionWith=Fte,oe.invert=Xie,oe.invertBy=Zie,oe.invokeMap=One,oe.iteratee=TR,oe.keyBy=Lne,oe.keys=co,oe.keysIn=Ms,oe.map=A1,oe.mapKeys=Jie,oe.mapValues=ere,oe.matches=Kre,oe.matchesProperty=Yre,oe.memoize=P1,oe.merge=tre,oe.mergeWith=sL,oe.method=Xre,oe.methodOf=Zre,oe.mixin=IR,oe.negate=O1,oe.nthArg=Jre,oe.omit=nre,oe.omitBy=ire,oe.once=Qne,oe.orderBy=Nne,oe.over=eoe,oe.overArgs=Jne,oe.overEvery=toe,oe.overSome=noe,oe.partial=_R,oe.partialRight=ZO,oe.partition=Bne,oe.pick=rre,oe.pickBy=aL,oe.property=pL,oe.propertyOf=ioe,oe.pull=Nte,oe.pullAll=HO,oe.pullAllBy=Bte,oe.pullAllWith=Vte,oe.pullAt=Hte,oe.range=roe,oe.rangeRight=ooe,oe.rearg=eie,oe.reject=zne,oe.remove=zte,oe.rest=tie,oe.reverse=yR,oe.sampleSize=Gne,oe.set=sre,oe.setWith=are,oe.shuffle=Une,oe.slice=jte,oe.sortBy=qne,oe.sortedUniq=Yte,oe.sortedUniqBy=Xte,oe.split=Ire,oe.spread=nie,oe.tail=Zte,oe.take=Qte,oe.takeRight=Jte,oe.takeRightWhile=ene,oe.takeWhile=tne,oe.tap=gne,oe.throttle=iie,oe.thru=k1,oe.toArray=nL,oe.toPairs=lL,oe.toPairsIn=cL,oe.toPath=doe,oe.toPlainObject=rL,oe.transform=lre,oe.unary=rie,oe.union=nne,oe.unionBy=ine,oe.unionWith=rne,oe.uniq=one,oe.uniqBy=sne,oe.uniqWith=ane,oe.unset=cre,oe.unzip=wR,oe.unzipWith=zO,oe.update=dre,oe.updateWith=ure,oe.values=Qp,oe.valuesIn=hre,oe.without=lne,oe.words=hL,oe.wrap=oie,oe.xor=cne,oe.xorBy=dne,oe.xorWith=une,oe.zip=hne,oe.zipObject=fne,oe.zipObjectDeep=pne,oe.zipWith=mne,oe.entries=lL,oe.entriesIn=cL,oe.extend=oL,oe.extendWith=B1,IR(oe,oe),oe.add=hoe,oe.attempt=fL,oe.camelCase=gre,oe.capitalize=dL,oe.ceil=foe,oe.clamp=fre,oe.clone=aie,oe.cloneDeep=cie,oe.cloneDeepWith=die,oe.cloneWith=lie,oe.conformsTo=uie,oe.deburr=uL,oe.defaultTo=Wre,oe.divide=poe,oe.endsWith=vre,oe.eq=cl,oe.escape=bre,oe.escapeRegExp=yre,oe.every=Dne,oe.find=Mne,oe.findIndex=LO,oe.findKey=zie,oe.findLast=Tne,oe.findLastIndex=NO,oe.findLastKey=jie,oe.floor=moe,oe.forEach=GO,oe.forEachRight=UO,oe.forIn=Gie,oe.forInRight=Uie,oe.forOwn=Wie,oe.forOwnRight=$ie,oe.get=ER,oe.gt=hie,oe.gte=fie,oe.has=Yie,oe.hasIn=DR,oe.head=VO,oe.identity=Ts,oe.includes=Pne,oe.indexOf=Tte,oe.inRange=pre,oe.invoke=Qie,oe.isArguments=Qh,oe.isArray=Mn,oe.isArrayBuffer=pie,oe.isArrayLike=Rs,oe.isArrayLikeObject=Fr,oe.isBoolean=mie,oe.isBuffer=vu,oe.isDate=gie,oe.isElement=vie,oe.isEmpty=bie,oe.isEqual=yie,oe.isEqualWith=wie,oe.isError=xR,oe.isFinite=Cie,oe.isFunction=td,oe.isInteger=QO,oe.isLength=L1,oe.isMap=JO,oe.isMatch=_ie,oe.isMatchWith=xie,oe.isNaN=Sie,oe.isNative=Eie,oe.isNil=Rie,oe.isNull=Die,oe.isNumber=eL,oe.isObject=ur,oe.isObjectLike=Cr,oe.isPlainObject=Cv,oe.isRegExp=SR,oe.isSafeInteger=Mie,oe.isSet=tL,oe.isString=N1,oe.isSymbol=aa,oe.isTypedArray=Zp,oe.isUndefined=Tie,oe.isWeakMap=Iie,oe.isWeakSet=kie,oe.join=Pte,oe.kebabCase=wre,oe.last=Fa,oe.lastIndexOf=Ote,oe.lowerCase=Cre,oe.lowerFirst=_re,oe.lt=Aie,oe.lte=Fie,oe.max=goe,oe.maxBy=voe,oe.mean=boe,oe.meanBy=yoe,oe.min=woe,oe.minBy=Coe,oe.stubArray=AR,oe.stubFalse=FR,oe.stubObject=soe,oe.stubString=aoe,oe.stubTrue=loe,oe.multiply=_oe,oe.nth=Lte,oe.noConflict=Qre,oe.noop=kR,oe.now=F1,oe.pad=xre,oe.padEnd=Sre,oe.padStart=Ere,oe.parseInt=Dre,oe.random=mre,oe.reduce=Vne,oe.reduceRight=Hne,oe.repeat=Rre,oe.replace=Mre,oe.result=ore,oe.round=xoe,oe.runInContext=Se,oe.sample=jne,oe.size=Wne,oe.snakeCase=Tre,oe.some=$ne,oe.sortedIndex=Gte,oe.sortedIndexBy=Ute,oe.sortedIndexOf=Wte,oe.sortedLastIndex=$te,oe.sortedLastIndexBy=qte,oe.sortedLastIndexOf=Kte,oe.startCase=kre,oe.startsWith=Are,oe.subtract=Soe,oe.sum=Eoe,oe.sumBy=Doe,oe.template=Fre,oe.times=coe,oe.toFinite=nd,oe.toInteger=On,oe.toLength=iL,oe.toLower=Pre,oe.toNumber=Pa,oe.toSafeInteger=Pie,oe.toString=Ii,oe.toUpper=Ore,oe.trim=Lre,oe.trimEnd=Nre,oe.trimStart=Bre,oe.truncate=Vre,oe.unescape=Hre,oe.uniqueId=uoe,oe.upperCase=zre,oe.upperFirst=RR,oe.each=GO,oe.eachRight=UO,oe.first=VO,IR(oe,function(){var y={};return Wl(oe,function(S,H){Li.call(oe.prototype,H)||(y[H]=S)}),y}(),{chain:!1}),oe.VERSION=t,Es(["bind","bindKey","curry","curryRight","partial","partialRight"],function(y){oe[y].placeholder=oe}),Es(["drop","take"],function(y,S){ei.prototype[y]=function(H){H=H===e?1:Zr(On(H),0);var q=this.__filtered__&&!S?new ei(this):this.clone();return q.__filtered__?q.__takeCount__=Ho(H,q.__takeCount__):q.__views__.push({size:Ho(H,M),type:y+(q.__dir__<0?"Right":"")}),q},ei.prototype[y+"Right"]=function(H){return this.reverse()[y](H).reverse()}}),Es(["filter","map","takeWhile"],function(y,S){var H=S+1,q=H==I||H==b;ei.prototype[y]=function(J){var ae=this.clone();return ae.__iteratees__.push({iteratee:sn(J,3),type:H}),ae.__filtered__=ae.__filtered__||q,ae}}),Es(["head","last"],function(y,S){var H="take"+(S?"Right":"");ei.prototype[y]=function(){return this[H](1).value()[0]}}),Es(["initial","tail"],function(y,S){var H="drop"+(S?"":"Right");ei.prototype[y]=function(){return this.__filtered__?new ei(this):this[H](1)}}),ei.prototype.compact=function(){return this.filter(Ts)},ei.prototype.find=function(y){return this.filter(y).head()},ei.prototype.findLast=function(y){return this.reverse().find(y)},ei.prototype.invokeMap=Un(function(y,S){return typeof y=="function"?new ei(this):this.map(function(H){return mv(H,y,S)})}),ei.prototype.reject=function(y){return this.filter(O1(sn(y)))},ei.prototype.slice=function(y,S){y=On(y);var H=this;return H.__filtered__&&(y>0||S<0)?new ei(H):(y<0?H=H.takeRight(-y):y&&(H=H.drop(y)),S!==e&&(S=On(S),H=S<0?H.dropRight(-S):H.take(S-y)),H)},ei.prototype.takeRightWhile=function(y){return this.reverse().takeWhile(y).reverse()},ei.prototype.toArray=function(){return this.take(M)},Wl(ei.prototype,function(y,S){var H=/^(?:filter|find|map|reject)|While$/.test(S),q=/^(?:head|last)$/.test(S),J=oe[q?"take"+(S=="last"?"Right":""):S],ae=q||/^find/.test(S);J&&(oe.prototype[S]=function(){var me=this.__wrapped__,we=q?[1]:arguments,De=me instanceof ei,Qe=we[0],Je=De||Mn(me),rt=function(Xn){var li=J.apply(oe,jl([Xn],we));return q&&_t?li[0]:li};Je&&H&&typeof Qe=="function"&&Qe.length!=1&&(De=Je=!1);var _t=this.__chain__,$t=!!this.__actions__.length,ln=ae&&!_t,jn=De&&!$t;if(!ae&&Je){me=jn?me:new ei(this);var cn=y.apply(me,we);return cn.__actions__.push({func:k1,args:[rt],thisArg:e}),new Ia(cn,_t)}return ln&&jn?y.apply(this,we):(cn=this.thru(rt),ln?q?cn.value()[0]:cn.value():cn)})}),Es(["pop","push","shift","sort","splice","unshift"],function(y){var S=i1[y],H=/^(?:push|sort|unshift)$/.test(y)?"tap":"thru",q=/^(?:pop|shift)$/.test(y);oe.prototype[y]=function(){var J=arguments;if(q&&!this.__chain__){var ae=this.value();return S.apply(Mn(ae)?ae:[],J)}return this[H](function(me){return S.apply(Mn(me)?me:[],J)})}}),Wl(ei.prototype,function(y,S){var H=oe[S];if(H){var q=H.name+"";Li.call($p,q)||($p[q]=[]),$p[q].push({name:S,func:H})}}),$p[S1(e,m).name]=[{name:"wrapper",func:e}],ei.prototype.clone=HJ,ei.prototype.reverse=zJ,ei.prototype.value=jJ,oe.prototype.at=vne,oe.prototype.chain=bne,oe.prototype.commit=yne,oe.prototype.next=wne,oe.prototype.plant=_ne,oe.prototype.reverse=xne,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=Sne,oe.prototype.first=oe.prototype.head,lv&&(oe.prototype[lv]=Cne),oe},uu=yJ();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Wr._=uu,define(function(){return uu})):Kc?((Kc.exports=uu)._=uu,J0._=uu):Wr._=uu}).call(p0)});var Q$=An((Q2,eP)=>{"use strict";(function(t,n){typeof Q2=="object"&&typeof eP=="object"?eP.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Q2=="object"?Q2.Pusher=n():t.Pusher=n()})(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(i,r,o){n.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,r){if(r&1&&(i=n(i)),r&8||r&4&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),r&2&&typeof i!="string")for(var s in i)n.d(o,s,function(a){return i[a]}.bind(null,s));return o},n.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(r,"a",r),r},n.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var w in v)v.hasOwnProperty(w)&&(g[w]=v[w])},p(f,m)};return function(f,m){p(f,m);function g(){this.constructor=f}f.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=256,o=function(){function p(f){f===void 0&&(f="="),this._paddingCharacter=f}return p.prototype.encodedLength=function(f){return this._paddingCharacter?(f+2)/3*4|0:(f*8+5)/6|0},p.prototype.encode=function(f){for(var m="",g=0;g<f.length-2;g+=3){var v=f[g]<<16|f[g+1]<<8|f[g+2];m+=this._encodeByte(v>>>3*6&63),m+=this._encodeByte(v>>>2*6&63),m+=this._encodeByte(v>>>1*6&63),m+=this._encodeByte(v>>>0*6&63)}var w=f.length-g;if(w>0){var v=f[g]<<16|(w===2?f[g+1]<<8:0);m+=this._encodeByte(v>>>3*6&63),m+=this._encodeByte(v>>>2*6&63),w===2?m+=this._encodeByte(v>>>1*6&63):m+=this._paddingCharacter||"",m+=this._paddingCharacter||""}return m},p.prototype.maxDecodedLength=function(f){return this._paddingCharacter?f/4*3|0:(f*6+7)/8|0},p.prototype.decodedLength=function(f){return this.maxDecodedLength(f.length-this._getPaddingLength(f))},p.prototype.decode=function(f){if(f.length===0)return new Uint8Array(0);for(var m=this._getPaddingLength(f),g=f.length-m,v=new Uint8Array(this.maxDecodedLength(g)),w=0,E=0,T=0,F=0,k=0,L=0,V=0;E<g-4;E+=4)F=this._decodeChar(f.charCodeAt(E+0)),k=this._decodeChar(f.charCodeAt(E+1)),L=this._decodeChar(f.charCodeAt(E+2)),V=this._decodeChar(f.charCodeAt(E+3)),v[w++]=F<<2|k>>>4,v[w++]=k<<4|L>>>2,v[w++]=L<<6|V,T|=F&r,T|=k&r,T|=L&r,T|=V&r;if(E<g-1&&(F=this._decodeChar(f.charCodeAt(E)),k=this._decodeChar(f.charCodeAt(E+1)),v[w++]=F<<2|k>>>4,T|=F&r,T|=k&r),E<g-2&&(L=this._decodeChar(f.charCodeAt(E+2)),v[w++]=k<<4|L>>>2,T|=L&r),E<g-3&&(V=this._decodeChar(f.charCodeAt(E+3)),v[w++]=L<<6|V,T|=V&r),T!==0)throw new Error("Base64Coder: incorrect characters for decoding");return v},p.prototype._encodeByte=function(f){var m=f;return m+=65,m+=25-f>>>8&6,m+=51-f>>>8&-75,m+=61-f>>>8&-15,m+=62-f>>>8&3,String.fromCharCode(m)},p.prototype._decodeChar=function(f){var m=r;return m+=(42-f&f-44)>>>8&-r+f-43+62,m+=(46-f&f-48)>>>8&-r+f-47+63,m+=(47-f&f-58)>>>8&-r+f-48+52,m+=(64-f&f-91)>>>8&-r+f-65+0,m+=(96-f&f-123)>>>8&-r+f-97+26,m},p.prototype._getPaddingLength=function(f){var m=0;if(this._paddingCharacter){for(var g=f.length-1;g>=0&&f[g]===this._paddingCharacter;g--)m++;if(f.length<4||m>2)throw new Error("Base64Coder: incorrect padding")}return m},p}();t.Coder=o;var s=new o;function a(p){return s.encode(p)}t.encode=a;function l(p){return s.decode(p)}t.decode=l;var d=function(p){i(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.prototype._encodeByte=function(m){var g=m;return g+=65,g+=25-m>>>8&6,g+=51-m>>>8&-75,g+=61-m>>>8&-13,g+=62-m>>>8&49,String.fromCharCode(g)},f.prototype._decodeChar=function(m){var g=r;return g+=(44-m&m-46)>>>8&-r+m-45+62,g+=(94-m&m-96)>>>8&-r+m-95+63,g+=(47-m&m-58)>>>8&-r+m-48+52,g+=(64-m&m-91)>>>8&-r+m-65+0,g+=(96-m&m-123)>>>8&-r+m-97+26,g},f}(o);t.URLSafeCoder=d;var c=new d;function u(p){return c.encode(p)}t.encodeURLSafe=u;function h(p){return c.decode(p)}t.decodeURLSafe=h,t.encodedLength=function(p){return s.encodedLength(p)},t.maxDecodedLength=function(p){return s.maxDecodedLength(p)},t.decodedLength=function(p){return s.decodedLength(p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="utf8: invalid string",r="utf8: invalid source encoding";function o(l){for(var d=new Uint8Array(s(l)),c=0,u=0;u<l.length;u++){var h=l.charCodeAt(u);h<128?d[c++]=h:h<2048?(d[c++]=192|h>>6,d[c++]=128|h&63):h<55296?(d[c++]=224|h>>12,d[c++]=128|h>>6&63,d[c++]=128|h&63):(u++,h=(h&1023)<<10,h|=l.charCodeAt(u)&1023,h+=65536,d[c++]=240|h>>18,d[c++]=128|h>>12&63,d[c++]=128|h>>6&63,d[c++]=128|h&63)}return d}t.encode=o;function s(l){for(var d=0,c=0;c<l.length;c++){var u=l.charCodeAt(c);if(u<128)d+=1;else if(u<2048)d+=2;else if(u<55296)d+=3;else if(u<=57343){if(c>=l.length-1)throw new Error(i);c++,d+=4}else throw new Error(i)}return d}t.encodedLength=s;function a(l){for(var d=[],c=0;c<l.length;c++){var u=l[c];if(u&128){var h=void 0;if(u<224){if(c>=l.length)throw new Error(r);var p=l[++c];if((p&192)!==128)throw new Error(r);u=(u&31)<<6|p&63,h=128}else if(u<240){if(c>=l.length-1)throw new Error(r);var p=l[++c],f=l[++c];if((p&192)!==128||(f&192)!==128)throw new Error(r);u=(u&15)<<12|(p&63)<<6|f&63,h=2048}else if(u<248){if(c>=l.length-2)throw new Error(r);var p=l[++c],f=l[++c],m=l[++c];if((p&192)!==128||(f&192)!==128||(m&192)!==128)throw new Error(r);u=(u&15)<<18|(p&63)<<12|(f&63)<<6|m&63,h=65536}else throw new Error(r);if(u<h||u>=55296&&u<=57343)throw new Error(r);if(u>=65536){if(u>1114111)throw new Error(r);u-=65536,d.push(String.fromCharCode(55296|u>>10)),u=56320|u&1023}}d.push(String.fromCharCode(u))}return d.join("")}t.decode=a},function(e,t,n){e.exports=n(3).default},function(e,t,n){"use strict";n.r(t);class i{constructor($,X){this.lastId=0,this.prefix=$,this.name=X}create($){this.lastId++;var X=this.lastId,le=this.prefix+X,pe=this.name+"["+X+"]",We=!1,dt=function(){We||($.apply(null,arguments),We=!0)};return this[X]=dt,{number:X,id:le,name:pe,callback:dt}}remove($){delete this[$.number]}}var r=new i("_pusher_script_","Pusher.ScriptReceivers"),o={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=o;class a{constructor($){this.options=$,this.receivers=$.receivers||r,this.loading={}}load($,X,le){var pe=this;if(pe.loading[$]&&pe.loading[$].length>0)pe.loading[$].push(le);else{pe.loading[$]=[le];var We=En.createScriptRequest(pe.getPath($,X)),dt=pe.receivers.create(function(Bt){if(pe.receivers.remove(dt),pe.loading[$]){var mn=pe.loading[$];delete pe.loading[$];for(var ai=function(rr){rr||We.cleanup()},wi=0;wi<mn.length;wi++)mn[wi](Bt,ai)}});We.send(dt)}}getRoot($){var X,le=En.getDocument().location.protocol;return $&&$.useTLS||le==="https:"?X=this.options.cdn_https:X=this.options.cdn_http,X.replace(/\/*$/,"")+"/"+this.options.version}getPath($,X){return this.getRoot(X)+"/"+$+this.options.suffix+".js"}}var l=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),d=new a({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:l});let c={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var h={buildLogSuffix:function(Z){let $="See:",X=c.urls[Z];if(!X)return"";let le;return X.fullUrl?le=X.fullUrl:X.path&&(le=c.baseUrl+X.path),le?`${$} ${le}`:""}},p=function(Z){return Z.UserAuthentication="user-authentication",Z.ChannelAuthorization="channel-authorization",Z}(p||{});class f extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class m extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor($){super($),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor($,X){super(X),this.status=$,Object.setPrototypeOf(this,new.target.prototype)}}var V=function(Z,$,X,le,pe){let We=En.createXHR();We.open("POST",X.endpoint,!0),We.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var dt in X.headers)We.setRequestHeader(dt,X.headers[dt]);if(X.headersProvider!=null){let Bt=X.headersProvider();for(var dt in Bt)We.setRequestHeader(dt,Bt[dt])}return We.onreadystatechange=function(){if(We.readyState===4)if(We.status===200){let Bt,mn=!1;try{Bt=JSON.parse(We.responseText),mn=!0}catch{pe(new k(200,`JSON returned from ${le.toString()} endpoint was invalid, yet status code was 200. Data was: ${We.responseText}`),null)}mn&&pe(null,Bt)}else{let Bt="";switch(le){case p.UserAuthentication:Bt=h.buildLogSuffix("authenticationEndpoint");break;case p.ChannelAuthorization:Bt=`Clients must be authorized to join private or presence channels. ${h.buildLogSuffix("authorizationEndpoint")}`;break}pe(new k(We.status,`Unable to retrieve auth string from ${le.toString()} endpoint - received status: ${We.status} from ${X.endpoint}. ${Bt}`),null)}},We.send($),We};function j(Z){return D(x(Z))}for(var z=String.fromCharCode,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I={},N=0,b=R.length;N<b;N++)I[R.charAt(N)]=N;var C=function(Z){var $=Z.charCodeAt(0);return $<128?Z:$<2048?z(192|$>>>6)+z(128|$&63):z(224|$>>>12&15)+z(128|$>>>6&63)+z(128|$&63)},x=function(Z){return Z.replace(/[^\x00-\x7F]/g,C)},_=function(Z){var $=[0,2,1][Z.length%3],X=Z.charCodeAt(0)<<16|(Z.length>1?Z.charCodeAt(1):0)<<8|(Z.length>2?Z.charCodeAt(2):0),le=[R.charAt(X>>>18),R.charAt(X>>>12&63),$>=2?"=":R.charAt(X>>>6&63),$>=1?"=":R.charAt(X&63)];return le.join("")},D=window.btoa||function(Z){return Z.replace(/[\s\S]{1,3}/g,_)};class M{constructor($,X,le,pe){this.clear=X,this.timer=$(()=>{this.timer&&(this.timer=pe(this.timer))},le)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var O=M;function U(Z){window.clearTimeout(Z)}function G(Z){window.clearInterval(Z)}class Y extends O{constructor($,X){super(setTimeout,U,$,function(le){return X(),null})}}class B extends O{constructor($,X){super(setInterval,G,$,function(le){return X(),le})}}var K={now(){return Date.now?Date.now():new Date().valueOf()},defer(Z){return new Y(0,Z)},method(Z,...$){var X=Array.prototype.slice.call(arguments,1);return function(le){return le[Z].apply(le,X.concat(arguments))}}},A=K;function P(Z,...$){for(var X=0;X<$.length;X++){var le=$[X];for(var pe in le)le[pe]&&le[pe].constructor&&le[pe].constructor===Object?Z[pe]=P(Z[pe]||{},le[pe]):Z[pe]=le[pe]}return Z}function W(){for(var Z=["Pusher"],$=0;$<arguments.length;$++)typeof arguments[$]=="string"?Z.push(arguments[$]):Z.push(Ze(arguments[$]));return Z.join(" : ")}function Q(Z,$){var X=Array.prototype.indexOf;if(Z===null)return-1;if(X&&Z.indexOf===X)return Z.indexOf($);for(var le=0,pe=Z.length;le<pe;le++)if(Z[le]===$)return le;return-1}function se(Z,$){for(var X in Z)Object.prototype.hasOwnProperty.call(Z,X)&&$(Z[X],X,Z)}function ne(Z){var $=[];return se(Z,function(X,le){$.push(le)}),$}function ie(Z){var $=[];return se(Z,function(X){$.push(X)}),$}function ye(Z,$,X){for(var le=0;le<Z.length;le++)$.call(X||window,Z[le],le,Z)}function ve(Z,$){for(var X=[],le=0;le<Z.length;le++)X.push($(Z[le],le,Z,X));return X}function ee(Z,$){var X={};return se(Z,function(le,pe){X[pe]=$(le)}),X}function fe(Z,$){$=$||function(pe){return!!pe};for(var X=[],le=0;le<Z.length;le++)$(Z[le],le,Z,X)&&X.push(Z[le]);return X}function de(Z,$){var X={};return se(Z,function(le,pe){($&&$(le,pe,Z,X)||le)&&(X[pe]=le)}),X}function he(Z){var $=[];return se(Z,function(X,le){$.push([le,X])}),$}function Ce(Z,$){for(var X=0;X<Z.length;X++)if($(Z[X],X,Z))return!0;return!1}function _e(Z,$){for(var X=0;X<Z.length;X++)if(!$(Z[X],X,Z))return!1;return!0}function xe(Z){return ee(Z,function($){return typeof $=="object"&&($=Ze($)),encodeURIComponent(j($.toString()))})}function ze(Z){var $=de(Z,function(le){return le!==void 0}),X=ve(he(xe($)),A.method("join","=")).join("&");return X}function Ve(Z){var $=[],X=[];return function le(pe,We){var dt,Bt,mn;switch(typeof pe){case"object":if(!pe)return null;for(dt=0;dt<$.length;dt+=1)if($[dt]===pe)return{$ref:X[dt]};if($.push(pe),X.push(We),Object.prototype.toString.apply(pe)==="[object Array]")for(mn=[],dt=0;dt<pe.length;dt+=1)mn[dt]=le(pe[dt],We+"["+dt+"]");else{mn={};for(Bt in pe)Object.prototype.hasOwnProperty.call(pe,Bt)&&(mn[Bt]=le(pe[Bt],We+"["+JSON.stringify(Bt)+"]"))}return mn;case"number":case"string":case"boolean":return pe}}(Z,"$")}function Ze(Z){try{return JSON.stringify(Z)}catch{return JSON.stringify(Ve(Z))}}class mt{constructor(){this.globalLog=$=>{window.console&&window.console.log&&window.console.log($)}}debug(...$){this.log(this.globalLog,$)}warn(...$){this.log(this.globalLogWarn,$)}error(...$){this.log(this.globalLogError,$)}globalLogWarn($){window.console&&window.console.warn?window.console.warn($):this.globalLog($)}globalLogError($){window.console&&window.console.error?window.console.error($):this.globalLogWarn($)}log($,...X){var le=W.apply(this,arguments);iv.log?iv.log(le):iv.logToConsole&&$.bind(this)(le)}}var Ue=new mt,nt=function(Z,$,X,le,pe){(X.headers!==void 0||X.headersProvider!=null)&&Ue.warn(`To send headers with the ${le.toString()} request, you must use AJAX, rather than JSONP.`);var We=Z.nextAuthCallbackID.toString();Z.nextAuthCallbackID++;var dt=Z.getDocument(),Bt=dt.createElement("script");Z.auth_callbacks[We]=function(wi){pe(null,wi)};var mn="Pusher.auth_callbacks['"+We+"']";Bt.src=X.endpoint+"?callback="+encodeURIComponent(mn)+"&"+$;var ai=dt.getElementsByTagName("head")[0]||dt.documentElement;ai.insertBefore(Bt,ai.firstChild)},on=nt;class bt{constructor($){this.src=$}send($){var X=this,le="Error loading "+X.src;X.script=document.createElement("script"),X.script.id=$.id,X.script.src=X.src,X.script.type="text/javascript",X.script.charset="UTF-8",X.script.addEventListener?(X.script.onerror=function(){$.callback(le)},X.script.onload=function(){$.callback(null)}):X.script.onreadystatechange=function(){(X.script.readyState==="loaded"||X.script.readyState==="complete")&&$.callback(null)},X.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(X.errorScript=document.createElement("script"),X.errorScript.id=$.id+"_error",X.errorScript.text=$.name+"('"+le+"');",X.script.async=X.errorScript.async=!1):X.script.async=!0;var pe=document.getElementsByTagName("head")[0];pe.insertBefore(X.script,pe.firstChild),X.errorScript&&pe.insertBefore(X.errorScript,X.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Me{constructor($,X){this.url=$,this.data=X}send($){if(!this.request){var X=ze(this.data),le=this.url+"/"+$.number+"?"+X;this.request=En.createScriptRequest(le),this.request.send($)}}cleanup(){this.request&&this.request.cleanup()}}var be=function(Z,$){return function(X,le){var pe="http"+($?"s":"")+"://",We=pe+(Z.host||Z.options.host)+Z.options.path,dt=En.createJSONPRequest(We,X),Bt=En.ScriptReceivers.create(function(mn,ai){r.remove(Bt),dt.cleanup(),ai&&ai.host&&(Z.host=ai.host),le&&le(mn,ai)});dt.send(Bt)}},ge={name:"jsonp",getAgent:be},Ie=ge;function ct(Z,$,X){var le=Z+($.useTLS?"s":""),pe=$.useTLS?$.hostTLS:$.hostNonTLS;return le+"://"+pe+X}function tt(Z,$){var X="/app/"+Z,le="?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+($?"&"+$:"");return X+le}var vt={getInitial:function(Z,$){var X=($.httpPath||"")+tt(Z,"flash=false");return ct("ws",$,X)}},tr={getInitial:function(Z,$){var X=($.httpPath||"/pusher")+tt(Z);return ct("http",$,X)}},xt={getInitial:function(Z,$){return ct("http",$,$.httpPath||"/pusher")},getPath:function(Z,$){return tt(Z)}};class wt{constructor(){this._callbacks={}}get($){return this._callbacks[Sn($)]}add($,X,le){var pe=Sn($);this._callbacks[pe]=this._callbacks[pe]||[],this._callbacks[pe].push({fn:X,context:le})}remove($,X,le){if(!$&&!X&&!le){this._callbacks={};return}var pe=$?[Sn($)]:ne(this._callbacks);X||le?this.removeCallback(pe,X,le):this.removeAllCallbacks(pe)}removeCallback($,X,le){ye($,function(pe){this._callbacks[pe]=fe(this._callbacks[pe]||[],function(We){return X&&X!==We.fn||le&&le!==We.context}),this._callbacks[pe].length===0&&delete this._callbacks[pe]},this)}removeAllCallbacks($){ye($,function(X){delete this._callbacks[X]},this)}}function Sn(Z){return"_"+Z}class At{constructor($){this.callbacks=new wt,this.global_callbacks=[],this.failThrough=$}bind($,X,le){return this.callbacks.add($,X,le),this}bind_global($){return this.global_callbacks.push($),this}unbind($,X,le){return this.callbacks.remove($,X,le),this}unbind_global($){return $?(this.global_callbacks=fe(this.global_callbacks||[],X=>X!==$),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit($,X,le){for(var pe=0;pe<this.global_callbacks.length;pe++)this.global_callbacks[pe]($,X);var We=this.callbacks.get($),dt=[];if(le?dt.push(X,le):X&&dt.push(X),We&&We.length>0)for(var pe=0;pe<We.length;pe++)We[pe].fn.apply(We[pe].context||window,dt);else this.failThrough&&this.failThrough($,X);return this}}class Yt extends At{constructor($,X,le,pe,We){super(),this.initialize=En.transportConnectionInitializer,this.hooks=$,this.name=X,this.priority=le,this.key=pe,this.options=We,this.state="new",this.timeline=We.timeline,this.activityTimeout=We.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var $=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket($,this.options)}catch(X){return A.defer(()=>{this.onError(X),this.changeState("closed")}),!1}return this.bindListeners(),Ue.debug("Connecting",{transport:this.name,url:$}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send($){return this.state==="open"?(A.defer(()=>{this.socket&&this.socket.send($)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError($){this.emit("error",{type:"WebSocketError",error:$}),this.timeline.error(this.buildTimelineMessage({error:$.toString()}))}onClose($){$?this.changeState("closed",{code:$.code,reason:$.reason,wasClean:$.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage($){this.emit("message",$)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=$=>{this.onError($)},this.socket.onclose=$=>{this.onClose($)},this.socket.onmessage=$=>{this.onMessage($)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState($,X){this.state=$,this.timeline.info(this.buildTimelineMessage({state:$,params:X})),this.emit($,X)}buildTimelineMessage($){return P({cid:this.id},$)}}class Hi{constructor($){this.hooks=$}isSupported($){return this.hooks.isSupported($)}createConnection($,X,le,pe){return new Yt(this.hooks,$,X,le,pe)}}var Ut=new Hi({urls:vt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!En.getWebSocketAPI()},isSupported:function(){return!!En.getWebSocketAPI()},getSocket:function(Z){return En.createWebSocket(Z)}}),Mt={urls:tr,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},pi=P({getSocket:function(Z){return En.HTTPFactory.createStreamingSocket(Z)}},Mt),Ot=P({getSocket:function(Z){return En.HTTPFactory.createPollingSocket(Z)}},Mt),Ft={isSupported:function(){return En.isXHRSupported()}},hi=new Hi(P({},pi,Ft)),St=new Hi(P({},Ot,Ft)),ue={ws:Ut,xhr_streaming:hi,xhr_polling:St},Ee=ue,ke=new Hi({file:"sockjs",urls:xt,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(Z,$){return new window.SockJS(Z,null,{js_path:d.getPath("sockjs",{useTLS:$.useTLS}),ignore_null_origin:$.ignoreNullOrigin})},beforeOpen:function(Z,$){Z.send(JSON.stringify({path:$}))}}),Xe={isSupported:function(Z){var $=En.isXDRSupported(Z.useTLS);return $}},zn=new Hi(P({},pi,Xe)),ht=new Hi(P({},Ot,Xe));Ee.xdr_streaming=zn,Ee.xdr_polling=ht,Ee.sockjs=ke;var Tt=Ee;class fi extends At{constructor(){super();var $=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){$.emit("online")},!1),window.addEventListener("offline",function(){$.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Wt=new fi;class Ct{constructor($,X,le){this.manager=$,this.transport=X,this.minPingDelay=le.minPingDelay,this.maxPingDelay=le.maxPingDelay,this.pingDelay=void 0}createConnection($,X,le,pe){pe=P({},pe,{activityTimeout:this.pingDelay});var We=this.transport.createConnection($,X,le,pe),dt=null,Bt=function(){We.unbind("open",Bt),We.bind("closed",mn),dt=A.now()},mn=ai=>{if(We.unbind("closed",mn),ai.code===1002||ai.code===1003)this.manager.reportDeath();else if(!ai.wasClean&&dt){var wi=A.now()-dt;wi<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(wi/2,this.minPingDelay))}};return We.bind("open",Bt),We}isSupported($){return this.manager.isAlive()&&this.transport.isSupported($)}}let si={decodeMessage:function(Z){try{var $=JSON.parse(Z.data),X=$.data;if(typeof X=="string")try{X=JSON.parse($.data)}catch{}var le={event:$.event,channel:$.channel,data:X};return $.user_id&&(le.user_id=$.user_id),le}catch(pe){throw{type:"MessageParseError",error:pe,data:Z.data}}},encodeMessage:function(Z){return JSON.stringify(Z)},processHandshake:function(Z){var $=si.decodeMessage(Z);if($.event==="pusher:connection_established"){if(!$.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:$.data.socket_id,activityTimeout:$.data.activity_timeout*1e3}}else{if($.event==="pusher:error")return{action:this.getCloseAction($.data),error:this.getCloseError($.data)};throw"Invalid handshake"}},getCloseAction:function(Z){return Z.code<4e3?Z.code>=1002&&Z.code<=1004?"backoff":null:Z.code===4e3?"tls_only":Z.code<4100?"refused":Z.code<4200?"backoff":Z.code<4300?"retry":"refused"},getCloseError:function(Z){return Z.code!==1e3&&Z.code!==1001?{type:"PusherError",data:{code:Z.code,message:Z.reason||Z.message}}:null}};var fn=si;class kn extends At{constructor($,X){super(),this.id=$,this.transport=X,this.activityTimeout=X.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send($){return this.transport.send($)}send_event($,X,le){var pe={event:$,data:X};return le&&(pe.channel=le),Ue.debug("Event sent",pe),this.send(fn.encodeMessage(pe))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var $={message:le=>{var pe;try{pe=fn.decodeMessage(le)}catch(We){this.emit("error",{type:"MessageParseError",error:We,data:le.data})}if(pe!==void 0){switch(Ue.debug("Event recd",pe),pe.event){case"pusher:error":this.emit("error",{type:"PusherError",data:pe.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",pe)}},activity:()=>{this.emit("activity")},error:le=>{this.emit("error",le)},closed:le=>{X(),le&&le.code&&this.handleCloseEvent(le),this.transport=null,this.emit("closed")}},X=()=>{se($,(le,pe)=>{this.transport.unbind(pe,le)})};se($,(le,pe)=>{this.transport.bind(pe,le)})}handleCloseEvent($){var X=fn.getCloseAction($),le=fn.getCloseError($);le&&this.emit("error",le),X&&this.emit(X,{action:X,error:le})}}class mi{constructor($,X){this.transport=$,this.callback=X,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=$=>{this.unbindListeners();var X;try{X=fn.processHandshake($)}catch(le){this.finish("error",{error:le}),this.transport.close();return}X.action==="connected"?this.finish("connected",{connection:new kn(X.id,this.transport),activityTimeout:X.activityTimeout}):(this.finish(X.action,{error:X.error}),this.transport.close())},this.onClosed=$=>{this.unbindListeners();var X=fn.getCloseAction($)||"backoff",le=fn.getCloseError($);this.finish(X,{error:le})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish($,X){this.callback(P({transport:this.transport,action:$},X))}}class qi{constructor($,X){this.timeline=$,this.options=X||{}}send($,X){this.timeline.isEmpty()||this.timeline.send(En.TimelineTransport.getAgent(this,$),X)}}class ir extends At{constructor($,X){super(function(le,pe){Ue.debug("No callbacks on "+$+" for "+le)}),this.name=$,this.pusher=X,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize($,X){return X(null,{auth:""})}trigger($,X){if($.indexOf("client-")!==0)throw new f("Event '"+$+"' does not start with 'client-'");if(!this.subscribed){var le=h.buildLogSuffix("triggeringClientEvents");Ue.warn(`Client event triggered before channel 'subscription_succeeded' event . ${le}`)}return this.pusher.send_event($,X,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent($){var X=$.event,le=$.data;if(X==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent($);else if(X==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent($);else if(X.indexOf("pusher_internal:")!==0){var pe={};this.emit(X,le,pe)}}handleSubscriptionSucceededEvent($){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",$.data)}handleSubscriptionCountEvent($){$.data.subscription_count&&(this.subscriptionCount=$.data.subscription_count),this.emit("pusher:subscription_count",$.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,($,X)=>{$?(this.subscriptionPending=!1,Ue.error($.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:$.message},$ instanceof k?{status:$.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:X.auth,channel_data:X.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class cr extends ir{authorize($,X){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:$},X)}}class dr{constructor(){this.reset()}get($){return Object.prototype.hasOwnProperty.call(this.members,$)?{id:$,info:this.members[$]}:null}each($){se(this.members,(X,le)=>{$(this.get(le))})}setMyID($){this.myID=$}onSubscription($){this.members=$.presence.hash,this.count=$.presence.count,this.me=this.get(this.myID)}addMember($){return this.get($.user_id)===null&&this.count++,this.members[$.user_id]=$.user_info,this.get($.user_id)}removeMember($){var X=this.get($.user_id);return X&&(delete this.members[$.user_id],this.count--),X}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var wr=function(Z,$,X,le){function pe(We){return We instanceof X?We:new X(function(dt){dt(We)})}return new(X||(X=Promise))(function(We,dt){function Bt(wi){try{ai(le.next(wi))}catch(rr){dt(rr)}}function mn(wi){try{ai(le.throw(wi))}catch(rr){dt(rr)}}function ai(wi){wi.done?We(wi.value):pe(wi.value).then(Bt,mn)}ai((le=le.apply(Z,$||[])).next())})};class ce extends cr{constructor($,X){super($,X),this.members=new dr}authorize($,X){super.authorize($,(le,pe)=>wr(this,void 0,void 0,function*(){if(!le)if(pe=pe,pe.channel_data!=null){var We=JSON.parse(pe.channel_data);this.members.setMyID(We.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let dt=h.buildLogSuffix("authorizationEndpoint");Ue.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${dt}, or the user should be signed in.`),X("Invalid auth response");return}X(le,pe)}))}handleEvent($){var X=$.event;if(X.indexOf("pusher_internal:")===0)this.handleInternalEvent($);else{var le=$.data,pe={};$.user_id&&(pe.user_id=$.user_id),this.emit(X,le,pe)}}handleInternalEvent($){var X=$.event,le=$.data;switch(X){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent($);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent($);break;case"pusher_internal:member_added":var pe=this.members.addMember(le);this.emit("pusher:member_added",pe);break;case"pusher_internal:member_removed":var We=this.members.removeMember(le);We&&this.emit("pusher:member_removed",We);break}}handleSubscriptionSucceededEvent($){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription($.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Te=n(1),Ke=n(0);class He extends cr{constructor($,X,le){super($,X),this.key=null,this.nacl=le}authorize($,X){super.authorize($,(le,pe)=>{if(le){X(le,pe);return}let We=pe.shared_secret;if(!We){X(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Ke.decode)(We),delete pe.shared_secret,X(null,pe)})}trigger($,X){throw new E("Client events are not currently supported for encrypted channels")}handleEvent($){var X=$.event,le=$.data;if(X.indexOf("pusher_internal:")===0||X.indexOf("pusher:")===0){super.handleEvent($);return}this.handleEncryptedEvent(X,le)}handleEncryptedEvent($,X){if(!this.key){Ue.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!X.ciphertext||!X.nonce){Ue.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+X);return}let le=Object(Ke.decode)(X.ciphertext);if(le.length<this.nacl.secretbox.overheadLength){Ue.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${le.length}`);return}let pe=Object(Ke.decode)(X.nonce);if(pe.length<this.nacl.secretbox.nonceLength){Ue.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${pe.length}`);return}let We=this.nacl.secretbox.open(le,pe,this.key);if(We===null){Ue.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(dt,Bt)=>{if(dt){Ue.error(`Failed to make a request to the authEndpoint: ${Bt}. Unable to fetch new key, so dropping encrypted event`);return}if(We=this.nacl.secretbox.open(le,pe,this.key),We===null){Ue.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit($,this.getDataToEmit(We))});return}this.emit($,this.getDataToEmit(We))}getDataToEmit($){let X=Object(Te.decode)($);try{return JSON.parse(X)}catch{return X}}}class lt extends At{constructor($,X){super(),this.state="initialized",this.connection=null,this.key=$,this.options=X,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var le=En.getNetwork();le.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),le.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send($){return this.connection?this.connection.send($):!1}send_event($,X,le){return this.connection?this.connection.send_event($,X,le):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var $=(X,le)=>{X?this.runner=this.strategy.connect(0,$):le.action==="error"?(this.emit("error",{type:"HandshakeError",error:le.error}),this.timeline.error({handshakeError:le.error})):(this.abortConnecting(),this.handshakeCallbacks[le.action](le))};this.runner=this.strategy.connect(0,$)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var $=this.abandonConnection();$.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn($){this.timeline.info({action:"retry",delay:$}),$>0&&this.emit("connecting_in",Math.round($/1e3)),this.retryTimer=new Y($||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Y(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Y(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Y(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks($){return P({},$,{message:X=>{this.resetActivityCheck(),this.emit("message",X)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:X=>{this.emit("error",X)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks($){return P({},$,{connected:X=>{this.activityTimeout=Math.min(this.options.activityTimeout,X.activityTimeout,X.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(X.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let $=X=>le=>{le.error&&this.emit("error",{type:"WebSocketError",error:le.error}),X(le)};return{tls_only:$(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:$(()=>{this.disconnect()}),backoff:$(()=>{this.retryIn(1e3)}),retry:$(()=>{this.retryIn(0)})}}setConnection($){this.connection=$;for(var X in this.connectionCallbacks)this.connection.bind(X,this.connectionCallbacks[X]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var $ in this.connectionCallbacks)this.connection.unbind($,this.connectionCallbacks[$]);var X=this.connection;return this.connection=null,X}}updateState($,X){var le=this.state;if(this.state=$,le!==$){var pe=$;pe==="connected"&&(pe+=" with new socket ID "+X.socket_id),Ue.debug("State changed",le+" -> "+pe),this.timeline.info({state:$,params:X}),this.emit("state_change",{previous:le,current:$}),this.emit($,X)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Pt{constructor(){this.channels={}}add($,X){return this.channels[$]||(this.channels[$]=Lt($,X)),this.channels[$]}all(){return ie(this.channels)}find($){return this.channels[$]}remove($){var X=this.channels[$];return delete this.channels[$],X}disconnect(){se(this.channels,function($){$.disconnect()})}}function Lt(Z,$){if(Z.indexOf("private-encrypted-")===0){if($.config.nacl)return Xt.createEncryptedChannel(Z,$,$.config.nacl);let X="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",le=h.buildLogSuffix("encryptedChannelSupport");throw new E(`${X}. ${le}`)}else{if(Z.indexOf("private-")===0)return Xt.createPrivateChannel(Z,$);if(Z.indexOf("presence-")===0)return Xt.createPresenceChannel(Z,$);if(Z.indexOf("#")===0)throw new m('Cannot create a channel with name "'+Z+'".');return Xt.createChannel(Z,$)}}var Pn={createChannels(){return new Pt},createConnectionManager(Z,$){return new lt(Z,$)},createChannel(Z,$){return new ir(Z,$)},createPrivateChannel(Z,$){return new cr(Z,$)},createPresenceChannel(Z,$){return new ce(Z,$)},createEncryptedChannel(Z,$,X){return new He(Z,$,X)},createTimelineSender(Z,$){return new qi(Z,$)},createHandshake(Z,$){return new mi(Z,$)},createAssistantToTheTransportManager(Z,$,X){return new Ct(Z,$,X)}},Xt=Pn;class rn{constructor($){this.options=$||{},this.livesLeft=this.options.lives||1/0}getAssistant($){return Xt.createAssistantToTheTransportManager(this,$,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Qt{constructor($,X){this.strategies=$,this.loop=!!X.loop,this.failFast=!!X.failFast,this.timeout=X.timeout,this.timeoutLimit=X.timeoutLimit}isSupported(){return Ce(this.strategies,A.method("isSupported"))}connect($,X){var le=this.strategies,pe=0,We=this.timeout,dt=null,Bt=(mn,ai)=>{ai?X(null,ai):(pe=pe+1,this.loop&&(pe=pe%le.length),pe<le.length?(We&&(We=We*2,this.timeoutLimit&&(We=Math.min(We,this.timeoutLimit))),dt=this.tryStrategy(le[pe],$,{timeout:We,failFast:this.failFast},Bt)):X(!0))};return dt=this.tryStrategy(le[pe],$,{timeout:We,failFast:this.failFast},Bt),{abort:function(){dt.abort()},forceMinPriority:function(mn){$=mn,dt&&dt.forceMinPriority(mn)}}}tryStrategy($,X,le,pe){var We=null,dt=null;return le.timeout>0&&(We=new Y(le.timeout,function(){dt.abort(),pe(!0)})),dt=$.connect(X,function(Bt,mn){Bt&&We&&We.isRunning()&&!le.failFast||(We&&We.ensureAborted(),pe(Bt,mn))}),{abort:function(){We&&We.ensureAborted(),dt.abort()},forceMinPriority:function(Bt){dt.forceMinPriority(Bt)}}}}class Pi{constructor($){this.strategies=$}isSupported(){return Ce(this.strategies,A.method("isSupported"))}connect($,X){return Ki(this.strategies,$,function(le,pe){return function(We,dt){if(pe[le].error=We,We){Yn(pe)&&X(!0);return}ye(pe,function(Bt){Bt.forceMinPriority(dt.transport.priority)}),X(null,dt)}})}}function Ki(Z,$,X){var le=ve(Z,function(pe,We,dt,Bt){return pe.connect($,X(We,Bt))});return{abort:function(){ye(le,gi)},forceMinPriority:function(pe){ye(le,function(We){We.forceMinPriority(pe)})}}}function Yn(Z){return _e(Z,function($){return!!$.error})}function gi(Z){!Z.error&&!Z.aborted&&(Z.abort(),Z.aborted=!0)}class Ir{constructor($,X,le){this.strategy=$,this.transports=X,this.ttl=le.ttl||1800*1e3,this.usingTLS=le.useTLS,this.timeline=le.timeline}isSupported(){return this.strategy.isSupported()}connect($,X){var le=this.usingTLS,pe=So(le),We=pe&&pe.cacheSkipCount?pe.cacheSkipCount:0,dt=[this.strategy];if(pe&&pe.timestamp+this.ttl>=A.now()){var Bt=this.transports[pe.transport];Bt&&(["ws","wss"].includes(pe.transport)||We>3?(this.timeline.info({cached:!0,transport:pe.transport,latency:pe.latency}),dt.push(new Qt([Bt],{timeout:pe.latency*2+1e3,failFast:!0}))):We++)}var mn=A.now(),ai=dt.pop().connect($,function wi(rr,du){rr?(ta(le),dt.length>0?(mn=A.now(),ai=dt.pop().connect($,wi)):X(rr)):(xs(le,du.transport.name,A.now()-mn,We),X(null,du))});return{abort:function(){ai.abort()},forceMinPriority:function(wi){$=wi,ai&&ai.forceMinPriority(wi)}}}}function kr(Z){return"pusherTransport"+(Z?"TLS":"NonTLS")}function So(Z){var $=En.getLocalStorage();if($)try{var X=$[kr(Z)];if(X)return JSON.parse(X)}catch{ta(Z)}return null}function xs(Z,$,X,le){var pe=En.getLocalStorage();if(pe)try{pe[kr(Z)]=Ze({timestamp:A.now(),transport:$,latency:X,cacheSkipCount:le})}catch{}}function ta(Z){var $=En.getLocalStorage();if($)try{delete $[kr(Z)]}catch{}}class Ra{constructor($,{delay:X}){this.strategy=$,this.options={delay:X}}isSupported(){return this.strategy.isSupported()}connect($,X){var le=this.strategy,pe,We=new Y(this.options.delay,function(){pe=le.connect($,X)});return{abort:function(){We.ensureAborted(),pe&&pe.abort()},forceMinPriority:function(dt){$=dt,pe&&pe.forceMinPriority(dt)}}}}class Vo{constructor($,X,le){this.test=$,this.trueBranch=X,this.falseBranch=le}isSupported(){var $=this.test()?this.trueBranch:this.falseBranch;return $.isSupported()}connect($,X){var le=this.test()?this.trueBranch:this.falseBranch;return le.connect($,X)}}class Jn{constructor($){this.strategy=$}isSupported(){return this.strategy.isSupported()}connect($,X){var le=this.strategy.connect($,function(pe,We){We&&le.abort(),X(pe,We)});return le}}function qn(Z){return function(){return Z.isSupported()}}var qc=function(Z,$,X){var le={};function pe(t1,VD,av,n1,Ul){var Uh=X(Z,t1,VD,av,n1,Ul);return le[t1]=Uh,Uh}var We=Object.assign({},$,{hostNonTLS:Z.wsHost+":"+Z.wsPort,hostTLS:Z.wsHost+":"+Z.wssPort,httpPath:Z.wsPath}),dt=Object.assign({},We,{useTLS:!0}),Bt=Object.assign({},$,{hostNonTLS:Z.httpHost+":"+Z.httpPort,hostTLS:Z.httpHost+":"+Z.httpsPort,httpPath:Z.httpPath}),mn={loop:!0,timeout:15e3,timeoutLimit:6e4},ai=new rn({minPingDelay:1e4,maxPingDelay:Z.activityTimeout}),wi=new rn({lives:2,minPingDelay:1e4,maxPingDelay:Z.activityTimeout}),rr=pe("ws","ws",3,We,ai),du=pe("wss","ws",3,dt,ai),ND=pe("sockjs","sockjs",1,Bt),rv=pe("xhr_streaming","xhr_streaming",1,Bt,wi),rs=pe("xdr_streaming","xdr_streaming",1,Bt,wi),jp=pe("xhr_polling","xhr_polling",1,Bt),Gh=pe("xdr_polling","xdr_polling",1,Bt),ov=new Qt([rr],mn),Zw=new Qt([du],mn),BD=new Qt([ND],mn),Qw=new Qt([new Vo(qn(rv),rv,rs)],mn),Jw=new Qt([new Vo(qn(jp),jp,Gh)],mn),e1=new Qt([new Vo(qn(Qw),new Pi([Qw,new Ra(Jw,{delay:4e3})]),Jw)],mn),sv=new Vo(qn(e1),e1,BD),Gl;return $.useTLS?Gl=new Pi([ov,new Ra(sv,{delay:2e3})]):Gl=new Pi([ov,new Ra(Zw,{delay:2e3}),new Ra(sv,{delay:5e3})]),new Ir(new Jn(new Vo(qn(rr),Gl,sv)),le,{ttl:18e5,timeline:$.timeline,useTLS:$.useTLS})},na=qc,ia=function(){var Z=this;Z.timeline.info(Z.buildTimelineMessage({transport:Z.name+(Z.options.useTLS?"s":"")})),Z.hooks.isInitialized()?Z.changeState("initialized"):Z.hooks.file?(Z.changeState("initializing"),d.load(Z.hooks.file,{useTLS:Z.options.useTLS},function($,X){Z.hooks.isInitialized()?(Z.changeState("initialized"),X(!0)):($&&Z.onError($),Z.onClose(),X(!1))})):Z.onClose()},lo={getRequest:function(Z){var $=new window.XDomainRequest;return $.ontimeout=function(){Z.emit("error",new g),Z.close()},$.onerror=function(X){Z.emit("error",X),Z.close()},$.onprogress=function(){$.responseText&&$.responseText.length>0&&Z.onChunk(200,$.responseText)},$.onload=function(){$.responseText&&$.responseText.length>0&&Z.onChunk(200,$.responseText),Z.emit("finished",200),Z.close()},$},abortRequest:function(Z){Z.ontimeout=Z.onerror=Z.onprogress=Z.onload=null,Z.abort()}},Ss=lo;let Ma=256*1024;class Bl extends At{constructor($,X,le){super(),this.hooks=$,this.method=X,this.url=le}start($){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},En.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send($)}close(){this.unloader&&(En.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk($,X){for(;;){var le=this.advanceBuffer(X);if(le)this.emit("chunk",{status:$,data:le});else break}this.isBufferTooLong(X)&&this.emit("buffer_too_long")}advanceBuffer($){var X=$.slice(this.position),le=X.indexOf(`
`);return le!==-1?(this.position+=le+1,X.slice(0,le)):null}isBufferTooLong($){return this.position===$.length&&$.length>Ma}}var Vl=function(Z){return Z[Z.CONNECTING=0]="CONNECTING",Z[Z.OPEN=1]="OPEN",Z[Z.CLOSED=3]="CLOSED",Z}(Vl||{}),Eo=Vl,ra=1;class Vp{constructor($,X){this.hooks=$,this.session=jh(1e3)+"/"+lu(8),this.location=su(X),this.readyState=Eo.CONNECTING,this.openStream()}send($){return this.sendRaw(JSON.stringify([$]))}ping(){this.hooks.sendHeartbeat(this)}close($,X){this.onClose($,X,!0)}sendRaw($){if(this.readyState===Eo.OPEN)try{return En.createSocketRequest("POST",Hl(zh(this.location,this.session))).start($),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose($,X,le){this.closeStream(),this.readyState=Eo.CLOSED,this.onclose&&this.onclose({code:$,reason:X,wasClean:le})}onChunk($){if($.status===200){this.readyState===Eo.OPEN&&this.onActivity();var X,le=$.data.slice(0,1);switch(le){case"o":X=JSON.parse($.data.slice(1)||"{}"),this.onOpen(X);break;case"a":X=JSON.parse($.data.slice(1)||"[]");for(var pe=0;pe<X.length;pe++)this.onEvent(X[pe]);break;case"m":X=JSON.parse($.data.slice(1)||"null"),this.onEvent(X);break;case"h":this.hooks.onHeartbeat(this);break;case"c":X=JSON.parse($.data.slice(1)||"[]"),this.onClose(X[0],X[1],!0);break}}}onOpen($){this.readyState===Eo.CONNECTING?($&&$.hostname&&(this.location.base=au(this.location.base,$.hostname)),this.readyState=Eo.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent($){this.readyState===Eo.OPEN&&this.onmessage&&this.onmessage({data:$})}onActivity(){this.onactivity&&this.onactivity()}onError($){this.onerror&&this.onerror($)}openStream(){this.stream=En.createSocketRequest("POST",Hl(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",$=>{this.onChunk($)}),this.stream.bind("finished",$=>{this.hooks.onFinished(this,$)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch($){A.defer(()=>{this.onError($),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function su(Z){var $=/([^\?]*)\/*(\??.*)/.exec(Z);return{base:$[1],queryString:$[2]}}function zh(Z,$){return Z.base+"/"+$+"/xhr_send"}function Hl(Z){var $=Z.indexOf("?")===-1?"?":"&";return Z+$+"t="+ +new Date+"&n="+ra++}function au(Z,$){var X=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(Z);return X[1]+$+X[3]}function jh(Z){return En.randomInt(Z)}function lu(Z){for(var $=[],X=0;X<Z;X++)$.push(jh(32).toString(32));return $.join("")}var cu=Vp,Q0={getReceiveURL:function(Z,$){return Z.base+"/"+$+"/xhr_streaming"+Z.queryString},onHeartbeat:function(Z){Z.sendRaw("[]")},sendHeartbeat:function(Z){Z.sendRaw("[]")},onFinished:function(Z,$){Z.onClose(1006,"Connection interrupted ("+$+")",!1)}},SD=Q0,ED={getReceiveURL:function(Z,$){return Z.base+"/"+$+"/xhr"+Z.queryString},onHeartbeat:function(){},sendHeartbeat:function(Z){Z.sendRaw("[]")},onFinished:function(Z,$){$===200?Z.reconnect():Z.onClose(1006,"Connection interrupted ("+$+")",!1)}},DD=ED,RD={getRequest:function(Z){var $=En.getXHRAPI(),X=new $;return X.onreadystatechange=X.onprogress=function(){switch(X.readyState){case 3:X.responseText&&X.responseText.length>0&&Z.onChunk(X.status,X.responseText);break;case 4:X.responseText&&X.responseText.length>0&&Z.onChunk(X.status,X.responseText),Z.emit("finished",X.status),Z.close();break}},X},abortRequest:function(Z){Z.onreadystatechange=null,Z.abort()}},MD=RD,zi={createStreamingSocket(Z){return this.createSocket(SD,Z)},createPollingSocket(Z){return this.createSocket(DD,Z)},createSocket(Z,$){return new cu(Z,$)},createXHR(Z,$){return this.createRequest(MD,Z,$)},createRequest(Z,$,X){return new Bl(Z,$,X)}},Oi=zi;Oi.createXDR=function(Z,$){return this.createRequest(Ss,Z,$)};var TD=Oi,ID={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:l,getDefaultStrategy:na,Transports:Tt,transportConnectionInitializer:ia,HTTPFactory:TD,TimelineTransport:Ie,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(Z){window.Pusher=Z;var $=()=>{this.onDocumentBody(Z.ready)};window.JSON?$():d.load("json2",{},$)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:V,jsonp:on}},onDocumentBody(Z){document.body?Z():setTimeout(()=>{this.onDocumentBody(Z)},0)},createJSONPRequest(Z,$){return new Me(Z,$)},createScriptRequest(Z){return new bt(Z)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var Z=this.getXHRAPI();return new Z},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Wt},createWebSocket(Z){var $=this.getWebSocketAPI();return new $(Z)},createSocketRequest(Z,$){if(this.isXHRSupported())return this.HTTPFactory.createXHR(Z,$);if(this.isXDRSupported($.indexOf("https:")===0))return this.HTTPFactory.createXDR(Z,$);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var Z=this.getXHRAPI();return!!Z&&new Z().withCredentials!==void 0},isXDRSupported(Z){var $=Z?"https:":"http:",X=this.getProtocol();return!!window.XDomainRequest&&X===$},addUnloadListener(Z){window.addEventListener!==void 0?window.addEventListener("unload",Z,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",Z)},removeUnloadListener(Z){window.addEventListener!==void 0?window.removeEventListener("unload",Z,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",Z)},randomInt(Z){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*Z)}},En=ID,zw=function(Z){return Z[Z.ERROR=3]="ERROR",Z[Z.INFO=6]="INFO",Z[Z.DEBUG=7]="DEBUG",Z}(zw||{}),Hp=zw;class kD{constructor($,X,le){this.key=$,this.session=X,this.events=[],this.options=le||{},this.sent=0,this.uniqueID=0}log($,X){$<=this.options.level&&(this.events.push(P({},X,{timestamp:A.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error($){this.log(Hp.ERROR,$)}info($){this.log(Hp.INFO,$)}debug($){this.log(Hp.DEBUG,$)}isEmpty(){return this.events.length===0}send($,X){var le=P({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],$(le,(pe,We)=>{pe||this.sent++,X&&X(pe,We)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class jw{constructor($,X,le,pe){this.name=$,this.priority=X,this.transport=le,this.options=pe||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect($,X){if(this.isSupported()){if(this.priority<$)return Gw(new v,X)}else return Gw(new F,X);var le=!1,pe=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),We=null,dt=function(){pe.unbind("initialized",dt),pe.connect()},Bt=function(){We=Xt.createHandshake(pe,function(rr){le=!0,wi(),X(null,rr)})},mn=function(rr){wi(),X(rr)},ai=function(){wi();var rr;rr=Ze(pe),X(new w(rr))},wi=function(){pe.unbind("initialized",dt),pe.unbind("open",Bt),pe.unbind("error",mn),pe.unbind("closed",ai)};return pe.bind("initialized",dt),pe.bind("open",Bt),pe.bind("error",mn),pe.bind("closed",ai),pe.initialize(),{abort:()=>{le||(wi(),We?We.close():pe.close())},forceMinPriority:rr=>{le||this.priority<rr&&(We?We.close():pe.close())}}}}function Gw(Z,$){return A.defer(function(){$(Z)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:Wr}=En;var J0=function(Z,$,X,le,pe,We){var dt=Wr[X];if(!dt)throw new T(X);var Bt=(!Z.enabledTransports||Q(Z.enabledTransports,$)!==-1)&&(!Z.disabledTransports||Q(Z.disabledTransports,$)===-1),mn;return Bt?(pe=Object.assign({ignoreNullOrigin:Z.ignoreNullOrigin},pe),mn=new jw($,le,We?We.getAssistant(dt):dt,pe)):mn=Kc,mn},Kc={isSupported:function(){return!1},connect:function(Z,$){var X=A.defer(function(){$(new F)});return{abort:function(){X.ensureAborted()},forceMinPriority:function(){}}}};function Uw(Z){if(Z==null)throw"You must pass an options object";if(Z.cluster==null)throw"Options object must provide a cluster";"disableStats"in Z&&Ue.warn("The disableStats option is deprecated in favor of enableStats")}let ev=(Z,$)=>{var X="socket_id="+encodeURIComponent(Z.socketId);for(var le in $.params)X+="&"+encodeURIComponent(le)+"="+encodeURIComponent($.params[le]);if($.paramsProvider!=null){let pe=$.paramsProvider();for(var le in pe)X+="&"+encodeURIComponent(le)+"="+encodeURIComponent(pe[le])}return X};var Ww=Z=>{if(typeof En.getAuthorizers()[Z.transport]>"u")throw`'${Z.transport}' is not a recognized auth transport`;return($,X)=>{let le=ev($,Z);En.getAuthorizers()[Z.transport](En,le,Z,p.UserAuthentication,X)}};let $w=(Z,$)=>{var X="socket_id="+encodeURIComponent(Z.socketId);X+="&channel_name="+encodeURIComponent(Z.channelName);for(var le in $.params)X+="&"+encodeURIComponent(le)+"="+encodeURIComponent($.params[le]);if($.paramsProvider!=null){let pe=$.paramsProvider();for(var le in pe)X+="&"+encodeURIComponent(le)+"="+encodeURIComponent(pe[le])}return X};var qw=Z=>{if(typeof En.getAuthorizers()[Z.transport]>"u")throw`'${Z.transport}' is not a recognized auth transport`;return($,X)=>{let le=$w($,Z);En.getAuthorizers()[Z.transport](En,le,Z,p.ChannelAuthorization,X)}};let Kw=(Z,$,X)=>{let le={authTransport:$.transport,authEndpoint:$.endpoint,auth:{params:$.params,headers:$.headers}};return(pe,We)=>{let dt=Z.channel(pe.channelName);X(dt,le).authorize(pe.socketId,We)}};function Yw(Z,$){let X={activityTimeout:Z.activityTimeout||s.activityTimeout,cluster:Z.cluster,httpPath:Z.httpPath||s.httpPath,httpPort:Z.httpPort||s.httpPort,httpsPort:Z.httpsPort||s.httpsPort,pongTimeout:Z.pongTimeout||s.pongTimeout,statsHost:Z.statsHost||s.stats_host,unavailableTimeout:Z.unavailableTimeout||s.unavailableTimeout,wsPath:Z.wsPath||s.wsPath,wsPort:Z.wsPort||s.wsPort,wssPort:Z.wssPort||s.wssPort,enableStats:Xw(Z),httpHost:is(Z),useTLS:PD(Z),wsHost:FD(Z),userAuthenticator:zl(Z),channelAuthorizer:tv(Z,$)};return"disabledTransports"in Z&&(X.disabledTransports=Z.disabledTransports),"enabledTransports"in Z&&(X.enabledTransports=Z.enabledTransports),"ignoreNullOrigin"in Z&&(X.ignoreNullOrigin=Z.ignoreNullOrigin),"timelineParams"in Z&&(X.timelineParams=Z.timelineParams),"nacl"in Z&&(X.nacl=Z.nacl),X}function is(Z){return Z.httpHost?Z.httpHost:Z.cluster?`sockjs-${Z.cluster}.pusher.com`:s.httpHost}function FD(Z){return Z.wsHost?Z.wsHost:Es(Z.cluster)}function Es(Z){return`ws-${Z}.pusher.com`}function PD(Z){return En.getProtocol()==="https:"?!0:Z.forceTLS!==!1}function Xw(Z){return"enableStats"in Z?Z.enableStats:"disableStats"in Z?!Z.disableStats:!1}function zl(Z){let $=Object.assign(Object.assign({},s.userAuthentication),Z.userAuthentication);return"customHandler"in $&&$.customHandler!=null?$.customHandler:Ww($)}function zp(Z,$){let X;return"channelAuthorization"in Z?X=Object.assign(Object.assign({},s.channelAuthorization),Z.channelAuthorization):(X={transport:Z.authTransport||s.authTransport,endpoint:Z.authEndpoint||s.authEndpoint},"auth"in Z&&("params"in Z.auth&&(X.params=Z.auth.params),"headers"in Z.auth&&(X.headers=Z.auth.headers)),"authorizer"in Z&&(X.customHandler=Kw($,X,Z.authorizer))),X}function tv(Z,$){let X=zp(Z,$);return"customHandler"in X&&X.customHandler!=null?X.customHandler:qw(X)}class Yi extends At{constructor($){super(function(X,le){Ue.debug(`No callbacks on watchlist events for ${X}`)}),this.pusher=$,this.bindWatchlistInternalEvent()}handleEvent($){$.data.events.forEach(X=>{this.emit(X.name,X)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",$=>{var X=$.event;X==="pusher_internal:watchlist_events"&&this.handleEvent($)})}}function jl(){let Z,$;return{promise:new Promise((le,pe)=>{Z=le,$=pe}),resolve:Z,reject:$}}var nv=jl;class OD extends At{constructor($){super(function(X,le){Ue.debug("No callbacks on user for "+X)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(X,le)=>{if(X){Ue.warn(`Error during signin: ${X}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:le.auth,user_data:le.user_data})},this.pusher=$,this.pusher.connection.bind("state_change",({previous:X,current:le})=>{X!=="connected"&&le==="connected"&&this._signin(),X==="connected"&&le!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Yi($),this.pusher.connection.bind("message",X=>{var le=X.event;le==="pusher:signin_success"&&this._onSigninSuccess(X.data),this.serverToUserChannel&&this.serverToUserChannel.name===X.channel&&this.serverToUserChannel.handleEvent(X)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess($){try{this.user_data=JSON.parse($.user_data)}catch{Ue.error(`Failed parsing user data after signin: ${$.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ue.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){let $=X=>{X.subscriptionPending&&X.subscriptionCancelled?X.reinstateSubscription():!X.subscriptionPending&&this.pusher.connection.state==="connected"&&X.subscribe()};this.serverToUserChannel=new ir(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((X,le)=>{X.indexOf("pusher_internal:")===0||X.indexOf("pusher:")===0||this.emit(X,le)}),$(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:$,resolve:X,reject:le}=nv();$.done=!1;let pe=()=>{$.done=!0};$.then(pe).catch(pe),this.signinDonePromise=$,this._signinDoneResolve=X}}class Ar{static ready(){Ar.isReady=!0;for(var $=0,X=Ar.instances.length;$<X;$++)Ar.instances[$].connect()}static getClientFeatures(){return ne(de({ws:En.Transports.ws},function($){return $.isSupported({})}))}constructor($,X){LD($),Uw(X),this.key=$,this.config=Yw(X,this),this.channels=Xt.createChannels(),this.global_emitter=new At,this.sessionID=En.randomInt(1e9),this.timeline=new kD(this.key,this.sessionID,{cluster:this.config.cluster,features:Ar.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Hp.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=Xt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+En.TimelineTransport.name}));var le=pe=>En.getDefaultStrategy(this.config,pe,J0);this.connection=Xt.createConnectionManager(this.key,{getStrategy:le,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",pe=>{var We=pe.event,dt=We.indexOf("pusher_internal:")===0;if(pe.channel){var Bt=this.channel(pe.channel);Bt&&Bt.handleEvent(pe)}dt||this.global_emitter.emit(pe.event,pe.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",pe=>{Ue.warn(pe)}),Ar.instances.push(this),this.timeline.info({instances:Ar.instances.length}),this.user=new OD(this),Ar.isReady&&this.connect()}channel($){return this.channels.find($)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var $=this.connection.isUsingTLS(),X=this.timelineSender;this.timelineSenderTimer=new B(6e4,function(){X.send($)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind($,X,le){return this.global_emitter.bind($,X,le),this}unbind($,X,le){return this.global_emitter.unbind($,X,le),this}bind_global($){return this.global_emitter.bind_global($),this}unbind_global($){return this.global_emitter.unbind_global($),this}unbind_all($){return this.global_emitter.unbind_all(),this}subscribeAll(){var $;for($ in this.channels.channels)this.channels.channels.hasOwnProperty($)&&this.subscribe($)}subscribe($){var X=this.channels.add($,this);return X.subscriptionPending&&X.subscriptionCancelled?X.reinstateSubscription():!X.subscriptionPending&&this.connection.state==="connected"&&X.subscribe(),X}unsubscribe($){var X=this.channels.find($);X&&X.subscriptionPending?X.cancelSubscription():(X=this.channels.remove($),X&&X.subscribed&&X.unsubscribe())}send_event($,X,le){return this.connection.send_event($,X,le)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Ar.instances=[],Ar.isReady=!1,Ar.logToConsole=!1,Ar.Runtime=En,Ar.ScriptReceivers=En.ScriptReceivers,Ar.DependenciesReceivers=En.DependenciesReceivers,Ar.auth_callbacks=En.auth_callbacks;var iv=t.default=Ar;function LD(Z){if(Z==null)throw"You must pass your app key when you instantiate Pusher."}En.setup(Ar)}])})});var Dq=An((dP,uP)=>{"use strict";(function(e,t){typeof dP=="object"&&typeof uP<"u"?uP.exports=t((th(),wu(pG)),(r0(),wu(sW)),(Hy(),wu(rW)),(K2(),wu(H$)),($2(),wu(f$)),(ZS(),wu(ZG)),(U2(),wu(KW)),(Sr(),wu(lG))):typeof define=="function"&&define.amd?define(["ol/control/Control","ol/style/Style","ol/style/Icon","ol/layer/Vector","ol/source/Vector","ol/geom/Point","ol/Feature","ol/proj"],t):(e=typeof globalThis<"u"?globalThis:e||self).Geocoder=t(e.ol.control.Control,e.ol.style.Style,e.ol.style.Icon,e.ol.layer.Vector,e.ol.source.Vector,e.ol.geom.Point,e.ol.Feature,e.ol.proj)})(dP,function(e,t,n,i,r,o,s,a){"use strict";function l(Me){return Me&&typeof Me=="object"&&"default"in Me?Me:{default:Me}}function d(Me){if(Me&&Me.__esModule)return Me;var be=Object.create(null);return Me&&Object.keys(Me).forEach(function(ge){if(ge!=="default"){var Ie=Object.getOwnPropertyDescriptor(Me,ge);Object.defineProperty(be,ge,Ie.get?Ie:{enumerable:!0,get:function(){return Me[ge]}})}}),be.default=Me,Object.freeze(be)}var c=l(e),u=l(t),h=l(n),p=l(i),f=l(r),m=l(o),g=l(s),v=d(a),w="gcd-container",E="gcd-button-control",T="gcd-input-query",F="gcd-input-label",k="gcd-input-search",L={namespace:"ol-geocoder",spin:"gcd-pseudo-rotate",hidden:"gcd-hidden",address:"gcd-address",country:"gcd-country",city:"gcd-city",road:"gcd-road",olControl:"ol-control",glass:{container:"gcd-gl-container",control:"gcd-gl-control",button:"gcd-gl-btn",input:"gcd-gl-input",expanded:"gcd-gl-expanded",search:"gcd-gl-search",result:"gcd-gl-result"},inputText:{container:"gcd-txt-container",control:"gcd-txt-control",label:"gcd-txt-label",input:"gcd-txt-input",search:"gcd-txt-search",icon:"gcd-txt-glass",result:"gcd-txt-result"}},V={containerId:w,buttonControlId:E,inputQueryId:T,inputLabelId:F,inputSearchId:k,cssClasses:L};let j=Object.freeze({__proto__:null,containerId:w,buttonControlId:E,inputQueryId:T,inputLabelId:F,inputSearchId:k,cssClasses:L,default:V}),z="addresschosen",R="nominatim",I="reverse",N="glass-button",b="text-input",C="bing",x="mapquest",_="opencage",D="osm",M="photon",O="https://dev.virtualearth.net/REST/v1/Locations",U="https://nominatim.openstreetmap.org/search",G="https://api.opencagedata.com/geocode/v1/json?",Y="https://nominatim.openstreetmap.org/search",B="https://photon.komoot.io/api/",K={provider:D,label:"",placeholder:"Search for an address",featureStyle:null,targetType:N,lang:"en-US",limit:5,keepOpen:!1,preventDefault:!1,preventPanning:!1,preventMarker:!1,defaultFlyResolution:10,debug:!1};function A(Me,be="Assertion failed"){if(!Me)throw typeof Error<"u"?new Error(be):be}function P(Me){let be=function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){let ge=Date.now();performance.timing&&performance.timing.navigationStart&&(ge=performance.timing.navigationStart),window.performance.now=()=>Date.now()-ge}return window.performance.now()}().toString(36);return Me?Me+be:be}function W(Me){return/^\d+$/u.test(Me)}function Q(Me,be,ge){if(Array.isArray(Me))return void Me.forEach(tt=>Q(tt,be));let Ie=Array.isArray(be)?be:be.split(/\s+/u),ct=Ie.length;for(;ct--;)ne(Me,Ie[ct])||fe(Me,Ie[ct],ge)}function se(Me,be,ge){if(Array.isArray(Me))return void Me.forEach(tt=>se(tt,be,ge));let Ie=Array.isArray(be)?be:be.split(/\s+/u),ct=Ie.length;for(;ct--;)ne(Me,Ie[ct])&&de(Me,Ie[ct],ge)}function ne(Me,be){return Me.classList?Me.classList.contains(be):ee(be).test(Me.className)}function ie(Me){for(;Me.firstChild;)Me.firstChild.remove()}function ye(Me,be){return Me.replace(/\{\s*([\w-]+)\s*\}/gu,(ge,Ie)=>{let ct=be[Ie]===void 0?"":be[Ie];return String(ct).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")})}function ve(Me,be){let ge;if(Array.isArray(Me)){if(ge=document.createElement(Me[0]),Me[1].id&&(ge.id=Me[1].id),Me[1].classname&&(ge.className=Me[1].classname),Me[1].attr){let{attr:ct}=Me[1];if(Array.isArray(ct)){let tt=-1;for(;++tt<ct.length;)ge.setAttribute(ct[tt].name,ct[tt].value)}else ge.setAttribute(ct.name,ct.value)}}else ge=document.createElement(Me);ge.innerHTML=be;let Ie=document.createDocumentFragment();for(;ge.childNodes[0];)Ie.append(ge.childNodes[0]);return ge.append(Ie),ge}function ee(Me){return new RegExp(`(^|\\s+) ${Me} (\\s+|$)`,"u")}function fe(Me,be,ge){Me.classList?Me.classList.add(be):Me.className=`${Me.className} ${be}`.trim(),ge&&W(ge)&&window.setTimeout(()=>de(Me,be),ge)}function de(Me,be,ge){Me.classList?Me.classList.remove(be):Me.className=Me.className.replace(ee(be)," ").trim(),ge&&W(ge)&&window.setTimeout(()=>fe(Me,be),ge)}let he=j.cssClasses;class Ce{constructor(be){this.options=be,this.els=this.createControl()}createControl(){let be,ge,Ie;return this.options.targetType===b?(ge=`${he.namespace} ${he.inputText.container}`,be=ve(["div",{id:j.containerId,classname:ge}],Ce.input),Ie={container:be,control:be.querySelector(`.${he.inputText.control}`),label:be.querySelector(`.${he.inputText.label}`),input:be.querySelector(`.${he.inputText.input}`),search:be.querySelector(`.${he.inputText.search}`),result:be.querySelector(`.${he.inputText.result}`)},Ie.label.innerHTML=this.options.label):(ge=`${he.namespace} ${he.glass.container}`,be=ve(["div",{id:j.containerId,classname:ge}],Ce.glass),Ie={container:be,control:be.querySelector(`.${he.glass.control}`),button:be.querySelector(`.${he.glass.button}`),input:be.querySelector(`.${he.glass.input}`),search:be.querySelector(`.${he.glass.search}`),result:be.querySelector(`.${he.glass.result}`)}),Ie.input.placeholder=this.options.placeholder,Ie}}function _e(Me){return new Promise((be,ge)=>{let Ie=function(tt,vt){return vt&&typeof vt=="object"&&(tt+=(/\?/u.test(tt)?"&":"?")+xe(vt)),tt}(Me.url,Me.data),ct={method:"GET",mode:"cors",credentials:"same-origin"};Me.jsonp?function(tt,vt,tr){let{head:xt}=document,wt=document.createElement("script"),Sn=`f${Math.round(Math.random()*Date.now())}`;wt.setAttribute("src",`${tt+(tt.indexOf("?")>0?"&":"?")+vt}=${Sn}`),window[Sn]=At=>{window[Sn]=void 0,setTimeout(()=>xt.removeChild(wt),0),tr(At)},xt.append(wt)}(Ie,Me.callbackName,be):fetch(Ie,ct).then(tt=>tt.json()).then(be).catch(ge)})}function xe(Me){return Object.keys(Me).reduce((be,ge)=>(be.push(typeof Me[ge]=="object"?xe(Me[ge]):`${encodeURIComponent(ge)}=${encodeURIComponent(Me[ge])}`),be),[]).join("&")}Ce.glass=`
  <div class="${he.glass.control} ${he.olControl}">
    <button type="button" id="${j.buttonControlId}" class="${he.glass.button}"></button>
    <input type="text" id="${j.inputQueryId}" class="${he.glass.input}" autocomplete="off" placeholder="Search ...">
    <a id="${j.inputSearchId}" class="${he.glass.search} ${he.hidden}"></a>
  </div>
  <ul class="${he.glass.result}"></ul>
`,Ce.input=`
  <div class="${he.inputText.control}">
    <label type="button" id="${j.inputSearchId}" class="${he.inputText.label}"></label>
    <input type="text" id="${j.inputQueryId}" class="${he.inputText.input}" autocomplete="off" placeholder="Search ...">
    <span class="${he.inputText.icon}"></span>
    <button type="button" id="${j.inputSearchId}" class="${he.inputText.search} ${he.hidden}"></button>
  </div>
  <ul class="${he.inputText.result}"></ul>
`;class ze{constructor(){this.settings={url:B,params:{q:"",limit:10,lang:"en"},langs:["de","it","fr","en"]}}getParameters(be){return be.lang=be.lang.toLowerCase(),{url:this.settings.url,params:{q:be.query,limit:be.limit||this.settings.params.limit,lang:this.settings.langs.includes(be.lang)?be.lang:this.settings.params.lang}}}handleResponse(be){return be.features.length===0?[]:be.features.map(ge=>({lon:ge.geometry.coordinates[0],lat:ge.geometry.coordinates[1],address:{name:ge.properties.name,postcode:ge.properties.postcode,city:ge.properties.city,state:ge.properties.state,country:ge.properties.country},original:{formatted:ge.properties.name,details:ge.properties}}))}}class Ve{constructor(be){this.settings=Le(re({url:Y},be),{params:{q:"",format:"json",addressdetails:1,limit:10,countrycodes:"",viewbox:"","accept-language":"en-US"}})}getParameters(be){return{url:this.settings.url,params:{q:be.query,format:this.settings.params.format,addressdetails:this.settings.params.addressdetails,limit:be.limit||this.settings.params.limit,countrycodes:be.countrycodes||this.settings.params.countrycodes,viewbox:be.viewbox||this.settings.params.viewbox,"accept-language":be.lang||this.settings.params["accept-language"]}}}handleResponse(be){return be.length===0?[]:be.map(ge=>({lon:ge.lon,lat:ge.lat,bbox:ge.boundingbox,address:{name:ge.display_name,road:ge.address.road||"",houseNumber:ge.address.house_number||"",postcode:ge.address.postcode,city:ge.address.city||ge.address.town,state:ge.address.state,country:ge.address.country},original:{formatted:ge.display_name,details:ge.address}}))}}class Ze{constructor(){this.settings={url:U,params:{q:"",key:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}}getParameters(be){return{url:this.settings.url,params:{q:be.query,key:be.key,format:"json",addressdetails:1,limit:be.limit||this.settings.params.limit,countrycodes:be.countrycodes||this.settings.params.countrycodes,"accept-language":be.lang||this.settings.params["accept-language"]}}}handleResponse(be){return be.length===0?[]:be.map(ge=>({lon:ge.lon,lat:ge.lat,address:{name:ge.address.neighbourhood||"",road:ge.address.road||"",postcode:ge.address.postcode,city:ge.address.city||ge.address.town,state:ge.address.state,country:ge.address.country},original:{formatted:ge.display_name,details:ge.address}}))}}class mt{constructor(){this.settings={url:O,callbackName:"jsonp",params:{query:"",key:"",includeNeighborhood:0,maxResults:10}}}getParameters(be){return{url:this.settings.url,callbackName:this.settings.callbackName,params:{query:be.query,key:be.key,includeNeighborhood:be.includeNeighborhood||this.settings.params.includeNeighborhood,maxResults:be.maxResults||this.settings.params.maxResults}}}handleResponse(be){let{resources:ge}=be.resourceSets[0];return ge.length===0?[]:ge.map(Ie=>({lon:Ie.point.coordinates[1],lat:Ie.point.coordinates[0],address:{name:Ie.name},original:{formatted:Ie.address.formattedAddress,details:Ie.address}}))}}class Ue{constructor(){this.settings={url:G,params:{q:"",key:"",limit:10,countrycode:"",pretty:1,no_annotations:1}}}getParameters(be){return{url:this.settings.url,params:{q:be.query,key:be.key,limit:be.limit||this.settings.params.limit,countrycode:be.countrycodes||this.settings.params.countrycodes}}}handleResponse(be){return be.results.length===0?[]:be.results.map(ge=>({lon:ge.geometry.lng,lat:ge.geometry.lat,address:{name:ge.components.house_number||"",road:ge.components.road||"",postcode:ge.components.postcode,city:ge.components.city||ge.components.town,state:ge.components.state,country:ge.components.country},original:{formatted:ge.formatted,details:ge.components}}))}}let nt=j.cssClasses;class on{constructor(be,ge){this.Base=be,this.layerName=P("geocoder-layer-"),this.layer=new p.default({background:"transparent",name:this.layerName,source:new f.default,displayInLayerSwitcher:!1}),this.options=be.options,this.options.provider=typeof this.options.provider=="string"?this.options.provider.toLowerCase():this.options.provider,this.provider=this.newProvider(),this.els=ge,this.container=this.els.container,this.registeredListeners={mapClick:!1},this.setListeners()}setListeners(){let be=ge=>{ge.stopPropagation(),ne(this.els.control,nt.glass.expanded)?this.collapse():this.expand()};this.els.input.addEventListener("keypress",ge=>{let Ie=ge.target.value.trim();(ge.key?ge.key==="Enter":ge.which?ge.which===13:ge.keyCode&&ge.keyCode===13)&&(ge.preventDefault(),this.query(Ie))},!1),this.els.input.addEventListener("click",ge=>ge.stopPropagation(),!1),this.els.input.addEventListener("input",ge=>{ge.target.value.trim().length!==0?se(this.els.search,nt.hidden):Q(this.els.search,nt.hidden)},!1),this.els.search.addEventListener("click",()=>{this.els.input.focus(),this.query(this.els.input.value)},!1),this.options.targetType===N&&this.els.button.addEventListener("click",be,!1)}query(be){this.provider||(this.provider=this.newProvider());let ge=this.provider.getParameters({query:be,key:this.options.key,lang:this.options.lang,countrycodes:this.options.countrycodes,viewbox:this.options.viewbox,limit:this.options.limit});this.clearResults(this.options.keepOpen===!1),Q(this.els.search,nt.spin);let Ie={url:ge.url,data:ge.params};ge.callbackName&&(Ie.jsonp=!0,Ie.callbackName=ge.callbackName),_e(Ie).then(ct=>{this.options.debug&&console.info(ct),se(this.els.search,nt.spin);let tt=this.provider.handleResponse(ct);tt&&(this.createList(tt),this.listenMapClick())}).catch(()=>{se(this.els.search,nt.spin);let ct=ve("li","<h5>Error! No internet connection?</h5>");this.els.result.append(ct)})}createList(be){let ge=this.els.result;be.forEach(Ie=>{let ct;if(this.options.provider===D?ct=`<span class="${nt.road}">${Ie.address.name}</span>`:ct=this.addressTemplate(Ie.address),be.length==1)this.chosen(Ie,ct,Ie.address,Ie.original);else{let tt=ve("li",`<a href="#">${ct}</a>`);tt.addEventListener("click",vt=>{vt.preventDefault(),this.chosen(Ie,ct,Ie.address,Ie.original)},!1),ge.append(tt)}})}chosen(be,ge,Ie,ct){let tt=this.Base.getMap(),vt=[Number.parseFloat(be.lon),Number.parseFloat(be.lat)],tr=tt.getView().getProjection(),xt=v.transform(vt,"EPSG:4326",tr),{bbox:wt}=be;wt&&(wt=v.transformExtent([parseFloat(wt[2]),parseFloat(wt[0]),parseFloat(wt[3]),parseFloat(wt[1])],"EPSG:4326",tr));let Sn={formatted:ge,details:Ie,original:ct};if(this.clearResults(!0),this.options.preventDefault===!0||this.options.preventMarker===!0)this.Base.dispatchEvent({type:z,address:Sn,coordinate:xt,bbox:wt,place:be});else{let At=this.createFeature(xt,Sn);this.Base.dispatchEvent({type:z,address:Sn,feature:At,coordinate:xt,bbox:wt,place:be})}this.options.preventDefault!==!0&&this.options.preventPanning!==!0&&(wt?tt.getView().fit(wt,{duration:500}):tt.getView().animate({center:xt,resolution:this.options.defaultFlyResolution,duration:500}))}createFeature(be){let ge=new g.default(new m.default(be));return this.addLayer(),ge.setStyle(this.options.featureStyle),ge.setId(P("geocoder-ft-")),this.getSource().addFeature(ge),ge}addressTemplate(be){let ge=[];return be.name&&ge.push(['<span class="',nt.road,'">{name}</span>'].join("")),(be.road||be.building||be.house_number)&&ge.push(['<span class="',nt.road,'">{building} {road} {house_number}</span>'].join("")),(be.city||be.town||be.village)&&ge.push(['<span class="',nt.city,'">{postcode} {city} {town} {village}</span>'].join("")),(be.state||be.country)&&ge.push(['<span class="',nt.country,'">{state} {country}</span>'].join("")),ye(ge.join("<br>"),be)}newProvider(){switch(this.options.provider){case D:return new Ve(this.options);case x:return new Ze;case M:return new ze;case C:return new mt;case _:return new Ue;default:return this.options.provider}}expand(){se(this.els.input,nt.spin),Q(this.els.control,nt.glass.expanded),window.setTimeout(()=>this.els.input.focus(),100),this.listenMapClick()}collapse(){this.els.input.value="",this.els.input.blur(),Q(this.els.search,nt.hidden),se(this.els.control,nt.glass.expanded),ie(this.els.result)}listenMapClick(){if(this.registeredListeners.mapClick)return;let be=this,ge=this.Base.getMap().getTargetElement();this.registeredListeners.mapClick=!0,ge.addEventListener("click",{handleEvent(Ie){ge.removeEventListener(Ie.type,this,!1),be.registeredListeners.mapClick=!1}},!1)}clearResults(be){be&&this.options.targetType===N?this.collapse():ie(this.els.result)}getSource(){return this.layer.getSource()}addLayer(){let be=!1,ge=this.Base.getMap();ge.getLayers().forEach(Ie=>{Ie===this.layer&&(be=!0)}),be||ge.addLayer(this.layer)}}class bt extends c.default{constructor(be=R,ge){A(typeof be=="string","@param `type` should be string!"),A(be===R||be===I,`@param 'type' should be '${R}'
      or '${I}'!`);let Ie=re(Le(re({},K),{featureStyle:[new u.default({image:new h.default({anchor:[.5,1],src:'data:image/svg+xml;charset=utf-8,<svg width="26" height="42" viewBox="0 0 26 42" xmlns="http://www.w3.org/2000/svg"><polygon points="1,18 14,42 25,18" fill="rgb(75,75,75)" /><ellipse cx="13" cy="13" rx="13" ry="13" fill="rgb(75,75,75)" /><ellipse cx="13" cy="14" rx="6" ry="6" fill="yellow" /></svg>'})})]}),ge),ct,tt,vt=new Ce(Ie);if(be===R&&(ct=vt.els.container),super(re({element:ct},Ie)),!(this instanceof bt))return new bt;this.options=Ie,this.container=ct,be===R&&(tt=new on(this,vt.els),this.layer=tt.layer)}getLayer(){return this.layer}getSource(){return this.getLayer().getSource()}setProvider(be){this.options.provider=be}setProviderKey(be){this.options.key=be}}return bt})});var kq=An((Iq,mP)=>{"use strict";(function(e){typeof Iq=="object"&&typeof mP<"u"?mP.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=e()})(function(){return function e(t,n,i){function r(a,l){if(!n[a]){if(!t[a]){var d=typeof Jh=="function"&&Jh;if(!l&&d)return d(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(h){return r(t[a][1][h]||h)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o=typeof Jh=="function"&&Jh,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";let i=e("fs"),r=e("fast-csv"),o=e("dayjs/plugin/customParseFormat"),s=e("dayjs/plugin/utc"),a=e("dayjs").extend(o).extend(s),l=e("../utils/stream-buf"),{fs:{exists:d}}=e("../utils/utils"),c={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};t.exports=class{constructor(u){this.workbook=u,this.worksheet=null}readFile(u,h){return Et(this,null,function*(){if(h=h||{},!(yield d(u)))throw new Error("File not found: "+u);let p=i.createReadStream(u),f=yield this.read(p,h);return p.close(),f})}read(u,h){return h=h||{},new Promise((p,f)=>{let m=this.workbook.addWorksheet(h.sheetName),g=h.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=h.map||function(E){if(E==="")return null;let T=Number(E);if(!Number.isNaN(T)&&T!==1/0)return T;let F=g.reduce((L,V)=>{if(L)return L;let j=a(E,V,!0);return j.isValid()?j:null},null);if(F)return new Date(F.valueOf());let k=c[E];return k!==void 0?k:E},w=r.parse(h.parserOptions).on("data",E=>{m.addRow(E.map(v))}).on("end",()=>{w.emit("worksheet",m)});w.on("worksheet",p).on("error",f),u.pipe(w)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(u,h){return new Promise((p,f)=>{h=h||{};let m=this.workbook.getWorksheet(h.sheetName||h.sheetId),g=r.format(h.formatterOptions);u.on("finish",()=>{p()}),g.on("error",f),g.pipe(u);let{dateFormat:v,dateUTC:w}=h,E=h.map||(k=>{if(k){if(k.text||k.hyperlink)return k.hyperlink||k.text||"";if(k.formula||k.result)return k.result||"";if(k instanceof Date)return v?w?a.utc(k).format(v):a(k).format(v):w?a.utc(k).format():a(k).format();if(k.error)return k.error;if(typeof k=="object")return JSON.stringify(k)}return k}),T=h.includeEmptyRows===void 0||h.includeEmptyRows,F=1;m&&m.eachRow((k,L)=>{if(T)for(;F++<L-1;)g.write([]);let{values:V}=k;V.shift(),g.write(V.map(E)),F=L}),g.end()})}writeFile(u,h){let p={encoding:(h=h||{}).encoding||"utf8"},f=i.createWriteStream(u,p);return this.write(f,h)}writeBuffer(u){return Et(this,null,function*(){let h=new l;return yield this.write(h,u),h.read()})}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,t,n){"use strict";let i=e("../utils/col-cache");class r{constructor(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,a)if(typeof a=="string"){let d=i.decodeAddress(a);this.nativeCol=d.col+l,this.nativeColOff=0,this.nativeRow=d.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof r||s==null?s:new r(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}t.exports=r},{"../utils/col-cache":19}],3:[function(e,t,n){"use strict";let i=e("../utils/col-cache"),r=e("../utils/under-dash"),o=e("./enums"),{slideFormula:s}=e("../utils/shared-formula"),a=e("./note");class l{constructor(u,h,p){if(!u||!h)throw new Error("A Cell needs a Row");this._row=u,this._column=h,i.validateAddress(p),this._address=p,this._value=d.create(l.Types.Null,this),this.style=this._mergeStyle(u.style,h.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(u){this.style.numFmt=u}get font(){return this.style.font}set font(u){this.style.font=u}get alignment(){return this.style.alignment}set alignment(u){this.style.alignment=u}get border(){return this.style.border}set border(u){this.style.border=u}get fill(){return this.style.fill}set fill(u){this.style.fill=u}get protection(){return this.style.protection}set protection(u){this.style.protection=u}_mergeStyle(u,h,p){let f=u&&u.numFmt||h&&h.numFmt;f&&(p.numFmt=f);let m=u&&u.font||h&&h.font;m&&(p.font=m);let g=u&&u.alignment||h&&h.alignment;g&&(p.alignment=g);let v=u&&u.border||h&&h.border;v&&(p.border=v);let w=u&&u.fill||h&&h.fill;w&&(p.fill=w);let E=u&&u.protection||h&&h.protection;return E&&(p.protection=E),p}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(u,h){this._value.release(),this._value=d.create(l.Types.Merge,this,u),h||(this.style=u.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=d.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(u){return this._value.type===l.Types.Merge&&this._value.isMergedTo(u)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(u){this.type!==l.Types.Merge?(this._value.release(),this._value=d.create(d.getType(u),this,u)):this._value.master.value=u}get note(){return this._comment&&this._comment.note}set note(u){this._comment=new a(u)}get text(){return this._value.toString()}get html(){return r.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(u){this.type===l.Types.String&&(this._value=d.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:u}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:u}=this._row;return{sheetName:u.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(u){this.names=[u]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(u){let{definedNames:h}=this.workbook;h.removeAllNames(this.fullAddress),u.forEach(p=>{h.addEx(this.fullAddress,p)})}addName(u){this.workbook.definedNames.addEx(this.fullAddress,u)}removeName(u){this.workbook.definedNames.removeEx(this.fullAddress,u)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(u){this._dataValidations.add(this.address,u)}get model(){let{model:u}=this._value;return u.style=this.style,this._comment&&(u.comment=this._comment.model),u}set model(u){if(this._value.release(),this._value=d.create(u.type,this),this._value.model=u,u.comment)switch(u.comment.type){case"note":this._comment=a.fromModel(u.comment)}u.style?this.style=u.style:this.style={}}}l.Types=o.ValueType;let d={getType:c=>c==null?l.Types.Null:c instanceof String||typeof c=="string"?l.Types.String:typeof c=="number"?l.Types.Number:typeof c=="boolean"?l.Types.Boolean:c instanceof Date?l.Types.Date:c.text&&c.hyperlink?l.Types.Hyperlink:c.formula||c.sharedFormula?l.Types.Formula:c.richText?l.Types.RichText:c.sharedString?l.Types.SharedString:c.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(c){this.model={address:c.address,type:l.Types.Null}}get value(){return null}set value(c){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Number,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.String,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Date,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Hyperlink,text:u?u.text:void 0,hyperlink:u?u.hyperlink:void 0},u&&u.tooltip&&(this.model.tooltip=u.tooltip)}get value(){let c={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(c.tooltip=this.model.tooltip),c}set value(c){this.model={text:c.text,hyperlink:c.hyperlink},c.tooltip&&(this.model.tooltip=c.tooltip)}get text(){return this.model.text}set text(c){this.model.text=c}get hyperlink(){return this.model.hyperlink}set hyperlink(c){this.model.hyperlink=c}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(c,u){this.cell=c,this.model={address:c.address,type:l.Types.Formula,shareType:u?u.shareType:void 0,ref:u?u.ref:void 0,formula:u?u.formula:void 0,sharedFormula:u?u.sharedFormula:void 0,result:u?u.result:void 0}}_copyModel(c){let u={},h=p=>{let f=c[p];f&&(u[p]=f)};return h("formula"),h("result"),h("ref"),h("shareType"),h("sharedFormula"),u}get value(){return this._copyModel(this.model)}set value(c){this.model=this._copyModel(c)}validate(c){switch(d.getType(c)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(c){this.model.formula=c}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(c){this.model.result=c}get type(){return l.Types.Formula}get effectiveType(){let c=this.model.result;return c==null?o.ValueType.Null:c instanceof String||typeof c=="string"?o.ValueType.String:typeof c=="number"?o.ValueType.Number:c instanceof Date?o.ValueType.Date:c.text&&c.hyperlink?o.ValueType.Hyperlink:c.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(c){this.model.address=c}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:c}=this.cell,u=c.findCell(this.model.sharedFormula);this._translatedFormula=u&&s(u.formula,u.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Merge,master:u?u.address:void 0},this._master=u,u&&u.addMergeRef()}get value(){return this._master.value}set value(c){c instanceof l?(this._master&&this._master.releaseMergeRef(),c.addMergeRef(),this._master=c):this._master.value=c}isMergedTo(c){return c===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.String,value:JSON.stringify(u),rawValue:u}}get value(){return this.model.rawValue}set value(c){this.model.rawValue=c,this.model.value=JSON.stringify(c)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.SharedString,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.String,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}toString(){return this.model.value.richText.map(c=>c.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Boolean,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(c,u){this.model={address:c.address,type:l.Types.Error,value:u}}get value(){return this.model.value}set value(c){this.model.value=c}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(c){this.model.address=c}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((c,u)=>(c[u.t]=u.f,c),[]),create(c,u,h){let p=this.types[c];if(!p)throw new Error("Could not create Value of type "+c);return new p(u,h)}};t.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,t,n){"use strict";let i=e("../utils/under-dash"),r=e("./enums"),o=e("../utils/col-cache");class s{constructor(l,d,c){this._worksheet=l,this._number=d,c!==!1&&(this.defn=c)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((d,c)=>{this._worksheet.getCell(c+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&i.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,d){let c=this.number;d||(d=l,l=null),this._worksheet.eachRow(l,(u,h)=>{d(u.getCell(c),h)})}get values(){let l=[];return this.eachCell((d,c)=>{d&&d.type!==r.ValueType.Null&&(l[c]=d.value)}),l}set values(l){if(!l)return;let d=this.number,c=0;l.hasOwnProperty("0")&&(c=1),l.forEach((u,h)=>{this._worksheet.getCell(h+c,d).value=u})}_applyStyle(l,d){return this.style[l]=d,this.eachCell(c=>{c[l]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let d=[],c=null;return l&&l.forEach((u,h)=>{u.isDefault?c&&(c=null):c&&u.equivalentTo(c)?c.max=h+1:(c={min:h+1,max:h+1,width:u.width!==void 0?u.width:9,style:u.style,isCustomWidth:u.isCustomWidth,hidden:u.hidden,outlineLevel:u.outlineLevel,collapsed:u.collapsed},d.push(c))}),d.length?d:void 0}static fromModel(l,d){let c=[],u=1,h=0;for(d=(d=d||[]).sort(function(p,f){return p.min-f.min});h<d.length;){let p=d[h++];for(;u<p.min;)c.push(new s(l,u++));for(;u<=p.max;)c.push(new s(l,u++,p))}return c.length?c:null}}t.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,t,n){"use strict";t.exports=class{constructor(i){this.model=i||{}}add(i,r){return this.model[i]=r}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,t,n){"use strict";let i=e("../utils/under-dash"),r=e("../utils/col-cache"),o=e("../utils/cell-matrix"),s=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;t.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new o)}add(l,d){let c=r.decodeEx(l);this.addEx(c,d)}addEx(l,d){let c=this.getMatrix(d);if(l.top)for(let u=l.left;u<=l.right;u++)for(let h=l.top;h<=l.bottom;h++){let p={sheetName:l.sheetName,address:r.n2l(u)+h,row:h,col:u};c.addCellEx(p)}else c.addCellEx(l)}remove(l,d){let c=r.decodeEx(l);this.removeEx(c,d)}removeEx(l,d){this.getMatrix(d).removeCellEx(l)}removeAllNames(l){i.each(this.matrixMap,d=>{d.removeCellEx(l)})}forEach(l){i.each(this.matrixMap,(d,c)=>{d.forEach(u=>{l(c,u)})})}getNames(l){return this.getNamesEx(r.decodeEx(l))}getNamesEx(l){return i.map(this.matrixMap,(d,c)=>d.findCellEx(l)&&c).filter(Boolean)}_explore(l,d){d.mark=!1;let{sheetName:c}=d,u=new s(d.row,d.col,d.row,d.col,c),h,p;function f(g,v){let w=l.findCellAt(c,g,d.col);return!(!w||!w.mark)&&(u[v]=g,w.mark=!1,!0)}for(p=d.row-1;f(p,"top");p--);for(p=d.row+1;f(p,"bottom");p++);function m(g,v){let w=[];for(p=u.top;p<=u.bottom;p++){let E=l.findCellAt(c,p,g);if(!E||!E.mark)return!1;w.push(E)}u[v]=g;for(let E=0;E<w.length;E++)w[E].mark=!1;return!0}for(h=d.col-1;m(h,"left");h--);for(h=d.col+1;m(h,"right");h++);return u}getRanges(l,d){return(d=d||this.matrixMap[l])?(d.forEach(c=>{c.mark=!0}),{name:l,ranges:d.map(c=>c.mark&&this._explore(d,c)).filter(Boolean).map(c=>c.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,d){l.forEachInSheet(d,(c,u,h)=>{c&&(c.row===u&&c.col===h||(c.row=u,c.col=h,c.address=r.n2l(h)+u))})}spliceRows(l,d,c,u){i.each(this.matrixMap,h=>{h.spliceRows(l,d,c,u),this.normaliseMatrix(h,l)})}spliceColumns(l,d,c,u){i.each(this.matrixMap,h=>{h.spliceColumns(l,d,c,u),this.normaliseMatrix(h,l)})}get model(){return i.map(this.matrixMap,(l,d)=>this.getRanges(d,l)).filter(l=>l.ranges.length)}set model(l){let d=this.matrixMap={};l.forEach(c=>{let u=d[c.name]=new o;c.ranges.forEach(h=>{a.test(h.split("!").pop()||"")&&u.addCell(h)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,t,n){"use strict";t.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,t,n){"use strict";let i=e("../utils/col-cache"),r=e("./anchor");t.exports=class{constructor(o,s){this.worksheet=o,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:s,imageId:a,range:l,hyperlinks:d}=o;if(this.type=s,this.imageId=a,s==="image")if(typeof l=="string"){let c=i.decode(l);this.range={tl:new r(this.worksheet,{col:c.left,row:c.top},-1),br:new r(this.worksheet,{col:c.right,row:c.bottom},0),editAs:"oneCell"}}else this.range={tl:new r(this.worksheet,l.tl,0),br:l.br&&new r(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:d||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,t,n){"use strict";let i=e("../utils/under-dash");class r{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return i.deepMerge({},r.DEFAULT_CONFIGS,s)}set model(s){let{note:a}=s,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(s){let a=new r;return a.model=s,a}}r.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},t.exports=r},{"../utils/under-dash":26}],10:[function(e,t,n){"use strict";let i=e("../utils/col-cache");class r{constructor(){this.decode(arguments)}setTLBR(s,a,l,d,c){if(arguments.length<4){let u=i.decodeAddress(s),h=i.decodeAddress(a);this.model={top:Math.min(u.row,h.row),left:Math.min(u.col,h.col),bottom:Math.max(u.row,h.row),right:Math.max(u.col,h.col),sheetName:l},this.setTLBR(u.row,u.col,h.row,h.col,c)}else this.model={top:Math.min(s,l),left:Math.min(a,d),bottom:Math.max(s,l),right:Math.max(a,d),sheetName:c}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{let a=s[0];if(a instanceof r)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=i.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){let{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,a,l,d){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(s){if(s){let{dimensions:a,number:l}=s;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(s){let a=i.decodeEx(s);this.expand(a.row,a.col,a.row,a.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){let a=i.decodeEx(s);return this.containsEx(a)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)s(i.encodeAddress(l,a),l,a)}}t.exports=r},{"../utils/col-cache":19}],11:[function(e,t,n){"use strict";let i=e("../utils/under-dash"),r=e("./enums"),o=e("../utils/col-cache"),s=e("./cell");t.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let d=this._worksheet.getColumn(a.col);l=new s(this,d,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:o.l2n(a)}return this._cells[a-1]||this.getCellEx({address:o.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let d=a+l;for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];let p=u.length-l,f=this._cells.length,m,g,v;if(p<0)for(m=a+u.length;m<=f;m++)v=this._cells[m-1],g=this._cells[m-p-1],g?(v=this.getCell(m),v.value=g.value,v.style=g.style,v._comment=g._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(p>0)for(m=f;m>=d;m--)g=this._cells[m-1],g?(v=this.getCell(m+p),v.value=g.value,v.style=g.style,v._comment=g._comment):this._cells[m+p-1]=void 0;for(m=0;m<u.length;m++)v=this.getCell(a+m),v.value=u[m],v.style={},v._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let d=this._cells.length;for(let c=1;c<=d;c++)l(this.getCell(c),c)}else this._cells.forEach((d,c)=>{d&&d.type!==r.ValueType.Null&&l(d,c+1)})}addPageBreak(a,l){let d=this._worksheet,c=Math.max(0,a-1)||0,u=Math.max(0,l-1)||16838,h={id:this._number,max:u,man:1};c&&(h.min=c),d.rowBreaks.push(h)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==r.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((d,c)=>{d!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,c+l),row:this._number,col:c+l}).value=d)})}else this._worksheet.eachColumnKey((l,d)=>{a[d]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[d])})}get hasValues(){return i.some(this._cells,a=>a&&a.type!==r.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(d=>{d&&d.type!==r.ValueType.Null&&((!a||a>d.col)&&(a=d.col),l<d.col&&(l=d.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(d=>{d&&(d[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,d=0;return this._cells.forEach(c=>{if(c){let u=c.model;u&&((!l||l>c.col)&&(l=c.col),d<c.col&&(d=c.col),a.push(u))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(d=>{switch(d.type){case s.Types.Merge:break;default:{let c;if(d.address)c=o.decodeAddress(d.address);else if(l){let{row:u}=l,h=l.col+1;c={row:u,col:h,address:o.encodeAddress(u,h),$col$row:`$${o.n2l(h)}$${u}`}}l=c,this.getCellEx(c).model=d;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,t,n){"use strict";let i=e("../utils/col-cache");class r{constructor(s,a,l){this.table=s,this.column=a,this.index=l}_set(s,a){this.table.cacheState(),this.column[s]=a}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}t.exports=class{constructor(o,s){this.worksheet=o,s&&(this.table=s,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:o}=this,s=(p,f,m)=>{p[f]===void 0&&(p[f]=m)};s(o,"headerRow",!0),s(o,"totalsRow",!1),s(o,"style",{}),s(o.style,"theme","TableStyleMedium2"),s(o.style,"showFirstColumn",!1),s(o.style,"showLastColumn",!1),s(o.style,"showRowStripes",!1),s(o.style,"showColumnStripes",!1);let a=(p,f)=>{if(!p)throw new Error(f)};a(o.ref,"Table must have ref"),a(o.columns,"Table must have column definitions"),a(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);let{row:l,col:d}=o.tl;a(l>0,"Table must be on valid row"),a(d>0,"Table must be on valid col");let{width:c,filterHeight:u,tableHeight:h}=this;o.autoFilterRef=i.encode(l,d,l+u-1,d+c-1),o.tableRef=i.encode(l,d,l+h-1,d+c-1),o.columns.forEach((p,f)=>{a(p.name,`Column ${f} must have a name`),f===0?s(p,"totalsRowLabel","Total"):(s(p,"totalsRowFunction","none"),p.totalsRowFormula=this.getFormula(p))})}store(){let o=(u,h)=>{h&&Object.keys(h).forEach(p=>{u[p]=h[p]})},{worksheet:s,table:a}=this,{row:l,col:d}=a.tl,c=0;if(a.headerRow){let u=s.getRow(l+c++);a.columns.forEach((h,p)=>{let{style:f,name:m}=h,g=u.getCell(d+p);g.value=m,o(g,f)})}if(a.rows.forEach(u=>{let h=s.getRow(l+c++);u.forEach((p,f)=>{let m=h.getCell(d+f);m.value=p,o(m,a.columns[f].style)})}),a.totalsRow){let u=s.getRow(l+c++);a.columns.forEach((h,p)=>{let f=u.getCell(d+p);if(p===0)f.value=h.totalsRowLabel;else{let m=this.getFormula(h);f.value=m?{formula:h.totalsRowFormula,result:h.totalsRowResult}:null}o(f,h.style)})}}load(o){let{table:s}=this,{row:a,col:l}=s.tl,d=0;if(s.headerRow){let c=o.getRow(a+d++);s.columns.forEach((u,h)=>{c.getCell(l+h).value=u.name})}if(s.rows.forEach(c=>{let u=o.getRow(a+d++);c.forEach((h,p)=>{u.getCell(l+p).value=h})}),s.totalsRow){let c=o.getRow(a+d++);s.columns.forEach((u,h)=>{let p=c.getCell(l+h);h===0?p.value=u.totalsRowLabel:this.getFormula(u)&&(p.value={formula:u.totalsRowFormula,result:u.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}for(let s=0;s<this.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=this.width;l<this._cache.width;l++)a.getCell(o.col+l).value=null}}this.store()}addRow(o,s){this.cacheState(),s===void 0?this.table.rows.push(o):this.table.rows.splice(s,0,o)}removeRows(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,s)}getColumn(o){let s=this.table.columns[o];return new r(this,s,o)}addColumn(o,s,a){this.cacheState(),a===void 0?(this.table.columns.push(o),this.table.rows.forEach((l,d)=>{l.push(s[d])})):(this.table.columns.splice(a,0,o),this.table.rows.forEach((l,d)=>{l.splice(a,0,s[d])}))}removeColumns(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,s),this.table.rows.forEach(a=>{a.splice(o,s)})}_assign(o,s,a){this.cacheState(),o[s]=a}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(e,t,n){"use strict";let i=e("./worksheet"),r=e("./defined-names"),o=e("../xlsx/xlsx"),s=e("../csv/csv");t.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new r}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let d=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let c=this._worksheets.reduce((p,f)=>(f&&f.orderNo)>p?f.orderNo:p,0),u=Object.assign({},l,{id:d,name:a,orderNo:c+1,workbook:this}),h=new i(u);return this._worksheets[d]=h,h}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:d,name:c,state:u}=l,h=a.sheets&&a.sheets.findIndex(p=>p.id===d);(this._worksheets[d]=new i({id:d,name:c,orderNo:h,state:u,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,t,n){"use strict";let i=e("../utils/under-dash"),r=e("../utils/col-cache"),o=e("./range"),s=e("./row"),a=e("./column"),l=e("./enums"),d=e("./image"),c=e("./table"),u=e("./data-validations"),h=e("../utils/encryptor"),{copyStyle:p}=e("../utils/copy-style");t.exports=class{constructor(f){f=f||{},this._workbook=f.workbook,this.id=f.id,this.orderNo=f.orderNo,this.name=f.name,this.state=f.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},f.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!f.pageSetup||!f.pageSetup.fitToWidth&&!f.pageSetup.fitToHeight||f.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},f.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},f.headerFooter),this.dataValidations=new u,this.views=f.views||[],this.autoFilter=f.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(f){if(f===void 0&&(f="sheet"+this.id),this._name!==f){if(typeof f!="string")throw new Error("The name has to be a string.");if(f==="")throw new Error("The name can't be empty.");if(f==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(f))throw new Error(`Worksheet name ${f} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(f))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+f);if(f&&f.length>31&&(console.warn(`Worksheet name ${f} exceeds 31 chars. This will be truncated`),f=f.substring(0,31)),this._workbook._worksheets.find(m=>m&&m.name.toLowerCase()===f.toLowerCase()))throw new Error("Worksheet name already exists: "+f);this._name=f}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let f=new o;return this._rows.forEach(m=>{if(m){let g=m.dimensions;g&&f.expand(m.number,g.min,m.number,g.max)}}),f}get columns(){return this._columns}set columns(f){this._headerRowCount=f.reduce((v,w)=>{let E=(w.header?1:w.headers&&w.headers.length)||0;return Math.max(v,E)},0);let m=1,g=this._columns=[];f.forEach(v=>{let w=new a(this,m++,!1);g.push(w),w.defn=v})}getColumnKey(f){return this._keys[f]}setColumnKey(f,m){this._keys[f]=m}deleteColumnKey(f){delete this._keys[f]}eachColumnKey(f){i.each(this._keys,f)}getColumn(f){if(typeof f=="string"){let m=this._keys[f];if(m)return m;f=r.l2n(f)}if(this._columns||(this._columns=[]),f>this._columns.length){let m=this._columns.length+1;for(;m<=f;)this._columns.push(new a(this,m++))}return this._columns[f-1]}spliceColumns(f,m){let g=this._rows.length;for(var v=arguments.length,w=new Array(v>2?v-2:0),E=2;E<v;E++)w[E-2]=arguments[E];if(w.length>0)for(let L=0;L<g;L++){let V=[f,m];w.forEach(z=>{V.push(z[L]||null)});let j=this.getRow(L+1);j.splice.apply(j,V)}else this._rows.forEach(L=>{L&&L.splice(f,m)});let T=w.length-m,F=f+m,k=this._columns.length;if(T<0)for(let L=f+w.length;L<=k;L++)this.getColumn(L).defn=this.getColumn(L-T).defn;else if(T>0)for(let L=k;L>=F;L--)this.getColumn(L+T).defn=this.getColumn(L).defn;for(let L=f;L<f+w.length;L++)this.getColumn(L).defn=null;this.workbook.definedNames.spliceColumns(this.name,f,m,w.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let f=0;return this.eachRow(m=>{f=Math.max(f,m.cellCount)}),f}get actualColumnCount(){let f=[],m=0;return this.eachRow(g=>{g.eachCell(v=>{let{col:w}=v;f[w]||(f[w]=!0,m++)})}),m}_commitRow(){}get _lastRowNumber(){let f=this._rows,m=f.length;for(;m>0&&f[m-1]===void 0;)m--;return m}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(f){return this._rows[f-1]}findRows(f,m){return this._rows.slice(f-1,f-1+m)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let f=0;return this.eachRow(()=>{f++}),f}getRow(f){let m=this._rows[f-1];return m||(m=this._rows[f-1]=new s(this,f)),m}getRows(f,m){if(m<1)return;let g=[];for(let v=f;v<f+m;v++)g.push(this.getRow(v));return g}addRow(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=this._nextRow,v=this.getRow(g);return v.values=f,this._setStyleOption(g,m[0]==="i"?m:"n"),v}addRows(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",g=[];return f.forEach(v=>{g.push(this.addRow(v,m))}),g}insertRow(f,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(f,0,m),this._setStyleOption(f,g),this.getRow(f)}insertRows(f,m){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(f,0,...m),g!=="n")for(let v=0;v<m.length;v++)g[0]==="o"&&this.findRow(m.length+f+v)!==void 0?this._copyStyle(m.length+f+v,f+v,g[1]==="+"):g[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f+v,g[1]==="+");return this.getRows(f,m.length)}_setStyleOption(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";m[0]==="o"&&this.findRow(f+1)!==void 0?this._copyStyle(f+1,f,m[1]==="+"):m[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f,m[1]==="+")}_copyStyle(f,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this.getRow(f),w=this.getRow(m);w.style=p(v.style),v.eachCell({includeEmpty:g},(E,T)=>{w.getCell(T).style=p(E.style)}),w.height=v.height}duplicateRow(f,m){let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],v=this._rows[f-1],w=new Array(m).fill(v.values);this.spliceRows(f+1,g?0:m,...w);for(let E=0;E<m;E++){let T=this._rows[f+E];T.style=v.style,T.height=v.height,v.eachCell({includeEmpty:!0},(F,k)=>{T.getCell(k).style=F.style})}}spliceRows(f,m){let g=f+m;for(var v=arguments.length,w=new Array(v>2?v-2:0),E=2;E<v;E++)w[E-2]=arguments[E];let T=w.length,F=T-m,k=this._rows.length,L,V;if(F<0)for(f===k&&(this._rows[k-1]=void 0),L=g;L<=k;L++)if(V=this._rows[L-1],V){let j=this.getRow(L+F);j.values=V.values,j.style=V.style,j.height=V.height,V.eachCell({includeEmpty:!0},(z,R)=>{j.getCell(R).style=z.style}),this._rows[L-1]=void 0}else this._rows[L+F-1]=void 0;else if(F>0)for(L=k;L>=g;L--)if(V=this._rows[L-1],V){let j=this.getRow(L+F);j.values=V.values,j.style=V.style,j.height=V.height,V.eachCell({includeEmpty:!0},(z,R)=>{if(j.getCell(R).style=z.style,z._value.constructor.name==="MergeValue"){let I=this.getRow(z._row._number+T).getCell(R),N=z._value._master,b=this.getRow(N._row._number+T).getCell(N._column._number);I.merge(b)}})}else this._rows[L+F-1]=void 0;for(L=0;L<T;L++){let j=this.getRow(f+L);j.style={},j.values=w[L]}this.workbook.definedNames.spliceRows(this.name,f,m,T)}eachRow(f,m){if(m||(m=f,f=void 0),f&&f.includeEmpty){let g=this._rows.length;for(let v=1;v<=g;v++)m(this.getRow(v),v)}else this._rows.forEach(g=>{g&&g.hasValues&&m(g,g.number)})}getSheetValues(){let f=[];return this._rows.forEach(m=>{m&&(f[m.number]=m.values)}),f}findCell(f,m){let g=r.getAddress(f,m),v=this._rows[g.row-1];return v?v.findCell(g.col):void 0}getCell(f,m){let g=r.getAddress(f,m);return this.getRow(g.row).getCellEx(g)}mergeCells(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];let v=new o(m);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];let v=new o(m);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(f,m){i.each(this._merges,v=>{if(v.intersects(f))throw new Error("Cannot merge already merged cells")});let g=this.getCell(f.top,f.left);for(let v=f.top;v<=f.bottom;v++)for(let w=f.left;w<=f.right;w++)(v>f.top||w>f.left)&&this.getCell(v,w).merge(g,m);this._merges[g.address]=f}_unMergeMaster(f){let m=this._merges[f.address];if(m){for(let g=m.top;g<=m.bottom;g++)for(let v=m.left;v<=m.right;v++)this.getCell(g,v).unmerge();delete this._merges[f.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var f=arguments.length,m=new Array(f),g=0;g<f;g++)m[g]=arguments[g];let v=new o(m);for(let w=v.top;w<=v.bottom;w++)for(let E=v.left;E<=v.right;E++){let T=this.findCell(w,E);T&&(T.type===l.ValueType.Merge?this._unMergeMaster(T.master):this._merges[T.address]&&this._unMergeMaster(T))}}fillFormula(f,m,g){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",w=r.decode(f),{top:E,left:T,bottom:F,right:k}=w,L=k-T+1,V=r.encodeAddress(E,T),j=v==="shared",z;z=typeof g=="function"?g:Array.isArray(g)?Array.isArray(g[0])?(I,N)=>g[I-E][N-T]:(I,N)=>g[(I-E)*L+(N-T)]:()=>{};let R=!0;for(let I=E;I<=F;I++)for(let N=T;N<=k;N++)R?(this.getCell(I,N).value={shareType:v,formula:m,ref:f,result:z(I,N)},R=!1):this.getCell(I,N).value=j?{sharedFormula:V,result:z(I,N)}:z(I,N)}addImage(f,m){let g={type:"image",imageId:f,range:m};this._media.push(new d(this,g))}getImages(){return this._media.filter(f=>f.type==="image")}addBackgroundImage(f){let m={type:"background",imageId:f};this._media.push(new d(this,m))}getBackgroundImageId(){let f=this._media.find(m=>m.type==="background");return f&&f.imageId}protect(f,m){return new Promise(g=>{this.sheetProtection={sheet:!0},m&&"spinCount"in m&&(m.spinCount=Number.isFinite(m.spinCount)?Math.round(Math.max(0,m.spinCount)):1e5),f&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=h.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=m&&"spinCount"in m?m.spinCount:1e5,this.sheetProtection.hashValue=h.convertPasswordToHash(f,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),m&&(this.sheetProtection=Object.assign(this.sheetProtection,m),!f&&"spinCount"in m&&delete this.sheetProtection.spinCount),g()})}unprotect(){this.sheetProtection=null}addTable(f){let m=new c(this,f);return this.tables[f.name]=m,m}getTable(f){return this.tables[f]}removeTable(f){delete this.tables[f]}getTables(){return Object.values(this.tables)}addConditionalFormatting(f){this.conditionalFormattings.push(f)}removeConditionalFormatting(f){typeof f=="number"?this.conditionalFormattings.splice(f,1):this.conditionalFormattings=f instanceof Function?this.conditionalFormattings.filter(f):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(f){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=f}get model(){let f={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};f.cols=a.toModel(this.columns);let m=f.rows=[],g=f.dimensions=new o;return this._rows.forEach(v=>{let w=v&&v.model;w&&(g.expand(w.number,w.min,w.number,w.max),m.push(w))}),f.merges=[],i.each(this._merges,v=>{f.merges.push(v.range)}),f}_parseRows(f){this._rows=[],f.rows.forEach(m=>{let g=new s(this,m.number);this._rows[g.number-1]=g,g.model=m})}_parseMergeCells(f){i.each(f.mergeCells,m=>{this.mergeCellsWithoutStyle(m)})}set model(f){this.name=f.name,this._columns=a.fromModel(this,f.cols),this._parseRows(f),this._parseMergeCells(f),this.dataValidations=new u(f.dataValidations),this.properties=f.properties,this.pageSetup=f.pageSetup,this.headerFooter=f.headerFooter,this.views=f.views,this.autoFilter=f.autoFilter,this._media=f.media.map(m=>new d(this,m)),this.sheetProtection=f.sheetProtection,this.tables=f.tables.reduce((m,g)=>{let v=new c;return v.model=g,m[g.name]=v,m},{}),this.conditionalFormattings=f.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,t,n){"use strict";e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");let i={Workbook:e("./doc/workbook")},r=e("./doc/enums");Object.keys(r).forEach(o=>{i[o]=r[o]}),t.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,t,n){"use strict";let i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");n.bufferToString=function(r){return typeof r=="string"?r:i?i.decode(r):r.toString()}},{}],17:[function(e,t,n){"use strict";let i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:r}=e("buffer");n.stringToBuffer=function(o){return typeof o!="string"?o:i?r.from(i.encode(o).buffer):r.from(o)}},{buffer:220}],18:[function(e,t,n){"use strict";let i=e("./under-dash"),r=e("./col-cache");t.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(r.decodeEx(o))}getCell(o){return this.findCellEx(r.decodeEx(o),!0)}findCell(o){return this.findCellEx(r.decodeEx(o),!1)}findCellAt(o,s,a){let l=this.sheets[o],d=l&&l[s];return d&&d[a]}addCellEx(o){if(o.top)for(let s=o.top;s<=o.bottom;s++)for(let a=o.left;a<=o.right;a++)this.getCellAt(o.sheetName,s,a);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,s){let a=this.findSheet(o,s),l=this.findSheetRow(a,o,s);return this.findRowCell(l,o,s)}getCellAt(o,s,a){let l=this.sheets[o]||(this.sheets[o]=[]),d=l[s]||(l[s]=[]);return d[a]||(d[a]={sheetName:o,address:r.n2l(a)+s,row:s,col:a})}removeCellEx(o){let s=this.findSheet(o);if(!s)return;let a=this.findSheetRow(s,o);a&&delete a[o.col]}forEachInSheet(o,s){let a=this.sheets[o];a&&a.forEach((l,d)=>{l&&l.forEach((c,u)=>{c&&s(c,d,u)})})}forEach(o){i.each(this.sheets,(s,a)=>{this.forEachInSheet(a,o)})}map(o){let s=[];return this.forEach(a=>{s.push(o(a))}),s}findSheet(o,s){let a=o.sheetName;return this.sheets[a]?this.sheets[a]:s?this.sheets[a]=[]:void 0}findSheetRow(o,s,a){let{row:l}=s;return o&&o[l]?o[l]:a?o[l]=[]:void 0}findRowCell(o,s,a){let{col:l}=s;return o&&o[l]?o[l]:a?o[l]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(o,s,a,l){let d=this.sheets[o];if(d){let c=[];for(let u=0;u<l;u++)c.push([]);d.splice(s,a,...c)}}spliceColumns(o,s,a,l){let d=this.sheets[o];if(d){let c=[];for(let u=0;u<l;u++)c.push(null);i.each(d,u=>{u.splice(s,a,...c)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,t,n){"use strict";let i=/^[A-Z]+\d+$/,r={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let s,a,l,d,c,u=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;u<=26;)s=this._dictionary[u-1],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(u=27;u<=702;)a=u-27,l=a%26,d=Math.floor(a/26),s=this._dictionary[d]+this._dictionary[l],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(u=703;u<=16384;)a=u-703,l=a%26,d=Math.floor(a/26)%26,c=Math.floor(a/676),s=this._dictionary[c]+this._dictionary[d]+this._dictionary[l],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){let s=o.length<5&&this._hash[o];if(s)return s;let a=!1,l="",d=0,c=!1,u="",h=0;for(let f,m=0;m<o.length;m++)if(f=o.charCodeAt(m),!c&&f>=65&&f<=90)a=!0,l+=o[m],d=26*d+f-64;else if(f>=48&&f<=57)c=!0,u+=o[m],h=10*h+f-48;else if(c&&a&&f!==36)break;if(a){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else d=void 0;c||(h=void 0);let p={address:o=l+u,col:d,row:h,$col$row:`$${l}$${u}`};return d<=100&&h<=100&&(this._hash[o]=p,this._hash[p.$col$row]=p),p},getAddress(o,s){if(s){let a=this.n2l(s)+o;return this.decodeAddress(a)}return this.decodeAddress(o)},decode(o){let s=o.split(":");if(s.length===2){let a=this.decodeAddress(s[0]),l=this.decodeAddress(s[1]),d={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(o)},decodeEx(o){let s=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=s[1]||s[2],l=s[3],d=l.split(":");if(d.length>1){let u=this.decodeAddress(d[0]),h=this.decodeAddress(d[1]),p=Math.min(u.row,h.row),f=Math.min(u.col,h.col),m=Math.max(u.row,h.row),g=Math.max(u.col,h.col);return u=this.n2l(f)+p,h=this.n2l(g)+m,{top:p,left:f,bottom:m,right:g,sheetName:a,tl:{address:u,col:f,row:p,$col$row:`$${this.n2l(f)}$${p}`,sheetName:a},br:{address:h,col:g,row:m,$col$row:`$${this.n2l(g)}$${m}`,sheetName:a},dimensions:`${u}:${h}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let c=this.decodeAddress(l);return a?re({sheetName:a},c):c},encodeAddress:(o,s)=>r.n2l(s)+o,encode(){switch(arguments.length){case 2:return r.encodeAddress(arguments[0],arguments[1]);case 4:return`${r.encodeAddress(arguments[0],arguments[1])}:${r.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,s){let[a,l,,d,c]=o,[u,h]=s;return u>=a&&u<=d&&h>=l&&h<=c}};t.exports=r},{}],20:[function(e,t,n){"use strict";let i=(o,s)=>re(re({},o),s.reduce((a,l)=>(o[l]&&(a[l]=re({},o[l])),a),{})),r=function(o,s,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[a]&&(s[a]=i(o[a],l))};n.copyStyle=o=>{if(!o)return o;if(s=o,Object.keys(s).length===0)return{};var s;let a=re({},o);return r(o,a,"font",["color"]),r(o,a,"alignment"),r(o,a,"protection"),o.border&&(r(o,a,"border"),r(o.border,a.border,"top",["color"]),r(o.border,a.border,"left",["color"]),r(o.border,a.border,"bottom",["color"]),r(o.border,a.border,"right",["color"]),r(o.border,a.border,"diagonal",["color"])),o.fill&&(r(o,a,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(a.fill.stops=o.fill.stops.map(l=>i(l,["color"])))),a}},{}],21:[function(e,t,n){(function(i){(function(){"use strict";let r=e("crypto"),o={hash(s){let a=r.createHash(s);for(var l=arguments.length,d=new Array(l>1?l-1:0),c=1;c<l;c++)d[c-1]=arguments[c];return a.update(i.concat(d)),a.digest()},convertPasswordToHash(s,a,l,d){if(a=a.toLowerCase(),r.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let c=i.from(s,"utf16le"),u=this.hash(a,i.from(l,"base64"),c);for(let h=0;h<d;h++){let p=i.alloc(4);p.writeUInt32LE(h,0),u=this.hash(a,u,p)}return u.toString("base64")},randomBytes:s=>r.randomBytes(s)};t.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,t,n){"use strict";let{SaxesParser:i}=e("saxes"),{PassThrough:r}=e("readable-stream"),{bufferToString:o}=e("./browser-buffer-decode");t.exports=function(s){return gL(this,null,function*(){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new r));let a=new i,l;a.on("error",f=>{l=f});let d=[];a.on("opentag",f=>d.push({eventType:"opentag",value:f})),a.on("text",f=>d.push({eventType:"text",value:f})),a.on("closetag",f=>d.push({eventType:"closetag",value:f}));try{for(var c=V1(s),u,h,p;u=!(h=yield new PR(c.next())).done;u=!1){let f=h.value;if(a.write(o(f)),l)throw l;yield d,d=[]}}catch{p=[h]}finally{try{u&&(h=c.return)&&(yield new PR(h.call(c)))}finally{if(p)throw p[0]}}})}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,t,n){"use strict";let i=e("./col-cache"),r=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;t.exports={slideFormula:function(s,a,l){let d=i.decode(a),c=i.decode(l);return s.replace(r,(u,h,p,f,m)=>{if(m)return u;let g=o.exec(f);if(g){let v=g[1],w=g[2].toUpperCase(),E=g[3],T=g[4];if(w.length>3||w.length===3&&w>"XFD")return u;let F=i.l2n(w),k=parseInt(T,10);return v||(F+=c.col-d.col),E||(k+=c.row-d.row),(h||"")+(v||"")+i.n2l(F)+(E||"")+k}return u})}}},{"./col-cache":19}],24:[function(e,t,n){(function(i,r){(function(){"use strict";let o=e("readable-stream"),s=e("./utils"),a=e("./string-buf");class l{constructor(m,g){this._data=m,this._encoding=g}get length(){return this.toBuffer().length}copy(m,g,v,w){return this.toBuffer().copy(m,g,v,w)}toBuffer(){return this._buffer||(this._buffer=r.from(this._data,this._encoding)),this._buffer}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,v,w){return this._data._buf.copy(m,g,v,w)}toBuffer(){return this._data.toBuffer()}}class c{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,v,w){this._data.copy(m,g,v,w)}toBuffer(){return this._data}}class u{constructor(m){this.size=m,this.buffer=r.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let m=r.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let g;return m===0?null:m===void 0||m>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=r.alloc(m),this.buffer.copy(g,0,this.iRead,m),this.iRead+=m,g)}write(m,g,v){let w=Math.min(v,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,g,g+w),this.iWrite+=w,w}}let h=function(f){f=f||{},this.bufSize=f.bufSize||1048576,this.buffers=[],this.batch=f.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(h,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return r.concat(this.buffers.map(f=>f.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let m=this.buffers[this.buffers.length-1];if(!m.full)return m}let f=new u(this.bufSize);return this.buffers.push(f),f},_pipe(f){return Et(this,null,function*(){yield Promise.all(this.pipes.map(function(m){return new Promise(g=>{m.write(f.toBuffer(),()=>{g()})})}))})},_writeToBuffers(f){let m=0,g=f.length;for(;m<g;)m+=this._getWritableBuffer().write(f,m,g-m)},write(f,m,g){return Et(this,null,function*(){let v;if(m instanceof Function&&(g=m,m="utf8"),g=g||s.nop,f instanceof a)v=new d(f);else if(f instanceof r)v=new c(f);else{if(!(typeof f=="string"||f instanceof String||f instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new l(f,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),i.nextTick(g)):(yield this._pipe(v),g());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0})},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(f,m,g){let v=w=>{w?g(w):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};f?this.write(f,m,v):v()},read(f){let m;if(f){for(m=[];f&&this.buffers.length&&!this.buffers[0].eod;){let g=this.buffers[0],v=g.read(f);f-=v.length,m.push(v),g.eod&&g.full&&this.buffers.shift()}return r.concat(m)}return m=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],r.concat(m)},setEncoding(f){this.encoding=f},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(f){this.pipes.push(f),!this.paused&&this.buffers.length&&this.end()},unpipe(f){this.pipes=this.pipes.filter(m=>m!==f)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,t,n){(function(i){(function(){"use strict";t.exports=class{constructor(r){this._buf=i.alloc(r&&r.size||16384),this._encoding=r&&r.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(r){r=r||0,this._buffer=void 0,this._inPos=r}_grow(r){let o=2*this._buf.length;for(;o<r;)o*=2;let s=i.alloc(o);this._buf.copy(s,0),this._buf=s}addText(r){this._buffer=void 0;let o=this._inPos+this._buf.write(r,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+r.length),o=this._inPos+this._buf.write(r,this._inPos,this._encoding);this._inPos=o}addStringBuf(r){r.length&&(this._buffer=void 0,this.length+r.length>this.capacity&&this._grow(this.length+r.length),r._buf.copy(this._buf,this._inPos,0,r.length),this._inPos+=r.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,t,n){"use strict";let{toString:i}=Object.prototype,r=/["&<>]/,o={each:function(s,a){s&&(Array.isArray(s)?s.forEach(a):Object.keys(s).forEach(l=>{a(s[l],l)}))},some:function(s,a){return!!s&&(Array.isArray(s)?s.some(a):Object.keys(s).some(l=>a(s[l],l)))},every:function(s,a){return!s||(Array.isArray(s)?s.every(a):Object.keys(s).every(l=>a(s[l],l)))},map:function(s,a){return s?Array.isArray(s)?s.map(a):Object.keys(s).map(l=>a(s[l],l)):[]},keyBy:(s,a)=>s.reduce((l,d)=>(l[d[a]]=d,l),{}),isEqual:function(s,a){let l=typeof s,d=typeof a,c=Array.isArray(s),u=Array.isArray(a),h;if(l!==d)return!1;switch(typeof s){case"object":if(c||u)return!(!c||!u)&&s.length===a.length&&s.every((p,f)=>{let m=a[f];return o.isEqual(p,m)});if(s===null||a===null)return s===a;if(h=Object.keys(s),Object.keys(a).length!==h.length)return!1;for(let p of h)if(!a.hasOwnProperty(p))return!1;return o.every(s,(p,f)=>{let m=a[f];return o.isEqual(p,m)});default:return s===a}},escapeHtml(s){let a=r.exec(s);if(!a)return s;let l="",d="",c=0,u=a.index;for(;u<s.length;u++){switch(s.charAt(u)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}c!==u&&(l+=s.substring(c,u)),c=u+1,l+=d}return c!==u?l+s.substring(c,u):l},strcmp:(s,a)=>s<a?-1:s>a?1:0,isUndefined:s=>i.call(s)==="[object Undefined]",isObject:s=>i.call(s)==="[object Object]",deepMerge(){let s=arguments[0]||{},{length:a}=arguments,l,d,c;function u(h,p){l=s[p],c=Array.isArray(h),o.isObject(h)||c?(c?(c=!1,d=l&&Array.isArray(l)?l:[]):d=l&&o.isObject(l)?l:{},s[p]=o.deepMerge(d,h)):o.isUndefined(h)||(s[p]=h)}for(let h=0;h<a;h++)o.each(arguments[h],u);return s}};t.exports=o},{}],27:[function(e,t,n){(function(i,r){(function(){"use strict";let o=e("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(d=>{i.setImmediate?r(()=>{d(l)}):setTimeout(()=>{d(l)},1)}),inherits:function(l,d,c,u){l.super_=d,u||(u=c,c=null),c&&Object.keys(c).forEach(p=>{Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(c,p))});let h={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};u&&Object.keys(u).forEach(p=>{h[p]=Object.getOwnPropertyDescriptor(u,p)}),l.prototype=Object.create(d.prototype,h)},dateToExcel:(l,d)=>25569+l.getTime()/864e5-(d?1462:0),excelToDate(l,d){let c=Math.round(24*(l-25569+(d?1462:0))*3600*1e3);return new Date(c)},parsePath(l){let d=l.lastIndexOf("/");return{path:l.substring(0,d),name:l.substring(d+1)}},getRelsPath(l){let d=a.parsePath(l);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(l){let d=s.exec(l);if(!d)return l;let c="",u="",h=0,p=d.index;for(;p<l.length;p++){let f=l.charCodeAt(p);switch(f){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&apos;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;case 127:u="";break;default:if(f<=31&&(f<=8||f>=11&&f!==13)){u="";break}continue}h!==p&&(c+=l.substring(h,p)),h=p+1,u&&(c+=u)}return h!==p?c+l.substring(h,p):c},xmlDecode:l=>l.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(l){let d=parseInt(l,10);return Number.isNaN(d)?0:d},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(d=>{o.access(l,o.constants.F_OK,c=>{d(!c)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};t.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,t,n){"use strict";let i=e("./under-dash"),r=e("./utils");function o(l,d,c){l.push(` ${d}="${r.xmlEncode(c.toString())}"`)}function s(l,d){if(d){let c=[];i.each(d,(u,h)=>{u!==void 0&&o(c,h,u)}),l.push(c.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){let c=this._xml;c.push("<?xml"),s(c,d),c.push(`?>
`)}openNode(d,c){let u=this.tos,h=this._xml;u&&this.open&&h.push(">"),this._stack.push(d),h.push("<"),h.push(d),s(h,c),this.leaf=!0,this.open=!0}addAttribute(d,c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c!==void 0&&o(this._xml,d,c)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,d)}writeText(d){let c=this._xml;this.open&&(c.push(">"),this.open=!1),this.leaf=!1,c.push(r.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){let d=this._stack.pop(),c=this._xml;this.leaf?c.push("/>"):(c.push("</"),c.push(d),c.push(">")),this.open=!1,this.leaf=!1}leafNode(d,c,u){this.openNode(d,c),u!==void 0&&this.writeText(u),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},t.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,t,n){(function(i){(function(){"use strict";let r=e("events"),o=e("jszip"),s=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class l extends r.EventEmitter{constructor(c){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},c),this.zip=new o,this.stream=new s}append(c,u){u.hasOwnProperty("base64")&&u.base64?this.zip.file(u.name,c,{base64:!0}):(i.browser&&typeof c=="string"&&(c=a(c)),this.zip.file(u.name,c))}finalize(){return Et(this,null,function*(){let c=yield this.zip.generateAsync(this.options);this.stream.end(c),this.emit("finish")})}read(c){return this.stream.read(c)}setEncoding(c){return this.stream.setEncoding(c)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(c,u){return this.stream.pipe(c,u)}unpipe(c){return this.stream.unpipe(c)}unshift(c){return this.stream.unshift(c)}wrap(c){return this.stream.wrap(c)}}t.exports={ZipWriter:l}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,t,n){"use strict";t.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,t,n){"use strict";t.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,t,n){"use strict";let i=e("../../utils/parse-sax"),r=e("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof o?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}parse(a){return Et(this,null,function*(){try{for(var l=V1(a),d,c,u;d=!(c=yield l.next()).done;d=!1){let h=c.value;for(let{eventType:p,value:f}of h)if(p==="opentag")this.parseOpen(f);else if(p==="text")this.parseText(f);else if(p==="closetag"&&!this.parseClose(f.name))return this.model}}catch{u=[c]}finally{try{d&&(c=l.return)&&(yield c.call(l))}finally{if(u)throw u[0]}}return this.model})}parseStream(a){return Et(this,null,function*(){return this.parse(i(a))})}get xml(){return this.toXml(this.model)}toXml(a){let l=new r;return this.render(l,a),l.xml}static toAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return l}else if(d||a!==l)return a.toString()}static toStringAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,d)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return l}else if(d||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,d)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,d)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}t.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../../../utils/col-cache");function o(a){try{return r.decodeEx(a),!0}catch{return!1}}function s(a){let l=[],d=!1,c="";return a.split(",").forEach(u=>{if(!u)return;let h=(u.match(/'/g)||[]).length;if(!h)return void(d?c+=u+",":o(u)&&l.push(u));let p=h%2==0;!d&&p&&o(u)?l.push(u):d&&!p?(d=!1,o(c+u)&&l.push(c+u),c=""):(d=!0,c+=u+",")}),l}t.exports=class extends i{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,t,n){"use strict";let i=e("../../../utils/utils"),r=e("../base-xform");t.exports=class extends r{render(o,s){o.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{render(r,o){r.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(r){return r.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{render(r,o){r.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(r){return r.name==="workbookPr"&&(this.model={date1904:r.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{render(r,o){let s={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(s.visibility=o.visibility),r.leafNode("workbookView",s)}parseOpen(r){if(r.name==="workbookView"){let o=this.model={},s=function(l,d,c){let u=d!==void 0?o[l]=d:c;u!==void 0&&(o[l]=u)},a=function(l,d,c){let u=d!==void 0?o[l]=parseInt(d,10):c;u!==void 0&&(o[l]=u)};return a("x",r.attributes.xWindow,0),a("y",r.attributes.yWindow,0),a("width",r.attributes.windowWidth,25e3),a("height",r.attributes.windowHeight,1e4),s("visibility",r.attributes.visibility,"visible"),a("activeTab",r.attributes.activeTab,void 0),a("firstSheet",r.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),s=e("../base-xform"),a=e("../static-xform"),l=e("../list-xform"),d=e("./defined-name-xform"),c=e("./sheet-xform"),u=e("./workbook-view-xform"),h=e("./workbook-properties-xform"),p=e("./workbook-calc-properties-xform");class f extends s{constructor(){super(),this.map={fileVersion:f.STATIC_XFORMS.fileVersion,workbookPr:new h,bookViews:new l({tag:"bookViews",count:!1,childXform:new u}),sheets:new l({tag:"sheets",count:!1,childXform:new c}),definedNames:new l({tag:"definedNames",count:!1,childXform:new d}),calcPr:new p}}prepare(g){g.sheets=g.worksheets;let v=[],w=0;g.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(T=>{let F=T.split(":"),k={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${F[0]}:$${F[1]}`],localSheetId:w};v.push(k)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){let T=[];if(E.pageSetup.printTitlesColumn){let k=E.pageSetup.printTitlesColumn.split(":");T.push(`'${E.name}'!$${k[0]}:$${k[1]}`)}if(E.pageSetup.printTitlesRow){let k=E.pageSetup.printTitlesRow.split(":");T.push(`'${E.name}'!$${k[0]}:$${k[1]}`)}let F={name:"_xlnm.Print_Titles",ranges:T,localSheetId:w};v.push(F)}w++}),v.length&&(g.definedNames=g.definedNames.concat(v)),(g.media||[]).forEach((E,T)=>{E.name=E.type+(T+1)})}render(g,v){g.openXml(o.StdDocAttributes),g.openNode("workbook",f.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(g),this.map.workbookPr.render(g,v.properties),this.map.bookViews.render(g,v.views),this.map.sheets.render(g,v.sheets),this.map.definedNames.render(g,v.definedNames),this.map.calcPr.render(g,v.calcProperties),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"workbook":return!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(g){let v=(g.workbookRels||[]).reduce((k,L)=>(k[L.Id]=L,k),{}),w=[],E,T=0;(g.sheets||[]).forEach(k=>{let L=v[k.rId];L&&(E=g.worksheetHash["xl/"+L.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=k.name,E.id=k.id,E.state=k.state,w[T++]=E))});let F=[];i.each(g.definedNames,k=>{if(k.name==="_xlnm.Print_Area"){if(E=w[k.localSheetId],E){E.pageSetup||(E.pageSetup={});let L=r.decodeEx(k.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${L.dimensions}`:L.dimensions}}else if(k.name==="_xlnm.Print_Titles"){if(E=w[k.localSheetId],E){E.pageSetup||(E.pageSetup={});let L=k.ranges.join(","),V=/\$/g,j=/\$\d+:\$\d+/,z=L.match(j);if(z&&z.length){let N=z[0];E.pageSetup.printTitlesRow=N.replace(V,"")}let R=/\$[A-Z]+:\$[A-Z]+/,I=L.match(R);if(I&&I.length){let N=I[0];E.pageSetup.printTitlesColumn=N.replace(V,"")}}}else F.push(k)}),g.definedNames=F,g.media.forEach((k,L)=>{k.index=L})}}f.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},f.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},t.exports=f},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,t,n){"use strict";let i=e("../strings/rich-text-xform"),r=e("../../../utils/utils"),o=e("../base-xform"),s=t.exports=function(a){this.model=a};r.inherits(s,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(d=>{this.richTextXform.render(a,d)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=re({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../../../utils/utils"),o=e("../base-xform"),s=e("./comment-xform"),a=t.exports=function(){this.map={comment:new s}};r.inherits(a,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,d){d=d||this.model,l.openXml(i.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),d.comments.forEach(c=>{this.map.comment.render(l,c)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{constructor(r){super(),this._model=r}get tag(){return this._model&&this._model.tag}render(r,o,s){(o===s[2]||this.tag==="x:SizeWithCells"&&o===s[1])&&r.leafNode(this.tag)}parseOpen(r){switch(r.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{constructor(r){super(),this._model=r}get tag(){return this._model&&this._model.tag}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(r){switch(r.name){case this.tag:return this.text="",!0;default:return!1}}parseText(r){this.text=r}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(r){let o=Math.floor(r.left),s=Math.floor(68*(r.left-o)),a=Math.floor(r.top),l=Math.floor(18*(r.top-a)),d=Math.floor(r.right),c=Math.floor(68*(r.right-d)),u=Math.floor(r.bottom);return[o,s,a,l,d,c,u,Math.floor(18*(r.bottom-u))]}getDefaultRect(r){let o=r.col,s=Math.max(r.row-2,0);return[o,6,s,14,o+2,2,s+4,16]}render(r,o){let s=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);r.leafNode("x:Anchor",null,s.join(", "))}parseOpen(r){switch(r.name){case this.tag:return this.text="",!0;default:return!1}}parseText(r){this.text=r}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./vml-anchor-xform"),o=e("./style/vml-protection-xform"),s=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];t.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new r,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,d){let{protection:c,editAs:u}=d.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,u,a),this.map["x:SizeWithCells"].render(l,u,a),this.map["x:Anchor"].render(l,d),this.map["x:Locked"].render(l,c.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,c.lockText),l.leafNode("x:Row",null,d.refAddress.row-1),l.leafNode("x:Column",null,d.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(l).length;this.model.editAs=a[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform"),o=e("./vml-shape-xform");class s extends r{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(l,d){l.openXml(i.StdDocAttributes),l.openNode(this.tag,s.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),d.comments.forEach((c,u)=>{this.map["v:shape"].render(l,c,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,d){l.anchors.forEach(c=>{c.br?this.map["xdr:twoCellAnchor"].reconcile(c,d):this.map["xdr:oneCellAnchor"].reconcile(c,d)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./vml-textbox-xform"),o=e("./vml-client-data-xform");class s extends i{constructor(){super(),this.map={"v:textbox":new r,"x:ClientData":new o}}get tag(){return"v:shape"}render(l,d,c){l.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(d,c)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,d),this.map["x:ClientData"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),t.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(r,o,s){return`${parseFloat(r)*o.toFixed(2)}${s}`}reverseConversionUnit(r){return(r||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(r,o){let s={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:a}=o.note&&o.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(s.inset=a)}r.openNode("v:textbox",s),r.leafNode("div",{style:"text-align:left"}),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:return this.model={inset:this.reverseConversionUnit(r.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,t,n){"use strict";let i=e("./base-xform");t.exports=class extends i{createNewModel(r){return{}}parseOpen(r){return this.parser=this.parser||this.map[r.name],this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag&&(this.model=this.createNewModel(r),!0)}parseText(r){this.parser&&this.parser.parseText(r)}onParserClose(r,o){this.model[r]=o.model}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.onParserClose(r,this.parser),this.parser=void 0),!0):r!==this.tag}}},{"./base-xform":32}],49:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{render(r,o){r.openNode("HeadingPairs"),r.openNode("vt:vector",{size:2,baseType:"variant"}),r.openNode("vt:variant"),r.leafNode("vt:lpstr",void 0,"Worksheets"),r.closeNode(),r.openNode("vt:variant"),r.leafNode("vt:i4",void 0,o.length),r.closeNode(),r.closeNode(),r.closeNode()}parseOpen(r){return r.name==="HeadingPairs"}parseText(){}parseClose(r){return r!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{render(r,o){r.openNode("TitlesOfParts"),r.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(s=>{r.leafNode("vt:lpstr",void 0,s.name)}),r.closeNode(),r.closeNode()}parseOpen(r){return r.name==="TitlesOfParts"}parseText(){}parseClose(r){return r!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform"),o=e("../simple/string-xform"),s=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class l extends r{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new a}}render(c,u){c.openXml(i.StdDocAttributes),c.openNode("Properties",l.PROPERTY_ATTRIBUTES),c.leafNode("Application",void 0,"Microsoft Excel"),c.leafNode("DocSecurity",void 0,"0"),c.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(c,u.worksheets),this.map.TitleOfParts.render(c,u.worksheets),this.map.Company.render(c,u.company||""),this.map.Manager.render(c,u.manager),c.leafNode("LinksUpToDate",void 0,"false"),c.leafNode("SharedDoc",void 0,"false"),c.leafNode("HyperlinksChanged",void 0,"false"),c.leafNode("AppVersion",void 0,"16.0300"),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Properties":return!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform");class o extends r{render(a,l){a.openXml(i.StdDocAttributes),a.openNode("Types",o.PROPERTY_ATTRIBUTES);let d={};(l.media||[]).forEach(c=>{if(c.type==="image"){let u=c.extension;d[u]||(d[u]=!0,a.leafNode("Default",{Extension:u,ContentType:"image/"+u}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(c=>{let u=`/xl/worksheets/sheet${c.id}.xml`;a.leafNode("Override",{PartName:u,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(c=>{a.leafNode("Override",{PartName:"/xl/tables/"+c.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(c=>{a.leafNode("Override",{PartName:`/xl/drawings/${c.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(c=>{let{commentName:u}=c;a.leafNode("Override",{PartName:`/xl/${u}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform"),o=e("../simple/date-xform"),s=e("../simple/string-xform"),a=e("../simple/integer-xform");class l extends r{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(c,u){c.openXml(i.StdDocAttributes),c.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(c,u.creator),this.map["dc:title"].render(c,u.title),this.map["dc:subject"].render(c,u.subject),this.map["dc:description"].render(c,u.description),this.map["dc:identifier"].render(c,u.identifier),this.map["dc:language"].render(c,u.language),this.map["cp:keywords"].render(c,u.keywords),this.map["cp:category"].render(c,u.category),this.map["cp:lastModifiedBy"].render(c,u.lastModifiedBy),this.map["cp:lastPrinted"].render(c,u.lastPrinted),this.map["cp:revision"].render(c,u.revision),this.map["cp:version"].render(c,u.version),this.map["cp:contentStatus"].render(c,u.contentStatus),this.map["cp:contentType"].render(c,u.contentType),this.map["dcterms:created"].render(c,u.created),this.map["dcterms:modified"].render(c,u.modified),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{render(r,o){r.leafNode("Relationship",o)}parseOpen(r){switch(r.name){case"Relationship":return this.model=r.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform"),o=e("./relationship-xform");class s extends r{constructor(){super(),this.map={Relationship:new o}}render(l,d){d=d||this._values,l.openXml(i.StdDocAttributes),l.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),d.forEach(c=>{this.map.Relationship.render(l,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset(),this.model={range:{editAs:r.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}reconcilePicture(r,o){if(r&&r.rId){let s=o.rels[r.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){let a=s[1],l=o.mediaIndex[a];return o.media[l]}}}}},{"../base-xform":32}],57:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./blip-xform");t.exports=class extends i{constructor(){super(),this.map={"a:blip":new r}}get tag(){return"xdr:blipFill"}render(o,s){o.openNode(this.tag),this.map["a:blip"].render(o,s),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:blip"}render(r,o){r.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(r){r.openNode(this.tag),r.leafNode("a:picLocks",{noChangeAspect:"1"}),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./hlink-click-xform"),o=e("./ext-lst-xform");t.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new r,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(s,a){s.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(s,a),this.map["a:extLst"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../simple/integer-xform");t.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new r({tag:"xdr:col",zero:!0}),"xdr:colOff":new r({tag:"xdr:colOff",zero:!0}),"xdr:row":new r({tag:"xdr:row",zero:!0}),"xdr:rowOff":new r({tag:"xdr:rowOff",zero:!0})}}render(o,s){o.openNode(this.tag),this.map["xdr:col"].render(o,s.nativeCol),this.map["xdr:colOff"].render(o,s.nativeColOff),this.map["xdr:row"].render(o,s.nativeRow),this.map["xdr:rowOff"].render(o,s.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,t,n){"use strict";let i=e("../../../utils/col-cache"),r=e("../../../utils/xml-stream"),o=e("../base-xform"),s=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class l extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new a}}prepare(c){c.anchors.forEach((u,h)=>{u.anchorType=function(p){return(typeof p.range=="string"?i.decode(p.range):p.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(u),this.map[u.anchorType].prepare(u,{index:h})})}get tag(){return"xdr:wsDr"}render(c,u){c.openXml(r.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.anchors.forEach(h=>{this.map[h.anchorType].render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,u){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,u):this.map["xdr:oneCellAnchor"].reconcile(h,u)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},t.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:extLst"}render(r){r.openNode(this.tag),r.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),r.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),r.closeNode(),r.closeNode()}parseOpen(r){switch(r.name){case this.tag:default:return!0}}parseText(){}parseClose(r){switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.map={}}render(r,o){r.openNode(this.tag);let s=Math.floor(9525*o.width),a=Math.floor(9525*o.height);r.addAttribute("cx",s),r.addAttribute("cy",a),r.closeNode()}parseOpen(r){return r.name===this.tag&&(this.model={width:parseInt(r.attributes.cx||"0",10)/9525,height:parseInt(r.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:hlinkClick"}render(r,o){o.hyperlinks&&o.hyperlinks.rId&&r.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(r){switch(r.name){case this.tag:return this.model={hyperlinks:{rId:r.attributes["r:id"],tooltip:r.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./c-nv-pr-xform"),o=e("./c-nv-pic-pr-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new r,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(s,a){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,a),this.map["xdr:cNvPicPr"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,t,n){"use strict";let i=e("./base-cell-anchor-xform"),r=e("../static-xform"),o=e("./cell-position-xform"),s=e("./ext-xform"),a=e("./pic-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new r({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:ext"].render(l,d.range.ext),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../static-xform"),o=e("./blip-fill-xform"),s=e("./nv-pic-pr-xform"),a=e("./sp-pr");t.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new o,"xdr:spPr":new r(a)}}get tag(){return"xdr:pic"}prepare(l,d){l.index=d.index+1}render(l,d){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,d),this.map["xdr:blipFill"].render(l,d),this.map["xdr:spPr"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,t,n){"use strict";t.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,t,n){"use strict";let i=e("./base-cell-anchor-xform"),r=e("../static-xform"),o=e("./cell-position-xform"),s=e("./pic-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new r({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,t,n){"use strict";let i=e("./base-xform");t.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.always=!!r.always,this.count=r.count,this.empty=r.empty,this.$count=r.$count||"count",this.$=r.$,this.childXform=r.childXform,this.maxItems=r.maxItems}prepare(r,o){let{childXform:s}=this;r&&r.forEach((a,l)=>{o.index=l,s.prepare(a,o)})}render(r,o){if(this.always||o&&o.length){r.openNode(this.tag,this.$),this.count&&r.addAttribute(this.$count,o&&o.length||0);let{childXform:s}=this;(o||[]).forEach((a,l)=>{s.render(r,a,l)}),r.closeNode()}else this.empty&&r.leafNode(this.tag)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(r)&&(this.parser=this.childXform,!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(r,o){if(r){let{childXform:s}=this;r.forEach(a=>{s.reconcile(a,o)})}}}},{"./base-xform":32}],72:[function(e,t,n){"use strict";let i=e("../../../utils/col-cache"),r=e("../base-xform");t.exports=class extends r{get tag(){return"autoFilter"}render(o,s){if(s)if(typeof s=="string")o.leafNode("autoFilter",{ref:s});else{let a=function(c){return typeof c=="string"?c:i.getAddress(c.row,c.column).address},l=a(s.from),d=a(s.to);l&&d&&o.leafNode("autoFilter",{ref:`${l}:${d}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,t,n){"use strict";let i=e("../../../utils/utils"),r=e("../base-xform"),o=e("../../../doc/range"),s=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function l(d){if(d==null)return s.ValueType.Null;if(d instanceof String||typeof d=="string")return s.ValueType.String;if(typeof d=="number")return s.ValueType.Number;if(typeof d=="boolean")return s.ValueType.Boolean;if(d instanceof Date)return s.ValueType.Date;if(d.text&&d.hyperlink)return s.ValueType.Hyperlink;if(d.formula)return s.ValueType.Formula;if(d.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}t.exports=class extends r{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(d,c){let u=c.styles.addStyleModel(d.style||{},function(h){switch(h.type){case s.ValueType.Formula:return l(h.result);default:return h.type}}(d));switch(u&&(d.styleId=u),d.comment&&c.comments.push(Le(re({},d.comment),{ref:d.address})),d.type){case s.ValueType.String:case s.ValueType.RichText:c.sharedStrings&&(d.ssId=c.sharedStrings.add(d.value));break;case s.ValueType.Date:c.date1904&&(d.date1904=!0);break;case s.ValueType.Hyperlink:c.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=c.sharedStrings.add(d.text)),c.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case s.ValueType.Merge:c.merges.add(d);break;case s.ValueType.Formula:if(c.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=c.siFormulae++),d.formula)c.formulae[d.address]=d;else if(d.sharedFormula){let h=c.formulae[d.sharedFormula];if(!h)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);h.si===void 0?(h.shareType="shared",h.si=c.siFormulae++,h.range=new o(h.address,d.address)):h.range&&h.range.expandToAddress(d.address),d.si=h.si}}}renderFormula(d,c){let u=null;switch(c.shareType){case"shared":u={t:"shared",ref:c.ref||c.range.range,si:c.si};break;case"array":u={t:"array",ref:c.ref};break;default:c.si!==void 0&&(u={t:"shared",si:c.si})}switch(l(c.result)){case s.ValueType.Null:d.leafNode("f",u,c.formula);break;case s.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result);break;case s.ValueType.Number:d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result?1:0);break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",u,c.formula),d.leafNode("v",null,c.result.error);break;case s.ValueType.Date:d.leafNode("f",u,c.formula),d.leafNode("v",null,i.dateToExcel(c.result,c.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,c){if(c.type!==s.ValueType.Null||c.styleId){switch(d.openNode("c"),d.addAttribute("r",c.address),c.styleId&&d.addAttribute("s",c.styleId),c.type){case s.ValueType.Null:break;case s.ValueType.Number:d.leafNode("v",null,c.value);break;case s.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,c.value?"1":"0");break;case s.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,c.value.error);break;case s.ValueType.String:case s.ValueType.RichText:c.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,c.ssId)):c.value&&c.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),c.value.richText.forEach(u=>{this.richTextXForm.render(d,u)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,c.value));break;case s.ValueType.Date:d.leafNode("v",null,i.dateToExcel(c.value,c.date1904));break;case s.ValueType.Hyperlink:c.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,c.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,c.text));break;case s.ValueType.Formula:this.renderFormula(d,c);break;case s.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{let{model:c}=this;if(c.formula||c.shareType)c.type=s.ValueType.Formula,c.value&&(this.t==="str"?c.result=i.xmlDecode(c.value):this.t==="b"?c.result=parseInt(c.value,10)!==0:this.t==="e"?c.result={error:c.value}:c.result=parseFloat(c.value),c.value=void 0);else if(c.value!==void 0)switch(this.t){case"s":c.type=s.ValueType.String,c.value=parseInt(c.value,10);break;case"str":c.type=s.ValueType.String,c.value=i.xmlDecode(c.value);break;case"inlineStr":c.type=s.ValueType.String;break;case"b":c.type=s.ValueType.Boolean,c.value=parseInt(c.value,10)!==0;break;case"e":c.type=s.ValueType.Error,c.value={error:c.value};break;default:c.type=s.ValueType.Number,c.value=parseFloat(c.value)}else c.styleId?c.type=s.ValueType.Null:c.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,c){let u=d.styleId&&c.styles&&c.styles.getStyleModel(d.styleId);switch(u&&(d.style=u),d.styleId!==void 0&&(d.styleId=void 0),d.type){case s.ValueType.String:typeof d.value=="number"&&c.sharedStrings&&(d.value=c.sharedStrings.getString(d.value)),d.value.richText&&(d.type=s.ValueType.RichText);break;case s.ValueType.Number:u&&i.isDateFmt(u.numFmt)&&(d.type=s.ValueType.Date,d.value=i.excelToDate(d.value,c.date1904));break;case s.ValueType.Formula:d.result!==void 0&&u&&i.isDateFmt(u.numFmt)&&(d.result=i.excelToDate(d.result,c.date1904)),d.shareType==="shared"&&(d.ref?c.formulae[d.si]=d.address:(d.sharedFormula=c.formulae[d.si],delete d.shareType),delete d.si)}let h=c.hyperlinkMap[d.address];h&&(d.type===s.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=s.ValueType.Hyperlink,d.hyperlink=h);let p=c.commentsMap&&c.commentsMap[d.address];p&&(d.comment=p)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"x14:cfIcon"}render(r,o){r.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(r){let{attributes:o}=r;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],75:[function(e,t,n){"use strict";let{v4:i}=e("uuid"),r=e("../../base-xform"),o=e("../../composite-xform"),s=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(u){return u.type==="dataBar"?s.isExt(u):!(u.type!=="iconSet"||!u.custom&&!l[u.iconSet])}prepare(u){d.isExt(u)&&(u.x14Id=`{${i()}}`.toUpperCase())}render(u,h){if(d.isExt(h))switch(h.type){case"dataBar":this.renderDataBar(u,h);break;case"iconSet":this.renderIconSet(u,h)}}renderDataBar(u,h){u.openNode(this.tag,{type:"dataBar",id:h.x14Id}),this.databarXform.render(u,h),u.closeNode()}renderIconSet(u,h){u.openNode(this.tag,{type:"iconSet",priority:h.priority,id:h.x14Id||`{${i()}}`}),this.iconSetXform.render(u,h),u.closeNode()}createNewModel(u){let{attributes:h}=u;return{type:h.type,x14Id:h.id,priority:r.toIntValue(h.priority)}}onParserClose(u,h){Object.assign(this.model,h.model)}}t.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,t,n){"use strict";let i=e("../../composite-xform"),r=e("./f-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new r}}get tag(){return"x14:cfvo"}render(o,s){o.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(o,s.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,s){switch(o){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,t,n){"use strict";let i=e("../../composite-xform"),r=e("./sqref-ext-xform"),o=e("./cf-rule-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new r,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(s,a){s.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(s,a){a.rules.some(o.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(o.isExt).forEach(l=>this.cfRule.render(s,l)),this.sqRef.render(s,a.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,a){switch(s){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,t,n){"use strict";let i=e("../../composite-xform"),r=e("./cf-rule-ext-xform"),o=e("./conditional-formatting-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(a=>a.rules.some(r.isExt))),s.hasExtContent}prepare(s,a){s.forEach(l=>{this.cfXform.prepare(l,a)})}render(s,a){this.hasContent(a)&&(s.openNode(this.tag),a.forEach(l=>this.cfXform.render(s,l)),s.closeNode())}createNewModel(){return[]}onParserClose(s,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,t,n){"use strict";let i=e("../../base-xform"),r=e("../../composite-xform"),o=e("../../style/color-xform"),s=e("./cfvo-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:i.toIntAttribute(l.minLength,0,!0),maxLength:i.toIntAttribute(l.maxLength,100,!0),border:i.toBoolAttribute(l.border,!1),gradient:i.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(l.axisPosition,"auto"),direction:i.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:i.toIntValue(l.minLength,0),maxLength:i.toIntValue(l.maxLength,100),border:i.toBoolValue(l.border,!1),gradient:i.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(l.axisPosition,"auto"),direction:i.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[d]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"xm:f"}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],81:[function(e,t,n){"use strict";let i=e("../../base-xform"),r=e("../../composite-xform"),o=e("./cfvo-ext-xform"),s=e("./cf-icon-ext-xform");t.exports=class extends r{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0),custom:i.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),l.icons&&l.icons.forEach((d,c)=>{d.iconId=c,this.cfIconXform.render(a,d)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse,!1),showValue:i.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[d]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"xm:sqref"}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],83:[function(e,t,n){"use strict";let i=e("../../base-xform"),r=e("../../composite-xform"),o=e("../../../../doc/range"),s=e("./databar-xform"),a=e("./ext-lst-ref-xform"),l=e("./formula-xform"),d=e("./color-scale-xform"),c=e("./icon-set-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},h=f=>{let{type:m,operator:g}=f;switch(m){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:m};default:return{type:m,operator:g}}};class p extends r{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new c}}get tag(){return"cfRule"}static isPrimitive(m){return m.type!=="iconSet"||!m.custom&&!u[m.iconSet]}render(m,g){switch(g.type){case"expression":this.renderExpression(m,g);break;case"cellIs":this.renderCellIs(m,g);break;case"top10":this.renderTop10(m,g);break;case"aboveAverage":this.renderAboveAverage(m,g);break;case"dataBar":this.renderDataBar(m,g);break;case"colorScale":this.renderColorScale(m,g);break;case"iconSet":this.renderIconSet(m,g);break;case"containsText":this.renderText(m,g);break;case"timePeriod":this.renderTimePeriod(m,g)}}renderExpression(m,g){m.openNode(this.tag,{type:"expression",dxfId:g.dxfId,priority:g.priority}),this.formulaXform.render(m,g.formulae[0]),m.closeNode()}renderCellIs(m,g){m.openNode(this.tag,{type:"cellIs",dxfId:g.dxfId,priority:g.priority,operator:g.operator}),g.formulae.forEach(v=>{this.formulaXform.render(m,v)}),m.closeNode()}renderTop10(m,g){m.leafNode(this.tag,{type:"top10",dxfId:g.dxfId,priority:g.priority,percent:i.toBoolAttribute(g.percent,!1),bottom:i.toBoolAttribute(g.bottom,!1),rank:i.toIntValue(g.rank,10,!0)})}renderAboveAverage(m,g){m.leafNode(this.tag,{type:"aboveAverage",dxfId:g.dxfId,priority:g.priority,aboveAverage:i.toBoolAttribute(g.aboveAverage,!0)})}renderDataBar(m,g){m.openNode(this.tag,{type:"dataBar",priority:g.priority}),this.databarXform.render(m,g),this.extLstRefXform.render(m,g),m.closeNode()}renderColorScale(m,g){m.openNode(this.tag,{type:"colorScale",priority:g.priority}),this.colorScaleXform.render(m,g),m.closeNode()}renderIconSet(m,g){p.isPrimitive(g)&&(m.openNode(this.tag,{type:"iconSet",priority:g.priority}),this.iconSetXform.render(m,g),m.closeNode())}renderText(m,g){m.openNode(this.tag,{type:g.operator,dxfId:g.dxfId,priority:g.priority,operator:i.toStringAttribute(g.operator,"containsText")});let v=(w=>{if(w.formulae&&w.formulae[0])return w.formulae[0];let E=new o(w.ref),{tl:T}=E;switch(w.operator){case"containsText":return`NOT(ISERROR(SEARCH("${w.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}})(g);v&&this.formulaXform.render(m,v),m.closeNode()}renderTimePeriod(m,g){m.openNode(this.tag,{type:"timePeriod",dxfId:g.dxfId,priority:g.priority,timePeriod:g.timePeriod});let v=(w=>{if(w.formulae&&w.formulae[0])return w.formulae[0];let E=new o(w.ref),{tl:T}=E;switch(w.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(g);v&&this.formulaXform.render(m,v),m.closeNode()}createNewModel(m){let{attributes:g}=m;return Le(re({},h(g)),{dxfId:i.toIntValue(g.dxfId),priority:i.toIntValue(g.priority),timePeriod:g.timePeriod,percent:i.toBoolValue(g.percent),bottom:i.toBoolValue(g.bottom),rank:i.toIntValue(g.rank),aboveAverage:i.toBoolValue(g.aboveAverage)})}onParserClose(m,g){switch(m){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,g.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(g.model)}}}t.exports=p},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"cfvo"}render(r,o){r.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(r){this.model={type:r.attributes.type,value:i.toFloatValue(r.attributes.val)}}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],85:[function(e,t,n){"use strict";let i=e("../../composite-xform"),r=e("../../style/color-xform"),o=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new r}}get tag(){return"colorScale"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),a.color.forEach(l=>{this.colorXform.render(s,l)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,t,n){"use strict";let i=e("../../composite-xform"),r=e("./cf-rule-xform");t.exports=class extends i{constructor(){super(),this.map={cfRule:new r}}get tag(){return"conditionalFormatting"}render(o,s){s.rules.some(r.isPrimitive)&&(o.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(a=>{r.isPrimitive(a)&&(a.ref=s.ref,this.map.cfRule.render(o,a))}),o.closeNode())}createNewModel(o){let{attributes:s}=o;return{ref:s.sqref,rules:[]}}onParserClose(o,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,t,n){"use strict";let i=e("../../base-xform"),r=e("./conditional-formatting-xform");t.exports=class extends i{constructor(){super(),this.cfXform=new r}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,s){let a=o.reduce((l,d)=>Math.max(l,...d.rules.map(c=>c.priority||0)),1);o.forEach(l=>{l.rules.forEach(d=>{d.priority||(d.priority=a++),d.style&&(d.dxfId=s.styles.addDxfStyle(d.style))})})}render(o,s){s.forEach(a=>{this.cfXform.render(o,a)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,s){o.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=s.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,t,n){"use strict";let i=e("../../composite-xform"),r=e("../../style/color-xform"),o=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new r}}get tag(){return"dataBar"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),this.colorXform.render(s,a.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,a){switch(s){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,t,n){"use strict";let i=e("../../base-xform"),r=e("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(l,d){l.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class s extends r{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(l,d){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,d.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model.x14Id=d.model}}t.exports=class extends r{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,t,n){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"formula"}render(r,o){r.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(r){this.model+=r}parseClose(r){return r!==this.tag}}},{"../../base-xform":32}],91:[function(e,t,n){"use strict";let i=e("../../base-xform"),r=e("../../composite-xform"),o=e("./cfvo-xform");t.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(s,a){s.openNode(this.tag,{iconSet:i.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(a.reverse,!1),showValue:i.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),s.closeNode()}createNewModel(s){let{attributes:a}=s;return{iconSet:i.toStringValue(a.iconSet,"3TrafficLights"),reverse:i.toBoolValue(a.reverse),showValue:i.toBoolValue(a.showValue),cfvo:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,t,n){"use strict";let i=e("../../../utils/utils"),r=e("../base-xform");t.exports=class extends r{get tag(){return"col"}prepare(o,s){let a=s.styles.addStyleModel(o.style||{});a&&(o.styleId=a)}render(o,s){o.openNode("col"),o.addAttribute("min",s.min),o.addAttribute("max",s.max),s.width&&o.addAttribute("width",s.width),s.styleId&&o.addAttribute("style",s.styleId),s.hidden&&o.addAttribute("hidden","1"),s.bestFit&&o.addAttribute("bestFit","1"),s.outlineLevel&&o.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){let s=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(s.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(s.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(s.bestFit=!0),o.attributes.outlineLevel&&(s.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,s){o.styleId&&(o.style=s.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../../../utils/utils"),o=e("../../../utils/col-cache"),s=e("../base-xform"),a=e("../../../doc/range");function l(c,u,h,p){let f=u[h];f!==void 0?c[h]=f:p!==void 0&&(c[h]=p)}function d(c,u,h,p){let f=u[h];f!==void 0?c[h]=r.parseBoolean(f):p!==void 0&&(c[h]=p)}t.exports=class extends s{get tag(){return"dataValidations"}render(c,u){let h=function(p){let f=i.map(p,(v,w)=>({address:w,dataValidation:v,marked:!1})).sort((v,w)=>i.strcmp(v.address,w.address)),m=i.keyBy(f,"address"),g=(v,w,E)=>{for(let T=0;T<w;T++){let F=o.encodeAddress(v.row+T,E);if(!p[F]||!i.isEqual(p[v.address],p[F]))return!1}return!0};return f.map(v=>{if(!v.marked){let w=o.decodeEx(v.address);if(w.dimensions)return m[w.dimensions].marked=!0,Le(re({},v.dataValidation),{sqref:v.address});let E=1,T=o.encodeAddress(w.row+E,w.col);for(;p[T]&&i.isEqual(v.dataValidation,p[T]);)E++,T=o.encodeAddress(w.row+E,w.col);let F=1;for(;g(w,E,w.col+F);)F++;for(let k=0;k<E;k++)for(let L=0;L<F;L++)T=o.encodeAddress(w.row+k,w.col+L),m[T].marked=!0;if(E>1||F>1){let k=w.row+(E-1),L=w.col+(F-1);return Le(re({},v.dataValidation),{sqref:`${v.address}:${o.encodeAddress(k,L)}`})}return Le(re({},v.dataValidation),{sqref:v.address})}return null}).filter(Boolean)}(u);h.length&&(c.openNode("dataValidations",{count:h.length}),h.forEach(p=>{c.openNode("dataValidation"),p.type!=="any"&&(c.addAttribute("type",p.type),p.operator&&p.type!=="list"&&p.operator!=="between"&&c.addAttribute("operator",p.operator),p.allowBlank&&c.addAttribute("allowBlank","1")),p.showInputMessage&&c.addAttribute("showInputMessage","1"),p.promptTitle&&c.addAttribute("promptTitle",p.promptTitle),p.prompt&&c.addAttribute("prompt",p.prompt),p.showErrorMessage&&c.addAttribute("showErrorMessage","1"),p.errorStyle&&c.addAttribute("errorStyle",p.errorStyle),p.errorTitle&&c.addAttribute("errorTitle",p.errorTitle),p.error&&c.addAttribute("error",p.error),c.addAttribute("sqref",p.sqref),(p.formulae||[]).forEach((f,m)=>{c.openNode("formula"+(m+1)),p.type==="date"?c.writeText(r.dateToExcel(new Date(f))):c.writeText(f),c.closeNode()}),c.closeNode()}),c.closeNode())}parseOpen(c){switch(c.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=c.attributes.sqref;let u={type:c.attributes.type||"any",formulae:[]};switch(c.attributes.type&&d(u,c.attributes,"allowBlank"),d(u,c.attributes,"showInputMessage"),d(u,c.attributes,"showErrorMessage"),u.type){case"any":case"list":case"custom":break;default:l(u,c.attributes,"operator","between")}return l(u,c.attributes,"promptTitle"),l(u,c.attributes,"prompt"),l(u,c.attributes,"errorStyle"),l(u,c.attributes,"errorTitle"),l(u,c.attributes,"error"),this._dataValidation=u,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(c){this._formula&&this._formula.push(c)}parseClose(c){switch(c){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(u=>{u.includes(":")?new a(u).forEachAddress(h=>{this.model[h]=this._dataValidation}):this.model[u]=this._dataValidation}),!0;case"formula1":case"formula2":{let u=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":u=parseInt(u,10);break;case"decimal":u=parseFloat(u);break;case"date":u=r.excelToDate(parseFloat(u))}return this._dataValidation.formulae.push(u),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"dimension"}render(r,o){o&&r.leafNode("dimension",{ref:o})}parseOpen(r){return r.name==="dimension"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"drawing"}render(r,o){o&&r.leafNode(this.tag,{"r:id":o.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,t,n){"use strict";let i=e("../composite-xform"),r=e("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new r}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}t.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(s,a){this.ext.prepare(s,a)}hasContent(s){return this.ext.hasContent(s)}render(s,a){this.hasContent(a)&&(s.openNode("extLst"),this.ext.render(s,a),s.closeNode())}createNewModel(){return{}}onParserClose(s,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"headerFooter"}render(r,o){if(o){r.addRollback();let s=!1;r.openNode("headerFooter"),o.differentFirst&&(r.addAttribute("differentFirst","1"),s=!0),o.differentOddEven&&(r.addAttribute("differentOddEven","1"),s=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(r.leafNode("oddHeader",null,o.oddHeader),s=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(r.leafNode("oddFooter",null,o.oddFooter),s=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(r.leafNode("evenHeader",null,o.evenHeader),s=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(r.leafNode("evenFooter",null,o.evenFooter),s=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(r.leafNode("firstHeader",null,o.firstHeader),s=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(r.leafNode("firstFooter",null,o.firstFooter),s=!0),s?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){switch(r.name){case"headerFooter":return this.model={},r.attributes.differentFirst&&(this.model.differentFirst=parseInt(r.attributes.differentFirst,0)===1),r.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(r.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(r){switch(this.currentNode){case"oddHeader":this.model.oddHeader=r;break;case"oddFooter":this.model.oddFooter=r;break;case"evenHeader":this.model.evenHeader=r;break;case"evenFooter":this.model.evenFooter=r;break;case"firstHeader":this.model.firstHeader=r;break;case"firstFooter":this.model.firstFooter=r}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"hyperlink"}render(r,o){this.isInternalLink(o)?r.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):r.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(r){return r.name==="hyperlink"&&(this.model={address:r.attributes.ref,rId:r.attributes["r:id"],tooltip:r.attributes.tooltip},r.attributes.location&&(this.model.target=r.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(r){return r.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(r.target)}}},{"../base-xform":32}],99:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"mergeCell"}render(r,o){r.leafNode("mergeCell",{ref:o})}parseOpen(r){return r.name==="mergeCell"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../../../doc/range"),o=e("../../../utils/col-cache"),s=e("../../../doc/enums");t.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new r(l)}}get mergeCells(){return i.map(this.merges,a=>a.range)}reconcile(a,l){i.each(a,d=>{let c=o.decode(d);for(let u=c.top;u<=c.bottom;u++){let h=l[u-1];for(let p=c.left;p<=c.right;p++){let f=h.cells[p-1];f?f.type===s.ValueType.Merge&&(f.master=c.tl):h.cells[p]={type:s.ValueType.Null,address:o.encodeAddress(u,p)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,t,n){"use strict";let i=e("../base-xform"),r=o=>o!==void 0;t.exports=class extends i{get tag(){return"outlinePr"}render(o,s){return!(!s||!r(s.summaryBelow)&&!r(s.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:r(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:r(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:r(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:r(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"brk"}render(r,o){r.leafNode("brk",o)}parseOpen(r){return r.name==="brk"&&(this.model=r.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../base-xform");t.exports=class extends r{get tag(){return"pageMargins"}render(o,s){if(s){let a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};i.some(a,l=>l!==void 0)&&o.leafNode(this.tag,a)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"pageSetUpPr"}render(r,o){return!(!o||!o.fitToPage)&&(r.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(r){return r.name===this.tag&&(this.model={fitToPage:r.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../base-xform");function o(d){return d?"1":void 0}function s(d){switch(d){case"overThenDown":return d;default:return}}function a(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function l(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}t.exports=class extends r{get tag(){return"pageSetup"}render(d,c){if(c){let u={paperSize:c.paperSize,orientation:c.orientation,horizontalDpi:c.horizontalDpi,verticalDpi:c.verticalDpi,pageOrder:s(c.pageOrder),blackAndWhite:o(c.blackAndWhite),draft:o(c.draft),cellComments:a(c.cellComments),errors:l(c.errors),scale:c.scale,fitToWidth:c.fitToWidth,fitToHeight:c.fitToHeight,firstPageNumber:c.firstPageNumber,useFirstPageNumber:o(c.firstPageNumber),usePrinterDefaults:o(c.usePrinterDefaults),copies:c.copies};i.some(u,h=>h!==void 0)&&d.leafNode(this.tag,u)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(c=d.attributes.paperSize,c!==void 0?parseInt(c,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var c}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"picture"}render(r,o){o&&r.leafNode(this.tag,{"r:id":o.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../base-xform");function o(s){return s?"1":void 0}t.exports=class extends r{get tag(){return"printOptions"}render(s,a){if(a){let l={headings:o(a.showRowColHeaders),gridLines:o(a.showGridLines),horizontalCentered:o(a.horizontalCentered),verticalCentered:o(a.verticalCentered)};i.some(l,d=>d!==void 0)&&s.leafNode(this.tag,l)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,t,n){"use strict";let i=e("./page-breaks-xform"),r=e("../list-xform");t.exports=class extends r{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,s){if(s&&s.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,s.length),o.addAttribute("manualBreakCount",s.length));let{childXform:a}=this;s.forEach(l=>{a.render(o,l)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../../../utils/utils"),o=e("./cell-xform");t.exports=class extends i{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(s,a){let l=a.styles.addStyleModel(s.style);l&&(s.styleId=l);let d=this.map.c;s.cells.forEach(c=>{d.prepare(c,a)})}render(s,a,l){s.openNode("row"),s.addAttribute("r",a.number),a.height&&(s.addAttribute("ht",a.height),s.addAttribute("customHeight","1")),a.hidden&&s.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&s.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(s.addAttribute("s",a.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&s.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&s.addAttribute("collapsed","1");let d=this.map.c;a.cells.forEach(c=>{d.render(s,c,l)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;let a=s.attributes.spans?s.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],l=this.model={number:parseInt(s.attributes.r,10),min:a[0],max:a[1],cells:[]};return s.attributes.s&&(l.styleId=parseInt(s.attributes.s,10)),r.parseBoolean(s.attributes.hidden)&&(l.hidden=!0),r.parseBoolean(s.attributes.bestFit)&&(l.bestFit=!0),s.attributes.ht&&(l.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(l.outlineLevel=parseInt(s.attributes.outlineLevel,10)),r.parseBoolean(s.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,a){s.style=s.styleId?a.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);let l=this.map.c;s.cells.forEach(d=>{l.reconcile(d,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../base-xform");t.exports=class extends r{get tag(){return"sheetFormatPr"}render(o,s){if(s){let a={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(a.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(a.customHeight="1"),i.some(a,l=>l!==void 0)&&o.leafNode("sheetFormatPr",a)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../style/color-xform"),o=e("./page-setup-properties-xform"),s=e("./outline-properties-xform");t.exports=class extends i{constructor(){super(),this.map={tabColor:new r("tabColor"),pageSetUpPr:new o,outlinePr:new s}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(a,l.tabColor)||d,d=this.map.pageSetUpPr.render(a,l.pageSetup)||d,d=this.map.outlinePr.render(a,l.outlineProperties)||d,d?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../base-xform");function o(a,l){return a?l:void 0}function s(a,l){return a===l||void 0}t.exports=class extends r{get tag(){return"sheetProtection"}render(a,l){if(l){let d={sheet:o(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:o(l.formatCells,"0"),formatColumns:o(l.formatColumns,"0"),formatRows:o(l.formatRows,"0"),insertColumns:o(l.insertColumns,"0"),insertRows:o(l.insertRows,"0"),insertHyperlinks:o(l.insertHyperlinks,"0"),deleteColumns:o(l.deleteColumns,"0"),deleteRows:o(l.deleteRows,"0"),sort:o(l.sort,"0"),autoFilter:o(l.autoFilter,"0"),pivotTables:o(l.pivotTables,"0")};l.sheet&&(d.algorithmName=l.algorithmName,d.hashValue=l.hashValue,d.saltValue=l.saltValue,d.spinCount=l.spinCount,d.objects=o(l.objects===!1,"1"),d.scenarios=o(l.scenarios===!1,"1")),i.some(d,c=>c!==void 0)&&a.leafNode(this.tag,d)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:s(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(a.attributes.formatCells,"0"),formatColumns:s(a.attributes.formatColumns,"0"),formatRows:s(a.attributes.formatRows,"0"),insertColumns:s(a.attributes.insertColumns,"0"),insertRows:s(a.attributes.insertRows,"0"),insertHyperlinks:s(a.attributes.insertHyperlinks,"0"),deleteColumns:s(a.attributes.deleteColumns,"0"),deleteRows:s(a.attributes.deleteRows,"0"),sort:s(a.attributes.sort,"0"),autoFilter:s(a.attributes.autoFilter,"0"),pivotTables:s(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,t,n){"use strict";let i=e("../../../utils/col-cache"),r=e("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};t.exports=class extends r{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,a){s.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(p,f,m){m&&s.addAttribute(p,f)},d,c,u,h;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":c=a.xSplit||0,u=a.ySplit||0,d=a.topLeftCell||i.getAddress(u+1,c+1).address,h=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:d,activePane:h,state:"frozen"}),s.leafNode("selection",{pane:h,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),s.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&s.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{let a=s.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let a,l;switch(s){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tablePart"}render(r,o){o&&r.leafNode(this.tag,{"r:id":o.rId})}parseOpen(r){switch(r.name){case this.tag:return this.model={rId:r.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),s=e("../../rel-type"),a=e("./merges"),l=e("../base-xform"),d=e("../list-xform"),c=e("./row-xform"),u=e("./col-xform"),h=e("./dimension-xform"),p=e("./hyperlink-xform"),f=e("./merge-cell-xform"),m=e("./data-validations-xform"),g=e("./sheet-properties-xform"),v=e("./sheet-format-properties-xform"),w=e("./sheet-view-xform"),E=e("./sheet-protection-xform"),T=e("./page-margins-xform"),F=e("./page-setup-xform"),k=e("./print-options-xform"),L=e("./auto-filter-xform"),V=e("./picture-xform"),j=e("./drawing-xform"),z=e("./table-part-xform"),R=e("./row-breaks-xform"),I=e("./header-footer-xform"),N=e("./cf/conditional-formattings-xform"),b=e("./ext-lst-xform"),C=(_,D)=>{if(!D||!D.length)return _;if(!_||!_.length)return D;let M={},O={};return _.forEach(U=>{M[U.ref]=U,U.rules.forEach(G=>{let{x14Id:Y}=G;Y&&(O[Y]=G)})}),D.forEach(U=>{U.rules.forEach(G=>{let Y=O[G.x14Id];Y?((B,K)=>{Object.keys(K).forEach(A=>{let P=B[A],W=K[A];P===void 0&&W!==void 0&&(B[A]=W)})})(Y,G):M[U.ref]?M[U.ref].rules.push(G):_.push({ref:U.ref,rules:[G]})})}),_};class x extends l{constructor(D){super();let{maxRows:M,maxCols:O,ignoreNodes:U}=D||{};this.ignoreNodes=U||[],this.map={sheetPr:new g,dimension:new h,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new w}),sheetFormatPr:new v,cols:new d({tag:"cols",count:!1,childXform:new u}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new c({maxItems:O}),maxItems:M}),autoFilter:new L,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new f}),rowBreaks:new R,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new p}),pageMargins:new T,dataValidations:new m,pageSetup:new F,headerFooter:new I,printOptions:new k,picture:new V,drawing:new j,sheetProtection:new E,tableParts:new d({tag:"tableParts",count:!0,childXform:new z}),conditionalFormatting:new N,extLst:new b}}prepare(D,M){M.merges=new a,D.hyperlinks=M.hyperlinks=[],D.comments=M.comments=[],M.formulae={},M.siFormulae=0,this.map.cols.prepare(D.cols,M),this.map.sheetData.prepare(D.rows,M),this.map.conditionalFormatting.prepare(D.conditionalFormattings,M),D.mergeCells=M.merges.mergeCells;let O=D.rels=[];function U(B){return"rId"+(B.length+1)}if(D.hyperlinks.forEach(B=>{let K=U(O);B.rId=K,O.push({Id:K,Type:s.Hyperlink,Target:B.target,TargetMode:"External"})}),D.comments.length>0){let B={Id:U(O),Type:s.Comments,Target:`../comments${D.id}.xml`};O.push(B);let K={Id:U(O),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};O.push(K),D.comments.forEach(A=>{A.refAddress=r.decodeAddress(A.ref)}),M.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}let G=[],Y;D.media.forEach(B=>{if(B.type==="background"){let K=U(O);Y=M.media[B.imageId],O.push({Id:K,Type:s.Image,Target:`../media/${Y.name}.${Y.extension}`}),D.background={rId:K},D.image=M.media[B.imageId]}else if(B.type==="image"){let{drawing:K}=D;Y=M.media[B.imageId],K||(K=D.drawing={rId:U(O),name:"drawing"+ ++M.drawingsCount,anchors:[],rels:[]},M.drawings.push(K),O.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let A=this.preImageId===B.imageId?G[B.imageId]:G[K.rels.length];A||(A=U(K.rels),G[K.rels.length]=A,K.rels.push({Id:A,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));let P={picture:{rId:A},range:B.range};if(B.hyperlinks&&B.hyperlinks.hyperlink){let W=U(K.rels);G[K.rels.length]=W,P.picture.hyperlinks={tooltip:B.hyperlinks.tooltip,rId:W},K.rels.push({Id:W,Type:s.Hyperlink,Target:B.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=B.imageId,K.anchors.push(P)}}),D.tables.forEach(B=>{let K=U(O);B.rId=K,O.push({Id:K,Type:s.Table,Target:"../tables/"+B.target}),B.columns.forEach(A=>{let{style:P}=A;P&&(A.dxfId=M.styles.addDxfStyle(P))})}),this.map.extLst.prepare(D,M)}render(D,M){D.openXml(o.StdDocAttributes),D.openNode("worksheet",x.WORKSHEET_ATTRIBUTES);let O=M.properties?{defaultRowHeight:M.properties.defaultRowHeight,dyDescent:M.properties.dyDescent,outlineLevelCol:M.properties.outlineLevelCol,outlineLevelRow:M.properties.outlineLevelRow}:void 0;M.properties&&M.properties.defaultColWidth&&(O.defaultColWidth=M.properties.defaultColWidth);let U={outlineProperties:M.properties&&M.properties.outlineProperties,tabColor:M.properties&&M.properties.tabColor,pageSetup:M.pageSetup&&M.pageSetup.fitToPage?{fitToPage:M.pageSetup.fitToPage}:void 0},G=M.pageSetup&&M.pageSetup.margins,Y={showRowColHeaders:M.pageSetup&&M.pageSetup.showRowColHeaders,showGridLines:M.pageSetup&&M.pageSetup.showGridLines,horizontalCentered:M.pageSetup&&M.pageSetup.horizontalCentered,verticalCentered:M.pageSetup&&M.pageSetup.verticalCentered},B=M.sheetProtection;this.map.sheetPr.render(D,U),this.map.dimension.render(D,M.dimensions),this.map.sheetViews.render(D,M.views),this.map.sheetFormatPr.render(D,O),this.map.cols.render(D,M.cols),this.map.sheetData.render(D,M.rows),this.map.sheetProtection.render(D,B),this.map.autoFilter.render(D,M.autoFilter),this.map.mergeCells.render(D,M.mergeCells),this.map.conditionalFormatting.render(D,M.conditionalFormattings),this.map.dataValidations.render(D,M.dataValidations),this.map.hyperlinks.render(D,M.hyperlinks),this.map.printOptions.render(D,Y),this.map.pageMargins.render(D,G),this.map.pageSetup.render(D,M.pageSetup),this.map.headerFooter.render(D,M.headerFooter),this.map.rowBreaks.render(D,M.rowBreaks),this.map.drawing.render(D,M.drawing),this.map.picture.render(D,M.background),this.map.tableParts.render(D,M.tables),this.map.extLst.render(D,M),M.rels&&M.rels.forEach(K=>{K.Type===s.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":K.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(i.each(this.map,M=>{M.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{let M=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(M.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(M.outlineProperties=this.map.sheetPr.model.outlineProperties);let O={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},U=Object.assign(O,this.map.pageSetup.model,this.map.printOptions.model),G=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:M,views:this.map.sheetViews.model,pageSetup:U,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:G},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,M){let O=(D.relationships||[]).reduce((G,Y)=>{if(G[Y.Id]=Y,Y.Type===s.Comments&&(D.comments=M.comments[Y.Target].comments),Y.Type===s.VmlDrawing&&D.comments&&D.comments.length){let B=M.vmlDrawings[Y.Target].comments;D.comments.forEach((K,A)=>{K.note=Object.assign({},K.note,B[A])})}return G},{});if(M.commentsMap=(D.comments||[]).reduce((G,Y)=>(Y.ref&&(G[Y.ref]=Y),G),{}),M.hyperlinkMap=(D.hyperlinks||[]).reduce((G,Y)=>(Y.rId&&(G[Y.address]=O[Y.rId].Target),G),{}),M.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(G=>{G.cells=G.cells&&G.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,M),this.map.sheetData.reconcile(D.rows,M),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,M),D.media=[],D.drawing){let G=O[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(G){let Y=G[1];M.drawings[Y].anchors.forEach(B=>{if(B.medium){let K={type:"image",imageId:B.medium.index,range:B.range,hyperlinks:B.picture.hyperlinks};D.media.push(K)}})}}let U=D.background&&O[D.background.rId];if(U){let G=U.Target.split("/media/")[1],Y=M.mediaIndex&&M.mediaIndex[G];Y!==void 0&&D.media.push({type:"background",imageId:Y})}D.tables=(D.tables||[]).map(G=>{let Y=O[G.rId];return M.tables[Y.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}x.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},t.exports=x},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr}render(r,o){o&&(r.openNode(this.tag),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs,this._format=r.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=r.parse||function(o){return new Date(o)}}render(r,o){o&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,this._format(o)):r.writeText(this._format(o)),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.attr?this.model=this._parse(r.attributes[this.attr]):this.text=[])}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs,this.zero=r.zero}render(r,o){(o||this.zero)&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,o):r.writeText(o),r.closeNode())}parseOpen(r){return r.name===this.tag&&(this.attr?this.model=parseInt(r.attributes[this.attr],10):this.text=[],!0)}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(r){super(),this.tag=r.tag,this.attr=r.attr,this.attrs=r.attrs}render(r,o){o!==void 0&&(r.openNode(this.tag),this.attrs&&r.addAttributes(this.attrs),this.attr?r.addAttribute(this.attr,o):r.writeText(o),r.closeNode())}parseOpen(r){r.name===this.tag&&(this.attr?this.model=r.attributes[this.attr]:this.text=[])}parseText(r){this.attr||this.text.push(r)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,t,n){"use strict";let i=e("./base-xform"),r=e("../../utils/xml-stream");t.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){let s=new r;(function a(l,d){l.openNode(d.tag,d.$),d.c&&d.c.forEach(c=>{a(l,c)}),d.t&&l.writeText(d.t),l.closeNode()})(s,this._model),this._xml=s.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,t,n){"use strict";let i=e("./text-xform"),r=e("./rich-text-xform"),o=e("../base-xform");t.exports=class extends o{constructor(){super(),this.map={r:new r,t:new i}}get tag(){return"rPh"}render(s,a){if(s.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(d=>{l.render(s,d)})}else a&&this.map.t.render(s,a.text);s.closeNode()}parseOpen(s){let{name:a}=s;return this.parser?(this.parser.parseOpen(s),!0):a===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,t,n){"use strict";let i=e("./text-xform"),r=e("../style/font-xform"),o=e("../base-xform");class s extends o{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new r(s.FONT_OPTIONS))}render(l,d){d=d||this.model,l.openNode("r"),d.font&&this.fontXform.render(l,d.font),this.textXform.render(l,d.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},t.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,t,n){"use strict";let i=e("./text-xform"),r=e("./rich-text-xform"),o=e("./phonetic-text-xform"),s=e("../base-xform");t.exports=class extends s{constructor(a){super(),this.model=a,this.map={r:new r,t:new i,rPh:new o}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(d=>{this.map.r.render(a,d)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform"),o=e("./shared-string-xform");t.exports=class extends r{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let a=this.hash[s];return a===void 0&&(a=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,a}addRichText(s){let a=this.sharedStringXform.toXml(s),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(s)),this.model.count++,l}render(s,a){a=a||this._values,s.openXml(i.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(d=>{l.render(s,d)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"t"}render(r,o){r.openNode("t"),/^\s|\n|\s$/.test(o)&&r.addAttribute("xml:space","preserve"),r.writeText(o),r.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(r,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(r){switch(r.name){case"t":return this._text=[],!0;default:return!1}}parseText(r){this._text.push(r)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,t,n){"use strict";let i=e("../../../doc/enums"),r=e("../../../utils/utils"),o=e("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,d)=>(l[d]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,d)=>(l[d]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=r.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=r.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=s.textRotation(l)){if(l==="vertical")return 255;let d=Math.round(l);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(l){let d=r.validInt(l);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};t.exports=class extends o{get tag(){return"alignment"}render(l,d){l.addRollback(),l.openNode("alignment");let c=!1;function u(h,p){p&&(l.addAttribute(h,p),c=!0)}u("horizontal",s.horizontal(d.horizontal)),u("vertical",s.vertical(d.vertical)),u("wrapText",!!s.wrapText(d.wrapText)&&"1"),u("shrinkToFit",!!s.shrinkToFit(d.shrinkToFit)&&"1"),u("indent",s.indent(d.indent)),u("textRotation",a.toXml(d.textRotation)),u("readingOrder",s.readingOrder(d.readingOrder)),l.closeNode(),c?l.commit():l.rollback()}parseOpen(l){let d={},c=!1;function u(h,p,f){h&&(d[p]=f,c=!0)}u(l.attributes.horizontal,"horizontal",l.attributes.horizontal),u(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),u(l.attributes.wrapText,"wrapText",r.parseBoolean(l.attributes.wrapText)),u(l.attributes.shrinkToFit,"shrinkToFit",r.parseBoolean(l.attributes.shrinkToFit)),u(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),u(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),u(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=c?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../../../utils/utils"),o=e("./color-xform");class s extends i{constructor(l){super(),this.name=l,this.map={color:new o}}get tag(){return this.name}render(l,d,c){let u=d&&d.color||c||this.defaultColor;l.openNode(this.name),d&&d.style&&(l.addAttribute("style",d.style),u&&this.map.color.render(l,u)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:d}=l.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return s.validStyleValues[l]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),t.exports=class extends i{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(a,l){let{color:d}=l;function c(u,h){u&&!u.color&&l.color&&(u=Le(re({},u),{color:l.color})),h.render(a,u,d)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),c(l.left,this.map.left),c(l.right,this.map.right),c(l.top,this.map.top),c(l.bottom,this.map.bottom),c(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=r.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=r.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},d=function(c,u,h){u&&(h&&Object.assign(u,h),l[c]=u)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(r){super(),this.name=r||"color"}get tag(){return this.name}render(r,o){return!!o&&(r.openNode(this.name),o.argb?r.addAttribute("rgb",o.argb):o.theme!==void 0?(r.addAttribute("theme",o.theme),o.tint!==void 0&&r.addAttribute("tint",o.tint)):o.indexed!==void 0?r.addAttribute("indexed",o.indexed):r.addAttribute("auto","1"),r.closeNode(),!0)}parseOpen(r){return r.name===this.name&&(r.attributes.rgb?this.model={argb:r.attributes.rgb}:r.attributes.theme?(this.model={theme:parseInt(r.attributes.theme,10)},r.attributes.tint&&(this.model.tint=parseFloat(r.attributes.tint))):r.attributes.indexed?this.model={indexed:parseInt(r.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./alignment-xform"),o=e("./border-xform"),s=e("./fill-xform"),a=e("./font-xform"),l=e("./numfmt-xform"),d=e("./protection-xform");t.exports=class extends i{constructor(){super(),this.map={alignment:new r,border:new o,fill:new s,font:new a,numFmt:new l,protection:new d}}get tag(){return"dxf"}render(c,u){if(c.openNode(this.tag),u.font&&this.map.font.render(c,u.font),u.numFmt&&u.numFmtId){let h={id:u.numFmtId,formatCode:u.numFmt};this.map.numFmt.render(c,h)}u.fill&&this.map.fill.render(c,u.fill),u.alignment&&this.map.alignment.render(c,u.alignment),u.border&&this.map.border.render(c,u.border),u.protection&&this.map.protection.render(c,u.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c),!0}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):c!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./color-xform");class o extends i{constructor(){super(),this.map={color:new r}}get tag(){return"stop"}render(c,u){c.openNode("stop"),c.addAttribute("position",u.position),this.map.color.render(c,u.color),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"stop":return this.model={position:parseFloat(c.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(){}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends i{constructor(){super(),this.map={fgColor:new r("fgColor"),bgColor:new r("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(c,u){c.openNode("patternFill"),c.addAttribute("patternType",u.pattern),u.fgColor&&this.map.fgColor.render(c,u.fgColor),u.bgColor&&this.map.bgColor.render(c,u.bgColor),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"patternFill":return this.model={type:"pattern",pattern:c.attributes.patternType},!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.parser.model&&(this.model[c]=this.parser.model),this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(c,u){switch(c.openNode("gradientFill"),u.gradient){case"angle":c.addAttribute("degree",u.degree);break;case"path":c.addAttribute("type","path"),u.center.left&&(c.addAttribute("left",u.center.left),u.center.right===void 0&&c.addAttribute("right",u.center.left)),u.center.right&&c.addAttribute("right",u.center.right),u.center.top&&(c.addAttribute("top",u.center.top),u.center.bottom===void 0&&c.addAttribute("bottom",u.center.top)),u.center.bottom&&c.addAttribute("bottom",u.center.bottom)}let h=this.map.stop;u.stops.forEach(p=>{h.render(c,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"gradientFill":{let u=this.model={stops:[]};return c.attributes.degree?(u.gradient="angle",u.degree=parseInt(c.attributes.degree,10)):c.attributes.type==="path"&&(u.gradient="path",u.center={left:c.attributes.left?parseFloat(c.attributes.left):0,top:c.attributes.top?parseFloat(c.attributes.top):0},c.attributes.right!==c.attributes.left&&(u.center.right=c.attributes.right?parseFloat(c.attributes.right):0),c.attributes.bottom!==c.attributes.top&&(u.center.bottom=c.attributes.bottom?parseFloat(c.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={patternFill:new s,gradientFill:new a}}get tag(){return"fill"}render(c,u){switch(c.addRollback(),c.openNode("fill"),u.type){case"pattern":this.map.patternFill.render(c,u);break;case"gradient":this.map.gradientFill.render(c,u);break;default:return void c.rollback()}c.closeNode(),c.commit()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"fill":return this.model={},!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(this.parser.parseClose(c)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(c){return l.validPatternValues[c]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,c)=>(d[c]=!0,d),{}),l.StopXform=o,l.PatternFillXform=s,l.GradientFillXform=a,t.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(e,t,n){"use strict";let i=e("./color-xform"),r=e("../simple/boolean-xform"),o=e("../simple/integer-xform"),s=e("../simple/string-xform"),a=e("./underline-xform"),l=e("../../../utils/under-dash"),d=e("../base-xform");class c extends d{constructor(h){super(),this.options=h||c.OPTIONS,this.map={b:{prop:"bold",xform:new r({tag:"b",attr:"val"})},i:{prop:"italic",xform:new r({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new r({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new r({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new r({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new r({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new r({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(h,p){let{map:f}=this;h.openNode(this.options.tagName),l.each(this.map,(m,g)=>{f[g].xform.render(h,p[m.prop])}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;if(this.map[h.name])return this.parser=this.map[h.name].xform,this.parser.parseOpen(h);switch(h.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser&&!this.parser.parseClose(h)){let p=this.map[h];return this.parser.model&&(this.model[p.prop]=this.parser.model),this.parser=void 0,!0}switch(h){case this.options.tagName:return!1;default:return!0}}}c.OPTIONS={tagName:"font",fontNameTag:"name"},t.exports=c},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,t,n){"use strict";let i=e("../../../utils/under-dash"),r=e("../../defaultnumformats"),o=e("../base-xform"),s=function(){let l={};return i.each(r,(d,c)=>{d.f&&(l[d.f]=parseInt(c,10))}),l}();class a extends o{constructor(d,c){super(),this.id=d,this.formatCode=c}get tag(){return"numFmt"}render(d,c){d.leafNode("numFmt",{numFmtId:c.id,formatCode:c.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return s[l]},a.getDefaultFmtCode=function(l){return r[l]&&r[l].f},t.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,t,n){"use strict";let i=e("../base-xform"),r={boolean:(o,s)=>o===void 0?s:o};t.exports=class extends i{get tag(){return"protection"}render(o,s){o.addRollback(),o.openNode("protection");let a=!1;function l(d,c){c!==void 0&&(o.addAttribute(d,c),a=!0)}l("locked",r.boolean(s.locked,!0)?void 0:"0"),l("hidden",r.boolean(s.hidden,!1)?"1":void 0),o.closeNode(),a?o.commit():o.rollback()}parseOpen(o){let s={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},a=!s.locked||s.hidden;this.model=a?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./alignment-xform"),o=e("./protection-xform");t.exports=class extends i{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new r,protection:new o}}get tag(){return"xf"}render(s,a){s.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&s.addAttribute("xfId",a.xfId||0),a.numFmtId&&s.addAttribute("applyNumberFormat","1"),a.fontId&&s.addAttribute("applyFont","1"),a.fillId&&s.addAttribute("applyFill","1"),a.borderId&&s.addAttribute("applyBorder","1"),a.alignment&&s.addAttribute("applyAlignment","1"),a.protection&&s.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(s,a.alignment),a.protection&&this.map.protection.render(s,a.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,t,n){"use strict";let i=e("../../../doc/enums"),r=e("../../../utils/xml-stream"),o=e("../base-xform"),s=e("../static-xform"),a=e("../list-xform"),l=e("./font-xform"),d=e("./fill-xform"),c=e("./border-xform"),u=e("./numfmt-xform"),h=e("./style-xform"),p=e("./dxf-xform");class f extends o{constructor(g){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new u}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new d}),borders:new a({tag:"borders",count:!0,childXform:new c}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new h}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new h({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new p}),numFmt:new u,font:new l,fill:new d,border:new c,style:new h({xfId:!0}),cellStyles:f.STATIC_XFORMS.cellStyles,tableStyles:f.STATIC_XFORMS.tableStyles,extLst:f.STATIC_XFORMS.extLst},g&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(g,v){v=v||this.model,g.openXml(r.StdDocAttributes),g.openNode("styleSheet",f.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(g.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(w=>{g.writeXml(w)}),g.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),g.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(w=>{g.writeXml(w)}),g.closeNode(),g.openNode("fills",{count:v.fills.length}),v.fills.forEach(w=>{g.writeXml(w)}),g.closeNode(),g.openNode("borders",{count:v.borders.length}),v.borders.forEach(w=>{g.writeXml(w)}),g.closeNode(),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),g.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(w=>{g.writeXml(w)}),g.closeNode()):(this.map.numFmts.render(g,v.numFmts),this.map.fonts.render(g,v.fonts),this.map.fills.render(g,v.fills),this.map.borders.render(g,v.borders),this.map.cellStyleXfs.render(g,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(g,v.styles)),f.STATIC_XFORMS.cellStyles.render(g),this.map.dxfs.render(g,v.dxfs),f.STATIC_XFORMS.tableStyles.render(g),f.STATIC_XFORMS.extLst.render(g),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;switch(g.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[g.name],this.parser&&this.parser.parseOpen(g),!0}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser)return this.parser.parseClose(g)||(this.parser=void 0),!0;switch(g){case"styleSheet":{this.model={};let v=(w,E)=>{E.model&&E.model.length&&(this.model[w]=E.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let w=this.index.numFmt;this.model.numFmts.forEach(E=>{w[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(g,v){if(!g)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(g))return this.weakMap.get(g);let w={};if(v=v||i.ValueType.Number,g.numFmt)w.numFmtId=this._addNumFmtStr(g.numFmt);else switch(v){case i.ValueType.Number:w.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:w.numFmtId=this._addNumFmtStr("mm-dd-yy")}g.font&&(w.fontId=this._addFont(g.font)),g.border&&(w.borderId=this._addBorder(g.border)),g.fill&&(w.fillId=this._addFill(g.fill)),g.alignment&&(w.alignment=g.alignment),g.protection&&(w.protection=g.protection);let E=this._addStyle(w);return this.weakMap&&this.weakMap.set(g,E),E}getStyleModel(g){let v=this.model.styles[g];if(!v)return null;let w=this.index.model[g];if(w)return w;if(w=this.index.model[g]={},v.numFmtId){let T=this.index.numFmt[v.numFmtId]||u.getDefaultFmtCode(v.numFmtId);T&&(w.numFmt=T)}function E(T,F,k){if(k||k===0){let L=F[k];L&&(w[T]=L)}}return E("font",this.model.fonts,v.fontId),E("border",this.model.borders,v.borderId),E("fill",this.model.fills,v.fillId),v.alignment&&(w.alignment=v.alignment),v.protection&&(w.protection=v.protection),w}addDxfStyle(g){return g.numFmt&&(g.numFmtId=this._addNumFmtStr(g.numFmt)),this.model.dxfs.push(g),this.model.dxfs.length-1}getDxfStyle(g){return this.model.dxfs[g]}_addStyle(g){let v=this.map.style.toXml(g),w=this.index.style[v];return w===void 0&&(w=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),w}_addNumFmtStr(g){let v=u.getDefaultFmtId(g);if(v!==void 0||(v=this.index.numFmt[g],v!==void 0))return v;v=this.index.numFmt[g]=164+this.model.numFmts.length;let w=this.map.numFmt.toXml({id:v,formatCode:g});return this.model.numFmts.push(w),v}_addFont(g){let v=this.map.font.toXml(g),w=this.index.font[v];return w===void 0&&(w=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),w}_addBorder(g){let v=this.map.border.toXml(g),w=this.index.border[v];return w===void 0&&(w=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),w}_addFill(g){let v=this.map.fill.toXml(g),w=this.index.fill[v];return w===void 0&&(w=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),w}}f.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},f.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},f.Mock=class extends f{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(m){return m.autodrain(),Promise.resolve()}addStyleModel(m,g){switch(g){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let m={numFmtId:u.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(m)}return this._dateStyleId}getStyleModel(){return{}}},t.exports=f},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,t,n){"use strict";let i=e("../base-xform");class r extends i{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,a){if((a=a||this.model)===!0)s.leafNode("u");else{let l=r.Attributes[a];l&&s.leafNode("u",l)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}r.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},t.exports=r},{"../base-xform":32}],137:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("./filter-column-xform");t.exports=class extends i{constructor(){super(),this.map={filterColumn:new r}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((s,a)=>{this.map.filterColumn.prepare(s,{index:a})})}render(o,s){return o.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(a=>{this.map.filterColumn.render(o,a)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"customFilter"}render(r,o){r.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(r){return r.name===this.tag&&(this.model={val:r.attributes.val,operator:r.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,t,n){"use strict";let i=e("../base-xform"),r=e("../list-xform"),o=e("./custom-filter-xform"),s=e("./filter-xform");t.exports=class extends i{constructor(){super(),this.map={customFilters:new r({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new r({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"filter"}render(r,o){r.leafNode(this.tag,{val:o.val})}parseOpen(r){return r.name===this.tag&&(this.model={val:r.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tableColumn"}prepare(r,o){r.id=o.index+1}render(r,o){return r.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(r){if(r.name===this.tag){let{attributes:o}=r;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,t,n){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tableStyleInfo"}render(r,o){return r.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(r){if(r.name===this.tag){let{attributes:o}=r;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,t,n){"use strict";let i=e("../../../utils/xml-stream"),r=e("../base-xform"),o=e("../list-xform"),s=e("./auto-filter-xform"),a=e("./table-column-xform"),l=e("./table-style-info-xform");class d extends r{constructor(){super(),this.map={autoFilter:new s,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(u,h){this.map.autoFilter.prepare(u),this.map.tableColumns.prepare(u.columns,h)}get tag(){return"table"}render(u,h){u.openXml(i.StdDocAttributes),u.openNode(this.tag,Le(re({},d.TABLE_ATTRIBUTES),{id:h.id,name:h.name,displayName:h.displayName||h.name,ref:h.tableRef,totalsRowCount:h.totalsRow?"1":void 0,totalsRowShown:h.totalsRow?void 0:"1",headerRowCount:h.headerRow?"1":"0"})),this.map.autoFilter.render(u,h),this.map.tableColumns.render(u,h.columns),this.map.tableStyleInfo.render(u,h.style),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;let{name:h,attributes:p}=u;switch(h){case this.tag:this.reset(),this.model={name:p.name,displayName:p.displayName||p.name,tableRef:p.ref,totalsRow:p.totalsRowCount==="1",headerRow:p.headerRowCount==="1"};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((h,p)=>{this.model.columns[p].filterButton=h.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(u,h){u.columns.forEach(p=>{p.dxfId!==void 0&&(p.style=h.styles.getDxfStyle(p.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},t.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,t,n){(function(i,r){(function(){"use strict";let o=e("fs"),s=e("jszip"),{PassThrough:a}=e("readable-stream"),l=e("../utils/zip-stream"),d=e("../utils/stream-buf"),c=e("../utils/utils"),u=e("../utils/xml-stream"),{bufferToString:h}=e("../utils/browser-buffer-decode"),p=e("./xform/style/styles-xform"),f=e("./xform/core/core-xform"),m=e("./xform/strings/shared-strings-xform"),g=e("./xform/core/relationships-xform"),v=e("./xform/core/content-types-xform"),w=e("./xform/core/app-xform"),E=e("./xform/book/workbook-xform"),T=e("./xform/sheet/worksheet-xform"),F=e("./xform/drawing/drawing-xform"),k=e("./xform/table/table-xform"),L=e("./xform/comment/comments-xform"),V=e("./xform/comment/vml-notes-xform"),j=e("./xml/theme1");class z{constructor(I){this.workbook=I}readFile(I,N){return Et(this,null,function*(){if(!(yield c.fs.exists(I)))throw new Error("File not found: "+I);let b=o.createReadStream(I);try{let C=yield this.read(b,N);return b.close(),C}catch(C){throw b.close(),C}})}parseRels(I){return new g().parseStream(I)}parseWorkbook(I){return new E().parseStream(I)}parseSharedStrings(I){return new m().parseStream(I)}reconcile(I,N){let b=new E,C=new T(N),x=new F,_=new k;b.reconcile(I);let D={media:I.media,mediaIndex:I.mediaIndex};Object.keys(I.drawings).forEach(U=>{let G=I.drawings[U],Y=I.drawingRels[U];Y&&(D.rels=Y.reduce((B,K)=>(B[K.Id]=K,B),{}),(G.anchors||[]).forEach(B=>{let K=B.picture&&B.picture.hyperlinks;K&&D.rels[K.rId]&&(K.hyperlink=D.rels[K.rId].Target,delete K.rId)}),x.reconcile(G,D))});let M={styles:I.styles};Object.values(I.tables).forEach(U=>{_.reconcile(U,M)});let O={styles:I.styles,sharedStrings:I.sharedStrings,media:I.media,mediaIndex:I.mediaIndex,date1904:I.properties&&I.properties.date1904,drawings:I.drawings,comments:I.comments,tables:I.tables,vmlDrawings:I.vmlDrawings};I.worksheets.forEach(U=>{U.relationships=I.worksheetRels[U.sheetNo],C.reconcile(U,O)}),delete I.worksheetHash,delete I.worksheetRels,delete I.globalRels,delete I.sharedStrings,delete I.workbookRels,delete I.sheetDefs,delete I.styles,delete I.mediaIndex,delete I.drawings,delete I.drawingRels,delete I.vmlDrawings}_processWorksheetEntry(I,N,b,C,x){return Et(this,null,function*(){let _=new T(C),D=yield _.parseStream(I);D.sheetNo=b,N.worksheetHash[x]=D,N.worksheets.push(D)})}_processCommentEntry(I,N,b){return Et(this,null,function*(){let C=new L,x=yield C.parseStream(I);N.comments[`../${b}.xml`]=x})}_processTableEntry(I,N,b){return Et(this,null,function*(){let C=new k,x=yield C.parseStream(I);N.tables[`../tables/${b}.xml`]=x})}_processWorksheetRelsEntry(I,N,b){return Et(this,null,function*(){let C=new g,x=yield C.parseStream(I);N.worksheetRels[b]=x})}_processMediaEntry(I,N,b){return Et(this,null,function*(){let C=b.lastIndexOf(".");if(C>=1){let x=b.substr(C+1),_=b.substr(0,C);yield new Promise((D,M)=>{let O=new d;O.on("finish",()=>{N.mediaIndex[b]=N.media.length,N.mediaIndex[_]=N.media.length;let U={type:"image",name:_,extension:x,buffer:O.toBuffer()};N.media.push(U),D()}),I.on("error",U=>{M(U)}),I.pipe(O)})}})}_processDrawingEntry(I,N,b){return Et(this,null,function*(){let C=new F,x=yield C.parseStream(I);N.drawings[b]=x})}_processDrawingRelsEntry(I,N,b){return Et(this,null,function*(){let C=new g,x=yield C.parseStream(I);N.drawingRels[b]=x})}_processVmlDrawingEntry(I,N,b){return Et(this,null,function*(){let C=new V,x=yield C.parseStream(I);N.vmlDrawings[`../drawings/${b}.vml`]=x})}_processThemeEntry(I,N,b){return Et(this,null,function*(){yield new Promise((C,x)=>{let _=new d;I.on("error",x),_.on("error",x),_.on("finish",()=>{N.themes[b]=_.read().toString(),C()}),I.pipe(_)})})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(I,N){return Et(this,null,function*(){!I[Symbol.asyncIterator]&&I.pipe&&(I=I.pipe(new a));let b=[];try{for(var C=V1(I),x,_,D;x=!(_=yield C.next()).done;x=!1){let M=_.value;b.push(M)}}catch{D=[_]}finally{try{x&&(_=C.return)&&(yield _.call(C))}finally{if(D)throw D[0]}}return this.load(r.concat(b),N)})}load(I,N){return Et(this,null,function*(){let b;b=N&&N.base64?r.from(I.toString(),"base64"):I;let C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},x=yield s.loadAsync(b);for(let _ of Object.values(x.files))if(!_.dir){let D,M=_.name;if(M[0]==="/"&&(M=M.substr(1)),M.match(/xl\/media\//)||M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new a,D.write(yield _.async("nodebuffer"));else{let O;D=new a({writableObjectMode:!0,readableObjectMode:!0}),O=i.browser?h(yield _.async("nodebuffer")):yield _.async("string");let U=16384;for(let G=0;G<O.length;G+=U)D.write(O.substring(G,G+U))}switch(D.end(),M){case"_rels/.rels":C.globalRels=yield this.parseRels(D);break;case"xl/workbook.xml":{let O=yield this.parseWorkbook(D);C.sheets=O.sheets,C.definedNames=O.definedNames,C.views=O.views,C.properties=O.properties,C.calcProperties=O.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=yield this.parseRels(D);break;case"xl/sharedStrings.xml":C.sharedStrings=new m,yield C.sharedStrings.parseStream(D);break;case"xl/styles.xml":C.styles=new p,yield C.styles.parseStream(D);break;case"docProps/app.xml":{let O=new w,U=yield O.parseStream(D);C.company=U.company,C.manager=U.manager;break}case"docProps/core.xml":{let O=new f,U=yield O.parseStream(D);Object.assign(C,U);break}default:{let O=M.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(O){yield this._processWorksheetEntry(D,C,O[1],N,M);break}if(O=M.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),O){yield this._processWorksheetRelsEntry(D,C,O[1]);break}if(O=M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),O){yield this._processThemeEntry(D,C,O[1]);break}if(O=M.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),O){yield this._processMediaEntry(D,C,O[1]);break}if(O=M.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),O){yield this._processDrawingEntry(D,C,O[1]);break}if(O=M.match(/xl\/(comments\d+)[.]xml/),O){yield this._processCommentEntry(D,C,O[1]);break}if(O=M.match(/xl\/tables\/(table\d+)[.]xml/),O){yield this._processTableEntry(D,C,O[1]);break}if(O=M.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),O){yield this._processDrawingRelsEntry(D,C,O[1]);break}if(O=M.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),O){yield this._processVmlDrawingEntry(D,C,O[1]);break}}}}return this.reconcile(C,N),this.workbook.model=C,this.workbook})}addMedia(I,N){return Et(this,null,function*(){yield Promise.all(N.media.map(b=>Et(this,null,function*(){if(b.type==="image"){let C=`xl/media/${b.name}.${b.extension}`;if(b.filename){let x=yield function(_,D){return new Promise((M,O)=>{o.readFile(_,D,(U,G)=>{U?O(U):M(G)})})}(b.filename);return I.append(x,{name:C})}if(b.buffer)return I.append(b.buffer,{name:C});if(b.base64){let x=b.base64,_=x.substring(x.indexOf(",")+1);return I.append(_,{name:C,base64:!0})}}throw new Error("Unsupported media")})))})}addDrawings(I,N){let b=new F,C=new g;N.worksheets.forEach(x=>{let{drawing:_}=x;if(_){b.prepare(_,{});let D=b.toXml(_);I.append(D,{name:`xl/drawings/${_.name}.xml`}),D=C.toXml(_.rels),I.append(D,{name:`xl/drawings/_rels/${_.name}.xml.rels`})}})}addTables(I,N){let b=new k;N.worksheets.forEach(C=>{let{tables:x}=C;x.forEach(_=>{b.prepare(_,{});let D=b.toXml(_);I.append(D,{name:"xl/tables/"+_.target})})})}addContentTypes(I,N){return Et(this,null,function*(){let b=new v().toXml(N);I.append(b,{name:"[Content_Types].xml"})})}addApp(I,N){return Et(this,null,function*(){let b=new w().toXml(N);I.append(b,{name:"docProps/app.xml"})})}addCore(I,N){return Et(this,null,function*(){let b=new f;I.append(b.toXml(N),{name:"docProps/core.xml"})})}addThemes(I,N){return Et(this,null,function*(){let b=N.themes||{theme1:j};Object.keys(b).forEach(C=>{let x=b[C],_=`xl/theme/${C}.xml`;I.append(x,{name:_})})})}addOfficeRels(I){return Et(this,null,function*(){let N=new g().toXml([{Id:"rId1",Type:z.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:z.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:z.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);I.append(N,{name:"_rels/.rels"})})}addWorkbookRels(I,N){return Et(this,null,function*(){let b=1,C=[{Id:"rId"+b++,Type:z.RelType.Styles,Target:"styles.xml"},{Id:"rId"+b++,Type:z.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&C.push({Id:"rId"+b++,Type:z.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(_=>{_.rId="rId"+b++,C.push({Id:_.rId,Type:z.RelType.Worksheet,Target:`worksheets/sheet${_.id}.xml`})});let x=new g().toXml(C);I.append(x,{name:"xl/_rels/workbook.xml.rels"})})}addSharedStrings(I,N){return Et(this,null,function*(){N.sharedStrings&&N.sharedStrings.count&&I.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})}addStyles(I,N){return Et(this,null,function*(){let{xml:b}=N.styles;b&&I.append(b,{name:"xl/styles.xml"})})}addWorkbook(I,N){return Et(this,null,function*(){let b=new E;I.append(b.toXml(N),{name:"xl/workbook.xml"})})}addWorksheets(I,N){return Et(this,null,function*(){let b=new T,C=new g,x=new L,_=new V;N.worksheets.forEach(D=>{let M=new u;b.render(M,D),I.append(M.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(M=new u,C.render(M,D.rels),I.append(M.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(M=new u,x.render(M,D),I.append(M.xml,{name:`xl/comments${D.id}.xml`}),M=new u,_.render(M,D),I.append(M.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})})}_finalize(I){return new Promise((N,b)=>{I.on("finish",()=>{N(this)}),I.on("error",b),I.finalize()})}prepareModel(I,N){I.creator=I.creator||"ExcelJS",I.lastModifiedBy=I.lastModifiedBy||"ExcelJS",I.created=I.created||new Date,I.modified=I.modified||new Date,I.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,I.useStyles=N.useStyles===void 0||N.useStyles,I.sharedStrings=new m,I.styles=I.useStyles?new p(!0):new p.Mock;let b=new E,C=new T;b.prepare(I);let x={sharedStrings:I.sharedStrings,styles:I.styles,date1904:I.properties.date1904,drawingsCount:0,media:I.media};x.drawings=I.drawings=[],x.commentRefs=I.commentRefs=[];let _=0;I.tables=[],I.worksheets.forEach(D=>{D.tables.forEach(M=>{_++,M.target=`table${_}.xml`,M.id=_,I.tables.push(M)}),C.prepare(D,x)})}write(I,N){return Et(this,null,function*(){N=N||{};let{model:b}=this.workbook,C=new l.ZipWriter(N.zip);return C.pipe(I),this.prepareModel(b,N),yield this.addContentTypes(C,b),yield this.addOfficeRels(C,b),yield this.addWorkbookRels(C,b),yield this.addWorksheets(C,b),yield this.addSharedStrings(C,b),yield this.addDrawings(C,b),yield this.addTables(C,b),yield Promise.all([this.addThemes(C,b),this.addStyles(C,b)]),yield this.addMedia(C,b),yield Promise.all([this.addApp(C,b),this.addCore(C,b)]),yield this.addWorkbook(C,b),this._finalize(C)})}writeFile(I,N){let b=o.createWriteStream(I);return new Promise((C,x)=>{b.on("finish",()=>{C()}),b.on("error",_=>{x(_)}),this.write(b,N).then(()=>{b.end()}).catch(_=>{x(_)})})}writeBuffer(I){return Et(this,null,function*(){let N=new d;return yield this.write(N,I),N.read()})}}z.RelType=e("./rel-type"),t.exports=z}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,t,n){"use strict";t.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,t,n){(function(i){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvFormatterStream=void 0;let r=e("stream"),o=e("./formatter");class s extends r.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new o.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,d,c){let u=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(h,p)=>h?(u=!0,c(h)):(p&&p.forEach(f=>{this.push(i.from(f,"utf8"))}),u=!0,c()))}catch(h){if(u)throw h;c(h)}}_flush(l){this.rowFormatter.finish((d,c)=>d?l(d):(c&&c.forEach(u=>{this.push(i.from(u,"utf8"))}),l()))}}n.CsvFormatterStream=s}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FormatterOptions=void 0,n.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var r;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((r=i.writeHeaders)===null||r===void 0||r),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,t,n){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=void 0;let r=i(e("lodash.isboolean")),o=i(e("lodash.isnil")),s=i(e("lodash.escaperegexp"));n.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${s.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let d=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return r.default(d)?d:Array.isArray(d)?d[a]:this._headers!==null&&d[this._headers[a]]}format(a,l,d){let c=(""+(o.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:u}=this;return u.quote!==""&&c.indexOf(u.quote)!==-1?this.quoteField(c.replace(this.REPLACE_REGEXP,u.escapedQuote)):c.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,d)?this.quoteField(c):c}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,t,n){"use strict";var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowFormatter=void 0;let r=i(e("lodash.isfunction")),o=i(e("lodash.isequal")),s=e("./FieldFormatter"),a=e("../types");class l{constructor(c){this.rowCount=0,this.formatterOptions=c,this.fieldFormatter=new s.FieldFormatter(c),this.headers=c.headers,this.shouldWriteHeaders=c.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),c.transform&&(this.rowTransform=c.transform)}static isRowHashArray(c){return!!Array.isArray(c)&&Array.isArray(c[0])&&c[0].length===2}static isRowArray(c){return Array.isArray(c)&&!this.isRowHashArray(c)}static gatherHeaders(c){return l.isRowHashArray(c)?c.map(u=>u[0]):Array.isArray(c)?c:Object.keys(c)}static createTransform(c){return a.isSyncTransform(c)?(u,h)=>{let p=null;try{p=c(u)}catch(f){return h(f)}return h(null,p)}:(u,h)=>{c(u,h)}}set rowTransform(c){if(!r.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}format(c,u){this.callTransformer(c,(h,p)=>{if(h)return u(h);if(!c)return u(null);let f=[];if(p){let{shouldFormatColumns:m,headers:g}=this.checkHeaders(p);if(this.shouldWriteHeaders&&g&&!this.hasWrittenHeaders&&(f.push(this.formatColumns(g,!0)),this.hasWrittenHeaders=!0),m){let v=this.gatherColumns(p);f.push(this.formatColumns(v,!1))}}return u(null,f)})}finish(c){let u=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return c(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));u.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&u.push(this.formatterOptions.rowDelimiter),c(null,u)}checkHeaders(c){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let u=l.gatherHeaders(c);return this.headers=u,this.fieldFormatter.headers=u,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(u,c),headers:u}:{shouldFormatColumns:!0,headers:null}}gatherColumns(c){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(c)?l.isRowHashArray(c)?this.headers.map((u,h)=>{let p=c[h];return p?p[1]:""}):l.isRowArray(c)&&!this.shouldWriteHeaders?c:this.headers.map((u,h)=>c[h]):this.headers.map(u=>c[u])}callTransformer(c,u){return this._rowTransform?this._rowTransform(c,u):u(null,c)}formatColumns(c,u){let h=c.map((f,m)=>this.fieldFormatter.format(f,m,u)).join(this.formatterOptions.delimiter),{rowCount:p}=this;return this.rowCount+=1,p?[this.formatterOptions.rowDelimiter,h].join(""):h}}n.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldFormatter=n.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(n,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var r=e("./FieldFormatter");Object.defineProperty(n,"FieldFormatter",{enumerable:!0,get:function(){return r.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,t,n){(function(i){(function(){"use strict";var r=Object.create?function(m,g,v,w){w===void 0&&(w=v),Object.defineProperty(m,w,{enumerable:!0,get:function(){return g[v]}})}:function(m,g,v,w){w===void 0&&(w=v),m[w]=g[v]},o=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g},s=function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&r(g,m,v);return o(g,m),g},a=function(m,g){for(var v in m)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||r(g,m,v)};Object.defineProperty(n,"__esModule",{value:!0}),n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=n.FormatterOptions=n.CsvFormatterStream=void 0;let l=e("util"),d=e("stream"),c=s(e("fs")),u=e("./FormatterOptions"),h=e("./CsvFormatterStream");a(e("./types"),n);var p=e("./CsvFormatterStream");Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return p.CsvFormatterStream}});var f=e("./FormatterOptions");Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}}),n.format=m=>new h.CsvFormatterStream(new u.FormatterOptions(m)),n.write=(m,g)=>{let v=n.format(g),w=l.promisify((E,T)=>{v.write(E,void 0,T)});return m.reduce((E,T)=>E.then(()=>w(T)),Promise.resolve()).then(()=>v.end()).catch(E=>{v.emit("error",E)}),v},n.writeToStream=(m,g,v)=>n.write(g,v).pipe(m),n.writeToBuffer=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=[],w=new d.Writable({write(E,T,F){v.push(E),F()}});return new Promise((E,T)=>{w.on("error",T).on("finish",()=>E(i.concat(v))),n.write(m,g).pipe(w)})},n.writeToString=(m,g)=>n.writeToBuffer(m,g).then(v=>v.toString()),n.writeToPath=(m,g,v)=>{let w=c.createWriteStream(m,{encoding:"utf8"});return n.write(g,v).pipe(w)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncTransform=void 0,n.isSyncTransform=i=>i.length===1},{}],153:[function(e,t,n){(function(i){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=void 0;let r=e("string_decoder"),o=e("stream"),s=e("./transforms"),a=e("./parser");class l extends o.Transform{constructor(c){super({objectMode:c.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=c,this.parser=new a.Parser(c),this.headerTransformer=new s.HeaderTransformer(c),this.decoder=new r.StringDecoder(c.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(c){return this.rowTransformerValidator.rowTransform=c,this}validate(c){return this.rowTransformerValidator.rowValidator=c,this}emit(c){if(c==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];return super.emit(c,...h)}_transform(c,u,h){if(this.hasHitRowLimit)return h();let p=l.wrapDoneCallback(h);try{let{lines:f}=this,m=f+this.decoder.write(c),g=this.parse(m,!0);return this.processRows(g,p)}catch(f){return p(f)}}_flush(c){let u=l.wrapDoneCallback(c);if(this.hasHitRowLimit)return u();try{let h=this.lines+this.decoder.end(),p=this.parse(h,!1);return this.processRows(p,u)}catch(h){return u(h)}}parse(c,u){if(!c)return[];let{line:h,rows:p}=this.parser.parse(c,u);return this.lines=h,p}processRows(c,u){let h=c.length,p=f=>{let m=w=>w?u(w):f%100!=0?p(f+1):void i(()=>p(f+1));if(this.checkAndEmitHeaders(),f>=h||this.hasHitRowLimit)return u();if(this.parsedLineCount+=1,this.shouldSkipLine)return m();let g=c[f];this.rowCount+=1,this.parsedRowCount+=1;let v=this.rowCount;return this.transformRow(g,(w,E)=>{if(w)return this.rowCount-=1,m(w);if(!E)return m(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,m)}else this.emit("data-invalid",E.row,v,E.reason);return m()})};p(0)}transformRow(c,u){try{this.headerTransformer.transform(c,(h,p)=>h?u(h):p?p.isValid?p.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(p.row,u):this.skipRow(u):(this.rowCount-=1,this.parsedRowCount-=1,u(null,{row:null,isValid:!0})):this.shouldEmitRows?u(null,{isValid:!1,row:c}):this.skipRow(u):u(new Error("Expected result from header transform")))}catch(h){u(h)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(c){return this.rowCount-=1,c(null,{row:null,isValid:!0})}pushRow(c,u){try{this.parserOptions.objectMode?this.push(c):this.push(JSON.stringify(c)),u()}catch(h){u(h)}}static wrapDoneCallback(c){let u=!1;return function(h){if(h){if(u)throw h;return u=!0,void c(h)}for(var p=arguments.length,f=new Array(p>1?p-1:0),m=1;m<p;m++)f[m-1]=arguments[m];c(...f)}}}n.CsvParserStream=l}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,t,n){"use strict";var i=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParserOptions=void 0;let r=i(e("lodash.escaperegexp")),o=i(e("lodash.isnil"));n.ParserOptions=class{constructor(s){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=r.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,t,n){"use strict";var i=Object.create?function(p,f,m,g){g===void 0&&(g=m),Object.defineProperty(p,g,{enumerable:!0,get:function(){return f[m]}})}:function(p,f,m,g){g===void 0&&(g=m),p[g]=f[m]},r=Object.create?function(p,f){Object.defineProperty(p,"default",{enumerable:!0,value:f})}:function(p,f){p.default=f},o=function(p){if(p&&p.__esModule)return p;var f={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&i(f,p,m);return r(f,p),f},s=function(p,f){for(var m in p)m==="default"||Object.prototype.hasOwnProperty.call(f,m)||i(f,p,m)};Object.defineProperty(n,"__esModule",{value:!0}),n.parseString=n.parseFile=n.parseStream=n.parse=n.ParserOptions=n.CsvParserStream=void 0;let a=o(e("fs")),l=e("stream"),d=e("./ParserOptions"),c=e("./CsvParserStream");s(e("./types"),n);var u=e("./CsvParserStream");Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}});var h=e("./ParserOptions");Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return h.ParserOptions}}),n.parse=p=>new c.CsvParserStream(new d.ParserOptions(p)),n.parseStream=(p,f)=>p.pipe(new c.CsvParserStream(new d.ParserOptions(f))),n.parseFile=function(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(p).pipe(new c.CsvParserStream(new d.ParserOptions(f)))},n.parseString=(p,f)=>{let m=new l.Readable;return m.push(p),m.push(null),m.pipe(new c.CsvParserStream(new d.ParserOptions(f)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Parser=void 0;let i=e("./Scanner"),r=e("./RowParser"),o=e("./Token");class s{constructor(l){this.parserOptions=l,this.rowParser=new r.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,d){let c=new i.Scanner({line:s.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(c):this.parseWithoutComments(c)}parseWithoutComments(l){let d=[],c=!0;for(;c;)c=this.parseRow(l,d);return{line:l.line,rows:d}}parseWithComments(l){let{parserOptions:d}=this,c=[];for(let u=l.nextCharacterToken;u!==null;u=l.nextCharacterToken)if(o.Token.isTokenComment(u,d)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:c};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:c};l.truncateToCursor()}else if(!this.parseRow(l,c))break;return{line:l.line,rows:c}}parseRow(l,d){if(!l.nextNonSpaceToken)return!1;let c=this.rowParser.parse(l);return c!==null&&(this.parserOptions.ignoreEmpty&&r.RowParser.isEmptyRow(c)||d.push(c),!0)}}n.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RowParser=void 0;let i=e("./column"),r=e("./Token");n.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){let{parserOptions:s}=this,{hasMoreData:a}=o,l=o,d=[],c=this.getStartToken(l,d);for(;c;){if(r.Token.isTokenRowDelimiter(c))return l.advancePastToken(c),!l.hasMoreCharacters&&r.Token.isTokenCarriageReturn(c,s)&&a?null:(l.truncateToCursor(),d);if(!this.shouldSkipColumnParse(l,c,d)){let u=this.columnParser.parse(l);if(u===null)return null;d.push(u)}c=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),d)}getStartToken(o,s){let a=o.nextNonSpaceToken;return a!==null&&r.Token.isTokenDelimiter(a,this.parserOptions)?(s.push(""),o.nextNonSpaceToken):a}shouldSkipColumnParse(o,s,a){let{parserOptions:l}=this;if(r.Token.isTokenDelimiter(s,l)){o.advancePastToken(s);let d=o.nextCharacterToken;if(!o.hasMoreCharacters||d!==null&&r.Token.isTokenRowDelimiter(d)||d!==null&&r.Token.isTokenDelimiter(d,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scanner=void 0;let i=e("./Token"),r=/((?:\r\n)|\n|\r)/;n.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:o}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(s)===-1)return null;let a=s.exec(o);if(a==null)return null;let l=a[1],d=this.cursor+(a.index||0);return new i.Token({token:l,startCursor:d,endCursor:d+l.length-1})}get nextCharacterToken(){let{cursor:o,lineLength:s}=this;return s<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let o=r.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0,n.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){let r=i.token;return r==="\r"||r===`
`||r===`\r
`}static isTokenCarriageReturn(i,r){return i.token===r.carriageReturn}static isTokenComment(i,r){return r.supportsComments&&!!i&&i.token===r.comment}static isTokenEscapeCharacter(i,r){return i.token===r.escapeChar}static isTokenQuote(i,r){return i.token===r.quote}static isTokenDelimiter(i,r){return i.token===r.delimiter}}},{}],160:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=void 0,n.ColumnFormatter=class{constructor(i){i.trim?this.format=r=>r.trim():i.ltrim?this.format=r=>r.trimLeft():i.rtrim?this.format=r=>r.trimRight():this.format=r=>r}}},{}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnParser=void 0;let i=e("./NonQuotedColumnParser"),r=e("./QuotedColumnParser"),o=e("../Token");n.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new r.QuotedColumnParser(s),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(s)}parse(s){let{nextNonSpaceToken:a}=s;return a!==null&&o.Token.isTokenQuote(a,this.parserOptions)?(s.advanceToToken(a),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NonQuotedColumnParser=void 0;let i=e("./ColumnFormatter"),r=e("../Token");n.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let{parserOptions:s}=this,a=[],l=o.nextCharacterToken;for(;l&&!r.Token.isTokenDelimiter(l,s)&&!r.Token.isTokenRowDelimiter(l);l=o.nextCharacterToken)a.push(l.token),o.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=void 0;let i=e("./ColumnFormatter"),r=e("../Token");n.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let s=o.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(o);if(!a){if(o.advanceTo(s),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),l}gatherDataBetweenQuotes(o){let{parserOptions:s}=this,a=!1,l=!1,d=[],c=o.nextCharacterToken;for(;!l&&c!==null;c=o.nextCharacterToken){let u=r.Token.isTokenQuote(c,s);if(!a&&u)a=!0;else if(a)if(r.Token.isTokenEscapeCharacter(c,s)){o.advancePastToken(c);let h=o.nextCharacterToken;h!==null&&(r.Token.isTokenQuote(h,s)||r.Token.isTokenEscapeCharacter(h,s))?(d.push(h.token),c=h):u?l=!0:d.push(c.token)}else u?l=!0:d.push(c.token);o.advancePastToken(c)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:l}}checkForMalformedColumn(o){let{parserOptions:s}=this,{nextNonSpaceToken:a}=o;if(a){let l=r.Token.isTokenDelimiter(a,s),d=r.Token.isTokenRowDelimiter(a);if(!l&&!d){let c=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${a.token}'. at '${c}`)}o.advanceToToken(a)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnFormatter=n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var r=e("./NonQuotedColumnParser");Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}});var o=e("./QuotedColumnParser");Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var s=e("./ColumnFormatter");Object.defineProperty(n,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QuotedColumnParser=n.NonQuotedColumnParser=n.ColumnParser=n.Token=n.Scanner=n.RowParser=n.Parser=void 0;var i=e("./Parser");Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.Parser}});var r=e("./RowParser");Object.defineProperty(n,"RowParser",{enumerable:!0,get:function(){return r.RowParser}});var o=e("./Scanner");Object.defineProperty(n,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var s=e("./Token");Object.defineProperty(n,"Token",{enumerable:!0,get:function(){return s.Token}});var a=e("./column");Object.defineProperty(n,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(n,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(n,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,t,n){"use strict";var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=void 0;let r=i(e("lodash.isundefined")),o=i(e("lodash.isfunction")),s=i(e("lodash.uniq")),a=i(e("lodash.groupby"));n.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):o.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,d){return this.shouldMapRow(l)?d(null,this.processRow(l)):d(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:d}=this;if(!d.discardUnmappedColumns&&l.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return d.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let d={},{headers:c,headersLength:u}=this;for(let h=0;h<u;h+=1){let p=c[h];if(!r.default(p)){let f=l[h];r.default(f)?d[p]="":d[p]=f}}return d}setHeaders(l){var d;let c=l.filter(u=>!!u);if(s.default(c).length!==c.length){let u=a.default(c),h=Object.keys(u).filter(p=>u[p].length>1);throw new Error("Duplicate headers found "+JSON.stringify(h))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,t,n){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.RowTransformerValidator=void 0;let r=i(e("lodash.isfunction")),o=e("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return o.isSyncTransform(l)?(d,c)=>{let u=null;try{u=l(d)}catch(h){return c(h)}return c(null,u)}:l}static createValidator(l){return o.isSyncValidate(l)?(d,c)=>{c(null,{row:d,isValid:l(d)})}:(d,c)=>{l(d,(u,h,p)=>u?c(u):c(null,h?{row:d,isValid:h,reason:p}:{row:d,isValid:!1,reason:p}))}}set rowTransform(l){if(!r.default(l))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(l)}set rowValidator(l){if(!r.default(l))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(l)}transformAndValidate(l,d){return this.callTransformer(l,(c,u)=>c?d(c):u?this.callValidator(u,(h,p)=>h?d(h):p&&!p.isValid?d(null,{row:u,isValid:!1,reason:p.reason}):d(null,{row:u,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(l,d){return this._rowTransform?this._rowTransform(l,d):d(null,l)}callValidator(l,d){return this._rowValidator?this._rowValidator(l,d):d(null,{row:l,isValid:!0})}}n.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTransformer=n.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(n,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var r=e("./HeaderTransformer");Object.defineProperty(n,"HeaderTransformer",{enumerable:!0,get:function(){return r.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isSyncValidate=n.isSyncTransform=void 0,n.isSyncTransform=i=>i.length===1,n.isSyncValidate=i=>i.length===1},{}],170:[function(e,t,n){"use strict";let i=n;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,t,n){"use strict";let i=e("./encoders"),r=e("./decoders"),o=e("inherits");function s(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}n.define=function(a,l){return new s(a,l)},s.prototype._createNamed=function(a){let l=this.name;function d(c){this._initNamed(c,l)}return o(d,a),d.prototype._initNamed=function(c,u){a.call(this,c,u)},new d(this)},s.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(r[a])),this.decoders[a]},s.prototype.decode=function(a,l,d){return this._getDecoder(l).decode(a,d)},s.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(i[a])),this.encoders[a]},s.prototype.encode=function(a,l,d){return this._getEncoder(l).encode(a,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,t,n){"use strict";let i=e("inherits"),r=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function s(l,d){r.call(this,d),o.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,d){if(Array.isArray(l))this.length=0,this.value=l.map(function(c){return a.isEncoderBuffer(c)||(c=new a(c,d)),this.length+=c.length,c},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return d.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=o.byteLength(l);else{if(!o.isBuffer(l))return d.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}i(s,r),n.DecoderBuffer=s,s.isDecoderBuffer=function(l){return l instanceof s?!0:typeof l=="object"&&o.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},s.prototype.restore=function(l){let d=new s(this.base);return d.offset=l.offset,d.length=this.offset,this.offset=l.offset,r.prototype.restore.call(this,l.reporter),d},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},s.prototype.skip=function(l,d){if(!(this.offset+l<=this.length))return this.error(d||"DecoderBuffer overrun");let c=new s(this.base);return c._reporterState=this._reporterState,c.offset=this.offset,c.length=this.offset+l,this.offset+=l,c},s.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},n.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,d){return l||(l=o.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(c){c.join(l,d),d+=c.length}):(typeof this.value=="number"?l[d]=this.value:typeof this.value=="string"?l.write(this.value,d):o.isBuffer(this.value)&&this.value.copy(l,d),d+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,t,n){"use strict";let i=n;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,t,n){"use strict";let i=e("../base/reporter").Reporter,r=e("../base/buffer").EncoderBuffer,o=e("../base/buffer").DecoderBuffer,s=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function d(u,h,p){let f={};this._baseState=f,f.name=p,f.enc=u,f.parent=h||null,f.children=null,f.tag=null,f.args=null,f.reverseArgs=null,f.choice=null,f.optional=!1,f.any=!1,f.obj=!1,f.use=null,f.useDecoder=null,f.key=null,f.default=null,f.explicit=null,f.implicit=null,f.contains=null,f.parent||(f.children=[],this._wrap())}t.exports=d;let c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){let u=this._baseState,h={};c.forEach(function(f){h[f]=u[f]});let p=new this.constructor(h.parent);return p._baseState=h,p},d.prototype._wrap=function(){let u=this._baseState;l.forEach(function(h){this[h]=function(){let p=new this.constructor(this);return u.children.push(p),p[h].apply(p,arguments)}},this)},d.prototype._init=function(u){let h=this._baseState;s(h.parent===null),u.call(this),h.children=h.children.filter(function(p){return p._baseState.parent===this},this),s.equal(h.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(u){let h=this._baseState,p=u.filter(function(f){return f instanceof this.constructor},this);u=u.filter(function(f){return!(f instanceof this.constructor)},this),p.length!==0&&(s(h.children===null),h.children=p,p.forEach(function(f){f._baseState.parent=this},this)),u.length!==0&&(s(h.args===null),h.args=u,h.reverseArgs=u.map(function(f){if(typeof f!="object"||f.constructor!==Object)return f;let m={};return Object.keys(f).forEach(function(g){g==(0|g)&&(g|=0);let v=f[g];m[v]=g}),m}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(u){d.prototype[u]=function(){let h=this._baseState;throw new Error(u+" not implemented for encoding: "+h.enc)}}),a.forEach(function(u){d.prototype[u]=function(){let h=this._baseState,p=Array.prototype.slice.call(arguments);return s(h.tag===null),h.tag=u,this._useArgs(p),this}}),d.prototype.use=function(u){s(u);let h=this._baseState;return s(h.use===null),h.use=u,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(u){let h=this._baseState;return s(h.default===null),h.default=u,h.optional=!0,this},d.prototype.explicit=function(u){let h=this._baseState;return s(h.explicit===null&&h.implicit===null),h.explicit=u,this},d.prototype.implicit=function(u){let h=this._baseState;return s(h.explicit===null&&h.implicit===null),h.implicit=u,this},d.prototype.obj=function(){let u=this._baseState,h=Array.prototype.slice.call(arguments);return u.obj=!0,h.length!==0&&this._useArgs(h),this},d.prototype.key=function(u){let h=this._baseState;return s(h.key===null),h.key=u,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(u){let h=this._baseState;return s(h.choice===null),h.choice=u,this._useArgs(Object.keys(u).map(function(p){return u[p]})),this},d.prototype.contains=function(u){let h=this._baseState;return s(h.use===null),h.contains=u,this},d.prototype._decode=function(u,h){let p=this._baseState;if(p.parent===null)return u.wrapResult(p.children[0]._decode(u,h));let f,m=p.default,g=!0,v=null;if(p.key!==null&&(v=u.enterKey(p.key)),p.optional){let w=null;if(p.explicit!==null?w=p.explicit:p.implicit!==null?w=p.implicit:p.tag!==null&&(w=p.tag),w!==null||p.any){if(g=this._peekTag(u,w,p.any),u.isError(g))return g}else{let E=u.save();try{p.choice===null?this._decodeGeneric(p.tag,u,h):this._decodeChoice(u,h),g=!0}catch{g=!1}u.restore(E)}}if(p.obj&&g&&(f=u.enterObject()),g){if(p.explicit!==null){let E=this._decodeTag(u,p.explicit);if(u.isError(E))return E;u=E}let w=u.offset;if(p.use===null&&p.choice===null){let E;p.any&&(E=u.save());let T=this._decodeTag(u,p.implicit!==null?p.implicit:p.tag,p.any);if(u.isError(T))return T;p.any?m=u.raw(E):u=T}if(h&&h.track&&p.tag!==null&&h.track(u.path(),w,u.length,"tagged"),h&&h.track&&p.tag!==null&&h.track(u.path(),u.offset,u.length,"content"),p.any||(m=p.choice===null?this._decodeGeneric(p.tag,u,h):this._decodeChoice(u,h)),u.isError(m))return m;if(p.any||p.choice!==null||p.children===null||p.children.forEach(function(E){E._decode(u,h)}),p.contains&&(p.tag==="octstr"||p.tag==="bitstr")){let E=new o(m);m=this._getUse(p.contains,u._reporterState.obj)._decode(E,h)}}return p.obj&&g&&(m=u.leaveObject(f)),p.key===null||m===null&&g!==!0?v!==null&&u.exitKey(v):u.leaveKey(v,p.key,m),m},d.prototype._decodeGeneric=function(u,h,p){let f=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(h,u,f.args[0],p):/str$/.test(u)?this._decodeStr(h,u,p):u==="objid"&&f.args?this._decodeObjid(h,f.args[0],f.args[1],p):u==="objid"?this._decodeObjid(h,null,null,p):u==="gentime"||u==="utctime"?this._decodeTime(h,u,p):u==="null_"?this._decodeNull(h,p):u==="bool"?this._decodeBool(h,p):u==="objDesc"?this._decodeStr(h,u,p):u==="int"||u==="enum"?this._decodeInt(h,f.args&&f.args[0],p):f.use!==null?this._getUse(f.use,h._reporterState.obj)._decode(h,p):h.error("unknown tag: "+u)},d.prototype._getUse=function(u,h){let p=this._baseState;return p.useDecoder=this._use(u,h),s(p.useDecoder._baseState.parent===null),p.useDecoder=p.useDecoder._baseState.children[0],p.implicit!==p.useDecoder._baseState.implicit&&(p.useDecoder=p.useDecoder.clone(),p.useDecoder._baseState.implicit=p.implicit),p.useDecoder},d.prototype._decodeChoice=function(u,h){let p=this._baseState,f=null,m=!1;return Object.keys(p.choice).some(function(g){let v=u.save(),w=p.choice[g];try{let E=w._decode(u,h);if(u.isError(E))return!1;f={type:g,value:E},m=!0}catch{return u.restore(v),!1}return!0},this),m?f:u.error("Choice not matched")},d.prototype._createEncoderBuffer=function(u){return new r(u,this.reporter)},d.prototype._encode=function(u,h,p){let f=this._baseState;if(f.default!==null&&f.default===u)return;let m=this._encodeValue(u,h,p);return m===void 0||this._skipDefault(m,h,p)?void 0:m},d.prototype._encodeValue=function(u,h,p){let f=this._baseState;if(f.parent===null)return f.children[0]._encode(u,h||new i);let m=null;if(this.reporter=h,f.optional&&u===void 0){if(f.default===null)return;u=f.default}let g=null,v=!1;if(f.any)m=this._createEncoderBuffer(u);else if(f.choice)m=this._encodeChoice(u,h);else if(f.contains)g=this._getUse(f.contains,p)._encode(u,h),v=!0;else if(f.children)g=f.children.map(function(w){if(w._baseState.tag==="null_")return w._encode(null,h,u);if(w._baseState.key===null)return h.error("Child should have a key");let E=h.enterKey(w._baseState.key);if(typeof u!="object")return h.error("Child expected, but input is not object");let T=w._encode(u[w._baseState.key],h,u);return h.leaveKey(E),T},this).filter(function(w){return w}),g=this._createEncoderBuffer(g);else if(f.tag==="seqof"||f.tag==="setof"){if(!f.args||f.args.length!==1)return h.error("Too many args for : "+f.tag);if(!Array.isArray(u))return h.error("seqof/setof, but data is not Array");let w=this.clone();w._baseState.implicit=null,g=this._createEncoderBuffer(u.map(function(E){let T=this._baseState;return this._getUse(T.args[0],u)._encode(E,h)},w))}else f.use!==null?m=this._getUse(f.use,p)._encode(u,h):(g=this._encodePrimitive(f.tag,u),v=!0);if(!f.any&&f.choice===null){let w=f.implicit!==null?f.implicit:f.tag,E=f.implicit===null?"universal":"context";w===null?f.use===null&&h.error("Tag could be omitted only for .use()"):f.use===null&&(m=this._encodeComposite(w,v,E,g))}return f.explicit!==null&&(m=this._encodeComposite(f.explicit,!1,"context",m)),m},d.prototype._encodeChoice=function(u,h){let p=this._baseState,f=p.choice[u.type];return f||s(!1,u.type+" not found in "+JSON.stringify(Object.keys(p.choice))),f._encode(u.value,h)},d.prototype._encodePrimitive=function(u,h){let p=this._baseState;if(/str$/.test(u))return this._encodeStr(h,u);if(u==="objid"&&p.args)return this._encodeObjid(h,p.reverseArgs[0],p.args[1]);if(u==="objid")return this._encodeObjid(h,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(h,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(h,p.args&&p.reverseArgs[0]);if(u==="bool")return this._encodeBool(h);if(u==="objDesc")return this._encodeStr(h,u);throw new Error("Unsupported tag: "+u)},d.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},d.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,t,n){"use strict";let i=e("inherits");function r(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function o(s,a){this.path=s,this.rethrow(a)}n.Reporter=r,r.prototype.isError=function(s){return s instanceof o},r.prototype.save=function(){let s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},r.prototype.restore=function(s){let a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},r.prototype.enterKey=function(s){return this._reporterState.path.push(s)},r.prototype.exitKey=function(s){let a=this._reporterState;a.path=a.path.slice(0,s-1)},r.prototype.leaveKey=function(s,a,l){let d=this._reporterState;this.exitKey(s),d.obj!==null&&(d.obj[a]=l)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let s=this._reporterState,a=s.obj;return s.obj={},a},r.prototype.leaveObject=function(s){let a=this._reporterState,l=a.obj;return a.obj=s,l},r.prototype.error=function(s){let a,l=this._reporterState,d=s instanceof o;if(a=d?s:new o(l.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),s.message||s,s.stack),!l.options.partial)throw a;return d||l.errors.push(a),a},r.prototype.wrapResult=function(s){let a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s},i(o,Error),o.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,t,n){"use strict";function i(r){let o={};return Object.keys(r).forEach(function(s){(0|s)==s&&(s|=0);let a=r[s];o[a]=s}),o}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=i(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=i(n.tag)},{}],177:[function(e,t,n){"use strict";let i=n;i._reverse=function(r){let o={};return Object.keys(r).forEach(function(s){(0|s)==s&&(s|=0);let a=r[s];o[a]=s}),o},i.der=e("./der")},{"./der":176}],178:[function(e,t,n){"use strict";let i=e("inherits"),r=e("bn.js"),o=e("../base/buffer").DecoderBuffer,s=e("../base/node"),a=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){s.call(this,"der",h)}function c(h,p){let f=h.readUInt8(p);if(h.isError(f))return f;let m=a.tagClass[f>>6],g=(32&f)==0;if((31&f)==31){let v=f;for(f=0;(128&v)==128;){if(v=h.readUInt8(p),h.isError(v))return v;f<<=7,f|=127&v}}else f&=31;return{cls:m,primitive:g,tag:f,tagStr:a.tag[f]}}function u(h,p,f){let m=h.readUInt8(f);if(h.isError(m))return m;if(!p&&m===128)return null;if((128&m)==0)return m;let g=127&m;if(g>4)return h.error("length octect is too long");m=0;for(let v=0;v<g;v++){m<<=8;let w=h.readUInt8(f);if(h.isError(w))return w;m|=w}return m}t.exports=l,l.prototype.decode=function(h,p){return o.isDecoderBuffer(h)||(h=new o(h,p)),this.tree._decode(h,p)},i(d,s),d.prototype._peekTag=function(h,p,f){if(h.isEmpty())return!1;let m=h.save(),g=c(h,'Failed to peek tag: "'+p+'"');return h.isError(g)?g:(h.restore(m),g.tag===p||g.tagStr===p||g.tagStr+"of"===p||f)},d.prototype._decodeTag=function(h,p,f){let m=c(h,'Failed to decode tag of "'+p+'"');if(h.isError(m))return m;let g=u(h,m.primitive,'Failed to get length of "'+p+'"');if(h.isError(g))return g;if(!f&&m.tag!==p&&m.tagStr!==p&&m.tagStr+"of"!==p)return h.error('Failed to match tag: "'+p+'"');if(m.primitive||g!==null)return h.skip(g,'Failed to match body of: "'+p+'"');let v=h.save(),w=this._skipUntilEnd(h,'Failed to skip indefinite length body: "'+this.tag+'"');return h.isError(w)?w:(g=h.offset-v.offset,h.restore(v),h.skip(g,'Failed to match body of: "'+p+'"'))},d.prototype._skipUntilEnd=function(h,p){for(;;){let f=c(h,p);if(h.isError(f))return f;let m=u(h,f.primitive,p);if(h.isError(m))return m;let g;if(g=f.primitive||m!==null?h.skip(m):this._skipUntilEnd(h,p),h.isError(g))return g;if(f.tagStr==="end")break}},d.prototype._decodeList=function(h,p,f,m){let g=[];for(;!h.isEmpty();){let v=this._peekTag(h,"end");if(h.isError(v))return v;let w=f.decode(h,"der",m);if(h.isError(w)&&v)break;g.push(w)}return g},d.prototype._decodeStr=function(h,p){if(p==="bitstr"){let f=h.readUInt8();return h.isError(f)?f:{unused:f,data:h.raw()}}if(p==="bmpstr"){let f=h.raw();if(f.length%2==1)return h.error("Decoding of string type: bmpstr length mismatch");let m="";for(let g=0;g<f.length/2;g++)m+=String.fromCharCode(f.readUInt16BE(2*g));return m}if(p==="numstr"){let f=h.raw().toString("ascii");return this._isNumstr(f)?f:h.error("Decoding of string type: numstr unsupported characters")}if(p==="octstr"||p==="objDesc")return h.raw();if(p==="printstr"){let f=h.raw().toString("ascii");return this._isPrintstr(f)?f:h.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(p)?h.raw().toString():h.error("Decoding of string type: "+p+" unsupported")},d.prototype._decodeObjid=function(h,p,f){let m,g=[],v=0,w=0;for(;!h.isEmpty();)w=h.readUInt8(),v<<=7,v|=127&w,(128&w)==0&&(g.push(v),v=0);128&w&&g.push(v);let E=g[0]/40|0,T=g[0]%40;if(m=f?g:[E,T].concat(g.slice(1)),p){let F=p[m.join(" ")];F===void 0&&(F=p[m.join(".")]),F!==void 0&&(m=F)}return m},d.prototype._decodeTime=function(h,p){let f=h.raw().toString(),m,g,v,w,E,T;if(p==="gentime")m=0|f.slice(0,4),g=0|f.slice(4,6),v=0|f.slice(6,8),w=0|f.slice(8,10),E=0|f.slice(10,12),T=0|f.slice(12,14);else{if(p!=="utctime")return h.error("Decoding "+p+" time is not supported yet");m=0|f.slice(0,2),g=0|f.slice(2,4),v=0|f.slice(4,6),w=0|f.slice(6,8),E=0|f.slice(8,10),T=0|f.slice(10,12),m=m<70?2e3+m:1900+m}return Date.UTC(m,g-1,v,w,E,T,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(h){let p=h.readUInt8();return h.isError(p)?p:p!==0},d.prototype._decodeInt=function(h,p){let f=h.raw(),m=new r(f);return p&&(m=p[m.toString(10)]||m),m},d.prototype._use=function(h,p){return typeof h=="function"&&(h=h(p)),h._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,t,n){"use strict";let i=n;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,t,n){"use strict";let i=e("inherits"),r=e("safer-buffer").Buffer,o=e("./der");function s(a){o.call(this,a),this.enc="pem"}i(s,o),t.exports=s,s.prototype.decode=function(a,l){let d=a.toString().split(/[\r\n]+/g),c=l.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/,h=-1,p=-1;for(let g=0;g<d.length;g++){let v=d[g].match(u);if(v!==null&&v[2]===c){if(h!==-1){if(v[1]!=="END")break;p=g;break}if(v[1]!=="BEGIN")break;h=g}}if(h===-1||p===-1)throw new Error("PEM section not found for: "+c);let f=d.slice(h+1,p).join("");f.replace(/[^a-z0-9+/=]+/gi,"");let m=r.from(f,"base64");return o.prototype.decode.call(this,m,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,t,n){"use strict";let i=e("inherits"),r=e("safer-buffer").Buffer,o=e("../base/node"),s=e("../constants/der");function a(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new l,this.tree._init(c.body)}function l(c){o.call(this,"der",c)}function d(c){return c<10?"0"+c:c}t.exports=a,a.prototype.encode=function(c,u){return this.tree._encode(c,u).join()},i(l,o),l.prototype._encodeComposite=function(c,u,h,p){let f=function(v,w,E,T){let F;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),s.tagByName.hasOwnProperty(v))F=s.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return T.error("Unknown tag: "+v);F=v}return F>=31?T.error("Multi-octet tag encoding unsupported"):(w||(F|=32),F|=s.tagClassByName[E||"universal"]<<6,F)}(c,u,h,this.reporter);if(p.length<128){let v=r.alloc(2);return v[0]=f,v[1]=p.length,this._createEncoderBuffer([v,p])}let m=1;for(let v=p.length;v>=256;v>>=8)m++;let g=r.alloc(2+m);g[0]=f,g[1]=128|m;for(let v=1+m,w=p.length;w>0;v--,w>>=8)g[v]=255&w;return this._createEncoderBuffer([g,p])},l.prototype._encodeStr=function(c,u){if(u==="bitstr")return this._createEncoderBuffer([0|c.unused,c.data]);if(u==="bmpstr"){let h=r.alloc(2*c.length);for(let p=0;p<c.length;p++)h.writeUInt16BE(c.charCodeAt(p),2*p);return this._createEncoderBuffer(h)}return u==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)||u==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+u+" unsupported")},l.prototype._encodeObjid=function(c,u,h){if(typeof c=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=u[c].split(/[\s.]+/g);for(let g=0;g<c.length;g++)c[g]|=0}else if(Array.isArray(c)){c=c.slice();for(let g=0;g<c.length;g++)c[g]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!h){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,40*c[0]+c[1])}let p=0;for(let g=0;g<c.length;g++){let v=c[g];for(p++;v>=128;v>>=7)p++}let f=r.alloc(p),m=f.length-1;for(let g=c.length-1;g>=0;g--){let v=c[g];for(f[m--]=127&v;(v>>=7)>0;)f[m--]=128|127&v}return this._createEncoderBuffer(f)},l.prototype._encodeTime=function(c,u){let h,p=new Date(c);return u==="gentime"?h=[d(p.getUTCFullYear()),d(p.getUTCMonth()+1),d(p.getUTCDate()),d(p.getUTCHours()),d(p.getUTCMinutes()),d(p.getUTCSeconds()),"Z"].join(""):u==="utctime"?h=[d(p.getUTCFullYear()%100),d(p.getUTCMonth()+1),d(p.getUTCDate()),d(p.getUTCHours()),d(p.getUTCMinutes()),d(p.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(h,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(c,u){if(typeof c=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=u[c]}if(typeof c!="number"&&!r.isBuffer(c)){let f=c.toArray();!c.sign&&128&f[0]&&f.unshift(0),c=r.from(f)}if(r.isBuffer(c)){let f=c.length;c.length===0&&f++;let m=r.alloc(f);return c.copy(m),c.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);let h=1;for(let f=c;f>=256;f>>=8)h++;let p=new Array(h);for(let f=p.length-1;f>=0;f--)p[f]=255&c,c>>=8;return 128&p[0]&&p.unshift(0),this._createEncoderBuffer(r.from(p))},l.prototype._encodeBool=function(c){return this._createEncoderBuffer(c?255:0)},l.prototype._use=function(c,u){return typeof c=="function"&&(c=c(u)),c._getEncoder("der").tree},l.prototype._skipDefault=function(c,u,h){let p=this._baseState,f;if(p.default===null)return!1;let m=c.join();if(p.defaultBuffer===void 0&&(p.defaultBuffer=this._encodeValue(p.default,u,h).join()),m.length!==p.defaultBuffer.length)return!1;for(f=0;f<m.length;f++)if(m[f]!==p.defaultBuffer[f])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,t,n){"use strict";let i=n;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,t,n){"use strict";let i=e("inherits"),r=e("./der");function o(s){r.call(this,s),this.enc="pem"}i(o,r),t.exports=o,o.prototype.encode=function(s,a){let l=r.prototype.encode.call(this,s).toString("base64"),d=["-----BEGIN "+a.label+"-----"];for(let c=0;c<l.length;c+=64)d.push(l.slice(c,c+64));return d.push("-----END "+a.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,t,n){"use strict";(function(i,r){function o(R,I){if(!R)throw new Error(I||"Assertion failed")}function s(R,I){R.super_=I;var N=function(){};N.prototype=I.prototype,R.prototype=new N,R.prototype.constructor=R}function a(R,I,N){if(a.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(I!=="le"&&I!=="be"||(N=I,I=10),this._init(R||0,I||10,N||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(R,I){var N=R.charCodeAt(I);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function c(R,I,N){var b=d(R,N);return N-1>=I&&(b|=d(R,N-1)<<4),b}function u(R,I,N,b){for(var C=0,x=Math.min(R.length,N),_=I;_<x;_++){var D=R.charCodeAt(_)-48;C*=b,C+=D>=49?D-49+10:D>=17?D-17+10:D}return C}a.isBN=function(R){return R instanceof a||R!==null&&typeof R=="object"&&R.constructor.wordSize===a.wordSize&&Array.isArray(R.words)},a.max=function(R,I){return R.cmp(I)>0?R:I},a.min=function(R,I){return R.cmp(I)<0?R:I},a.prototype._init=function(R,I,N){if(typeof R=="number")return this._initNumber(R,I,N);if(typeof R=="object")return this._initArray(R,I,N);I==="hex"&&(I=16),o(I===(0|I)&&I>=2&&I<=36);var b=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<R.length&&(I===16?this._parseHex(R,b,N):(this._parseBase(R,I,b),N==="le"&&this._initArray(this.toArray(),I,N)))},a.prototype._initNumber=function(R,I,N){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(o(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),I,N)},a.prototype._initArray=function(R,I,N){if(o(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var C,x,_=0;if(N==="be")for(b=R.length-1,C=0;b>=0;b-=3)x=R[b]|R[b-1]<<8|R[b-2]<<16,this.words[C]|=x<<_&67108863,this.words[C+1]=x>>>26-_&67108863,(_+=24)>=26&&(_-=26,C++);else if(N==="le")for(b=0,C=0;b<R.length;b+=3)x=R[b]|R[b+1]<<8|R[b+2]<<16,this.words[C]|=x<<_&67108863,this.words[C+1]=x>>>26-_&67108863,(_+=24)>=26&&(_-=26,C++);return this.strip()},a.prototype._parseHex=function(R,I,N){this.length=Math.ceil((R.length-I)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var C,x=0,_=0;if(N==="be")for(b=R.length-1;b>=I;b-=2)C=c(R,I,b)<<x,this.words[_]|=67108863&C,x>=18?(x-=18,_+=1,this.words[_]|=C>>>26):x+=8;else for(b=(R.length-I)%2==0?I+1:I;b<R.length;b+=2)C=c(R,I,b)<<x,this.words[_]|=67108863&C,x>=18?(x-=18,_+=1,this.words[_]|=C>>>26):x+=8;this.strip()},a.prototype._parseBase=function(R,I,N){this.words=[0],this.length=1;for(var b=0,C=1;C<=67108863;C*=I)b++;b--,C=C/I|0;for(var x=R.length-N,_=x%b,D=Math.min(x,x-_)+N,M=0,O=N;O<D;O+=b)M=u(R,O,O+b,I),this.imuln(C),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(_!==0){var U=1;for(M=u(R,O,R.length,I),O=0;O<_;O++)U*=I;this.imuln(U),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},a.prototype.copy=function(R){R.words=new Array(this.length);for(var I=0;I<this.length;I++)R.words[I]=this.words[I];R.length=this.length,R.negative=this.negative,R.red=this.red},a.prototype.clone=function(){var R=new a(null);return this.copy(R),R},a.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(R,I,N){N.negative=I.negative^R.negative;var b=R.length+I.length|0;N.length=b,b=b-1|0;var C=0|R.words[0],x=0|I.words[0],_=C*x,D=67108863&_,M=_/67108864|0;N.words[0]=D;for(var O=1;O<b;O++){for(var U=M>>>26,G=67108863&M,Y=Math.min(O,I.length-1),B=Math.max(0,O-R.length+1);B<=Y;B++){var K=O-B|0;U+=(_=(C=0|R.words[K])*(x=0|I.words[B])+G)/67108864|0,G=67108863&_}N.words[O]=0|G,M=0|U}return M!==0?N.words[O]=0|M:N.length--,N.strip()}a.prototype.toString=function(R,I){var N;if(I=0|I||1,(R=R||10)===16||R==="hex"){N="";for(var b=0,C=0,x=0;x<this.length;x++){var _=this.words[x],D=(16777215&(_<<b|C)).toString(16);N=(C=_>>>24-b&16777215)!==0||x!==this.length-1?h[6-D.length]+D+N:D+N,(b+=2)>=26&&(b-=26,x--)}for(C!==0&&(N=C.toString(16)+N);N.length%I!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(R===(0|R)&&R>=2&&R<=36){var M=p[R],O=f[R];N="";var U=this.clone();for(U.negative=0;!U.isZero();){var G=U.modn(O).toString(R);N=(U=U.idivn(O)).isZero()?G+N:h[M-G.length]+G+N}for(this.isZero()&&(N="0"+N);N.length%I!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(R,I){return o(l!==void 0),this.toArrayLike(l,R,I)},a.prototype.toArray=function(R,I){return this.toArrayLike(Array,R,I)},a.prototype.toArrayLike=function(R,I,N){var b=this.byteLength(),C=N||Math.max(1,b);o(b<=C,"byte array longer than desired length"),o(C>0,"Requested array length <= 0"),this.strip();var x,_,D=I==="le",M=new R(C),O=this.clone();if(D){for(_=0;!O.isZero();_++)x=O.andln(255),O.iushrn(8),M[_]=x;for(;_<C;_++)M[_]=0}else{for(_=0;_<C-b;_++)M[_]=0;for(_=0;!O.isZero();_++)x=O.andln(255),O.iushrn(8),M[C-_-1]=x}return M},Math.clz32?a.prototype._countBits=function(R){return 32-Math.clz32(R)}:a.prototype._countBits=function(R){var I=R,N=0;return I>=4096&&(N+=13,I>>>=13),I>=64&&(N+=7,I>>>=7),I>=8&&(N+=4,I>>>=4),I>=2&&(N+=2,I>>>=2),N+I},a.prototype._zeroBits=function(R){if(R===0)return 26;var I=R,N=0;return(8191&I)==0&&(N+=13,I>>>=13),(127&I)==0&&(N+=7,I>>>=7),(15&I)==0&&(N+=4,I>>>=4),(3&I)==0&&(N+=2,I>>>=2),(1&I)==0&&N++,N},a.prototype.bitLength=function(){var R=this.words[this.length-1],I=this._countBits(R);return 26*(this.length-1)+I},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,I=0;I<this.length;I++){var N=this._zeroBits(this.words[I]);if(R+=N,N!==26)break}return R},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},a.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var I=0;I<R.length;I++)this.words[I]=this.words[I]|R.words[I];return this.strip()},a.prototype.ior=function(R){return o((this.negative|R.negative)==0),this.iuor(R)},a.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},a.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},a.prototype.iuand=function(R){var I;I=this.length>R.length?R:this;for(var N=0;N<I.length;N++)this.words[N]=this.words[N]&R.words[N];return this.length=I.length,this.strip()},a.prototype.iand=function(R){return o((this.negative|R.negative)==0),this.iuand(R)},a.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},a.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},a.prototype.iuxor=function(R){var I,N;this.length>R.length?(I=this,N=R):(I=R,N=this);for(var b=0;b<N.length;b++)this.words[b]=I.words[b]^N.words[b];if(this!==I)for(;b<I.length;b++)this.words[b]=I.words[b];return this.length=I.length,this.strip()},a.prototype.ixor=function(R){return o((this.negative|R.negative)==0),this.iuxor(R)},a.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},a.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},a.prototype.inotn=function(R){o(typeof R=="number"&&R>=0);var I=0|Math.ceil(R/26),N=R%26;this._expand(I),N>0&&I--;for(var b=0;b<I;b++)this.words[b]=67108863&~this.words[b];return N>0&&(this.words[b]=~this.words[b]&67108863>>26-N),this.strip()},a.prototype.notn=function(R){return this.clone().inotn(R)},a.prototype.setn=function(R,I){o(typeof R=="number"&&R>=0);var N=R/26|0,b=R%26;return this._expand(N+1),this.words[N]=I?this.words[N]|1<<b:this.words[N]&~(1<<b),this.strip()},a.prototype.iadd=function(R){var I,N,b;if(this.negative!==0&&R.negative===0)return this.negative=0,I=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,I=this.isub(R),R.negative=1,I._normSign();this.length>R.length?(N=this,b=R):(N=R,b=this);for(var C=0,x=0;x<b.length;x++)I=(0|N.words[x])+(0|b.words[x])+C,this.words[x]=67108863&I,C=I>>>26;for(;C!==0&&x<N.length;x++)I=(0|N.words[x])+C,this.words[x]=67108863&I,C=I>>>26;if(this.length=N.length,C!==0)this.words[this.length]=C,this.length++;else if(N!==this)for(;x<N.length;x++)this.words[x]=N.words[x];return this},a.prototype.add=function(R){var I;return R.negative!==0&&this.negative===0?(R.negative=0,I=this.sub(R),R.negative^=1,I):R.negative===0&&this.negative!==0?(this.negative=0,I=R.sub(this),this.negative=1,I):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},a.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var I=this.iadd(R);return R.negative=1,I._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var N,b,C=this.cmp(R);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(N=this,b=R):(N=R,b=this);for(var x=0,_=0;_<b.length;_++)x=(I=(0|N.words[_])-(0|b.words[_])+x)>>26,this.words[_]=67108863&I;for(;x!==0&&_<N.length;_++)x=(I=(0|N.words[_])+x)>>26,this.words[_]=67108863&I;if(x===0&&_<N.length&&N!==this)for(;_<N.length;_++)this.words[_]=N.words[_];return this.length=Math.max(this.length,_),N!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(R){return this.clone().isub(R)};var g=function(R,I,N){var b,C,x,_=R.words,D=I.words,M=N.words,O=0,U=0|_[0],G=8191&U,Y=U>>>13,B=0|_[1],K=8191&B,A=B>>>13,P=0|_[2],W=8191&P,Q=P>>>13,se=0|_[3],ne=8191&se,ie=se>>>13,ye=0|_[4],ve=8191&ye,ee=ye>>>13,fe=0|_[5],de=8191&fe,he=fe>>>13,Ce=0|_[6],_e=8191&Ce,xe=Ce>>>13,ze=0|_[7],Ve=8191&ze,Ze=ze>>>13,mt=0|_[8],Ue=8191&mt,nt=mt>>>13,on=0|_[9],bt=8191&on,Me=on>>>13,be=0|D[0],ge=8191&be,Ie=be>>>13,ct=0|D[1],tt=8191&ct,vt=ct>>>13,tr=0|D[2],xt=8191&tr,wt=tr>>>13,Sn=0|D[3],At=8191&Sn,Yt=Sn>>>13,Hi=0|D[4],Ut=8191&Hi,Mt=Hi>>>13,pi=0|D[5],Ot=8191&pi,Ft=pi>>>13,hi=0|D[6],St=8191&hi,ue=hi>>>13,Ee=0|D[7],ke=8191&Ee,Xe=Ee>>>13,zn=0|D[8],ht=8191&zn,Tt=zn>>>13,fi=0|D[9],Wt=8191&fi,Ct=fi>>>13;N.negative=R.negative^I.negative,N.length=19;var si=(O+(b=Math.imul(G,ge))|0)+((8191&(C=(C=Math.imul(G,Ie))+Math.imul(Y,ge)|0))<<13)|0;O=((x=Math.imul(Y,Ie))+(C>>>13)|0)+(si>>>26)|0,si&=67108863,b=Math.imul(K,ge),C=(C=Math.imul(K,Ie))+Math.imul(A,ge)|0,x=Math.imul(A,Ie);var fn=(O+(b=b+Math.imul(G,tt)|0)|0)+((8191&(C=(C=C+Math.imul(G,vt)|0)+Math.imul(Y,tt)|0))<<13)|0;O=((x=x+Math.imul(Y,vt)|0)+(C>>>13)|0)+(fn>>>26)|0,fn&=67108863,b=Math.imul(W,ge),C=(C=Math.imul(W,Ie))+Math.imul(Q,ge)|0,x=Math.imul(Q,Ie),b=b+Math.imul(K,tt)|0,C=(C=C+Math.imul(K,vt)|0)+Math.imul(A,tt)|0,x=x+Math.imul(A,vt)|0;var kn=(O+(b=b+Math.imul(G,xt)|0)|0)+((8191&(C=(C=C+Math.imul(G,wt)|0)+Math.imul(Y,xt)|0))<<13)|0;O=((x=x+Math.imul(Y,wt)|0)+(C>>>13)|0)+(kn>>>26)|0,kn&=67108863,b=Math.imul(ne,ge),C=(C=Math.imul(ne,Ie))+Math.imul(ie,ge)|0,x=Math.imul(ie,Ie),b=b+Math.imul(W,tt)|0,C=(C=C+Math.imul(W,vt)|0)+Math.imul(Q,tt)|0,x=x+Math.imul(Q,vt)|0,b=b+Math.imul(K,xt)|0,C=(C=C+Math.imul(K,wt)|0)+Math.imul(A,xt)|0,x=x+Math.imul(A,wt)|0;var mi=(O+(b=b+Math.imul(G,At)|0)|0)+((8191&(C=(C=C+Math.imul(G,Yt)|0)+Math.imul(Y,At)|0))<<13)|0;O=((x=x+Math.imul(Y,Yt)|0)+(C>>>13)|0)+(mi>>>26)|0,mi&=67108863,b=Math.imul(ve,ge),C=(C=Math.imul(ve,Ie))+Math.imul(ee,ge)|0,x=Math.imul(ee,Ie),b=b+Math.imul(ne,tt)|0,C=(C=C+Math.imul(ne,vt)|0)+Math.imul(ie,tt)|0,x=x+Math.imul(ie,vt)|0,b=b+Math.imul(W,xt)|0,C=(C=C+Math.imul(W,wt)|0)+Math.imul(Q,xt)|0,x=x+Math.imul(Q,wt)|0,b=b+Math.imul(K,At)|0,C=(C=C+Math.imul(K,Yt)|0)+Math.imul(A,At)|0,x=x+Math.imul(A,Yt)|0;var qi=(O+(b=b+Math.imul(G,Ut)|0)|0)+((8191&(C=(C=C+Math.imul(G,Mt)|0)+Math.imul(Y,Ut)|0))<<13)|0;O=((x=x+Math.imul(Y,Mt)|0)+(C>>>13)|0)+(qi>>>26)|0,qi&=67108863,b=Math.imul(de,ge),C=(C=Math.imul(de,Ie))+Math.imul(he,ge)|0,x=Math.imul(he,Ie),b=b+Math.imul(ve,tt)|0,C=(C=C+Math.imul(ve,vt)|0)+Math.imul(ee,tt)|0,x=x+Math.imul(ee,vt)|0,b=b+Math.imul(ne,xt)|0,C=(C=C+Math.imul(ne,wt)|0)+Math.imul(ie,xt)|0,x=x+Math.imul(ie,wt)|0,b=b+Math.imul(W,At)|0,C=(C=C+Math.imul(W,Yt)|0)+Math.imul(Q,At)|0,x=x+Math.imul(Q,Yt)|0,b=b+Math.imul(K,Ut)|0,C=(C=C+Math.imul(K,Mt)|0)+Math.imul(A,Ut)|0,x=x+Math.imul(A,Mt)|0;var ir=(O+(b=b+Math.imul(G,Ot)|0)|0)+((8191&(C=(C=C+Math.imul(G,Ft)|0)+Math.imul(Y,Ot)|0))<<13)|0;O=((x=x+Math.imul(Y,Ft)|0)+(C>>>13)|0)+(ir>>>26)|0,ir&=67108863,b=Math.imul(_e,ge),C=(C=Math.imul(_e,Ie))+Math.imul(xe,ge)|0,x=Math.imul(xe,Ie),b=b+Math.imul(de,tt)|0,C=(C=C+Math.imul(de,vt)|0)+Math.imul(he,tt)|0,x=x+Math.imul(he,vt)|0,b=b+Math.imul(ve,xt)|0,C=(C=C+Math.imul(ve,wt)|0)+Math.imul(ee,xt)|0,x=x+Math.imul(ee,wt)|0,b=b+Math.imul(ne,At)|0,C=(C=C+Math.imul(ne,Yt)|0)+Math.imul(ie,At)|0,x=x+Math.imul(ie,Yt)|0,b=b+Math.imul(W,Ut)|0,C=(C=C+Math.imul(W,Mt)|0)+Math.imul(Q,Ut)|0,x=x+Math.imul(Q,Mt)|0,b=b+Math.imul(K,Ot)|0,C=(C=C+Math.imul(K,Ft)|0)+Math.imul(A,Ot)|0,x=x+Math.imul(A,Ft)|0;var cr=(O+(b=b+Math.imul(G,St)|0)|0)+((8191&(C=(C=C+Math.imul(G,ue)|0)+Math.imul(Y,St)|0))<<13)|0;O=((x=x+Math.imul(Y,ue)|0)+(C>>>13)|0)+(cr>>>26)|0,cr&=67108863,b=Math.imul(Ve,ge),C=(C=Math.imul(Ve,Ie))+Math.imul(Ze,ge)|0,x=Math.imul(Ze,Ie),b=b+Math.imul(_e,tt)|0,C=(C=C+Math.imul(_e,vt)|0)+Math.imul(xe,tt)|0,x=x+Math.imul(xe,vt)|0,b=b+Math.imul(de,xt)|0,C=(C=C+Math.imul(de,wt)|0)+Math.imul(he,xt)|0,x=x+Math.imul(he,wt)|0,b=b+Math.imul(ve,At)|0,C=(C=C+Math.imul(ve,Yt)|0)+Math.imul(ee,At)|0,x=x+Math.imul(ee,Yt)|0,b=b+Math.imul(ne,Ut)|0,C=(C=C+Math.imul(ne,Mt)|0)+Math.imul(ie,Ut)|0,x=x+Math.imul(ie,Mt)|0,b=b+Math.imul(W,Ot)|0,C=(C=C+Math.imul(W,Ft)|0)+Math.imul(Q,Ot)|0,x=x+Math.imul(Q,Ft)|0,b=b+Math.imul(K,St)|0,C=(C=C+Math.imul(K,ue)|0)+Math.imul(A,St)|0,x=x+Math.imul(A,ue)|0;var dr=(O+(b=b+Math.imul(G,ke)|0)|0)+((8191&(C=(C=C+Math.imul(G,Xe)|0)+Math.imul(Y,ke)|0))<<13)|0;O=((x=x+Math.imul(Y,Xe)|0)+(C>>>13)|0)+(dr>>>26)|0,dr&=67108863,b=Math.imul(Ue,ge),C=(C=Math.imul(Ue,Ie))+Math.imul(nt,ge)|0,x=Math.imul(nt,Ie),b=b+Math.imul(Ve,tt)|0,C=(C=C+Math.imul(Ve,vt)|0)+Math.imul(Ze,tt)|0,x=x+Math.imul(Ze,vt)|0,b=b+Math.imul(_e,xt)|0,C=(C=C+Math.imul(_e,wt)|0)+Math.imul(xe,xt)|0,x=x+Math.imul(xe,wt)|0,b=b+Math.imul(de,At)|0,C=(C=C+Math.imul(de,Yt)|0)+Math.imul(he,At)|0,x=x+Math.imul(he,Yt)|0,b=b+Math.imul(ve,Ut)|0,C=(C=C+Math.imul(ve,Mt)|0)+Math.imul(ee,Ut)|0,x=x+Math.imul(ee,Mt)|0,b=b+Math.imul(ne,Ot)|0,C=(C=C+Math.imul(ne,Ft)|0)+Math.imul(ie,Ot)|0,x=x+Math.imul(ie,Ft)|0,b=b+Math.imul(W,St)|0,C=(C=C+Math.imul(W,ue)|0)+Math.imul(Q,St)|0,x=x+Math.imul(Q,ue)|0,b=b+Math.imul(K,ke)|0,C=(C=C+Math.imul(K,Xe)|0)+Math.imul(A,ke)|0,x=x+Math.imul(A,Xe)|0;var wr=(O+(b=b+Math.imul(G,ht)|0)|0)+((8191&(C=(C=C+Math.imul(G,Tt)|0)+Math.imul(Y,ht)|0))<<13)|0;O=((x=x+Math.imul(Y,Tt)|0)+(C>>>13)|0)+(wr>>>26)|0,wr&=67108863,b=Math.imul(bt,ge),C=(C=Math.imul(bt,Ie))+Math.imul(Me,ge)|0,x=Math.imul(Me,Ie),b=b+Math.imul(Ue,tt)|0,C=(C=C+Math.imul(Ue,vt)|0)+Math.imul(nt,tt)|0,x=x+Math.imul(nt,vt)|0,b=b+Math.imul(Ve,xt)|0,C=(C=C+Math.imul(Ve,wt)|0)+Math.imul(Ze,xt)|0,x=x+Math.imul(Ze,wt)|0,b=b+Math.imul(_e,At)|0,C=(C=C+Math.imul(_e,Yt)|0)+Math.imul(xe,At)|0,x=x+Math.imul(xe,Yt)|0,b=b+Math.imul(de,Ut)|0,C=(C=C+Math.imul(de,Mt)|0)+Math.imul(he,Ut)|0,x=x+Math.imul(he,Mt)|0,b=b+Math.imul(ve,Ot)|0,C=(C=C+Math.imul(ve,Ft)|0)+Math.imul(ee,Ot)|0,x=x+Math.imul(ee,Ft)|0,b=b+Math.imul(ne,St)|0,C=(C=C+Math.imul(ne,ue)|0)+Math.imul(ie,St)|0,x=x+Math.imul(ie,ue)|0,b=b+Math.imul(W,ke)|0,C=(C=C+Math.imul(W,Xe)|0)+Math.imul(Q,ke)|0,x=x+Math.imul(Q,Xe)|0,b=b+Math.imul(K,ht)|0,C=(C=C+Math.imul(K,Tt)|0)+Math.imul(A,ht)|0,x=x+Math.imul(A,Tt)|0;var ce=(O+(b=b+Math.imul(G,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(G,Ct)|0)+Math.imul(Y,Wt)|0))<<13)|0;O=((x=x+Math.imul(Y,Ct)|0)+(C>>>13)|0)+(ce>>>26)|0,ce&=67108863,b=Math.imul(bt,tt),C=(C=Math.imul(bt,vt))+Math.imul(Me,tt)|0,x=Math.imul(Me,vt),b=b+Math.imul(Ue,xt)|0,C=(C=C+Math.imul(Ue,wt)|0)+Math.imul(nt,xt)|0,x=x+Math.imul(nt,wt)|0,b=b+Math.imul(Ve,At)|0,C=(C=C+Math.imul(Ve,Yt)|0)+Math.imul(Ze,At)|0,x=x+Math.imul(Ze,Yt)|0,b=b+Math.imul(_e,Ut)|0,C=(C=C+Math.imul(_e,Mt)|0)+Math.imul(xe,Ut)|0,x=x+Math.imul(xe,Mt)|0,b=b+Math.imul(de,Ot)|0,C=(C=C+Math.imul(de,Ft)|0)+Math.imul(he,Ot)|0,x=x+Math.imul(he,Ft)|0,b=b+Math.imul(ve,St)|0,C=(C=C+Math.imul(ve,ue)|0)+Math.imul(ee,St)|0,x=x+Math.imul(ee,ue)|0,b=b+Math.imul(ne,ke)|0,C=(C=C+Math.imul(ne,Xe)|0)+Math.imul(ie,ke)|0,x=x+Math.imul(ie,Xe)|0,b=b+Math.imul(W,ht)|0,C=(C=C+Math.imul(W,Tt)|0)+Math.imul(Q,ht)|0,x=x+Math.imul(Q,Tt)|0;var Te=(O+(b=b+Math.imul(K,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(K,Ct)|0)+Math.imul(A,Wt)|0))<<13)|0;O=((x=x+Math.imul(A,Ct)|0)+(C>>>13)|0)+(Te>>>26)|0,Te&=67108863,b=Math.imul(bt,xt),C=(C=Math.imul(bt,wt))+Math.imul(Me,xt)|0,x=Math.imul(Me,wt),b=b+Math.imul(Ue,At)|0,C=(C=C+Math.imul(Ue,Yt)|0)+Math.imul(nt,At)|0,x=x+Math.imul(nt,Yt)|0,b=b+Math.imul(Ve,Ut)|0,C=(C=C+Math.imul(Ve,Mt)|0)+Math.imul(Ze,Ut)|0,x=x+Math.imul(Ze,Mt)|0,b=b+Math.imul(_e,Ot)|0,C=(C=C+Math.imul(_e,Ft)|0)+Math.imul(xe,Ot)|0,x=x+Math.imul(xe,Ft)|0,b=b+Math.imul(de,St)|0,C=(C=C+Math.imul(de,ue)|0)+Math.imul(he,St)|0,x=x+Math.imul(he,ue)|0,b=b+Math.imul(ve,ke)|0,C=(C=C+Math.imul(ve,Xe)|0)+Math.imul(ee,ke)|0,x=x+Math.imul(ee,Xe)|0,b=b+Math.imul(ne,ht)|0,C=(C=C+Math.imul(ne,Tt)|0)+Math.imul(ie,ht)|0,x=x+Math.imul(ie,Tt)|0;var Ke=(O+(b=b+Math.imul(W,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(W,Ct)|0)+Math.imul(Q,Wt)|0))<<13)|0;O=((x=x+Math.imul(Q,Ct)|0)+(C>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,b=Math.imul(bt,At),C=(C=Math.imul(bt,Yt))+Math.imul(Me,At)|0,x=Math.imul(Me,Yt),b=b+Math.imul(Ue,Ut)|0,C=(C=C+Math.imul(Ue,Mt)|0)+Math.imul(nt,Ut)|0,x=x+Math.imul(nt,Mt)|0,b=b+Math.imul(Ve,Ot)|0,C=(C=C+Math.imul(Ve,Ft)|0)+Math.imul(Ze,Ot)|0,x=x+Math.imul(Ze,Ft)|0,b=b+Math.imul(_e,St)|0,C=(C=C+Math.imul(_e,ue)|0)+Math.imul(xe,St)|0,x=x+Math.imul(xe,ue)|0,b=b+Math.imul(de,ke)|0,C=(C=C+Math.imul(de,Xe)|0)+Math.imul(he,ke)|0,x=x+Math.imul(he,Xe)|0,b=b+Math.imul(ve,ht)|0,C=(C=C+Math.imul(ve,Tt)|0)+Math.imul(ee,ht)|0,x=x+Math.imul(ee,Tt)|0;var He=(O+(b=b+Math.imul(ne,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(ne,Ct)|0)+Math.imul(ie,Wt)|0))<<13)|0;O=((x=x+Math.imul(ie,Ct)|0)+(C>>>13)|0)+(He>>>26)|0,He&=67108863,b=Math.imul(bt,Ut),C=(C=Math.imul(bt,Mt))+Math.imul(Me,Ut)|0,x=Math.imul(Me,Mt),b=b+Math.imul(Ue,Ot)|0,C=(C=C+Math.imul(Ue,Ft)|0)+Math.imul(nt,Ot)|0,x=x+Math.imul(nt,Ft)|0,b=b+Math.imul(Ve,St)|0,C=(C=C+Math.imul(Ve,ue)|0)+Math.imul(Ze,St)|0,x=x+Math.imul(Ze,ue)|0,b=b+Math.imul(_e,ke)|0,C=(C=C+Math.imul(_e,Xe)|0)+Math.imul(xe,ke)|0,x=x+Math.imul(xe,Xe)|0,b=b+Math.imul(de,ht)|0,C=(C=C+Math.imul(de,Tt)|0)+Math.imul(he,ht)|0,x=x+Math.imul(he,Tt)|0;var lt=(O+(b=b+Math.imul(ve,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(ve,Ct)|0)+Math.imul(ee,Wt)|0))<<13)|0;O=((x=x+Math.imul(ee,Ct)|0)+(C>>>13)|0)+(lt>>>26)|0,lt&=67108863,b=Math.imul(bt,Ot),C=(C=Math.imul(bt,Ft))+Math.imul(Me,Ot)|0,x=Math.imul(Me,Ft),b=b+Math.imul(Ue,St)|0,C=(C=C+Math.imul(Ue,ue)|0)+Math.imul(nt,St)|0,x=x+Math.imul(nt,ue)|0,b=b+Math.imul(Ve,ke)|0,C=(C=C+Math.imul(Ve,Xe)|0)+Math.imul(Ze,ke)|0,x=x+Math.imul(Ze,Xe)|0,b=b+Math.imul(_e,ht)|0,C=(C=C+Math.imul(_e,Tt)|0)+Math.imul(xe,ht)|0,x=x+Math.imul(xe,Tt)|0;var Pt=(O+(b=b+Math.imul(de,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(de,Ct)|0)+Math.imul(he,Wt)|0))<<13)|0;O=((x=x+Math.imul(he,Ct)|0)+(C>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,b=Math.imul(bt,St),C=(C=Math.imul(bt,ue))+Math.imul(Me,St)|0,x=Math.imul(Me,ue),b=b+Math.imul(Ue,ke)|0,C=(C=C+Math.imul(Ue,Xe)|0)+Math.imul(nt,ke)|0,x=x+Math.imul(nt,Xe)|0,b=b+Math.imul(Ve,ht)|0,C=(C=C+Math.imul(Ve,Tt)|0)+Math.imul(Ze,ht)|0,x=x+Math.imul(Ze,Tt)|0;var Lt=(O+(b=b+Math.imul(_e,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(_e,Ct)|0)+Math.imul(xe,Wt)|0))<<13)|0;O=((x=x+Math.imul(xe,Ct)|0)+(C>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,b=Math.imul(bt,ke),C=(C=Math.imul(bt,Xe))+Math.imul(Me,ke)|0,x=Math.imul(Me,Xe),b=b+Math.imul(Ue,ht)|0,C=(C=C+Math.imul(Ue,Tt)|0)+Math.imul(nt,ht)|0,x=x+Math.imul(nt,Tt)|0;var Pn=(O+(b=b+Math.imul(Ve,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(Ve,Ct)|0)+Math.imul(Ze,Wt)|0))<<13)|0;O=((x=x+Math.imul(Ze,Ct)|0)+(C>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,b=Math.imul(bt,ht),C=(C=Math.imul(bt,Tt))+Math.imul(Me,ht)|0,x=Math.imul(Me,Tt);var Xt=(O+(b=b+Math.imul(Ue,Wt)|0)|0)+((8191&(C=(C=C+Math.imul(Ue,Ct)|0)+Math.imul(nt,Wt)|0))<<13)|0;O=((x=x+Math.imul(nt,Ct)|0)+(C>>>13)|0)+(Xt>>>26)|0,Xt&=67108863;var rn=(O+(b=Math.imul(bt,Wt))|0)+((8191&(C=(C=Math.imul(bt,Ct))+Math.imul(Me,Wt)|0))<<13)|0;return O=((x=Math.imul(Me,Ct))+(C>>>13)|0)+(rn>>>26)|0,rn&=67108863,M[0]=si,M[1]=fn,M[2]=kn,M[3]=mi,M[4]=qi,M[5]=ir,M[6]=cr,M[7]=dr,M[8]=wr,M[9]=ce,M[10]=Te,M[11]=Ke,M[12]=He,M[13]=lt,M[14]=Pt,M[15]=Lt,M[16]=Pn,M[17]=Xt,M[18]=rn,O!==0&&(M[19]=O,N.length++),N};function v(R,I,N){return new w().mulp(R,I,N)}function w(R,I){this.x=R,this.y=I}Math.imul||(g=m),a.prototype.mulTo=function(R,I){var N=this.length+R.length;return this.length===10&&R.length===10?g(this,R,I):N<63?m(this,R,I):N<1024?function(b,C,x){x.negative=C.negative^b.negative,x.length=b.length+C.length;for(var _=0,D=0,M=0;M<x.length-1;M++){var O=D;D=0;for(var U=67108863&_,G=Math.min(M,C.length-1),Y=Math.max(0,M-b.length+1);Y<=G;Y++){var B=M-Y,K=(0|b.words[B])*(0|C.words[Y]),A=67108863&K;U=67108863&(A=A+U|0),D+=(O=(O=O+(K/67108864|0)|0)+(A>>>26)|0)>>>26,O&=67108863}x.words[M]=U,_=O,O=D}return _!==0?x.words[M]=_:x.length--,x.strip()}(this,R,I):v(this,R,I)},w.prototype.makeRBT=function(R){for(var I=new Array(R),N=a.prototype._countBits(R)-1,b=0;b<R;b++)I[b]=this.revBin(b,N,R);return I},w.prototype.revBin=function(R,I,N){if(R===0||R===N-1)return R;for(var b=0,C=0;C<I;C++)b|=(1&R)<<I-C-1,R>>=1;return b},w.prototype.permute=function(R,I,N,b,C,x){for(var _=0;_<x;_++)b[_]=I[R[_]],C[_]=N[R[_]]},w.prototype.transform=function(R,I,N,b,C,x){this.permute(x,R,I,N,b,C);for(var _=1;_<C;_<<=1)for(var D=_<<1,M=Math.cos(2*Math.PI/D),O=Math.sin(2*Math.PI/D),U=0;U<C;U+=D)for(var G=M,Y=O,B=0;B<_;B++){var K=N[U+B],A=b[U+B],P=N[U+B+_],W=b[U+B+_],Q=G*P-Y*W;W=G*W+Y*P,P=Q,N[U+B]=K+P,b[U+B]=A+W,N[U+B+_]=K-P,b[U+B+_]=A-W,B!==D&&(Q=M*G-O*Y,Y=M*Y+O*G,G=Q)}},w.prototype.guessLen13b=function(R,I){var N=1|Math.max(I,R),b=1&N,C=0;for(N=N/2|0;N;N>>>=1)C++;return 1<<C+1+b},w.prototype.conjugate=function(R,I,N){if(!(N<=1))for(var b=0;b<N/2;b++){var C=R[b];R[b]=R[N-b-1],R[N-b-1]=C,C=I[b],I[b]=-I[N-b-1],I[N-b-1]=-C}},w.prototype.normalize13b=function(R,I){for(var N=0,b=0;b<I/2;b++){var C=8192*Math.round(R[2*b+1]/I)+Math.round(R[2*b]/I)+N;R[b]=67108863&C,N=C<67108864?0:C/67108864|0}return R},w.prototype.convert13b=function(R,I,N,b){for(var C=0,x=0;x<I;x++)C+=0|R[x],N[2*x]=8191&C,C>>>=13,N[2*x+1]=8191&C,C>>>=13;for(x=2*I;x<b;++x)N[x]=0;o(C===0),o((-8192&C)==0)},w.prototype.stub=function(R){for(var I=new Array(R),N=0;N<R;N++)I[N]=0;return I},w.prototype.mulp=function(R,I,N){var b=2*this.guessLen13b(R.length,I.length),C=this.makeRBT(b),x=this.stub(b),_=new Array(b),D=new Array(b),M=new Array(b),O=new Array(b),U=new Array(b),G=new Array(b),Y=N.words;Y.length=b,this.convert13b(R.words,R.length,_,b),this.convert13b(I.words,I.length,O,b),this.transform(_,x,D,M,b,C),this.transform(O,x,U,G,b,C);for(var B=0;B<b;B++){var K=D[B]*U[B]-M[B]*G[B];M[B]=D[B]*G[B]+M[B]*U[B],D[B]=K}return this.conjugate(D,M,b),this.transform(D,M,Y,x,b,C),this.conjugate(Y,x,b),this.normalize13b(Y,b),N.negative=R.negative^I.negative,N.length=R.length+I.length,N.strip()},a.prototype.mul=function(R){var I=new a(null);return I.words=new Array(this.length+R.length),this.mulTo(R,I)},a.prototype.mulf=function(R){var I=new a(null);return I.words=new Array(this.length+R.length),v(this,R,I)},a.prototype.imul=function(R){return this.clone().mulTo(R,this)},a.prototype.imuln=function(R){o(typeof R=="number"),o(R<67108864);for(var I=0,N=0;N<this.length;N++){var b=(0|this.words[N])*R,C=(67108863&b)+(67108863&I);I>>=26,I+=b/67108864|0,I+=C>>>26,this.words[N]=67108863&C}return I!==0&&(this.words[N]=I,this.length++),this},a.prototype.muln=function(R){return this.clone().imuln(R)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(R){var I=function(x){for(var _=new Array(x.bitLength()),D=0;D<_.length;D++){var M=D/26|0,O=D%26;_[D]=(x.words[M]&1<<O)>>>O}return _}(R);if(I.length===0)return new a(1);for(var N=this,b=0;b<I.length&&I[b]===0;b++,N=N.sqr());if(++b<I.length)for(var C=N.sqr();b<I.length;b++,C=C.sqr())I[b]!==0&&(N=N.mul(C));return N},a.prototype.iushln=function(R){o(typeof R=="number"&&R>=0);var I,N=R%26,b=(R-N)/26,C=67108863>>>26-N<<26-N;if(N!==0){var x=0;for(I=0;I<this.length;I++){var _=this.words[I]&C,D=(0|this.words[I])-_<<N;this.words[I]=D|x,x=_>>>26-N}x&&(this.words[I]=x,this.length++)}if(b!==0){for(I=this.length-1;I>=0;I--)this.words[I+b]=this.words[I];for(I=0;I<b;I++)this.words[I]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(R){return o(this.negative===0),this.iushln(R)},a.prototype.iushrn=function(R,I,N){var b;o(typeof R=="number"&&R>=0),b=I?(I-I%26)/26:0;var C=R%26,x=Math.min((R-C)/26,this.length),_=67108863^67108863>>>C<<C,D=N;if(b-=x,b=Math.max(0,b),D){for(var M=0;M<x;M++)D.words[M]=this.words[M];D.length=x}if(x!==0)if(this.length>x)for(this.length-=x,M=0;M<this.length;M++)this.words[M]=this.words[M+x];else this.words[0]=0,this.length=1;var O=0;for(M=this.length-1;M>=0&&(O!==0||M>=b);M--){var U=0|this.words[M];this.words[M]=O<<26-C|U>>>C,O=U&_}return D&&O!==0&&(D.words[D.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(R,I,N){return o(this.negative===0),this.iushrn(R,I,N)},a.prototype.shln=function(R){return this.clone().ishln(R)},a.prototype.ushln=function(R){return this.clone().iushln(R)},a.prototype.shrn=function(R){return this.clone().ishrn(R)},a.prototype.ushrn=function(R){return this.clone().iushrn(R)},a.prototype.testn=function(R){o(typeof R=="number"&&R>=0);var I=R%26,N=(R-I)/26,b=1<<I;return!(this.length<=N)&&!!(this.words[N]&b)},a.prototype.imaskn=function(R){o(typeof R=="number"&&R>=0);var I=R%26,N=(R-I)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(I!==0&&N++,this.length=Math.min(N,this.length),I!==0){var b=67108863^67108863>>>I<<I;this.words[this.length-1]&=b}return this.strip()},a.prototype.maskn=function(R){return this.clone().imaskn(R)},a.prototype.iaddn=function(R){return o(typeof R=="number"),o(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},a.prototype._iaddn=function(R){this.words[0]+=R;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},a.prototype.isubn=function(R){if(o(typeof R=="number"),o(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},a.prototype.addn=function(R){return this.clone().iaddn(R)},a.prototype.subn=function(R){return this.clone().isubn(R)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(R,I,N){var b,C,x=R.length+N;this._expand(x);var _=0;for(b=0;b<R.length;b++){C=(0|this.words[b+N])+_;var D=(0|R.words[b])*I;_=((C-=67108863&D)>>26)-(D/67108864|0),this.words[b+N]=67108863&C}for(;b<this.length-N;b++)_=(C=(0|this.words[b+N])+_)>>26,this.words[b+N]=67108863&C;if(_===0)return this.strip();for(o(_===-1),_=0,b=0;b<this.length;b++)_=(C=-(0|this.words[b])+_)>>26,this.words[b]=67108863&C;return this.negative=1,this.strip()},a.prototype._wordDiv=function(R,I){var N=(this.length,R.length),b=this.clone(),C=R,x=0|C.words[C.length-1];(N=26-this._countBits(x))!==0&&(C=C.ushln(N),b.iushln(N),x=0|C.words[C.length-1]);var _,D=b.length-C.length;if(I!=="mod"){(_=new a(null)).length=D+1,_.words=new Array(_.length);for(var M=0;M<_.length;M++)_.words[M]=0}var O=b.clone()._ishlnsubmul(C,1,D);O.negative===0&&(b=O,_&&(_.words[D]=1));for(var U=D-1;U>=0;U--){var G=67108864*(0|b.words[C.length+U])+(0|b.words[C.length+U-1]);for(G=Math.min(G/x|0,67108863),b._ishlnsubmul(C,G,U);b.negative!==0;)G--,b.negative=0,b._ishlnsubmul(C,1,U),b.isZero()||(b.negative^=1);_&&(_.words[U]=G)}return _&&_.strip(),b.strip(),I!=="div"&&N!==0&&b.iushrn(N),{div:_||null,mod:b}},a.prototype.divmod=function(R,I,N){return o(!R.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&R.negative===0?(x=this.neg().divmod(R,I),I!=="mod"&&(b=x.div.neg()),I!=="div"&&(C=x.mod.neg(),N&&C.negative!==0&&C.iadd(R)),{div:b,mod:C}):this.negative===0&&R.negative!==0?(x=this.divmod(R.neg(),I),I!=="mod"&&(b=x.div.neg()),{div:b,mod:x.mod}):(this.negative&R.negative)!=0?(x=this.neg().divmod(R.neg(),I),I!=="div"&&(C=x.mod.neg(),N&&C.negative!==0&&C.isub(R)),{div:x.div,mod:C}):R.length>this.length||this.cmp(R)<0?{div:new a(0),mod:this}:R.length===1?I==="div"?{div:this.divn(R.words[0]),mod:null}:I==="mod"?{div:null,mod:new a(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new a(this.modn(R.words[0]))}:this._wordDiv(R,I);var b,C,x},a.prototype.div=function(R){return this.divmod(R,"div",!1).div},a.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},a.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},a.prototype.divRound=function(R){var I=this.divmod(R);if(I.mod.isZero())return I.div;var N=I.div.negative!==0?I.mod.isub(R):I.mod,b=R.ushrn(1),C=R.andln(1),x=N.cmp(b);return x<0||C===1&&x===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},a.prototype.modn=function(R){o(R<=67108863);for(var I=(1<<26)%R,N=0,b=this.length-1;b>=0;b--)N=(I*N+(0|this.words[b]))%R;return N},a.prototype.idivn=function(R){o(R<=67108863);for(var I=0,N=this.length-1;N>=0;N--){var b=(0|this.words[N])+67108864*I;this.words[N]=b/R|0,I=b%R}return this.strip()},a.prototype.divn=function(R){return this.clone().idivn(R)},a.prototype.egcd=function(R){o(R.negative===0),o(!R.isZero());var I=this,N=R.clone();I=I.negative!==0?I.umod(R):I.clone();for(var b=new a(1),C=new a(0),x=new a(0),_=new a(1),D=0;I.isEven()&&N.isEven();)I.iushrn(1),N.iushrn(1),++D;for(var M=N.clone(),O=I.clone();!I.isZero();){for(var U=0,G=1;(I.words[0]&G)==0&&U<26;++U,G<<=1);if(U>0)for(I.iushrn(U);U-- >0;)(b.isOdd()||C.isOdd())&&(b.iadd(M),C.isub(O)),b.iushrn(1),C.iushrn(1);for(var Y=0,B=1;(N.words[0]&B)==0&&Y<26;++Y,B<<=1);if(Y>0)for(N.iushrn(Y);Y-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(M),_.isub(O)),x.iushrn(1),_.iushrn(1);I.cmp(N)>=0?(I.isub(N),b.isub(x),C.isub(_)):(N.isub(I),x.isub(b),_.isub(C))}return{a:x,b:_,gcd:N.iushln(D)}},a.prototype._invmp=function(R){o(R.negative===0),o(!R.isZero());var I=this,N=R.clone();I=I.negative!==0?I.umod(R):I.clone();for(var b,C=new a(1),x=new a(0),_=N.clone();I.cmpn(1)>0&&N.cmpn(1)>0;){for(var D=0,M=1;(I.words[0]&M)==0&&D<26;++D,M<<=1);if(D>0)for(I.iushrn(D);D-- >0;)C.isOdd()&&C.iadd(_),C.iushrn(1);for(var O=0,U=1;(N.words[0]&U)==0&&O<26;++O,U<<=1);if(O>0)for(N.iushrn(O);O-- >0;)x.isOdd()&&x.iadd(_),x.iushrn(1);I.cmp(N)>=0?(I.isub(N),C.isub(x)):(N.isub(I),x.isub(C))}return(b=I.cmpn(1)===0?C:x).cmpn(0)<0&&b.iadd(R),b},a.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var I=this.clone(),N=R.clone();I.negative=0,N.negative=0;for(var b=0;I.isEven()&&N.isEven();b++)I.iushrn(1),N.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;N.isEven();)N.iushrn(1);var C=I.cmp(N);if(C<0){var x=I;I=N,N=x}else if(C===0||N.cmpn(1)===0)break;I.isub(N)}return N.iushln(b)},a.prototype.invm=function(R){return this.egcd(R).a.umod(R)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(R){return this.words[0]&R},a.prototype.bincn=function(R){o(typeof R=="number");var I=R%26,N=(R-I)/26,b=1<<I;if(this.length<=N)return this._expand(N+1),this.words[N]|=b,this;for(var C=b,x=N;C!==0&&x<this.length;x++){var _=0|this.words[x];C=(_+=C)>>>26,_&=67108863,this.words[x]=_}return C!==0&&(this.words[x]=C,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(R){var I,N=R<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)I=1;else{N&&(R=-R),o(R<=67108863,"Number is too big");var b=0|this.words[0];I=b===R?0:b<R?-1:1}return this.negative!==0?0|-I:I},a.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var I=this.ucmp(R);return this.negative!==0?0|-I:I},a.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var I=0,N=this.length-1;N>=0;N--){var b=0|this.words[N],C=0|R.words[N];if(b!==C){b<C?I=-1:b>C&&(I=1);break}}return I},a.prototype.gtn=function(R){return this.cmpn(R)===1},a.prototype.gt=function(R){return this.cmp(R)===1},a.prototype.gten=function(R){return this.cmpn(R)>=0},a.prototype.gte=function(R){return this.cmp(R)>=0},a.prototype.ltn=function(R){return this.cmpn(R)===-1},a.prototype.lt=function(R){return this.cmp(R)===-1},a.prototype.lten=function(R){return this.cmpn(R)<=0},a.prototype.lte=function(R){return this.cmp(R)<=0},a.prototype.eqn=function(R){return this.cmpn(R)===0},a.prototype.eq=function(R){return this.cmp(R)===0},a.red=function(R){return new j(R)},a.prototype.toRed=function(R){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(R){return this.red=R,this},a.prototype.forceRed=function(R){return o(!this.red,"Already a number in reduction context"),this._forceRed(R)},a.prototype.redAdd=function(R){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},a.prototype.redIAdd=function(R){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},a.prototype.redSub=function(R){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},a.prototype.redISub=function(R){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},a.prototype.redShl=function(R){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},a.prototype.redMul=function(R){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},a.prototype.redIMul=function(R){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(R){return o(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var E={k256:null,p224:null,p192:null,p25519:null};function T(R,I){this.name=R,this.p=new a(I,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(R){if(typeof R=="string"){var I=a._prime(R);this.m=I.p,this.prime=I}else o(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function z(R){j.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var R=new a(null);return R.words=new Array(Math.ceil(this.n/13)),R},T.prototype.ireduce=function(R){var I,N=R;do this.split(N,this.tmp),I=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(I>this.n);var b=I<this.n?-1:N.ucmp(this.p);return b===0?(N.words[0]=0,N.length=1):b>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},T.prototype.split=function(R,I){R.iushrn(this.n,0,I)},T.prototype.imulK=function(R){return R.imul(this.k)},s(F,T),F.prototype.split=function(R,I){for(var N=Math.min(R.length,9),b=0;b<N;b++)I.words[b]=R.words[b];if(I.length=N,R.length<=9)return R.words[0]=0,void(R.length=1);var C=R.words[9];for(I.words[I.length++]=4194303&C,b=10;b<R.length;b++){var x=0|R.words[b];R.words[b-10]=(4194303&x)<<4|C>>>22,C=x}C>>>=22,R.words[b-10]=C,C===0&&R.length>10?R.length-=10:R.length-=9},F.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var I=0,N=0;N<R.length;N++){var b=0|R.words[N];I+=977*b,R.words[N]=67108863&I,I=64*b+(I/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},s(k,T),s(L,T),s(V,T),V.prototype.imulK=function(R){for(var I=0,N=0;N<R.length;N++){var b=19*(0|R.words[N])+I,C=67108863&b;b>>>=26,R.words[N]=C,I=b}return I!==0&&(R.words[R.length++]=I),R},a._prime=function(R){if(E[R])return E[R];var I;if(R==="k256")I=new F;else if(R==="p224")I=new k;else if(R==="p192")I=new L;else{if(R!=="p25519")throw new Error("Unknown prime "+R);I=new V}return E[R]=I,I},j.prototype._verify1=function(R){o(R.negative===0,"red works only with positives"),o(R.red,"red works only with red numbers")},j.prototype._verify2=function(R,I){o((R.negative|I.negative)==0,"red works only with positives"),o(R.red&&R.red===I.red,"red works only with red numbers")},j.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},j.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},j.prototype.add=function(R,I){this._verify2(R,I);var N=R.add(I);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},j.prototype.iadd=function(R,I){this._verify2(R,I);var N=R.iadd(I);return N.cmp(this.m)>=0&&N.isub(this.m),N},j.prototype.sub=function(R,I){this._verify2(R,I);var N=R.sub(I);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},j.prototype.isub=function(R,I){this._verify2(R,I);var N=R.isub(I);return N.cmpn(0)<0&&N.iadd(this.m),N},j.prototype.shl=function(R,I){return this._verify1(R),this.imod(R.ushln(I))},j.prototype.imul=function(R,I){return this._verify2(R,I),this.imod(R.imul(I))},j.prototype.mul=function(R,I){return this._verify2(R,I),this.imod(R.mul(I))},j.prototype.isqr=function(R){return this.imul(R,R.clone())},j.prototype.sqr=function(R){return this.mul(R,R)},j.prototype.sqrt=function(R){if(R.isZero())return R.clone();var I=this.m.andln(3);if(o(I%2==1),I===3){var N=this.m.add(new a(1)).iushrn(2);return this.pow(R,N)}for(var b=this.m.subn(1),C=0;!b.isZero()&&b.andln(1)===0;)C++,b.iushrn(1);o(!b.isZero());var x=new a(1).toRed(this),_=x.redNeg(),D=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new a(2*M*M).toRed(this);this.pow(M,D).cmp(_)!==0;)M.redIAdd(_);for(var O=this.pow(M,b),U=this.pow(R,b.addn(1).iushrn(1)),G=this.pow(R,b),Y=C;G.cmp(x)!==0;){for(var B=G,K=0;B.cmp(x)!==0;K++)B=B.redSqr();o(K<Y);var A=this.pow(O,new a(1).iushln(Y-K-1));U=U.redMul(A),O=A.redSqr(),G=G.redMul(O),Y=K}return U},j.prototype.invm=function(R){var I=R._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},j.prototype.pow=function(R,I){if(I.isZero())return new a(1).toRed(this);if(I.cmpn(1)===0)return R.clone();var N=new Array(16);N[0]=new a(1).toRed(this),N[1]=R;for(var b=2;b<N.length;b++)N[b]=this.mul(N[b-1],R);var C=N[0],x=0,_=0,D=I.bitLength()%26;for(D===0&&(D=26),b=I.length-1;b>=0;b--){for(var M=I.words[b],O=D-1;O>=0;O--){var U=M>>O&1;C!==N[0]&&(C=this.sqr(C)),U!==0||x!==0?(x<<=1,x|=U,(++_===4||b===0&&O===0)&&(C=this.mul(C,N[x]),_=0,x=0)):_=0}D=26}return C},j.prototype.convertTo=function(R){var I=R.umod(this.m);return I===R?I.clone():I},j.prototype.convertFrom=function(R){var I=R.clone();return I.red=null,I},a.mont=function(R){return new z(R)},s(z,j),z.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},z.prototype.convertFrom=function(R){var I=this.imod(R.mul(this.rinv));return I.red=null,I},z.prototype.imul=function(R,I){if(R.isZero()||I.isZero())return R.words[0]=0,R.length=1,R;var N=R.imul(I),b=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=N.isub(b).iushrn(this.shift),x=C;return C.cmp(this.m)>=0?x=C.isub(this.m):C.cmpn(0)<0&&(x=C.iadd(this.m)),x._forceRed(this)},z.prototype.mul=function(R,I){if(R.isZero()||I.isZero())return new a(0)._forceRed(this);var N=R.mul(I),b=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=N.isub(b).iushrn(this.shift),x=C;return C.cmp(this.m)>=0?x=C.isub(this.m):C.cmpn(0)<0&&(x=C.iadd(this.m)),x._forceRed(this)},z.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],185:[function(e,t,n){"use strict";n.byteLength=function(u){var h=d(u),p=h[0],f=h[1];return 3*(p+f)/4-f},n.toByteArray=function(u){var h,p,f=d(u),m=f[0],g=f[1],v=new o(function(T,F,k){return 3*(F+k)/4-k}(0,m,g)),w=0,E=g>0?m-4:m;for(p=0;p<E;p+=4)h=r[u.charCodeAt(p)]<<18|r[u.charCodeAt(p+1)]<<12|r[u.charCodeAt(p+2)]<<6|r[u.charCodeAt(p+3)],v[w++]=h>>16&255,v[w++]=h>>8&255,v[w++]=255&h;return g===2&&(h=r[u.charCodeAt(p)]<<2|r[u.charCodeAt(p+1)]>>4,v[w++]=255&h),g===1&&(h=r[u.charCodeAt(p)]<<10|r[u.charCodeAt(p+1)]<<4|r[u.charCodeAt(p+2)]>>2,v[w++]=h>>8&255,v[w++]=255&h),v},n.fromByteArray=function(u){for(var h,p=u.length,f=p%3,m=[],g=0,v=p-f;g<v;g+=16383)m.push(c(u,g,g+16383>v?v:g+16383));return f===1?(h=u[p-1],m.push(i[h>>2]+i[h<<4&63]+"==")):f===2&&(h=(u[p-2]<<8)+u[p-1],m.push(i[h>>10]+i[h>>4&63]+i[h<<2&63]+"=")),m.join("")};for(var i=[],r=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function d(u){var h=u.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=u.indexOf("=");return p===-1&&(p=h),[p,p===h?0:4-p%4]}function c(u,h,p){for(var f,m,g=[],v=h;v<p;v+=3)f=(u[v]<<16&16711680)+(u[v+1]<<8&65280)+(255&u[v+2]),g.push(i[(m=f)>>18&63]+i[m>>12&63]+i[m>>6&63]+i[63&m]);return g.join("")}r[45]=62,r[95]=63},{}],186:[function(e,t,n){"use strict";(function(i,r){function o(b,C){if(!b)throw new Error(C||"Assertion failed")}function s(b,C){b.super_=C;var x=function(){};x.prototype=C.prototype,b.prototype=new x,b.prototype.constructor=b}function a(b,C,x){if(a.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&(C!=="le"&&C!=="be"||(x=C,C=10),this._init(b||0,C||10,x||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(b,C){var x=b.charCodeAt(C);return x>=48&&x<=57?x-48:x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:void o(!1,"Invalid character in "+b)}function c(b,C,x){var _=d(b,x);return x-1>=C&&(_|=d(b,x-1)<<4),_}function u(b,C,x,_){for(var D=0,M=0,O=Math.min(b.length,x),U=C;U<O;U++){var G=b.charCodeAt(U)-48;D*=_,M=G>=49?G-49+10:G>=17?G-17+10:G,o(G>=0&&M<_,"Invalid character"),D+=M}return D}function h(b,C){b.words=C.words,b.length=C.length,b.negative=C.negative,b.red=C.red}if(a.isBN=function(b){return b instanceof a||b!==null&&typeof b=="object"&&b.constructor.wordSize===a.wordSize&&Array.isArray(b.words)},a.max=function(b,C){return b.cmp(C)>0?b:C},a.min=function(b,C){return b.cmp(C)<0?b:C},a.prototype._init=function(b,C,x){if(typeof b=="number")return this._initNumber(b,C,x);if(typeof b=="object")return this._initArray(b,C,x);C==="hex"&&(C=16),o(C===(0|C)&&C>=2&&C<=36);var _=0;(b=b.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<b.length&&(C===16?this._parseHex(b,_,x):(this._parseBase(b,C,_),x==="le"&&this._initArray(this.toArray(),C,x)))},a.prototype._initNumber=function(b,C,x){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[67108863&b],this.length=1):b<4503599627370496?(this.words=[67108863&b,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[67108863&b,b/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),C,x)},a.prototype._initArray=function(b,C,x){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,M,O=0;if(x==="be")for(_=b.length-1,D=0;_>=0;_-=3)M=b[_]|b[_-1]<<8|b[_-2]<<16,this.words[D]|=M<<O&67108863,this.words[D+1]=M>>>26-O&67108863,(O+=24)>=26&&(O-=26,D++);else if(x==="le")for(_=0,D=0;_<b.length;_+=3)M=b[_]|b[_+1]<<8|b[_+2]<<16,this.words[D]|=M<<O&67108863,this.words[D+1]=M>>>26-O&67108863,(O+=24)>=26&&(O-=26,D++);return this._strip()},a.prototype._parseHex=function(b,C,x){this.length=Math.ceil((b.length-C)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,M=0,O=0;if(x==="be")for(_=b.length-1;_>=C;_-=2)D=c(b,C,_)<<M,this.words[O]|=67108863&D,M>=18?(M-=18,O+=1,this.words[O]|=D>>>26):M+=8;else for(_=(b.length-C)%2==0?C+1:C;_<b.length;_+=2)D=c(b,C,_)<<M,this.words[O]|=67108863&D,M>=18?(M-=18,O+=1,this.words[O]|=D>>>26):M+=8;this._strip()},a.prototype._parseBase=function(b,C,x){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=C)_++;_--,D=D/C|0;for(var M=b.length-x,O=M%_,U=Math.min(M,M-O)+x,G=0,Y=x;Y<U;Y+=_)G=u(b,Y,Y+_,C),this.imuln(D),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(O!==0){var B=1;for(G=u(b,Y,b.length,C),Y=0;Y<O;Y++)B*=C;this.imuln(B),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},a.prototype.copy=function(b){b.words=new Array(this.length);for(var C=0;C<this.length;C++)b.words[C]=this.words[C];b.length=this.length,b.negative=this.negative,b.red=this.red},a.prototype._move=function(b){h(b,this)},a.prototype.clone=function(){var b=new a(null);return this.copy(b),b},a.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{a.prototype.inspect=p}else a.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(b,C){var x;if(C=0|C||1,(b=b||10)===16||b==="hex"){x="";for(var _=0,D=0,M=0;M<this.length;M++){var O=this.words[M],U=(16777215&(O<<_|D)).toString(16);D=O>>>24-_&16777215,(_+=2)>=26&&(_-=26,M--),x=D!==0||M!==this.length-1?f[6-U.length]+U+x:U+x}for(D!==0&&(x=D.toString(16)+x);x.length%C!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(b===(0|b)&&b>=2&&b<=36){var G=m[b],Y=g[b];x="";var B=this.clone();for(B.negative=0;!B.isZero();){var K=B.modrn(Y).toString(b);x=(B=B.idivn(Y)).isZero()?K+x:f[G-K.length]+K+x}for(this.isZero()&&(x="0"+x);x.length%C!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=67108864*this.words[1]:this.length===3&&this.words[2]===1?b+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(b,C){return this.toArrayLike(l,b,C)}),a.prototype.toArray=function(b,C){return this.toArrayLike(Array,b,C)};function v(b,C,x){x.negative=C.negative^b.negative;var _=b.length+C.length|0;x.length=_,_=_-1|0;var D=0|b.words[0],M=0|C.words[0],O=D*M,U=67108863&O,G=O/67108864|0;x.words[0]=U;for(var Y=1;Y<_;Y++){for(var B=G>>>26,K=67108863&G,A=Math.min(Y,C.length-1),P=Math.max(0,Y-b.length+1);P<=A;P++){var W=Y-P|0;B+=(O=(D=0|b.words[W])*(M=0|C.words[P])+K)/67108864|0,K=67108863&O}x.words[Y]=0|K,G=0|B}return G!==0?x.words[Y]=0|G:x.length--,x._strip()}a.prototype.toArrayLike=function(b,C,x){this._strip();var _=this.byteLength(),D=x||Math.max(1,_);o(_<=D,"byte array longer than desired length"),o(D>0,"Requested array length <= 0");var M=function(O,U){return O.allocUnsafe?O.allocUnsafe(U):new O(U)}(b,D);return this["_toArrayLike"+(C==="le"?"LE":"BE")](M,_),M},a.prototype._toArrayLikeLE=function(b,C){for(var x=0,_=0,D=0,M=0;D<this.length;D++){var O=this.words[D]<<M|_;b[x++]=255&O,x<b.length&&(b[x++]=O>>8&255),x<b.length&&(b[x++]=O>>16&255),M===6?(x<b.length&&(b[x++]=O>>24&255),_=0,M=0):(_=O>>>24,M+=2)}if(x<b.length)for(b[x++]=_;x<b.length;)b[x++]=0},a.prototype._toArrayLikeBE=function(b,C){for(var x=b.length-1,_=0,D=0,M=0;D<this.length;D++){var O=this.words[D]<<M|_;b[x--]=255&O,x>=0&&(b[x--]=O>>8&255),x>=0&&(b[x--]=O>>16&255),M===6?(x>=0&&(b[x--]=O>>24&255),_=0,M=0):(_=O>>>24,M+=2)}if(x>=0)for(b[x--]=_;x>=0;)b[x--]=0},Math.clz32?a.prototype._countBits=function(b){return 32-Math.clz32(b)}:a.prototype._countBits=function(b){var C=b,x=0;return C>=4096&&(x+=13,C>>>=13),C>=64&&(x+=7,C>>>=7),C>=8&&(x+=4,C>>>=4),C>=2&&(x+=2,C>>>=2),x+C},a.prototype._zeroBits=function(b){if(b===0)return 26;var C=b,x=0;return(8191&C)==0&&(x+=13,C>>>=13),(127&C)==0&&(x+=7,C>>>=7),(15&C)==0&&(x+=4,C>>>=4),(3&C)==0&&(x+=2,C>>>=2),(1&C)==0&&x++,x},a.prototype.bitLength=function(){var b=this.words[this.length-1],C=this._countBits(b);return 26*(this.length-1)+C},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,C=0;C<this.length;C++){var x=this._zeroBits(this.words[C]);if(b+=x,x!==26)break}return b},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},a.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var C=0;C<b.length;C++)this.words[C]=this.words[C]|b.words[C];return this._strip()},a.prototype.ior=function(b){return o((this.negative|b.negative)==0),this.iuor(b)},a.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},a.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},a.prototype.iuand=function(b){var C;C=this.length>b.length?b:this;for(var x=0;x<C.length;x++)this.words[x]=this.words[x]&b.words[x];return this.length=C.length,this._strip()},a.prototype.iand=function(b){return o((this.negative|b.negative)==0),this.iuand(b)},a.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},a.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},a.prototype.iuxor=function(b){var C,x;this.length>b.length?(C=this,x=b):(C=b,x=this);for(var _=0;_<x.length;_++)this.words[_]=C.words[_]^x.words[_];if(this!==C)for(;_<C.length;_++)this.words[_]=C.words[_];return this.length=C.length,this._strip()},a.prototype.ixor=function(b){return o((this.negative|b.negative)==0),this.iuxor(b)},a.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},a.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},a.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var C=0|Math.ceil(b/26),x=b%26;this._expand(C),x>0&&C--;for(var _=0;_<C;_++)this.words[_]=67108863&~this.words[_];return x>0&&(this.words[_]=~this.words[_]&67108863>>26-x),this._strip()},a.prototype.notn=function(b){return this.clone().inotn(b)},a.prototype.setn=function(b,C){o(typeof b=="number"&&b>=0);var x=b/26|0,_=b%26;return this._expand(x+1),this.words[x]=C?this.words[x]|1<<_:this.words[x]&~(1<<_),this._strip()},a.prototype.iadd=function(b){var C,x,_;if(this.negative!==0&&b.negative===0)return this.negative=0,C=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,C=this.isub(b),b.negative=1,C._normSign();this.length>b.length?(x=this,_=b):(x=b,_=this);for(var D=0,M=0;M<_.length;M++)C=(0|x.words[M])+(0|_.words[M])+D,this.words[M]=67108863&C,D=C>>>26;for(;D!==0&&M<x.length;M++)C=(0|x.words[M])+D,this.words[M]=67108863&C,D=C>>>26;if(this.length=x.length,D!==0)this.words[this.length]=D,this.length++;else if(x!==this)for(;M<x.length;M++)this.words[M]=x.words[M];return this},a.prototype.add=function(b){var C;return b.negative!==0&&this.negative===0?(b.negative=0,C=this.sub(b),b.negative^=1,C):b.negative===0&&this.negative!==0?(this.negative=0,C=b.sub(this),this.negative=1,C):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},a.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var C=this.iadd(b);return b.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var x,_,D=this.cmp(b);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;D>0?(x=this,_=b):(x=b,_=this);for(var M=0,O=0;O<_.length;O++)M=(C=(0|x.words[O])-(0|_.words[O])+M)>>26,this.words[O]=67108863&C;for(;M!==0&&O<x.length;O++)M=(C=(0|x.words[O])+M)>>26,this.words[O]=67108863&C;if(M===0&&O<x.length&&x!==this)for(;O<x.length;O++)this.words[O]=x.words[O];return this.length=Math.max(this.length,O),x!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(b){return this.clone().isub(b)};var w=function(b,C,x){var _,D,M,O=b.words,U=C.words,G=x.words,Y=0,B=0|O[0],K=8191&B,A=B>>>13,P=0|O[1],W=8191&P,Q=P>>>13,se=0|O[2],ne=8191&se,ie=se>>>13,ye=0|O[3],ve=8191&ye,ee=ye>>>13,fe=0|O[4],de=8191&fe,he=fe>>>13,Ce=0|O[5],_e=8191&Ce,xe=Ce>>>13,ze=0|O[6],Ve=8191&ze,Ze=ze>>>13,mt=0|O[7],Ue=8191&mt,nt=mt>>>13,on=0|O[8],bt=8191&on,Me=on>>>13,be=0|O[9],ge=8191&be,Ie=be>>>13,ct=0|U[0],tt=8191&ct,vt=ct>>>13,tr=0|U[1],xt=8191&tr,wt=tr>>>13,Sn=0|U[2],At=8191&Sn,Yt=Sn>>>13,Hi=0|U[3],Ut=8191&Hi,Mt=Hi>>>13,pi=0|U[4],Ot=8191&pi,Ft=pi>>>13,hi=0|U[5],St=8191&hi,ue=hi>>>13,Ee=0|U[6],ke=8191&Ee,Xe=Ee>>>13,zn=0|U[7],ht=8191&zn,Tt=zn>>>13,fi=0|U[8],Wt=8191&fi,Ct=fi>>>13,si=0|U[9],fn=8191&si,kn=si>>>13;x.negative=b.negative^C.negative,x.length=19;var mi=(Y+(_=Math.imul(K,tt))|0)+((8191&(D=(D=Math.imul(K,vt))+Math.imul(A,tt)|0))<<13)|0;Y=((M=Math.imul(A,vt))+(D>>>13)|0)+(mi>>>26)|0,mi&=67108863,_=Math.imul(W,tt),D=(D=Math.imul(W,vt))+Math.imul(Q,tt)|0,M=Math.imul(Q,vt);var qi=(Y+(_=_+Math.imul(K,xt)|0)|0)+((8191&(D=(D=D+Math.imul(K,wt)|0)+Math.imul(A,xt)|0))<<13)|0;Y=((M=M+Math.imul(A,wt)|0)+(D>>>13)|0)+(qi>>>26)|0,qi&=67108863,_=Math.imul(ne,tt),D=(D=Math.imul(ne,vt))+Math.imul(ie,tt)|0,M=Math.imul(ie,vt),_=_+Math.imul(W,xt)|0,D=(D=D+Math.imul(W,wt)|0)+Math.imul(Q,xt)|0,M=M+Math.imul(Q,wt)|0;var ir=(Y+(_=_+Math.imul(K,At)|0)|0)+((8191&(D=(D=D+Math.imul(K,Yt)|0)+Math.imul(A,At)|0))<<13)|0;Y=((M=M+Math.imul(A,Yt)|0)+(D>>>13)|0)+(ir>>>26)|0,ir&=67108863,_=Math.imul(ve,tt),D=(D=Math.imul(ve,vt))+Math.imul(ee,tt)|0,M=Math.imul(ee,vt),_=_+Math.imul(ne,xt)|0,D=(D=D+Math.imul(ne,wt)|0)+Math.imul(ie,xt)|0,M=M+Math.imul(ie,wt)|0,_=_+Math.imul(W,At)|0,D=(D=D+Math.imul(W,Yt)|0)+Math.imul(Q,At)|0,M=M+Math.imul(Q,Yt)|0;var cr=(Y+(_=_+Math.imul(K,Ut)|0)|0)+((8191&(D=(D=D+Math.imul(K,Mt)|0)+Math.imul(A,Ut)|0))<<13)|0;Y=((M=M+Math.imul(A,Mt)|0)+(D>>>13)|0)+(cr>>>26)|0,cr&=67108863,_=Math.imul(de,tt),D=(D=Math.imul(de,vt))+Math.imul(he,tt)|0,M=Math.imul(he,vt),_=_+Math.imul(ve,xt)|0,D=(D=D+Math.imul(ve,wt)|0)+Math.imul(ee,xt)|0,M=M+Math.imul(ee,wt)|0,_=_+Math.imul(ne,At)|0,D=(D=D+Math.imul(ne,Yt)|0)+Math.imul(ie,At)|0,M=M+Math.imul(ie,Yt)|0,_=_+Math.imul(W,Ut)|0,D=(D=D+Math.imul(W,Mt)|0)+Math.imul(Q,Ut)|0,M=M+Math.imul(Q,Mt)|0;var dr=(Y+(_=_+Math.imul(K,Ot)|0)|0)+((8191&(D=(D=D+Math.imul(K,Ft)|0)+Math.imul(A,Ot)|0))<<13)|0;Y=((M=M+Math.imul(A,Ft)|0)+(D>>>13)|0)+(dr>>>26)|0,dr&=67108863,_=Math.imul(_e,tt),D=(D=Math.imul(_e,vt))+Math.imul(xe,tt)|0,M=Math.imul(xe,vt),_=_+Math.imul(de,xt)|0,D=(D=D+Math.imul(de,wt)|0)+Math.imul(he,xt)|0,M=M+Math.imul(he,wt)|0,_=_+Math.imul(ve,At)|0,D=(D=D+Math.imul(ve,Yt)|0)+Math.imul(ee,At)|0,M=M+Math.imul(ee,Yt)|0,_=_+Math.imul(ne,Ut)|0,D=(D=D+Math.imul(ne,Mt)|0)+Math.imul(ie,Ut)|0,M=M+Math.imul(ie,Mt)|0,_=_+Math.imul(W,Ot)|0,D=(D=D+Math.imul(W,Ft)|0)+Math.imul(Q,Ot)|0,M=M+Math.imul(Q,Ft)|0;var wr=(Y+(_=_+Math.imul(K,St)|0)|0)+((8191&(D=(D=D+Math.imul(K,ue)|0)+Math.imul(A,St)|0))<<13)|0;Y=((M=M+Math.imul(A,ue)|0)+(D>>>13)|0)+(wr>>>26)|0,wr&=67108863,_=Math.imul(Ve,tt),D=(D=Math.imul(Ve,vt))+Math.imul(Ze,tt)|0,M=Math.imul(Ze,vt),_=_+Math.imul(_e,xt)|0,D=(D=D+Math.imul(_e,wt)|0)+Math.imul(xe,xt)|0,M=M+Math.imul(xe,wt)|0,_=_+Math.imul(de,At)|0,D=(D=D+Math.imul(de,Yt)|0)+Math.imul(he,At)|0,M=M+Math.imul(he,Yt)|0,_=_+Math.imul(ve,Ut)|0,D=(D=D+Math.imul(ve,Mt)|0)+Math.imul(ee,Ut)|0,M=M+Math.imul(ee,Mt)|0,_=_+Math.imul(ne,Ot)|0,D=(D=D+Math.imul(ne,Ft)|0)+Math.imul(ie,Ot)|0,M=M+Math.imul(ie,Ft)|0,_=_+Math.imul(W,St)|0,D=(D=D+Math.imul(W,ue)|0)+Math.imul(Q,St)|0,M=M+Math.imul(Q,ue)|0;var ce=(Y+(_=_+Math.imul(K,ke)|0)|0)+((8191&(D=(D=D+Math.imul(K,Xe)|0)+Math.imul(A,ke)|0))<<13)|0;Y=((M=M+Math.imul(A,Xe)|0)+(D>>>13)|0)+(ce>>>26)|0,ce&=67108863,_=Math.imul(Ue,tt),D=(D=Math.imul(Ue,vt))+Math.imul(nt,tt)|0,M=Math.imul(nt,vt),_=_+Math.imul(Ve,xt)|0,D=(D=D+Math.imul(Ve,wt)|0)+Math.imul(Ze,xt)|0,M=M+Math.imul(Ze,wt)|0,_=_+Math.imul(_e,At)|0,D=(D=D+Math.imul(_e,Yt)|0)+Math.imul(xe,At)|0,M=M+Math.imul(xe,Yt)|0,_=_+Math.imul(de,Ut)|0,D=(D=D+Math.imul(de,Mt)|0)+Math.imul(he,Ut)|0,M=M+Math.imul(he,Mt)|0,_=_+Math.imul(ve,Ot)|0,D=(D=D+Math.imul(ve,Ft)|0)+Math.imul(ee,Ot)|0,M=M+Math.imul(ee,Ft)|0,_=_+Math.imul(ne,St)|0,D=(D=D+Math.imul(ne,ue)|0)+Math.imul(ie,St)|0,M=M+Math.imul(ie,ue)|0,_=_+Math.imul(W,ke)|0,D=(D=D+Math.imul(W,Xe)|0)+Math.imul(Q,ke)|0,M=M+Math.imul(Q,Xe)|0;var Te=(Y+(_=_+Math.imul(K,ht)|0)|0)+((8191&(D=(D=D+Math.imul(K,Tt)|0)+Math.imul(A,ht)|0))<<13)|0;Y=((M=M+Math.imul(A,Tt)|0)+(D>>>13)|0)+(Te>>>26)|0,Te&=67108863,_=Math.imul(bt,tt),D=(D=Math.imul(bt,vt))+Math.imul(Me,tt)|0,M=Math.imul(Me,vt),_=_+Math.imul(Ue,xt)|0,D=(D=D+Math.imul(Ue,wt)|0)+Math.imul(nt,xt)|0,M=M+Math.imul(nt,wt)|0,_=_+Math.imul(Ve,At)|0,D=(D=D+Math.imul(Ve,Yt)|0)+Math.imul(Ze,At)|0,M=M+Math.imul(Ze,Yt)|0,_=_+Math.imul(_e,Ut)|0,D=(D=D+Math.imul(_e,Mt)|0)+Math.imul(xe,Ut)|0,M=M+Math.imul(xe,Mt)|0,_=_+Math.imul(de,Ot)|0,D=(D=D+Math.imul(de,Ft)|0)+Math.imul(he,Ot)|0,M=M+Math.imul(he,Ft)|0,_=_+Math.imul(ve,St)|0,D=(D=D+Math.imul(ve,ue)|0)+Math.imul(ee,St)|0,M=M+Math.imul(ee,ue)|0,_=_+Math.imul(ne,ke)|0,D=(D=D+Math.imul(ne,Xe)|0)+Math.imul(ie,ke)|0,M=M+Math.imul(ie,Xe)|0,_=_+Math.imul(W,ht)|0,D=(D=D+Math.imul(W,Tt)|0)+Math.imul(Q,ht)|0,M=M+Math.imul(Q,Tt)|0;var Ke=(Y+(_=_+Math.imul(K,Wt)|0)|0)+((8191&(D=(D=D+Math.imul(K,Ct)|0)+Math.imul(A,Wt)|0))<<13)|0;Y=((M=M+Math.imul(A,Ct)|0)+(D>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,_=Math.imul(ge,tt),D=(D=Math.imul(ge,vt))+Math.imul(Ie,tt)|0,M=Math.imul(Ie,vt),_=_+Math.imul(bt,xt)|0,D=(D=D+Math.imul(bt,wt)|0)+Math.imul(Me,xt)|0,M=M+Math.imul(Me,wt)|0,_=_+Math.imul(Ue,At)|0,D=(D=D+Math.imul(Ue,Yt)|0)+Math.imul(nt,At)|0,M=M+Math.imul(nt,Yt)|0,_=_+Math.imul(Ve,Ut)|0,D=(D=D+Math.imul(Ve,Mt)|0)+Math.imul(Ze,Ut)|0,M=M+Math.imul(Ze,Mt)|0,_=_+Math.imul(_e,Ot)|0,D=(D=D+Math.imul(_e,Ft)|0)+Math.imul(xe,Ot)|0,M=M+Math.imul(xe,Ft)|0,_=_+Math.imul(de,St)|0,D=(D=D+Math.imul(de,ue)|0)+Math.imul(he,St)|0,M=M+Math.imul(he,ue)|0,_=_+Math.imul(ve,ke)|0,D=(D=D+Math.imul(ve,Xe)|0)+Math.imul(ee,ke)|0,M=M+Math.imul(ee,Xe)|0,_=_+Math.imul(ne,ht)|0,D=(D=D+Math.imul(ne,Tt)|0)+Math.imul(ie,ht)|0,M=M+Math.imul(ie,Tt)|0,_=_+Math.imul(W,Wt)|0,D=(D=D+Math.imul(W,Ct)|0)+Math.imul(Q,Wt)|0,M=M+Math.imul(Q,Ct)|0;var He=(Y+(_=_+Math.imul(K,fn)|0)|0)+((8191&(D=(D=D+Math.imul(K,kn)|0)+Math.imul(A,fn)|0))<<13)|0;Y=((M=M+Math.imul(A,kn)|0)+(D>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(ge,xt),D=(D=Math.imul(ge,wt))+Math.imul(Ie,xt)|0,M=Math.imul(Ie,wt),_=_+Math.imul(bt,At)|0,D=(D=D+Math.imul(bt,Yt)|0)+Math.imul(Me,At)|0,M=M+Math.imul(Me,Yt)|0,_=_+Math.imul(Ue,Ut)|0,D=(D=D+Math.imul(Ue,Mt)|0)+Math.imul(nt,Ut)|0,M=M+Math.imul(nt,Mt)|0,_=_+Math.imul(Ve,Ot)|0,D=(D=D+Math.imul(Ve,Ft)|0)+Math.imul(Ze,Ot)|0,M=M+Math.imul(Ze,Ft)|0,_=_+Math.imul(_e,St)|0,D=(D=D+Math.imul(_e,ue)|0)+Math.imul(xe,St)|0,M=M+Math.imul(xe,ue)|0,_=_+Math.imul(de,ke)|0,D=(D=D+Math.imul(de,Xe)|0)+Math.imul(he,ke)|0,M=M+Math.imul(he,Xe)|0,_=_+Math.imul(ve,ht)|0,D=(D=D+Math.imul(ve,Tt)|0)+Math.imul(ee,ht)|0,M=M+Math.imul(ee,Tt)|0,_=_+Math.imul(ne,Wt)|0,D=(D=D+Math.imul(ne,Ct)|0)+Math.imul(ie,Wt)|0,M=M+Math.imul(ie,Ct)|0;var lt=(Y+(_=_+Math.imul(W,fn)|0)|0)+((8191&(D=(D=D+Math.imul(W,kn)|0)+Math.imul(Q,fn)|0))<<13)|0;Y=((M=M+Math.imul(Q,kn)|0)+(D>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ge,At),D=(D=Math.imul(ge,Yt))+Math.imul(Ie,At)|0,M=Math.imul(Ie,Yt),_=_+Math.imul(bt,Ut)|0,D=(D=D+Math.imul(bt,Mt)|0)+Math.imul(Me,Ut)|0,M=M+Math.imul(Me,Mt)|0,_=_+Math.imul(Ue,Ot)|0,D=(D=D+Math.imul(Ue,Ft)|0)+Math.imul(nt,Ot)|0,M=M+Math.imul(nt,Ft)|0,_=_+Math.imul(Ve,St)|0,D=(D=D+Math.imul(Ve,ue)|0)+Math.imul(Ze,St)|0,M=M+Math.imul(Ze,ue)|0,_=_+Math.imul(_e,ke)|0,D=(D=D+Math.imul(_e,Xe)|0)+Math.imul(xe,ke)|0,M=M+Math.imul(xe,Xe)|0,_=_+Math.imul(de,ht)|0,D=(D=D+Math.imul(de,Tt)|0)+Math.imul(he,ht)|0,M=M+Math.imul(he,Tt)|0,_=_+Math.imul(ve,Wt)|0,D=(D=D+Math.imul(ve,Ct)|0)+Math.imul(ee,Wt)|0,M=M+Math.imul(ee,Ct)|0;var Pt=(Y+(_=_+Math.imul(ne,fn)|0)|0)+((8191&(D=(D=D+Math.imul(ne,kn)|0)+Math.imul(ie,fn)|0))<<13)|0;Y=((M=M+Math.imul(ie,kn)|0)+(D>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,_=Math.imul(ge,Ut),D=(D=Math.imul(ge,Mt))+Math.imul(Ie,Ut)|0,M=Math.imul(Ie,Mt),_=_+Math.imul(bt,Ot)|0,D=(D=D+Math.imul(bt,Ft)|0)+Math.imul(Me,Ot)|0,M=M+Math.imul(Me,Ft)|0,_=_+Math.imul(Ue,St)|0,D=(D=D+Math.imul(Ue,ue)|0)+Math.imul(nt,St)|0,M=M+Math.imul(nt,ue)|0,_=_+Math.imul(Ve,ke)|0,D=(D=D+Math.imul(Ve,Xe)|0)+Math.imul(Ze,ke)|0,M=M+Math.imul(Ze,Xe)|0,_=_+Math.imul(_e,ht)|0,D=(D=D+Math.imul(_e,Tt)|0)+Math.imul(xe,ht)|0,M=M+Math.imul(xe,Tt)|0,_=_+Math.imul(de,Wt)|0,D=(D=D+Math.imul(de,Ct)|0)+Math.imul(he,Wt)|0,M=M+Math.imul(he,Ct)|0;var Lt=(Y+(_=_+Math.imul(ve,fn)|0)|0)+((8191&(D=(D=D+Math.imul(ve,kn)|0)+Math.imul(ee,fn)|0))<<13)|0;Y=((M=M+Math.imul(ee,kn)|0)+(D>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,_=Math.imul(ge,Ot),D=(D=Math.imul(ge,Ft))+Math.imul(Ie,Ot)|0,M=Math.imul(Ie,Ft),_=_+Math.imul(bt,St)|0,D=(D=D+Math.imul(bt,ue)|0)+Math.imul(Me,St)|0,M=M+Math.imul(Me,ue)|0,_=_+Math.imul(Ue,ke)|0,D=(D=D+Math.imul(Ue,Xe)|0)+Math.imul(nt,ke)|0,M=M+Math.imul(nt,Xe)|0,_=_+Math.imul(Ve,ht)|0,D=(D=D+Math.imul(Ve,Tt)|0)+Math.imul(Ze,ht)|0,M=M+Math.imul(Ze,Tt)|0,_=_+Math.imul(_e,Wt)|0,D=(D=D+Math.imul(_e,Ct)|0)+Math.imul(xe,Wt)|0,M=M+Math.imul(xe,Ct)|0;var Pn=(Y+(_=_+Math.imul(de,fn)|0)|0)+((8191&(D=(D=D+Math.imul(de,kn)|0)+Math.imul(he,fn)|0))<<13)|0;Y=((M=M+Math.imul(he,kn)|0)+(D>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,_=Math.imul(ge,St),D=(D=Math.imul(ge,ue))+Math.imul(Ie,St)|0,M=Math.imul(Ie,ue),_=_+Math.imul(bt,ke)|0,D=(D=D+Math.imul(bt,Xe)|0)+Math.imul(Me,ke)|0,M=M+Math.imul(Me,Xe)|0,_=_+Math.imul(Ue,ht)|0,D=(D=D+Math.imul(Ue,Tt)|0)+Math.imul(nt,ht)|0,M=M+Math.imul(nt,Tt)|0,_=_+Math.imul(Ve,Wt)|0,D=(D=D+Math.imul(Ve,Ct)|0)+Math.imul(Ze,Wt)|0,M=M+Math.imul(Ze,Ct)|0;var Xt=(Y+(_=_+Math.imul(_e,fn)|0)|0)+((8191&(D=(D=D+Math.imul(_e,kn)|0)+Math.imul(xe,fn)|0))<<13)|0;Y=((M=M+Math.imul(xe,kn)|0)+(D>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,_=Math.imul(ge,ke),D=(D=Math.imul(ge,Xe))+Math.imul(Ie,ke)|0,M=Math.imul(Ie,Xe),_=_+Math.imul(bt,ht)|0,D=(D=D+Math.imul(bt,Tt)|0)+Math.imul(Me,ht)|0,M=M+Math.imul(Me,Tt)|0,_=_+Math.imul(Ue,Wt)|0,D=(D=D+Math.imul(Ue,Ct)|0)+Math.imul(nt,Wt)|0,M=M+Math.imul(nt,Ct)|0;var rn=(Y+(_=_+Math.imul(Ve,fn)|0)|0)+((8191&(D=(D=D+Math.imul(Ve,kn)|0)+Math.imul(Ze,fn)|0))<<13)|0;Y=((M=M+Math.imul(Ze,kn)|0)+(D>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(ge,ht),D=(D=Math.imul(ge,Tt))+Math.imul(Ie,ht)|0,M=Math.imul(Ie,Tt),_=_+Math.imul(bt,Wt)|0,D=(D=D+Math.imul(bt,Ct)|0)+Math.imul(Me,Wt)|0,M=M+Math.imul(Me,Ct)|0;var Qt=(Y+(_=_+Math.imul(Ue,fn)|0)|0)+((8191&(D=(D=D+Math.imul(Ue,kn)|0)+Math.imul(nt,fn)|0))<<13)|0;Y=((M=M+Math.imul(nt,kn)|0)+(D>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,_=Math.imul(ge,Wt),D=(D=Math.imul(ge,Ct))+Math.imul(Ie,Wt)|0,M=Math.imul(Ie,Ct);var Pi=(Y+(_=_+Math.imul(bt,fn)|0)|0)+((8191&(D=(D=D+Math.imul(bt,kn)|0)+Math.imul(Me,fn)|0))<<13)|0;Y=((M=M+Math.imul(Me,kn)|0)+(D>>>13)|0)+(Pi>>>26)|0,Pi&=67108863;var Ki=(Y+(_=Math.imul(ge,fn))|0)+((8191&(D=(D=Math.imul(ge,kn))+Math.imul(Ie,fn)|0))<<13)|0;return Y=((M=Math.imul(Ie,kn))+(D>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,G[0]=mi,G[1]=qi,G[2]=ir,G[3]=cr,G[4]=dr,G[5]=wr,G[6]=ce,G[7]=Te,G[8]=Ke,G[9]=He,G[10]=lt,G[11]=Pt,G[12]=Lt,G[13]=Pn,G[14]=Xt,G[15]=rn,G[16]=Qt,G[17]=Pi,G[18]=Ki,Y!==0&&(G[19]=Y,x.length++),x};function E(b,C,x){x.negative=C.negative^b.negative,x.length=b.length+C.length;for(var _=0,D=0,M=0;M<x.length-1;M++){var O=D;D=0;for(var U=67108863&_,G=Math.min(M,C.length-1),Y=Math.max(0,M-b.length+1);Y<=G;Y++){var B=M-Y,K=(0|b.words[B])*(0|C.words[Y]),A=67108863&K;U=67108863&(A=A+U|0),D+=(O=(O=O+(K/67108864|0)|0)+(A>>>26)|0)>>>26,O&=67108863}x.words[M]=U,_=O,O=D}return _!==0?x.words[M]=_:x.length--,x._strip()}function T(b,C,x){return E(b,C,x)}function F(b,C){this.x=b,this.y=C}Math.imul||(w=v),a.prototype.mulTo=function(b,C){var x=this.length+b.length;return this.length===10&&b.length===10?w(this,b,C):x<63?v(this,b,C):x<1024?E(this,b,C):T(this,b,C)},F.prototype.makeRBT=function(b){for(var C=new Array(b),x=a.prototype._countBits(b)-1,_=0;_<b;_++)C[_]=this.revBin(_,x,b);return C},F.prototype.revBin=function(b,C,x){if(b===0||b===x-1)return b;for(var _=0,D=0;D<C;D++)_|=(1&b)<<C-D-1,b>>=1;return _},F.prototype.permute=function(b,C,x,_,D,M){for(var O=0;O<M;O++)_[O]=C[b[O]],D[O]=x[b[O]]},F.prototype.transform=function(b,C,x,_,D,M){this.permute(M,b,C,x,_,D);for(var O=1;O<D;O<<=1)for(var U=O<<1,G=Math.cos(2*Math.PI/U),Y=Math.sin(2*Math.PI/U),B=0;B<D;B+=U)for(var K=G,A=Y,P=0;P<O;P++){var W=x[B+P],Q=_[B+P],se=x[B+P+O],ne=_[B+P+O],ie=K*se-A*ne;ne=K*ne+A*se,se=ie,x[B+P]=W+se,_[B+P]=Q+ne,x[B+P+O]=W-se,_[B+P+O]=Q-ne,P!==U&&(ie=G*K-Y*A,A=G*A+Y*K,K=ie)}},F.prototype.guessLen13b=function(b,C){var x=1|Math.max(C,b),_=1&x,D=0;for(x=x/2|0;x;x>>>=1)D++;return 1<<D+1+_},F.prototype.conjugate=function(b,C,x){if(!(x<=1))for(var _=0;_<x/2;_++){var D=b[_];b[_]=b[x-_-1],b[x-_-1]=D,D=C[_],C[_]=-C[x-_-1],C[x-_-1]=-D}},F.prototype.normalize13b=function(b,C){for(var x=0,_=0;_<C/2;_++){var D=8192*Math.round(b[2*_+1]/C)+Math.round(b[2*_]/C)+x;b[_]=67108863&D,x=D<67108864?0:D/67108864|0}return b},F.prototype.convert13b=function(b,C,x,_){for(var D=0,M=0;M<C;M++)D+=0|b[M],x[2*M]=8191&D,D>>>=13,x[2*M+1]=8191&D,D>>>=13;for(M=2*C;M<_;++M)x[M]=0;o(D===0),o((-8192&D)==0)},F.prototype.stub=function(b){for(var C=new Array(b),x=0;x<b;x++)C[x]=0;return C},F.prototype.mulp=function(b,C,x){var _=2*this.guessLen13b(b.length,C.length),D=this.makeRBT(_),M=this.stub(_),O=new Array(_),U=new Array(_),G=new Array(_),Y=new Array(_),B=new Array(_),K=new Array(_),A=x.words;A.length=_,this.convert13b(b.words,b.length,O,_),this.convert13b(C.words,C.length,Y,_),this.transform(O,M,U,G,_,D),this.transform(Y,M,B,K,_,D);for(var P=0;P<_;P++){var W=U[P]*B[P]-G[P]*K[P];G[P]=U[P]*K[P]+G[P]*B[P],U[P]=W}return this.conjugate(U,G,_),this.transform(U,G,A,M,_,D),this.conjugate(A,M,_),this.normalize13b(A,_),x.negative=b.negative^C.negative,x.length=b.length+C.length,x._strip()},a.prototype.mul=function(b){var C=new a(null);return C.words=new Array(this.length+b.length),this.mulTo(b,C)},a.prototype.mulf=function(b){var C=new a(null);return C.words=new Array(this.length+b.length),T(this,b,C)},a.prototype.imul=function(b){return this.clone().mulTo(b,this)},a.prototype.imuln=function(b){var C=b<0;C&&(b=-b),o(typeof b=="number"),o(b<67108864);for(var x=0,_=0;_<this.length;_++){var D=(0|this.words[_])*b,M=(67108863&D)+(67108863&x);x>>=26,x+=D/67108864|0,x+=M>>>26,this.words[_]=67108863&M}return x!==0&&(this.words[_]=x,this.length++),C?this.ineg():this},a.prototype.muln=function(b){return this.clone().imuln(b)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(b){var C=function(M){for(var O=new Array(M.bitLength()),U=0;U<O.length;U++){var G=U/26|0,Y=U%26;O[U]=M.words[G]>>>Y&1}return O}(b);if(C.length===0)return new a(1);for(var x=this,_=0;_<C.length&&C[_]===0;_++,x=x.sqr());if(++_<C.length)for(var D=x.sqr();_<C.length;_++,D=D.sqr())C[_]!==0&&(x=x.mul(D));return x},a.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var C,x=b%26,_=(b-x)/26,D=67108863>>>26-x<<26-x;if(x!==0){var M=0;for(C=0;C<this.length;C++){var O=this.words[C]&D,U=(0|this.words[C])-O<<x;this.words[C]=U|M,M=O>>>26-x}M&&(this.words[C]=M,this.length++)}if(_!==0){for(C=this.length-1;C>=0;C--)this.words[C+_]=this.words[C];for(C=0;C<_;C++)this.words[C]=0;this.length+=_}return this._strip()},a.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},a.prototype.iushrn=function(b,C,x){var _;o(typeof b=="number"&&b>=0),_=C?(C-C%26)/26:0;var D=b%26,M=Math.min((b-D)/26,this.length),O=67108863^67108863>>>D<<D,U=x;if(_-=M,_=Math.max(0,_),U){for(var G=0;G<M;G++)U.words[G]=this.words[G];U.length=M}if(M!==0)if(this.length>M)for(this.length-=M,G=0;G<this.length;G++)this.words[G]=this.words[G+M];else this.words[0]=0,this.length=1;var Y=0;for(G=this.length-1;G>=0&&(Y!==0||G>=_);G--){var B=0|this.words[G];this.words[G]=Y<<26-D|B>>>D,Y=B&O}return U&&Y!==0&&(U.words[U.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(b,C,x){return o(this.negative===0),this.iushrn(b,C,x)},a.prototype.shln=function(b){return this.clone().ishln(b)},a.prototype.ushln=function(b){return this.clone().iushln(b)},a.prototype.shrn=function(b){return this.clone().ishrn(b)},a.prototype.ushrn=function(b){return this.clone().iushrn(b)},a.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var C=b%26,x=(b-C)/26,_=1<<C;return!(this.length<=x)&&!!(this.words[x]&_)},a.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var C=b%26,x=(b-C)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(C!==0&&x++,this.length=Math.min(x,this.length),C!==0){var _=67108863^67108863>>>C<<C;this.words[this.length-1]&=_}return this._strip()},a.prototype.maskn=function(b){return this.clone().imaskn(b)},a.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(0|this.words[0])<=b?(this.words[0]=b-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},a.prototype._iaddn=function(b){this.words[0]+=b;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},a.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},a.prototype.addn=function(b){return this.clone().iaddn(b)},a.prototype.subn=function(b){return this.clone().isubn(b)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(b,C,x){var _,D,M=b.length+x;this._expand(M);var O=0;for(_=0;_<b.length;_++){D=(0|this.words[_+x])+O;var U=(0|b.words[_])*C;O=((D-=67108863&U)>>26)-(U/67108864|0),this.words[_+x]=67108863&D}for(;_<this.length-x;_++)O=(D=(0|this.words[_+x])+O)>>26,this.words[_+x]=67108863&D;if(O===0)return this._strip();for(o(O===-1),O=0,_=0;_<this.length;_++)O=(D=-(0|this.words[_])+O)>>26,this.words[_]=67108863&D;return this.negative=1,this._strip()},a.prototype._wordDiv=function(b,C){var x=(this.length,b.length),_=this.clone(),D=b,M=0|D.words[D.length-1];(x=26-this._countBits(M))!==0&&(D=D.ushln(x),_.iushln(x),M=0|D.words[D.length-1]);var O,U=_.length-D.length;if(C!=="mod"){(O=new a(null)).length=U+1,O.words=new Array(O.length);for(var G=0;G<O.length;G++)O.words[G]=0}var Y=_.clone()._ishlnsubmul(D,1,U);Y.negative===0&&(_=Y,O&&(O.words[U]=1));for(var B=U-1;B>=0;B--){var K=67108864*(0|_.words[D.length+B])+(0|_.words[D.length+B-1]);for(K=Math.min(K/M|0,67108863),_._ishlnsubmul(D,K,B);_.negative!==0;)K--,_.negative=0,_._ishlnsubmul(D,1,B),_.isZero()||(_.negative^=1);O&&(O.words[B]=K)}return O&&O._strip(),_._strip(),C!=="div"&&x!==0&&_.iushrn(x),{div:O||null,mod:_}},a.prototype.divmod=function(b,C,x){return o(!b.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&b.negative===0?(M=this.neg().divmod(b,C),C!=="mod"&&(_=M.div.neg()),C!=="div"&&(D=M.mod.neg(),x&&D.negative!==0&&D.iadd(b)),{div:_,mod:D}):this.negative===0&&b.negative!==0?(M=this.divmod(b.neg(),C),C!=="mod"&&(_=M.div.neg()),{div:_,mod:M.mod}):(this.negative&b.negative)!=0?(M=this.neg().divmod(b.neg(),C),C!=="div"&&(D=M.mod.neg(),x&&D.negative!==0&&D.isub(b)),{div:M.div,mod:D}):b.length>this.length||this.cmp(b)<0?{div:new a(0),mod:this}:b.length===1?C==="div"?{div:this.divn(b.words[0]),mod:null}:C==="mod"?{div:null,mod:new a(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new a(this.modrn(b.words[0]))}:this._wordDiv(b,C);var _,D,M},a.prototype.div=function(b){return this.divmod(b,"div",!1).div},a.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},a.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},a.prototype.divRound=function(b){var C=this.divmod(b);if(C.mod.isZero())return C.div;var x=C.div.negative!==0?C.mod.isub(b):C.mod,_=b.ushrn(1),D=b.andln(1),M=x.cmp(_);return M<0||D===1&&M===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},a.prototype.modrn=function(b){var C=b<0;C&&(b=-b),o(b<=67108863);for(var x=(1<<26)%b,_=0,D=this.length-1;D>=0;D--)_=(x*_+(0|this.words[D]))%b;return C?-_:_},a.prototype.modn=function(b){return this.modrn(b)},a.prototype.idivn=function(b){var C=b<0;C&&(b=-b),o(b<=67108863);for(var x=0,_=this.length-1;_>=0;_--){var D=(0|this.words[_])+67108864*x;this.words[_]=D/b|0,x=D%b}return this._strip(),C?this.ineg():this},a.prototype.divn=function(b){return this.clone().idivn(b)},a.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var C=this,x=b.clone();C=C.negative!==0?C.umod(b):C.clone();for(var _=new a(1),D=new a(0),M=new a(0),O=new a(1),U=0;C.isEven()&&x.isEven();)C.iushrn(1),x.iushrn(1),++U;for(var G=x.clone(),Y=C.clone();!C.isZero();){for(var B=0,K=1;(C.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(C.iushrn(B);B-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(G),D.isub(Y)),_.iushrn(1),D.iushrn(1);for(var A=0,P=1;(x.words[0]&P)==0&&A<26;++A,P<<=1);if(A>0)for(x.iushrn(A);A-- >0;)(M.isOdd()||O.isOdd())&&(M.iadd(G),O.isub(Y)),M.iushrn(1),O.iushrn(1);C.cmp(x)>=0?(C.isub(x),_.isub(M),D.isub(O)):(x.isub(C),M.isub(_),O.isub(D))}return{a:M,b:O,gcd:x.iushln(U)}},a.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var C=this,x=b.clone();C=C.negative!==0?C.umod(b):C.clone();for(var _,D=new a(1),M=new a(0),O=x.clone();C.cmpn(1)>0&&x.cmpn(1)>0;){for(var U=0,G=1;(C.words[0]&G)==0&&U<26;++U,G<<=1);if(U>0)for(C.iushrn(U);U-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);for(var Y=0,B=1;(x.words[0]&B)==0&&Y<26;++Y,B<<=1);if(Y>0)for(x.iushrn(Y);Y-- >0;)M.isOdd()&&M.iadd(O),M.iushrn(1);C.cmp(x)>=0?(C.isub(x),D.isub(M)):(x.isub(C),M.isub(D))}return(_=C.cmpn(1)===0?D:M).cmpn(0)<0&&_.iadd(b),_},a.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var C=this.clone(),x=b.clone();C.negative=0,x.negative=0;for(var _=0;C.isEven()&&x.isEven();_++)C.iushrn(1),x.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;x.isEven();)x.iushrn(1);var D=C.cmp(x);if(D<0){var M=C;C=x,x=M}else if(D===0||x.cmpn(1)===0)break;C.isub(x)}return x.iushln(_)},a.prototype.invm=function(b){return this.egcd(b).a.umod(b)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(b){return this.words[0]&b},a.prototype.bincn=function(b){o(typeof b=="number");var C=b%26,x=(b-C)/26,_=1<<C;if(this.length<=x)return this._expand(x+1),this.words[x]|=_,this;for(var D=_,M=x;D!==0&&M<this.length;M++){var O=0|this.words[M];D=(O+=D)>>>26,O&=67108863,this.words[M]=O}return D!==0&&(this.words[M]=D,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(b){var C,x=b<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;if(this._strip(),this.length>1)C=1;else{x&&(b=-b),o(b<=67108863,"Number is too big");var _=0|this.words[0];C=_===b?0:_<b?-1:1}return this.negative!==0?0|-C:C},a.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var C=this.ucmp(b);return this.negative!==0?0|-C:C},a.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var C=0,x=this.length-1;x>=0;x--){var _=0|this.words[x],D=0|b.words[x];if(_!==D){_<D?C=-1:_>D&&(C=1);break}}return C},a.prototype.gtn=function(b){return this.cmpn(b)===1},a.prototype.gt=function(b){return this.cmp(b)===1},a.prototype.gten=function(b){return this.cmpn(b)>=0},a.prototype.gte=function(b){return this.cmp(b)>=0},a.prototype.ltn=function(b){return this.cmpn(b)===-1},a.prototype.lt=function(b){return this.cmp(b)===-1},a.prototype.lten=function(b){return this.cmpn(b)<=0},a.prototype.lte=function(b){return this.cmp(b)<=0},a.prototype.eqn=function(b){return this.cmpn(b)===0},a.prototype.eq=function(b){return this.cmp(b)===0},a.red=function(b){return new I(b)},a.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(b){return this.red=b,this},a.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},a.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},a.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},a.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},a.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},a.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},a.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},a.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var k={k256:null,p224:null,p192:null,p25519:null};function L(b,C){this.name=b,this.p=new a(C,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(b){if(typeof b=="string"){var C=a._prime(b);this.m=C.p,this.prime=C}else o(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}function N(b){I.call(this,b),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var b=new a(null);return b.words=new Array(Math.ceil(this.n/13)),b},L.prototype.ireduce=function(b){var C,x=b;do this.split(x,this.tmp),C=(x=(x=this.imulK(x)).iadd(this.tmp)).bitLength();while(C>this.n);var _=C<this.n?-1:x.ucmp(this.p);return _===0?(x.words[0]=0,x.length=1):_>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},L.prototype.split=function(b,C){b.iushrn(this.n,0,C)},L.prototype.imulK=function(b){return b.imul(this.k)},s(V,L),V.prototype.split=function(b,C){for(var x=Math.min(b.length,9),_=0;_<x;_++)C.words[_]=b.words[_];if(C.length=x,b.length<=9)return b.words[0]=0,void(b.length=1);var D=b.words[9];for(C.words[C.length++]=4194303&D,_=10;_<b.length;_++){var M=0|b.words[_];b.words[_-10]=(4194303&M)<<4|D>>>22,D=M}D>>>=22,b.words[_-10]=D,D===0&&b.length>10?b.length-=10:b.length-=9},V.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var C=0,x=0;x<b.length;x++){var _=0|b.words[x];C+=977*_,b.words[x]=67108863&C,C=64*_+(C/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b},s(j,L),s(z,L),s(R,L),R.prototype.imulK=function(b){for(var C=0,x=0;x<b.length;x++){var _=19*(0|b.words[x])+C,D=67108863&_;_>>>=26,b.words[x]=D,C=_}return C!==0&&(b.words[b.length++]=C),b},a._prime=function(b){if(k[b])return k[b];var C;if(b==="k256")C=new V;else if(b==="p224")C=new j;else if(b==="p192")C=new z;else{if(b!=="p25519")throw new Error("Unknown prime "+b);C=new R}return k[b]=C,C},I.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},I.prototype._verify2=function(b,C){o((b.negative|C.negative)==0,"red works only with positives"),o(b.red&&b.red===C.red,"red works only with red numbers")},I.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(h(b,b.umod(this.m)._forceRed(this)),b)},I.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},I.prototype.add=function(b,C){this._verify2(b,C);var x=b.add(C);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},I.prototype.iadd=function(b,C){this._verify2(b,C);var x=b.iadd(C);return x.cmp(this.m)>=0&&x.isub(this.m),x},I.prototype.sub=function(b,C){this._verify2(b,C);var x=b.sub(C);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},I.prototype.isub=function(b,C){this._verify2(b,C);var x=b.isub(C);return x.cmpn(0)<0&&x.iadd(this.m),x},I.prototype.shl=function(b,C){return this._verify1(b),this.imod(b.ushln(C))},I.prototype.imul=function(b,C){return this._verify2(b,C),this.imod(b.imul(C))},I.prototype.mul=function(b,C){return this._verify2(b,C),this.imod(b.mul(C))},I.prototype.isqr=function(b){return this.imul(b,b.clone())},I.prototype.sqr=function(b){return this.mul(b,b)},I.prototype.sqrt=function(b){if(b.isZero())return b.clone();var C=this.m.andln(3);if(o(C%2==1),C===3){var x=this.m.add(new a(1)).iushrn(2);return this.pow(b,x)}for(var _=this.m.subn(1),D=0;!_.isZero()&&_.andln(1)===0;)D++,_.iushrn(1);o(!_.isZero());var M=new a(1).toRed(this),O=M.redNeg(),U=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new a(2*G*G).toRed(this);this.pow(G,U).cmp(O)!==0;)G.redIAdd(O);for(var Y=this.pow(G,_),B=this.pow(b,_.addn(1).iushrn(1)),K=this.pow(b,_),A=D;K.cmp(M)!==0;){for(var P=K,W=0;P.cmp(M)!==0;W++)P=P.redSqr();o(W<A);var Q=this.pow(Y,new a(1).iushln(A-W-1));B=B.redMul(Q),Y=Q.redSqr(),K=K.redMul(Y),A=W}return B},I.prototype.invm=function(b){var C=b._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},I.prototype.pow=function(b,C){if(C.isZero())return new a(1).toRed(this);if(C.cmpn(1)===0)return b.clone();var x=new Array(16);x[0]=new a(1).toRed(this),x[1]=b;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],b);var D=x[0],M=0,O=0,U=C.bitLength()%26;for(U===0&&(U=26),_=C.length-1;_>=0;_--){for(var G=C.words[_],Y=U-1;Y>=0;Y--){var B=G>>Y&1;D!==x[0]&&(D=this.sqr(D)),B!==0||M!==0?(M<<=1,M|=B,(++O===4||_===0&&Y===0)&&(D=this.mul(D,x[M]),O=0,M=0)):O=0}U=26}return D},I.prototype.convertTo=function(b){var C=b.umod(this.m);return C===b?C.clone():C},I.prototype.convertFrom=function(b){var C=b.clone();return C.red=null,C},a.mont=function(b){return new N(b)},s(N,I),N.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},N.prototype.convertFrom=function(b){var C=this.imod(b.mul(this.rinv));return C.red=null,C},N.prototype.imul=function(b,C){if(b.isZero()||C.isZero())return b.words[0]=0,b.length=1,b;var x=b.imul(C),_=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=x.isub(_).iushrn(this.shift),M=D;return D.cmp(this.m)>=0?M=D.isub(this.m):D.cmpn(0)<0&&(M=D.iadd(this.m)),M._forceRed(this)},N.prototype.mul=function(b,C){if(b.isZero()||C.isZero())return new a(0)._forceRed(this);var x=b.mul(C),_=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=x.isub(_).iushrn(this.shift),M=D;return D.cmp(this.m)>=0?M=D.isub(this.m):D.cmpn(0)<0&&(M=D.iadd(this.m)),M._forceRed(this)},N.prototype.invm=function(b){return this.imod(b._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],187:[function(e,t,n){"use strict";var i;function r(s){this.rand=s}if(t.exports=function(s){return i||(i=new r(null)),i.generate(s)},t.exports.Rand=r,r.prototype.generate=function(s){return this._rand(s)},r.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");r.prototype._rand=function(s){return o.randomBytes(s)}}catch{}},{crypto:188}],188:[function(e,t,n){},{}],189:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer;function r(c){i.isBuffer(c)||(c=i.from(c));for(var u=c.length/4|0,h=new Array(u),p=0;p<u;p++)h[p]=c.readUInt32BE(4*p);return h}function o(c){for(;0<c.length;c++)c[0]=0}function s(c,u,h,p,f){for(var m,g,v,w,E=h[0],T=h[1],F=h[2],k=h[3],L=c[0]^u[0],V=c[1]^u[1],j=c[2]^u[2],z=c[3]^u[3],R=4,I=1;I<f;I++)m=E[L>>>24]^T[V>>>16&255]^F[j>>>8&255]^k[255&z]^u[R++],g=E[V>>>24]^T[j>>>16&255]^F[z>>>8&255]^k[255&L]^u[R++],v=E[j>>>24]^T[z>>>16&255]^F[L>>>8&255]^k[255&V]^u[R++],w=E[z>>>24]^T[L>>>16&255]^F[V>>>8&255]^k[255&j]^u[R++],L=m,V=g,j=v,z=w;return m=(p[L>>>24]<<24|p[V>>>16&255]<<16|p[j>>>8&255]<<8|p[255&z])^u[R++],g=(p[V>>>24]<<24|p[j>>>16&255]<<16|p[z>>>8&255]<<8|p[255&L])^u[R++],v=(p[j>>>24]<<24|p[z>>>16&255]<<16|p[L>>>8&255]<<8|p[255&V])^u[R++],w=(p[z>>>24]<<24|p[L>>>16&255]<<16|p[V>>>8&255]<<8|p[255&j])^u[R++],[m>>>=0,g>>>=0,v>>>=0,w>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var c=new Array(256),u=0;u<256;u++)c[u]=u<128?u<<1:u<<1^283;for(var h=[],p=[],f=[[],[],[],[]],m=[[],[],[],[]],g=0,v=0,w=0;w<256;++w){var E=v^v<<1^v<<2^v<<3^v<<4;E=E>>>8^255&E^99,h[g]=E,p[E]=g;var T=c[g],F=c[T],k=c[F],L=257*c[E]^16843008*E;f[0][g]=L<<24|L>>>8,f[1][g]=L<<16|L>>>16,f[2][g]=L<<8|L>>>24,f[3][g]=L,L=16843009*k^65537*F^257*T^16843008*g,m[0][E]=L<<24|L>>>8,m[1][E]=L<<16|L>>>16,m[2][E]=L<<8|L>>>24,m[3][E]=L,g===0?g=v=1:(g=T^c[c[c[k^T]]],v^=c[c[v]])}return{SBOX:h,INV_SBOX:p,SUB_MIX:f,INV_SUB_MIX:m}}();function d(c){this._key=r(c),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var c=this._key,u=c.length,h=u+6,p=4*(h+1),f=[],m=0;m<u;m++)f[m]=c[m];for(m=u;m<p;m++){var g=f[m-1];m%u==0?(g=g<<8|g>>>24,g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g],g^=a[m/u|0]<<24):u>6&&m%u==4&&(g=l.SBOX[g>>>24]<<24|l.SBOX[g>>>16&255]<<16|l.SBOX[g>>>8&255]<<8|l.SBOX[255&g]),f[m]=f[m-u]^g}for(var v=[],w=0;w<p;w++){var E=p-w,T=f[E-(w%4?0:4)];v[w]=w<4||E<=4?T:l.INV_SUB_MIX[0][l.SBOX[T>>>24]]^l.INV_SUB_MIX[1][l.SBOX[T>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[T>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&T]]}this._nRounds=h,this._keySchedule=f,this._invKeySchedule=v},d.prototype.encryptBlockRaw=function(c){return s(c=r(c),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},d.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),h=i.allocUnsafe(16);return h.writeUInt32BE(u[0],0),h.writeUInt32BE(u[1],4),h.writeUInt32BE(u[2],8),h.writeUInt32BE(u[3],12),h},d.prototype.decryptBlock=function(c){var u=(c=r(c))[1];c[1]=c[3],c[3]=u;var h=s(c,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),p=i.allocUnsafe(16);return p.writeUInt32BE(h[0],0),p.writeUInt32BE(h[3],4),p.writeUInt32BE(h[2],8),p.writeUInt32BE(h[1],12),p},d.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=d},{"safe-buffer":494}],190:[function(e,t,n){"use strict";var i=e("./aes"),r=e("safe-buffer").Buffer,o=e("cipher-base"),s=e("inherits"),a=e("./ghash"),l=e("buffer-xor"),d=e("./incr32");function c(u,h,p,f){o.call(this);var m=r.alloc(4,0);this._cipher=new i.AES(h);var g=this._cipher.encryptBlock(m);this._ghash=new a(g),p=function(v,w,E){if(w.length===12)return v._finID=r.concat([w,r.from([0,0,0,1])]),r.concat([w,r.from([0,0,0,2])]);var T=new a(E),F=w.length,k=F%16;T.update(w),k&&(k=16-k,T.update(r.alloc(k,0))),T.update(r.alloc(8,0));var L=8*F,V=r.alloc(8);V.writeUIntBE(L,0,8),T.update(V),v._finID=T.state;var j=r.from(v._finID);return d(j),j}(this,p,g),this._prev=r.from(p),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}s(c,o),c.prototype._update=function(u){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=r.alloc(h,0),this._ghash.update(h))}this._called=!0;var p=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(p),this._len+=u.length,p},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(h,p){var f=0;h.length!==p.length&&f++;for(var m=Math.min(h.length,p.length),g=0;g<m;++g)f+=h[g]^p[g];return f}(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(u){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=u},c.prototype.setAAD=function(u){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(u),this._alen+=u.length},t.exports=c},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,t,n){"use strict";var i=e("./encrypter"),r=e("./decrypter"),o=e("./modes/list.json");n.createCipher=n.Cipher=i.createCipher,n.createCipheriv=n.Cipheriv=i.createCipheriv,n.createDecipher=n.Decipher=r.createDecipher,n.createDecipheriv=n.Decipheriv=r.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,t,n){"use strict";var i=e("./authCipher"),r=e("safe-buffer").Buffer,o=e("./modes"),s=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),d=e("evp_bytestokey");function c(p,f,m){a.call(this),this._cache=new u,this._last=void 0,this._cipher=new l.AES(f),this._prev=r.from(m),this._mode=p,this._autopadding=!0}function u(){this.cache=r.allocUnsafe(0)}function h(p,f,m){var g=o[p.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=r.from(m)),g.mode!=="GCM"&&m.length!==g.iv)throw new TypeError("invalid iv length "+m.length);if(typeof f=="string"&&(f=r.from(f)),f.length!==g.key/8)throw new TypeError("invalid key length "+f.length);return g.type==="stream"?new s(g.module,f,m,!0):g.type==="auth"?new i(g.module,f,m,!0):new c(g.module,f,m)}e("inherits")(c,a),c.prototype._update=function(p){var f,m;this._cache.add(p);for(var g=[];f=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,f),g.push(m);return r.concat(g)},c.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return function(f){var m=f[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var g=-1;++g<m;)if(f[g+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return f.slice(0,16-m)}(this._mode.decrypt(this,p));if(p)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},u.prototype.add=function(p){this.cache=r.concat([this.cache,p])},u.prototype.get=function(p){var f;if(p){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(p,f){var m=o[p.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var g=d(f,!1,m.key,m.iv);return h(p,g.key,g.iv)},n.createDecipheriv=h},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,t,n){"use strict";var i=e("./modes"),r=e("./authCipher"),o=e("safe-buffer").Buffer,s=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),d=e("evp_bytestokey");function c(f,m,g){a.call(this),this._cache=new h,this._cipher=new l.AES(m),this._prev=o.from(g),this._mode=f,this._autopadding=!0}e("inherits")(c,a),c.prototype._update=function(f){var m,g;this._cache.add(f);for(var v=[];m=this._cache.get();)g=this._mode.encrypt(this,m),v.push(g);return o.concat(v)};var u=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function p(f,m,g){var v=i[f.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=o.from(m)),m.length!==v.key/8)throw new TypeError("invalid key length "+m.length);if(typeof g=="string"&&(g=o.from(g)),v.mode!=="GCM"&&g.length!==v.iv)throw new TypeError("invalid iv length "+g.length);return v.type==="stream"?new s(v.module,m,g):v.type==="auth"?new r(v.module,m,g):new c(v.module,m,g)}c.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},h.prototype.add=function(f){this.cache=o.concat([this.cache,f])},h.prototype.get=function(){if(this.cache.length>15){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},h.prototype.flush=function(){for(var f=16-this.cache.length,m=o.allocUnsafe(f),g=-1;++g<f;)m.writeUInt8(f,g);return o.concat([this.cache,m])},n.createCipheriv=p,n.createCipher=function(f,m){var g=i[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var v=d(m,!1,g.key,g.iv);return p(f,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=i.alloc(16,0);function o(a){var l=i.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function s(a){this.h=a,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},s.prototype._multiply=function(){for(var a,l,d,c=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],u=[0,0,0,0],h=-1;++h<128;){for((this.state[~~(h/8)]&1<<7-h%8)!=0&&(u[0]^=c[0],u[1]^=c[1],u[2]^=c[2],u[3]^=c[3]),d=(1&c[3])!=0,l=3;l>0;l--)c[l]=c[l]>>>1|(1&c[l-1])<<31;c[0]=c[0]>>>1,d&&(c[0]=c[0]^225<<24)}this.state=o(u)},s.prototype.update=function(a){var l;for(this.cache=i.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},s.prototype.final=function(a,l){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,a,0,l])),this.state},t.exports=s},{"safe-buffer":494}],195:[function(e,t,n){"use strict";t.exports=function(i){for(var r,o=i.length;o--;){if((r=i.readUInt8(o))!==255){r++,i.writeUInt8(r,o);break}i.writeUInt8(0,o)}}},{}],196:[function(e,t,n){"use strict";var i=e("buffer-xor");n.encrypt=function(r,o){var s=i(o,r._prev);return r._prev=r._cipher.encryptBlock(s),r._prev},n.decrypt=function(r,o){var s=r._prev;r._prev=o;var a=r._cipher.decryptBlock(o);return i(a,s)}},{"buffer-xor":219}],197:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("buffer-xor");function o(s,a,l){var d=a.length,c=r(a,s._cache);return s._cache=s._cache.slice(d),s._prev=i.concat([s._prev,l?a:c]),c}n.encrypt=function(s,a,l){for(var d,c=i.allocUnsafe(0);a.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=i.allocUnsafe(0)),!(s._cache.length<=a.length)){c=i.concat([c,o(s,a,l)]);break}d=s._cache.length,c=i.concat([c,o(s,a.slice(0,d),l)]),a=a.slice(d)}return c}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer;function r(s,a,l){for(var d,c,u=-1,h=0;++u<8;)d=a&1<<7-u?128:0,h+=(128&(c=s._cipher.encryptBlock(s._prev)[0]^d))>>u%8,s._prev=o(s._prev,l?d:c);return h}function o(s,a){var l=s.length,d=-1,c=i.allocUnsafe(s.length);for(s=i.concat([s,i.from([a])]);++d<l;)c[d]=s[d]<<1|s[d+1]>>7;return c}n.encrypt=function(s,a,l){for(var d=a.length,c=i.allocUnsafe(d),u=-1;++u<d;)c[u]=r(s,a[u],l);return c}},{"safe-buffer":494}],199:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer;function r(o,s,a){var l=o._cipher.encryptBlock(o._prev)[0]^s;return o._prev=i.concat([o._prev.slice(1),i.from([a?s:l])]),l}n.encrypt=function(o,s,a){for(var l=s.length,d=i.allocUnsafe(l),c=-1;++c<l;)d[c]=r(o,s[c],a);return d}},{"safe-buffer":494}],200:[function(e,t,n){"use strict";var i=e("buffer-xor"),r=e("safe-buffer").Buffer,o=e("../incr32");function s(a){var l=a._cipher.encryptBlockRaw(a._prev);return o(a._prev),l}n.encrypt=function(a,l){var d=Math.ceil(l.length/16),c=a._cache.length;a._cache=r.concat([a._cache,r.allocUnsafe(16*d)]);for(var u=0;u<d;u++){var h=s(a),p=c+16*u;a._cache.writeUInt32BE(h[0],p+0),a._cache.writeUInt32BE(h[1],p+4),a._cache.writeUInt32BE(h[2],p+8),a._cache.writeUInt32BE(h[3],p+12)}var f=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),i(l,f)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,t,n){"use strict";n.encrypt=function(i,r){return i._cipher.encryptBlock(r)},n.decrypt=function(i,r){return i._cipher.decryptBlock(r)}},{}],202:[function(e,t,n){"use strict";var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},r=e("./list.json");for(var o in r)r[o].module=i[r[o].mode];t.exports=r},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,t,n){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,t,n){(function(i){(function(){"use strict";var r=e("buffer-xor");function o(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}n.encrypt=function(s,a){for(;s._cache.length<a.length;)s._cache=i.concat([s._cache,o(s)]);var l=s._cache.slice(0,a.length);return s._cache=s._cache.slice(a.length),r(a,l)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,t,n){"use strict";var i=e("./aes"),r=e("safe-buffer").Buffer,o=e("cipher-base");function s(a,l,d,c){o.call(this),this._cipher=new i.AES(l),this._prev=r.from(d),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=c,this._mode=a}e("inherits")(s,o),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,t,n){"use strict";var i=e("browserify-des"),r=e("browserify-aes/browser"),o=e("browserify-aes/modes"),s=e("browserify-des/modes"),a=e("evp_bytestokey");function l(c,u,h){if(c=c.toLowerCase(),o[c])return r.createCipheriv(c,u,h);if(s[c])return new i({key:u,iv:h,mode:c});throw new TypeError("invalid suite type")}function d(c,u,h){if(c=c.toLowerCase(),o[c])return r.createDecipheriv(c,u,h);if(s[c])return new i({key:u,iv:h,mode:c,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(c,u){var h,p;if(c=c.toLowerCase(),o[c])h=o[c].key,p=o[c].iv;else{if(!s[c])throw new TypeError("invalid suite type");h=8*s[c].key,p=s[c].iv}var f=a(u,!1,h,p);return l(c,f.key,f.iv)},n.createCipheriv=n.Cipheriv=l,n.createDecipher=n.Decipher=function(c,u){var h,p;if(c=c.toLowerCase(),o[c])h=o[c].key,p=o[c].iv;else{if(!s[c])throw new TypeError("invalid suite type");h=8*s[c].key,p=s[c].iv}var f=a(u,!1,h,p);return d(c,f.key,f.iv)},n.createDecipheriv=n.Decipheriv=d,n.listCiphers=n.getCiphers=function(){return Object.keys(s).concat(r.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,t,n){"use strict";var i=e("cipher-base"),r=e("des.js"),o=e("inherits"),s=e("safe-buffer").Buffer,a={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function l(d){i.call(this);var c,u=d.mode.toLowerCase(),h=a[u];c=d.decrypt?"decrypt":"encrypt";var p=d.key;s.isBuffer(p)||(p=s.from(p)),u!=="des-ede"&&u!=="des-ede-cbc"||(p=s.concat([p,p.slice(0,8)]));var f=d.iv;s.isBuffer(f)||(f=s.from(f)),this._des=h.create({key:p,iv:f,type:c})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=l,o(l,i),l.prototype._update=function(d){return s.from(this._des.update(d))},l.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,t,n){"use strict";n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],209:[function(e,t,n){(function(i){(function(){"use strict";var r=e("bn.js"),o=e("randombytes");function s(l){var d,c=l.modulus.byteLength();do d=new r(o(c));while(d.cmp(l.modulus)>=0||!d.umod(l.prime1)||!d.umod(l.prime2));return d}function a(l,d){var c=function(F){var k=s(F);return{blinder:k.toRed(r.mont(F.modulus)).redPow(new r(F.publicExponent)).fromRed(),unblinder:k.invm(F.modulus)}}(d),u=d.modulus.byteLength(),h=new r(l).mul(c.blinder).umod(d.modulus),p=h.toRed(r.mont(d.prime1)),f=h.toRed(r.mont(d.prime2)),m=d.coefficient,g=d.prime1,v=d.prime2,w=p.redPow(d.exponent1).fromRed(),E=f.redPow(d.exponent2).fromRed(),T=w.isub(E).imul(m).umod(g).imul(v);return E.iadd(T).imul(c.unblinder).umod(d.modulus).toArrayLike(i,"be",u)}a.getr=s,t.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,t,n){"use strict";t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,t,n){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,t,n){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("create-hash"),o=e("readable-stream"),s=e("inherits"),a=e("./sign"),l=e("./verify"),d=e("./algorithms.json");function c(f){o.Writable.call(this);var m=d[f];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=r(m.hash),this._tag=m.id,this._signType=m.sign}function u(f){o.Writable.call(this);var m=d[f];if(!m)throw new Error("Unknown message digest");this._hash=r(m.hash),this._tag=m.id,this._signType=m.sign}function h(f){return new c(f)}function p(f){return new u(f)}Object.keys(d).forEach(function(f){d[f].id=i.from(d[f].id,"hex"),d[f.toLowerCase()]=d[f]}),s(c,o.Writable),c.prototype._write=function(f,m,g){this._hash.update(f),g()},c.prototype.update=function(f,m){return typeof f=="string"&&(f=i.from(f,m)),this._hash.update(f),this},c.prototype.sign=function(f,m){this.end();var g=this._hash.digest(),v=a(g,f,this._hashType,this._signType,this._tag);return m?v.toString(m):v},s(u,o.Writable),u.prototype._write=function(f,m,g){this._hash.update(f),g()},u.prototype.update=function(f,m){return typeof f=="string"&&(f=i.from(f,m)),this._hash.update(f),this},u.prototype.verify=function(f,m,g){typeof m=="string"&&(m=i.from(m,g)),this.end();var v=this._hash.digest();return l(m,v,f,this._signType,this._tag)},t.exports={Sign:h,Verify:p,createSign:h,createVerify:p}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("create-hmac"),o=e("browserify-rsa"),s=e("elliptic").ec,a=e("bn.js"),l=e("parse-asn1"),d=e("./curves.json");function c(f,m,g,v){if((f=i.from(f.toArray())).length<m.byteLength()){var w=i.alloc(m.byteLength()-f.length);f=i.concat([w,f])}var E=g.length,T=function(L,V){L=(L=u(L,V)).mod(V);var j=i.from(L.toArray());if(j.length<V.byteLength()){var z=i.alloc(V.byteLength()-j.length);j=i.concat([z,j])}return j}(g,m),F=i.alloc(E);F.fill(1);var k=i.alloc(E);return k=r(v,k).update(F).update(i.from([0])).update(f).update(T).digest(),F=r(v,k).update(F).digest(),{k:k=r(v,k).update(F).update(i.from([1])).update(f).update(T).digest(),v:F=r(v,k).update(F).digest()}}function u(f,m){var g=new a(f),v=(f.length<<3)-m.bitLength();return v>0&&g.ishrn(v),g}function h(f,m,g){var v,w;do{for(v=i.alloc(0);8*v.length<f.bitLength();)m.v=r(g,m.k).update(m.v).digest(),v=i.concat([v,m.v]);w=u(v,f),m.k=r(g,m.k).update(m.v).update(i.from([0])).digest(),m.v=r(g,m.k).update(m.v).digest()}while(w.cmp(f)!==-1);return w}function p(f,m,g,v){return f.toRed(a.mont(g)).redPow(m).fromRed().mod(v)}t.exports=function(f,m,g,v,w){var E=l(m);if(E.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(L,V){var j=d[V.curve.join(".")];if(!j)throw new Error("unknown curve "+V.curve.join("."));var z=new s(j).keyFromPrivate(V.privateKey).sign(L);return i.from(z.toDER())}(f,E)}if(E.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(L,V,j){for(var z,R=V.params.priv_key,I=V.params.p,N=V.params.q,b=V.params.g,C=new a(0),x=u(L,N).mod(N),_=!1,D=c(R,N,L,j);_===!1;)z=h(N,D,j),C=p(b,z,I,N),(_=z.invm(N).imul(x.add(R.mul(C))).mod(N)).cmpn(0)===0&&(_=!1,C=new a(0));return function(M,O){M=M.toArray(),O=O.toArray(),128&M[0]&&(M=[0].concat(M)),128&O[0]&&(O=[0].concat(O));var U=[48,M.length+O.length+4,2,M.length];return U=U.concat(M,[2,O.length],O),i.from(U)}(C,_)}(f,E,g)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");f=i.concat([w,f]);for(var T=E.modulus.byteLength(),F=[0,1];f.length+F.length+1<T;)F.push(255);F.push(0);for(var k=-1;++k<f.length;)F.push(f[k]);return o(F,E)},t.exports.getKey=c,t.exports.makeKey=h},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("bn.js"),o=e("elliptic").ec,s=e("parse-asn1"),a=e("./curves.json");function l(d,c){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(c)>=c)throw new Error("invalid sig")}t.exports=function(d,c,u,h,p){var f=s(u);if(f.type==="ec"){if(h!=="ecdsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");return function(F,k,L){var V=a[L.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+L.data.algorithm.curve.join("."));var j=new o(V),z=L.data.subjectPrivateKey.data;return j.verify(k,F,z)}(d,c,f)}if(f.type==="dsa"){if(h!=="dsa")throw new Error("wrong public key type");return function(F,k,L){var V=L.data.p,j=L.data.q,z=L.data.g,R=L.data.pub_key,I=s.signature.decode(F,"der"),N=I.s,b=I.r;l(N,j),l(b,j);var C=r.mont(V),x=N.invm(j);return z.toRed(C).redPow(new r(k).mul(x).mod(j)).fromRed().mul(R.toRed(C).redPow(b.mul(x).mod(j)).fromRed()).mod(V).mod(j).cmp(b)===0}(d,c,f)}if(h!=="rsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");c=i.concat([p,c]);for(var m=f.modulus.byteLength(),g=[1],v=0;c.length+g.length+2<m;)g.push(255),v++;g.push(0);for(var w=-1;++w<c.length;)g.push(c[w]);g=i.from(g);var E=r.mont(f.modulus);d=(d=new r(d).toRed(E)).redPow(new r(f.publicExponent)),d=i.from(d.fromRed().toArray());var T=v<8?1:0;for(m=Math.min(d.length,g.length),d.length!==g.length&&(T=1),w=-1;++w<m;)T|=d[w]^g[w];return T===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,t,n){},{}],217:[function(e,t,n){"use strict";var i=e("buffer"),r=i.Buffer;function o(a,l){for(var d in a)l[d]=a[d]}function s(a,l,d){return r(a,l,d)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,n),n.Buffer=s),o(r,s),s.from=function(a,l,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,l,d)},s.alloc=function(a,l,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=r(a);return l!==void 0?typeof d=="string"?c.fill(l,d):c.fill(l):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],218:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=i.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(f){var m;switch(this.encoding=function(g){var v=function(w){if(!w)return"utf8";for(var E;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(E)return;w=(""+w).toLowerCase(),E=!0}}(g);if(typeof v!="string"&&(i.isEncoding===r||!r(g)))throw new Error("Unknown encoding: "+g);return v||g}(f),this.encoding){case"utf16le":this.text=l,this.end=d,m=4;break;case"utf8":this.fillLast=a,m=4;break;case"base64":this.text=c,this.end=u,m=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(m)}function s(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function a(f){var m=this.lastTotal-this.lastNeed,g=function(v,w,E){if((192&w[0])!=128)return v.lastNeed=0,"\uFFFD";if(v.lastNeed>1&&w.length>1){if((192&w[1])!=128)return v.lastNeed=1,"\uFFFD";if(v.lastNeed>2&&w.length>2&&(192&w[2])!=128)return v.lastNeed=2,"\uFFFD"}}(this,f);return g!==void 0?g:this.lastNeed<=f.length?(f.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,m,0,f.length),void(this.lastNeed-=f.length))}function l(f,m){if((f.length-m)%2==0){var g=f.toString("utf16le",m);if(g){var v=g.charCodeAt(g.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",m,f.length-1)}function d(f){var m=f&&f.length?this.write(f):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,g)}return m}function c(f,m){var g=(f.length-m)%3;return g===0?f.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",m,f.length-g))}function u(f){var m=f&&f.length?this.write(f):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function h(f){return f.toString(this.encoding)}function p(f){return f&&f.length?this.write(f):""}n.StringDecoder=o,o.prototype.write=function(f){if(f.length===0)return"";var m,g;if(this.lastNeed){if((m=this.fillLast(f))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<f.length?m?m+this.text(f,g):this.text(f,g):m||""},o.prototype.end=function(f){var m=f&&f.length?this.write(f):"";return this.lastNeed?m+"\uFFFD":m},o.prototype.text=function(f,m){var g=function(w,E,T){var F=E.length-1;if(F<T)return 0;var k=s(E[F]);return k>=0?(k>0&&(w.lastNeed=k-1),k):--F<T||k===-2?0:(k=s(E[F]))>=0?(k>0&&(w.lastNeed=k-2),k):--F<T||k===-2?0:(k=s(E[F]))>=0?(k>0&&(k===2?k=0:w.lastNeed=k-3),k):0}(this,f,m);if(!this.lastNeed)return f.toString("utf8",m);this.lastTotal=g;var v=f.length-(g-this.lastNeed);return f.copy(this.lastChar,0,v),f.toString("utf8",m,v)},o.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},{"safe-buffer":217}],219:[function(e,t,n){(function(i){(function(){"use strict";t.exports=function(r,o){for(var s=Math.min(r.length,o.length),a=new i(s),l=0;l<s;++l)a[l]=r[l]^o[l];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,t,n){(function(i){(function(){"use strict";var r=e("base64-js"),o=e("ieee754");n.Buffer=a,n.SlowBuffer=function(A){return+A!=A&&(A=0),a.alloc(+A)},n.INSPECT_MAX_BYTES=50;function s(A){if(A>2147483647)throw new RangeError('The value "'+A+'" is invalid for option "size"');var P=new Uint8Array(A);return P.__proto__=a.prototype,P}function a(A,P,W){if(typeof A=="number"){if(typeof P=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(A)}return l(A,P,W)}function l(A,P,W){if(typeof A=="string")return function(ne,ie){if(typeof ie=="string"&&ie!==""||(ie="utf8"),!a.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);var ye=0|p(ne,ie),ve=s(ye),ee=ve.write(ne,ie);return ee!==ye&&(ve=ve.slice(0,ee)),ve}(A,P);if(ArrayBuffer.isView(A))return u(A);if(A==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(B(A,ArrayBuffer)||A&&B(A.buffer,ArrayBuffer))return function(ne,ie,ye){if(ie<0||ne.byteLength<ie)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<ie+(ye||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return ve=ie===void 0&&ye===void 0?new Uint8Array(ne):ye===void 0?new Uint8Array(ne,ie):new Uint8Array(ne,ie,ye),ve.__proto__=a.prototype,ve}(A,P,W);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=A.valueOf&&A.valueOf();if(Q!=null&&Q!==A)return a.from(Q,P,W);var se=function(ne){if(a.isBuffer(ne)){var ie=0|h(ne.length),ye=s(ie);return ye.length===0||ne.copy(ye,0,0,ie),ye}if(ne.length!==void 0)return typeof ne.length!="number"||K(ne.length)?s(0):u(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return u(ne.data)}(A);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),P,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function d(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function c(A){return d(A),s(A<0?0:0|h(A))}function u(A){for(var P=A.length<0?0:0|h(A.length),W=s(P),Q=0;Q<P;Q+=1)W[Q]=255&A[Q];return W}function h(A){if(A>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|A}function p(A,P){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||B(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var W=A.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&W===0)return 0;for(var se=!1;;)switch(P){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return U(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return G(A).length;default:if(se)return Q?-1:U(A).length;P=(""+P).toLowerCase(),se=!0}}function f(A,P,W){var Q=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(P>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return I(this,P,W);case"utf8":case"utf-8":return j(this,P,W);case"ascii":return z(this,P,W);case"latin1":case"binary":return R(this,P,W);case"base64":return V(this,P,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,P,W);default:if(Q)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Q=!0}}function m(A,P,W){var Q=A[P];A[P]=A[W],A[W]=Q}function g(A,P,W,Q,se){if(A.length===0)return-1;if(typeof W=="string"?(Q=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),K(W=+W)&&(W=se?0:A.length-1),W<0&&(W=A.length+W),W>=A.length){if(se)return-1;W=A.length-1}else if(W<0){if(!se)return-1;W=0}if(typeof P=="string"&&(P=a.from(P,Q)),a.isBuffer(P))return P.length===0?-1:v(A,P,W,Q,se);if(typeof P=="number")return P&=255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(A,P,W):Uint8Array.prototype.lastIndexOf.call(A,P,W):v(A,[P],W,Q,se);throw new TypeError("val must be string, number or Buffer")}function v(A,P,W,Q,se){var ne,ie=1,ye=A.length,ve=P.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(A.length<2||P.length<2)return-1;ie=2,ye/=2,ve/=2,W/=2}function ee(Ce,_e){return ie===1?Ce[_e]:Ce.readUInt16BE(_e*ie)}if(se){var fe=-1;for(ne=W;ne<ye;ne++)if(ee(A,ne)===ee(P,fe===-1?0:ne-fe)){if(fe===-1&&(fe=ne),ne-fe+1===ve)return fe*ie}else fe!==-1&&(ne-=ne-fe),fe=-1}else for(W+ve>ye&&(W=ye-ve),ne=W;ne>=0;ne--){for(var de=!0,he=0;he<ve;he++)if(ee(A,ne+he)!==ee(P,he)){de=!1;break}if(de)return ne}return-1}function w(A,P,W,Q){W=Number(W)||0;var se=A.length-W;Q?(Q=Number(Q))>se&&(Q=se):Q=se;var ne=P.length;Q>ne/2&&(Q=ne/2);for(var ie=0;ie<Q;++ie){var ye=parseInt(P.substr(2*ie,2),16);if(K(ye))return ie;A[W+ie]=ye}return ie}function E(A,P,W,Q){return Y(U(P,A.length-W),A,W,Q)}function T(A,P,W,Q){return Y(function(se){for(var ne=[],ie=0;ie<se.length;++ie)ne.push(255&se.charCodeAt(ie));return ne}(P),A,W,Q)}function F(A,P,W,Q){return T(A,P,W,Q)}function k(A,P,W,Q){return Y(G(P),A,W,Q)}function L(A,P,W,Q){return Y(function(se,ne){for(var ie,ye,ve,ee=[],fe=0;fe<se.length&&!((ne-=2)<0);++fe)ie=se.charCodeAt(fe),ye=ie>>8,ve=ie%256,ee.push(ve),ee.push(ye);return ee}(P,A.length-W),A,W,Q)}function V(A,P,W){return P===0&&W===A.length?r.fromByteArray(A):r.fromByteArray(A.slice(P,W))}function j(A,P,W){W=Math.min(A.length,W);for(var Q=[],se=P;se<W;){var ne,ie,ye,ve,ee=A[se],fe=null,de=ee>239?4:ee>223?3:ee>191?2:1;if(se+de<=W)switch(de){case 1:ee<128&&(fe=ee);break;case 2:(192&(ne=A[se+1]))==128&&(ve=(31&ee)<<6|63&ne)>127&&(fe=ve);break;case 3:ne=A[se+1],ie=A[se+2],(192&ne)==128&&(192&ie)==128&&(ve=(15&ee)<<12|(63&ne)<<6|63&ie)>2047&&(ve<55296||ve>57343)&&(fe=ve);break;case 4:ne=A[se+1],ie=A[se+2],ye=A[se+3],(192&ne)==128&&(192&ie)==128&&(192&ye)==128&&(ve=(15&ee)<<18|(63&ne)<<12|(63&ie)<<6|63&ye)>65535&&ve<1114112&&(fe=ve)}fe===null?(fe=65533,de=1):fe>65535&&(fe-=65536,Q.push(fe>>>10&1023|55296),fe=56320|1023&fe),Q.push(fe),se+=de}return function(he){var Ce=he.length;if(Ce<=4096)return String.fromCharCode.apply(String,he);for(var _e="",xe=0;xe<Ce;)_e+=String.fromCharCode.apply(String,he.slice(xe,xe+=4096));return _e}(Q)}n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(A,P,W){return l(A,P,W)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(A,P,W){return function(Q,se,ne){return d(Q),Q<=0?s(Q):se!==void 0?typeof ne=="string"?s(Q).fill(se,ne):s(Q).fill(se):s(Q)}(A,P,W)},a.allocUnsafe=function(A){return c(A)},a.allocUnsafeSlow=function(A){return c(A)},a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,P){if(B(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),B(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),!a.isBuffer(A)||!a.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===P)return 0;for(var W=A.length,Q=P.length,se=0,ne=Math.min(W,Q);se<ne;++se)if(A[se]!==P[se]){W=A[se],Q=P[se];break}return W<Q?-1:Q<W?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,P){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);var W;if(P===void 0)for(P=0,W=0;W<A.length;++W)P+=A[W].length;var Q=a.allocUnsafe(P),se=0;for(W=0;W<A.length;++W){var ne=A[W];if(B(ne,Uint8Array)&&(ne=a.from(ne)),!a.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(Q,se),se+=ne.length}return Q},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<A;P+=2)m(this,P,P+1);return this},a.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<A;P+=4)m(this,P,P+3),m(this,P+1,P+2);return this},a.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<A;P+=8)m(this,P,P+7),m(this,P+1,P+6),m(this,P+2,P+5),m(this,P+3,P+4);return this},a.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?j(this,0,A):f.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||a.compare(this,A)===0},a.prototype.inspect=function(){var A="",P=n.INSPECT_MAX_BYTES;return A=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(A+=" ... "),"<Buffer "+A+">"},a.prototype.compare=function(A,P,W,Q,se){if(B(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(P===void 0&&(P=0),W===void 0&&(W=A?A.length:0),Q===void 0&&(Q=0),se===void 0&&(se=this.length),P<0||W>A.length||Q<0||se>this.length)throw new RangeError("out of range index");if(Q>=se&&P>=W)return 0;if(Q>=se)return-1;if(P>=W)return 1;if(this===A)return 0;for(var ne=(se>>>=0)-(Q>>>=0),ie=(W>>>=0)-(P>>>=0),ye=Math.min(ne,ie),ve=this.slice(Q,se),ee=A.slice(P,W),fe=0;fe<ye;++fe)if(ve[fe]!==ee[fe]){ne=ve[fe],ie=ee[fe];break}return ne<ie?-1:ie<ne?1:0},a.prototype.includes=function(A,P,W){return this.indexOf(A,P,W)!==-1},a.prototype.indexOf=function(A,P,W){return g(this,A,P,W,!0)},a.prototype.lastIndexOf=function(A,P,W){return g(this,A,P,W,!1)},a.prototype.write=function(A,P,W,Q){if(P===void 0)Q="utf8",W=this.length,P=0;else if(W===void 0&&typeof P=="string")Q=P,W=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(W)?(W>>>=0,Q===void 0&&(Q="utf8")):(Q=W,W=void 0)}var se=this.length-P;if((W===void 0||W>se)&&(W=se),A.length>0&&(W<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var ne=!1;;)switch(Q){case"hex":return w(this,A,P,W);case"utf8":case"utf-8":return E(this,A,P,W);case"ascii":return T(this,A,P,W);case"latin1":case"binary":return F(this,A,P,W);case"base64":return k(this,A,P,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,A,P,W);default:if(ne)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),ne=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(A,P,W){var Q="";W=Math.min(A.length,W);for(var se=P;se<W;++se)Q+=String.fromCharCode(127&A[se]);return Q}function R(A,P,W){var Q="";W=Math.min(A.length,W);for(var se=P;se<W;++se)Q+=String.fromCharCode(A[se]);return Q}function I(A,P,W){var Q=A.length;(!P||P<0)&&(P=0),(!W||W<0||W>Q)&&(W=Q);for(var se="",ne=P;ne<W;++ne)se+=O(A[ne]);return se}function N(A,P,W){for(var Q=A.slice(P,W),se="",ne=0;ne<Q.length;ne+=2)se+=String.fromCharCode(Q[ne]+256*Q[ne+1]);return se}function b(A,P,W){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+P>W)throw new RangeError("Trying to access beyond buffer length")}function C(A,P,W,Q,se,ne){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>se||P<ne)throw new RangeError('"value" argument is out of bounds');if(W+Q>A.length)throw new RangeError("Index out of range")}function x(A,P,W,Q,se,ne){if(W+Q>A.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function _(A,P,W,Q,se){return P=+P,W>>>=0,se||x(A,0,W,4),o.write(A,P,W,Q,23,4),W+4}function D(A,P,W,Q,se){return P=+P,W>>>=0,se||x(A,0,W,8),o.write(A,P,W,Q,52,8),W+8}a.prototype.slice=function(A,P){var W=this.length;(A=~~A)<0?(A+=W)<0&&(A=0):A>W&&(A=W),(P=P===void 0?W:~~P)<0?(P+=W)<0&&(P=0):P>W&&(P=W),P<A&&(P=A);var Q=this.subarray(A,P);return Q.__proto__=a.prototype,Q},a.prototype.readUIntLE=function(A,P,W){A>>>=0,P>>>=0,W||b(A,P,this.length);for(var Q=this[A],se=1,ne=0;++ne<P&&(se*=256);)Q+=this[A+ne]*se;return Q},a.prototype.readUIntBE=function(A,P,W){A>>>=0,P>>>=0,W||b(A,P,this.length);for(var Q=this[A+--P],se=1;P>0&&(se*=256);)Q+=this[A+--P]*se;return Q},a.prototype.readUInt8=function(A,P){return A>>>=0,P||b(A,1,this.length),this[A]},a.prototype.readUInt16LE=function(A,P){return A>>>=0,P||b(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUInt16BE=function(A,P){return A>>>=0,P||b(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUInt32LE=function(A,P){return A>>>=0,P||b(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},a.prototype.readUInt32BE=function(A,P){return A>>>=0,P||b(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readIntLE=function(A,P,W){A>>>=0,P>>>=0,W||b(A,P,this.length);for(var Q=this[A],se=1,ne=0;++ne<P&&(se*=256);)Q+=this[A+ne]*se;return Q>=(se*=128)&&(Q-=Math.pow(2,8*P)),Q},a.prototype.readIntBE=function(A,P,W){A>>>=0,P>>>=0,W||b(A,P,this.length);for(var Q=P,se=1,ne=this[A+--Q];Q>0&&(se*=256);)ne+=this[A+--Q]*se;return ne>=(se*=128)&&(ne-=Math.pow(2,8*P)),ne},a.prototype.readInt8=function(A,P){return A>>>=0,P||b(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},a.prototype.readInt16LE=function(A,P){A>>>=0,P||b(A,2,this.length);var W=this[A]|this[A+1]<<8;return 32768&W?4294901760|W:W},a.prototype.readInt16BE=function(A,P){A>>>=0,P||b(A,2,this.length);var W=this[A+1]|this[A]<<8;return 32768&W?4294901760|W:W},a.prototype.readInt32LE=function(A,P){return A>>>=0,P||b(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,P){return A>>>=0,P||b(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readFloatLE=function(A,P){return A>>>=0,P||b(A,4,this.length),o.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,P){return A>>>=0,P||b(A,4,this.length),o.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,P){return A>>>=0,P||b(A,8,this.length),o.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,P){return A>>>=0,P||b(A,8,this.length),o.read(this,A,!1,52,8)},a.prototype.writeUIntLE=function(A,P,W,Q){A=+A,P>>>=0,W>>>=0,Q||C(this,A,P,W,Math.pow(2,8*W)-1,0);var se=1,ne=0;for(this[P]=255&A;++ne<W&&(se*=256);)this[P+ne]=A/se&255;return P+W},a.prototype.writeUIntBE=function(A,P,W,Q){A=+A,P>>>=0,W>>>=0,Q||C(this,A,P,W,Math.pow(2,8*W)-1,0);var se=W-1,ne=1;for(this[P+se]=255&A;--se>=0&&(ne*=256);)this[P+se]=A/ne&255;return P+W},a.prototype.writeUInt8=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,1,255,0),this[P]=255&A,P+1},a.prototype.writeUInt16LE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,2,65535,0),this[P]=255&A,this[P+1]=A>>>8,P+2},a.prototype.writeUInt16BE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,2,65535,0),this[P]=A>>>8,this[P+1]=255&A,P+2},a.prototype.writeUInt32LE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,4,4294967295,0),this[P+3]=A>>>24,this[P+2]=A>>>16,this[P+1]=A>>>8,this[P]=255&A,P+4},a.prototype.writeUInt32BE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,4,4294967295,0),this[P]=A>>>24,this[P+1]=A>>>16,this[P+2]=A>>>8,this[P+3]=255&A,P+4},a.prototype.writeIntLE=function(A,P,W,Q){if(A=+A,P>>>=0,!Q){var se=Math.pow(2,8*W-1);C(this,A,P,W,se-1,-se)}var ne=0,ie=1,ye=0;for(this[P]=255&A;++ne<W&&(ie*=256);)A<0&&ye===0&&this[P+ne-1]!==0&&(ye=1),this[P+ne]=(A/ie>>0)-ye&255;return P+W},a.prototype.writeIntBE=function(A,P,W,Q){if(A=+A,P>>>=0,!Q){var se=Math.pow(2,8*W-1);C(this,A,P,W,se-1,-se)}var ne=W-1,ie=1,ye=0;for(this[P+ne]=255&A;--ne>=0&&(ie*=256);)A<0&&ye===0&&this[P+ne+1]!==0&&(ye=1),this[P+ne]=(A/ie>>0)-ye&255;return P+W},a.prototype.writeInt8=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,1,127,-128),A<0&&(A=255+A+1),this[P]=255&A,P+1},a.prototype.writeInt16LE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,2,32767,-32768),this[P]=255&A,this[P+1]=A>>>8,P+2},a.prototype.writeInt16BE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,2,32767,-32768),this[P]=A>>>8,this[P+1]=255&A,P+2},a.prototype.writeInt32LE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,4,2147483647,-2147483648),this[P]=255&A,this[P+1]=A>>>8,this[P+2]=A>>>16,this[P+3]=A>>>24,P+4},a.prototype.writeInt32BE=function(A,P,W){return A=+A,P>>>=0,W||C(this,A,P,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[P]=A>>>24,this[P+1]=A>>>16,this[P+2]=A>>>8,this[P+3]=255&A,P+4},a.prototype.writeFloatLE=function(A,P,W){return _(this,A,P,!0,W)},a.prototype.writeFloatBE=function(A,P,W){return _(this,A,P,!1,W)},a.prototype.writeDoubleLE=function(A,P,W){return D(this,A,P,!0,W)},a.prototype.writeDoubleBE=function(A,P,W){return D(this,A,P,!1,W)},a.prototype.copy=function(A,P,W,Q){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(W||(W=0),Q||Q===0||(Q=this.length),P>=A.length&&(P=A.length),P||(P=0),Q>0&&Q<W&&(Q=W),Q===W||A.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),A.length-P<Q-W&&(Q=A.length-P+W);var se=Q-W;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(P,W,Q);else if(this===A&&W<P&&P<Q)for(var ne=se-1;ne>=0;--ne)A[ne+P]=this[ne+W];else Uint8Array.prototype.set.call(A,this.subarray(W,Q),P);return se},a.prototype.fill=function(A,P,W,Q){if(typeof A=="string"){if(typeof P=="string"?(Q=P,P=0,W=this.length):typeof W=="string"&&(Q=W,W=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!a.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(A.length===1){var se=A.charCodeAt(0);(Q==="utf8"&&se<128||Q==="latin1")&&(A=se)}}else typeof A=="number"&&(A&=255);if(P<0||this.length<P||this.length<W)throw new RangeError("Out of range index");if(W<=P)return this;var ne;if(P>>>=0,W=W===void 0?this.length:W>>>0,A||(A=0),typeof A=="number")for(ne=P;ne<W;++ne)this[ne]=A;else{var ie=a.isBuffer(A)?A:a.from(A,Q),ye=ie.length;if(ye===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ne=0;ne<W-P;++ne)this[ne+P]=ie[ne%ye]}return this};var M=/[^+/0-9A-Za-z-_]/g;function O(A){return A<16?"0"+A.toString(16):A.toString(16)}function U(A,P){var W;P=P||1/0;for(var Q=A.length,se=null,ne=[],ie=0;ie<Q;++ie){if((W=A.charCodeAt(ie))>55295&&W<57344){if(!se){if(W>56319){(P-=3)>-1&&ne.push(239,191,189);continue}if(ie+1===Q){(P-=3)>-1&&ne.push(239,191,189);continue}se=W;continue}if(W<56320){(P-=3)>-1&&ne.push(239,191,189),se=W;continue}W=65536+(se-55296<<10|W-56320)}else se&&(P-=3)>-1&&ne.push(239,191,189);if(se=null,W<128){if((P-=1)<0)break;ne.push(W)}else if(W<2048){if((P-=2)<0)break;ne.push(W>>6|192,63&W|128)}else if(W<65536){if((P-=3)<0)break;ne.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((P-=4)<0)break;ne.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return ne}function G(A){return r.toByteArray(function(P){if((P=(P=P.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(A))}function Y(A,P,W,Q){for(var se=0;se<Q&&!(se+W>=P.length||se>=A.length);++se)P[se+W]=A[se];return se}function B(A,P){return A instanceof P||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===P.name}function K(A){return A!=A}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(a){r.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,r),s.prototype.update=function(a,l,d){typeof a=="string"&&(a=i.from(a,l));var c=this._update(a);return this.hashMode?this:(d&&(c=this._toString(c,d)),c)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(a,l,d){var c;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(u){c=u}finally{d(c)}},s.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(d){l=d}a(l)},s.prototype._finalOrDigest=function(a){var l=this.__final()||i.alloc(0);return a&&(l=this._toString(l,a,!0)),l},s.prototype._toString=function(a,l,d){if(this._decoder||(this._decoder=new o(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var c=this._decoder.write(a);return d&&(c+=this._decoder.end()),c},t.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,t,n){"use strict";var i=e("../internals/is-callable"),r=e("../internals/try-to-string"),o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(r(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,t,n){"use strict";var i=e("../internals/is-constructor"),r=e("../internals/try-to-string"),o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(r(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,t,n){"use strict";var i=e("../internals/is-callable"),r=String,o=TypeError;t.exports=function(s){if(typeof s=="object"||i(s))return s;throw new o("Can't set "+r(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,t,n){"use strict";var i=e("../internals/well-known-symbol"),r=e("../internals/object-create"),o=e("../internals/object-define-property").f,s=i("unscopables"),a=Array.prototype;a[s]===void 0&&o(a,s,{configurable:!0,value:r(null)}),t.exports=function(l){a[s][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,t,n){"use strict";var i=e("../internals/object-is-prototype-of"),r=TypeError;t.exports=function(o,s){if(i(s,o))return o;throw new r("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,t,n){"use strict";var i=e("../internals/is-object"),r=String,o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(r(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,t,n){"use strict";var i=e("../internals/to-indexed-object"),r=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),s=function(a){return function(l,d,c){var u,h=i(l),p=o(h),f=r(c,p);if(a&&d!=d){for(;p>f;)if((u=h[f++])!=u)return!0}else for(;p>f;f++)if((a||f in h)&&h[f]===d)return a||f||0;return!a&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,t,n){"use strict";var i=e("../internals/function-bind-context"),r=e("../internals/function-uncurry-this"),o=e("../internals/indexed-object"),s=e("../internals/to-object"),a=e("../internals/length-of-array-like"),l=e("../internals/array-species-create"),d=r([].push),c=function(u){var h=u===1,p=u===2,f=u===3,m=u===4,g=u===6,v=u===7,w=u===5||g;return function(E,T,F,k){for(var L,V,j=s(E),z=o(j),R=i(T,F),I=a(z),N=0,b=k||l,C=h?b(E,I):p||v?b(E,0):void 0;I>N;N++)if((w||N in z)&&(V=R(L=z[N],N,j),u))if(h)C[N]=V;else if(V)switch(u){case 3:return!0;case 5:return L;case 6:return N;case 2:d(C,L)}else switch(u){case 4:return!1;case 7:d(C,L)}return g?-1:f||m?m:C}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,t,n){"use strict";var i=e("../internals/to-absolute-index"),r=e("../internals/length-of-array-like"),o=e("../internals/create-property"),s=Array,a=Math.max;t.exports=function(l,d,c){for(var u=r(l),h=i(d,u),p=i(c===void 0?u:c,u),f=s(a(p-h,0)),m=0;h<p;h++,m++)o(f,m,l[h]);return f.length=m,f}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this");t.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,t,n){"use strict";var i=e("../internals/is-array"),r=e("../internals/is-constructor"),o=e("../internals/is-object"),s=e("../internals/well-known-symbol")("species"),a=Array;t.exports=function(l){var d;return i(l)&&(d=l.constructor,(r(d)&&(d===a||i(d.prototype))||o(d)&&(d=d[s])===null)&&(d=void 0)),d===void 0?a:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,t,n){"use strict";var i=e("../internals/array-species-constructor");t.exports=function(r,o){return new(i(r))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(e,t,n){"use strict";var i=e("../internals/well-known-symbol")("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch{}t.exports=function(a,l){try{if(!l&&!r)return!1}catch{return!1}var d=!1;try{var c={};c[i]=function(){return{next:function(){return{done:d=!0}}}},a(c)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=i({}.toString),o=i("".slice);t.exports=function(s){return o(r(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,t,n){"use strict";var i=e("../internals/to-string-tag-support"),r=e("../internals/is-callable"),o=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),a=Object,l=o(function(){return arguments}())==="Arguments";t.exports=i?o:function(d){var c,u,h;return d===void 0?"Undefined":d===null?"Null":typeof(u=function(p,f){try{return p[f]}catch{}}(c=a(d),s))=="string"?u:l?o(c):(h=o(c))==="Object"&&r(c.callee)?"Arguments":h}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,t,n){"use strict";var i=e("../internals/has-own-property"),r=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");t.exports=function(a,l,d){for(var c=r(l),u=s.f,h=o.f,p=0;p<c.length;p++){var f=c[p];i(a,f)||d&&i(d,f)||u(a,f,h(l,f))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,t,n){"use strict";var i=e("../internals/well-known-symbol")("match");t.exports=function(r){var o=/./;try{"/./"[r](o)}catch{try{return o[i]=!1,"/./"[r](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,t,n){"use strict";var i=e("../internals/fails");t.exports=!i(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},{"../internals/fails":260}],240:[function(e,t,n){"use strict";t.exports=function(i,r){return{value:i,done:r}}},{}],241:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=i?function(s,a,l){return r.f(s,a,o(1,l))}:function(s,a,l){return s[a]=l,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,t,n){"use strict";t.exports=function(i,r){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:r}}},{}],243:[function(e,t,n){"use strict";var i=e("../internals/to-property-key"),r=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(s,a,l){var d=i(a);d in s?r.f(s,d,o(0,l)):s[d]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,t,n){"use strict";var i=e("../internals/make-built-in"),r=e("../internals/object-define-property");t.exports=function(o,s,a){return a.get&&i(a.get,s,{getter:!0}),a.set&&i(a.set,s,{setter:!0}),r.f(o,s,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,t,n){"use strict";var i=e("../internals/is-callable"),r=e("../internals/object-define-property"),o=e("../internals/make-built-in"),s=e("../internals/define-global-property");t.exports=function(a,l,d,c){c||(c={});var u=c.enumerable,h=c.name!==void 0?c.name:l;if(i(d)&&o(d,h,c),c.global)u?a[l]=d:s(l,d);else{try{c.unsafe?a[l]&&(u=!0):delete a[l]}catch{}u?a[l]=d:r.f(a,l,{value:d,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,t,n){"use strict";var i=e("../internals/global"),r=Object.defineProperty;t.exports=function(o,s){try{r(i,o,{value:s,configurable:!0,writable:!0})}catch{i[o]=s}return s}},{"../internals/global":274}],247:[function(e,t,n){"use strict";var i=e("../internals/fails");t.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,t,n){"use strict";var i=typeof document=="object"&&document.all,r=i===void 0&&i!==void 0;t.exports={all:i,IS_HTMLDDA:r}},{}],249:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/is-object"),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(a){return s?o.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,t,n){"use strict";var i=e("../internals/engine-is-deno"),r=e("../internals/engine-is-node");t.exports=!i&&!r&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,t,n){"use strict";t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,t,n){"use strict";var i=e("../internals/engine-user-agent");t.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,t,n){"use strict";var i=e("../internals/engine-user-agent");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/classof-raw");t.exports=r(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,t,n){"use strict";var i=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,t,n){"use strict";t.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,t,n){"use strict";var i,r,o=e("../internals/global"),s=e("../internals/engine-user-agent"),a=o.process,l=o.Deno,d=a&&a.versions||l&&l.version,c=d&&d.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,t,n){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),a=e("../internals/define-global-property"),l=e("../internals/copy-constructor-properties"),d=e("../internals/is-forced");t.exports=function(c,u){var h,p,f,m,g,v=c.target,w=c.global,E=c.stat;if(h=w?i:E?i[v]||a(v,{}):(i[v]||{}).prototype)for(p in u){if(m=u[p],f=c.dontCallGetSet?(g=r(h,p))&&g.value:h[p],!d(w?p:v+(E?".":"#")+p,c.forced)&&f!==void 0){if(typeof m==typeof f)continue;l(m,f)}(c.sham||f&&f.sham)&&o(m,"sham",!0),s(h,p,m,c)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,t,n){"use strict";t.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,t,n){"use strict";var i=e("../internals/function-bind-native"),r=Function.prototype,o=r.apply,s=r.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this-clause"),r=e("../internals/a-callable"),o=e("../internals/function-bind-native"),s=i(i.bind);t.exports=function(a,l){return r(a),l===void 0?a:o?s(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,t,n){"use strict";var i=e("../internals/fails");t.exports=!i(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,t,n){"use strict";var i=e("../internals/function-bind-native"),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/has-own-property"),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&function(){}.name==="something",d=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/a-callable");t.exports=function(o,s,a){try{return i(r(Object.getOwnPropertyDescriptor(o,s)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,t,n){"use strict";var i=e("../internals/classof-raw"),r=e("../internals/function-uncurry-this");t.exports=function(o){if(i(o)==="Function")return r(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,t,n){"use strict";var i=e("../internals/function-bind-native"),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(a){return function(){return o.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/is-callable"),o=function(s){return r(s)?s:void 0};t.exports=function(s,a){return arguments.length<2?o(i[s]):i[s]&&i[s][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,t,n){"use strict";var i=e("../internals/classof"),r=e("../internals/get-method"),o=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");t.exports=function(l){if(!o(l))return r(l,a)||r(l,"@@iterator")||s[i(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/a-callable"),o=e("../internals/an-object"),s=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),l=TypeError;t.exports=function(d,c){var u=arguments.length<2?a(d):c;if(r(u))return o(i(u,d));throw new l(s(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/is-array"),o=e("../internals/is-callable"),s=e("../internals/classof-raw"),a=e("../internals/to-string"),l=i([].push);t.exports=function(d){if(o(d))return d;if(r(d)){for(var c=d.length,u=[],h=0;h<c;h++){var p=d[h];typeof p=="string"?l(u,p):typeof p!="number"&&s(p)!=="Number"&&s(p)!=="String"||l(u,a(p))}var f=u.length,m=!0;return function(g,v){if(m)return m=!1,v;if(r(this))return v;for(var w=0;w<f;w++)if(u[w]===g)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,t,n){"use strict";var i=e("../internals/a-callable"),r=e("../internals/is-null-or-undefined");t.exports=function(o,s){var a=o[s];return r(a)?void 0:i(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,t,n){(function(i){(function(){"use strict";var r=function(o){return o&&o.Math===Math&&o};t.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/to-object"),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(s,a){return o(r(s),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,t,n){"use strict";t.exports={}},{}],277:[function(e,t,n){"use strict";t.exports=function(i,r){try{arguments.length===1?console.error(i):console.error(i,r)}catch{}}},{}],278:[function(e,t,n){"use strict";var i=e("../internals/get-built-in");t.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!i&&!r(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/fails"),o=e("../internals/classof-raw"),s=Object,a=i("".split);t.exports=r(function(){return!s("z").propertyIsEnumerable(0)})?function(l){return o(l)==="String"?a(l,""):s(l)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/is-callable"),o=e("../internals/shared-store"),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),t.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,t,n){"use strict";var i,r,o,s=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),l=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),c=e("../internals/has-own-property"),u=e("../internals/shared-store"),h=e("../internals/shared-key"),p=e("../internals/hidden-keys"),f=a.TypeError,m=a.WeakMap;if(s||u.state){var g=u.state||(u.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,i=function(w,E){if(g.has(w))throw new f("Object already initialized");return E.facade=w,g.set(w,E),E},r=function(w){return g.get(w)||{}},o=function(w){return g.has(w)}}else{var v=h("state");p[v]=!0,i=function(w,E){if(c(w,v))throw new f("Object already initialized");return E.facade=w,d(w,v,E),E},r=function(w){return c(w,v)?w[v]:{}},o=function(w){return c(w,v)}}t.exports={set:i,get:r,has:o,enforce:function(w){return o(w)?r(w):i(w,{})},getterFor:function(w){return function(E){var T;if(!l(E)||(T=r(E)).type!==w)throw new f("Incompatible receiver, "+w+" required");return T}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,t,n){"use strict";var i=e("../internals/well-known-symbol"),r=e("../internals/iterators"),o=i("iterator"),s=Array.prototype;t.exports=function(a){return a!==void 0&&(r.Array===a||s[o]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,t,n){"use strict";var i=e("../internals/classof-raw");t.exports=Array.isArray||function(r){return i(r)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,t,n){"use strict";var i=e("../internals/document-all"),r=i.all;t.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===r}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/fails"),o=e("../internals/is-callable"),s=e("../internals/classof"),a=e("../internals/get-built-in"),l=e("../internals/inspect-source"),d=function(){},c=[],u=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=i(h.exec),f=!h.test(d),m=function(v){if(!o(v))return!1;try{return u(d,c,v),!0}catch{return!1}},g=function(v){if(!o(v))return!1;switch(s(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,l(v))}catch{return!0}};g.sham=!0,t.exports=!u||r(function(){var v;return m(m.call)||!m(Object)||!m(function(){v=!0})||v})?g:m},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,t,n){"use strict";var i=e("../internals/fails"),r=e("../internals/is-callable"),o=/#|\.prototype\./,s=function(u,h){var p=l[a(u)];return p===c||p!==d&&(r(h)?i(h):!!h)},a=s.normalize=function(u){return String(u).replace(o,".").toLowerCase()},l=s.data={},d=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,t,n){"use strict";t.exports=function(i){return i==null}},{}],289:[function(e,t,n){"use strict";var i=e("../internals/is-callable"),r=e("../internals/document-all"),o=r.all;t.exports=r.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:i(s)||s===o}:function(s){return typeof s=="object"?s!==null:i(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,t,n){"use strict";t.exports=!1},{}],291:[function(e,t,n){"use strict";var i=e("../internals/is-object"),r=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");t.exports=function(s){var a;return i(s)&&((a=s[o])!==void 0?!!a:r(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,t,n){"use strict";var i=e("../internals/get-built-in"),r=e("../internals/is-callable"),o=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),a=Object;t.exports=s?function(l){return typeof l=="symbol"}:function(l){var d=i("Symbol");return r(d)&&o(d.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,t,n){"use strict";var i=e("../internals/function-bind-context"),r=e("../internals/function-call"),o=e("../internals/an-object"),s=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),l=e("../internals/length-of-array-like"),d=e("../internals/object-is-prototype-of"),c=e("../internals/get-iterator"),u=e("../internals/get-iterator-method"),h=e("../internals/iterator-close"),p=TypeError,f=function(g,v){this.stopped=g,this.result=v},m=f.prototype;t.exports=function(g,v,w){var E,T,F,k,L,V,j,z=w&&w.that,R=!(!w||!w.AS_ENTRIES),I=!(!w||!w.IS_RECORD),N=!(!w||!w.IS_ITERATOR),b=!(!w||!w.INTERRUPTED),C=i(v,z),x=function(D){return E&&h(E,"normal",D),new f(!0,D)},_=function(D){return R?(o(D),b?C(D[0],D[1],x):C(D[0],D[1])):b?C(D,x):C(D)};if(I)E=g.iterator;else if(N)E=g;else{if(!(T=u(g)))throw new p(s(g)+" is not iterable");if(a(T)){for(F=0,k=l(g);k>F;F++)if((L=_(g[F]))&&d(m,L))return L;return new f(!1)}E=c(g,T)}for(V=I?g.next:E.next;!(j=r(V,E)).done;){try{L=_(j.value)}catch(D){h(E,"throw",D)}if(typeof L=="object"&&L&&d(m,L))return L}return new f(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/an-object"),o=e("../internals/get-method");t.exports=function(s,a,l){var d,c;r(s);try{if(!(d=o(s,"return"))){if(a==="throw")throw l;return l}d=i(d,s)}catch(u){c=!0,d=u}if(a==="throw")throw l;if(c)throw d;return r(d),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,t,n){"use strict";var i=e("../internals/iterators-core").IteratorPrototype,r=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),l=function(){return this};t.exports=function(d,c,u,h){var p=c+" Iterator";return d.prototype=r(i,{next:o(+!h,u)}),s(d,p,!1,!0),a[p]=l,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-call"),o=e("../internals/is-pure"),s=e("../internals/function-name"),a=e("../internals/is-callable"),l=e("../internals/iterator-create-constructor"),d=e("../internals/object-get-prototype-of"),c=e("../internals/object-set-prototype-of"),u=e("../internals/set-to-string-tag"),h=e("../internals/create-non-enumerable-property"),p=e("../internals/define-built-in"),f=e("../internals/well-known-symbol"),m=e("../internals/iterators"),g=e("../internals/iterators-core"),v=s.PROPER,w=s.CONFIGURABLE,E=g.IteratorPrototype,T=g.BUGGY_SAFARI_ITERATORS,F=f("iterator"),k=function(){return this};t.exports=function(L,V,j,z,R,I,N){l(j,V,z);var b,C,x,_=function(B){if(B===R&&G)return G;if(!T&&B&&B in O)return O[B];switch(B){case"keys":case"values":case"entries":return function(){return new j(this,B)}}return function(){return new j(this)}},D=V+" Iterator",M=!1,O=L.prototype,U=O[F]||O["@@iterator"]||R&&O[R],G=!T&&U||_(R),Y=V==="Array"&&O.entries||U;if(Y&&(b=d(Y.call(new L)))!==Object.prototype&&b.next&&(o||d(b)===E||(c?c(b,E):a(b[F])||p(b,F,k)),u(b,D,!0,!0),o&&(m[D]=k)),v&&R==="values"&&U&&U.name!=="values"&&(!o&&w?h(O,"name","values"):(M=!0,G=function(){return r(U,this)})),R)if(C={values:_("values"),keys:I?G:_("keys"),entries:_("entries")},N)for(x in C)(T||M||!(x in O))&&p(O,x,C[x]);else i({target:V,proto:!0,forced:T||M},C);return o&&!N||O[F]===G||p(O,F,G,{name:R}),m[V]=G,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,t,n){"use strict";var i,r,o,s=e("../internals/fails"),a=e("../internals/is-callable"),l=e("../internals/is-object"),d=e("../internals/object-create"),c=e("../internals/object-get-prototype-of"),u=e("../internals/define-built-in"),h=e("../internals/well-known-symbol"),p=e("../internals/is-pure"),f=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(r=c(c(o)))!==Object.prototype&&(i=r):m=!0),!l(i)||s(function(){var g={};return i[f].call(g)!==g})?i={}:p&&(i=d(i)),a(i[f])||u(i,f,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,t,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],299:[function(e,t,n){"use strict";var i=e("../internals/to-length");t.exports=function(r){return i(r.length)}},{"../internals/to-length":343}],300:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/fails"),o=e("../internals/is-callable"),s=e("../internals/has-own-property"),a=e("../internals/descriptors"),l=e("../internals/function-name").CONFIGURABLE,d=e("../internals/inspect-source"),c=e("../internals/internal-state"),u=c.enforce,h=c.get,p=String,f=Object.defineProperty,m=i("".slice),g=i("".replace),v=i([].join),w=a&&!r(function(){return f(function(){},"length",{value:8}).length!==8}),E=String(String).split("String"),T=t.exports=function(F,k,L){m(p(k),0,7)==="Symbol("&&(k="["+g(p(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),L&&L.getter&&(k="get "+k),L&&L.setter&&(k="set "+k),(!s(F,"name")||l&&F.name!==k)&&(a?f(F,"name",{value:k,configurable:!0}):F.name=k),w&&L&&s(L,"arity")&&F.length!==L.arity&&f(F,"length",{value:L.arity});try{L&&s(L,"constructor")&&L.constructor?a&&f(F,"prototype",{writable:!1}):F.prototype&&(F.prototype=void 0)}catch{}var V=u(F);return s(V,"source")||(V.source=v(E,typeof k=="string"?k:"")),F};Function.prototype.toString=T(function(){return o(this)&&h(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,t,n){"use strict";var i=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(o){var s=+o;return(s>0?r:i)(s)}},{}],302:[function(e,t,n){"use strict";var i,r,o,s,a,l=e("../internals/global"),d=e("../internals/function-bind-context"),c=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/task").set,h=e("../internals/queue"),p=e("../internals/engine-is-ios"),f=e("../internals/engine-is-ios-pebble"),m=e("../internals/engine-is-webos-webkit"),g=e("../internals/engine-is-node"),v=l.MutationObserver||l.WebKitMutationObserver,w=l.document,E=l.process,T=l.Promise,F=c(l,"queueMicrotask"),k=F&&F.value;if(!k){var L=new h,V=function(){var j,z;for(g&&(j=E.domain)&&j.exit();z=L.get();)try{z()}catch(R){throw L.head&&i(),R}j&&j.enter()};p||g||m||!v||!w?!f&&T&&T.resolve?((s=T.resolve(void 0)).constructor=T,a=d(s.then,s),i=function(){a(V)}):g?i=function(){E.nextTick(V)}:(u=d(u,l),i=function(){u(V)}):(r=!0,o=w.createTextNode(""),new v(V).observe(o,{characterData:!0}),i=function(){o.data=r=!r}),k=function(j){L.head||i(),L.add(j)}}t.exports=k},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,t,n){"use strict";var i=e("../internals/a-callable"),r=TypeError,o=function(s){var a,l;this.promise=new s(function(d,c){if(a!==void 0||l!==void 0)throw new r("Bad Promise constructor");a=d,l=c}),this.resolve=i(a),this.reject=i(l)};t.exports.f=function(s){return new o(s)}},{"../internals/a-callable":222}],304:[function(e,t,n){"use strict";var i=e("../internals/is-regexp"),r=TypeError;t.exports=function(o){if(i(o))throw new r("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/function-uncurry-this"),o=e("../internals/function-call"),s=e("../internals/fails"),a=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),c=e("../internals/to-object"),u=e("../internals/indexed-object"),h=Object.assign,p=Object.defineProperty,f=r([].concat);t.exports=!h||s(function(){if(i&&h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},g={},v=Symbol("assign detection");return m[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(w){g[w]=w}),h({},m)[v]!==7||a(h({},g)).join("")!=="abcdefghijklmnopqrst"})?function(m,g){for(var v=c(m),w=arguments.length,E=1,T=l.f,F=d.f;w>E;)for(var k,L=u(arguments[E++]),V=T?f(a(L),T(L)):a(L),j=V.length,z=0;j>z;)k=V[z++],i&&!o(F,L,k)||(v[k]=L[k]);return v}:h},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,t,n){"use strict";var i,r=e("../internals/an-object"),o=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),l=e("../internals/html"),d=e("../internals/document-create-element"),c=e("../internals/shared-key"),u=c("IE_PROTO"),h=function(){},p=function(g){return"<script>"+g+"<\/script>"},f=function(g){g.write(p("")),g.close();var v=g.parentWindow.Object;return g=null,v},m=function(){try{i=new ActiveXObject("htmlfile")}catch{}var g,v;m=typeof document<"u"?document.domain&&i?f(i):((v=d("iframe")).style.display="none",l.appendChild(v),v.src="javascript:",(g=v.contentWindow.document).open(),g.write(p("document.F=Object")),g.close(),g.F):f(i);for(var w=s.length;w--;)delete m.prototype[s[w]];return m()};a[u]=!0,t.exports=Object.create||function(g,v){var w;return g!==null?(h.prototype=r(g),w=new h,h.prototype=null,w[u]=g):w=m(),v===void 0?w:o.f(w,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/v8-prototype-define-bug"),o=e("../internals/object-define-property"),s=e("../internals/an-object"),a=e("../internals/to-indexed-object"),l=e("../internals/object-keys");n.f=i&&!r?Object.defineProperties:function(d,c){s(d);for(var u,h=a(c),p=l(c),f=p.length,m=0;f>m;)o.f(d,u=p[m++],h[u]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/ie8-dom-define"),o=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),a=e("../internals/to-property-key"),l=TypeError,d=Object.defineProperty,c=Object.getOwnPropertyDescriptor;n.f=i?o?function(u,h,p){if(s(u),h=a(h),s(p),typeof u=="function"&&h==="prototype"&&"value"in p&&"writable"in p&&!p.writable){var f=c(u,h);f&&f.writable&&(u[h]=p.value,p={configurable:"configurable"in p?p.configurable:f.configurable,enumerable:"enumerable"in p?p.enumerable:f.enumerable,writable:!1})}return d(u,h,p)}:d:function(u,h,p){if(s(u),h=a(h),s(p),r)try{return d(u,h,p)}catch{}if("get"in p||"set"in p)throw new l("Accessors not supported");return"value"in p&&(u[h]=p.value),u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/function-call"),o=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),l=e("../internals/to-property-key"),d=e("../internals/has-own-property"),c=e("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=i?u:function(h,p){if(h=a(h),p=l(p),c)try{return u(h,p)}catch{}if(d(h,p))return s(!r(o.f,h,p),h[p])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,t,n){"use strict";var i=e("../internals/classof-raw"),r=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(l){return a&&i(l)==="Window"?function(d){try{return o(d)}catch{return s(a)}}(l):o(r(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,t,n){"use strict";var i=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(o){return i(o,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,t,n){"use strict";n.f=Object.getOwnPropertySymbols},{}],313:[function(e,t,n){"use strict";var i=e("../internals/has-own-property"),r=e("../internals/is-callable"),o=e("../internals/to-object"),s=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),l=s("IE_PROTO"),d=Object,c=d.prototype;t.exports=a?d.getPrototypeOf:function(u){var h=o(u);if(i(h,l))return h[l];var p=h.constructor;return r(p)&&h instanceof p?p.prototype:h instanceof d?c:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this");t.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=e("../internals/has-own-property"),o=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),l=i([].push);t.exports=function(d,c){var u,h=o(d),p=0,f=[];for(u in h)!r(a,u)&&r(h,u)&&l(f,u);for(;c.length>p;)r(h,u=c[p++])&&(~s(f,u)||l(f,u));return f}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,t,n){"use strict";var i=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys");t.exports=Object.keys||function(o){return i(o,r)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);n.f=o?function(s){var a=r(this,s);return!!a&&a.enumerable}:i},{}],318:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this-accessor"),r=e("../internals/an-object"),o=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,l={};try{(s=i(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(d,c){return r(d),o(c),a?s(d,c):d.__proto__=c,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/fails"),o=e("../internals/function-uncurry-this"),s=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),l=e("../internals/to-indexed-object"),d=o(e("../internals/object-property-is-enumerable").f),c=o([].push),u=i&&r(function(){var p=Object.create(null);return p[2]=2,!d(p,2)}),h=function(p){return function(f){for(var m,g=l(f),v=a(g),w=u&&s(g)===null,E=v.length,T=0,F=[];E>T;)m=v[T++],i&&!(w?m in g:d(g,m))||c(F,p?[m,g[m]]:g[m]);return F}};t.exports={entries:h(!0),values:h(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/is-callable"),o=e("../internals/is-object"),s=TypeError;t.exports=function(a,l){var d,c;if(l==="string"&&r(d=a.toString)&&!o(c=i(d,a))||r(d=a.valueOf)&&!o(c=i(d,a))||l!=="string"&&r(d=a.toString)&&!o(c=i(d,a)))return c;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,t,n){"use strict";var i=e("../internals/get-built-in"),r=e("../internals/function-uncurry-this"),o=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(d){var c=o.f(a(d)),u=s.f;return u?l(c,u(d)):c}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,t,n){"use strict";var i=e("../internals/global");t.exports=i},{"../internals/global":274}],323:[function(e,t,n){"use strict";t.exports=function(i){try{return{error:!1,value:i()}}catch(r){return{error:!0,value:r}}}},{}],324:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/promise-native-constructor"),o=e("../internals/is-callable"),s=e("../internals/is-forced"),a=e("../internals/inspect-source"),l=e("../internals/well-known-symbol"),d=e("../internals/engine-is-browser"),c=e("../internals/engine-is-deno"),u=e("../internals/is-pure"),h=e("../internals/engine-v8-version"),p=r&&r.prototype,f=l("species"),m=!1,g=o(i.PromiseRejectionEvent),v=s("Promise",function(){var w=a(r),E=w!==String(r);if(!E&&h===66||u&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(w)){var T=new r(function(k){k(1)}),F=function(k){k(function(){},function(){})};if((T.constructor={})[f]=F,!(m=T.then(function(){})instanceof F))return!0}return!E&&(d||c)&&!g});t.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,t,n){"use strict";var i=e("../internals/global");t.exports=i.Promise},{"../internals/global":274}],326:[function(e,t,n){"use strict";var i=e("../internals/an-object"),r=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(s,a){if(i(s),r(a)&&a.constructor===s)return a;var l=o.f(s);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,t,n){"use strict";var i=e("../internals/promise-native-constructor"),r=e("../internals/check-correctness-of-iteration"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR;t.exports=o||!r(function(s){i.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,t,n){"use strict";var i=function(){this.head=null,this.tail=null};i.prototype={add:function(r){var o={item:r,next:null},s=this.tail;s?s.next=o:this.head=o,this.tail=o},get:function(){var r=this.head;if(r)return(this.head=r.next)===null&&(this.tail=null),r.item}},t.exports=i},{}],329:[function(e,t,n){"use strict";var i=e("../internals/is-null-or-undefined"),r=TypeError;t.exports=function(o){if(i(o))throw new r("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(e,t,n){"use strict";var i=e("../internals/get-built-in"),r=e("../internals/define-built-in-accessor"),o=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),a=o("species");t.exports=function(l){var d=i(l);s&&d&&!d[a]&&r(d,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,t,n){"use strict";var i=e("../internals/object-define-property").f,r=e("../internals/has-own-property"),o=e("../internals/well-known-symbol")("toStringTag");t.exports=function(s,a,l){s&&!l&&(s=s.prototype),s&&!r(s,o)&&i(s,o,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,t,n){"use strict";var i=e("../internals/shared"),r=e("../internals/uid"),o=i("keys");t.exports=function(s){return o[s]||(o[s]=r(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/define-global-property"),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,t,n){"use strict";var i=e("../internals/is-pure"),r=e("../internals/shared-store");(t.exports=function(o,s){return r[o]||(r[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,t,n){"use strict";var i=e("../internals/an-object"),r=e("../internals/a-constructor"),o=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol")("species");t.exports=function(a,l){var d,c=i(a).constructor;return c===void 0||o(d=i(c)[s])?l:r(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,t,n){"use strict";var i=e("../internals/engine-v8-version"),r=e("../internals/fails"),o=e("../internals/global").String;t.exports=!!Object.getOwnPropertySymbols&&!r(function(){var s=Symbol("symbol detection");return!o(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/get-built-in"),o=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");t.exports=function(){var a=r("Symbol"),l=a&&a.prototype,d=l&&l.valueOf,c=o("toPrimitive");l&&!l[c]&&s(l,c,function(u){return i(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,t,n){"use strict";var i=e("../internals/symbol-constructor-detection");t.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,t,n){"use strict";var i,r,o,s,a=e("../internals/global"),l=e("../internals/function-apply"),d=e("../internals/function-bind-context"),c=e("../internals/is-callable"),u=e("../internals/has-own-property"),h=e("../internals/fails"),p=e("../internals/html"),f=e("../internals/array-slice"),m=e("../internals/document-create-element"),g=e("../internals/validate-arguments-length"),v=e("../internals/engine-is-ios"),w=e("../internals/engine-is-node"),E=a.setImmediate,T=a.clearImmediate,F=a.process,k=a.Dispatch,L=a.Function,V=a.MessageChannel,j=a.String,z=0,R={};h(function(){i=a.location});var I=function(x){if(u(R,x)){var _=R[x];delete R[x],_()}},N=function(x){return function(){I(x)}},b=function(x){I(x.data)},C=function(x){a.postMessage(j(x),i.protocol+"//"+i.host)};E&&T||(E=function(x){g(arguments.length,1);var _=c(x)?x:L(x),D=f(arguments,1);return R[++z]=function(){l(_,void 0,D)},r(z),z},T=function(x){delete R[x]},w?r=function(x){F.nextTick(N(x))}:k&&k.now?r=function(x){k.now(N(x))}:V&&!v?(s=(o=new V).port2,o.port1.onmessage=b,r=d(s.postMessage,s)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&i&&i.protocol!=="file:"&&!h(C)?(r=C,a.addEventListener("message",b,!1)):r="onreadystatechange"in m("script")?function(x){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),I(x)}}:function(x){setTimeout(N(x),0)}),t.exports={set:E,clear:T}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,t,n){"use strict";var i=e("../internals/to-integer-or-infinity"),r=Math.max,o=Math.min;t.exports=function(s,a){var l=i(s);return l<0?r(l+a,0):o(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,t,n){"use strict";var i=e("../internals/indexed-object"),r=e("../internals/require-object-coercible");t.exports=function(o){return i(r(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,t,n){"use strict";var i=e("../internals/math-trunc");t.exports=function(r){var o=+r;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(e,t,n){"use strict";var i=e("../internals/to-integer-or-infinity"),r=Math.min;t.exports=function(o){return o>0?r(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,t,n){"use strict";var i=e("../internals/require-object-coercible"),r=Object;t.exports=function(o){return r(i(o))}},{"../internals/require-object-coercible":329}],345:[function(e,t,n){"use strict";var i=e("../internals/function-call"),r=e("../internals/is-object"),o=e("../internals/is-symbol"),s=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),l=e("../internals/well-known-symbol"),d=TypeError,c=l("toPrimitive");t.exports=function(u,h){if(!r(u)||o(u))return u;var p,f=s(u,c);if(f){if(h===void 0&&(h="default"),p=i(f,u,h),!r(p)||o(p))return p;throw new d("Can't convert object to primitive value")}return h===void 0&&(h="number"),a(u,h)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,t,n){"use strict";var i=e("../internals/to-primitive"),r=e("../internals/is-symbol");t.exports=function(o){var s=i(o,"string");return r(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,t,n){"use strict";var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,t,n){"use strict";var i=e("../internals/classof"),r=String;t.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r(o)}},{"../internals/classof":236}],349:[function(e,t,n){"use strict";var i=String;t.exports=function(r){try{return i(r)}catch{return"Object"}}},{}],350:[function(e,t,n){"use strict";var i=e("../internals/function-uncurry-this"),r=0,o=Math.random(),s=i(1 .toString);t.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++r+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,t,n){"use strict";var i=e("../internals/symbol-constructor-detection");t.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,t,n){"use strict";var i=e("../internals/descriptors"),r=e("../internals/fails");t.exports=i&&r(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,t,n){"use strict";var i=TypeError;t.exports=function(r,o){if(r<o)throw new i("Not enough arguments");return r}},{}],354:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/is-callable"),o=i.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,t,n){"use strict";var i=e("../internals/path"),r=e("../internals/has-own-property"),o=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;t.exports=function(a){var l=i.Symbol||(i.Symbol={});r(l,a)||s(l,a,{value:o.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,t,n){"use strict";var i=e("../internals/well-known-symbol");n.f=i},{"../internals/well-known-symbol":357}],357:[function(e,t,n){"use strict";var i=e("../internals/global"),r=e("../internals/shared"),o=e("../internals/has-own-property"),s=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/use-symbol-as-uid"),d=i.Symbol,c=r("wks"),u=l?d.for||d:d&&d.withoutSetter||s;t.exports=function(h){return o(c,h)||(c[h]=a&&o(d,h)?d[h]:u("Symbol."+h)),c[h]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{findIndex:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{find:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/array-includes").includes,o=e("../internals/fails"),s=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,t,n){"use strict";var i=e("../internals/to-indexed-object"),r=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),s=e("../internals/internal-state"),a=e("../internals/object-define-property").f,l=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),c=e("../internals/is-pure"),u=e("../internals/descriptors"),h=s.set,p=s.getterFor("Array Iterator");t.exports=l(Array,"Array",function(m,g){h(this,{type:"Array Iterator",target:i(m),index:0,kind:g})},function(){var m=p(this),g=m.target,v=m.kind,w=m.index++;if(!g||w>=g.length)return m.target=void 0,d(void 0,!0);switch(v){case"keys":return d(w,!1);case"values":return d(g[w],!1)}return d([w,g[w]],!1)},"values");var f=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&u&&f.name!=="values")try{a(f,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/get-built-in"),o=e("../internals/function-apply"),s=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),l=e("../internals/fails"),d=e("../internals/is-callable"),c=e("../internals/is-symbol"),u=e("../internals/array-slice"),h=e("../internals/get-json-replacer-function"),p=e("../internals/symbol-constructor-detection"),f=String,m=r("JSON","stringify"),g=a(/./.exec),v=a("".charAt),w=a("".charCodeAt),E=a("".replace),T=a(1 .toString),F=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,L=/^[\uDC00-\uDFFF]$/,V=!p||l(function(){var I=r("Symbol")("stringify detection");return m([I])!=="[null]"||m({a:I})!=="{}"||m(Object(I))!=="{}"}),j=l(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),z=function(I,N){var b=u(arguments),C=h(N);if(d(C)||I!==void 0&&!c(I))return b[1]=function(x,_){if(d(C)&&(_=s(C,this,f(x),_)),!c(_))return _},o(m,null,b)},R=function(I,N,b){var C=v(b,N-1),x=v(b,N+1);return g(k,I)&&!g(L,x)||g(L,I)&&!g(k,C)?"\\u"+T(w(I,0),16):I};m&&i({target:"JSON",stat:!0,arity:3,forced:V||j},{stringify:function(I,N,b){var C=u(arguments),x=o(V?z:m,null,C);return j&&typeof x=="string"?E(x,F,R):x}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,t,n){"use strict";e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/symbol-constructor-detection"),o=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");i({target:"Object",stat:!0,forced:!r||o(function(){s.f(1)})},{getOwnPropertySymbols:function(l){var d=s.f;return d?d(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/to-object"),o=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function(s){return o(r(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return r(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-call"),o=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(d){var c=this,u=s.f(c),h=u.resolve,p=u.reject,f=a(function(){var m=o(c.resolve),g=[],v=0,w=1;l(d,function(E){var T=v++,F=!1;w++,r(m,c,E).then(function(k){F||(F=!0,g[T]=k,--w||h(g))},p)}),--w||h(g)});return f.error&&p(f.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/is-pure"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,s=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),d=e("../internals/define-built-in"),c=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(h){return this.then(void 0,h)}}),!r&&l(s)){var u=a("Promise").prototype.catch;c.catch!==u&&d(c,"catch",u,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,t,n){"use strict";var i,r,o,s=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/engine-is-node"),d=e("../internals/global"),c=e("../internals/function-call"),u=e("../internals/define-built-in"),h=e("../internals/object-set-prototype-of"),p=e("../internals/set-to-string-tag"),f=e("../internals/set-species"),m=e("../internals/a-callable"),g=e("../internals/is-callable"),v=e("../internals/is-object"),w=e("../internals/an-instance"),E=e("../internals/species-constructor"),T=e("../internals/task").set,F=e("../internals/microtask"),k=e("../internals/host-report-errors"),L=e("../internals/perform"),V=e("../internals/queue"),j=e("../internals/internal-state"),z=e("../internals/promise-native-constructor"),R=e("../internals/promise-constructor-detection"),I=e("../internals/new-promise-capability"),N=R.CONSTRUCTOR,b=R.REJECTION_EVENT,C=R.SUBCLASSING,x=j.getterFor("Promise"),_=j.set,D=z&&z.prototype,M=z,O=D,U=d.TypeError,G=d.document,Y=d.process,B=I.f,K=B,A=!!(G&&G.createEvent&&d.dispatchEvent),P=function(de){var he;return!(!v(de)||!g(he=de.then))&&he},W=function(de,he){var Ce,_e,xe,ze=he.value,Ve=he.state===1,Ze=Ve?de.ok:de.fail,mt=de.resolve,Ue=de.reject,nt=de.domain;try{Ze?(Ve||(he.rejection===2&&ye(he),he.rejection=1),Ze===!0?Ce=ze:(nt&&nt.enter(),Ce=Ze(ze),nt&&(nt.exit(),xe=!0)),Ce===de.promise?Ue(new U("Promise-chain cycle")):(_e=P(Ce))?c(_e,Ce,mt,Ue):mt(Ce)):Ue(ze)}catch(on){nt&&!xe&&nt.exit(),Ue(on)}},Q=function(de,he){de.notified||(de.notified=!0,F(function(){for(var Ce,_e=de.reactions;Ce=_e.get();)W(Ce,de);de.notified=!1,he&&!de.rejection&&ne(de)}))},se=function(de,he,Ce){var _e,xe;A?((_e=G.createEvent("Event")).promise=he,_e.reason=Ce,_e.initEvent(de,!1,!0),d.dispatchEvent(_e)):_e={promise:he,reason:Ce},!b&&(xe=d["on"+de])?xe(_e):de==="unhandledrejection"&&k("Unhandled promise rejection",Ce)},ne=function(de){c(T,d,function(){var he,Ce=de.facade,_e=de.value;if(ie(de)&&(he=L(function(){l?Y.emit("unhandledRejection",_e,Ce):se("unhandledrejection",Ce,_e)}),de.rejection=l||ie(de)?2:1,he.error))throw he.value})},ie=function(de){return de.rejection!==1&&!de.parent},ye=function(de){c(T,d,function(){var he=de.facade;l?Y.emit("rejectionHandled",he):se("rejectionhandled",he,de.value)})},ve=function(de,he,Ce){return function(_e){de(he,_e,Ce)}},ee=function(de,he,Ce){de.done||(de.done=!0,Ce&&(de=Ce),de.value=he,de.state=2,Q(de,!0))},fe=function(de,he,Ce){if(!de.done){de.done=!0,Ce&&(de=Ce);try{if(de.facade===he)throw new U("Promise can't be resolved itself");var _e=P(he);_e?F(function(){var xe={done:!1};try{c(_e,he,ve(fe,xe,de),ve(ee,xe,de))}catch(ze){ee(xe,ze,de)}}):(de.value=he,de.state=1,Q(de,!1))}catch(xe){ee({done:!1},xe,de)}}};if(N&&(O=(M=function(de){w(this,O),m(de),c(i,this);var he=x(this);try{de(ve(fe,he),ve(ee,he))}catch(Ce){ee(he,Ce)}}).prototype,(i=function(de){_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=u(O,"then",function(de,he){var Ce=x(this),_e=B(E(this,M));return Ce.parent=!0,_e.ok=!g(de)||de,_e.fail=g(he)&&he,_e.domain=l?Y.domain:void 0,Ce.state===0?Ce.reactions.add(_e):F(function(){W(_e,Ce)}),_e.promise}),r=function(){var de=new i,he=x(de);this.promise=de,this.resolve=ve(fe,he),this.reject=ve(ee,he)},I.f=B=function(de){return de===M||de===void 0?new r(de):K(de)},!a&&g(z)&&D!==Object.prototype)){o=D.then,C||u(D,"then",function(de,he){var Ce=this;return new M(function(_e,xe){c(o,Ce,_e,xe)}).then(de,he)},{unsafe:!0});try{delete D.constructor}catch{}h&&h(D,O)}s({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:M}),p(M,"Promise",!1,!0),f("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),s=e("../internals/fails"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),d=e("../internals/species-constructor"),c=e("../internals/promise-resolve"),u=e("../internals/define-built-in"),h=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){h.finally.call({then:function(){}},function(){})})},{finally:function(f){var m=d(this,a("Promise")),g=l(f);return this.then(g?function(v){return c(m,f()).then(function(){return v})}:f,g?function(v){return c(m,f()).then(function(){throw v})}:f)}}),!r&&l(o)){var p=a("Promise").prototype.finally;h.finally!==p&&u(h,"finally",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,t,n){"use strict";e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-call"),o=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(d){var c=this,u=s.f(c),h=u.reject,p=a(function(){var f=o(c.resolve);l(d,function(m){r(f,c,m).then(u.resolve,h)})});return p.error&&h(p.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-call"),o=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var a=o.f(this);return r(a.reject,void 0,s),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/get-built-in"),o=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-resolve"),d=r("Promise"),c=o&&!a;i({target:"Promise",stat:!0,forced:o||a},{resolve:function(u){return l(c&&this===d?s:this,u)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),o=e("../internals/to-absolute-index"),s=RangeError,a=String.fromCharCode,l=String.fromCodePoint,d=r([].join);i({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(c){for(var u,h=[],p=arguments.length,f=0;p>f;){if(u=+arguments[f++],o(u,1114111)!==u)throw new s(u+" is not a valid code point");h[f]=u<65536?a(u):a(55296+((u-=65536)>>10),u%1024+56320)}return d(h,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/function-uncurry-this"),o=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),a=e("../internals/to-string"),l=e("../internals/correct-is-regexp-logic"),d=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(c){return!!~d(a(s(this)),a(o(c)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,t,n){"use strict";e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/global"),o=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),l=e("../internals/descriptors"),d=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),u=e("../internals/has-own-property"),h=e("../internals/object-is-prototype-of"),p=e("../internals/an-object"),f=e("../internals/to-indexed-object"),m=e("../internals/to-property-key"),g=e("../internals/to-string"),v=e("../internals/create-property-descriptor"),w=e("../internals/object-create"),E=e("../internals/object-keys"),T=e("../internals/object-get-own-property-names"),F=e("../internals/object-get-own-property-names-external"),k=e("../internals/object-get-own-property-symbols"),L=e("../internals/object-get-own-property-descriptor"),V=e("../internals/object-define-property"),j=e("../internals/object-define-properties"),z=e("../internals/object-property-is-enumerable"),R=e("../internals/define-built-in"),I=e("../internals/define-built-in-accessor"),N=e("../internals/shared"),b=e("../internals/shared-key"),C=e("../internals/hidden-keys"),x=e("../internals/uid"),_=e("../internals/well-known-symbol"),D=e("../internals/well-known-symbol-wrapped"),M=e("../internals/well-known-symbol-define"),O=e("../internals/symbol-define-to-primitive"),U=e("../internals/set-to-string-tag"),G=e("../internals/internal-state"),Y=e("../internals/array-iteration").forEach,B=b("hidden"),K=G.set,A=G.getterFor("Symbol"),P=Object.prototype,W=r.Symbol,Q=W&&W.prototype,se=r.RangeError,ne=r.TypeError,ie=r.QObject,ye=L.f,ve=V.f,ee=F.f,fe=z.f,de=s([].push),he=N("symbols"),Ce=N("op-symbols"),_e=N("wks"),xe=!ie||!ie.prototype||!ie.prototype.findChild,ze=function(be,ge,Ie){var ct=ye(P,ge);ct&&delete P[ge],ve(be,ge,Ie),ct&&be!==P&&ve(P,ge,ct)},Ve=l&&c(function(){return w(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a!==7})?ze:ve,Ze=function(be,ge){var Ie=he[be]=w(Q);return K(Ie,{type:"Symbol",tag:be,description:ge}),l||(Ie.description=ge),Ie},mt=function(be,ge,Ie){be===P&&mt(Ce,ge,Ie),p(be);var ct=m(ge);return p(Ie),u(he,ct)?(Ie.enumerable?(u(be,B)&&be[B][ct]&&(be[B][ct]=!1),Ie=w(Ie,{enumerable:v(0,!1)})):(u(be,B)||ve(be,B,v(1,{})),be[B][ct]=!0),Ve(be,ct,Ie)):ve(be,ct,Ie)},Ue=function(be,ge){p(be);var Ie=f(ge),ct=E(Ie).concat(Me(Ie));return Y(ct,function(tt){l&&!o(nt,Ie,tt)||mt(be,tt,Ie[tt])}),be},nt=function(be){var ge=m(be),Ie=o(fe,this,ge);return!(this===P&&u(he,ge)&&!u(Ce,ge))&&(!(Ie||!u(this,ge)||!u(he,ge)||u(this,B)&&this[B][ge])||Ie)},on=function(be,ge){var Ie=f(be),ct=m(ge);if(Ie!==P||!u(he,ct)||u(Ce,ct)){var tt=ye(Ie,ct);return!tt||!u(he,ct)||u(Ie,B)&&Ie[B][ct]||(tt.enumerable=!0),tt}},bt=function(be){var ge=ee(f(be)),Ie=[];return Y(ge,function(ct){u(he,ct)||u(C,ct)||de(Ie,ct)}),Ie},Me=function(be){var ge=be===P,Ie=ee(ge?Ce:f(be)),ct=[];return Y(Ie,function(tt){!u(he,tt)||ge&&!u(P,tt)||de(ct,he[tt])}),ct};d||(R(Q=(W=function(){if(h(Q,this))throw new ne("Symbol is not a constructor");var be=arguments.length&&arguments[0]!==void 0?g(arguments[0]):void 0,ge=x(be),Ie=function(ct){this===P&&o(Ie,Ce,ct),u(this,B)&&u(this[B],ge)&&(this[B][ge]=!1);var tt=v(1,ct);try{Ve(this,ge,tt)}catch(vt){if(!(vt instanceof se))throw vt;ze(this,ge,tt)}};return l&&xe&&Ve(P,ge,{configurable:!0,set:Ie}),Ze(ge,be)}).prototype,"toString",function(){return A(this).tag}),R(W,"withoutSetter",function(be){return Ze(x(be),be)}),z.f=nt,V.f=mt,j.f=Ue,L.f=on,T.f=F.f=bt,k.f=Me,D.f=function(be){return Ze(_(be),be)},l&&(I(Q,"description",{configurable:!0,get:function(){return A(this).description}}),a||R(P,"propertyIsEnumerable",nt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:W}),Y(E(_e),function(be){M(be)}),i({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){xe=!0},useSimple:function(){xe=!1}}),i({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(be,ge){return ge===void 0?w(be):Ue(w(be),ge)},defineProperty:mt,defineProperties:Ue,getOwnPropertyDescriptor:on}),i({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:bt}),O(),U(W,"Symbol"),C[B]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/get-built-in"),o=e("../internals/has-own-property"),s=e("../internals/to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),d=a("string-to-symbol-registry"),c=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(u){var h=s(u);if(o(d,h))return d[h];var p=r("Symbol")(h);return d[h]=p,c[p]=h,p}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,t,n){"use strict";e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,t,n){"use strict";var i=e("../internals/export"),r=e("../internals/has-own-property"),o=e("../internals/is-symbol"),s=e("../internals/try-to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),d=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(c){if(!o(c))throw new TypeError(s(c)+" is not a symbol");if(r(d,c))return d[c]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,t,n){"use strict";function i(r){return Object.prototype.toString.call(r)}n.isArray=function(r){return Array.isArray?Array.isArray(r):i(r)==="[object Array]"},n.isBoolean=function(r){return typeof r=="boolean"},n.isNull=function(r){return r===null},n.isNullOrUndefined=function(r){return r==null},n.isNumber=function(r){return typeof r=="number"},n.isString=function(r){return typeof r=="string"},n.isSymbol=function(r){return typeof r=="symbol"},n.isUndefined=function(r){return r===void 0},n.isRegExp=function(r){return i(r)==="[object RegExp]"},n.isObject=function(r){return typeof r=="object"&&r!==null},n.isDate=function(r){return i(r)==="[object Date]"},n.isError=function(r){return i(r)==="[object Error]"||r instanceof Error},n.isFunction=function(r){return typeof r=="function"},n.isPrimitive=function(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||r===void 0},n.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,t,n){(function(i){(function(){"use strict";var r=e("elliptic"),o=e("bn.js");t.exports=function(d){return new a(d)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(d){this.curveType=s[d],this.curveType||(this.curveType={name:d}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function l(d,c,u){Array.isArray(d)||(d=d.toArray());var h=new i(d);if(u&&h.length<u){var p=new i(u-h.length);p.fill(0),h=i.concat([p,h])}return c?h.toString(c):h}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(d,c){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,c)},a.prototype.computeSecret=function(d,c,u){return c=c||"utf8",i.isBuffer(d)||(d=new i(d,c)),l(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),u,this.curveType.byteLength)},a.prototype.getPublicKey=function(d,c){var u=this.keys.getPublic(c==="compressed",!0);return c==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),l(u,d)},a.prototype.getPrivateKey=function(d){return l(this.keys.getPrivate(),d)},a.prototype.setPublicKey=function(d,c){return c=c||"utf8",i.isBuffer(d)||(d=new i(d,c)),this.keys._importPublic(d),this},a.prototype.setPrivateKey=function(d,c){c=c||"utf8",i.isBuffer(d)||(d=new i(d,c));var u=new o(d);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],386:[function(e,t,n){"use strict";var i=e("inherits"),r=e("md5.js"),o=e("ripemd160"),s=e("sha.js"),a=e("cipher-base");function l(d){a.call(this,"digest"),this._hash=d}i(l,a),l.prototype._update=function(d){this._hash.update(d)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(d){return(d=d.toLowerCase())==="md5"?new r:d==="rmd160"||d==="ripemd160"?new o:new l(s(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,t,n){"use strict";var i=e("md5.js");t.exports=function(r){return new i().update(r).digest()}},{"md5.js":450}],388:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./legacy"),o=e("cipher-base"),s=e("safe-buffer").Buffer,a=e("create-hash/md5"),l=e("ripemd160"),d=e("sha.js"),c=s.alloc(128);function u(h,p){o.call(this,"digest"),typeof p=="string"&&(p=s.from(p));var f=h==="sha512"||h==="sha384"?128:64;this._alg=h,this._key=p,p.length>f?p=(h==="rmd160"?new l:d(h)).update(p).digest():p.length<f&&(p=s.concat([p,c],f));for(var m=this._ipad=s.allocUnsafe(f),g=this._opad=s.allocUnsafe(f),v=0;v<f;v++)m[v]=54^p[v],g[v]=92^p[v];this._hash=h==="rmd160"?new l:d(h),this._hash.update(m)}i(u,o),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){var h=this._hash.digest();return(this._alg==="rmd160"?new l:d(this._alg)).update(this._opad).update(h).digest()},t.exports=function(h,p){return(h=h.toLowerCase())==="rmd160"||h==="ripemd160"?new u("rmd160",p):h==="md5"?new r(a,p):new u(h,p)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,t,n){"use strict";var i=e("inherits"),r=e("safe-buffer").Buffer,o=e("cipher-base"),s=r.alloc(128);function a(l,d){o.call(this,"digest"),typeof d=="string"&&(d=r.from(d)),this._alg=l,this._key=d,d.length>64?d=l(d):d.length<64&&(d=r.concat([d,s],64));for(var c=this._ipad=r.allocUnsafe(64),u=this._opad=r.allocUnsafe(64),h=0;h<64;h++)c[h]=54^d[h],u[h]=92^d[h];this._hash=[c]}i(a,o),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,l]))},t.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,t,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=e("randombytes"),n.createHash=n.Hash=e("create-hash"),n.createHmac=n.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);n.getHashes=function(){return o};var s=e("pbkdf2");n.pbkdf2=s.pbkdf2,n.pbkdf2Sync=s.pbkdf2Sync;var a=e("browserify-cipher");n.Cipher=a.Cipher,n.createCipher=a.createCipher,n.Cipheriv=a.Cipheriv,n.createCipheriv=a.createCipheriv,n.Decipher=a.Decipher,n.createDecipher=a.createDecipher,n.Decipheriv=a.Decipheriv,n.createDecipheriv=a.createDecipheriv,n.getCiphers=a.getCiphers,n.listCiphers=a.listCiphers;var l=e("diffie-hellman");n.DiffieHellmanGroup=l.DiffieHellmanGroup,n.createDiffieHellmanGroup=l.createDiffieHellmanGroup,n.getDiffieHellman=l.getDiffieHellman,n.createDiffieHellman=l.createDiffieHellman,n.DiffieHellman=l.DiffieHellman;var d=e("browserify-sign");n.createSign=d.createSign,n.Sign=d.Sign,n.createVerify=d.createVerify,n.Verify=d.Verify,n.createECDH=e("create-ecdh");var c=e("public-encrypt");n.publicEncrypt=c.publicEncrypt,n.privateEncrypt=c.privateEncrypt,n.publicDecrypt=c.publicDecrypt,n.privateDecrypt=c.privateDecrypt;var u=e("randomfill");n.randomFill=u.randomFill,n.randomFillSync=u.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,t,n){"use strict";(function(i,r){typeof n=="object"&&t!==void 0?t.exports=r():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=r()})(void 0,function(){var i=6e4,r=36e5,o="millisecond",s="second",a="minute",l="hour",d="day",c="week",u="month",h="quarter",p="year",f="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var C=["th","st","nd","rd"],x=b%100;return"["+b+(C[(x-20)%10]||C[x]||C[0])+"]"}},E=function(b,C,x){var _=String(b);return!_||_.length>=C?b:""+Array(C+1-_.length).join(x)+b},T={s:E,z:function(b){var C=-b.utcOffset(),x=Math.abs(C),_=Math.floor(x/60),D=x%60;return(C<=0?"+":"-")+E(_,2,"0")+":"+E(D,2,"0")},m:function b(C,x){if(C.date()<x.date())return-b(x,C);var _=12*(x.year()-C.year())+(x.month()-C.month()),D=C.clone().add(_,u),M=x-D<0,O=C.clone().add(_+(M?-1:1),u);return+(-(_+(x-D)/(M?D-O:O-D))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:u,y:p,w:c,d,D:f,h:l,m:a,s,ms:o,Q:h}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},F="en",k={};k[F]=w;var L="$isDayjsObject",V=function(b){return b instanceof I||!(!b||!b[L])},j=function b(C,x,_){var D;if(!C)return F;if(typeof C=="string"){var M=C.toLowerCase();k[M]&&(D=M),x&&(k[M]=x,D=M);var O=C.split("-");if(!D&&O.length>1)return b(O[0])}else{var U=C.name;k[U]=C,D=U}return!_&&D&&(F=D),D||!_&&F},z=function(b,C){if(V(b))return b.clone();var x=typeof C=="object"?C:{};return x.date=b,x.args=arguments,new I(x)},R=T;R.l=j,R.i=V,R.w=function(b,C){return z(b,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var I=function(){function b(x){this.$L=j(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[L]=!0}var C=b.prototype;return C.parse=function(x){this.$d=function(_){var D=_.date,M=_.utc;if(D===null)return new Date(NaN);if(R.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var O=D.match(g);if(O){var U=O[2]-1||0,G=(O[7]||"0").substring(0,3);return M?new Date(Date.UTC(O[1],U,O[3]||1,O[4]||0,O[5]||0,O[6]||0,G)):new Date(O[1],U,O[3]||1,O[4]||0,O[5]||0,O[6]||0,G)}}return new Date(D)}(x),this.init()},C.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},C.$utils=function(){return R},C.isValid=function(){return this.$d.toString()!==m},C.isSame=function(x,_){var D=z(x);return this.startOf(_)<=D&&D<=this.endOf(_)},C.isAfter=function(x,_){return z(x)<this.startOf(_)},C.isBefore=function(x,_){return this.endOf(_)<z(x)},C.$g=function(x,_,D){return R.u(x)?this[_]:this.set(D,x)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(x,_){var D=this,M=!!R.u(_)||_,O=R.p(x),U=function(Q,se){var ne=R.w(D.$u?Date.UTC(D.$y,se,Q):new Date(D.$y,se,Q),D);return M?ne:ne.endOf(d)},G=function(Q,se){return R.w(D.toDate()[Q].apply(D.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(se)),D)},Y=this.$W,B=this.$M,K=this.$D,A="set"+(this.$u?"UTC":"");switch(O){case p:return M?U(1,0):U(31,11);case u:return M?U(1,B):U(0,B+1);case c:var P=this.$locale().weekStart||0,W=(Y<P?Y+7:Y)-P;return U(M?K-W:K+(6-W),B);case d:case f:return G(A+"Hours",0);case l:return G(A+"Minutes",1);case a:return G(A+"Seconds",2);case s:return G(A+"Milliseconds",3);default:return this.clone()}},C.endOf=function(x){return this.startOf(x,!1)},C.$set=function(x,_){var D,M=R.p(x),O="set"+(this.$u?"UTC":""),U=(D={},D[d]=O+"Date",D[f]=O+"Date",D[u]=O+"Month",D[p]=O+"FullYear",D[l]=O+"Hours",D[a]=O+"Minutes",D[s]=O+"Seconds",D[o]=O+"Milliseconds",D)[M],G=M===d?this.$D+(_-this.$W):_;if(M===u||M===p){var Y=this.clone().set(f,1);Y.$d[U](G),Y.init(),this.$d=Y.set(f,Math.min(this.$D,Y.daysInMonth())).$d}else U&&this.$d[U](G);return this.init(),this},C.set=function(x,_){return this.clone().$set(x,_)},C.get=function(x){return this[R.p(x)]()},C.add=function(x,_){var D,M=this;x=Number(x);var O=R.p(_),U=function(B){var K=z(M);return R.w(K.date(K.date()+Math.round(B*x)),M)};if(O===u)return this.set(u,this.$M+x);if(O===p)return this.set(p,this.$y+x);if(O===d)return U(1);if(O===c)return U(7);var G=(D={},D[a]=i,D[l]=r,D[s]=1e3,D)[O]||1,Y=this.$d.getTime()+x*G;return R.w(Y,this)},C.subtract=function(x,_){return this.add(-1*x,_)},C.format=function(x){var _=this,D=this.$locale();if(!this.isValid())return D.invalidDate||m;var M=x||"YYYY-MM-DDTHH:mm:ssZ",O=R.z(this),U=this.$H,G=this.$m,Y=this.$M,B=D.weekdays,K=D.months,A=D.meridiem,P=function(se,ne,ie,ye){return se&&(se[ne]||se(_,M))||ie[ne].slice(0,ye)},W=function(se){return R.s(U%12||12,se,"0")},Q=A||function(se,ne,ie){var ye=se<12?"AM":"PM";return ie?ye.toLowerCase():ye};return M.replace(v,function(se,ne){return ne||function(ie){switch(ie){case"YY":return String(_.$y).slice(-2);case"YYYY":return R.s(_.$y,4,"0");case"M":return Y+1;case"MM":return R.s(Y+1,2,"0");case"MMM":return P(D.monthsShort,Y,K,3);case"MMMM":return P(K,Y);case"D":return _.$D;case"DD":return R.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return P(D.weekdaysMin,_.$W,B,2);case"ddd":return P(D.weekdaysShort,_.$W,B,3);case"dddd":return B[_.$W];case"H":return String(U);case"HH":return R.s(U,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return Q(U,G,!0);case"A":return Q(U,G,!1);case"m":return String(G);case"mm":return R.s(G,2,"0");case"s":return String(_.$s);case"ss":return R.s(_.$s,2,"0");case"SSS":return R.s(_.$ms,3,"0");case"Z":return O}return null}(se)||O.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(x,_,D){var M,O=this,U=R.p(_),G=z(x),Y=(G.utcOffset()-this.utcOffset())*i,B=this-G,K=function(){return R.m(O,G)};switch(U){case p:M=K()/12;break;case u:M=K();break;case h:M=K()/3;break;case c:M=(B-Y)/6048e5;break;case d:M=(B-Y)/864e5;break;case l:M=B/r;break;case a:M=B/i;break;case s:M=B/1e3;break;default:M=B}return D?M:R.a(M)},C.daysInMonth=function(){return this.endOf(u).$D},C.$locale=function(){return k[this.$L]},C.locale=function(x,_){if(!x)return this.$L;var D=this.clone(),M=j(x,_,!0);return M&&(D.$L=M),D},C.clone=function(){return R.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},b}(),N=I.prototype;return z.prototype=N,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",d],["$M",u],["$y",p],["$D",f]].forEach(function(b){N[b[1]]=function(C){return this.$g(C,b[0],b[1])}}),z.extend=function(b,C){return b.$i||(b(C,I,z),b.$i=!0),z},z.locale=j,z.isDayjs=V,z.unix=function(b){return z(1e3*b)},z.en=k[F],z.Ls=k,z.p={},z})},{}],392:[function(e,t,n){"use strict";(function(i,r){typeof n=="object"&&t!==void 0?t.exports=r():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=r()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},d=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(v){this[g]=+v}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var w=v.match(/([+-]|\d\d)/g),E=60*w[1]+(+w[2]||0);return E===0?0:w[0]==="+"?-E:E}(g)}],h=function(g){var v=l[g];return v&&(v.indexOf?v:v.s.concat(v.f))},p=function(g,v){var w,E=l.meridiem;if(E){for(var T=1;T<=24;T+=1)if(g.indexOf(E(T,0,v))>-1){w=T>12;break}}else w=g===(v?"pm":"PM");return w},f={A:[a,function(g){this.afternoon=p(g,!1)}],a:[a,function(g){this.afternoon=p(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[o,c("day")],Do:[a,function(g){var v=l.ordinal,w=g.match(/\d+/);if(this.day=w[0],v)for(var E=1;E<=31;E+=1)v(E).replace(/\[|\]/g,"")===g&&(this.day=E)}],M:[s,c("month")],MM:[o,c("month")],MMM:[a,function(g){var v=h("months"),w=(h("monthsShort")||v.map(function(E){return E.slice(0,3)})).indexOf(g)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[a,function(g){var v=h("months").indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(g){this.year=d(g)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function m(g){var v,w;v=g,w=l&&l.formats;for(var E=(g=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(z,R,I){var N=I&&I.toUpperCase();return R||w[I]||i[I]||w[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,C,x){return C||x.slice(1)})})).match(r),T=E.length,F=0;F<T;F+=1){var k=E[F],L=f[k],V=L&&L[0],j=L&&L[1];E[F]=j?{regex:V,parser:j}:k.replace(/^\[|\]$/g,"")}return function(z){for(var R={},I=0,N=0;I<T;I+=1){var b=E[I];if(typeof b=="string")N+=b.length;else{var C=b.regex,x=b.parser,_=z.slice(N),D=C.exec(_)[0];x.call(R,D),z=z.replace(D,"")}}return function(M){var O=M.afternoon;if(O!==void 0){var U=M.hours;O?U<12&&(M.hours+=12):U===12&&(M.hours=0),delete M.afternoon}}(R),R}}return function(g,v,w){w.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(d=g.parseTwoDigitYear);var E=v.prototype,T=E.parse;E.parse=function(F){var k=F.date,L=F.utc,V=F.args;this.$u=L;var j=V[1];if(typeof j=="string"){var z=V[2]===!0,R=V[3]===!0,I=z||R,N=V[2];R&&(N=V[2]),l=this.$locale(),!z&&N&&(l=w.Ls[N]),this.$d=function(_,D,M){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*_);var O=m(D)(_),U=O.year,G=O.month,Y=O.day,B=O.hours,K=O.minutes,A=O.seconds,P=O.milliseconds,W=O.zone,Q=new Date,se=Y||(U||G?1:Q.getDate()),ne=U||Q.getFullYear(),ie=0;U&&!G||(ie=G>0?G-1:Q.getMonth());var ye=B||0,ve=K||0,ee=A||0,fe=P||0;return W?new Date(Date.UTC(ne,ie,se,ye,ve,ee,fe+60*W.offset*1e3)):M?new Date(Date.UTC(ne,ie,se,ye,ve,ee,fe)):new Date(ne,ie,se,ye,ve,ee,fe)}catch{return new Date("")}}(k,j,L),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),I&&k!=this.format(j)&&(this.$d=new Date("")),l={}}else if(j instanceof Array)for(var b=j.length,C=1;C<=b;C+=1){V[1]=j[C-1];var x=w.apply(this,V);if(x.isValid()){this.$d=x.$d,this.$L=x.$L,this.init();break}C===b&&(this.$d=new Date(""))}else T.call(this,F)}}})},{}],393:[function(e,t,n){"use strict";(function(i,r){typeof n=="object"&&t!==void 0?t.exports=r():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=r()})(void 0,function(){var i="minute",r=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(s,a,l){var d=a.prototype;l.utc=function(g){var v={date:g,utc:!0,args:arguments};return new a(v)},d.utc=function(g){var v=l(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),i):v},d.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=d.parse;d.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=d.init;d.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var h=d.utcOffset;d.utcOffset=function(g,v){var w=this.$utils().u;if(w(g))return this.$u?0:w(this.$offset)?h.call(this):this.$offset;if(typeof g=="string"&&(g=function(k){k===void 0&&(k="");var L=k.match(r);if(!L)return null;var V=(""+L[0]).match(o)||["-",0,0],j=V[0],z=60*+V[1]+ +V[2];return z===0?0:j==="+"?z:-z}(g))===null)return this;var E=Math.abs(g)<=16?60*g:g,T=this;if(v)return T.$offset=E,T.$u=g===0,T;if(g!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(E+F,i)).$offset=E,T.$x.$localOffset=F}else T=this.utc();return T};var p=d.format;d.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,v)},d.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var f=d.toDate;d.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var m=d.diff;d.diff=function(g,v,w){if(g&&this.$u===g.$u)return m.call(this,g,v,w);var E=this.local(),T=l(g).local();return m.call(E,T,v,w)}}})},{}],394:[function(e,t,n){"use strict";n.utils=e("./des/utils"),n.Cipher=e("./des/cipher"),n.DES=e("./des/des"),n.CBC=e("./des/cbc"),n.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits"),o={};function s(a){i.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}n.instantiate=function(a){function l(h){a.call(this,h),this._cbcInit()}r(l,a);for(var d=Object.keys(o),c=0;c<d.length;c++){var u=d[c];l.prototype[u]=o[u]}return l.create=function(h){return new l(h)},l},o._cbcInit=function(){var a=new s(this.options.iv);this._cbcState=a},o._update=function(a,l,d,c){var u=this._cbcState,h=this.constructor.super_.prototype,p=u.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)p[f]^=a[l+f];for(h._update.call(this,p,0,d,c),f=0;f<this.blockSize;f++)p[f]=d[c+f]}else{for(h._update.call(this,a,l,d,c),f=0;f<this.blockSize;f++)d[c+f]^=p[f];for(f=0;f<this.blockSize;f++)p[f]=a[l+f]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,t,n){"use strict";var i=e("minimalistic-assert");function r(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}t.exports=r,r.prototype._init=function(){},r.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},r.prototype._buffer=function(o,s){for(var a=Math.min(this.buffer.length-this.bufferOff,o.length-s),l=0;l<a;l++)this.buffer[this.bufferOff+l]=o[s+l];return this.bufferOff+=a,a},r.prototype._flushBuffer=function(o,s){return this._update(this.buffer,0,o,s),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(o){var s=0,a=0,l=(this.bufferOff+o.length)/this.blockSize|0,d=new Array(l*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(o,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(d,a)));for(var c=o.length-(o.length-s)%this.blockSize;s<c;s+=this.blockSize)this._update(o,s,d,a),a+=this.blockSize;for(;s<o.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=o[s];return d},r.prototype._updateDecrypt=function(o){for(var s=0,a=0,l=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,d=new Array(l*this.blockSize);l>0;l--)s+=this._buffer(o,s),a+=this._flushBuffer(d,a);return s+=this._buffer(o,s),d},r.prototype.final=function(o){var s,a;return o&&(s=this.update(o)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(a):a},r.prototype._pad=function(o,s){if(s===0)return!1;for(;s<o.length;)o[s++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},r.prototype._unpad=function(o){return o},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits"),o=e("./utils"),s=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(c){s.call(this,c);var u=new a;this._desState=u,this.deriveKeys(u,c.key)}r(l,s),t.exports=l,l.create=function(c){return new l(c)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(c,u){c.keys=new Array(32),i.equal(u.length,this.blockSize,"Invalid key length");var h=o.readUInt32BE(u,0),p=o.readUInt32BE(u,4);o.pc1(h,p,c.tmp,0),h=c.tmp[0],p=c.tmp[1];for(var f=0;f<c.keys.length;f+=2){var m=d[f>>>1];h=o.r28shl(h,m),p=o.r28shl(p,m),o.pc2(h,p,c.keys,f)}},l.prototype._update=function(c,u,h,p){var f=this._desState,m=o.readUInt32BE(c,u),g=o.readUInt32BE(c,u+4);o.ip(m,g,f.tmp,0),m=f.tmp[0],g=f.tmp[1],this.type==="encrypt"?this._encrypt(f,m,g,f.tmp,0):this._decrypt(f,m,g,f.tmp,0),m=f.tmp[0],g=f.tmp[1],o.writeUInt32BE(h,m,p),o.writeUInt32BE(h,g,p+4)},l.prototype._pad=function(c,u){if(this.padding===!1)return!1;for(var h=c.length-u,p=u;p<c.length;p++)c[p]=h;return!0},l.prototype._unpad=function(c){if(this.padding===!1)return c;for(var u=c[c.length-1],h=c.length-u;h<c.length;h++)i.equal(c[h],u);return c.slice(0,c.length-u)},l.prototype._encrypt=function(c,u,h,p,f){for(var m=u,g=h,v=0;v<c.keys.length;v+=2){var w=c.keys[v],E=c.keys[v+1];o.expand(g,c.tmp,0),w^=c.tmp[0],E^=c.tmp[1];var T=o.substitute(w,E),F=g;g=(m^o.permute(T))>>>0,m=F}o.rip(g,m,p,f)},l.prototype._decrypt=function(c,u,h,p,f){for(var m=h,g=u,v=c.keys.length-2;v>=0;v-=2){var w=c.keys[v],E=c.keys[v+1];o.expand(m,c.tmp,0),w^=c.tmp[0],E^=c.tmp[1];var T=o.substitute(w,E),F=m;m=(g^o.permute(T))>>>0,g=F}o.rip(m,g,p,f)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits"),o=e("./cipher"),s=e("./des");function a(d,c){i.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),h=c.slice(8,16),p=c.slice(16,24);this.ciphers=d==="encrypt"?[s.create({type:"encrypt",key:u}),s.create({type:"decrypt",key:h}),s.create({type:"encrypt",key:p})]:[s.create({type:"decrypt",key:p}),s.create({type:"encrypt",key:h}),s.create({type:"decrypt",key:u})]}function l(d){o.call(this,d);var c=new a(this.type,this.options.key);this._edeState=c}r(l,o),t.exports=l,l.create=function(d){return new l(d)},l.prototype._update=function(d,c,u,h){var p=this._edeState;p.ciphers[0]._update(d,c,u,h),p.ciphers[1]._update(u,h,u,h),p.ciphers[2]._update(u,h,u,h)},l.prototype._pad=s.prototype._pad,l.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,t,n){"use strict";n.readUInt32BE=function(s,a){return(s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a])>>>0},n.writeUInt32BE=function(s,a,l){s[0+l]=a>>>24,s[1+l]=a>>>16&255,s[2+l]=a>>>8&255,s[3+l]=255&a},n.ip=function(s,a,l,d){for(var c=0,u=0,h=6;h>=0;h-=2){for(var p=0;p<=24;p+=8)c<<=1,c|=a>>>p+h&1;for(p=0;p<=24;p+=8)c<<=1,c|=s>>>p+h&1}for(h=6;h>=0;h-=2){for(p=1;p<=25;p+=8)u<<=1,u|=a>>>p+h&1;for(p=1;p<=25;p+=8)u<<=1,u|=s>>>p+h&1}l[d+0]=c>>>0,l[d+1]=u>>>0},n.rip=function(s,a,l,d){for(var c=0,u=0,h=0;h<4;h++)for(var p=24;p>=0;p-=8)c<<=1,c|=a>>>p+h&1,c<<=1,c|=s>>>p+h&1;for(h=4;h<8;h++)for(p=24;p>=0;p-=8)u<<=1,u|=a>>>p+h&1,u<<=1,u|=s>>>p+h&1;l[d+0]=c>>>0,l[d+1]=u>>>0},n.pc1=function(s,a,l,d){for(var c=0,u=0,h=7;h>=5;h--){for(var p=0;p<=24;p+=8)c<<=1,c|=a>>p+h&1;for(p=0;p<=24;p+=8)c<<=1,c|=s>>p+h&1}for(p=0;p<=24;p+=8)c<<=1,c|=a>>p+h&1;for(h=1;h<=3;h++){for(p=0;p<=24;p+=8)u<<=1,u|=a>>p+h&1;for(p=0;p<=24;p+=8)u<<=1,u|=s>>p+h&1}for(p=0;p<=24;p+=8)u<<=1,u|=s>>p+h&1;l[d+0]=c>>>0,l[d+1]=u>>>0},n.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(s,a,l,d){for(var c=0,u=0,h=i.length>>>1,p=0;p<h;p++)c<<=1,c|=s>>>i[p]&1;for(p=h;p<i.length;p++)u<<=1,u|=a>>>i[p]&1;l[d+0]=c>>>0,l[d+1]=u>>>0},n.expand=function(s,a,l){var d=0,c=0;d=(1&s)<<5|s>>>27;for(var u=23;u>=15;u-=4)d<<=6,d|=s>>>u&63;for(u=11;u>=3;u-=4)c|=s>>>u&63,c<<=6;c|=(31&s)<<1|s>>>31,a[l+0]=d>>>0,a[l+1]=c>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(s,a){for(var l=0,d=0;d<4;d++)l<<=4,l|=r[64*d+(s>>>18-6*d&63)];for(d=0;d<4;d++)l<<=4,l|=r[256+64*d+(a>>>18-6*d&63)];return l>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(s){for(var a=0,l=0;l<o.length;l++)a<<=1,a|=s>>>o[l]&1;return a>>>0},n.padSplit=function(s,a,l){for(var d=s.toString(2);d.length<a;)d="0"+d;for(var c=[],u=0;u<a;u+=l)c.push(d.slice(u,u+l));return c.join(" ")}},{}],400:[function(e,t,n){(function(i){(function(){"use strict";var r=e("./lib/generatePrime"),o=e("./lib/primes.json"),s=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(l){var d=new i(o[l].prime,"hex"),c=new i(o[l].gen,"hex");return new s(d,c)},n.createDiffieHellman=n.DiffieHellman=function l(d,c,u,h){return i.isBuffer(c)||a[c]===void 0?l(d,"binary",c,u):(c=c||"binary",h=h||"binary",u=u||new i([2]),i.isBuffer(u)||(u=new i(u,h)),typeof d=="number"?new s(r(d,u),u,!0):(i.isBuffer(d)||(d=new i(d,c)),new s(d,u,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,t,n){(function(i){(function(){"use strict";var r=e("bn.js"),o=new(e("miller-rabin")),s=new r(24),a=new r(11),l=new r(10),d=new r(3),c=new r(7),u=e("./generatePrime"),h=e("randombytes");function p(w,E){return E=E||"utf8",i.isBuffer(w)||(w=new i(w,E)),this._pub=new r(w),this}function f(w,E){return E=E||"utf8",i.isBuffer(w)||(w=new i(w,E)),this._priv=new r(w),this}t.exports=g;var m={};function g(w,E,T){this.setGenerator(E),this.__prime=new r(w),this._prime=r.mont(this.__prime),this._primeLen=w.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=p,this.setPrivateKey=f):this._primeCode=8}function v(w,E){var T=new i(w.toArray());return E?T.toString(E):T}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(w,E){var T=E.toString("hex"),F=[T,w.toString(16)].join("_");if(F in m)return m[F];var k,L=0;if(w.isEven()||!u.simpleSieve||!u.fermatTest(w)||!o.test(w))return L+=1,L+=T==="02"||T==="05"?8:4,m[F]=L,L;switch(o.test(w.shrn(1))||(L+=2),T){case"02":w.mod(s).cmp(a)&&(L+=8);break;case"05":(k=w.mod(l)).cmp(d)&&k.cmp(c)&&(L+=8);break;default:L+=4}return m[F]=L,L}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new r(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(w){var E=(w=(w=new r(w)).toRed(this._prime)).redPow(this._priv).fromRed(),T=new i(E.toArray()),F=this.getPrime();if(T.length<F.length){var k=new i(F.length-T.length);k.fill(0),T=i.concat([k,T])}return T},g.prototype.getPublicKey=function(w){return v(this._pub,w)},g.prototype.getPrivateKey=function(w){return v(this._priv,w)},g.prototype.getPrime=function(w){return v(this.__prime,w)},g.prototype.getGenerator=function(w){return v(this._gen,w)},g.prototype.setGenerator=function(w,E){return E=E||"utf8",i.isBuffer(w)||(w=new i(w,E)),this.__gen=w,this._gen=new r(w),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,t,n){"use strict";var i=e("randombytes");t.exports=w,w.simpleSieve=g,w.fermatTest=v;var r=e("bn.js"),o=new r(24),s=new(e("miller-rabin")),a=new r(1),l=new r(2),d=new r(5),c=(new r(16),new r(8),new r(10)),u=new r(3),h=(new r(7),new r(11)),p=new r(4),f=(new r(12),null);function m(){if(f!==null)return f;var E=[];E[0]=2;for(var T=1,F=3;F<1048576;F+=2){for(var k=Math.ceil(Math.sqrt(F)),L=0;L<T&&E[L]<=k&&F%E[L]!=0;L++);T!==L&&E[L]<=k||(E[T++]=F)}return f=E,E}function g(E){for(var T=m(),F=0;F<T.length;F++)if(E.modn(T[F])===0)return E.cmpn(T[F])===0;return!0}function v(E){var T=r.mont(E);return l.toRed(T).redPow(E.subn(1)).fromRed().cmpn(1)===0}function w(E,T){if(E<16)return new r(T===2||T===5?[140,123]:[140,39]);var F,k;for(T=new r(T);;){for(F=new r(i(Math.ceil(E/8)));F.bitLength()>E;)F.ishrn(1);if(F.isEven()&&F.iadd(a),F.testn(1)||F.iadd(l),T.cmp(l)){if(!T.cmp(d))for(;F.mod(c).cmp(u);)F.iadd(p)}else for(;F.mod(o).cmp(h);)F.iadd(p);if(g(k=F.shrn(1))&&g(F)&&v(k)&&v(F)&&s.test(k)&&s.test(F))return F}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,t,n){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],405:[function(e,t,n){"use strict";var i=n;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils"),o=r.getNAF,s=r.getJSF,a=r.assert;function l(c,u){this.type=c,this.p=new i(u.p,16),this.red=u.prime?i.red(u.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=u.n&&new i(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(c,u){this.curve=c,this.type=u,this.precomputed=null}t.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(c,u){a(c.precomputed);var h=c._getDoubles(),p=o(u,1,this._bitLength),f=(1<<h.step+1)-(h.step%2==0?2:1);f/=3;var m,g,v=[];for(m=0;m<p.length;m+=h.step){g=0;for(var w=m+h.step-1;w>=m;w--)g=(g<<1)+p[w];v.push(g)}for(var E=this.jpoint(null,null,null),T=this.jpoint(null,null,null),F=f;F>0;F--){for(m=0;m<v.length;m++)(g=v[m])===F?T=T.mixedAdd(h.points[m]):g===-F&&(T=T.mixedAdd(h.points[m].neg()));E=E.add(T)}return E.toP()},l.prototype._wnafMul=function(c,u){var h=4,p=c._getNAFPoints(h);h=p.wnd;for(var f=p.points,m=o(u,h,this._bitLength),g=this.jpoint(null,null,null),v=m.length-1;v>=0;v--){for(var w=0;v>=0&&m[v]===0;v--)w++;if(v>=0&&w++,g=g.dblp(w),v<0)break;var E=m[v];a(E!==0),g=c.type==="affine"?E>0?g.mixedAdd(f[E-1>>1]):g.mixedAdd(f[-E-1>>1].neg()):E>0?g.add(f[E-1>>1]):g.add(f[-E-1>>1].neg())}return c.type==="affine"?g.toP():g},l.prototype._wnafMulAdd=function(c,u,h,p,f){var m,g,v,w=this._wnafT1,E=this._wnafT2,T=this._wnafT3,F=0;for(m=0;m<p;m++){var k=(v=u[m])._getNAFPoints(c);w[m]=k.wnd,E[m]=k.points}for(m=p-1;m>=1;m-=2){var L=m-1,V=m;if(w[L]===1&&w[V]===1){var j=[u[L],null,null,u[V]];u[L].y.cmp(u[V].y)===0?(j[1]=u[L].add(u[V]),j[2]=u[L].toJ().mixedAdd(u[V].neg())):u[L].y.cmp(u[V].y.redNeg())===0?(j[1]=u[L].toJ().mixedAdd(u[V]),j[2]=u[L].add(u[V].neg())):(j[1]=u[L].toJ().mixedAdd(u[V]),j[2]=u[L].toJ().mixedAdd(u[V].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],R=s(h[L],h[V]);for(F=Math.max(R[0].length,F),T[L]=new Array(F),T[V]=new Array(F),g=0;g<F;g++){var I=0|R[0][g],N=0|R[1][g];T[L][g]=z[3*(I+1)+(N+1)],T[V][g]=0,E[L]=j}}else T[L]=o(h[L],w[L],this._bitLength),T[V]=o(h[V],w[V],this._bitLength),F=Math.max(T[L].length,F),F=Math.max(T[V].length,F)}var b=this.jpoint(null,null,null),C=this._wnafT4;for(m=F;m>=0;m--){for(var x=0;m>=0;){var _=!0;for(g=0;g<p;g++)C[g]=0|T[g][m],C[g]!==0&&(_=!1);if(!_)break;x++,m--}if(m>=0&&x++,b=b.dblp(x),m<0)break;for(g=0;g<p;g++){var D=C[g];D!==0&&(D>0?v=E[g][D-1>>1]:D<0&&(v=E[g][-D-1>>1].neg()),b=v.type==="affine"?b.mixedAdd(v):b.add(v))}}for(m=0;m<p;m++)E[m]=null;return f?b:b.toP()},l.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(c,u){c=r.toArray(c,u);var h=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1==2*h)return c[0]===6?a(c[c.length-1]%2==0):c[0]===7&&a(c[c.length-1]%2==1),this.point(c.slice(1,1+h),c.slice(1+h,1+2*h));if((c[0]===2||c[0]===3)&&c.length-1===h)return this.pointFromX(c.slice(1,1+h),c[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(c){return this.encode(c,!0)},d.prototype._encode=function(c){var u=this.curve.p.byteLength(),h=this.getX().toArray("be",u);return c?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",u))},d.prototype.encode=function(c,u){return r.encode(this._encode(u),c)},d.prototype.precompute=function(c){if(this.precomputed)return this;var u={doubles:null,naf:null,beta:null};return u.naf=this._getNAFPoints(8),u.doubles=this._getDoubles(4,c),u.beta=this._getBeta(),this.precomputed=u,this},d.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var u=this.precomputed.doubles;return!!u&&u.points.length>=Math.ceil((c.bitLength()+1)/u.step)},d.prototype._getDoubles=function(c,u){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],p=this,f=0;f<u;f+=c){for(var m=0;m<c;m++)p=p.dbl();h.push(p)}return{step:c,points:h}},d.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var u=[this],h=(1<<c)-1,p=h===1?null:this.dbl(),f=1;f<h;f++)u[f]=u[f-1].add(p);return{wnd:c,points:u}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(c){for(var u=this,h=0;h<c;h++)u=u.dbl();return u}},{"../utils":419,"bn.js":420}],407:[function(e,t,n){"use strict";var i=e("../utils"),r=e("bn.js"),o=e("inherits"),s=e("./base"),a=i.assert;function l(c){this.twisted=(0|c.a)!=1,this.mOneA=this.twisted&&(0|c.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",c),this.a=new r(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|c.c)==1}function d(c,u,h,p,f){s.BasePoint.call(this,c,"projective"),u===null&&h===null&&p===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(u,16),this.y=new r(h,16),this.z=p?new r(p,16):this.curve.one,this.t=f&&new r(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,s),t.exports=l,l.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},l.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},l.prototype.jpoint=function(c,u,h,p){return this.point(c,u,h,p)},l.prototype.pointFromX=function(c,u){(c=new r(c,16)).red||(c=c.toRed(this.red));var h=c.redSqr(),p=this.c2.redSub(this.a.redMul(h)),f=this.one.redSub(this.c2.redMul(this.d).redMul(h)),m=p.redMul(f.redInvm()),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(u&&!v||!u&&v)&&(g=g.redNeg()),this.point(c,g)},l.prototype.pointFromY=function(c,u){(c=new r(c,16)).red||(c=c.toRed(this.red));var h=c.redSqr(),p=h.redSub(this.c2),f=h.redMul(this.d).redMul(this.c2).redSub(this.a),m=p.redMul(f.redInvm());if(m.cmp(this.zero)===0){if(u)throw new Error("invalid point");return this.point(this.zero,c)}var g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==u&&(g=g.redNeg()),this.point(g,c)},l.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var u=c.x.redSqr(),h=c.y.redSqr(),p=u.redMul(this.a).redAdd(h),f=this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(h)));return p.cmp(f)===0},o(d,s.BasePoint),l.prototype.pointFromJSON=function(c){return d.fromJSON(this,c)},l.prototype.point=function(c,u,h,p){return new d(this,c,u,h,p)},d.fromJSON=function(c,u){return new d(c,u[0],u[1],u[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var c=this.x.redSqr(),u=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var p=this.curve._mulA(c),f=this.x.redAdd(this.y).redSqr().redISub(c).redISub(u),m=p.redAdd(u),g=m.redSub(h),v=p.redSub(u),w=f.redMul(g),E=m.redMul(v),T=f.redMul(v),F=g.redMul(m);return this.curve.point(w,E,F,T)},d.prototype._projDbl=function(){var c,u,h,p,f,m,g=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),w=this.y.redSqr();if(this.curve.twisted){var E=(p=this.curve._mulA(v)).redAdd(w);this.zOne?(c=g.redSub(v).redSub(w).redMul(E.redSub(this.curve.two)),u=E.redMul(p.redSub(w)),h=E.redSqr().redSub(E).redSub(E)):(f=this.z.redSqr(),m=E.redSub(f).redISub(f),c=g.redSub(v).redISub(w).redMul(m),u=E.redMul(p.redSub(w)),h=E.redMul(m))}else p=v.redAdd(w),f=this.curve._mulC(this.z).redSqr(),m=p.redSub(f).redSub(f),c=this.curve._mulC(g.redISub(p)).redMul(m),u=this.curve._mulC(p).redMul(v.redISub(w)),h=p.redMul(m);return this.curve.point(c,u,h)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(c){var u=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),h=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),p=this.t.redMul(this.curve.dd).redMul(c.t),f=this.z.redMul(c.z.redAdd(c.z)),m=h.redSub(u),g=f.redSub(p),v=f.redAdd(p),w=h.redAdd(u),E=m.redMul(g),T=v.redMul(w),F=m.redMul(w),k=g.redMul(v);return this.curve.point(E,T,k,F)},d.prototype._projAdd=function(c){var u,h,p=this.z.redMul(c.z),f=p.redSqr(),m=this.x.redMul(c.x),g=this.y.redMul(c.y),v=this.curve.d.redMul(m).redMul(g),w=f.redSub(v),E=f.redAdd(v),T=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(m).redISub(g),F=p.redMul(w).redMul(T);return this.curve.twisted?(u=p.redMul(E).redMul(g.redSub(this.curve._mulA(m))),h=w.redMul(E)):(u=p.redMul(E).redMul(g.redSub(m)),h=this.curve._mulC(w).redMul(E)),this.curve.point(F,u,h)},d.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},d.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},d.prototype.mulAdd=function(c,u,h){return this.curve._wnafMulAdd(1,[this,u],[c,h],2,!1)},d.prototype.jmulAdd=function(c,u,h){return this.curve._wnafMulAdd(1,[this,u],[c,h],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},d.prototype.eqXToP=function(c){var u=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(u)===0)return!0;for(var h=c.clone(),p=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(p),this.x.cmp(u)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,t,n){"use strict";var i=n;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("inherits"),o=e("./base"),s=e("../utils");function a(d){o.call(this,"mont",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(d,c,u){o.BasePoint.call(this,d,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(c,16),this.z=new i(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(a,o),t.exports=a,a.prototype.validate=function(d){var c=d.normalize().x,u=c.redSqr(),h=u.redMul(c).redAdd(u.redMul(this.a)).redAdd(c);return h.redSqrt().redSqr().cmp(h)===0},r(l,o.BasePoint),a.prototype.decodePoint=function(d,c){return this.point(s.toArray(d,c),1)},a.prototype.point=function(d,c){return new l(this,d,c)},a.prototype.pointFromJSON=function(d){return l.fromJSON(this,d)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(d,c){return new l(d,c[0],c[1]||d.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),c=this.x.redSub(this.z).redSqr(),u=d.redSub(c),h=d.redMul(c),p=u.redMul(c.redAdd(this.curve.a24.redMul(u)));return this.curve.point(h,p)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(d,c){var u=this.x.redAdd(this.z),h=this.x.redSub(this.z),p=d.x.redAdd(d.z),f=d.x.redSub(d.z).redMul(u),m=p.redMul(h),g=c.z.redMul(f.redAdd(m).redSqr()),v=c.x.redMul(f.redISub(m).redSqr());return this.curve.point(g,v)},l.prototype.mul=function(d){for(var c=d.clone(),u=this,h=this.curve.point(null,null),p=[];c.cmpn(0)!==0;c.iushrn(1))p.push(c.andln(1));for(var f=p.length-1;f>=0;f--)p[f]===0?(u=u.diffAdd(h,this),h=h.dbl()):(h=u.diffAdd(h,this),u=u.dbl());return h},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,t,n){"use strict";var i=e("../utils"),r=e("bn.js"),o=e("inherits"),s=e("./base"),a=i.assert;function l(u){s.call(this,"short",u),this.a=new r(u.a,16).toRed(this.red),this.b=new r(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(u,h,p,f){s.BasePoint.call(this,u,"affine"),h===null&&p===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(h,16),this.y=new r(p,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(u,h,p,f){s.BasePoint.call(this,u,"jacobian"),h===null&&p===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(h,16),this.y=new r(p,16),this.z=new r(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,s),t.exports=l,l.prototype._getEndomorphism=function(u){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var h,p;if(u.beta)h=new r(u.beta,16).toRed(this.red);else{var f=this._getEndoRoots(this.p);h=(h=f[0].cmp(f[1])<0?f[0]:f[1]).toRed(this.red)}if(u.lambda)p=new r(u.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(h))===0?p=m[0]:(p=m[1],a(this.g.mul(p).x.cmp(this.g.x.redMul(h))===0))}return{beta:h,lambda:p,basis:u.basis?u.basis.map(function(g){return{a:new r(g.a,16),b:new r(g.b,16)}}):this._getEndoBasis(p)}}},l.prototype._getEndoRoots=function(u){var h=u===this.p?this.red:r.mont(u),p=new r(2).toRed(h).redInvm(),f=p.redNeg(),m=new r(3).toRed(h).redNeg().redSqrt().redMul(p);return[f.redAdd(m).fromRed(),f.redSub(m).fromRed()]},l.prototype._getEndoBasis=function(u){for(var h,p,f,m,g,v,w,E,T,F=this.n.ushrn(Math.floor(this.n.bitLength()/2)),k=u,L=this.n.clone(),V=new r(1),j=new r(0),z=new r(0),R=new r(1),I=0;k.cmpn(0)!==0;){var N=L.div(k);E=L.sub(N.mul(k)),T=z.sub(N.mul(V));var b=R.sub(N.mul(j));if(!f&&E.cmp(F)<0)h=w.neg(),p=V,f=E.neg(),m=T;else if(f&&++I==2)break;w=E,L=k,k=E,z=V,V=T,R=j,j=b}g=E.neg(),v=T;var C=f.sqr().add(m.sqr());return g.sqr().add(v.sqr()).cmp(C)>=0&&(g=h,v=p),f.negative&&(f=f.neg(),m=m.neg()),g.negative&&(g=g.neg(),v=v.neg()),[{a:f,b:m},{a:g,b:v}]},l.prototype._endoSplit=function(u){var h=this.endo.basis,p=h[0],f=h[1],m=f.b.mul(u).divRound(this.n),g=p.b.neg().mul(u).divRound(this.n),v=m.mul(p.a),w=g.mul(f.a),E=m.mul(p.b),T=g.mul(f.b);return{k1:u.sub(v).sub(w),k2:E.add(T).neg()}},l.prototype.pointFromX=function(u,h){(u=new r(u,16)).red||(u=u.toRed(this.red));var p=u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),f=p.redSqrt();if(f.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var m=f.fromRed().isOdd();return(h&&!m||!h&&m)&&(f=f.redNeg()),this.point(u,f)},l.prototype.validate=function(u){if(u.inf)return!0;var h=u.x,p=u.y,f=this.a.redMul(h),m=h.redSqr().redMul(h).redIAdd(f).redIAdd(this.b);return p.redSqr().redISub(m).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(u,h,p){for(var f=this._endoWnafT1,m=this._endoWnafT2,g=0;g<u.length;g++){var v=this._endoSplit(h[g]),w=u[g],E=w._getBeta();v.k1.negative&&(v.k1.ineg(),w=w.neg(!0)),v.k2.negative&&(v.k2.ineg(),E=E.neg(!0)),f[2*g]=w,f[2*g+1]=E,m[2*g]=v.k1,m[2*g+1]=v.k2}for(var T=this._wnafMulAdd(1,f,m,2*g,p),F=0;F<2*g;F++)f[F]=null,m[F]=null;return T},o(d,s.BasePoint),l.prototype.point=function(u,h,p){return new d(this,u,h,p)},l.prototype.pointFromJSON=function(u,h){return d.fromJSON(this,u,h)},d.prototype._getBeta=function(){if(this.curve.endo){var u=this.precomputed;if(u&&u.beta)return u.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(u){var p=this.curve,f=function(m){return p.point(m.x.redMul(p.endo.beta),m.y)};u.beta=h,h.precomputed={beta:null,naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(f)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(f)}}}return h}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(u,h,p){typeof h=="string"&&(h=JSON.parse(h));var f=u.point(h[0],h[1],p);if(!h[2])return f;function m(v){return u.point(v[0],v[1],p)}var g=h[2];return f.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[f].concat(g.doubles.points.map(m))},naf:g.naf&&{wnd:g.naf.wnd,points:[f].concat(g.naf.points.map(m))}},f},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(u){if(this.inf)return u;if(u.inf)return this;if(this.eq(u))return this.dbl();if(this.neg().eq(u))return this.curve.point(null,null);if(this.x.cmp(u.x)===0)return this.curve.point(null,null);var h=this.y.redSub(u.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(u.x).redInvm()));var p=h.redSqr().redISub(this.x).redISub(u.x),f=h.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,f)},d.prototype.dbl=function(){if(this.inf)return this;var u=this.y.redAdd(this.y);if(u.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,p=this.x.redSqr(),f=u.redInvm(),m=p.redAdd(p).redIAdd(p).redIAdd(h).redMul(f),g=m.redSqr().redISub(this.x.redAdd(this.x)),v=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,v)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(u){return u=new r(u,16),this.isInfinity()?this:this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve.endo?this.curve._endoWnafMulAdd([this],[u]):this.curve._wnafMul(this,u)},d.prototype.mulAdd=function(u,h,p){var f=[this,h],m=[u,p];return this.curve.endo?this.curve._endoWnafMulAdd(f,m):this.curve._wnafMulAdd(1,f,m,2)},d.prototype.jmulAdd=function(u,h,p){var f=[this,h],m=[u,p];return this.curve.endo?this.curve._endoWnafMulAdd(f,m,!0):this.curve._wnafMulAdd(1,f,m,2,!0)},d.prototype.eq=function(u){return this===u||this.inf===u.inf&&(this.inf||this.x.cmp(u.x)===0&&this.y.cmp(u.y)===0)},d.prototype.neg=function(u){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(u&&this.precomputed){var p=this.precomputed,f=function(m){return m.neg()};h.precomputed={naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(f)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(f)}}}return h},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,s.BasePoint),l.prototype.jpoint=function(u,h,p){return new c(this,u,h,p)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var u=this.z.redInvm(),h=u.redSqr(),p=this.x.redMul(h),f=this.y.redMul(h).redMul(u);return this.curve.point(p,f)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var h=u.z.redSqr(),p=this.z.redSqr(),f=this.x.redMul(h),m=u.x.redMul(p),g=this.y.redMul(h.redMul(u.z)),v=u.y.redMul(p.redMul(this.z)),w=f.redSub(m),E=g.redSub(v);if(w.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=w.redSqr(),F=T.redMul(w),k=f.redMul(T),L=E.redSqr().redIAdd(F).redISub(k).redISub(k),V=E.redMul(k.redISub(L)).redISub(g.redMul(F)),j=this.z.redMul(u.z).redMul(w);return this.curve.jpoint(L,V,j)},c.prototype.mixedAdd=function(u){if(this.isInfinity())return u.toJ();if(u.isInfinity())return this;var h=this.z.redSqr(),p=this.x,f=u.x.redMul(h),m=this.y,g=u.y.redMul(h).redMul(this.z),v=p.redSub(f),w=m.redSub(g);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=v.redSqr(),T=E.redMul(v),F=p.redMul(E),k=w.redSqr().redIAdd(T).redISub(F).redISub(F),L=w.redMul(F.redISub(k)).redISub(m.redMul(T)),V=this.z.redMul(v);return this.curve.jpoint(k,L,V)},c.prototype.dblp=function(u){if(u===0)return this;if(this.isInfinity())return this;if(!u)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var p=this;for(h=0;h<u;h++)p=p.dbl();return p}var f=this.curve.a,m=this.curve.tinv,g=this.x,v=this.y,w=this.z,E=w.redSqr().redSqr(),T=v.redAdd(v);for(h=0;h<u;h++){var F=g.redSqr(),k=T.redSqr(),L=k.redSqr(),V=F.redAdd(F).redIAdd(F).redIAdd(f.redMul(E)),j=g.redMul(k),z=V.redSqr().redISub(j.redAdd(j)),R=j.redISub(z),I=V.redMul(R);I=I.redIAdd(I).redISub(L);var N=T.redMul(w);h+1<u&&(E=E.redMul(L)),g=z,w=N,T=I}return this.curve.jpoint(g,T.redMul(m),w)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var u,h,p;if(this.zOne){var f=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),v=this.x.redAdd(m).redSqr().redISub(f).redISub(g);v=v.redIAdd(v);var w=f.redAdd(f).redIAdd(f),E=w.redSqr().redISub(v).redISub(v),T=g.redIAdd(g);T=(T=T.redIAdd(T)).redIAdd(T),u=E,h=w.redMul(v.redISub(E)).redISub(T),p=this.y.redAdd(this.y)}else{var F=this.x.redSqr(),k=this.y.redSqr(),L=k.redSqr(),V=this.x.redAdd(k).redSqr().redISub(F).redISub(L);V=V.redIAdd(V);var j=F.redAdd(F).redIAdd(F),z=j.redSqr(),R=L.redIAdd(L);R=(R=R.redIAdd(R)).redIAdd(R),u=z.redISub(V).redISub(V),h=j.redMul(V.redISub(u)).redISub(R),p=(p=this.y.redMul(this.z)).redIAdd(p)}return this.curve.jpoint(u,h,p)},c.prototype._threeDbl=function(){var u,h,p;if(this.zOne){var f=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),v=this.x.redAdd(m).redSqr().redISub(f).redISub(g);v=v.redIAdd(v);var w=f.redAdd(f).redIAdd(f).redIAdd(this.curve.a),E=w.redSqr().redISub(v).redISub(v);u=E;var T=g.redIAdd(g);T=(T=T.redIAdd(T)).redIAdd(T),h=w.redMul(v.redISub(E)).redISub(T),p=this.y.redAdd(this.y)}else{var F=this.z.redSqr(),k=this.y.redSqr(),L=this.x.redMul(k),V=this.x.redSub(F).redMul(this.x.redAdd(F));V=V.redAdd(V).redIAdd(V);var j=L.redIAdd(L),z=(j=j.redIAdd(j)).redAdd(j);u=V.redSqr().redISub(z),p=this.y.redAdd(this.z).redSqr().redISub(k).redISub(F);var R=k.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R),h=V.redMul(j.redISub(u)).redISub(R)}return this.curve.jpoint(u,h,p)},c.prototype._dbl=function(){var u=this.curve.a,h=this.x,p=this.y,f=this.z,m=f.redSqr().redSqr(),g=h.redSqr(),v=p.redSqr(),w=g.redAdd(g).redIAdd(g).redIAdd(u.redMul(m)),E=h.redAdd(h),T=(E=E.redIAdd(E)).redMul(v),F=w.redSqr().redISub(T.redAdd(T)),k=T.redISub(F),L=v.redSqr();L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var V=w.redMul(k).redISub(L),j=p.redAdd(p).redMul(f);return this.curve.jpoint(F,V,j)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var u=this.x.redSqr(),h=this.y.redSqr(),p=this.z.redSqr(),f=h.redSqr(),m=u.redAdd(u).redIAdd(u),g=m.redSqr(),v=this.x.redAdd(h).redSqr().redISub(u).redISub(f),w=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(g)).redSqr(),E=f.redIAdd(f);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var T=m.redIAdd(v).redSqr().redISub(g).redISub(w).redISub(E),F=h.redMul(T);F=(F=F.redIAdd(F)).redIAdd(F);var k=this.x.redMul(w).redISub(F);k=(k=k.redIAdd(k)).redIAdd(k);var L=this.y.redMul(T.redMul(E.redISub(T)).redISub(v.redMul(w)));L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var V=this.z.redAdd(v).redSqr().redISub(p).redISub(w);return this.curve.jpoint(k,L,V)},c.prototype.mul=function(u,h){return u=new r(u,h),this.curve._wnafMul(this,u)},c.prototype.eq=function(u){if(u.type==="affine")return this.eq(u.toJ());if(this===u)return!0;var h=this.z.redSqr(),p=u.z.redSqr();if(this.x.redMul(p).redISub(u.x.redMul(h)).cmpn(0)!==0)return!1;var f=h.redMul(this.z),m=p.redMul(u.z);return this.y.redMul(m).redISub(u.y.redMul(f)).cmpn(0)===0},c.prototype.eqXToP=function(u){var h=this.z.redSqr(),p=u.toRed(this.curve.red).redMul(h);if(this.x.cmp(p)===0)return!0;for(var f=u.clone(),m=this.curve.redN.redMul(h);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(m),this.x.cmp(p)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,t,n){"use strict";var i,r=n,o=e("hash.js"),s=e("./curve"),a=e("./utils").assert;function l(c){c.type==="short"?this.curve=new s.short(c):c.type==="edwards"?this.curve=new s.edwards(c):this.curve=new s.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(c,u){Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){var h=new l(u);return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,value:h}),h}})}r.PresetCurve=l,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("hmac-drbg"),o=e("../utils"),s=e("../curves"),a=e("brorand"),l=o.assert,d=e("./key"),c=e("./signature");function u(h){if(!(this instanceof u))return new u(h);typeof h=="string"&&(l(Object.prototype.hasOwnProperty.call(s,h),"Unknown curve "+h),h=s[h]),h instanceof s.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}t.exports=u,u.prototype.keyPair=function(h){return new d(this,h)},u.prototype.keyFromPrivate=function(h,p){return d.fromPrivate(this,h,p)},u.prototype.keyFromPublic=function(h,p){return d.fromPublic(this,h,p)},u.prototype.genKeyPair=function(h){h||(h={});for(var p=new r({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||a(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),f=this.n.byteLength(),m=this.n.sub(new i(2));;){var g=new i(p.generate(f));if(!(g.cmp(m)>0))return g.iaddn(1),this.keyFromPrivate(g)}},u.prototype._truncateToN=function(h,p){var f=8*h.byteLength()-this.n.bitLength();return f>0&&(h=h.ushrn(f)),!p&&h.cmp(this.n)>=0?h.sub(this.n):h},u.prototype.sign=function(h,p,f,m){typeof f=="object"&&(m=f,f=null),m||(m={}),p=this.keyFromPrivate(p,f),h=this._truncateToN(new i(h,16));for(var g=this.n.byteLength(),v=p.getPrivate().toArray("be",g),w=h.toArray("be",g),E=new r({hash:this.hash,entropy:v,nonce:w,pers:m.pers,persEnc:m.persEnc||"utf8"}),T=this.n.sub(new i(1)),F=0;;F++){var k=m.k?m.k(F):new i(E.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(T)>=0)){var L=this.g.mul(k);if(!L.isInfinity()){var V=L.getX(),j=V.umod(this.n);if(j.cmpn(0)!==0){var z=k.invm(this.n).mul(j.mul(p.getPrivate()).iadd(h));if((z=z.umod(this.n)).cmpn(0)!==0){var R=(L.getY().isOdd()?1:0)|(V.cmp(j)!==0?2:0);return m.canonical&&z.cmp(this.nh)>0&&(z=this.n.sub(z),R^=1),new c({r:j,s:z,recoveryParam:R})}}}}}},u.prototype.verify=function(h,p,f,m){h=this._truncateToN(new i(h,16)),f=this.keyFromPublic(f,m);var g=(p=new c(p,"hex")).r,v=p.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var w,E=v.invm(this.n),T=E.mul(h).umod(this.n),F=E.mul(g).umod(this.n);return this.curve._maxwellTrick?!(w=this.g.jmulAdd(T,f.getPublic(),F)).isInfinity()&&w.eqXToP(g):!(w=this.g.mulAdd(T,f.getPublic(),F)).isInfinity()&&w.getX().umod(this.n).cmp(g)===0},u.prototype.recoverPubKey=function(h,p,f,m){l((3&f)===f,"The recovery param is more than two bits"),p=new c(p,m);var g=this.n,v=new i(h),w=p.r,E=p.s,T=1&f,F=f>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");w=F?this.curve.pointFromX(w.add(this.curve.n),T):this.curve.pointFromX(w,T);var k=p.r.invm(g),L=g.sub(v).mul(k).umod(g),V=E.mul(k).umod(g);return this.g.mulAdd(L,w,V)},u.prototype.getKeyRecoveryParam=function(h,p,f,m){if((p=new c(p,m)).recoveryParam!==null)return p.recoveryParam;for(var g=0;g<4;g++){var v;try{v=this.recoverPubKey(h,p,g)}catch{continue}if(v.eq(f))return g}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils").assert;function o(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}t.exports=o,o.fromPublic=function(s,a,l){return a instanceof o?a:new o(s,{pub:a,pubEnc:l})},o.fromPrivate=function(s,a,l){return a instanceof o?a:new o(s,{priv:a,privEnc:l})},o.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},o.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(s,a){this.priv=new i(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(s,a){if(s.x||s.y)return this.ec.curve.type==="mont"?r(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||r(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,a)},o.prototype.derive=function(s){return s.validate()||r(s.validate(),"public point not validated"),s.mul(this.priv).getX()},o.prototype.sign=function(s,a,l){return this.ec.sign(s,this,a,l)},o.prototype.verify=function(s,a){return this.ec.verify(s,a,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils"),o=r.assert;function s(u,h){if(u instanceof s)return u;this._importDER(u,h)||(o(u.r&&u.s,"Signature without r or s"),this.r=new i(u.r,16),this.s=new i(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}function a(){this.place=0}function l(u,h){var p=u[h.place++];if(!(128&p))return p;var f=15&p;if(f===0||f>4)return!1;for(var m=0,g=0,v=h.place;g<f;g++,v++)m<<=8,m|=u[v],m>>>=0;return!(m<=127)&&(h.place=v,m)}function d(u){for(var h=0,p=u.length-1;!u[h]&&!(128&u[h+1])&&h<p;)h++;return h===0?u:u.slice(h)}function c(u,h){if(h<128)u.push(h);else{var p=1+(Math.log(h)/Math.LN2>>>3);for(u.push(128|p);--p;)u.push(h>>>(p<<3)&255);u.push(h)}}t.exports=s,s.prototype._importDER=function(u,h){u=r.toArray(u,h);var p=new a;if(u[p.place++]!==48)return!1;var f=l(u,p);if(f===!1||f+p.place!==u.length||u[p.place++]!==2)return!1;var m=l(u,p);if(m===!1)return!1;var g=u.slice(p.place,m+p.place);if(p.place+=m,u[p.place++]!==2)return!1;var v=l(u,p);if(v===!1||u.length!==v+p.place)return!1;var w=u.slice(p.place,v+p.place);if(g[0]===0){if(!(128&g[1]))return!1;g=g.slice(1)}if(w[0]===0){if(!(128&w[1]))return!1;w=w.slice(1)}return this.r=new i(g),this.s=new i(w),this.recoveryParam=null,!0},s.prototype.toDER=function(u){var h=this.r.toArray(),p=this.s.toArray();for(128&h[0]&&(h=[0].concat(h)),128&p[0]&&(p=[0].concat(p)),h=d(h),p=d(p);!(p[0]||128&p[1]);)p=p.slice(1);var f=[2];c(f,h.length),(f=f.concat(h)).push(2),c(f,p.length);var m=f.concat(p),g=[48];return c(g,m.length),g=g.concat(m),r.encode(g,u)}},{"../utils":419,"bn.js":420}],415:[function(e,t,n){"use strict";var i=e("hash.js"),r=e("../curves"),o=e("../utils"),s=o.assert,a=o.parseBytes,l=e("./key"),d=e("./signature");function c(u){if(s(u==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(u);u=r[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=i.sha512}t.exports=c,c.prototype.sign=function(u,h){u=a(u);var p=this.keyFromSecret(h),f=this.hashInt(p.messagePrefix(),u),m=this.g.mul(f),g=this.encodePoint(m),v=this.hashInt(g,p.pubBytes(),u).mul(p.priv()),w=f.add(v).umod(this.curve.n);return this.makeSignature({R:m,S:w,Rencoded:g})},c.prototype.verify=function(u,h,p){u=a(u),h=this.makeSignature(h);var f=this.keyFromPublic(p),m=this.hashInt(h.Rencoded(),f.pubBytes(),u),g=this.g.mul(h.S());return h.R().add(f.pub().mul(m)).eq(g)},c.prototype.hashInt=function(){for(var u=this.hash(),h=0;h<arguments.length;h++)u.update(arguments[h]);return o.intFromLE(u.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(u){return l.fromPublic(this,u)},c.prototype.keyFromSecret=function(u){return l.fromSecret(this,u)},c.prototype.makeSignature=function(u){return u instanceof d?u:new d(this,u)},c.prototype.encodePoint=function(u){var h=u.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=u.getX().isOdd()?128:0,h},c.prototype.decodePoint=function(u){var h=(u=o.parseBytes(u)).length-1,p=u.slice(0,h).concat(-129&u[h]),f=(128&u[h])!=0,m=o.intFromLE(p);return this.curve.pointFromY(m,f)},c.prototype.encodeInt=function(u){return u.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(u){return o.intFromLE(u)},c.prototype.isPoint=function(u){return u instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,t,n){"use strict";var i=e("../utils"),r=i.assert,o=i.parseBytes,s=i.cachedProperty;function a(l,d){this.eddsa=l,this._secret=o(d.secret),l.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=o(d.pub)}a.fromPublic=function(l,d){return d instanceof a?d:new a(l,{pub:d})},a.fromSecret=function(l,d){return d instanceof a?d:new a(l,{secret:d})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var l=this.eddsa,d=this.hash(),c=l.encodingLength-1,u=d.slice(0,l.encodingLength);return u[0]&=248,u[c]&=127,u[c]|=64,u}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,d){return this.eddsa.verify(l,d,this)},a.prototype.getSecret=function(l){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),l)},a.prototype.getPublic=function(l){return i.encode(this.pubBytes(),l)},t.exports=a},{"../utils":419}],417:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils"),o=r.assert,s=r.cachedProperty,a=r.parseBytes;function l(d,c){this.eddsa=d,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(c={R:c.slice(0,d.encodingLength),S:c.slice(d.encodingLength)}),o(c.R&&c.S,"Signature without R or S"),d.isPoint(c.R)&&(this._R=c.R),c.S instanceof i&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l},{"../utils":419,"bn.js":420}],418:[function(e,t,n){"use strict";t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,t,n){"use strict";var i=n,r=e("bn.js"),o=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");i.assert=o,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(a,l,d){var c=new Array(Math.max(a.bitLength(),d)+1);c.fill(0);for(var u=1<<l+1,h=a.clone(),p=0;p<c.length;p++){var f,m=h.andln(u-1);h.isOdd()?(f=m>(u>>1)-1?(u>>1)-m:m,h.isubn(f)):f=0,c[p]=f,h.iushrn(1)}return c},i.getJSF=function(a,l){var d=[[],[]];a=a.clone(),l=l.clone();for(var c,u=0,h=0;a.cmpn(-u)>0||l.cmpn(-h)>0;){var p,f,m=a.andln(3)+u&3,g=l.andln(3)+h&3;m===3&&(m=-1),g===3&&(g=-1),p=(1&m)==0?0:(c=a.andln(7)+u&7)!==3&&c!==5||g!==2?m:-m,d[0].push(p),f=(1&g)==0?0:(c=l.andln(7)+h&7)!==3&&c!==5||m!==2?g:-g,d[1].push(f),2*u===p+1&&(u=1-u),2*h===f+1&&(h=1-h),a.iushrn(1),l.iushrn(1)}return d},i.cachedProperty=function(a,l,d){var c="_"+l;a.prototype[l]=function(){return this[c]!==void 0?this[c]:this[c]=d.call(this)}},i.parseBytes=function(a){return typeof a=="string"?i.toArray(a,"hex"):a},i.intFromLE=function(a){return new r(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],421:[function(e,t,n){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,t,n){"use strict";var i=Object.create||function(k){var L=function(){};return L.prototype=k,new L},r=Object.keys||function(k){var L=[];for(var V in k)Object.prototype.hasOwnProperty.call(k,V)&&L.push(V);return V},o=Function.prototype.bind||function(k){var L=this;return function(){return L.apply(k,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=d.x===0}catch{a=!1}function c(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}function u(k,L,V){if(L)k.call(V);else for(var j=k.length,z=F(k,j),R=0;R<j;++R)z[R].call(V)}function h(k,L,V,j){if(L)k.call(V,j);else for(var z=k.length,R=F(k,z),I=0;I<z;++I)R[I].call(V,j)}function p(k,L,V,j,z){if(L)k.call(V,j,z);else for(var R=k.length,I=F(k,R),N=0;N<R;++N)I[N].call(V,j,z)}function f(k,L,V,j,z,R){if(L)k.call(V,j,z,R);else for(var I=k.length,N=F(k,I),b=0;b<I;++b)N[b].call(V,j,z,R)}function m(k,L,V,j){if(L)k.apply(V,j);else for(var z=k.length,R=F(k,z),I=0;I<z;++I)R[I].apply(V,j)}function g(k,L,V,j){var z,R,I;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((R=k._events)?(R.newListener&&(k.emit("newListener",L,V.listener?V.listener:V),R=k._events),I=R[L]):(R=k._events=i(null),k._eventsCount=0),I){if(typeof I=="function"?I=R[L]=j?[V,I]:[I,V]:j?I.unshift(V):I.push(V),!I.warned&&(z=c(k))&&z>0&&I.length>z){I.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String(L)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=k,N.type=L,N.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else I=R[L]=V,++k._eventsCount;return k}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var k=new Array(arguments.length),L=0;L<k.length;++L)k[L]=arguments[L];this.listener.apply(this.target,k)}}function w(k,L,V){var j={fired:!1,wrapFn:void 0,target:k,type:L,listener:V},z=o.call(v,j);return z.listener=V,j.wrapFn=z,z}function E(k,L,V){var j=k._events;if(!j)return[];var z=j[L];return z?typeof z=="function"?V?[z.listener||z]:[z]:V?function(R){for(var I=new Array(R.length),N=0;N<I.length;++N)I[N]=R[N].listener||R[N];return I}(z):F(z,z.length):[]}function T(k){var L=this._events;if(L){var V=L[k];if(typeof V=="function")return 1;if(V)return V.length}return 0}function F(k,L){for(var V=new Array(L),j=0;j<L;++j)V[j]=k[j];return V}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(k){if(typeof k!="number"||k<0||k!=k)throw new TypeError('"defaultMaxListeners" must be a positive number');l=k}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||isNaN(k))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=k,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(k){var L,V,j,z,R,I,N=k==="error";if(I=this._events)N=N&&I.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(L=arguments[1]),L instanceof Error)throw L;var b=new Error('Unhandled "error" event. ('+L+")");throw b.context=L,b}if(!(V=I[k]))return!1;var C=typeof V=="function";switch(j=arguments.length){case 1:u(V,C,this);break;case 2:h(V,C,this,arguments[1]);break;case 3:p(V,C,this,arguments[1],arguments[2]);break;case 4:f(V,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(z=new Array(j-1),R=1;R<j;R++)z[R-1]=arguments[R];m(V,C,this,z)}return!0},s.prototype.addListener=function(k,L){return g(this,k,L,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(k,L){return g(this,k,L,!0)},s.prototype.once=function(k,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(k,w(this,k,L)),this},s.prototype.prependOnceListener=function(k,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(k,w(this,k,L)),this},s.prototype.removeListener=function(k,L){var V,j,z,R,I;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if(!(j=this._events))return this;if(!(V=j[k]))return this;if(V===L||V.listener===L)--this._eventsCount==0?this._events=i(null):(delete j[k],j.removeListener&&this.emit("removeListener",k,V.listener||L));else if(typeof V!="function"){for(z=-1,R=V.length-1;R>=0;R--)if(V[R]===L||V[R].listener===L){I=V[R].listener,z=R;break}if(z<0)return this;z===0?V.shift():function(N,b){for(var C=b,x=C+1,_=N.length;x<_;C+=1,x+=1)N[C]=N[x];N.pop()}(V,z),V.length===1&&(j[k]=V[0]),j.removeListener&&this.emit("removeListener",k,I||L)}return this},s.prototype.removeAllListeners=function(k){var L,V,j;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):V[k]&&(--this._eventsCount==0?this._events=i(null):delete V[k]),this;if(arguments.length===0){var z,R=r(V);for(j=0;j<R.length;++j)(z=R[j])!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(L=V[k])=="function")this.removeListener(k,L);else if(L)for(j=L.length-1;j>=0;j--)this.removeListener(k,L[j]);return this},s.prototype.listeners=function(k){return E(this,k,!0)},s.prototype.rawListeners=function(k){return E(this,k,!1)},s.listenerCount=function(k,L){return typeof k.listenerCount=="function"?k.listenerCount(L):T.call(k,L)},s.prototype.listenerCount=T,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("md5.js");t.exports=function(o,s,a,l){if(i.isBuffer(o)||(o=i.from(o,"binary")),s&&(i.isBuffer(s)||(s=i.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=a/8,c=i.alloc(d),u=i.alloc(l||0),h=i.alloc(0);d>0||l>0;){var p=new r;p.update(h),p.update(o),s&&p.update(s),h=p.digest();var f=0;if(d>0){var m=c.length-d;f=Math.min(d,h.length),h.copy(c,m,0,f),d-=f}if(f<h.length&&l>0){var g=u.length-l,v=Math.min(l,h.length-f);h.copy(u,g,f,f+v),l-=v}}return h.fill(0),{key:c,iv:u}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsvParserStream=n.ParserOptions=n.parseFile=n.parseStream=n.parseString=n.parse=n.FormatterOptions=n.CsvFormatterStream=n.writeToPath=n.writeToString=n.writeToBuffer=n.writeToStream=n.write=n.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(n,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(n,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(n,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(n,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(n,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(n,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(n,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(n,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var r=e("@fast-csv/parse");Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(n,"parseString",{enumerable:!0,get:function(){return r.parseString}}),Object.defineProperty(n,"parseStream",{enumerable:!0,get:function(){return r.parseStream}}),Object.defineProperty(n,"parseFile",{enumerable:!0,get:function(){return r.parseFile}}),Object.defineProperty(n,"ParserOptions",{enumerable:!0,get:function(){return r.ParserOptions}}),Object.defineProperty(n,"CsvParserStream",{enumerable:!0,get:function(){return r.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("readable-stream").Transform;function o(s){r.call(this),this._block=i.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,r),o.prototype._transform=function(s,a,l){var d=null;try{this.update(s,a)}catch(c){d=c}l(d)},o.prototype._flush=function(s){var a=null;try{this.push(this.digest())}catch(l){a=l}s(a)},o.prototype.update=function(s,a){if(function(p,f){if(!i.isBuffer(p)&&typeof p!="string")throw new TypeError(f+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(s)||(s=i.from(s,a));for(var l=this._block,d=0;this._blockOffset+s.length-d>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)l[c++]=s[d++];this._update(),this._blockOffset=0}for(;d<s.length;)l[this._blockOffset++]=s[d++];for(var u=0,h=8*s.length;h>0;++u)this._length[u]+=h,(h=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*h);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();s!==void 0&&(a=a.toString(s)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,t,n){"use strict";var i=n;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,t,n){"use strict";var i=e("./utils"),r=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=o,o.prototype.update=function(s,a){if(s=i.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var l=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-l,s.length),this.pending.length===0&&(this.pending=null),s=i.join32(s,0,s.length-l,this.endian);for(var d=0;d<s.length;d+=this._delta32)this._update(s,d,d+this._delta32)}return this},o.prototype.digest=function(s){return this.update(this._pad()),r(this.pending===null),this._digest(s)},o.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,l=a-(s+this.padLength)%a,d=new Array(l+this.padLength);d[0]=128;for(var c=1;c<l;c++)d[c]=0;if(s<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)d[c++]=0;d[c++]=0,d[c++]=0,d[c++]=0,d[c++]=0,d[c++]=s>>>24&255,d[c++]=s>>>16&255,d[c++]=s>>>8&255,d[c++]=255&s}else for(d[c++]=255&s,d[c++]=s>>>8&255,d[c++]=s>>>16&255,d[c++]=s>>>24&255,d[c++]=0,d[c++]=0,d[c++]=0,d[c++]=0,u=8;u<this.padLength;u++)d[c++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,t,n){"use strict";var i=e("./utils"),r=e("minimalistic-assert");function o(s,a,l){if(!(this instanceof o))return new o(s,a,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,l))}t.exports=o,o.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),r(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},o.prototype.update=function(s,a){return this.inner.update(s,a),this},o.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./common"),o=i.rotl32,s=i.sum32,a=i.sum32_3,l=i.sum32_4,d=r.BlockHash;function c(){if(!(this instanceof c))return new c;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(w,E,T,F){return w<=15?E^T^F:w<=31?E&T|~E&F:w<=47?(E|~T)^F:w<=63?E&F|T&~F:E^(T|~F)}function h(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function p(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}i.inherits(c,d),n.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(w,E){for(var T=this.h[0],F=this.h[1],k=this.h[2],L=this.h[3],V=this.h[4],j=T,z=F,R=k,I=L,N=V,b=0;b<80;b++){var C=s(o(l(T,u(b,F,k,L),w[f[b]+E],h(b)),g[b]),V);T=V,V=L,L=o(k,10),k=F,F=C,C=s(o(l(j,u(79-b,z,R,I),w[m[b]+E],p(b)),v[b]),N),j=N,N=I,I=o(R,10),R=z,z=C}C=a(this.h[1],k,I),this.h[1]=a(this.h[2],L,N),this.h[2]=a(this.h[3],V,j),this.h[3]=a(this.h[4],T,z),this.h[4]=a(this.h[0],F,R),this.h[0]=C},c.prototype._digest=function(w){return w==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,t,n){"use strict";n.sha1=e("./sha/1"),n.sha224=e("./sha/224"),n.sha256=e("./sha/256"),n.sha384=e("./sha/384"),n.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../common"),o=e("./common"),s=i.rotl32,a=i.sum32,l=i.sum32_5,d=o.ft_1,c=r.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(h,c),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(p,f){for(var m=this.W,g=0;g<16;g++)m[g]=p[f+g];for(;g<m.length;g++)m[g]=s(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var v=this.h[0],w=this.h[1],E=this.h[2],T=this.h[3],F=this.h[4];for(g=0;g<m.length;g++){var k=~~(g/20),L=l(s(v,5),d(k,w,E,T),F,m[g],u[k]);F=T,T=E,E=s(w,30),w=v,v=L}this.h[0]=a(this.h[0],v),this.h[1]=a(this.h[1],w),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],T),this.h[4]=a(this.h[4],F)},h.prototype._digest=function(p){return p==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./256");function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../common"),o=e("./common"),s=e("minimalistic-assert"),a=i.sum32,l=i.sum32_4,d=i.sum32_5,c=o.ch32,u=o.maj32,h=o.s0_256,p=o.s1_256,f=o.g0_256,m=o.g1_256,g=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(w,g),t.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(E,T){for(var F=this.W,k=0;k<16;k++)F[k]=E[T+k];for(;k<F.length;k++)F[k]=l(m(F[k-2]),F[k-7],f(F[k-15]),F[k-16]);var L=this.h[0],V=this.h[1],j=this.h[2],z=this.h[3],R=this.h[4],I=this.h[5],N=this.h[6],b=this.h[7];for(s(this.k.length===F.length),k=0;k<F.length;k++){var C=d(b,p(R),c(R,I,N),this.k[k],F[k]),x=a(h(L),u(L,V,j));b=N,N=I,I=R,R=a(z,C),z=j,j=V,V=L,L=a(C,x)}this.h[0]=a(this.h[0],L),this.h[1]=a(this.h[1],V),this.h[2]=a(this.h[2],j),this.h[3]=a(this.h[3],z),this.h[4]=a(this.h[4],R),this.h[5]=a(this.h[5],I),this.h[6]=a(this.h[6],N),this.h[7]=a(this.h[7],b)},w.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./512");function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../common"),o=e("minimalistic-assert"),s=i.rotr64_hi,a=i.rotr64_lo,l=i.shr64_hi,d=i.shr64_lo,c=i.sum64,u=i.sum64_hi,h=i.sum64_lo,p=i.sum64_4_hi,f=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,v=r.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}function T(x,_,D,M,O){var U=x&D^~x&O;return U<0&&(U+=4294967296),U}function F(x,_,D,M,O,U){var G=_&M^~_&U;return G<0&&(G+=4294967296),G}function k(x,_,D,M,O){var U=x&D^x&O^D&O;return U<0&&(U+=4294967296),U}function L(x,_,D,M,O,U){var G=_&M^_&U^M&U;return G<0&&(G+=4294967296),G}function V(x,_){var D=s(x,_,28)^s(_,x,2)^s(_,x,7);return D<0&&(D+=4294967296),D}function j(x,_){var D=a(x,_,28)^a(_,x,2)^a(_,x,7);return D<0&&(D+=4294967296),D}function z(x,_){var D=s(x,_,14)^s(x,_,18)^s(_,x,9);return D<0&&(D+=4294967296),D}function R(x,_){var D=a(x,_,14)^a(x,_,18)^a(_,x,9);return D<0&&(D+=4294967296),D}function I(x,_){var D=s(x,_,1)^s(x,_,8)^l(x,_,7);return D<0&&(D+=4294967296),D}function N(x,_){var D=a(x,_,1)^a(x,_,8)^d(x,_,7);return D<0&&(D+=4294967296),D}function b(x,_){var D=s(x,_,19)^s(_,x,29)^l(x,_,6);return D<0&&(D+=4294967296),D}function C(x,_){var D=a(x,_,19)^a(_,x,29)^d(x,_,6);return D<0&&(D+=4294967296),D}i.inherits(E,v),t.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(x,_){for(var D=this.W,M=0;M<32;M++)D[M]=x[_+M];for(;M<D.length;M+=2){var O=b(D[M-4],D[M-3]),U=C(D[M-4],D[M-3]),G=D[M-14],Y=D[M-13],B=I(D[M-30],D[M-29]),K=N(D[M-30],D[M-29]),A=D[M-32],P=D[M-31];D[M]=p(O,U,G,Y,B,K,A,P),D[M+1]=f(O,U,G,Y,B,K,A,P)}},E.prototype._update=function(x,_){this._prepareBlock(x,_);var D=this.W,M=this.h[0],O=this.h[1],U=this.h[2],G=this.h[3],Y=this.h[4],B=this.h[5],K=this.h[6],A=this.h[7],P=this.h[8],W=this.h[9],Q=this.h[10],se=this.h[11],ne=this.h[12],ie=this.h[13],ye=this.h[14],ve=this.h[15];o(this.k.length===D.length);for(var ee=0;ee<D.length;ee+=2){var fe=ye,de=ve,he=z(P,W),Ce=R(P,W),_e=T(P,W,Q,se,ne),xe=F(P,W,Q,se,ne,ie),ze=this.k[ee],Ve=this.k[ee+1],Ze=D[ee],mt=D[ee+1],Ue=m(fe,de,he,Ce,_e,xe,ze,Ve,Ze,mt),nt=g(fe,de,he,Ce,_e,xe,ze,Ve,Ze,mt);fe=V(M,O),de=j(M,O),he=k(M,O,U,G,Y),Ce=L(M,O,U,G,Y,B);var on=u(fe,de,he,Ce),bt=h(fe,de,he,Ce);ye=ne,ve=ie,ne=Q,ie=se,Q=P,se=W,P=u(K,A,Ue,nt),W=h(A,A,Ue,nt),K=Y,A=B,Y=U,B=G,U=M,G=O,M=u(Ue,nt,on,bt),O=h(Ue,nt,on,bt)}c(this.h,0,M,O),c(this.h,2,U,G),c(this.h,4,Y,B),c(this.h,6,K,A),c(this.h,8,P,W),c(this.h,10,Q,se),c(this.h,12,ne,ie),c(this.h,14,ye,ve)},E.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,t,n){"use strict";var i=e("../utils").rotr32;function r(a,l,d){return a&l^~a&d}function o(a,l,d){return a&l^a&d^l&d}function s(a,l,d){return a^l^d}n.ft_1=function(a,l,d,c){return a===0?r(l,d,c):a===1||a===3?s(l,d,c):a===2?o(l,d,c):void 0},n.ch32=r,n.maj32=o,n.p32=s,n.s0_256=function(a){return i(a,2)^i(a,13)^i(a,22)},n.s1_256=function(a){return i(a,6)^i(a,11)^i(a,25)},n.g0_256=function(a){return i(a,7)^i(a,18)^a>>>3},n.g1_256=function(a){return i(a,17)^i(a,19)^a>>>10}},{"../utils":437}],437:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits");function o(d,c){return(64512&d.charCodeAt(c))==55296&&!(c<0||c+1>=d.length)&&(64512&d.charCodeAt(c+1))==56320}function s(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function a(d){return d.length===1?"0"+d:d}function l(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}n.inherits=r,n.toArray=function(d,c){if(Array.isArray(d))return d.slice();if(!d)return[];var u=[];if(typeof d=="string")if(c){if(c==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),p=0;p<d.length;p+=2)u.push(parseInt(d[p]+d[p+1],16))}else for(var h=0,p=0;p<d.length;p++){var f=d.charCodeAt(p);f<128?u[h++]=f:f<2048?(u[h++]=f>>6|192,u[h++]=63&f|128):o(d,p)?(f=65536+((1023&f)<<10)+(1023&d.charCodeAt(++p)),u[h++]=f>>18|240,u[h++]=f>>12&63|128,u[h++]=f>>6&63|128,u[h++]=63&f|128):(u[h++]=f>>12|224,u[h++]=f>>6&63|128,u[h++]=63&f|128)}else for(p=0;p<d.length;p++)u[p]=0|d[p];return u},n.toHex=function(d){for(var c="",u=0;u<d.length;u++)c+=a(d[u].toString(16));return c},n.htonl=s,n.toHex32=function(d,c){for(var u="",h=0;h<d.length;h++){var p=d[h];c==="little"&&(p=s(p)),u+=l(p.toString(16))}return u},n.zero2=a,n.zero8=l,n.join32=function(d,c,u,h){var p=u-c;i(p%4==0);for(var f=new Array(p/4),m=0,g=c;m<f.length;m++,g+=4){var v;v=h==="big"?d[g]<<24|d[g+1]<<16|d[g+2]<<8|d[g+3]:d[g+3]<<24|d[g+2]<<16|d[g+1]<<8|d[g],f[m]=v>>>0}return f},n.split32=function(d,c){for(var u=new Array(4*d.length),h=0,p=0;h<d.length;h++,p+=4){var f=d[h];c==="big"?(u[p]=f>>>24,u[p+1]=f>>>16&255,u[p+2]=f>>>8&255,u[p+3]=255&f):(u[p+3]=f>>>24,u[p+2]=f>>>16&255,u[p+1]=f>>>8&255,u[p]=255&f)}return u},n.rotr32=function(d,c){return d>>>c|d<<32-c},n.rotl32=function(d,c){return d<<c|d>>>32-c},n.sum32=function(d,c){return d+c>>>0},n.sum32_3=function(d,c,u){return d+c+u>>>0},n.sum32_4=function(d,c,u,h){return d+c+u+h>>>0},n.sum32_5=function(d,c,u,h,p){return d+c+u+h+p>>>0},n.sum64=function(d,c,u,h){var p=d[c],f=h+d[c+1]>>>0,m=(f<h?1:0)+u+p;d[c]=m>>>0,d[c+1]=f},n.sum64_hi=function(d,c,u,h){return(c+h>>>0<c?1:0)+d+u>>>0},n.sum64_lo=function(d,c,u,h){return c+h>>>0},n.sum64_4_hi=function(d,c,u,h,p,f,m,g){var v=0,w=c;return v+=(w=w+h>>>0)<c?1:0,v+=(w=w+f>>>0)<f?1:0,d+u+p+m+(v+=(w=w+g>>>0)<g?1:0)>>>0},n.sum64_4_lo=function(d,c,u,h,p,f,m,g){return c+h+f+g>>>0},n.sum64_5_hi=function(d,c,u,h,p,f,m,g,v,w){var E=0,T=c;return E+=(T=T+h>>>0)<c?1:0,E+=(T=T+f>>>0)<f?1:0,E+=(T=T+g>>>0)<g?1:0,d+u+p+m+v+(E+=(T=T+w>>>0)<w?1:0)>>>0},n.sum64_5_lo=function(d,c,u,h,p,f,m,g,v,w){return c+h+f+g+w>>>0},n.rotr64_hi=function(d,c,u){return(c<<32-u|d>>>u)>>>0},n.rotr64_lo=function(d,c,u){return(d<<32-u|c>>>u)>>>0},n.shr64_hi=function(d,c,u){return d>>>u},n.shr64_lo=function(d,c,u){return(d<<32-u|c>>>u)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,t,n){"use strict";var i=e("hash.js"),r=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function s(a){if(!(this instanceof s))return new s(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=r.toArray(a.entropy,a.entropyEnc||"hex"),d=r.toArray(a.nonce,a.nonceEnc||"hex"),c=r.toArray(a.pers,a.persEnc||"hex");o(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,d,c)}t.exports=s,s.prototype._init=function(a,l,d){var c=a.concat(l).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(a,l,d,c){typeof l!="string"&&(c=d,d=l,l=null),a=r.toArray(a,l),d=r.toArray(d,c),o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(d||[])),this._reseed=1},s.prototype.generate=function(a,l,d,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(c=d,d=l,l=null),d&&(d=r.toArray(d,c||"hex"),this._update(d));for(var u=[];u.length<a;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var h=u.slice(0,a);return this._update(d),this._reseed++,r.encode(h,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,t,n){"use strict";n.read=function(i,r,o,s,a){var l,d,c=8*a-s-1,u=(1<<c)-1,h=u>>1,p=-7,f=o?a-1:0,m=o?-1:1,g=i[r+f];for(f+=m,l=g&(1<<-p)-1,g>>=-p,p+=c;p>0;l=256*l+i[r+f],f+=m,p-=8);for(d=l&(1<<-p)-1,l>>=-p,p+=s;p>0;d=256*d+i[r+f],f+=m,p-=8);if(l===0)l=1-h;else{if(l===u)return d?NaN:1/0*(g?-1:1);d+=Math.pow(2,s),l-=h}return(g?-1:1)*d*Math.pow(2,l-s)},n.write=function(i,r,o,s,a,l){var d,c,u,h=8*l-a-1,p=(1<<h)-1,f=p>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=s?0:l-1,v=s?1:-1,w=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,d=p):(d=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-d))<1&&(d--,u*=2),(r+=d+f>=1?m/u:m*Math.pow(2,1-f))*u>=2&&(d++,u/=2),d+f>=p?(c=0,d=p):d+f>=1?(c=(r*u-1)*Math.pow(2,a),d+=f):(c=r*Math.pow(2,f-1)*Math.pow(2,a),d=0));a>=8;i[o+g]=255&c,g+=v,c/=256,a-=8);for(d=d<<a|c,h+=a;h>0;i[o+g]=255&d,g+=v,d/=256,h-=8);i[o+g-v]|=128*w}},{}],440:[function(e,t,n){"use strict";typeof Object.create=="function"?t.exports=function(i,r){r&&(i.super_=r,i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(i,r){if(r){i.super_=r;var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(e,t,n){(function(i,r,o,s,a,l,d,c){(function(){"use strict";(function(u){typeof n=="object"&&t!==void 0?t.exports=u():(typeof window<"u"?window:r!==void 0?r:typeof self<"u"?self:this).JSZip=u()})(function(){return function u(h,p,f){function m(w,E){if(!p[w]){if(!h[w]){var T=typeof e=="function"&&e;if(!E&&T)return T(w,!0);if(g)return g(w,!0);var F=new Error("Cannot find module '"+w+"'");throw F.code="MODULE_NOT_FOUND",F}var k=p[w]={exports:{}};h[w][0].call(k.exports,function(L){return m(h[w][1][L]||L)},k,k.exports,u,h,p,f)}return p[w].exports}for(var g=typeof e=="function"&&e,v=0;v<f.length;v++)m(f[v]);return m}({1:[function(u,h,p){var f=u("./utils"),m=u("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";p.encode=function(v){for(var w,E,T,F,k,L,V,j=[],z=0,R=v.length,I=R,N=f.getTypeOf(v)!=="string";z<v.length;)I=R-z,T=N?(w=v[z++],E=z<R?v[z++]:0,z<R?v[z++]:0):(w=v.charCodeAt(z++),E=z<R?v.charCodeAt(z++):0,z<R?v.charCodeAt(z++):0),F=w>>2,k=(3&w)<<4|E>>4,L=1<I?(15&E)<<2|T>>6:64,V=2<I?63&T:64,j.push(g.charAt(F)+g.charAt(k)+g.charAt(L)+g.charAt(V));return j.join("")},p.decode=function(v){var w,E,T,F,k,L,V=0,j=0,z="data:";if(v.substr(0,z.length)===z)throw new Error("Invalid base64 input, it looks like a data url.");var R,I=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===g.charAt(64)&&I--,v.charAt(v.length-2)===g.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=m.uint8array?new Uint8Array(0|I):new Array(0|I);V<v.length;)w=g.indexOf(v.charAt(V++))<<2|(F=g.indexOf(v.charAt(V++)))>>4,E=(15&F)<<4|(k=g.indexOf(v.charAt(V++)))>>2,T=(3&k)<<6|(L=g.indexOf(v.charAt(V++))),R[j++]=w,k!==64&&(R[j++]=E),L!==64&&(R[j++]=T);return R}},{"./support":30,"./utils":32}],2:[function(u,h,p){var f=u("./external"),m=u("./stream/DataWorker"),g=u("./stream/Crc32Probe"),v=u("./stream/DataLengthProbe");function w(E,T,F,k,L){this.compressedSize=E,this.uncompressedSize=T,this.crc32=F,this.compression=k,this.compressedContent=L}w.prototype={getContentWorker:function(){var E=new m(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),T=this;return E.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new m(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},w.createWorkerFrom=function(E,T,F){return E.pipe(new g).pipe(new v("uncompressedSize")).pipe(T.compressWorker(F)).pipe(new v("compressedSize")).withStreamInfo("compression",T)},h.exports=w},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,h,p){var f=u("./stream/GenericWorker");p.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},p.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,h,p){var f=u("./utils"),m=function(){for(var g,v=[],w=0;w<256;w++){g=w;for(var E=0;E<8;E++)g=1&g?3988292384^g>>>1:g>>>1;v[w]=g}return v}();h.exports=function(g,v){return g!==void 0&&g.length?f.getTypeOf(g)!=="string"?function(w,E,T,F){var k=m,L=0+T;w^=-1;for(var V=0;V<L;V++)w=w>>>8^k[255&(w^E[V])];return-1^w}(0|v,g,g.length):function(w,E,T,F){var k=m,L=0+T;w^=-1;for(var V=0;V<L;V++)w=w>>>8^k[255&(w^E.charCodeAt(V))];return-1^w}(0|v,g,g.length):0}},{"./utils":32}],5:[function(u,h,p){p.base64=!1,p.binary=!1,p.dir=!1,p.createFolders=!0,p.date=null,p.compression=null,p.compressionOptions=null,p.comment=null,p.unixPermissions=null,p.dosPermissions=null},{}],6:[function(u,h,p){var f;f=typeof Promise<"u"?Promise:u("lie"),h.exports={Promise:f}},{lie:37}],7:[function(u,h,p){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",m=u("pako"),g=u("./utils"),v=u("./stream/GenericWorker"),w=f?"uint8array":"array";function E(T,F){v.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=F,this.meta={}}p.magic="\b\0",g.inherits(E,v),E.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(w,T.data),!1)},E.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new m[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(F){T.push({data:F,meta:T.meta})}},p.compressWorker=function(T){return new E("Deflate",T)},p.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,h,p){function f(k,L){var V,j="";for(V=0;V<L;V++)j+=String.fromCharCode(255&k),k>>>=8;return j}function m(k,L,V,j,z,R){var I,N,b=k.file,C=k.compression,x=R!==w.utf8encode,_=g.transformTo("string",R(b.name)),D=g.transformTo("string",w.utf8encode(b.name)),M=b.comment,O=g.transformTo("string",R(M)),U=g.transformTo("string",w.utf8encode(M)),G=D.length!==b.name.length,Y=U.length!==M.length,B="",K="",A="",P=b.dir,W=b.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};L&&!V||(Q.crc32=k.crc32,Q.compressedSize=k.compressedSize,Q.uncompressedSize=k.uncompressedSize);var se=0;L&&(se|=8),x||!G&&!Y||(se|=2048);var ne=0,ie=0;P&&(ne|=16),z==="UNIX"?(ie=798,ne|=function(ve,ee){var fe=ve;return ve||(fe=ee?16893:33204),(65535&fe)<<16}(b.unixPermissions,P)):(ie=20,ne|=function(ve){return 63&(ve||0)}(b.dosPermissions)),I=W.getUTCHours(),I<<=6,I|=W.getUTCMinutes(),I<<=5,I|=W.getUTCSeconds()/2,N=W.getUTCFullYear()-1980,N<<=4,N|=W.getUTCMonth()+1,N<<=5,N|=W.getUTCDate(),G&&(K=f(1,1)+f(E(_),4)+D,B+="up"+f(K.length,2)+K),Y&&(A=f(1,1)+f(E(O),4)+U,B+="uc"+f(A.length,2)+A);var ye="";return ye+=`
\0`,ye+=f(se,2),ye+=C.magic,ye+=f(I,2),ye+=f(N,2),ye+=f(Q.crc32,4),ye+=f(Q.compressedSize,4),ye+=f(Q.uncompressedSize,4),ye+=f(_.length,2),ye+=f(B.length,2),{fileRecord:T.LOCAL_FILE_HEADER+ye+_+B,dirRecord:T.CENTRAL_FILE_HEADER+f(ie,2)+ye+f(O.length,2)+"\0\0\0\0"+f(ne,4)+f(j,4)+_+B+O}}var g=u("../utils"),v=u("../stream/GenericWorker"),w=u("../utf8"),E=u("../crc32"),T=u("../signature");function F(k,L,V,j){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=V,this.encodeFileName=j,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(F,v),F.prototype.push=function(k){var L=k.meta.percent||0,V=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,v.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:V?(L+100*(V-j-1))/V:100}}))},F.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var L=this.streamFiles&&!k.file.dir;if(L){var V=m(k,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},F.prototype.closedSource=function(k){this.accumulate=!1;var L=this.streamFiles&&!k.file.dir,V=m(k,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),L)this.push({data:function(j){return T.DATA_DESCRIPTOR+f(j.crc32,4)+f(j.compressedSize,4)+f(j.uncompressedSize,4)}(k),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},F.prototype.flush=function(){for(var k=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var V=this.bytesWritten-k,j=function(z,R,I,N,b){var C=g.transformTo("string",b(N));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(z,2)+f(z,2)+f(R,4)+f(I,4)+f(C.length,2)+C}(this.dirRecords.length,V,k,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},F.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},F.prototype.registerPrevious=function(k){this._sources.push(k);var L=this;return k.on("data",function(V){L.processChunk(V)}),k.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),k.on("error",function(V){L.error(V)}),this},F.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},F.prototype.error=function(k){var L=this._sources;if(!v.prototype.error.call(this,k))return!1;for(var V=0;V<L.length;V++)try{L[V].error(k)}catch{}return!0},F.prototype.lock=function(){v.prototype.lock.call(this);for(var k=this._sources,L=0;L<k.length;L++)k[L].lock()},h.exports=F},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,h,p){var f=u("../compressions"),m=u("./ZipFileWorker");p.generateWorker=function(g,v,w){var E=new m(v.streamFiles,w,v.platform,v.encodeFileName),T=0;try{g.forEach(function(F,k){T++;var L=function(R,I){var N=R||I,b=f[N];if(!b)throw new Error(N+" is not a valid compression method !");return b}(k.options.compression,v.compression),V=k.options.compressionOptions||v.compressionOptions||{},j=k.dir,z=k.date;k._compressWorker(L,V).withStreamInfo("file",{name:F,dir:j,date:z,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(E)}),E.entriesCount=T}catch(F){E.error(F)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,h,p){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var m=new f;for(var g in this)typeof this[g]!="function"&&(m[g]=this[g]);return m}}(f.prototype=u("./object")).loadAsync=u("./load"),f.support=u("./support"),f.defaults=u("./defaults"),f.version="3.10.1",f.loadAsync=function(m,g){return new f().loadAsync(m,g)},f.external=u("./external"),h.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,h,p){var f=u("./utils"),m=u("./external"),g=u("./utf8"),v=u("./zipEntries"),w=u("./stream/Crc32Probe"),E=u("./nodejsUtils");function T(F){return new m.Promise(function(k,L){var V=F.decompressed.getContentWorker().pipe(new w);V.on("error",function(j){L(j)}).on("end",function(){V.streamInfo.crc32!==F.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}h.exports=function(F,k){var L=this;return k=f.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),E.isNode&&E.isStream(F)?m.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",F,!0,k.optimizedBinaryString,k.base64).then(function(V){var j=new v(k);return j.load(V),j}).then(function(V){var j=[m.Promise.resolve(V)],z=V.files;if(k.checkCRC32)for(var R=0;R<z.length;R++)j.push(T(z[R]));return m.Promise.all(j)}).then(function(V){for(var j=V.shift(),z=j.files,R=0;R<z.length;R++){var I=z[R],N=I.fileNameStr,b=f.resolve(I.fileNameStr);L.file(b,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:k.createFolders}),I.dir||(L.file(b).unsafeOriginalName=N)}return j.zipComment.length&&(L.comment=j.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,h,p){var f=u("../utils"),m=u("../stream/GenericWorker");function g(v,w){m.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(w)}f.inherits(g,m),g.prototype._bindStream=function(v){var w=this;(this._stream=v).pause(),v.on("data",function(E){w.push({data:E,meta:{percent:0}})}).on("error",function(E){w.isPaused?this.generatedError=E:w.error(E)}).on("end",function(){w.isPaused?w._upstreamEnded=!0:w.end()})},g.prototype.pause=function(){return!!m.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,h,p){var f=u("readable-stream").Readable;function m(g,v,w){f.call(this,v),this._helper=g;var E=this;g.on("data",function(T,F){E.push(T)||E._helper.pause(),w&&w(F)}).on("error",function(T){E.emit("error",T)}).on("end",function(){E.push(null)})}u("../utils").inherits(m,f),m.prototype._read=function(){this._helper.resume()},h.exports=m},{"../utils":32,"readable-stream":16}],14:[function(u,h,p){h.exports={isNode:o!==void 0,newBufferFrom:function(f,m){if(o.from&&o.from!==Uint8Array.from)return o.from(f,m);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new o(f,m)},allocBuffer:function(f){if(o.alloc)return o.alloc(f);var m=new o(f);return m.fill(0),m},isBuffer:function(f){return o.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(u,h,p){function f(b,C,x){var _,D=g.getTypeOf(C),M=g.extend(x||{},E);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(b=z(b)),M.createFolders&&(_=j(b))&&R.call(this,_,!0);var O=D==="string"&&M.binary===!1&&M.base64===!1;x&&x.binary!==void 0||(M.binary=!O),(C instanceof T&&C.uncompressedSize===0||M.dir||!C||C.length===0)&&(M.base64=!1,M.binary=!0,C="",M.compression="STORE",D="string");var U;U=C instanceof T||C instanceof v?C:L.isNode&&L.isStream(C)?new V(b,C):g.prepareContent(b,C,M.binary,M.optimizedBinaryString,M.base64);var G=new F(b,U,M);this.files[b]=G}var m=u("./utf8"),g=u("./utils"),v=u("./stream/GenericWorker"),w=u("./stream/StreamHelper"),E=u("./defaults"),T=u("./compressedObject"),F=u("./zipObject"),k=u("./generate"),L=u("./nodejsUtils"),V=u("./nodejs/NodejsStreamInputAdapter"),j=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var C=b.lastIndexOf("/");return 0<C?b.substring(0,C):""},z=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},R=function(b,C){return C=C!==void 0?C:E.createFolders,b=z(b),this.files[b]||f.call(this,b,null,{dir:!0,createFolders:C}),this.files[b]};function I(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var C,x,_;for(C in this.files)_=this.files[C],(x=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&b(x,_)},filter:function(b){var C=[];return this.forEach(function(x,_){b(x,_)&&C.push(_)}),C},file:function(b,C,x){if(arguments.length!==1)return b=this.root+b,f.call(this,b,C,x),this;if(I(b)){var _=b;return this.filter(function(M,O){return!O.dir&&_.test(M)})}var D=this.files[this.root+b];return D&&!D.dir?D:null},folder:function(b){if(!b)return this;if(I(b))return this.filter(function(D,M){return M.dir&&b.test(D)});var C=this.root+b,x=R.call(this,C),_=this.clone();return _.root=x.name,_},remove:function(b){b=this.root+b;var C=this.files[b];if(C||(b.slice(-1)!=="/"&&(b+="/"),C=this.files[b]),C&&!C.dir)delete this.files[b];else for(var x=this.filter(function(D,M){return M.name.slice(0,b.length)===b}),_=0;_<x.length;_++)delete this.files[x[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var C,x={};try{if((x=g.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:m.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");g.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var _=x.comment||this.comment||"";C=k.generateWorker(this,x,_)}catch(D){(C=new v("error")).error(D)}return new w(C,x.type||"string",x.mimeType)},generateAsync:function(b,C){return this.generateInternalStream(b).accumulate(C)},generateNodeStream:function(b,C){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(C)}};h.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,h,p){h.exports=u("stream")},{stream:void 0}],17:[function(u,h,p){var f=u("./DataReader");function m(g){f.call(this,g);for(var v=0;v<this.data.length;v++)g[v]=255&g[v]}u("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data[this.zero+g]},m.prototype.lastIndexOfSignature=function(g){for(var v=g.charCodeAt(0),w=g.charCodeAt(1),E=g.charCodeAt(2),T=g.charCodeAt(3),F=this.length-4;0<=F;--F)if(this.data[F]===v&&this.data[F+1]===w&&this.data[F+2]===E&&this.data[F+3]===T)return F-this.zero;return-1},m.prototype.readAndCheckSignature=function(g){var v=g.charCodeAt(0),w=g.charCodeAt(1),E=g.charCodeAt(2),T=g.charCodeAt(3),F=this.readData(4);return v===F[0]&&w===F[1]&&E===F[2]&&T===F[3]},m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./DataReader":18}],18:[function(u,h,p){var f=u("../utils");function m(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}m.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var v,w=0;for(this.checkOffset(g),v=this.index+g-1;v>=this.index;v--)w=(w<<8)+this.byteAt(v);return this.index+=g,w},readString:function(g){return f.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},h.exports=m},{"../utils":32}],19:[function(u,h,p){var f=u("./Uint8ArrayReader");function m(g){f.call(this,g)}u("../utils").inherits(m,f),m.prototype.readData=function(g){this.checkOffset(g);var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,h,p){var f=u("./DataReader");function m(g){f.call(this,g)}u("../utils").inherits(m,f),m.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},m.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},m.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},m.prototype.readData=function(g){this.checkOffset(g);var v=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./DataReader":18}],21:[function(u,h,p){var f=u("./ArrayReader");function m(g){f.call(this,g)}u("../utils").inherits(m,f),m.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,v},h.exports=m},{"../utils":32,"./ArrayReader":17}],22:[function(u,h,p){var f=u("../utils"),m=u("../support"),g=u("./ArrayReader"),v=u("./StringReader"),w=u("./NodeBufferReader"),E=u("./Uint8ArrayReader");h.exports=function(T){var F=f.getTypeOf(T);return f.checkSupport(F),F!=="string"||m.uint8array?F==="nodebuffer"?new w(T):m.uint8array?new E(f.transformTo("uint8array",T)):new g(f.transformTo("array",T)):new v(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,h,p){p.LOCAL_FILE_HEADER="PK",p.CENTRAL_FILE_HEADER="PK",p.CENTRAL_DIRECTORY_END="PK",p.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",p.ZIP64_CENTRAL_DIRECTORY_END="PK",p.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,h,p){var f=u("./GenericWorker"),m=u("../utils");function g(v){f.call(this,"ConvertWorker to "+v),this.destType=v}m.inherits(g,f),g.prototype.processChunk=function(v){this.push({data:m.transformTo(this.destType,v.data),meta:v.meta})},h.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(u,h,p){var f=u("./GenericWorker"),m=u("../crc32");function g(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(g,f),g.prototype.processChunk=function(v){this.streamInfo.crc32=m(v.data,this.streamInfo.crc32||0),this.push(v)},h.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,h,p){var f=u("../utils"),m=u("./GenericWorker");function g(v){m.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}f.inherits(g,m),g.prototype.processChunk=function(v){if(v){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+v.data.length}m.prototype.processChunk.call(this,v)},h.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(u,h,p){var f=u("../utils"),m=u("./GenericWorker");function g(v){m.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(E){w.dataIsReady=!0,w.data=E,w.max=E&&E.length||0,w.type=f.getTypeOf(E),w.isPaused||w._tickAndRepeat()},function(E){w.error(E)})}f.inherits(g,m),g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,w=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,w);break;case"uint8array":v=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":v=this.data.slice(this.index,w)}return this.index=w,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(u,h,p){function f(m){this.name=m||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(m){this.emit("data",m)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(m){this.emit("error",m)}return!0},error:function(m){return!this.isFinished&&(this.isPaused?this.generatedError=m:(this.isFinished=!0,this.emit("error",m),this.previous&&this.previous.error(m),this.cleanUp()),!0)},on:function(m,g){return this._listeners[m].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(m,g){if(this._listeners[m])for(var v=0;v<this._listeners[m].length;v++)this._listeners[m][v].call(this,g)},pipe:function(m){return m.registerPrevious(this)},registerPrevious:function(m){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=m.streamInfo,this.mergeStreamInfo(),this.previous=m;var g=this;return m.on("data",function(v){g.processChunk(v)}),m.on("end",function(){g.end()}),m.on("error",function(v){g.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var m=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),m=!0),this.previous&&this.previous.resume(),!m},flush:function(){},processChunk:function(m){this.push(m)},withStreamInfo:function(m,g){return this.extraStreamInfo[m]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var m in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,m)&&(this.streamInfo[m]=this.extraStreamInfo[m])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var m="Worker "+this.name;return this.previous?this.previous+" -> "+m:m}},h.exports=f},{}],29:[function(u,h,p){var f=u("../utils"),m=u("./ConvertWorker"),g=u("./GenericWorker"),v=u("../base64"),w=u("../support"),E=u("../external"),T=null;if(w.nodestream)try{T=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function F(k,L,V){var j=L;switch(L){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=L,this._mimeType=V,f.checkSupport(j),this._worker=k.pipe(new m(j)),k.lock()}catch(z){this._worker=new g("error"),this._worker.error(z)}}F.prototype={accumulate:function(k){return function(L,V){return new E.Promise(function(j,z){var R=[],I=L._internalType,N=L._outputType,b=L._mimeType;L.on("data",function(C,x){R.push(C),V&&V(x)}).on("error",function(C){R=[],z(C)}).on("end",function(){try{var C=function(x,_,D){switch(x){case"blob":return f.newBlob(f.transformTo("arraybuffer",_),D);case"base64":return v.encode(_);default:return f.transformTo(x,_)}}(N,function(x,_){var D,M=0,O=null,U=0;for(D=0;D<_.length;D++)U+=_[D].length;switch(x){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(O=new Uint8Array(U),D=0;D<_.length;D++)O.set(_[D],M),M+=_[D].length;return O;case"nodebuffer":return o.concat(_);default:throw new Error("concat : unsupported type '"+x+"'")}}(I,R),b);j(C)}catch(x){z(x)}R=[]}).resume()})}(this,k)},on:function(k,L){var V=this;return k==="data"?this._worker.on(k,function(j){L.call(V,j.data,j.meta)}):this._worker.on(k,function(){f.delay(L,arguments,V)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},k)}},h.exports=F},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,h,p){if(p.base64=!0,p.array=!0,p.string=!0,p.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",p.nodebuffer=o!==void 0,p.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")p.blob=!1;else{var f=new ArrayBuffer(0);try{p.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);m.append(f),p.blob=m.getBlob("application/zip").size===0}catch{p.blob=!1}}}try{p.nodestream=!!u("readable-stream").Readable}catch{p.nodestream=!1}},{"readable-stream":16}],31:[function(u,h,p){for(var f=u("./utils"),m=u("./support"),g=u("./nodejsUtils"),v=u("./stream/GenericWorker"),w=new Array(256),E=0;E<256;E++)w[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function T(){v.call(this,"utf-8 decode"),this.leftOver=null}function F(){v.call(this,"utf-8 encode")}w[254]=w[254]=1,p.utf8encode=function(k){return m.nodebuffer?g.newBufferFrom(k,"utf-8"):function(L){var V,j,z,R,I,N=L.length,b=0;for(R=0;R<N;R++)(64512&(j=L.charCodeAt(R)))==55296&&R+1<N&&(64512&(z=L.charCodeAt(R+1)))==56320&&(j=65536+(j-55296<<10)+(z-56320),R++),b+=j<128?1:j<2048?2:j<65536?3:4;for(V=m.uint8array?new Uint8Array(b):new Array(b),R=I=0;I<b;R++)(64512&(j=L.charCodeAt(R)))==55296&&R+1<N&&(64512&(z=L.charCodeAt(R+1)))==56320&&(j=65536+(j-55296<<10)+(z-56320),R++),j<128?V[I++]=j:(j<2048?V[I++]=192|j>>>6:(j<65536?V[I++]=224|j>>>12:(V[I++]=240|j>>>18,V[I++]=128|j>>>12&63),V[I++]=128|j>>>6&63),V[I++]=128|63&j);return V}(k)},p.utf8decode=function(k){return m.nodebuffer?f.transformTo("nodebuffer",k).toString("utf-8"):function(L){var V,j,z,R,I=L.length,N=new Array(2*I);for(V=j=0;V<I;)if((z=L[V++])<128)N[j++]=z;else if(4<(R=w[z]))N[j++]=65533,V+=R-1;else{for(z&=R===2?31:R===3?15:7;1<R&&V<I;)z=z<<6|63&L[V++],R--;1<R?N[j++]=65533:z<65536?N[j++]=z:(z-=65536,N[j++]=55296|z>>10&1023,N[j++]=56320|1023&z)}return N.length!==j&&(N.subarray?N=N.subarray(0,j):N.length=j),f.applyFromCharCode(N)}(k=f.transformTo(m.uint8array?"uint8array":"array",k))},f.inherits(T,v),T.prototype.processChunk=function(k){var L=f.transformTo(m.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(m.uint8array){var V=L;(L=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),L.set(V,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var j=function(R,I){var N;for((I=I||R.length)>R.length&&(I=R.length),N=I-1;0<=N&&(192&R[N])==128;)N--;return N<0||N===0?I:N+w[R[N]]>I?N:I}(L),z=L;j!==L.length&&(m.uint8array?(z=L.subarray(0,j),this.leftOver=L.subarray(j,L.length)):(z=L.slice(0,j),this.leftOver=L.slice(j,L.length))),this.push({data:p.utf8decode(z),meta:k.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:p.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},p.Utf8DecodeWorker=T,f.inherits(F,v),F.prototype.processChunk=function(k){this.push({data:p.utf8encode(k.data),meta:k.meta})},p.Utf8EncodeWorker=F},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,h,p){var f=u("./support"),m=u("./base64"),g=u("./nodejsUtils"),v=u("./external");function w(V){return V}function E(V,j){for(var z=0;z<V.length;++z)j[z]=255&V.charCodeAt(z);return j}u("setimmediate"),p.newBlob=function(V,j){p.checkSupport("blob");try{return new Blob([V],{type:j})}catch{try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return z.append(V),z.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(V,j,z){var R=[],I=0,N=V.length;if(N<=z)return String.fromCharCode.apply(null,V);for(;I<N;)j==="array"||j==="nodebuffer"?R.push(String.fromCharCode.apply(null,V.slice(I,Math.min(I+z,N)))):R.push(String.fromCharCode.apply(null,V.subarray(I,Math.min(I+z,N)))),I+=z;return R.join("")},stringifyByChar:function(V){for(var j="",z=0;z<V.length;z++)j+=String.fromCharCode(V[z]);return j},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch{return!1}}()}};function F(V){var j=65536,z=p.getTypeOf(V),R=!0;if(z==="uint8array"?R=T.applyCanBeUsed.uint8array:z==="nodebuffer"&&(R=T.applyCanBeUsed.nodebuffer),R)for(;1<j;)try{return T.stringifyByChunk(V,z,j)}catch{j=Math.floor(j/2)}return T.stringifyByChar(V)}function k(V,j){for(var z=0;z<V.length;z++)j[z]=V[z];return j}p.applyFromCharCode=F;var L={};L.string={string:w,array:function(V){return E(V,new Array(V.length))},arraybuffer:function(V){return L.string.uint8array(V).buffer},uint8array:function(V){return E(V,new Uint8Array(V.length))},nodebuffer:function(V){return E(V,g.allocBuffer(V.length))}},L.array={string:F,array:w,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return g.newBufferFrom(V)}},L.arraybuffer={string:function(V){return F(new Uint8Array(V))},array:function(V){return k(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:w,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return g.newBufferFrom(new Uint8Array(V))}},L.uint8array={string:F,array:function(V){return k(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:w,nodebuffer:function(V){return g.newBufferFrom(V)}},L.nodebuffer={string:F,array:function(V){return k(V,new Array(V.length))},arraybuffer:function(V){return L.nodebuffer.uint8array(V).buffer},uint8array:function(V){return k(V,new Uint8Array(V.length))},nodebuffer:w},p.transformTo=function(V,j){if(j=j||"",!V)return j;p.checkSupport(V);var z=p.getTypeOf(j);return L[z][V](j)},p.resolve=function(V){for(var j=V.split("/"),z=[],R=0;R<j.length;R++){var I=j[R];I==="."||I===""&&R!==0&&R!==j.length-1||(I===".."?z.pop():z.push(I))}return z.join("/")},p.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":f.nodebuffer&&g.isBuffer(V)?"nodebuffer":f.uint8array&&V instanceof Uint8Array?"uint8array":f.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},p.checkSupport=function(V){if(!f[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},p.MAX_VALUE_16BITS=65535,p.MAX_VALUE_32BITS=-1,p.pretty=function(V){var j,z,R="";for(z=0;z<(V||"").length;z++)R+="\\x"+((j=V.charCodeAt(z))<16?"0":"")+j.toString(16).toUpperCase();return R},p.delay=function(V,j,z){c(function(){V.apply(z||null,j||[])})},p.inherits=function(V,j){function z(){}z.prototype=j.prototype,V.prototype=new z},p.extend=function(){var V,j,z={};for(V=0;V<arguments.length;V++)for(j in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],j)&&z[j]===void 0&&(z[j]=arguments[V][j]);return z},p.prepareContent=function(V,j,z,R,I){return v.Promise.resolve(j).then(function(N){return f.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new v.Promise(function(b,C){var x=new FileReader;x.onload=function(_){b(_.target.result)},x.onerror=function(_){C(_.target.error)},x.readAsArrayBuffer(N)}):N}).then(function(N){var b=p.getTypeOf(N);return b?(b==="arraybuffer"?N=p.transformTo("uint8array",N):b==="string"&&(I?N=m.decode(N):z&&R!==!0&&(N=function(C){return E(C,f.uint8array?new Uint8Array(C.length):new Array(C.length))}(N))),N):v.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,h,p){var f=u("./reader/readerFor"),m=u("./utils"),g=u("./signature"),v=u("./zipEntry"),w=u("./support");function E(T){this.files=[],this.loadOptions=T}E.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var F=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+m.pretty(F)+", expected "+m.pretty(T)+")")}},isSignature:function(T,F){var k=this.reader.index;this.reader.setIndex(T);var L=this.reader.readString(4)===F;return this.reader.setIndex(k),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),F=w.uint8array?"uint8array":"array",k=m.transformTo(F,T);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,F,k,L=this.zip64EndOfCentralSize-44;0<L;)T=this.reader.readInt(2),F=this.reader.readInt(4),k=this.reader.readData(F),this.zip64ExtensibleData[T]={id:T,length:F,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,F;for(T=0;T<this.files.length;T++)F=this.files[T],this.reader.setIndex(F.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),F.readLocalPart(this.reader),F.handleUTF8(),F.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(T=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var F=T;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===m.MAX_VALUE_16BITS||this.diskWithCentralDirStart===m.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===m.MAX_VALUE_16BITS||this.centralDirRecords===m.MAX_VALUE_16BITS||this.centralDirSize===m.MAX_VALUE_32BITS||this.centralDirOffset===m.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var L=F-k;if(0<L)this.isSignature(F,g.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(T){this.reader=f(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,h,p){var f=u("./reader/readerFor"),m=u("./utils"),g=u("./compressedObject"),v=u("./crc32"),w=u("./utf8"),E=u("./compressions"),T=u("./support");function F(k,L){this.options=k,this.loadOptions=L}F.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var L,V;if(k.skip(22),this.fileNameLength=k.readInt(2),V=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((L=function(j){for(var z in E)if(Object.prototype.hasOwnProperty.call(E,z)&&E[z].magic===j)return E[z];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+m.pretty(this.compressionMethod)+" unknown (inner file : "+m.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,L,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var L=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(L),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=f(this.extraFields[1].value);this.uncompressedSize===m.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===m.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===m.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===m.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var L,V,j,z=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<z;)L=k.readInt(2),V=k.readInt(2),j=k.readData(V),this.extraFields[L]={id:L,length:V,value:j};k.setIndex(z)},handleUTF8:function(){var k=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(L!==null)this.fileNameStr=L;else{var V=m.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var z=m.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(z)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var L=f(k.value);return L.readInt(1)!==1||v(this.fileName)!==L.readInt(4)?null:w.utf8decode(L.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var L=f(k.value);return L.readInt(1)!==1||v(this.fileComment)!==L.readInt(4)?null:w.utf8decode(L.readData(k.length-5))}return null}},h.exports=F},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,h,p){function f(L,V,j){this.name=L,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=V,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var m=u("./stream/StreamHelper"),g=u("./stream/DataWorker"),v=u("./utf8"),w=u("./compressedObject"),E=u("./stream/GenericWorker");f.prototype={internalStream:function(L){var V=null,j="string";try{if(!L)throw new Error("No output type specified.");var z=(j=L.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),V=this._decompressWorker();var R=!this._dataBinary;R&&!z&&(V=V.pipe(new v.Utf8EncodeWorker)),!R&&z&&(V=V.pipe(new v.Utf8DecodeWorker))}catch(I){(V=new E("error")).error(I)}return new m(V,j,"")},async:function(L,V){return this.internalStream(L).accumulate(V)},nodeStream:function(L,V){return this.internalStream(L||"nodebuffer").toNodejsStream(V)},_compressWorker:function(L,V){if(this._data instanceof w&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new v.Utf8EncodeWorker)),w.createWorkerFrom(j,L,V)},_decompressWorker:function(){return this._data instanceof w?this._data.getContentWorker():this._data instanceof E?this._data:new g(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],F=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<T.length;k++)f.prototype[T[k]]=F;h.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,h,p){(function(f){var m,g,v=f.MutationObserver||f.WebKitMutationObserver;if(v){var w=0,E=new v(L),T=f.document.createTextNode("");E.observe(T,{characterData:!0}),m=function(){T.data=w=++w%2}}else if(f.setImmediate||f.MessageChannel===void 0)m="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var V=f.document.createElement("script");V.onreadystatechange=function(){L(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},f.document.documentElement.appendChild(V)}:function(){setTimeout(L,0)};else{var F=new f.MessageChannel;F.port1.onmessage=L,m=function(){F.port2.postMessage(0)}}var k=[];function L(){var V,j;g=!0;for(var z=k.length;z;){for(j=k,k=[],V=-1;++V<z;)j[V]();z=k.length}g=!1}h.exports=function(V){k.push(V)!==1||g||m()}}).call(this,r!==void 0?r:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,h,p){var f=u("immediate");function m(){}var g={},v=["REJECTED"],w=["FULFILLED"],E=["PENDING"];function T(z){if(typeof z!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,z!==m&&V(this,z)}function F(z,R,I){this.promise=z,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function k(z,R,I){f(function(){var N;try{N=R(I)}catch(b){return g.reject(z,b)}N===z?g.reject(z,new TypeError("Cannot resolve promise with itself")):g.resolve(z,N)})}function L(z){var R=z&&z.then;if(z&&(typeof z=="object"||typeof z=="function")&&typeof R=="function")return function(){R.apply(z,arguments)}}function V(z,R){var I=!1;function N(x){I||(I=!0,g.reject(z,x))}function b(x){I||(I=!0,g.resolve(z,x))}var C=j(function(){R(b,N)});C.status==="error"&&N(C.value)}function j(z,R){var I={};try{I.value=z(R),I.status="success"}catch(N){I.status="error",I.value=N}return I}(h.exports=T).prototype.finally=function(z){if(typeof z!="function")return this;var R=this.constructor;return this.then(function(I){return R.resolve(z()).then(function(){return I})},function(I){return R.resolve(z()).then(function(){throw I})})},T.prototype.catch=function(z){return this.then(null,z)},T.prototype.then=function(z,R){if(typeof z!="function"&&this.state===w||typeof R!="function"&&this.state===v)return this;var I=new this.constructor(m);return this.state!==E?k(I,this.state===w?z:R,this.outcome):this.queue.push(new F(I,z,R)),I},F.prototype.callFulfilled=function(z){g.resolve(this.promise,z)},F.prototype.otherCallFulfilled=function(z){k(this.promise,this.onFulfilled,z)},F.prototype.callRejected=function(z){g.reject(this.promise,z)},F.prototype.otherCallRejected=function(z){k(this.promise,this.onRejected,z)},g.resolve=function(z,R){var I=j(L,R);if(I.status==="error")return g.reject(z,I.value);var N=I.value;if(N)V(z,N);else{z.state=w,z.outcome=R;for(var b=-1,C=z.queue.length;++b<C;)z.queue[b].callFulfilled(R)}return z},g.reject=function(z,R){z.state=v,z.outcome=R;for(var I=-1,N=z.queue.length;++I<N;)z.queue[I].callRejected(R);return z},T.resolve=function(z){return z instanceof this?z:g.resolve(new this(m),z)},T.reject=function(z){var R=new this(m);return g.reject(R,z)},T.all=function(z){var R=this;if(Object.prototype.toString.call(z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=z.length,N=!1;if(!I)return this.resolve([]);for(var b=new Array(I),C=0,x=-1,_=new this(m);++x<I;)D(z[x],x);return _;function D(M,O){R.resolve(M).then(function(U){b[O]=U,++C!==I||N||(N=!0,g.resolve(_,b))},function(U){N||(N=!0,g.reject(_,U))})}},T.race=function(z){if(Object.prototype.toString.call(z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=z.length,I=!1;if(!R)return this.resolve([]);for(var N,b=-1,C=new this(m);++b<R;)N=z[b],this.resolve(N).then(function(x){I||(I=!0,g.resolve(C,x))},function(x){I||(I=!0,g.reject(C,x))});return C}},{immediate:36}],38:[function(u,h,p){var f={};(0,u("./lib/utils/common").assign)(f,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),h.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,h,p){var f=u("./zlib/deflate"),m=u("./utils/common"),g=u("./utils/strings"),v=u("./zlib/messages"),w=u("./zlib/zstream"),E=Object.prototype.toString;function T(k){if(!(this instanceof T))return new T(k);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},k||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var V=f.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(V!==0)throw new Error(v[V]);if(L.header&&f.deflateSetHeader(this.strm,L.header),L.dictionary){var j;if(j=typeof L.dictionary=="string"?g.string2buf(L.dictionary):E.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(V=f.deflateSetDictionary(this.strm,j))!==0)throw new Error(v[V]);this._dict_set=!0}}function F(k,L){var V=new T(L);if(V.push(k,!0),V.err)throw V.msg||v[V.err];return V.result}T.prototype.push=function(k,L){var V,j,z=this.strm,R=this.options.chunkSize;if(this.ended)return!1;j=L===~~L?L:L===!0?4:0,typeof k=="string"?z.input=g.string2buf(k):E.call(k)==="[object ArrayBuffer]"?z.input=new Uint8Array(k):z.input=k,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new m.Buf8(R),z.next_out=0,z.avail_out=R),(V=f.deflate(z,j))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(z.output,z.next_out))):this.onData(m.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&V!==1);return j===4?(V=f.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):j!==2||(this.onEnd(0),!(z.avail_out=0))},T.prototype.onData=function(k){this.chunks.push(k)},T.prototype.onEnd=function(k){k===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},p.Deflate=T,p.deflate=F,p.deflateRaw=function(k,L){return(L=L||{}).raw=!0,F(k,L)},p.gzip=function(k,L){return(L=L||{}).gzip=!0,F(k,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,h,p){var f=u("./zlib/inflate"),m=u("./utils/common"),g=u("./utils/strings"),v=u("./zlib/constants"),w=u("./zlib/messages"),E=u("./zlib/zstream"),T=u("./zlib/gzheader"),F=Object.prototype.toString;function k(V){if(!(this instanceof k))return new k(V);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},V||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||V&&V.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var z=f.inflateInit2(this.strm,j.windowBits);if(z!==v.Z_OK)throw new Error(w[z]);this.header=new T,f.inflateGetHeader(this.strm,this.header)}function L(V,j){var z=new k(j);if(z.push(V,!0),z.err)throw z.msg||w[z.err];return z.result}k.prototype.push=function(V,j){var z,R,I,N,b,C,x=this.strm,_=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;R=j===~~j?j:j===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof V=="string"?x.input=g.binstring2buf(V):F.call(V)==="[object ArrayBuffer]"?x.input=new Uint8Array(V):x.input=V,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new m.Buf8(_),x.next_out=0,x.avail_out=_),(z=f.inflate(x,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&D&&(C=typeof D=="string"?g.string2buf(D):F.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,z=f.inflateSetDictionary(this.strm,C)),z===v.Z_BUF_ERROR&&M===!0&&(z=v.Z_OK,M=!1),z!==v.Z_STREAM_END&&z!==v.Z_OK)return this.onEnd(z),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&z!==v.Z_STREAM_END&&(x.avail_in!==0||R!==v.Z_FINISH&&R!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=g.utf8border(x.output,x.next_out),N=x.next_out-I,b=g.buf2string(x.output,I),x.next_out=N,x.avail_out=_-N,N&&m.arraySet(x.output,x.output,I,N,0),this.onData(b)):this.onData(m.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(M=!0)}while((0<x.avail_in||x.avail_out===0)&&z!==v.Z_STREAM_END);return z===v.Z_STREAM_END&&(R=v.Z_FINISH),R===v.Z_FINISH?(z=f.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===v.Z_OK):R!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(x.avail_out=0))},k.prototype.onData=function(V){this.chunks.push(V)},k.prototype.onEnd=function(V){V===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},p.Inflate=k,p.inflate=L,p.inflateRaw=function(V,j){return(j=j||{}).raw=!0,L(V,j)},p.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,h,p){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";p.assign=function(v){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var E=w.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var T in E)E.hasOwnProperty(T)&&(v[T]=E[T])}}return v},p.shrinkBuf=function(v,w){return v.length===w?v:v.subarray?v.subarray(0,w):(v.length=w,v)};var m={arraySet:function(v,w,E,T,F){if(w.subarray&&v.subarray)v.set(w.subarray(E,E+T),F);else for(var k=0;k<T;k++)v[F+k]=w[E+k]},flattenChunks:function(v){var w,E,T,F,k,L;for(w=T=0,E=v.length;w<E;w++)T+=v[w].length;for(L=new Uint8Array(T),w=F=0,E=v.length;w<E;w++)k=v[w],L.set(k,F),F+=k.length;return L}},g={arraySet:function(v,w,E,T,F){for(var k=0;k<T;k++)v[F+k]=w[E+k]},flattenChunks:function(v){return[].concat.apply([],v)}};p.setTyped=function(v){v?(p.Buf8=Uint8Array,p.Buf16=Uint16Array,p.Buf32=Int32Array,p.assign(p,m)):(p.Buf8=Array,p.Buf16=Array,p.Buf32=Array,p.assign(p,g))},p.setTyped(f)},{}],42:[function(u,h,p){var f=u("./common"),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var v=new f.Buf8(256),w=0;w<256;w++)v[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function E(T,F){if(F<65537&&(T.subarray&&g||!T.subarray&&m))return String.fromCharCode.apply(null,f.shrinkBuf(T,F));for(var k="",L=0;L<F;L++)k+=String.fromCharCode(T[L]);return k}v[254]=v[254]=1,p.string2buf=function(T){var F,k,L,V,j,z=T.length,R=0;for(V=0;V<z;V++)(64512&(k=T.charCodeAt(V)))==55296&&V+1<z&&(64512&(L=T.charCodeAt(V+1)))==56320&&(k=65536+(k-55296<<10)+(L-56320),V++),R+=k<128?1:k<2048?2:k<65536?3:4;for(F=new f.Buf8(R),V=j=0;j<R;V++)(64512&(k=T.charCodeAt(V)))==55296&&V+1<z&&(64512&(L=T.charCodeAt(V+1)))==56320&&(k=65536+(k-55296<<10)+(L-56320),V++),k<128?F[j++]=k:(k<2048?F[j++]=192|k>>>6:(k<65536?F[j++]=224|k>>>12:(F[j++]=240|k>>>18,F[j++]=128|k>>>12&63),F[j++]=128|k>>>6&63),F[j++]=128|63&k);return F},p.buf2binstring=function(T){return E(T,T.length)},p.binstring2buf=function(T){for(var F=new f.Buf8(T.length),k=0,L=F.length;k<L;k++)F[k]=T.charCodeAt(k);return F},p.buf2string=function(T,F){var k,L,V,j,z=F||T.length,R=new Array(2*z);for(k=L=0;k<z;)if((V=T[k++])<128)R[L++]=V;else if(4<(j=v[V]))R[L++]=65533,k+=j-1;else{for(V&=j===2?31:j===3?15:7;1<j&&k<z;)V=V<<6|63&T[k++],j--;1<j?R[L++]=65533:V<65536?R[L++]=V:(V-=65536,R[L++]=55296|V>>10&1023,R[L++]=56320|1023&V)}return E(R,L)},p.utf8border=function(T,F){var k;for((F=F||T.length)>T.length&&(F=T.length),k=F-1;0<=k&&(192&T[k])==128;)k--;return k<0||k===0?F:k+v[T[k]]>F?k:F}},{"./common":41}],43:[function(u,h,p){h.exports=function(f,m,g,v){for(var w=65535&f|0,E=f>>>16&65535|0,T=0;g!==0;){for(g-=T=2e3<g?2e3:g;E=E+(w=w+m[v++]|0)|0,--T;);w%=65521,E%=65521}return w|E<<16|0}},{}],44:[function(u,h,p){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,h,p){var f=function(){for(var m,g=[],v=0;v<256;v++){m=v;for(var w=0;w<8;w++)m=1&m?3988292384^m>>>1:m>>>1;g[v]=m}return g}();h.exports=function(m,g,v,w){var E=f,T=w+v;m^=-1;for(var F=w;F<T;F++)m=m>>>8^E[255&(m^g[F])];return-1^m}},{}],46:[function(u,h,p){var f,m=u("../utils/common"),g=u("./trees"),v=u("./adler32"),w=u("./crc32"),E=u("./messages"),T=-2,F=258,k=262,L=113;function V(B,K){return B.msg=E[K],K}function j(B){return(B<<1)-(4<B?9:0)}function z(B){for(var K=B.length;0<=--K;)B[K]=0}function R(B){var K=B.state,A=K.pending;A>B.avail_out&&(A=B.avail_out),A!==0&&(m.arraySet(B.output,K.pending_buf,K.pending_out,A,B.next_out),B.next_out+=A,K.pending_out+=A,B.total_out+=A,B.avail_out-=A,K.pending-=A,K.pending===0&&(K.pending_out=0))}function I(B,K){g._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,K),B.block_start=B.strstart,R(B.strm)}function N(B,K){B.pending_buf[B.pending++]=K}function b(B,K){B.pending_buf[B.pending++]=K>>>8&255,B.pending_buf[B.pending++]=255&K}function C(B,K){var A,P,W=B.max_chain_length,Q=B.strstart,se=B.prev_length,ne=B.nice_match,ie=B.strstart>B.w_size-k?B.strstart-(B.w_size-k):0,ye=B.window,ve=B.w_mask,ee=B.prev,fe=B.strstart+F,de=ye[Q+se-1],he=ye[Q+se];B.prev_length>=B.good_match&&(W>>=2),ne>B.lookahead&&(ne=B.lookahead);do if(ye[(A=K)+se]===he&&ye[A+se-1]===de&&ye[A]===ye[Q]&&ye[++A]===ye[Q+1]){Q+=2,A++;do;while(ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&ye[++Q]===ye[++A]&&Q<fe);if(P=F-(fe-Q),Q=fe-F,se<P){if(B.match_start=K,ne<=(se=P))break;de=ye[Q+se-1],he=ye[Q+se]}}while((K=ee[K&ve])>ie&&--W!=0);return se<=B.lookahead?se:B.lookahead}function x(B){var K,A,P,W,Q,se,ne,ie,ye,ve,ee=B.w_size;do{if(W=B.window_size-B.lookahead-B.strstart,B.strstart>=ee+(ee-k)){for(m.arraySet(B.window,B.window,ee,ee,0),B.match_start-=ee,B.strstart-=ee,B.block_start-=ee,K=A=B.hash_size;P=B.head[--K],B.head[K]=ee<=P?P-ee:0,--A;);for(K=A=ee;P=B.prev[--K],B.prev[K]=ee<=P?P-ee:0,--A;);W+=ee}if(B.strm.avail_in===0)break;if(se=B.strm,ne=B.window,ie=B.strstart+B.lookahead,ve=void 0,(ye=W)<(ve=se.avail_in)&&(ve=ye),A=ve===0?0:(se.avail_in-=ve,m.arraySet(ne,se.input,se.next_in,ve,ie),se.state.wrap===1?se.adler=v(se.adler,ne,ve,ie):se.state.wrap===2&&(se.adler=w(se.adler,ne,ve,ie)),se.next_in+=ve,se.total_in+=ve,ve),B.lookahead+=A,B.lookahead+B.insert>=3)for(Q=B.strstart-B.insert,B.ins_h=B.window[Q],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+3-1])&B.hash_mask,B.prev[Q&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Q,Q++,B.insert--,!(B.lookahead+B.insert<3)););}while(B.lookahead<k&&B.strm.avail_in!==0)}function _(B,K){for(var A,P;;){if(B.lookahead<k){if(x(B),B.lookahead<k&&K===0)return 1;if(B.lookahead===0)break}if(A=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,A=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),A!==0&&B.strstart-A<=B.w_size-k&&(B.match_length=C(B,A)),B.match_length>=3)if(P=g._tr_tally(B,B.strstart-B.match_start,B.match_length-3),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=3){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,A=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else P=g._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(P&&(I(B,!1),B.strm.avail_out===0))return 1}return B.insert=B.strstart<2?B.strstart:2,K===4?(I(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(I(B,!1),B.strm.avail_out===0)?1:2}function D(B,K){for(var A,P,W;;){if(B.lookahead<k){if(x(B),B.lookahead<k&&K===0)return 1;if(B.lookahead===0)break}if(A=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,A=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=2,A!==0&&B.prev_length<B.max_lazy_match&&B.strstart-A<=B.w_size-k&&(B.match_length=C(B,A),B.match_length<=5&&(B.strategy===1||B.match_length===3&&4096<B.strstart-B.match_start)&&(B.match_length=2)),B.prev_length>=3&&B.match_length<=B.prev_length){for(W=B.strstart+B.lookahead-3,P=g._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-3),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=W&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,A=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=2,B.strstart++,P&&(I(B,!1),B.strm.avail_out===0))return 1}else if(B.match_available){if((P=g._tr_tally(B,0,B.window[B.strstart-1]))&&I(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return 1}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(P=g._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<2?B.strstart:2,K===4?(I(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(I(B,!1),B.strm.avail_out===0)?1:2}function M(B,K,A,P,W){this.good_length=B,this.max_lazy=K,this.nice_length=A,this.max_chain=P,this.func=W}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(B){var K;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=2,(K=B.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:L,B.adler=K.wrap===2?0:1,K.last_flush=0,g._tr_init(K),0):V(B,T)}function G(B){var K=U(B);return K===0&&function(A){A.window_size=2*A.w_size,z(A.head),A.max_lazy_match=f[A.level].max_lazy,A.good_match=f[A.level].good_length,A.nice_match=f[A.level].nice_length,A.max_chain_length=f[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=2,A.match_available=0,A.ins_h=0}(B.state),K}function Y(B,K,A,P,W,Q){if(!B)return T;var se=1;if(K===-1&&(K=6),P<0?(se=0,P=-P):15<P&&(se=2,P-=16),W<1||9<W||A!==8||P<8||15<P||K<0||9<K||Q<0||4<Q)return V(B,T);P===8&&(P=9);var ne=new O;return(B.state=ne).strm=B,ne.wrap=se,ne.gzhead=null,ne.w_bits=P,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=W+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new m.Buf8(2*ne.w_size),ne.head=new m.Buf16(ne.hash_size),ne.prev=new m.Buf16(ne.w_size),ne.lit_bufsize=1<<W+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new m.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=K,ne.strategy=Q,ne.method=A,G(B)}f=[new M(0,0,0,0,function(B,K){var A=65535;for(A>B.pending_buf_size-5&&(A=B.pending_buf_size-5);;){if(B.lookahead<=1){if(x(B),B.lookahead===0&&K===0)return 1;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var P=B.block_start+A;if((B.strstart===0||B.strstart>=P)&&(B.lookahead=B.strstart-P,B.strstart=P,I(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-k&&(I(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,K===4?(I(B,!0),B.strm.avail_out===0?3:4):(B.strstart>B.block_start&&(I(B,!1),B.strm.avail_out),1)}),new M(4,4,8,4,_),new M(4,5,16,8,_),new M(4,6,32,32,_),new M(4,4,16,16,D),new M(8,16,32,32,D),new M(8,16,128,128,D),new M(8,32,128,256,D),new M(32,128,258,1024,D),new M(32,258,258,4096,D)],p.deflateInit=function(B,K){return Y(B,K,8,15,8,0)},p.deflateInit2=Y,p.deflateReset=G,p.deflateResetKeep=U,p.deflateSetHeader=function(B,K){return B&&B.state?B.state.wrap!==2?T:(B.state.gzhead=K,0):T},p.deflate=function(B,K){var A,P,W,Q;if(!B||!B.state||5<K||K<0)return B?V(B,T):T;if(P=B.state,!B.output||!B.input&&B.avail_in!==0||P.status===666&&K!==4)return V(B,B.avail_out===0?-5:T);if(P.strm=B,A=P.last_flush,P.last_flush=K,P.status===42)if(P.wrap===2)B.adler=0,N(P,31),N(P,139),N(P,8),P.gzhead?(N(P,(P.gzhead.text?1:0)+(P.gzhead.hcrc?2:0)+(P.gzhead.extra?4:0)+(P.gzhead.name?8:0)+(P.gzhead.comment?16:0)),N(P,255&P.gzhead.time),N(P,P.gzhead.time>>8&255),N(P,P.gzhead.time>>16&255),N(P,P.gzhead.time>>24&255),N(P,P.level===9?2:2<=P.strategy||P.level<2?4:0),N(P,255&P.gzhead.os),P.gzhead.extra&&P.gzhead.extra.length&&(N(P,255&P.gzhead.extra.length),N(P,P.gzhead.extra.length>>8&255)),P.gzhead.hcrc&&(B.adler=w(B.adler,P.pending_buf,P.pending,0)),P.gzindex=0,P.status=69):(N(P,0),N(P,0),N(P,0),N(P,0),N(P,0),N(P,P.level===9?2:2<=P.strategy||P.level<2?4:0),N(P,3),P.status=L);else{var se=8+(P.w_bits-8<<4)<<8;se|=(2<=P.strategy||P.level<2?0:P.level<6?1:P.level===6?2:3)<<6,P.strstart!==0&&(se|=32),se+=31-se%31,P.status=L,b(P,se),P.strstart!==0&&(b(P,B.adler>>>16),b(P,65535&B.adler)),B.adler=1}if(P.status===69)if(P.gzhead.extra){for(W=P.pending;P.gzindex<(65535&P.gzhead.extra.length)&&(P.pending!==P.pending_buf_size||(P.gzhead.hcrc&&P.pending>W&&(B.adler=w(B.adler,P.pending_buf,P.pending-W,W)),R(B),W=P.pending,P.pending!==P.pending_buf_size));)N(P,255&P.gzhead.extra[P.gzindex]),P.gzindex++;P.gzhead.hcrc&&P.pending>W&&(B.adler=w(B.adler,P.pending_buf,P.pending-W,W)),P.gzindex===P.gzhead.extra.length&&(P.gzindex=0,P.status=73)}else P.status=73;if(P.status===73)if(P.gzhead.name){W=P.pending;do{if(P.pending===P.pending_buf_size&&(P.gzhead.hcrc&&P.pending>W&&(B.adler=w(B.adler,P.pending_buf,P.pending-W,W)),R(B),W=P.pending,P.pending===P.pending_buf_size)){Q=1;break}Q=P.gzindex<P.gzhead.name.length?255&P.gzhead.name.charCodeAt(P.gzindex++):0,N(P,Q)}while(Q!==0);P.gzhead.hcrc&&P.pending>W&&(B.adler=w(B.adler,P.pending_buf,P.pending-W,W)),Q===0&&(P.gzindex=0,P.status=91)}else P.status=91;if(P.status===91)if(P.gzhead.comment){W=P.pending;do{if(P.pending===P.pending_buf_size&&(P.gzhead.hcrc&&P.pending>W&&(B.adler=w(B.adler,P.pending_buf,P.pending-W,W)),R(B),W=P.pending,P.pending===P.pending_buf_size)){Q=1;break}Q=P.gzindex<P.gzhead.comment.length?255&P.gzhead.comment.charCodeAt(P.gzindex++):0,N(P,Q)}while(Q!==0);P.gzhead.hcrc&&P.pending>W&&(B.adler=w(B.adler,P.pending_buf,P.pending-W,W)),Q===0&&(P.status=103)}else P.status=103;if(P.status===103&&(P.gzhead.hcrc?(P.pending+2>P.pending_buf_size&&R(B),P.pending+2<=P.pending_buf_size&&(N(P,255&B.adler),N(P,B.adler>>8&255),B.adler=0,P.status=L)):P.status=L),P.pending!==0){if(R(B),B.avail_out===0)return P.last_flush=-1,0}else if(B.avail_in===0&&j(K)<=j(A)&&K!==4)return V(B,-5);if(P.status===666&&B.avail_in!==0)return V(B,-5);if(B.avail_in!==0||P.lookahead!==0||K!==0&&P.status!==666){var ne=P.strategy===2?function(ie,ye){for(var ve;;){if(ie.lookahead===0&&(x(ie),ie.lookahead===0)){if(ye===0)return 1;break}if(ie.match_length=0,ve=g._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ve&&(I(ie,!1),ie.strm.avail_out===0))return 1}return ie.insert=0,ye===4?(I(ie,!0),ie.strm.avail_out===0?3:4):ie.last_lit&&(I(ie,!1),ie.strm.avail_out===0)?1:2}(P,K):P.strategy===3?function(ie,ye){for(var ve,ee,fe,de,he=ie.window;;){if(ie.lookahead<=F){if(x(ie),ie.lookahead<=F&&ye===0)return 1;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=3&&0<ie.strstart&&(ee=he[fe=ie.strstart-1])===he[++fe]&&ee===he[++fe]&&ee===he[++fe]){de=ie.strstart+F;do;while(ee===he[++fe]&&ee===he[++fe]&&ee===he[++fe]&&ee===he[++fe]&&ee===he[++fe]&&ee===he[++fe]&&ee===he[++fe]&&ee===he[++fe]&&fe<de);ie.match_length=F-(de-fe),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=3?(ve=g._tr_tally(ie,1,ie.match_length-3),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ve=g._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ve&&(I(ie,!1),ie.strm.avail_out===0))return 1}return ie.insert=0,ye===4?(I(ie,!0),ie.strm.avail_out===0?3:4):ie.last_lit&&(I(ie,!1),ie.strm.avail_out===0)?1:2}(P,K):f[P.level].func(P,K);if(ne!==3&&ne!==4||(P.status=666),ne===1||ne===3)return B.avail_out===0&&(P.last_flush=-1),0;if(ne===2&&(K===1?g._tr_align(P):K!==5&&(g._tr_stored_block(P,0,0,!1),K===3&&(z(P.head),P.lookahead===0&&(P.strstart=0,P.block_start=0,P.insert=0))),R(B),B.avail_out===0))return P.last_flush=-1,0}return K!==4?0:P.wrap<=0?1:(P.wrap===2?(N(P,255&B.adler),N(P,B.adler>>8&255),N(P,B.adler>>16&255),N(P,B.adler>>24&255),N(P,255&B.total_in),N(P,B.total_in>>8&255),N(P,B.total_in>>16&255),N(P,B.total_in>>24&255)):(b(P,B.adler>>>16),b(P,65535&B.adler)),R(B),0<P.wrap&&(P.wrap=-P.wrap),P.pending!==0?0:1)},p.deflateEnd=function(B){var K;return B&&B.state?(K=B.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==L&&K!==666?V(B,T):(B.state=null,K===L?V(B,-3):0):T},p.deflateSetDictionary=function(B,K){var A,P,W,Q,se,ne,ie,ye,ve=K.length;if(!B||!B.state||(Q=(A=B.state).wrap)===2||Q===1&&A.status!==42||A.lookahead)return T;for(Q===1&&(B.adler=v(B.adler,K,ve,0)),A.wrap=0,ve>=A.w_size&&(Q===0&&(z(A.head),A.strstart=0,A.block_start=0,A.insert=0),ye=new m.Buf8(A.w_size),m.arraySet(ye,K,ve-A.w_size,A.w_size,0),K=ye,ve=A.w_size),se=B.avail_in,ne=B.next_in,ie=B.input,B.avail_in=ve,B.next_in=0,B.input=K,x(A);A.lookahead>=3;){for(P=A.strstart,W=A.lookahead-2;A.ins_h=(A.ins_h<<A.hash_shift^A.window[P+3-1])&A.hash_mask,A.prev[P&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=P,P++,--W;);A.strstart=P,A.lookahead=2,x(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=2,A.match_available=0,B.next_in=ne,B.input=ie,B.avail_in=se,A.wrap=Q,0},p.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,h,p){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,h,p){h.exports=function(f,m){var g,v,w,E,T,F,k,L,V,j,z,R,I,N,b,C,x,_,D,M,O,U,G,Y,B;g=f.state,v=f.next_in,Y=f.input,w=v+(f.avail_in-5),E=f.next_out,B=f.output,T=E-(m-f.avail_out),F=E+(f.avail_out-257),k=g.dmax,L=g.wsize,V=g.whave,j=g.wnext,z=g.window,R=g.hold,I=g.bits,N=g.lencode,b=g.distcode,C=(1<<g.lenbits)-1,x=(1<<g.distbits)-1;e:do{I<15&&(R+=Y[v++]<<I,I+=8,R+=Y[v++]<<I,I+=8),_=N[R&C];t:for(;;){if(R>>>=D=_>>>24,I-=D,(D=_>>>16&255)==0)B[E++]=65535&_;else{if(!(16&D)){if((64&D)==0){_=N[(65535&_)+(R&(1<<D)-1)];continue t}if(32&D){g.mode=12;break e}f.msg="invalid literal/length code",g.mode=30;break e}M=65535&_,(D&=15)&&(I<D&&(R+=Y[v++]<<I,I+=8),M+=R&(1<<D)-1,R>>>=D,I-=D),I<15&&(R+=Y[v++]<<I,I+=8,R+=Y[v++]<<I,I+=8),_=b[R&x];n:for(;;){if(R>>>=D=_>>>24,I-=D,!(16&(D=_>>>16&255))){if((64&D)==0){_=b[(65535&_)+(R&(1<<D)-1)];continue n}f.msg="invalid distance code",g.mode=30;break e}if(O=65535&_,I<(D&=15)&&(R+=Y[v++]<<I,(I+=8)<D&&(R+=Y[v++]<<I,I+=8)),k<(O+=R&(1<<D)-1)){f.msg="invalid distance too far back",g.mode=30;break e}if(R>>>=D,I-=D,(D=E-T)<O){if(V<(D=O-D)&&g.sane){f.msg="invalid distance too far back",g.mode=30;break e}if(G=z,(U=0)===j){if(U+=L-D,D<M){for(M-=D;B[E++]=z[U++],--D;);U=E-O,G=B}}else if(j<D){if(U+=L+j-D,(D-=j)<M){for(M-=D;B[E++]=z[U++],--D;);if(U=0,j<M){for(M-=D=j;B[E++]=z[U++],--D;);U=E-O,G=B}}}else if(U+=j-D,D<M){for(M-=D;B[E++]=z[U++],--D;);U=E-O,G=B}for(;2<M;)B[E++]=G[U++],B[E++]=G[U++],B[E++]=G[U++],M-=3;M&&(B[E++]=G[U++],1<M&&(B[E++]=G[U++]))}else{for(U=E-O;B[E++]=B[U++],B[E++]=B[U++],B[E++]=B[U++],2<(M-=3););M&&(B[E++]=B[U++],1<M&&(B[E++]=B[U++]))}break}}break}}while(v<w&&E<F);v-=M=I>>3,R&=(1<<(I-=M<<3))-1,f.next_in=v,f.next_out=E,f.avail_in=v<w?w-v+5:5-(v-w),f.avail_out=E<F?F-E+257:257-(E-F),g.hold=R,g.bits=I}},{}],49:[function(u,h,p){var f=u("../utils/common"),m=u("./adler32"),g=u("./crc32"),v=u("./inffast"),w=u("./inftrees"),E=-2;function T(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function F(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(C){var x;return C&&C.state?(x=C.state,C.total_in=C.total_out=x.total=0,C.msg="",x.wrap&&(C.adler=1&x.wrap),x.mode=1,x.last=0,x.havedict=0,x.dmax=32768,x.head=null,x.hold=0,x.bits=0,x.lencode=x.lendyn=new f.Buf32(852),x.distcode=x.distdyn=new f.Buf32(592),x.sane=1,x.back=-1,0):E}function L(C){var x;return C&&C.state?((x=C.state).wsize=0,x.whave=0,x.wnext=0,k(C)):E}function V(C,x){var _,D;return C&&C.state?(D=C.state,x<0?(_=0,x=-x):(_=1+(x>>4),x<48&&(x&=15)),x&&(x<8||15<x)?E:(D.window!==null&&D.wbits!==x&&(D.window=null),D.wrap=_,D.wbits=x,L(C))):E}function j(C,x){var _,D;return C?(D=new F,(C.state=D).window=null,(_=V(C,x))!==0&&(C.state=null),_):E}var z,R,I=!0;function N(C){if(I){var x;for(z=new f.Buf32(512),R=new f.Buf32(32),x=0;x<144;)C.lens[x++]=8;for(;x<256;)C.lens[x++]=9;for(;x<280;)C.lens[x++]=7;for(;x<288;)C.lens[x++]=8;for(w(1,C.lens,0,288,z,0,C.work,{bits:9}),x=0;x<32;)C.lens[x++]=5;w(2,C.lens,0,32,R,0,C.work,{bits:5}),I=!1}C.lencode=z,C.lenbits=9,C.distcode=R,C.distbits=5}function b(C,x,_,D){var M,O=C.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new f.Buf8(O.wsize)),D>=O.wsize?(f.arraySet(O.window,x,_-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(D<(M=O.wsize-O.wnext)&&(M=D),f.arraySet(O.window,x,_-D,M,O.wnext),(D-=M)?(f.arraySet(O.window,x,_-D,D,0),O.wnext=D,O.whave=O.wsize):(O.wnext+=M,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=M))),0}p.inflateReset=L,p.inflateReset2=V,p.inflateResetKeep=k,p.inflateInit=function(C){return j(C,15)},p.inflateInit2=j,p.inflate=function(C,x){var _,D,M,O,U,G,Y,B,K,A,P,W,Q,se,ne,ie,ye,ve,ee,fe,de,he,Ce,_e,xe=0,ze=new f.Buf8(4),Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return E;(_=C.state).mode===12&&(_.mode=13),U=C.next_out,M=C.output,Y=C.avail_out,O=C.next_in,D=C.input,G=C.avail_in,B=_.hold,K=_.bits,A=G,P=Y,he=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;K<16;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(2&_.wrap&&B===35615){ze[_.check=0]=255&B,ze[1]=B>>>8&255,_.check=g(_.check,ze,2,0),K=B=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&B)<<8)+(B>>8))%31){C.msg="incorrect header check",_.mode=30;break}if((15&B)!=8){C.msg="unknown compression method",_.mode=30;break}if(K-=4,de=8+(15&(B>>>=4)),_.wbits===0)_.wbits=de;else if(de>_.wbits){C.msg="invalid window size",_.mode=30;break}_.dmax=1<<de,C.adler=_.check=1,_.mode=512&B?10:12,K=B=0;break;case 2:for(;K<16;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(_.flags=B,(255&_.flags)!=8){C.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){C.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=B>>8&1),512&_.flags&&(ze[0]=255&B,ze[1]=B>>>8&255,_.check=g(_.check,ze,2,0)),K=B=0,_.mode=3;case 3:for(;K<32;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}_.head&&(_.head.time=B),512&_.flags&&(ze[0]=255&B,ze[1]=B>>>8&255,ze[2]=B>>>16&255,ze[3]=B>>>24&255,_.check=g(_.check,ze,4,0)),K=B=0,_.mode=4;case 4:for(;K<16;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}_.head&&(_.head.xflags=255&B,_.head.os=B>>8),512&_.flags&&(ze[0]=255&B,ze[1]=B>>>8&255,_.check=g(_.check,ze,2,0)),K=B=0,_.mode=5;case 5:if(1024&_.flags){for(;K<16;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}_.length=B,_.head&&(_.head.extra_len=B),512&_.flags&&(ze[0]=255&B,ze[1]=B>>>8&255,_.check=g(_.check,ze,2,0)),K=B=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(G<(W=_.length)&&(W=G),W&&(_.head&&(de=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),f.arraySet(_.head.extra,D,O,W,de)),512&_.flags&&(_.check=g(_.check,D,W,O)),G-=W,O+=W,_.length-=W),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(G===0)break e;for(W=0;de=D[O+W++],_.head&&de&&_.length<65536&&(_.head.name+=String.fromCharCode(de)),de&&W<G;);if(512&_.flags&&(_.check=g(_.check,D,W,O)),G-=W,O+=W,de)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(G===0)break e;for(W=0;de=D[O+W++],_.head&&de&&_.length<65536&&(_.head.comment+=String.fromCharCode(de)),de&&W<G;);if(512&_.flags&&(_.check=g(_.check,D,W,O)),G-=W,O+=W,de)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;K<16;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(B!==(65535&_.check)){C.msg="header crc mismatch",_.mode=30;break}K=B=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),C.adler=_.check=0,_.mode=12;break;case 10:for(;K<32;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}C.adler=_.check=T(B),K=B=0,_.mode=11;case 11:if(_.havedict===0)return C.next_out=U,C.avail_out=Y,C.next_in=O,C.avail_in=G,_.hold=B,_.bits=K,2;C.adler=_.check=1,_.mode=12;case 12:if(x===5||x===6)break e;case 13:if(_.last){B>>>=7&K,K-=7&K,_.mode=27;break}for(;K<3;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}switch(_.last=1&B,K-=1,3&(B>>>=1)){case 0:_.mode=14;break;case 1:if(N(_),_.mode=20,x!==6)break;B>>>=2,K-=2;break e;case 2:_.mode=17;break;case 3:C.msg="invalid block type",_.mode=30}B>>>=2,K-=2;break;case 14:for(B>>>=7&K,K-=7&K;K<32;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if((65535&B)!=(B>>>16^65535)){C.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&B,K=B=0,_.mode=15,x===6)break e;case 15:_.mode=16;case 16:if(W=_.length){if(G<W&&(W=G),Y<W&&(W=Y),W===0)break e;f.arraySet(M,D,O,W,U),G-=W,O+=W,Y-=W,U+=W,_.length-=W;break}_.mode=12;break;case 17:for(;K<14;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(_.nlen=257+(31&B),B>>>=5,K-=5,_.ndist=1+(31&B),B>>>=5,K-=5,_.ncode=4+(15&B),B>>>=4,K-=4,286<_.nlen||30<_.ndist){C.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;K<3;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}_.lens[Ve[_.have++]]=7&B,B>>>=3,K-=3}for(;_.have<19;)_.lens[Ve[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,Ce={bits:_.lenbits},he=w(0,_.lens,0,19,_.lencode,0,_.work,Ce),_.lenbits=Ce.bits,he){C.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;ie=(xe=_.lencode[B&(1<<_.lenbits)-1])>>>16&255,ye=65535&xe,!((ne=xe>>>24)<=K);){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(ye<16)B>>>=ne,K-=ne,_.lens[_.have++]=ye;else{if(ye===16){for(_e=ne+2;K<_e;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(B>>>=ne,K-=ne,_.have===0){C.msg="invalid bit length repeat",_.mode=30;break}de=_.lens[_.have-1],W=3+(3&B),B>>>=2,K-=2}else if(ye===17){for(_e=ne+3;K<_e;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}K-=ne,de=0,W=3+(7&(B>>>=ne)),B>>>=3,K-=3}else{for(_e=ne+7;K<_e;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}K-=ne,de=0,W=11+(127&(B>>>=ne)),B>>>=7,K-=7}if(_.have+W>_.nlen+_.ndist){C.msg="invalid bit length repeat",_.mode=30;break}for(;W--;)_.lens[_.have++]=de}}if(_.mode===30)break;if(_.lens[256]===0){C.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,Ce={bits:_.lenbits},he=w(1,_.lens,0,_.nlen,_.lencode,0,_.work,Ce),_.lenbits=Ce.bits,he){C.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,Ce={bits:_.distbits},he=w(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,Ce),_.distbits=Ce.bits,he){C.msg="invalid distances set",_.mode=30;break}if(_.mode=20,x===6)break e;case 20:_.mode=21;case 21:if(6<=G&&258<=Y){C.next_out=U,C.avail_out=Y,C.next_in=O,C.avail_in=G,_.hold=B,_.bits=K,v(C,P),U=C.next_out,M=C.output,Y=C.avail_out,O=C.next_in,D=C.input,G=C.avail_in,B=_.hold,K=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;ie=(xe=_.lencode[B&(1<<_.lenbits)-1])>>>16&255,ye=65535&xe,!((ne=xe>>>24)<=K);){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(ie&&(240&ie)==0){for(ve=ne,ee=ie,fe=ye;ie=(xe=_.lencode[fe+((B&(1<<ve+ee)-1)>>ve)])>>>16&255,ye=65535&xe,!(ve+(ne=xe>>>24)<=K);){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}B>>>=ve,K-=ve,_.back+=ve}if(B>>>=ne,K-=ne,_.back+=ne,_.length=ye,ie===0){_.mode=26;break}if(32&ie){_.back=-1,_.mode=12;break}if(64&ie){C.msg="invalid literal/length code",_.mode=30;break}_.extra=15&ie,_.mode=22;case 22:if(_.extra){for(_e=_.extra;K<_e;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}_.length+=B&(1<<_.extra)-1,B>>>=_.extra,K-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;ie=(xe=_.distcode[B&(1<<_.distbits)-1])>>>16&255,ye=65535&xe,!((ne=xe>>>24)<=K);){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if((240&ie)==0){for(ve=ne,ee=ie,fe=ye;ie=(xe=_.distcode[fe+((B&(1<<ve+ee)-1)>>ve)])>>>16&255,ye=65535&xe,!(ve+(ne=xe>>>24)<=K);){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}B>>>=ve,K-=ve,_.back+=ve}if(B>>>=ne,K-=ne,_.back+=ne,64&ie){C.msg="invalid distance code",_.mode=30;break}_.offset=ye,_.extra=15&ie,_.mode=24;case 24:if(_.extra){for(_e=_.extra;K<_e;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}_.offset+=B&(1<<_.extra)-1,B>>>=_.extra,K-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){C.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(Y===0)break e;if(W=P-Y,_.offset>W){if((W=_.offset-W)>_.whave&&_.sane){C.msg="invalid distance too far back",_.mode=30;break}Q=W>_.wnext?(W-=_.wnext,_.wsize-W):_.wnext-W,W>_.length&&(W=_.length),se=_.window}else se=M,Q=U-_.offset,W=_.length;for(Y<W&&(W=Y),Y-=W,_.length-=W;M[U++]=se[Q++],--W;);_.length===0&&(_.mode=21);break;case 26:if(Y===0)break e;M[U++]=_.length,Y--,_.mode=21;break;case 27:if(_.wrap){for(;K<32;){if(G===0)break e;G--,B|=D[O++]<<K,K+=8}if(P-=Y,C.total_out+=P,_.total+=P,P&&(C.adler=_.check=_.flags?g(_.check,M,P,U-P):m(_.check,M,P,U-P)),P=Y,(_.flags?B:T(B))!==_.check){C.msg="incorrect data check",_.mode=30;break}K=B=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;K<32;){if(G===0)break e;G--,B+=D[O++]<<K,K+=8}if(B!==(4294967295&_.total)){C.msg="incorrect length check",_.mode=30;break}K=B=0}_.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return E}return C.next_out=U,C.avail_out=Y,C.next_in=O,C.avail_in=G,_.hold=B,_.bits=K,(_.wsize||P!==C.avail_out&&_.mode<30&&(_.mode<27||x!==4))&&b(C,C.output,C.next_out,P-C.avail_out)?(_.mode=31,-4):(A-=C.avail_in,P-=C.avail_out,C.total_in+=A,C.total_out+=P,_.total+=P,_.wrap&&P&&(C.adler=_.check=_.flags?g(_.check,M,P,C.next_out-P):m(_.check,M,P,C.next_out-P)),C.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(A==0&&P===0||x===4)&&he===0&&(he=-5),he)},p.inflateEnd=function(C){if(!C||!C.state)return E;var x=C.state;return x.window&&(x.window=null),C.state=null,0},p.inflateGetHeader=function(C,x){var _;return C&&C.state?(2&(_=C.state).wrap)==0?E:((_.head=x).done=!1,0):E},p.inflateSetDictionary=function(C,x){var _,D=x.length;return C&&C.state?(_=C.state).wrap!==0&&_.mode!==11?E:_.mode===11&&m(1,x,D,0)!==_.check?-3:b(C,x,D,D)?(_.mode=31,-4):(_.havedict=1,0):E},p.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,h,p){var f=u("../utils/common"),m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(E,T,F,k,L,V,j,z){var R,I,N,b,C,x,_,D,M,O=z.bits,U=0,G=0,Y=0,B=0,K=0,A=0,P=0,W=0,Q=0,se=0,ne=null,ie=0,ye=new f.Buf16(16),ve=new f.Buf16(16),ee=null,fe=0;for(U=0;U<=15;U++)ye[U]=0;for(G=0;G<k;G++)ye[T[F+G]]++;for(K=O,B=15;1<=B&&ye[B]===0;B--);if(B<K&&(K=B),B===0)return L[V++]=20971520,L[V++]=20971520,z.bits=1,0;for(Y=1;Y<B&&ye[Y]===0;Y++);for(K<Y&&(K=Y),U=W=1;U<=15;U++)if(W<<=1,(W-=ye[U])<0)return-1;if(0<W&&(E===0||B!==1))return-1;for(ve[1]=0,U=1;U<15;U++)ve[U+1]=ve[U]+ye[U];for(G=0;G<k;G++)T[F+G]!==0&&(j[ve[T[F+G]]++]=G);if(x=E===0?(ne=ee=j,19):E===1?(ne=m,ie-=257,ee=g,fe-=257,256):(ne=v,ee=w,-1),U=Y,C=V,P=G=se=0,N=-1,b=(Q=1<<(A=K))-1,E===1&&852<Q||E===2&&592<Q)return 1;for(;;){for(_=U-P,M=j[G]<x?(D=0,j[G]):j[G]>x?(D=ee[fe+j[G]],ne[ie+j[G]]):(D=96,0),R=1<<U-P,Y=I=1<<A;L[C+(se>>P)+(I-=R)]=_<<24|D<<16|M|0,I!==0;);for(R=1<<U-1;se&R;)R>>=1;if(R!==0?(se&=R-1,se+=R):se=0,G++,--ye[U]==0){if(U===B)break;U=T[F+j[G]]}if(K<U&&(se&b)!==N){for(P===0&&(P=K),C+=Y,W=1<<(A=U-P);A+P<B&&!((W-=ye[A+P])<=0);)A++,W<<=1;if(Q+=1<<A,E===1&&852<Q||E===2&&592<Q)return 1;L[N=se&b]=K<<24|A<<16|C-V|0}}return se!==0&&(L[C+se]=U-P<<24|64<<16|0),z.bits=K,0}},{"../utils/common":41}],51:[function(u,h,p){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,h,p){var f=u("../utils/common");function m(ee){for(var fe=ee.length;0<=--fe;)ee[fe]=0}var g=256,v=286,w=30,E=15,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);m(V);var j=new Array(60);m(j);var z=new Array(512);m(z);var R=new Array(256);m(R);var I=new Array(29);m(I);var N,b,C,x=new Array(w);function _(ee,fe,de,he,Ce){this.static_tree=ee,this.extra_bits=fe,this.extra_base=de,this.elems=he,this.max_length=Ce,this.has_stree=ee&&ee.length}function D(ee,fe){this.dyn_tree=ee,this.max_code=0,this.stat_desc=fe}function M(ee){return ee<256?z[ee]:z[256+(ee>>>7)]}function O(ee,fe){ee.pending_buf[ee.pending++]=255&fe,ee.pending_buf[ee.pending++]=fe>>>8&255}function U(ee,fe,de){ee.bi_valid>16-de?(ee.bi_buf|=fe<<ee.bi_valid&65535,O(ee,ee.bi_buf),ee.bi_buf=fe>>16-ee.bi_valid,ee.bi_valid+=de-16):(ee.bi_buf|=fe<<ee.bi_valid&65535,ee.bi_valid+=de)}function G(ee,fe,de){U(ee,de[2*fe],de[2*fe+1])}function Y(ee,fe){for(var de=0;de|=1&ee,ee>>>=1,de<<=1,0<--fe;);return de>>>1}function B(ee,fe,de){var he,Ce,_e=new Array(16),xe=0;for(he=1;he<=E;he++)_e[he]=xe=xe+de[he-1]<<1;for(Ce=0;Ce<=fe;Ce++){var ze=ee[2*Ce+1];ze!==0&&(ee[2*Ce]=Y(_e[ze]++,ze))}}function K(ee){var fe;for(fe=0;fe<v;fe++)ee.dyn_ltree[2*fe]=0;for(fe=0;fe<w;fe++)ee.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)ee.bl_tree[2*fe]=0;ee.dyn_ltree[512]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function A(ee){8<ee.bi_valid?O(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function P(ee,fe,de,he){var Ce=2*fe,_e=2*de;return ee[Ce]<ee[_e]||ee[Ce]===ee[_e]&&he[fe]<=he[de]}function W(ee,fe,de){for(var he=ee.heap[de],Ce=de<<1;Ce<=ee.heap_len&&(Ce<ee.heap_len&&P(fe,ee.heap[Ce+1],ee.heap[Ce],ee.depth)&&Ce++,!P(fe,he,ee.heap[Ce],ee.depth));)ee.heap[de]=ee.heap[Ce],de=Ce,Ce<<=1;ee.heap[de]=he}function Q(ee,fe,de){var he,Ce,_e,xe,ze=0;if(ee.last_lit!==0)for(;he=ee.pending_buf[ee.d_buf+2*ze]<<8|ee.pending_buf[ee.d_buf+2*ze+1],Ce=ee.pending_buf[ee.l_buf+ze],ze++,he===0?G(ee,Ce,fe):(G(ee,(_e=R[Ce])+g+1,fe),(xe=T[_e])!==0&&U(ee,Ce-=I[_e],xe),G(ee,_e=M(--he),de),(xe=F[_e])!==0&&U(ee,he-=x[_e],xe)),ze<ee.last_lit;);G(ee,256,fe)}function se(ee,fe){var de,he,Ce,_e=fe.dyn_tree,xe=fe.stat_desc.static_tree,ze=fe.stat_desc.has_stree,Ve=fe.stat_desc.elems,Ze=-1;for(ee.heap_len=0,ee.heap_max=573,de=0;de<Ve;de++)_e[2*de]!==0?(ee.heap[++ee.heap_len]=Ze=de,ee.depth[de]=0):_e[2*de+1]=0;for(;ee.heap_len<2;)_e[2*(Ce=ee.heap[++ee.heap_len]=Ze<2?++Ze:0)]=1,ee.depth[Ce]=0,ee.opt_len--,ze&&(ee.static_len-=xe[2*Ce+1]);for(fe.max_code=Ze,de=ee.heap_len>>1;1<=de;de--)W(ee,_e,de);for(Ce=Ve;de=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],W(ee,_e,1),he=ee.heap[1],ee.heap[--ee.heap_max]=de,ee.heap[--ee.heap_max]=he,_e[2*Ce]=_e[2*de]+_e[2*he],ee.depth[Ce]=(ee.depth[de]>=ee.depth[he]?ee.depth[de]:ee.depth[he])+1,_e[2*de+1]=_e[2*he+1]=Ce,ee.heap[1]=Ce++,W(ee,_e,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(mt,Ue){var nt,on,bt,Me,be,ge,Ie=Ue.dyn_tree,ct=Ue.max_code,tt=Ue.stat_desc.static_tree,vt=Ue.stat_desc.has_stree,tr=Ue.stat_desc.extra_bits,xt=Ue.stat_desc.extra_base,wt=Ue.stat_desc.max_length,Sn=0;for(Me=0;Me<=E;Me++)mt.bl_count[Me]=0;for(Ie[2*mt.heap[mt.heap_max]+1]=0,nt=mt.heap_max+1;nt<573;nt++)wt<(Me=Ie[2*Ie[2*(on=mt.heap[nt])+1]+1]+1)&&(Me=wt,Sn++),Ie[2*on+1]=Me,ct<on||(mt.bl_count[Me]++,be=0,xt<=on&&(be=tr[on-xt]),ge=Ie[2*on],mt.opt_len+=ge*(Me+be),vt&&(mt.static_len+=ge*(tt[2*on+1]+be)));if(Sn!==0){do{for(Me=wt-1;mt.bl_count[Me]===0;)Me--;mt.bl_count[Me]--,mt.bl_count[Me+1]+=2,mt.bl_count[wt]--,Sn-=2}while(0<Sn);for(Me=wt;Me!==0;Me--)for(on=mt.bl_count[Me];on!==0;)ct<(bt=mt.heap[--nt])||(Ie[2*bt+1]!==Me&&(mt.opt_len+=(Me-Ie[2*bt+1])*Ie[2*bt],Ie[2*bt+1]=Me),on--)}}(ee,fe),B(_e,Ze,ee.bl_count)}function ne(ee,fe,de){var he,Ce,_e=-1,xe=fe[1],ze=0,Ve=7,Ze=4;for(xe===0&&(Ve=138,Ze=3),fe[2*(de+1)+1]=65535,he=0;he<=de;he++)Ce=xe,xe=fe[2*(he+1)+1],++ze<Ve&&Ce===xe||(ze<Ze?ee.bl_tree[2*Ce]+=ze:Ce!==0?(Ce!==_e&&ee.bl_tree[2*Ce]++,ee.bl_tree[32]++):ze<=10?ee.bl_tree[34]++:ee.bl_tree[36]++,_e=Ce,Ze=(ze=0)===xe?(Ve=138,3):Ce===xe?(Ve=6,3):(Ve=7,4))}function ie(ee,fe,de){var he,Ce,_e=-1,xe=fe[1],ze=0,Ve=7,Ze=4;for(xe===0&&(Ve=138,Ze=3),he=0;he<=de;he++)if(Ce=xe,xe=fe[2*(he+1)+1],!(++ze<Ve&&Ce===xe)){if(ze<Ze)for(;G(ee,Ce,ee.bl_tree),--ze!=0;);else Ce!==0?(Ce!==_e&&(G(ee,Ce,ee.bl_tree),ze--),G(ee,16,ee.bl_tree),U(ee,ze-3,2)):ze<=10?(G(ee,17,ee.bl_tree),U(ee,ze-3,3)):(G(ee,18,ee.bl_tree),U(ee,ze-11,7));_e=Ce,Ze=(ze=0)===xe?(Ve=138,3):Ce===xe?(Ve=6,3):(Ve=7,4)}}m(x);var ye=!1;function ve(ee,fe,de,he){U(ee,0+(he?1:0),3),function(Ce,_e,xe,ze){A(Ce),O(Ce,xe),O(Ce,~xe),f.arraySet(Ce.pending_buf,Ce.window,_e,xe,Ce.pending),Ce.pending+=xe}(ee,fe,de)}p._tr_init=function(ee){ye||(function(){var fe,de,he,Ce,_e,xe=new Array(16);for(Ce=he=0;Ce<28;Ce++)for(I[Ce]=he,fe=0;fe<1<<T[Ce];fe++)R[he++]=Ce;for(R[he-1]=Ce,Ce=_e=0;Ce<16;Ce++)for(x[Ce]=_e,fe=0;fe<1<<F[Ce];fe++)z[_e++]=Ce;for(_e>>=7;Ce<w;Ce++)for(x[Ce]=_e<<7,fe=0;fe<1<<F[Ce]-7;fe++)z[256+_e++]=Ce;for(de=0;de<=E;de++)xe[de]=0;for(fe=0;fe<=143;)V[2*fe+1]=8,fe++,xe[8]++;for(;fe<=255;)V[2*fe+1]=9,fe++,xe[9]++;for(;fe<=279;)V[2*fe+1]=7,fe++,xe[7]++;for(;fe<=287;)V[2*fe+1]=8,fe++,xe[8]++;for(B(V,287,xe),fe=0;fe<w;fe++)j[2*fe+1]=5,j[2*fe]=Y(fe,5);N=new _(V,T,257,v,E),b=new _(j,F,0,w,E),C=new _(new Array(0),k,0,19,7)}(),ye=!0),ee.l_desc=new D(ee.dyn_ltree,N),ee.d_desc=new D(ee.dyn_dtree,b),ee.bl_desc=new D(ee.bl_tree,C),ee.bi_buf=0,ee.bi_valid=0,K(ee)},p._tr_stored_block=ve,p._tr_flush_block=function(ee,fe,de,he){var Ce,_e,xe=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(ze){var Ve,Ze=4093624447;for(Ve=0;Ve<=31;Ve++,Ze>>>=1)if(1&Ze&&ze.dyn_ltree[2*Ve]!==0)return 0;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return 1;for(Ve=32;Ve<g;Ve++)if(ze.dyn_ltree[2*Ve]!==0)return 1;return 0}(ee)),se(ee,ee.l_desc),se(ee,ee.d_desc),xe=function(ze){var Ve;for(ne(ze,ze.dyn_ltree,ze.l_desc.max_code),ne(ze,ze.dyn_dtree,ze.d_desc.max_code),se(ze,ze.bl_desc),Ve=18;3<=Ve&&ze.bl_tree[2*L[Ve]+1]===0;Ve--);return ze.opt_len+=3*(Ve+1)+5+5+4,Ve}(ee),Ce=ee.opt_len+3+7>>>3,(_e=ee.static_len+3+7>>>3)<=Ce&&(Ce=_e)):Ce=_e=de+5,de+4<=Ce&&fe!==-1?ve(ee,fe,de,he):ee.strategy===4||_e===Ce?(U(ee,2+(he?1:0),3),Q(ee,V,j)):(U(ee,4+(he?1:0),3),function(ze,Ve,Ze,mt){var Ue;for(U(ze,Ve-257,5),U(ze,Ze-1,5),U(ze,mt-4,4),Ue=0;Ue<mt;Ue++)U(ze,ze.bl_tree[2*L[Ue]+1],3);ie(ze,ze.dyn_ltree,Ve-1),ie(ze,ze.dyn_dtree,Ze-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,xe+1),Q(ee,ee.dyn_ltree,ee.dyn_dtree)),K(ee),he&&A(ee)},p._tr_tally=function(ee,fe,de){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=fe>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&fe,ee.pending_buf[ee.l_buf+ee.last_lit]=255&de,ee.last_lit++,fe===0?ee.dyn_ltree[2*de]++:(ee.matches++,fe--,ee.dyn_ltree[2*(R[de]+g+1)]++,ee.dyn_dtree[2*M(fe)]++),ee.last_lit===ee.lit_bufsize-1},p._tr_align=function(ee){U(ee,2,3),G(ee,256,V),function(fe){fe.bi_valid===16?(O(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(u,h,p){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,h,p){(function(f){(function(m,g){if(!m.setImmediate){var v,w,E,T,F=1,k={},L=!1,V=m.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(m);j=j&&j.setTimeout?j:m,v={}.toString.call(m.process)==="[object process]"?function(N){i.nextTick(function(){R(N)})}:function(){if(m.postMessage&&!m.importScripts){var N=!0,b=m.onmessage;return m.onmessage=function(){N=!1},m.postMessage("","*"),m.onmessage=b,N}}()?(T="setImmediate$"+Math.random()+"$",m.addEventListener?m.addEventListener("message",I,!1):m.attachEvent("onmessage",I),function(N){m.postMessage(T+N,"*")}):m.MessageChannel?((E=new MessageChannel).port1.onmessage=function(N){R(N.data)},function(N){E.port2.postMessage(N)}):V&&"onreadystatechange"in V.createElement("script")?(w=V.documentElement,function(N){var b=V.createElement("script");b.onreadystatechange=function(){R(N),b.onreadystatechange=null,w.removeChild(b),b=null},w.appendChild(b)}):function(N){setTimeout(R,0,N)},j.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var b=new Array(arguments.length-1),C=0;C<b.length;C++)b[C]=arguments[C+1];var x={callback:N,args:b};return k[F]=x,v(F),F++},j.clearImmediate=z}function z(N){delete k[N]}function R(N){if(L)setTimeout(R,0,N);else{var b=k[N];if(b){L=!0;try{(function(C){var x=C.callback,_=C.args;switch(_.length){case 0:x();break;case 1:x(_[0]);break;case 2:x(_[0],_[1]);break;case 3:x(_[0],_[1],_[2]);break;default:x.apply(void 0,_)}})(b)}finally{z(N),L=!1}}}}function I(N){N.source===m&&typeof N.data=="string"&&N.data.indexOf(T)===0&&R(+N.data.slice(T.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,r!==void 0?r:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,t,n){(function(i){(function(){"use strict";var r=/[\\^$.*+?()[\]{}|]/g,o=RegExp(r.source),s=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),d=Object.prototype.toString,c=l.Symbol,u=c?c.prototype:void 0,h=u?u.toString:void 0;function p(f){if(typeof f=="string")return f;if(function(g){return typeof g=="symbol"||function(v){return!!v&&typeof v=="object"}(g)&&d.call(g)=="[object Symbol]"}(f))return h?h.call(f):"";var m=f+"";return m=="0"&&1/f==-1/0?"-0":m}t.exports=function(f){var m;return(f=(m=f)==null?"":p(m))&&o.test(f)?f.replace(r,"\\$&"):f}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,t,n){(function(i){(function(){"use strict";var r="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m[r]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m[o]=m["[object Number]"]=m[s]=m["[object RegExp]"]=m[a]=m["[object String]"]=m["[object WeakMap]"]=!1;var g=typeof i=="object"&&i&&i.Object===Object&&i,v=typeof self=="object"&&self&&self.Object===Object&&self,w=g||v||Function("return this")(),E=typeof n=="object"&&n&&!n.nodeType&&n,T=E&&typeof t=="object"&&t&&!t.nodeType&&t,F=T&&T.exports===E&&g.process,k=function(){try{return F&&F.binding("util")}catch{}}(),L=k&&k.isTypedArray;function V(ce,Te,Ke,He){for(var lt=-1,Pt=ce?ce.length:0;++lt<Pt;){var Lt=ce[lt];Te(He,Lt,Ke(Lt),ce)}return He}function j(ce,Te){for(var Ke=-1,He=ce?ce.length:0;++Ke<He;)if(Te(ce[Ke],Ke,ce))return!0;return!1}function z(ce){var Te=!1;if(ce!=null&&typeof ce.toString!="function")try{Te=!!(ce+"")}catch{}return Te}function R(ce){var Te=-1,Ke=Array(ce.size);return ce.forEach(function(He,lt){Ke[++Te]=[lt,He]}),Ke}function I(ce){var Te=-1,Ke=Array(ce.size);return ce.forEach(function(He){Ke[++Te]=He}),Ke}var N,b,C,x=Array.prototype,_=Function.prototype,D=Object.prototype,M=w["__core-js_shared__"],O=(N=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",U=_.toString,G=D.hasOwnProperty,Y=D.toString,B=RegExp("^"+U.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=w.Symbol,A=w.Uint8Array,P=D.propertyIsEnumerable,W=x.splice,Q=(b=Object.keys,C=Object,function(ce){return b(C(ce))}),se=Mt(w,"DataView"),ne=Mt(w,"Map"),ie=Mt(w,"Promise"),ye=Mt(w,"Set"),ve=Mt(w,"WeakMap"),ee=Mt(Object,"create"),fe=ke(se),de=ke(ne),he=ke(ie),Ce=ke(ye),_e=ke(ve),xe=K?K.prototype:void 0,ze=xe?xe.valueOf:void 0,Ve=xe?xe.toString:void 0;function Ze(ce){var Te=-1,Ke=ce?ce.length:0;for(this.clear();++Te<Ke;){var He=ce[Te];this.set(He[0],He[1])}}function mt(ce){var Te=-1,Ke=ce?ce.length:0;for(this.clear();++Te<Ke;){var He=ce[Te];this.set(He[0],He[1])}}function Ue(ce){var Te=-1,Ke=ce?ce.length:0;for(this.clear();++Te<Ke;){var He=ce[Te];this.set(He[0],He[1])}}function nt(ce){var Te=-1,Ke=ce?ce.length:0;for(this.__data__=new Ue;++Te<Ke;)this.add(ce[Te])}function on(ce){this.__data__=new mt(ce)}function bt(ce,Te){var Ke=Ct(ce)||Wt(ce)?function(Lt,Pn){for(var Xt=-1,rn=Array(Lt);++Xt<Lt;)rn[Xt]=Pn(Xt);return rn}(ce.length,String):[],He=Ke.length,lt=!!He;for(var Pt in ce)!Te&&!G.call(ce,Pt)||lt&&(Pt=="length"||Ot(Pt,He))||Ke.push(Pt);return Ke}function Me(ce,Te){for(var Ke=ce.length;Ke--;)if(fi(ce[Ke][0],Te))return Ke;return-1}function be(ce,Te,Ke,He){return ct(ce,function(lt,Pt,Lt){Te(He,lt,Ke(lt),Lt)}),He}Ze.prototype.clear=function(){this.__data__=ee?ee(null):{}},Ze.prototype.delete=function(ce){return this.has(ce)&&delete this.__data__[ce]},Ze.prototype.get=function(ce){var Te=this.__data__;if(ee){var Ke=Te[ce];return Ke==="__lodash_hash_undefined__"?void 0:Ke}return G.call(Te,ce)?Te[ce]:void 0},Ze.prototype.has=function(ce){var Te=this.__data__;return ee?Te[ce]!==void 0:G.call(Te,ce)},Ze.prototype.set=function(ce,Te){return this.__data__[ce]=ee&&Te===void 0?"__lodash_hash_undefined__":Te,this},mt.prototype.clear=function(){this.__data__=[]},mt.prototype.delete=function(ce){var Te=this.__data__,Ke=Me(Te,ce);return!(Ke<0)&&(Ke==Te.length-1?Te.pop():W.call(Te,Ke,1),!0)},mt.prototype.get=function(ce){var Te=this.__data__,Ke=Me(Te,ce);return Ke<0?void 0:Te[Ke][1]},mt.prototype.has=function(ce){return Me(this.__data__,ce)>-1},mt.prototype.set=function(ce,Te){var Ke=this.__data__,He=Me(Ke,ce);return He<0?Ke.push([ce,Te]):Ke[He][1]=Te,this},Ue.prototype.clear=function(){this.__data__={hash:new Ze,map:new(ne||mt),string:new Ze}},Ue.prototype.delete=function(ce){return Ut(this,ce).delete(ce)},Ue.prototype.get=function(ce){return Ut(this,ce).get(ce)},Ue.prototype.has=function(ce){return Ut(this,ce).has(ce)},Ue.prototype.set=function(ce,Te){return Ut(this,ce).set(ce,Te),this},nt.prototype.add=nt.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},nt.prototype.has=function(ce){return this.__data__.has(ce)},on.prototype.clear=function(){this.__data__=new mt},on.prototype.delete=function(ce){return this.__data__.delete(ce)},on.prototype.get=function(ce){return this.__data__.get(ce)},on.prototype.has=function(ce){return this.__data__.has(ce)},on.prototype.set=function(ce,Te){var Ke=this.__data__;if(Ke instanceof mt){var He=Ke.__data__;if(!ne||He.length<199)return He.push([ce,Te]),this;Ke=this.__data__=new Ue(He)}return Ke.set(ce,Te),this};var ge,Ie,ct=(ge=function(ce,Te){return ce&&tt(ce,Te,dr)},function(ce,Te){if(ce==null)return ce;if(!si(ce))return ge(ce,Te);for(var Ke=ce.length,He=Ie?Ke:-1,lt=Object(ce);(Ie?He--:++He<Ke)&&Te(lt[He],He,lt)!==!1;);return ce}),tt=function(ce){return function(Te,Ke,He){for(var lt=-1,Pt=Object(Te),Lt=He(Te),Pn=Lt.length;Pn--;){var Xt=Lt[ce?Pn:++lt];if(Ke(Pt[Xt],Xt,Pt)===!1)break}return Te}}();function vt(ce,Te){for(var Ke=0,He=(Te=Ft(Te,ce)?[Te]:Yt(Te)).length;ce!=null&&Ke<He;)ce=ce[Ee(Te[Ke++])];return Ke&&Ke==He?ce:void 0}function tr(ce,Te){return ce!=null&&Te in Object(ce)}function xt(ce,Te,Ke,He,lt){return ce===Te||(ce==null||Te==null||!mi(ce)&&!qi(Te)?ce!=ce&&Te!=Te:function(Pt,Lt,Pn,Xt,rn,Qt){var Pi=Ct(Pt),Ki=Ct(Lt),Yn="[object Array]",gi="[object Array]";Pi||(Yn=(Yn=pi(Pt))==r?s:Yn),Ki||(gi=(gi=pi(Lt))==r?s:gi);var Ir=Yn==s&&!z(Pt),kr=gi==s&&!z(Lt),So=Yn==gi;if(So&&!Ir)return Qt||(Qt=new on),Pi||cr(Pt)?Hi(Pt,Lt,Pn,Xt,rn,Qt):function(Jn,qn,qc,na,ia,lo,Ss){switch(qc){case"[object DataView]":if(Jn.byteLength!=qn.byteLength||Jn.byteOffset!=qn.byteOffset)return!1;Jn=Jn.buffer,qn=qn.buffer;case"[object ArrayBuffer]":return!(Jn.byteLength!=qn.byteLength||!na(new A(Jn),new A(qn)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fi(+Jn,+qn);case"[object Error]":return Jn.name==qn.name&&Jn.message==qn.message;case"[object RegExp]":case"[object String]":return Jn==qn+"";case o:var Ma=R;case a:var Bl=2&lo;if(Ma||(Ma=I),Jn.size!=qn.size&&!Bl)return!1;var Vl=Ss.get(Jn);if(Vl)return Vl==qn;lo|=1,Ss.set(Jn,qn);var Eo=Hi(Ma(Jn),Ma(qn),na,ia,lo,Ss);return Ss.delete(Jn),Eo;case"[object Symbol]":if(ze)return ze.call(Jn)==ze.call(qn)}return!1}(Pt,Lt,Yn,Pn,Xt,rn,Qt);if(!(2&rn)){var xs=Ir&&G.call(Pt,"__wrapped__"),ta=kr&&G.call(Lt,"__wrapped__");if(xs||ta){var Ra=xs?Pt.value():Pt,Vo=ta?Lt.value():Lt;return Qt||(Qt=new on),Pn(Ra,Vo,Xt,rn,Qt)}}return So?(Qt||(Qt=new on),function(Jn,qn,qc,na,ia,lo){var Ss=2&ia,Ma=dr(Jn),Bl=Ma.length,Vl=dr(qn).length;if(Bl!=Vl&&!Ss)return!1;for(var Eo=Bl;Eo--;){var ra=Ma[Eo];if(!(Ss?ra in qn:G.call(qn,ra)))return!1}var Vp=lo.get(Jn);if(Vp&&lo.get(qn))return Vp==qn;var su=!0;lo.set(Jn,qn),lo.set(qn,Jn);for(var zh=Ss;++Eo<Bl;){ra=Ma[Eo];var Hl=Jn[ra],au=qn[ra];if(na)var jh=Ss?na(au,Hl,ra,qn,Jn,lo):na(Hl,au,ra,Jn,qn,lo);if(!(jh===void 0?Hl===au||qc(Hl,au,na,ia,lo):jh)){su=!1;break}zh||(zh=ra=="constructor")}if(su&&!zh){var lu=Jn.constructor,cu=qn.constructor;lu==cu||!("constructor"in Jn)||!("constructor"in qn)||typeof lu=="function"&&lu instanceof lu&&typeof cu=="function"&&cu instanceof cu||(su=!1)}return lo.delete(Jn),lo.delete(qn),su}(Pt,Lt,Pn,Xt,rn,Qt)):!1}(ce,Te,xt,Ke,He,lt))}function wt(ce){return!(!mi(ce)||function(Te){return!!O&&O in Te}(ce))&&(fn(ce)||z(ce)?B:p).test(ke(ce))}function Sn(ce){return typeof ce=="function"?ce:ce==null?wr:typeof ce=="object"?Ct(ce)?function(He,lt){return Ft(He)&&hi(lt)?St(Ee(He),lt):function(Pt){var Lt=function(Pn,Xt,rn){var Qt=Pn==null?void 0:vt(Pn,Xt);return Qt===void 0?rn:Qt}(Pt,He);return Lt===void 0&&Lt===lt?function(Pn,Xt){return Pn!=null&&function(rn,Qt,Pi){Qt=Ft(Qt,rn)?[Qt]:Yt(Qt);for(var Ki,Yn=-1,gi=Qt.length;++Yn<gi;){var Ir=Ee(Qt[Yn]);if(!(Ki=rn!=null&&Pi(rn,Ir)))break;rn=rn[Ir]}return Ki||!!(gi=rn?rn.length:0)&&kn(gi)&&Ot(Ir,gi)&&(Ct(rn)||Wt(rn))}(Pn,Xt,tr)}(Pt,He):xt(lt,Lt,void 0,3)}}(ce[0],ce[1]):function(He){var lt=function(Pt){for(var Lt=dr(Pt),Pn=Lt.length;Pn--;){var Xt=Lt[Pn],rn=Pt[Xt];Lt[Pn]=[Xt,rn,hi(rn)]}return Lt}(He);return lt.length==1&&lt[0][2]?St(lt[0][0],lt[0][1]):function(Pt){return Pt===He||function(Lt,Pn,Xt,rn){var Qt=Xt.length,Pi=Qt,Ki=!rn;if(Lt==null)return!Pi;for(Lt=Object(Lt);Qt--;){var Yn=Xt[Qt];if(Ki&&Yn[2]?Yn[1]!==Lt[Yn[0]]:!(Yn[0]in Lt))return!1}for(;++Qt<Pi;){var gi=(Yn=Xt[Qt])[0],Ir=Lt[gi],kr=Yn[1];if(Ki&&Yn[2]){if(Ir===void 0&&!(gi in Lt))return!1}else{var So=new on;if(rn)var xs=rn(Ir,kr,gi,Lt,Pn,So);if(!(xs===void 0?xt(kr,Ir,rn,3,So):xs))return!1}}return!0}(Pt,He,lt)}}(ce):Ft(Te=ce)?(Ke=Ee(Te),function(He){return He?.[Ke]}):function(He){return function(lt){return vt(lt,He)}}(Te);var Te,Ke}function At(ce){if(Ke=(Te=ce)&&Te.constructor,He=typeof Ke=="function"&&Ke.prototype||D,Te!==He)return Q(ce);var Te,Ke,He,lt=[];for(var Pt in Object(ce))G.call(ce,Pt)&&Pt!="constructor"&&lt.push(Pt);return lt}function Yt(ce){return Ct(ce)?ce:ue(ce)}function Hi(ce,Te,Ke,He,lt,Pt){var Lt=2&lt,Pn=ce.length,Xt=Te.length;if(Pn!=Xt&&!(Lt&&Xt>Pn))return!1;var rn=Pt.get(ce);if(rn&&Pt.get(Te))return rn==Te;var Qt=-1,Pi=!0,Ki=1&lt?new nt:void 0;for(Pt.set(ce,Te),Pt.set(Te,ce);++Qt<Pn;){var Yn=ce[Qt],gi=Te[Qt];if(He)var Ir=Lt?He(gi,Yn,Qt,Te,ce,Pt):He(Yn,gi,Qt,ce,Te,Pt);if(Ir!==void 0){if(Ir)continue;Pi=!1;break}if(Ki){if(!j(Te,function(kr,So){if(!Ki.has(So)&&(Yn===kr||Ke(Yn,kr,He,lt,Pt)))return Ki.add(So)})){Pi=!1;break}}else if(Yn!==gi&&!Ke(Yn,gi,He,lt,Pt)){Pi=!1;break}}return Pt.delete(ce),Pt.delete(Te),Pi}function Ut(ce,Te){var Ke,He,lt=ce.__data__;return((He=typeof(Ke=Te))=="string"||He=="number"||He=="symbol"||He=="boolean"?Ke!=="__proto__":Ke===null)?lt[typeof Te=="string"?"string":"hash"]:lt.map}function Mt(ce,Te){var Ke=function(He,lt){return He?.[lt]}(ce,Te);return wt(Ke)?Ke:void 0}var pi=function(ce){return Y.call(ce)};function Ot(ce,Te){return!!(Te=Te??9007199254740991)&&(typeof ce=="number"||f.test(ce))&&ce>-1&&ce%1==0&&ce<Te}function Ft(ce,Te){if(Ct(ce))return!1;var Ke=typeof ce;return!(Ke!="number"&&Ke!="symbol"&&Ke!="boolean"&&ce!=null&&!ir(ce))||d.test(ce)||!l.test(ce)||Te!=null&&ce in Object(Te)}function hi(ce){return ce==ce&&!mi(ce)}function St(ce,Te){return function(Ke){return Ke!=null&&Ke[ce]===Te&&(Te!==void 0||ce in Object(Ke))}}(se&&pi(new se(new ArrayBuffer(1)))!="[object DataView]"||ne&&pi(new ne)!=o||ie&&pi(ie.resolve())!="[object Promise]"||ye&&pi(new ye)!=a||ve&&pi(new ve)!="[object WeakMap]")&&(pi=function(ce){var Te=Y.call(ce),Ke=Te==s?ce.constructor:void 0,He=Ke?ke(Ke):void 0;if(He)switch(He){case fe:return"[object DataView]";case de:return o;case he:return"[object Promise]";case Ce:return a;case _e:return"[object WeakMap]"}return Te});var ue=Tt(function(ce){var Te;ce=(Te=ce)==null?"":function(He){if(typeof He=="string")return He;if(ir(He))return Ve?Ve.call(He):"";var lt=He+"";return lt=="0"&&1/He==-1/0?"-0":lt}(Te);var Ke=[];return c.test(ce)&&Ke.push(""),ce.replace(u,function(He,lt,Pt,Lt){Ke.push(Pt?Lt.replace(h,"$1"):lt||He)}),Ke});function Ee(ce){if(typeof ce=="string"||ir(ce))return ce;var Te=ce+"";return Te=="0"&&1/ce==-1/0?"-0":Te}function ke(ce){if(ce!=null){try{return U.call(ce)}catch{}try{return ce+""}catch{}}return""}var Xe,zn,ht=(Xe=function(ce,Te,Ke){G.call(ce,Ke)?ce[Ke].push(Te):ce[Ke]=[Te]},function(ce,Te){var Ke=Ct(ce)?V:be,He=zn?zn():{};return Ke(ce,Xe,Sn(Te),He)});function Tt(ce,Te){if(typeof ce!="function"||Te&&typeof Te!="function")throw new TypeError("Expected a function");var Ke=function(){var He=arguments,lt=Te?Te.apply(this,He):He[0],Pt=Ke.cache;if(Pt.has(lt))return Pt.get(lt);var Lt=ce.apply(this,He);return Ke.cache=Pt.set(lt,Lt),Lt};return Ke.cache=new(Tt.Cache||Ue),Ke}function fi(ce,Te){return ce===Te||ce!=ce&&Te!=Te}function Wt(ce){return function(Te){return qi(Te)&&si(Te)}(ce)&&G.call(ce,"callee")&&(!P.call(ce,"callee")||Y.call(ce)==r)}Tt.Cache=Ue;var Ct=Array.isArray;function si(ce){return ce!=null&&kn(ce.length)&&!fn(ce)}function fn(ce){var Te=mi(ce)?Y.call(ce):"";return Te=="[object Function]"||Te=="[object GeneratorFunction]"}function kn(ce){return typeof ce=="number"&&ce>-1&&ce%1==0&&ce<=9007199254740991}function mi(ce){var Te=typeof ce;return!!ce&&(Te=="object"||Te=="function")}function qi(ce){return!!ce&&typeof ce=="object"}function ir(ce){return typeof ce=="symbol"||qi(ce)&&Y.call(ce)=="[object Symbol]"}var cr=L?function(ce){return function(Te){return ce(Te)}}(L):function(ce){return qi(ce)&&kn(ce.length)&&!!m[Y.call(ce)]};function dr(ce){return si(ce)?bt(ce):At(ce)}function wr(ce){return ce}t.exports=ht}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,t,n){"use strict";var i=Object.prototype.toString;t.exports=function(r){return r===!0||r===!1||function(o){return!!o&&typeof o=="object"}(r)&&i.call(r)=="[object Boolean]"}},{}],445:[function(e,t,n){(function(i){(function(){"use strict";var r="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[s]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u=typeof i=="object"&&i&&i.Object===Object&&i,h=typeof self=="object"&&self&&self.Object===Object&&self,p=u||h||Function("return this")(),f=typeof n=="object"&&n&&!n.nodeType&&n,m=f&&typeof t=="object"&&t&&!t.nodeType&&t,g=m&&m.exports===f,v=g&&u.process,w=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),E=w&&w.isTypedArray;function T(ue,Ee){for(var ke=-1,Xe=ue==null?0:ue.length;++ke<Xe;)if(Ee(ue[ke],ke,ue))return!0;return!1}function F(ue){var Ee=-1,ke=Array(ue.size);return ue.forEach(function(Xe,zn){ke[++Ee]=[zn,Xe]}),ke}function k(ue){var Ee=-1,ke=Array(ue.size);return ue.forEach(function(Xe){ke[++Ee]=Xe}),ke}var L,V,j,z=Array.prototype,R=Function.prototype,I=Object.prototype,N=p["__core-js_shared__"],b=R.toString,C=I.hasOwnProperty,x=(L=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",_=I.toString,D=RegExp("^"+b.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=g?p.Buffer:void 0,O=p.Symbol,U=p.Uint8Array,G=I.propertyIsEnumerable,Y=z.splice,B=O?O.toStringTag:void 0,K=Object.getOwnPropertySymbols,A=M?M.isBuffer:void 0,P=(V=Object.keys,j=Object,function(ue){return V(j(ue))}),W=vt(p,"DataView"),Q=vt(p,"Map"),se=vt(p,"Promise"),ne=vt(p,"Set"),ie=vt(p,"WeakMap"),ye=vt(Object,"create"),ve=Sn(W),ee=Sn(Q),fe=Sn(se),de=Sn(ne),he=Sn(ie),Ce=O?O.prototype:void 0,_e=Ce?Ce.valueOf:void 0;function xe(ue){var Ee=-1,ke=ue==null?0:ue.length;for(this.clear();++Ee<ke;){var Xe=ue[Ee];this.set(Xe[0],Xe[1])}}function ze(ue){var Ee=-1,ke=ue==null?0:ue.length;for(this.clear();++Ee<ke;){var Xe=ue[Ee];this.set(Xe[0],Xe[1])}}function Ve(ue){var Ee=-1,ke=ue==null?0:ue.length;for(this.clear();++Ee<ke;){var Xe=ue[Ee];this.set(Xe[0],Xe[1])}}function Ze(ue){var Ee=-1,ke=ue==null?0:ue.length;for(this.__data__=new Ve;++Ee<ke;)this.add(ue[Ee])}function mt(ue){var Ee=this.__data__=new ze(ue);this.size=Ee.size}function Ue(ue,Ee){var ke=Hi(ue),Xe=!ke&&Yt(ue),zn=!ke&&!Xe&&Ut(ue),ht=!ke&&!Xe&&!zn&&hi(ue),Tt=ke||Xe||zn||ht,fi=Tt?function(si,fn){for(var kn=-1,mi=Array(si);++kn<si;)mi[kn]=fn(kn);return mi}(ue.length,String):[],Wt=fi.length;for(var Ct in ue)!Ee&&!C.call(ue,Ct)||Tt&&(Ct=="length"||zn&&(Ct=="offset"||Ct=="parent")||ht&&(Ct=="buffer"||Ct=="byteLength"||Ct=="byteOffset")||wt(Ct,Wt))||fi.push(Ct);return fi}function nt(ue,Ee){for(var ke=ue.length;ke--;)if(At(ue[ke][0],Ee))return ke;return-1}function on(ue){return ue==null?ue===void 0?"[object Undefined]":"[object Null]":B&&B in Object(ue)?function(Ee){var ke=C.call(Ee,B),Xe=Ee[B];try{Ee[B]=void 0;var zn=!0}catch{}var ht=_.call(Ee);return zn&&(ke?Ee[B]=Xe:delete Ee[B]),ht}(ue):function(Ee){return _.call(Ee)}(ue)}function bt(ue){return Ft(ue)&&on(ue)==r}function Me(ue,Ee,ke,Xe,zn){return ue===Ee||(ue==null||Ee==null||!Ft(ue)&&!Ft(Ee)?ue!=ue&&Ee!=Ee:function(ht,Tt,fi,Wt,Ct,si){var fn=Hi(ht),kn=Hi(Tt),mi=fn?"[object Array]":xt(ht),qi=kn?"[object Array]":xt(Tt),ir=(mi=mi==r?s:mi)==s,cr=(qi=qi==r?s:qi)==s,dr=mi==qi;if(dr&&Ut(ht)){if(!Ut(Tt))return!1;fn=!0,ir=!1}if(dr&&!ir)return si||(si=new mt),fn||hi(ht)?Ie(ht,Tt,fi,Wt,Ct,si):function(He,lt,Pt,Lt,Pn,Xt,rn){switch(Pt){case"[object DataView]":if(He.byteLength!=lt.byteLength||He.byteOffset!=lt.byteOffset)return!1;He=He.buffer,lt=lt.buffer;case"[object ArrayBuffer]":return!(He.byteLength!=lt.byteLength||!Xt(new U(He),new U(lt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+He,+lt);case"[object Error]":return He.name==lt.name&&He.message==lt.message;case"[object RegExp]":case"[object String]":return He==lt+"";case o:var Qt=F;case a:var Pi=1&Lt;if(Qt||(Qt=k),He.size!=lt.size&&!Pi)return!1;var Ki=rn.get(He);if(Ki)return Ki==lt;Lt|=2,rn.set(He,lt);var Yn=Ie(Qt(He),Qt(lt),Lt,Pn,Xt,rn);return rn.delete(He),Yn;case"[object Symbol]":if(_e)return _e.call(He)==_e.call(lt)}return!1}(ht,Tt,mi,fi,Wt,Ct,si);if(!(1&fi)){var wr=ir&&C.call(ht,"__wrapped__"),ce=cr&&C.call(Tt,"__wrapped__");if(wr||ce){var Te=wr?ht.value():ht,Ke=ce?Tt.value():Tt;return si||(si=new mt),Ct(Te,Ke,fi,Wt,si)}}return dr?(si||(si=new mt),function(He,lt,Pt,Lt,Pn,Xt){var rn=1&Pt,Qt=ct(He),Pi=Qt.length,Ki=ct(lt).length;if(Pi!=Ki&&!rn)return!1;for(var Yn=Pi;Yn--;){var gi=Qt[Yn];if(!(rn?gi in lt:C.call(lt,gi)))return!1}var Ir=Xt.get(He);if(Ir&&Xt.get(lt))return Ir==lt;var kr=!0;Xt.set(He,lt),Xt.set(lt,He);for(var So=rn;++Yn<Pi;){gi=Qt[Yn];var xs=He[gi],ta=lt[gi];if(Lt)var Ra=rn?Lt(ta,xs,gi,lt,He,Xt):Lt(xs,ta,gi,He,lt,Xt);if(!(Ra===void 0?xs===ta||Pn(xs,ta,Pt,Lt,Xt):Ra)){kr=!1;break}So||(So=gi=="constructor")}if(kr&&!So){var Vo=He.constructor,Jn=lt.constructor;Vo==Jn||!("constructor"in He)||!("constructor"in lt)||typeof Vo=="function"&&Vo instanceof Vo&&typeof Jn=="function"&&Jn instanceof Jn||(kr=!1)}return Xt.delete(He),Xt.delete(lt),kr}(ht,Tt,fi,Wt,Ct,si)):!1}(ue,Ee,ke,Xe,Me,zn))}function be(ue){return!(!Ot(ue)||function(Ee){return!!x&&x in Ee}(ue))&&(Mt(ue)?D:l).test(Sn(ue))}function ge(ue){if(ke=(Ee=ue)&&Ee.constructor,Xe=typeof ke=="function"&&ke.prototype||I,Ee!==Xe)return P(ue);var Ee,ke,Xe,zn=[];for(var ht in Object(ue))C.call(ue,ht)&&ht!="constructor"&&zn.push(ht);return zn}function Ie(ue,Ee,ke,Xe,zn,ht){var Tt=1&ke,fi=ue.length,Wt=Ee.length;if(fi!=Wt&&!(Tt&&Wt>fi))return!1;var Ct=ht.get(ue);if(Ct&&ht.get(Ee))return Ct==Ee;var si=-1,fn=!0,kn=2&ke?new Ze:void 0;for(ht.set(ue,Ee),ht.set(Ee,ue);++si<fi;){var mi=ue[si],qi=Ee[si];if(Xe)var ir=Tt?Xe(qi,mi,si,Ee,ue,ht):Xe(mi,qi,si,ue,Ee,ht);if(ir!==void 0){if(ir)continue;fn=!1;break}if(kn){if(!T(Ee,function(cr,dr){if(wr=dr,!kn.has(wr)&&(mi===cr||zn(mi,cr,ke,Xe,ht)))return kn.push(dr);var wr})){fn=!1;break}}else if(mi!==qi&&!zn(mi,qi,ke,Xe,ht)){fn=!1;break}}return ht.delete(ue),ht.delete(Ee),fn}function ct(ue){return function(Ee,ke,Xe){var zn=ke(Ee);return Hi(Ee)?zn:function(ht,Tt){for(var fi=-1,Wt=Tt.length,Ct=ht.length;++fi<Wt;)ht[Ct+fi]=Tt[fi];return ht}(zn,Xe(Ee))}(ue,St,tr)}function tt(ue,Ee){var ke,Xe,zn=ue.__data__;return((Xe=typeof(ke=Ee))=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?ke!=="__proto__":ke===null)?zn[typeof Ee=="string"?"string":"hash"]:zn.map}function vt(ue,Ee){var ke=function(Xe,zn){return Xe?.[zn]}(ue,Ee);return be(ke)?ke:void 0}xe.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},xe.prototype.delete=function(ue){var Ee=this.has(ue)&&delete this.__data__[ue];return this.size-=Ee?1:0,Ee},xe.prototype.get=function(ue){var Ee=this.__data__;if(ye){var ke=Ee[ue];return ke==="__lodash_hash_undefined__"?void 0:ke}return C.call(Ee,ue)?Ee[ue]:void 0},xe.prototype.has=function(ue){var Ee=this.__data__;return ye?Ee[ue]!==void 0:C.call(Ee,ue)},xe.prototype.set=function(ue,Ee){var ke=this.__data__;return this.size+=this.has(ue)?0:1,ke[ue]=ye&&Ee===void 0?"__lodash_hash_undefined__":Ee,this},ze.prototype.clear=function(){this.__data__=[],this.size=0},ze.prototype.delete=function(ue){var Ee=this.__data__,ke=nt(Ee,ue);return!(ke<0)&&(ke==Ee.length-1?Ee.pop():Y.call(Ee,ke,1),--this.size,!0)},ze.prototype.get=function(ue){var Ee=this.__data__,ke=nt(Ee,ue);return ke<0?void 0:Ee[ke][1]},ze.prototype.has=function(ue){return nt(this.__data__,ue)>-1},ze.prototype.set=function(ue,Ee){var ke=this.__data__,Xe=nt(ke,ue);return Xe<0?(++this.size,ke.push([ue,Ee])):ke[Xe][1]=Ee,this},Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(Q||ze),string:new xe}},Ve.prototype.delete=function(ue){var Ee=tt(this,ue).delete(ue);return this.size-=Ee?1:0,Ee},Ve.prototype.get=function(ue){return tt(this,ue).get(ue)},Ve.prototype.has=function(ue){return tt(this,ue).has(ue)},Ve.prototype.set=function(ue,Ee){var ke=tt(this,ue),Xe=ke.size;return ke.set(ue,Ee),this.size+=ke.size==Xe?0:1,this},Ze.prototype.add=Ze.prototype.push=function(ue){return this.__data__.set(ue,"__lodash_hash_undefined__"),this},Ze.prototype.has=function(ue){return this.__data__.has(ue)},mt.prototype.clear=function(){this.__data__=new ze,this.size=0},mt.prototype.delete=function(ue){var Ee=this.__data__,ke=Ee.delete(ue);return this.size=Ee.size,ke},mt.prototype.get=function(ue){return this.__data__.get(ue)},mt.prototype.has=function(ue){return this.__data__.has(ue)},mt.prototype.set=function(ue,Ee){var ke=this.__data__;if(ke instanceof ze){var Xe=ke.__data__;if(!Q||Xe.length<199)return Xe.push([ue,Ee]),this.size=++ke.size,this;ke=this.__data__=new Ve(Xe)}return ke.set(ue,Ee),this.size=ke.size,this};var tr=K?function(ue){return ue==null?[]:(ue=Object(ue),function(Ee,ke){for(var Xe=-1,zn=Ee==null?0:Ee.length,ht=0,Tt=[];++Xe<zn;){var fi=Ee[Xe];ke(fi,Xe,Ee)&&(Tt[ht++]=fi)}return Tt}(K(ue),function(Ee){return G.call(ue,Ee)}))}:function(){return[]},xt=on;function wt(ue,Ee){return!!(Ee=Ee??9007199254740991)&&(typeof ue=="number"||d.test(ue))&&ue>-1&&ue%1==0&&ue<Ee}function Sn(ue){if(ue!=null){try{return b.call(ue)}catch{}try{return ue+""}catch{}}return""}function At(ue,Ee){return ue===Ee||ue!=ue&&Ee!=Ee}(W&&xt(new W(new ArrayBuffer(1)))!="[object DataView]"||Q&&xt(new Q)!=o||se&&xt(se.resolve())!="[object Promise]"||ne&&xt(new ne)!=a||ie&&xt(new ie)!="[object WeakMap]")&&(xt=function(ue){var Ee=on(ue),ke=Ee==s?ue.constructor:void 0,Xe=ke?Sn(ke):"";if(Xe)switch(Xe){case ve:return"[object DataView]";case ee:return o;case fe:return"[object Promise]";case de:return a;case he:return"[object WeakMap]"}return Ee});var Yt=bt(function(){return arguments}())?bt:function(ue){return Ft(ue)&&C.call(ue,"callee")&&!G.call(ue,"callee")},Hi=Array.isArray,Ut=A||function(){return!1};function Mt(ue){if(!Ot(ue))return!1;var Ee=on(ue);return Ee=="[object Function]"||Ee=="[object GeneratorFunction]"||Ee=="[object AsyncFunction]"||Ee=="[object Proxy]"}function pi(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=9007199254740991}function Ot(ue){var Ee=typeof ue;return ue!=null&&(Ee=="object"||Ee=="function")}function Ft(ue){return ue!=null&&typeof ue=="object"}var hi=E?function(ue){return function(Ee){return ue(Ee)}}(E):function(ue){return Ft(ue)&&pi(ue.length)&&!!c[on(ue)]};function St(ue){return(Ee=ue)!=null&&pi(Ee.length)&&!Mt(Ee)?Ue(ue):ge(ue);var Ee}t.exports=function(ue,Ee){return Me(ue,Ee)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,t,n){(function(i){(function(){"use strict";var r=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,s=r||o||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,d=a.toString,c=s.Symbol,u=c?c.toStringTag:void 0;function h(p){return p==null?p===void 0?"[object Undefined]":"[object Null]":u&&u in Object(p)?function(f){var m=l.call(f,u),g=f[u];try{f[u]=void 0;var v=!0}catch{}var w=d.call(f);return v&&(m?f[u]=g:delete f[u]),w}(p):function(f){return d.call(f)}(p)}t.exports=function(p){if(!function(m){var g=typeof m;return m!=null&&(g=="object"||g=="function")}(p))return!1;var f=h(p);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,t,n){"use strict";t.exports=function(i){return i==null}},{}],448:[function(e,t,n){"use strict";t.exports=function(i){return i===void 0}},{}],449:[function(e,t,n){(function(i){(function(){"use strict";var r=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();function l(U,G){return!!(U&&U.length)&&function(Y,B,K){if(B!=B)return function(W,Q,se,ne){for(var ie=W.length,ye=se+(ne?1:-1);ne?ye--:++ye<ie;)if(Q(W[ye],ye,W))return ye;return-1}(Y,c,K);for(var A=K-1,P=Y.length;++A<P;)if(Y[A]===B)return A;return-1}(U,G,0)>-1}function d(U,G,Y){for(var B=-1,K=U?U.length:0;++B<K;)if(Y(G,U[B]))return!0;return!1}function c(U){return U!=U}function u(U,G){return U.has(G)}function h(U){var G=-1,Y=Array(U.size);return U.forEach(function(B){Y[++G]=B}),Y}var p,f=Array.prototype,m=Function.prototype,g=Object.prototype,v=a["__core-js_shared__"],w=(p=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",E=m.toString,T=g.hasOwnProperty,F=g.toString,k=RegExp("^"+E.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=f.splice,V=M(a,"Map"),j=M(a,"Set"),z=M(Object,"create");function R(U){var G=-1,Y=U?U.length:0;for(this.clear();++G<Y;){var B=U[G];this.set(B[0],B[1])}}function I(U){var G=-1,Y=U?U.length:0;for(this.clear();++G<Y;){var B=U[G];this.set(B[0],B[1])}}function N(U){var G=-1,Y=U?U.length:0;for(this.clear();++G<Y;){var B=U[G];this.set(B[0],B[1])}}function b(U){var G=-1,Y=U?U.length:0;for(this.__data__=new N;++G<Y;)this.add(U[G])}function C(U,G){for(var Y,B,K=U.length;K--;)if((Y=U[K][0])===(B=G)||Y!=Y&&B!=B)return K;return-1}function x(U){return!(!O(U)||(G=U,w&&w in G))&&(function(Y){var B=O(Y)?F.call(Y):"";return B=="[object Function]"||B=="[object GeneratorFunction]"}(U)||function(Y){var B=!1;if(Y!=null&&typeof Y.toString!="function")try{B=!!(Y+"")}catch{}return B}(U)?k:r).test(function(Y){if(Y!=null){try{return E.call(Y)}catch{}try{return Y+""}catch{}}return""}(U));var G}R.prototype.clear=function(){this.__data__=z?z(null):{}},R.prototype.delete=function(U){return this.has(U)&&delete this.__data__[U]},R.prototype.get=function(U){var G=this.__data__;if(z){var Y=G[U];return Y==="__lodash_hash_undefined__"?void 0:Y}return T.call(G,U)?G[U]:void 0},R.prototype.has=function(U){var G=this.__data__;return z?G[U]!==void 0:T.call(G,U)},R.prototype.set=function(U,G){return this.__data__[U]=z&&G===void 0?"__lodash_hash_undefined__":G,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(U){var G=this.__data__,Y=C(G,U);return!(Y<0)&&(Y==G.length-1?G.pop():L.call(G,Y,1),!0)},I.prototype.get=function(U){var G=this.__data__,Y=C(G,U);return Y<0?void 0:G[Y][1]},I.prototype.has=function(U){return C(this.__data__,U)>-1},I.prototype.set=function(U,G){var Y=this.__data__,B=C(Y,U);return B<0?Y.push([U,G]):Y[B][1]=G,this},N.prototype.clear=function(){this.__data__={hash:new R,map:new(V||I),string:new R}},N.prototype.delete=function(U){return D(this,U).delete(U)},N.prototype.get=function(U){return D(this,U).get(U)},N.prototype.has=function(U){return D(this,U).has(U)},N.prototype.set=function(U,G){return D(this,U).set(U,G),this},b.prototype.add=b.prototype.push=function(U){return this.__data__.set(U,"__lodash_hash_undefined__"),this},b.prototype.has=function(U){return this.__data__.has(U)};var _=j&&1/h(new j([,-0]))[1]==1/0?function(U){return new j(U)}:function(){};function D(U,G){var Y,B,K=U.__data__;return((B=typeof(Y=G))=="string"||B=="number"||B=="symbol"||B=="boolean"?Y!=="__proto__":Y===null)?K[typeof G=="string"?"string":"hash"]:K.map}function M(U,G){var Y=function(B,K){return B?.[K]}(U,G);return x(Y)?Y:void 0}function O(U){var G=typeof U;return!!U&&(G=="object"||G=="function")}t.exports=function(U){return U&&U.length?function(G,Y,B){var K=-1,A=l,P=G.length,W=!0,Q=[],se=Q;if(B)W=!1,A=d;else if(P>=200){var ne=Y?null:_(G);if(ne)return h(ne);W=!1,A=u,se=new b}else se=Y?[]:Q;e:for(;++K<P;){var ie=G[K],ye=Y?Y(ie):ie;if(ie=B||ie!==0?ie:0,W&&ye==ye){for(var ve=se.length;ve--;)if(se[ve]===ye)continue e;Y&&se.push(ye),Q.push(ie)}else A(se,ye,B)||(se!==Q&&se.push(ye),Q.push(ie))}return Q}(U):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,t,n){"use strict";var i=e("inherits"),r=e("hash-base"),o=e("safe-buffer").Buffer,s=new Array(16);function a(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(p,f){return p<<f|p>>>32-f}function d(p,f,m,g,v,w,E){return l(p+(f&m|~f&g)+v+w|0,E)+f|0}function c(p,f,m,g,v,w,E){return l(p+(f&g|m&~g)+v+w|0,E)+f|0}function u(p,f,m,g,v,w,E){return l(p+(f^m^g)+v+w|0,E)+f|0}function h(p,f,m,g,v,w,E){return l(p+(m^(f|~g))+v+w|0,E)+f|0}i(a,r),a.prototype._update=function(){for(var p=s,f=0;f<16;++f)p[f]=this._block.readInt32LE(4*f);var m=this._a,g=this._b,v=this._c,w=this._d;m=d(m,g,v,w,p[0],3614090360,7),w=d(w,m,g,v,p[1],3905402710,12),v=d(v,w,m,g,p[2],606105819,17),g=d(g,v,w,m,p[3],3250441966,22),m=d(m,g,v,w,p[4],4118548399,7),w=d(w,m,g,v,p[5],1200080426,12),v=d(v,w,m,g,p[6],2821735955,17),g=d(g,v,w,m,p[7],4249261313,22),m=d(m,g,v,w,p[8],1770035416,7),w=d(w,m,g,v,p[9],2336552879,12),v=d(v,w,m,g,p[10],4294925233,17),g=d(g,v,w,m,p[11],2304563134,22),m=d(m,g,v,w,p[12],1804603682,7),w=d(w,m,g,v,p[13],4254626195,12),v=d(v,w,m,g,p[14],2792965006,17),m=c(m,g=d(g,v,w,m,p[15],1236535329,22),v,w,p[1],4129170786,5),w=c(w,m,g,v,p[6],3225465664,9),v=c(v,w,m,g,p[11],643717713,14),g=c(g,v,w,m,p[0],3921069994,20),m=c(m,g,v,w,p[5],3593408605,5),w=c(w,m,g,v,p[10],38016083,9),v=c(v,w,m,g,p[15],3634488961,14),g=c(g,v,w,m,p[4],3889429448,20),m=c(m,g,v,w,p[9],568446438,5),w=c(w,m,g,v,p[14],3275163606,9),v=c(v,w,m,g,p[3],4107603335,14),g=c(g,v,w,m,p[8],1163531501,20),m=c(m,g,v,w,p[13],2850285829,5),w=c(w,m,g,v,p[2],4243563512,9),v=c(v,w,m,g,p[7],1735328473,14),m=u(m,g=c(g,v,w,m,p[12],2368359562,20),v,w,p[5],4294588738,4),w=u(w,m,g,v,p[8],2272392833,11),v=u(v,w,m,g,p[11],1839030562,16),g=u(g,v,w,m,p[14],4259657740,23),m=u(m,g,v,w,p[1],2763975236,4),w=u(w,m,g,v,p[4],1272893353,11),v=u(v,w,m,g,p[7],4139469664,16),g=u(g,v,w,m,p[10],3200236656,23),m=u(m,g,v,w,p[13],681279174,4),w=u(w,m,g,v,p[0],3936430074,11),v=u(v,w,m,g,p[3],3572445317,16),g=u(g,v,w,m,p[6],76029189,23),m=u(m,g,v,w,p[9],3654602809,4),w=u(w,m,g,v,p[12],3873151461,11),v=u(v,w,m,g,p[15],530742520,16),m=h(m,g=u(g,v,w,m,p[2],3299628645,23),v,w,p[0],4096336452,6),w=h(w,m,g,v,p[7],1126891415,10),v=h(v,w,m,g,p[14],2878612391,15),g=h(g,v,w,m,p[5],4237533241,21),m=h(m,g,v,w,p[12],1700485571,6),w=h(w,m,g,v,p[3],2399980690,10),v=h(v,w,m,g,p[10],4293915773,15),g=h(g,v,w,m,p[1],2240044497,21),m=h(m,g,v,w,p[8],1873313359,6),w=h(w,m,g,v,p[15],4264355552,10),v=h(v,w,m,g,p[6],2734768916,15),g=h(g,v,w,m,p[13],1309151649,21),m=h(m,g,v,w,p[4],4149444226,6),w=h(w,m,g,v,p[11],3174756917,10),v=h(v,w,m,g,p[2],718787259,15),g=h(g,v,w,m,p[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+v|0,this._d=this._d+w|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=o.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p},t.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("brorand");function o(s){this.rand=s||new r.Rand}t.exports=o,o.create=function(s){return new o(s)},o.prototype._randbelow=function(s){var a=s.bitLength(),l=Math.ceil(a/8);do var d=new i(this.rand.generate(l));while(d.cmp(s)>=0);return d},o.prototype._randrange=function(s,a){var l=a.sub(s);return s.add(this._randbelow(l))},o.prototype.test=function(s,a,l){var d=s.bitLength(),c=i.mont(s),u=new i(1).toRed(c);a||(a=Math.max(1,d/48|0));for(var h=s.subn(1),p=0;!h.testn(p);p++);for(var f=s.shrn(p),m=h.toRed(c);a>0;a--){var g=this._randrange(new i(2),h);l&&l(g);var v=g.toRed(c).redPow(f);if(v.cmp(u)!==0&&v.cmp(m)!==0){for(var w=1;w<p;w++){if((v=v.redSqr()).cmp(u)===0)return!1;if(v.cmp(m)===0)break}if(w===p)return!1}}return!0},o.prototype.getDivisor=function(s,a){var l=s.bitLength(),d=i.mont(s),c=new i(1).toRed(d);a||(a=Math.max(1,l/48|0));for(var u=s.subn(1),h=0;!u.testn(h);h++);for(var p=s.shrn(h),f=u.toRed(d);a>0;a--){var m=this._randrange(new i(2),u),g=s.gcd(m);if(g.cmpn(1)!==0)return g;var v=m.toRed(d).redPow(p);if(v.cmp(c)!==0&&v.cmp(f)!==0){for(var w=1;w<h;w++){if((v=v.redSqr()).cmp(c)===0)return v.fromRed().subn(1).gcd(s);if(v.cmp(f)===0)break}if(w===h)return(v=v.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],453:[function(e,t,n){"use strict";function i(r,o){if(!r)throw new Error(o||"Assertion failed")}t.exports=i,i.equal=function(r,o,s){if(r!=o)throw new Error(s||"Assertion failed: "+r+" != "+o)}},{}],454:[function(e,t,n){"use strict";var i=n;function r(s){return s.length===1?"0"+s:s}function o(s){for(var a="",l=0;l<s.length;l++)a+=r(s[l].toString(16));return a}i.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var d=0;d<s.length;d++)l[d]=0|s[d];return l}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),d=0;d<s.length;d+=2)l.push(parseInt(s[d]+s[d+1],16));else for(d=0;d<s.length;d++){var c=s.charCodeAt(d),u=c>>8,h=255&c;u?l.push(u,h):l.push(h)}return l},i.zero2=r,i.toHex=o,i.encode=function(s,a){return a==="hex"?o(s):s}},{}],455:[function(e,t,n){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,t,n){"use strict";var i=e("asn1.js");n.certificate=e("./certificate");var r=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=r;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});n.PublicKey=s;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});n.PrivateKey=l;var d=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=d;var c=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=c,n.DSAparam=i.define("DSAparam",function(){this.int()});var u=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=u;var h=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,t,n){"use strict";var i=e("asn1.js"),r=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=i.define("RelativeDistinguishedName",function(){this.setof(o)}),d=i.define("RDNSequence",function(){this.seqof(l)}),c=i.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),u=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),h=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),f=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=f},{"asn1.js":170}],458:[function(e,t,n){"use strict";var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=e("evp_bytestokey"),a=e("browserify-aes"),l=e("safe-buffer").Buffer;t.exports=function(d,c){var u,h=d.toString(),p=h.match(i);if(p){var f="aes"+p[1],m=l.from(p[2],"hex"),g=l.from(p[3].replace(/[\r\n]/g,""),"base64"),v=s(c,m.slice(0,8),parseInt(p[1],10)).key,w=[],E=a.createDecipheriv(f,v,m);w.push(E.update(g)),w.push(E.final()),u=l.concat(w)}else{var T=h.match(o);u=l.from(T[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(r)[1],data:u}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,t,n){"use strict";var i=e("./asn1"),r=e("./aesid.json"),o=e("./fixProc"),s=e("browserify-aes"),a=e("pbkdf2"),l=e("safe-buffer").Buffer;function d(c){var u;typeof c!="object"||l.isBuffer(c)||(u=c.passphrase,c=c.key),typeof c=="string"&&(c=l.from(c));var h,p,f=o(c,u),m=f.tag,g=f.data;switch(m){case"CERTIFICATE":p=i.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=i.PublicKey.decode(g,"der")),h=p.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=i.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":g=function(v,w){var E=v.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),F=r[v.algorithm.decrypt.cipher.algo.join(".")],k=v.algorithm.decrypt.cipher.iv,L=v.subjectPrivateKey,V=parseInt(F.split("-")[1],10)/8,j=a.pbkdf2Sync(w,E,T,V,"sha1"),z=s.createDecipheriv(F,j,k),R=[];return R.push(z.update(L)),R.push(z.final()),l.concat(R)}(g=i.EncryptedPrivateKey.decode(g,"der"),u);case"PRIVATE KEY":switch(h=(p=i.PrivateKey.decode(g,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:i.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=i.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+h)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return{curve:(g=i.ECPrivateKey.decode(g,"der")).parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+m)}}t.exports=d,d.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,t,n){"use strict";n.pbkdf2=e("./lib/async"),n.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,t,n){(function(i){(function(){"use strict";var r,o,s=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),d=e("./sync"),c=e("./to-buffer"),u=i.crypto&&i.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];function f(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function m(g,v,w,E,T){return u.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(F){return u.deriveBits({name:"PBKDF2",salt:v,iterations:w,hash:{name:T}},F,E<<3)}).then(function(F){return s.from(F)})}t.exports=function(g,v,w,E,T,F){typeof T=="function"&&(F=T,T=void 0);var k=h[(T=T||"sha1").toLowerCase()];if(k&&typeof i.Promise=="function"){if(a(w,E),g=c(g,l,"Password"),v=c(v,l,"Salt"),typeof F!="function")throw new Error("No callback provided to pbkdf2");(function(L,V){L.then(function(j){f()(function(){V(null,j)})},function(j){f()(function(){V(j)})})})(function(L){if(i.process&&!i.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(p[L]!==void 0)return p[L];var V=m(r=r||s.alloc(8),r,10,128,L).then(function(){return!0}).catch(function(){return!1});return p[L]=V,V}(k).then(function(L){return L?m(g,v,w,E,k):d(g,v,w,E,T)}),F)}else f()(function(){var L;try{L=d(g,v,w,E,T)}catch(V){return F(V)}F(null,L)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,t,n){(function(i,r){(function(){"use strict";var o;r.process&&r.process.browser?o="utf-8":r.process&&r.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",t.exports=o}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,t,n){"use strict";var i=Math.pow(2,30)-1;t.exports=function(r,o){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(e,t,n){"use strict";var i=e("create-hash/md5"),r=e("ripemd160"),o=e("sha.js"),s=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),d=e("./to-buffer"),c=s.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(p,f,m){var g=function(k){function L(V){return o(k).update(V).digest()}return k==="rmd160"||k==="ripemd160"?function(V){return new r().update(V).digest()}:k==="md5"?i:L}(p),v=p==="sha512"||p==="sha384"?128:64;f.length>v?f=g(f):f.length<v&&(f=s.concat([f,c],v));for(var w=s.allocUnsafe(v+u[p]),E=s.allocUnsafe(v+u[p]),T=0;T<v;T++)w[T]=54^f[T],E[T]=92^f[T];var F=s.allocUnsafe(v+m+4);w.copy(F,0,0,v),this.ipad1=F,this.ipad2=w,this.opad=E,this.alg=p,this.blocksize=v,this.hash=g,this.size=u[p]}h.prototype.run=function(p,f){return p.copy(f,this.blocksize),this.hash(f).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(p,f,m,g,v){a(m,g);var w=new h(v=v||"sha1",p=d(p,l,"Password"),(f=d(f,l,"Salt")).length),E=s.allocUnsafe(g),T=s.allocUnsafe(f.length+4);f.copy(T,0,0,f.length);for(var F=0,k=u[v],L=Math.ceil(g/k),V=1;V<=L;V++){T.writeUInt32BE(V,f.length);for(var j=w.run(T,w.ipad1),z=j,R=1;R<m;R++){z=w.run(z,w.ipad2);for(var I=0;I<k;I++)j[I]^=z[I]}j.copy(E,F),F+=k}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer;t.exports=function(r,o,s){if(i.isBuffer(r))return r;if(typeof r=="string")return i.from(r,o);if(ArrayBuffer.isView(r))return i.from(r.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,t,n){(function(i){(function(){"use strict";i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(r,o,s,a){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var l,d,c=arguments.length;switch(c){case 0:case 1:return i.nextTick(r);case 2:return i.nextTick(function(){r.call(null,o)});case 3:return i.nextTick(function(){r.call(null,o,s)});case 4:return i.nextTick(function(){r.call(null,o,s,a)});default:for(l=new Array(c-1),d=0;d<l.length;)l[d++]=arguments[d];return i.nextTick(function(){r.apply(null,l)})}}}:t.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,t,n){"use strict";var i,r,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(v){if(i===setTimeout)return setTimeout(v,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(v,0);try{return i(v,0)}catch{try{return i.call(null,v,0)}catch{return i.call(this,v,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:s}catch{i=s}try{r=typeof clearTimeout=="function"?clearTimeout:a}catch{r=a}})();var d,c=[],u=!1,h=-1;function p(){u&&d&&(u=!1,d.length?c=d.concat(c):h=-1,c.length&&f())}function f(){if(!u){var v=l(p);u=!0;for(var w=c.length;w;){for(d=c,c=[];++h<w;)d&&d[h].run();h=-1,w=c.length}d=null,u=!1,function(E){if(r===clearTimeout)return clearTimeout(E);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(E);try{r(E)}catch{try{return r.call(null,E)}catch{return r.call(this,E)}}}(v)}}function m(v,w){this.fun=v,this.array=w}function g(){}o.nextTick=function(v){var w=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)w[E-1]=arguments[E];c.push(new m(v,w)),c.length!==1||u||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(v){return[]},o.binding=function(v){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(v){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(e,t,n){"use strict";n.publicEncrypt=e("./publicEncrypt"),n.privateDecrypt=e("./privateDecrypt"),n.privateEncrypt=function(i,r){return n.publicEncrypt(i,r,!0)},n.publicDecrypt=function(i,r){return n.privateDecrypt(i,r,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,t,n){"use strict";var i=e("create-hash"),r=e("safe-buffer").Buffer;function o(s){var a=r.allocUnsafe(4);return a.writeUInt32BE(s,0),a}t.exports=function(s,a){for(var l,d=r.alloc(0),c=0;d.length<a;)l=o(c++),d=r.concat([d,i("sha1").update(s).update(l).digest()]);return d.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,t,n){arguments[4][184][0].apply(n,arguments)},{buffer:188,dup:184}],471:[function(e,t,n){"use strict";var i=e("parse-asn1"),r=e("./mgf"),o=e("./xor"),s=e("bn.js"),a=e("browserify-rsa"),l=e("create-hash"),d=e("./withPublic"),c=e("safe-buffer").Buffer;t.exports=function(u,h,p){var f;f=u.padding?u.padding:p?1:4;var m,g=i(u),v=g.modulus.byteLength();if(h.length>v||new s(h).cmp(g.modulus)>=0)throw new Error("decryption error");m=p?d(new s(h),g):a(h,g);var w=c.alloc(v-m.length);if(m=c.concat([w,m],v),f===4)return function(E,T){var F=E.modulus.byteLength(),k=l("sha1").update(c.alloc(0)).digest(),L=k.length;if(T[0]!==0)throw new Error("decryption error");var V=T.slice(1,L+1),j=T.slice(L+1),z=o(V,r(j,L)),R=o(j,r(z,F-L-1));if(function(N,b){N=c.from(N),b=c.from(b);var C=0,x=N.length;N.length!==b.length&&(C++,x=Math.min(N.length,b.length));for(var _=-1;++_<x;)C+=N[_]^b[_];return C}(k,R.slice(0,L)))throw new Error("decryption error");for(var I=L;R[I]===0;)I++;if(R[I++]!==1)throw new Error("decryption error");return R.slice(I)}(g,m);if(f===1)return function(E,T,F){for(var k=T.slice(0,2),L=2,V=0;T[L++]!==0;)if(L>=T.length){V++;break}var j=T.slice(2,L-1);if((k.toString("hex")!=="0002"&&!F||k.toString("hex")!=="0001"&&F)&&V++,j.length<8&&V++,V)throw new Error("decryption error");return T.slice(L)}(0,m,p);if(f===3)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,t,n){"use strict";var i=e("parse-asn1"),r=e("randombytes"),o=e("create-hash"),s=e("./mgf"),a=e("./xor"),l=e("bn.js"),d=e("./withPublic"),c=e("browserify-rsa"),u=e("safe-buffer").Buffer;t.exports=function(h,p,f){var m;m=h.padding?h.padding:f?1:4;var g,v=i(h);if(m===4)g=function(w,E){var T=w.modulus.byteLength(),F=E.length,k=o("sha1").update(u.alloc(0)).digest(),L=k.length,V=2*L;if(F>T-V-2)throw new Error("message too long");var j=u.alloc(T-F-V-2),z=T-L-1,R=r(L),I=a(u.concat([k,j,u.alloc(1,1),E],z),s(R,z)),N=a(R,s(I,L));return new l(u.concat([u.alloc(1),N,I],T))}(v,p);else if(m===1)g=function(w,E,T){var F,k=E.length,L=w.modulus.byteLength();if(k>L-11)throw new Error("message too long");return F=T?u.alloc(L-k-3,255):function(V){for(var j,z=u.allocUnsafe(V),R=0,I=r(2*V),N=0;R<V;)N===I.length&&(I=r(2*V),N=0),(j=I[N++])&&(z[R++]=j);return z}(L-k-3),new l(u.concat([u.from([0,T?1:2]),F,u.alloc(1),E],L))}(v,p,f);else{if(m!==3)throw new Error("unknown padding");if((g=new l(p)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return f?c(g,v):d(g,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("safe-buffer").Buffer;t.exports=function(o,s){return r.from(o.toRed(i.mont(s.modulus)).redPow(new i(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,t,n){"use strict";t.exports=function(i,r){for(var o=i.length,s=-1;++s<o;)i[s]^=r[s];return i}},{}],475:[function(e,t,n){(function(i,r){(function(){"use strict";var o=e("safe-buffer").Buffer,s=r.crypto||r.msCrypto;s&&s.getRandomValues?t.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var d=o.allocUnsafe(a);if(a>0)if(a>65536)for(var c=0;c<a;c+=65536)s.getRandomValues(d.slice(c,c+65536));else s.getRandomValues(d);return typeof l=="function"?i.nextTick(function(){l(null,d)}):d}:t.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,t,n){(function(i,r){(function(){"use strict";function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=e("safe-buffer"),a=e("randombytes"),l=s.Buffer,d=s.kMaxLength,c=r.crypto||r.msCrypto,u=Math.pow(2,32)-1;function h(m,g){if(typeof m!="number"||m!=m)throw new TypeError("offset must be a number");if(m>u||m<0)throw new TypeError("offset must be a uint32");if(m>d||m>g)throw new RangeError("offset out of range")}function p(m,g,v){if(typeof m!="number"||m!=m)throw new TypeError("size must be a number");if(m>u||m<0)throw new TypeError("size must be a uint32");if(m+g>v||m>d)throw new RangeError("buffer too small")}function f(m,g,v,w){if(i.browser){var E=m.buffer,T=new Uint8Array(E,g,v);return c.getRandomValues(T),w?void i.nextTick(function(){w(null,m)}):m}if(!w)return a(v).copy(m,g),m;a(v,function(F,k){if(F)return w(F);k.copy(m,g),w(null,m)})}c&&c.getRandomValues||!i.browser?(n.randomFill=function(m,g,v,w){if(!(l.isBuffer(m)||m instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof g=="function")w=g,g=0,v=m.length;else if(typeof v=="function")w=v,v=m.length-g;else if(typeof w!="function")throw new TypeError('"cb" argument must be a function');return h(g,m.length),p(v,g,m.length),f(m,g,v,w)},n.randomFillSync=function(m,g,v){if(g===void 0&&(g=0),!(l.isBuffer(m)||m instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(g,m.length),v===void 0&&(v=m.length-g),p(v,g,m.length),f(m,g,v)}):(n.randomFill=o,n.randomFillSync=o)}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,t,n){"use strict";var i={};function r(s,a,l){l||(l=Error);var d=function(c){var u,h;function p(f,m,g){return c.call(this,function(v,w,E){return typeof a=="string"?a:a(v,w,E)}(f,m,g))||this}return h=c,(u=p).prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h,p}(l);d.prototype.name=l.name,d.prototype.code=s,i[s]=d}function o(s,a){if(Array.isArray(s)){var l=s.length;return s=s.map(function(d){return String(d)}),l>2?"one of ".concat(a," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}r("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(s,a,l){var d,c,u,h;if(typeof a=="string"&&(c="not ",a.substr(!u||u<0?0:+u,c.length)===c)?(d="must not be",a=a.replace(/^not /,"")):d="must be",function(f,m,g){return(g===void 0||g>f.length)&&(g=f.length),f.substring(g-m.length,g)===m}(s," argument"))h="The ".concat(s," ").concat(d," ").concat(o(a,"type"));else{var p=function(f,m,g){return typeof g!="number"&&(g=0),!(g+m.length>f.length)&&f.indexOf(m,g)!==-1}(s,".")?"property":"argument";h='The "'.concat(s,'" ').concat(p," ").concat(d," ").concat(o(a,"type"))}return h+=". Received type ".concat(typeof l)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],478:[function(e,t,n){(function(i){(function(){"use strict";var r=Object.keys||function(p){var f=[];for(var m in p)f.push(m);return f};t.exports=c;var o=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,o);for(var a=r(s.prototype),l=0;l<a.length;l++){var d=a[l];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(p){if(!(this instanceof c))return new c(p);o.call(this,p),s.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||i.nextTick(h,this)}function h(p){p.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,t,n){"use strict";t.exports=r;var i=e("./_stream_transform");function r(o){if(!(this instanceof r))return new r(o);i.call(this,o)}e("inherits")(r,i),r.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(e,t,n){(function(i,r){(function(){"use strict";var o;t.exports=z,z.ReadableState=j,e("events").EventEmitter;var s=function(A,P){return A.listeners(P).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,d=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var h,p,f,m=e("./internal/streams/buffer_list"),g=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,w=e("../errors").codes,E=w.ERR_INVALID_ARG_TYPE,T=w.ERR_STREAM_PUSH_AFTER_EOF,F=w.ERR_METHOD_NOT_IMPLEMENTED,k=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(z,a);var L=g.errorOrDestroy,V=["error","close","destroy","pause","resume"];function j(A,P,W){o=o||e("./_stream_duplex"),A=A||{},typeof W!="boolean"&&(W=P instanceof o),this.objectMode=!!A.objectMode,W&&(this.objectMode=this.objectMode||!!A.readableObjectMode),this.highWaterMark=v(this,A,"readableHighWaterMark",W),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.destroyed=!1,this.defaultEncoding=A.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,A.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(A.encoding),this.encoding=A.encoding)}function z(A){if(o=o||e("./_stream_duplex"),!(this instanceof z))return new z(A);var P=this instanceof o;this._readableState=new j(A,this,P),this.readable=!0,A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy)),a.call(this)}function R(A,P,W,Q,se){c("readableAddChunk",P);var ne,ie=A._readableState;if(P===null)ie.reading=!1,function(ye,ve){if(c("onEofChunk"),!ve.ended){if(ve.decoder){var ee=ve.decoder.end();ee&&ee.length&&(ve.buffer.push(ee),ve.length+=ve.objectMode?1:ee.length)}ve.ended=!0,ve.sync?b(ye):(ve.needReadable=!1,ve.emittedReadable||(ve.emittedReadable=!0,C(ye)))}}(A,ie);else if(se||(ne=function(ye,ve){var ee;fe=ve,l.isBuffer(fe)||fe instanceof d||typeof ve=="string"||ve===void 0||ye.objectMode||(ee=new E("chunk",["string","Buffer","Uint8Array"],ve));var fe;return ee}(ie,P)),ne)L(A,ne);else if(ie.objectMode||P&&P.length>0)if(typeof P=="string"||ie.objectMode||Object.getPrototypeOf(P)===l.prototype||(P=function(ye){return l.from(ye)}(P)),Q)ie.endEmitted?L(A,new k):I(A,ie,P,!0);else if(ie.ended)L(A,new T);else{if(ie.destroyed)return!1;ie.reading=!1,ie.decoder&&!W?(P=ie.decoder.write(P),ie.objectMode||P.length!==0?I(A,ie,P,!1):x(A,ie)):I(A,ie,P,!1)}else Q||(ie.reading=!1,x(A,ie));return!ie.ended&&(ie.length<ie.highWaterMark||ie.length===0)}function I(A,P,W,Q){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,A.emit("data",W)):(P.length+=P.objectMode?1:W.length,Q?P.buffer.unshift(W):P.buffer.push(W),P.needReadable&&b(A)),x(A,P)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),z.prototype.destroy=g.destroy,z.prototype._undestroy=g.undestroy,z.prototype._destroy=function(A,P){P(A)},z.prototype.push=function(A,P){var W,Q=this._readableState;return Q.objectMode?W=!0:typeof A=="string"&&((P=P||Q.defaultEncoding)!==Q.encoding&&(A=l.from(A,P),P=""),W=!0),R(this,A,P,!1,W)},z.prototype.unshift=function(A){return R(this,A,null,!0,!1)},z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(A){h||(h=e("string_decoder/").StringDecoder);var P=new h(A);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,Q="";W!==null;)Q+=P.write(W.data),W=W.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};function N(A,P){return A<=0||P.length===0&&P.ended?0:P.objectMode?1:A!=A?P.flowing&&P.length?P.buffer.head.data.length:P.length:(A>P.highWaterMark&&(P.highWaterMark=function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(A)),A<=P.length?A:P.ended?P.length:(P.needReadable=!0,0))}function b(A){var P=A._readableState;c("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(c("emitReadable",P.flowing),P.emittedReadable=!0,i.nextTick(C,A))}function C(A){var P=A._readableState;c("emitReadable_",P.destroyed,P.length,P.ended),P.destroyed||!P.length&&!P.ended||(A.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,U(A)}function x(A,P){P.readingMore||(P.readingMore=!0,i.nextTick(_,A,P))}function _(A,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var W=P.length;if(c("maybeReadMore read 0"),A.read(0),W===P.length)break}P.readingMore=!1}function D(A){var P=A._readableState;P.readableListening=A.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:A.listenerCount("data")>0&&A.resume()}function M(A){c("readable nexttick read 0"),A.read(0)}function O(A,P){c("resume",P.reading),P.reading||A.read(0),P.resumeScheduled=!1,A.emit("resume"),U(A),P.flowing&&!P.reading&&A.read(0)}function U(A){var P=A._readableState;for(c("flow",P.flowing);P.flowing&&A.read()!==null;);}function G(A,P){return P.length===0?null:(P.objectMode?W=P.buffer.shift():!A||A>=P.length?(W=P.decoder?P.buffer.join(""):P.buffer.length===1?P.buffer.first():P.buffer.concat(P.length),P.buffer.clear()):W=P.buffer.consume(A,P.decoder),W);var W}function Y(A){var P=A._readableState;c("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,i.nextTick(B,P,A))}function B(A,P){if(c("endReadableNT",A.endEmitted,A.length),!A.endEmitted&&A.length===0&&(A.endEmitted=!0,P.readable=!1,P.emit("end"),A.autoDestroy)){var W=P._writableState;(!W||W.autoDestroy&&W.finished)&&P.destroy()}}function K(A,P){for(var W=0,Q=A.length;W<Q;W++)if(A[W]===P)return W;return-1}z.prototype.read=function(A){c("read",A),A=parseInt(A,10);var P=this._readableState,W=A;if(A!==0&&(P.emittedReadable=!1),A===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return c("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?Y(this):b(this),null;if((A=N(A,P))===0&&P.ended)return P.length===0&&Y(this),null;var Q,se=P.needReadable;return c("need readable",se),(P.length===0||P.length-A<P.highWaterMark)&&c("length less than watermark",se=!0),P.ended||P.reading?c("reading or ended",se=!1):se&&(c("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(A=N(W,P))),(Q=A>0?G(A,P):null)===null?(P.needReadable=P.length<=P.highWaterMark,A=0):(P.length-=A,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),W!==A&&P.ended&&Y(this)),Q!==null&&this.emit("data",Q),Q},z.prototype._read=function(A){L(this,new F("_read()"))},z.prototype.pipe=function(A,P){var W=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=A;break;case 1:Q.pipes=[Q.pipes,A];break;default:Q.pipes.push(A)}Q.pipesCount+=1,c("pipe count=%d opts=%j",Q.pipesCount,P);var se=(!P||P.end!==!1)&&A!==i.stdout&&A!==i.stderr?ie:Ce;function ne(_e,xe){c("onunpipe"),_e===W&&xe&&xe.hasUnpiped===!1&&(xe.hasUnpiped=!0,c("cleanup"),A.removeListener("close",de),A.removeListener("finish",he),A.removeListener("drain",ye),A.removeListener("error",fe),A.removeListener("unpipe",ne),W.removeListener("end",ie),W.removeListener("end",Ce),W.removeListener("data",ee),ve=!0,!Q.awaitDrain||A._writableState&&!A._writableState.needDrain||ye())}function ie(){c("onend"),A.end()}Q.endEmitted?i.nextTick(se):W.once("end",se),A.on("unpipe",ne);var ye=function(_e){return function(){var xe=_e._readableState;c("pipeOnDrain",xe.awaitDrain),xe.awaitDrain&&xe.awaitDrain--,xe.awaitDrain===0&&s(_e,"data")&&(xe.flowing=!0,U(_e))}}(W);A.on("drain",ye);var ve=!1;function ee(_e){c("ondata");var xe=A.write(_e);c("dest.write",xe),xe===!1&&((Q.pipesCount===1&&Q.pipes===A||Q.pipesCount>1&&K(Q.pipes,A)!==-1)&&!ve&&(c("false write response, pause",Q.awaitDrain),Q.awaitDrain++),W.pause())}function fe(_e){c("onerror",_e),Ce(),A.removeListener("error",fe),s(A,"error")===0&&L(A,_e)}function de(){A.removeListener("finish",he),Ce()}function he(){c("onfinish"),A.removeListener("close",de),Ce()}function Ce(){c("unpipe"),W.unpipe(A)}return W.on("data",ee),function(_e,xe,ze){if(typeof _e.prependListener=="function")return _e.prependListener(xe,ze);_e._events&&_e._events[xe]?Array.isArray(_e._events[xe])?_e._events[xe].unshift(ze):_e._events[xe]=[ze,_e._events[xe]]:_e.on(xe,ze)}(A,"error",fe),A.once("close",de),A.once("finish",he),A.emit("pipe",W),Q.flowing||(c("pipe resume"),W.resume()),A},z.prototype.unpipe=function(A){var P=this._readableState,W={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return A&&A!==P.pipes||(A||(A=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,A&&A.emit("unpipe",this,W)),this;if(!A){var Q=P.pipes,se=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var ne=0;ne<se;ne++)Q[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=K(P.pipes,A);return ie===-1||(P.pipes.splice(ie,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),A.emit("unpipe",this,W)),this},z.prototype.on=function(A,P){var W=a.prototype.on.call(this,A,P),Q=this._readableState;return A==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):A==="readable"&&(Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,c("on readable",Q.length,Q.reading),Q.length?b(this):Q.reading||i.nextTick(M,this))),W},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(A,P){var W=a.prototype.removeListener.call(this,A,P);return A==="readable"&&i.nextTick(D,this),W},z.prototype.removeAllListeners=function(A){var P=a.prototype.removeAllListeners.apply(this,arguments);return A!=="readable"&&A!==void 0||i.nextTick(D,this),P},z.prototype.resume=function(){var A=this._readableState;return A.flowing||(c("resume"),A.flowing=!A.readableListening,function(P,W){W.resumeScheduled||(W.resumeScheduled=!0,i.nextTick(O,P,W))}(this,A)),A.paused=!1,this},z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(A){var P=this,W=this._readableState,Q=!1;for(var se in A.on("end",function(){if(c("wrapped end"),W.decoder&&!W.ended){var ie=W.decoder.end();ie&&ie.length&&P.push(ie)}P.push(null)}),A.on("data",function(ie){c("wrapped data"),W.decoder&&(ie=W.decoder.write(ie)),W.objectMode&&ie==null||(W.objectMode||ie&&ie.length)&&(P.push(ie)||(Q=!0,A.pause()))}),A)this[se]===void 0&&typeof A[se]=="function"&&(this[se]=function(ie){return function(){return A[ie].apply(A,arguments)}}(se));for(var ne=0;ne<V.length;ne++)A.on(V[ne],this.emit.bind(this,V[ne]));return this._read=function(ie){c("wrapped _read",ie),Q&&(Q=!1,A.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return p===void 0&&(p=e("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),z._fromList=G,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(z.from=function(A,P){return f===void 0&&(f=e("./internal/streams/from")),f(z,A,P)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,t,n){"use strict";t.exports=c;var i=e("../errors").codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function d(p,f){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new o);m.writechunk=null,m.writecb=null,f!=null&&this.push(f),g(p);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(p){if(!(this instanceof c))return new c(p);l.call(this,p),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",u)}function u(){var p=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(f,m){h(p,f,m)})}function h(p,f,m){if(f)return p.emit("error",f);if(m!=null&&p.push(m),p._writableState.length)throw new a;if(p._transformState.transforming)throw new s;return p.push(null)}e("inherits")(c,l),c.prototype.push=function(p,f){return this._transformState.needTransform=!1,l.prototype.push.call(this,p,f)},c.prototype._transform=function(p,f,m){m(new r("_transform()"))},c.prototype._write=function(p,f,m){var g=this._transformState;if(g.writecb=m,g.writechunk=p,g.writeencoding=f,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(p){var f=this._transformState;f.writechunk===null||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},c.prototype._destroy=function(p,f){l.prototype._destroy.call(this,p,function(m){f(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,t,n){(function(i,r){(function(){"use strict";function o(_){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(M,O,U){var G=M.entry;for(M.entry=null;G;){var Y=G.callback;O.pendingcb--,Y(U),G=G.next}O.corkedRequestsFree.next=M})(D,_)}}var s;t.exports=z,z.WritableState=j;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),d=e("buffer").Buffer,c=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,h=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,m=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,w=f.ERR_STREAM_CANNOT_PIPE,E=f.ERR_STREAM_DESTROYED,T=f.ERR_STREAM_NULL_VALUES,F=f.ERR_STREAM_WRITE_AFTER_END,k=f.ERR_UNKNOWN_ENCODING,L=h.errorOrDestroy;function V(){}function j(_,D,M){s=s||e("./_stream_duplex"),_=_||{},typeof M!="boolean"&&(M=D instanceof s),this.objectMode=!!_.objectMode,M&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=p(this,_,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=_.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){(function(G,Y){var B=G._writableState,K=B.sync,A=B.writecb;if(typeof A!="function")throw new v;if(function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}(B),Y)(function(W,Q,se,ne,ie){--Q.pendingcb,se?(i.nextTick(ie,ne),i.nextTick(x,W,Q),W._writableState.errorEmitted=!0,L(W,ne)):(ie(ne),W._writableState.errorEmitted=!0,L(W,ne),x(W,Q))})(G,B,K,Y,A);else{var P=b(B)||G.destroyed;P||B.corked||B.bufferProcessing||!B.bufferedRequest||N(G,B),K?i.nextTick(I,G,B,P,A):I(G,B,P,A)}})(D,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function z(_){var D=this instanceof(s=s||e("./_stream_duplex"));if(!D&&!u.call(z,this))return new z(_);this._writableState=new j(_,this,D),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),l.call(this)}function R(_,D,M,O,U,G,Y){D.writelen=O,D.writecb=Y,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new E("write")):M?_._writev(U,D.onwrite):_._write(U,G,D.onwrite),D.sync=!1}function I(_,D,M,O){M||function(U,G){G.length===0&&G.needDrain&&(G.needDrain=!1,U.emit("drain"))}(_,D),D.pendingcb--,O(),x(_,D)}function N(_,D){D.bufferProcessing=!0;var M=D.bufferedRequest;if(_._writev&&M&&M.next){var O=D.bufferedRequestCount,U=new Array(O),G=D.corkedRequestsFree;G.entry=M;for(var Y=0,B=!0;M;)U[Y]=M,M.isBuf||(B=!1),M=M.next,Y+=1;U.allBuffers=B,R(_,D,!0,D.length,U,"",G.finish),D.pendingcb++,D.lastBufferedRequest=null,G.next?(D.corkedRequestsFree=G.next,G.next=null):D.corkedRequestsFree=new o(D),D.bufferedRequestCount=0}else{for(;M;){var K=M.chunk,A=M.encoding,P=M.callback;if(R(_,D,!1,D.objectMode?1:K.length,K,A,P),M=M.next,D.bufferedRequestCount--,D.writing)break}M===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=M,D.bufferProcessing=!1}function b(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function C(_,D){_._final(function(M){D.pendingcb--,M&&L(_,M),D.prefinished=!0,_.emit("prefinish"),x(_,D)})}function x(_,D){var M=b(D);if(M&&(function(U,G){G.prefinished||G.finalCalled||(typeof U._final!="function"||G.destroyed?(G.prefinished=!0,U.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,i.nextTick(C,U,G)))}(_,D),D.pendingcb===0&&(D.finished=!0,_.emit("finish"),D.autoDestroy))){var O=_._readableState;(!O||O.autoDestroy&&O.endEmitted)&&_.destroy()}return M}e("inherits")(z,l),j.prototype.getBuffer=function(){for(var _=this.bufferedRequest,D=[];_;)D.push(_),_=_.next;return D},function(){try{Object.defineProperty(j.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(_){return!!u.call(this,_)||this===z&&_&&_._writableState instanceof j}})):u=function(_){return _ instanceof this},z.prototype.pipe=function(){L(this,new w)},z.prototype.write=function(_,D,M){var O,U=this._writableState,G=!1,Y=!U.objectMode&&(O=_,d.isBuffer(O)||O instanceof c);return Y&&!d.isBuffer(_)&&(_=function(B){return d.from(B)}(_)),typeof D=="function"&&(M=D,D=null),Y?D="buffer":D||(D=U.defaultEncoding),typeof M!="function"&&(M=V),U.ending?function(B,K){var A=new F;L(B,A),i.nextTick(K,A)}(this,M):(Y||function(B,K,A,P){var W;return A===null?W=new T:typeof A=="string"||K.objectMode||(W=new m("chunk",["string","Buffer"],A)),!W||(L(B,W),i.nextTick(P,W),!1)}(this,U,_,M))&&(U.pendingcb++,G=function(B,K,A,P,W,Q){if(!A){var se=function(ve,ee,fe){return ve.objectMode||ve.decodeStrings===!1||typeof ee!="string"||(ee=d.from(ee,fe)),ee}(K,P,W);P!==se&&(A=!0,W="buffer",P=se)}var ne=K.objectMode?1:P.length;K.length+=ne;var ie=K.length<K.highWaterMark;if(ie||(K.needDrain=!0),K.writing||K.corked){var ye=K.lastBufferedRequest;K.lastBufferedRequest={chunk:P,encoding:W,isBuf:A,callback:Q,next:null},ye?ye.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else R(B,K,!1,ne,P,W,Q);return ie}(this,U,Y,_,D,M)),G},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.bufferProcessing||!_.bufferedRequest||N(this,_))},z.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new k(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(_,D,M){M(new g("_write()"))},z.prototype._writev=null,z.prototype.end=function(_,D,M){var O=this._writableState;return typeof _=="function"?(M=_,_=null,D=null):typeof D=="function"&&(M=D,D=null),_!=null&&this.write(_,D),O.corked&&(O.corked=1,this.uncork()),O.ending||function(U,G,Y){G.ending=!0,x(U,G),Y&&(G.finished?i.nextTick(Y):U.once("finish",Y)),G.ended=!0,U.writable=!1}(this,O,M),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),z.prototype.destroy=h.destroy,z.prototype._undestroy=h.undestroy,z.prototype._destroy=function(_,D){D(_)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,t,n){(function(i){(function(){"use strict";var r;function o(E,T,F){return(T=function(k){var L=function(V,j){if(typeof V!="object"||V===null)return V;var z=V[Symbol.toPrimitive];if(z!==void 0){var R=z.call(V,j||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(V)}(k,"string");return typeof L=="symbol"?L:String(L)}(T))in E?Object.defineProperty(E,T,{value:F,enumerable:!0,configurable:!0,writable:!0}):E[T]=F,E}var s=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),d=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function f(E,T){return{value:E,done:T}}function m(E){var T=E[a];if(T!==null){var F=E[p].read();F!==null&&(E[u]=null,E[a]=null,E[l]=null,T(f(F,!1)))}}function g(E){i.nextTick(m,E)}var v=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((o(r={get stream(){return this[p]},next:function(){var E=this,T=this[d];if(T!==null)return Promise.reject(T);if(this[c])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise(function(V,j){i.nextTick(function(){E[d]?j(E[d]):V(f(void 0,!0))})});var F,k=this[u];if(k)F=new Promise(function(V,j){return function(z,R){V.then(function(){j[c]?z(f(void 0,!0)):j[h](z,R)},R)}}(k,this));else{var L=this[p].read();if(L!==null)return Promise.resolve(f(L,!1));F=new Promise(this[h])}return this[u]=F,F}},Symbol.asyncIterator,function(){return this}),o(r,"return",function(){var E=this;return new Promise(function(T,F){E[p].destroy(null,function(k){k?F(k):T(f(void 0,!0))})})}),r),v);t.exports=function(E){var T,F=Object.create(w,(o(T={},p,{value:E,writable:!0}),o(T,a,{value:null,writable:!0}),o(T,l,{value:null,writable:!0}),o(T,d,{value:null,writable:!0}),o(T,c,{value:E._readableState.endEmitted,writable:!0}),o(T,h,{value:function(k,L){var V=F[p].read();V?(F[u]=null,F[a]=null,F[l]=null,k(f(V,!1))):(F[a]=k,F[l]=L)},writable:!0}),T));return F[u]=null,s(E,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=F[l];return L!==null&&(F[u]=null,F[a]=null,F[l]=null,L(k)),void(F[d]=k)}var V=F[a];V!==null&&(F[u]=null,F[a]=null,F[l]=null,V(f(void 0,!0))),F[c]=!0}),E.on("readable",g.bind(null,F)),F}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,t,n){"use strict";function i(u,h){var p=Object.keys(u);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(u);h&&(f=f.filter(function(m){return Object.getOwnPropertyDescriptor(u,m).enumerable})),p.push.apply(p,f)}return p}function r(u){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?i(Object(p),!0).forEach(function(f){o(u,f,p[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(p)):i(Object(p)).forEach(function(f){Object.defineProperty(u,f,Object.getOwnPropertyDescriptor(p,f))})}return u}function o(u,h,p){return(h=a(h))in u?Object.defineProperty(u,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[h]=p,u}function s(u,h){for(var p=0;p<h.length;p++){var f=h[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,a(f.key),f)}}function a(u){var h=function(p,f){if(typeof p!="object"||p===null)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var g=m.call(p,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(p)}(u,"string");return typeof h=="symbol"?h:String(h)}var l=e("buffer").Buffer,d=e("util").inspect,c=d&&d.custom||"inspect";t.exports=function(){function u(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var h,p,f;return h=u,(p=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,v=""+g.data;g=g.next;)v+=m+g.data;return v}},{key:"concat",value:function(m){if(this.length===0)return l.alloc(0);for(var g,v,w,E=l.allocUnsafe(m>>>0),T=this.head,F=0;T;)g=T.data,v=E,w=F,l.prototype.copy.call(g,v,w),F+=T.data.length,T=T.next;return E}},{key:"consume",value:function(m,g){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):v=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,v=1,w=g.data;for(m-=w.length;g=g.next;){var E=g.data,T=m>E.length?E.length:m;if(T===E.length?w+=E:w+=E.slice(0,m),(m-=T)==0){T===E.length?(++v,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=E.slice(T));break}++v}return this.length-=v,w}},{key:"_getBuffer",value:function(m){var g=l.allocUnsafe(m),v=this.head,w=1;for(v.data.copy(g),m-=v.data.length;v=v.next;){var E=v.data,T=m>E.length?E.length:m;if(E.copy(g,g.length-m,0,T),(m-=T)==0){T===E.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(T));break}++w}return this.length-=w,g}},{key:c,value:function(m,g){return d(this,r(r({},g),{},{depth:0,customInspect:!1}))}}])&&s(h.prototype,p),f&&s(h,f),Object.defineProperty(h,"prototype",{writable:!1}),u}()},{buffer:220,util:188}],485:[function(e,t,n){(function(i){(function(){"use strict";function r(a,l){s(a,l),o(a)}function o(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,l){a.emit("error",l)}t.exports={destroy:function(a,l){var d=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,a)):i.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?d._writableState?d._writableState.errorEmitted?i.nextTick(o,d):(d._writableState.errorEmitted=!0,i.nextTick(r,d,h)):i.nextTick(r,d,h):l?(i.nextTick(o,d),l(h)):i.nextTick(o,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var d=a._readableState,c=a._writableState;d&&d.autoDestroy||c&&c.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,t,n){"use strict";var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}t.exports=function o(s,a,l){if(typeof a=="function")return o(s,null,a);a||(a={}),l=function(E){var T=!1;return function(){if(!T){T=!0;for(var F=arguments.length,k=new Array(F),L=0;L<F;L++)k[L]=arguments[L];E.apply(this,k)}}}(l||r);var d=a.readable||a.readable!==!1&&s.readable,c=a.writable||a.writable!==!1&&s.writable,u=function(){s.writable||p()},h=s._writableState&&s._writableState.finished,p=function(){c=!1,h=!0,d||l.call(s)},f=s._readableState&&s._readableState.endEmitted,m=function(){d=!1,f=!0,c||l.call(s)},g=function(E){l.call(s,E)},v=function(){var E;return d&&!f?(s._readableState&&s._readableState.ended||(E=new i),l.call(s,E)):c&&!h?(s._writableState&&s._writableState.ended||(E=new i),l.call(s,E)):void 0},w=function(){s.req.on("finish",p)};return function(E){return E.setHeader&&typeof E.abort=="function"}(s)?(s.on("complete",p),s.on("abort",v),s.req?w():s.on("request",w)):c&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",m),s.on("finish",p),a.error!==!1&&s.on("error",g),s.on("close",v),function(){s.removeListener("complete",p),s.removeListener("abort",v),s.removeListener("request",w),s.req&&s.req.removeListener("finish",p),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",p),s.removeListener("end",m),s.removeListener("error",g),s.removeListener("close",v)}}},{"../../../errors":477}],487:[function(e,t,n){"use strict";t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,t,n){"use strict";var i,r=e("../../../errors").codes,o=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function a(h){if(h)throw h}function l(h,p,f,m){m=function(w){var E=!1;return function(){E||(E=!0,w.apply(void 0,arguments))}}(m);var g=!1;h.on("close",function(){g=!0}),i===void 0&&(i=e("./end-of-stream")),i(h,{readable:p,writable:f},function(w){if(w)return m(w);g=!0,m()});var v=!1;return function(w){if(!g&&!v)return v=!0,function(E){return E.setHeader&&typeof E.abort=="function"}(h)?h.abort():typeof h.destroy=="function"?h.destroy():void m(w||new s("pipe"))}}function d(h){h()}function c(h,p){return h.pipe(p)}function u(h){return h.length?typeof h[h.length-1]!="function"?a:h.pop():a}t.exports=function(){for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];var m,g=u(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new o("streams");var v=p.map(function(w,E){var T=E<p.length-1;return l(w,T,E>0,function(F){m||(m=F),F&&v.forEach(d),T||(v.forEach(d),g(m))})});return p.reduce(c)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,t,n){"use strict";var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(r,o,s,a){var l=function(d,c,u){return d.highWaterMark!=null?d.highWaterMark:c?d[u]:null}(o,a,s);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new i(a?s:"highWaterMark",l);return Math.floor(l)}return r.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:422}],491:[function(e,t,n){"use strict";(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,t,n){"use strict";var i=function(r){var o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(x,_,D){x[_]=D.value},l=typeof Symbol=="function"?Symbol:{},d=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function h(x,_,D){return Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}),x[_]}try{h({},"")}catch{h=function(_,D,M){return _[D]=M}}function p(x,_,D,M){var O=_&&_.prototype instanceof g?_:g,U=Object.create(O.prototype),G=new N(M||[]);return a(U,"_invoke",{value:j(x,D,G)}),U}function f(x,_,D){try{return{type:"normal",arg:x.call(_,D)}}catch(M){return{type:"throw",arg:M}}}r.wrap=p;var m={};function g(){}function v(){}function w(){}var E={};h(E,d,function(){return this});var T=Object.getPrototypeOf,F=T&&T(T(b([])));F&&F!==o&&s.call(F,d)&&(E=F);var k=w.prototype=g.prototype=Object.create(E);function L(x){["next","throw","return"].forEach(function(_){h(x,_,function(D){return this._invoke(_,D)})})}function V(x,_){var D;a(this,"_invoke",{value:function(M,O){function U(){return new _(function(G,Y){(function B(K,A,P,W){var Q=f(x[K],x,A);if(Q.type!=="throw"){var se=Q.arg,ne=se.value;return ne&&typeof ne=="object"&&s.call(ne,"__await")?_.resolve(ne.__await).then(function(ie){B("next",ie,P,W)},function(ie){B("throw",ie,P,W)}):_.resolve(ne).then(function(ie){se.value=ie,P(se)},function(ie){return B("throw",ie,P,W)})}W(Q.arg)})(M,O,G,Y)})}return D=D?D.then(U,U):U()}})}function j(x,_,D){var M="suspendedStart";return function(O,U){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(O==="throw")throw U;return C()}for(D.method=O,D.arg=U;;){var G=D.delegate;if(G){var Y=z(G,D);if(Y){if(Y===m)continue;return Y}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(M==="suspendedStart")throw M="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);M="executing";var B=f(x,_,D);if(B.type==="normal"){if(M=D.done?"completed":"suspendedYield",B.arg===m)continue;return{value:B.arg,done:D.done}}B.type==="throw"&&(M="completed",D.method="throw",D.arg=B.arg)}}}function z(x,_){var D=_.method,M=x.iterator[D];if(M===void 0)return _.delegate=null,D==="throw"&&x.iterator.return&&(_.method="return",_.arg=void 0,z(x,_),_.method==="throw")||D!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+D+"' method")),m;var O=f(M,x.iterator,_.arg);if(O.type==="throw")return _.method="throw",_.arg=O.arg,_.delegate=null,m;var U=O.arg;return U?U.done?(_[x.resultName]=U.value,_.next=x.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,m):U:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,m)}function R(x){var _={tryLoc:x[0]};1 in x&&(_.catchLoc=x[1]),2 in x&&(_.finallyLoc=x[2],_.afterLoc=x[3]),this.tryEntries.push(_)}function I(x){var _=x.completion||{};_.type="normal",delete _.arg,x.completion=_}function N(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(R,this),this.reset(!0)}function b(x){if(x){var _=x[d];if(_)return _.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var D=-1,M=function O(){for(;++D<x.length;)if(s.call(x,D))return O.value=x[D],O.done=!1,O;return O.value=void 0,O.done=!0,O};return M.next=M}}return{next:C}}function C(){return{value:void 0,done:!0}}return v.prototype=w,a(k,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:v,configurable:!0}),v.displayName=h(w,u,"GeneratorFunction"),r.isGeneratorFunction=function(x){var _=typeof x=="function"&&x.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,w):(x.__proto__=w,h(x,u,"GeneratorFunction")),x.prototype=Object.create(k),x},r.awrap=function(x){return{__await:x}},L(V.prototype),h(V.prototype,c,function(){return this}),r.AsyncIterator=V,r.async=function(x,_,D,M,O){O===void 0&&(O=Promise);var U=new V(p(x,_,D,M),O);return r.isGeneratorFunction(_)?U:U.next().then(function(G){return G.done?G.value:U.next()})},L(k),h(k,u,"Generator"),h(k,d,function(){return this}),h(k,"toString",function(){return"[object Generator]"}),r.keys=function(x){var _=Object(x),D=[];for(var M in _)D.push(M);return D.reverse(),function O(){for(;D.length;){var U=D.pop();if(U in _)return O.value=U,O.done=!1,O}return O.done=!0,O}},r.values=b,N.prototype={constructor:N,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!x)for(var _ in this)_.charAt(0)==="t"&&s.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var _=this;function D(B,K){return U.type="throw",U.arg=x,_.next=B,K&&(_.method="next",_.arg=void 0),!!K}for(var M=this.tryEntries.length-1;M>=0;--M){var O=this.tryEntries[M],U=O.completion;if(O.tryLoc==="root")return D("end");if(O.tryLoc<=this.prev){var G=s.call(O,"catchLoc"),Y=s.call(O,"finallyLoc");if(G&&Y){if(this.prev<O.catchLoc)return D(O.catchLoc,!0);if(this.prev<O.finallyLoc)return D(O.finallyLoc)}else if(G){if(this.prev<O.catchLoc)return D(O.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return D(O.finallyLoc)}}}},abrupt:function(x,_){for(var D=this.tryEntries.length-1;D>=0;--D){var M=this.tryEntries[D];if(M.tryLoc<=this.prev&&s.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var O=M;break}}O&&(x==="break"||x==="continue")&&O.tryLoc<=_&&_<=O.finallyLoc&&(O=null);var U=O?O.completion:{};return U.type=x,U.arg=_,O?(this.method="next",this.next=O.finallyLoc,m):this.complete(U)},complete:function(x,_){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&_&&(this.next=_),m},finish:function(x){for(var _=this.tryEntries.length-1;_>=0;--_){var D=this.tryEntries[_];if(D.finallyLoc===x)return this.complete(D.completion,D.afterLoc),I(D),m}},catch:function(x){for(var _=this.tryEntries.length-1;_>=0;--_){var D=this.tryEntries[_];if(D.tryLoc===x){var M=D.completion;if(M.type==="throw"){var O=M.arg;I(D)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(x,_,D){return this.delegate={iterator:b(x),resultName:_,nextLoc:D},this.method==="next"&&(this.arg=void 0),m}},r}(typeof t=="object"?t.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,t,n){"use strict";var i=e("buffer").Buffer,r=e("inherits"),o=e("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(T,F){return T<<F|T>>>32-F}function m(T,F,k,L,V,j,z,R){return f(T+(F^k^L)+j+z|0,R)+V|0}function g(T,F,k,L,V,j,z,R){return f(T+(F&k|~F&L)+j+z|0,R)+V|0}function v(T,F,k,L,V,j,z,R){return f(T+((F|~k)^L)+j+z|0,R)+V|0}function w(T,F,k,L,V,j,z,R){return f(T+(F&L|k&~L)+j+z|0,R)+V|0}function E(T,F,k,L,V,j,z,R){return f(T+(F^(k|~L))+j+z|0,R)+V|0}r(p,o),p.prototype._update=function(){for(var T=s,F=0;F<16;++F)T[F]=this._block.readInt32LE(4*F);for(var k=0|this._a,L=0|this._b,V=0|this._c,j=0|this._d,z=0|this._e,R=0|this._a,I=0|this._b,N=0|this._c,b=0|this._d,C=0|this._e,x=0;x<80;x+=1){var _,D;x<16?(_=m(k,L,V,j,z,T[a[x]],u[0],d[x]),D=E(R,I,N,b,C,T[l[x]],h[0],c[x])):x<32?(_=g(k,L,V,j,z,T[a[x]],u[1],d[x]),D=w(R,I,N,b,C,T[l[x]],h[1],c[x])):x<48?(_=v(k,L,V,j,z,T[a[x]],u[2],d[x]),D=v(R,I,N,b,C,T[l[x]],h[2],c[x])):x<64?(_=w(k,L,V,j,z,T[a[x]],u[3],d[x]),D=g(R,I,N,b,C,T[l[x]],h[3],c[x])):(_=E(k,L,V,j,z,T[a[x]],u[4],d[x]),D=m(R,I,N,b,C,T[l[x]],h[4],c[x])),k=z,z=j,j=f(V,10),V=L,L=_,R=C,C=b,b=f(N,10),N=I,I=D}var M=this._b+V+b|0;this._b=this._c+j+C|0,this._c=this._d+z+R|0,this._d=this._e+k+I|0,this._e=this._a+L+N|0,this._a=M},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=i.alloc?i.alloc(20):new i(20);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T.writeInt32LE(this._e,16),T},t.exports=p},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,t,n){"use strict";var i=e("buffer"),r=i.Buffer;function o(a,l){for(var d in a)l[d]=a[d]}function s(a,l,d){return r(a,l,d)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,n),n.Buffer=s),s.prototype=Object.create(r.prototype),o(r,s),s.from=function(a,l,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,l,d)},s.alloc=function(a,l,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=r(a);return l!==void 0?typeof d=="string"?c.fill(l,d):c.fill(l):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],495:[function(e,t,n){(function(i){(function(){"use strict";var r,o=e("buffer"),s=o.Buffer,a={};for(r in o)o.hasOwnProperty(r)&&r!=="SlowBuffer"&&r!=="Buffer"&&(a[r]=o[r]);var l=a.Buffer={};for(r in s)s.hasOwnProperty(r)&&r!=="allocUnsafe"&&r!=="allocUnsafeSlow"&&(l[r]=s[r]);if(a.Buffer.prototype=s.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(d,c,u){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return s(d,c,u)}),l.alloc||(l.alloc=function(d,c,u){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var h=s(d);return c&&c.length!==0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let i=e("xmlchars/xml/1.0/ed5"),r=e("xmlchars/xml/1.1/ed2"),o=e("xmlchars/xmlns/1.0/ed3");var s=i.isS,a=i.isChar,l=i.isNameStartChar,d=i.isNameChar,c=i.S_LIST,u=i.NAME_RE,h=r.isChar,p=o.isNCNameStartChar,f=o.isNCNameChar,m=o.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:g,xmlns:v},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T=b=>b===34||b===39,F=[34,39],k=[...F,91,62],L=[...F,60,93],V=[61,63,...c],j=[...c,62,38,60];function z(b,C,x){switch(C){case"xml":x!==g&&b.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":x!==v&&b.fail(`xmlns prefix must be bound to ${v}.`)}switch(x){case v:b.fail(C===""?`the default namespace may not be set to ${x}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case g:switch(C){case"xml":break;case"":b.fail(`the default namespace may not be set to ${x}.`);break;default:b.fail("may not assign the xml namespace to another prefix.")}}}let R=b=>m.test(b),I=b=>u.test(b);n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(b){this.opt=b??{},this.fragmentOpt=!!this.opt.fragment;let C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=p,this.nameCheck=f,this.isName=R,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},w);let x=this.opt.additionalNamespaces;x!=null&&(function(_,D){for(let M of Object.keys(D))z(_,M,D[M])}(this,x),Object.assign(this.ns,x))}else this.nameStartCheck=l,this.nameCheck=d,this.isName=I,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var b;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:x}=this.opt;if(x===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");x="1.0"}this.setXMLVersion(x),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(b=this.readyHandler)===null||b===void 0||b.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(b,C){this[N[b]]=C}off(b){this[N[b]]=void 0}makeError(b){var C;let x=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(x.length>0&&(x+=":"),x+=`${this.line}:${this.column}`),x.length>0&&(x+=": "),new Error(x+b)}fail(b){let C=this.makeError(b),x=this.errorHandler;if(x===void 0)throw C;return x(C),this}write(b){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;b===null?(C=!0,b=""):typeof b=="object"&&(b=b.toString()),this.carriedFromPrevious!==void 0&&(b=`${this.carriedFromPrevious}${b}`,this.carriedFromPrevious=void 0);let x=b.length,_=b.charCodeAt(x-1);!C&&(_===13||_>=55296&&_<=56319)&&(this.carriedFromPrevious=b[x-1],x--,b=b.slice(0,x));let{stateTable:D}=this;for(this.chunk=b,this.i=0;this.i<x;)D[this.state].call(this);return this.chunkPosition+=x,C?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:b,i:C}=this;if(this.prevI=C,this.i=C+1,C>=b.length)return-1;let x=b.charCodeAt(C);if(this.column++,x<55296){if(x>=32||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return b.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;let _=65536+1024*(x-55296)+(b.charCodeAt(C+1)-56320);return this.i=C+2,_>1114111&&this.fail("disallowed character."),_}getCode11(){let{chunk:b,i:C}=this;if(this.prevI=C,this.i=C+1,C>=b.length)return-1;let x=b.charCodeAt(C);if(this.column++,x<55296){if(x>31&&x<127||x>159&&x!==8232||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let D=b.charCodeAt(C+1);D!==10&&D!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;let _=65536+1024*(x-55296)+(b.charCodeAt(C+1)-56320);return this.i=C+2,_>1114111&&this.fail("disallowed character."),_}getCodeNorm(){let b=this.getCode();return b===-2?10:b}unget(){this.i=this.prevI,this.column--}captureTo(b){let{i:C}=this,{chunk:x}=this;for(;;){let _=this.getCode(),D=_===-2,M=D?10:_;if(M===-1||b.includes(M))return this.text+=x.slice(C,this.prevI),M;D&&(this.text+=x.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(b){let{i:C}=this,{chunk:x}=this;for(;;){let _=this.getCode();switch(_){case-2:this.text+=x.slice(C,this.prevI)+`
`,C=this.i,_=10;break;case-1:return this.text+=x.slice(C),!1}if(_===b)return this.text+=x.slice(C,this.prevI),!0}}captureNameChars(){let{chunk:b,i:C}=this;for(;;){let x=this.getCode();if(x===-1)return this.name+=b.slice(C),-1;if(!d(x))return this.name+=b.slice(C,this.prevI),x===-2?10:x}}skipSpaces(){for(;;){let b=this.getCodeNorm();if(b===-1||!s(b))return b}}setXMLVersion(b){this.currentXMLVersion=b,b==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let b=this.i,C=this.skipSpaces();switch(this.prevI!==b&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var b;let C=this.captureTo(k);switch(C){case 62:(b=this.doctypeHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:T(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){let b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.q=null,this.state=2)}sDTD(){let b=this.captureTo(L);b!==-1&&(this.text+=String.fromCodePoint(b),b===93?this.state=2:b===60?this.state=6:T(b)&&(this.state=5,this.q=b))}sDTDQuoted(){let b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.state=4,this.q=null)}sDTDOpenWaka(){let b=this.getCodeNorm();switch(this.text+=String.fromCodePoint(b),b){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let b=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=b;this.text+=b,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let b=this.getCodeNorm();this.text+=String.fromCodePoint(b),this.state=b===45?10:8}sDTDCommentEnded(){let b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:b}=this,{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(b,this.prevI)+`
`,b=this.i;break;case 59:{let{entityReturnState:x}=this,_=this.entity+C.slice(b,this.prevI),D;this.state=x,_===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(_),this.entity=""),x===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=C.slice(b);break e}}sOpenWaka(){let b=this.getCode();if(l(b))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(b){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var b;let C=this.getCodeNorm();C===45?(this.state=19,(b=this.commentHandler)===null||b===void 0||b.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){let b=this.getCodeNorm();b!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(b),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let b=this.getCodeNorm();b===93?this.state=22:(this.text+="]"+String.fromCodePoint(b),this.state=20)}sCDataEnding2(){var b;let C=this.getCodeNorm();switch(C){case 62:(b=this.cdataHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){let b=this.getCodeNorm();this.nameStartCheck(b)?(this.piTarget+=String.fromCodePoint(b),this.state=24):b===63||s(b)?(this.fail("processing instruction without a target."),this.state=b===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(b),this.state=24)}sPIRest(){let{chunk:b,i:C}=this;for(;;){let x=this.getCodeNorm();if(x===-1)return void(this.piTarget+=b.slice(C));if(!this.nameCheck(x)){this.piTarget+=b.slice(C,this.prevI);let _=x===63;_||s(x)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=_?33:27):this.state=_?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x));break}}}sPIBody(){if(this.text.length===0){let b=this.getCodeNorm();b===63?this.state=26:s(b)||(this.text=String.fromCodePoint(b))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var b;let C=this.getCodeNorm();if(C===62){let{piTarget:x}=this;x.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(b=this.piHandler)===null||b===void 0||b.call(this,{target:x,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let b=this.skipSpaces();b!==63?b!==-1&&(this.state=28,this.name=String.fromCodePoint(b)):this.state=33}sXMLDeclName(){let b=this.captureTo(V);if(b===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(b)||b===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=b===61?30:29}}sXMLDeclEq(){let b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(b)||(b!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(b)||(T(b)?this.q=b:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let b=this.captureTo([this.q,63]);if(b===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(b===-1)return;let C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let x=C;this.xmlDecl.version=x,/^1\.[0-9]+$/.test(x)?this.opt.forceXMLVersion||this.setXMLVersion(x):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){let b=this.getCodeNorm();b!==63?(s(b)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var b;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(b=this.xmldeclHandler)===null||b===void 0||b.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var b;let C=this.captureNameChars();if(C===-1)return;let x=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=x.ns=Object.create(null)),(b=this.openTagStartHandler)===null||b===void 0||b.call(this,x),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:s(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let b=this.skipSpaces();b!==-1&&(l(b)?(this.unget(),this.state=37):b===62?this.openTag():b===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let b=this.captureNameChars();b===61?this.state=39:s(b)?this.state=38:b===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):b!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let b=this.skipSpaces();switch(b){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",b===62?this.openTag():l(b)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let b=this.getCodeNorm();T(b)?(this.q=b,this.state=40):s(b)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:b,chunk:C}=this,{i:x}=this;for(;;)switch(this.getCode()){case b:return this.pushAttrib(this.name,this.text+C.slice(x,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(x,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(x,this.prevI)+" ",x=this.i;break;case 60:return this.text+=C.slice(x,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(x))}}sAttribValueClosed(){let b=this.getCodeNorm();s(b)?this.state=36:b===62?this.openTag():b===47?this.state=35:l(b)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let b=this.captureTo(j);switch(b){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",b===62?this.openTag():this.state=36}}sCloseTag(){let b=this.captureNameChars();b===62?this.closeTag():s(b)?this.state=44:b!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:b,forbiddenState:C}=this,{chunk:x,textHandler:_}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,_!==void 0){let{text:D}=this,M=x.slice(b,this.prevI);D.length!==0?(_(D+M),this.text=""):M.length!==0&&_(M)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=x.slice(b,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:_!==void 0&&(this.text+=x.slice(b,this.prevI)+`
`),b=this.i,C=0;break;case-1:_!==void 0&&(this.text+=x.slice(b));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:b}=this,{chunk:C,textHandler:x}=this,_=!1;e:for(;;){let D=this.getCode();switch(D){case 60:if(this.state=15,x!==void 0){let{text:M}=this,O=C.slice(b,this.prevI);M.length!==0?(x(M+O),this.text=""):O.length!==0&&x(O)}break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=C.slice(b,this.prevI)),_=!0;break e;case-2:x!==void 0&&(this.text+=C.slice(b,this.prevI)+`
`),b=this.i;break;case-1:x!==void 0&&(this.text+=C.slice(b));break e;default:s(D)||(_=!0)}}_&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(b,C){var x;let{prefix:_,local:D}=this.qname(b),M={name:b,prefix:_,local:D,value:C};if(this.attribList.push(M),(x=this.attributeHandler)===null||x===void 0||x.call(this,M),_==="xmlns"){let O=C.trim();this.currentXMLVersion==="1.0"&&O===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=O,z(this,D,O)}else if(b==="xmlns"){let O=C.trim();this.topNS[""]=O,z(this,"",O)}}pushAttribPlain(b,C){var x;let _={name:b,value:C};this.attribList.push(_),(x=this.attributeHandler)===null||x===void 0||x.call(this,_)}end(){var b,C;this.sawRoot||this.fail("document must contain a root element.");let{tags:x}=this;for(;x.length>0;){let D=x.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:_}=this;return _.length!==0&&((b=this.textHandler)===null||b===void 0||b.call(this,_),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(b){var C,x;let _=this.topNS[b];if(_!==void 0)return _;let{tags:D}=this;for(let M=D.length-1;M>=0;M--)if(_=D[M].ns[b],_!==void 0)return _;return _=this.ns[b],_!==void 0?_:(x=(C=this.opt).resolvePrefix)===null||x===void 0?void 0:x.call(C,b)}qname(b){let C=b.indexOf(":");if(C===-1)return{prefix:"",local:b};let x=b.slice(C+1),_=b.slice(0,C);return(_===""||x===""||x.includes(":"))&&this.fail(`malformed name: ${b}.`),{prefix:_,local:x}}processAttribsNS(){var b;let{attribList:C}=this,x=this.tag;{let{prefix:M,local:O}=this.qname(x.name);x.prefix=M,x.local=O;let U=x.uri=(b=this.resolve(M))!==null&&b!==void 0?b:"";M!==""&&(M==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),U===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(M)}.`),x.uri=M))}if(C.length===0)return;let{attributes:_}=x,D=new Set;for(let M of C){let{name:O,prefix:U,local:G}=M,Y,B;U===""?(Y=O==="xmlns"?v:"",B=O):(Y=this.resolve(U),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),Y=U),B=`{${Y}}${G}`),D.has(B)&&this.fail(`duplicate attribute: ${B}.`),D.add(B),M.uri=Y,_[O]=M}this.attribList=[]}processAttribsPlain(){let{attribList:b}=this,C=this.tag.attributes;for(let{name:x,value:_}of b)C[x]!==void 0&&this.fail(`duplicate attribute: ${x}.`),C[x]=_;this.attribList=[]}openTag(){var b;this.processAttribs();let{tags:C}=this,x=this.tag;x.isSelfClosing=!1,(b=this.openTagHandler)===null||b===void 0||b.call(this,x),C.push(x),this.state=13,this.name=""}openSelfClosingTag(){var b,C,x;this.processAttribs();let{tags:_}=this,D=this.tag;D.isSelfClosing=!0,(b=this.openTagHandler)===null||b===void 0||b.call(this,D),(C=this.closeTagHandler)===null||C===void 0||C.call(this,D),(this.tag=(x=_[_.length-1])!==null&&x!==void 0?x:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:b,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");let x=this.closeTagHandler,_=b.length;for(;_-- >0;){let D=this.tag=b.pop();if(this.topNS=D.ns,x?.(D),D.name===C)break;this.fail("unexpected close tag.")}_===0?this.closedRoot=!0:_<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(b){if(b[0]!=="#"){let x=this.ENTITIES[b];return x!==void 0?x:(this.fail(this.isName(b)?"undefined entity.":"disallowed character in entity name."),`&${b};`)}let C=NaN;return b[1]==="x"&&/^#x[0-9a-f]+$/i.test(b)?C=parseInt(b.slice(2),16):/^#[0-9]+$/.test(b)&&(C=parseInt(b.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${b};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer;function r(o,s){this._block=i.alloc(o),this._finalSize=s,this._blockSize=o,this._len=0}r.prototype.update=function(o,s){typeof o=="string"&&(s=s||"utf8",o=i.from(o,s));for(var a=this._block,l=this._blockSize,d=o.length,c=this._len,u=0;u<d;){for(var h=c%l,p=Math.min(d-u,l-h),f=0;f<p;f++)a[h+f]=o[u+f];u+=p,(c+=p)%l==0&&this._update(a)}return this._len+=d,this},r.prototype.digest=function(o){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,d=(a-l)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var c=this._hash();return o?c.toString(o):c},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},{"safe-buffer":494}],498:[function(e,t,n){"use strict";var i=t.exports=function(r){r=r.toLowerCase();var o=i[r];if(!o)throw new Error(r+" is not supported (we accept pull requests)");return new o};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function d(u){return u<<30|u>>>2}function c(u,h,p,f){return u===0?h&p|~h&f:u===2?h&p|h&f|p&f:h^p^f}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(u){for(var h,p=this._w,f=0|this._a,m=0|this._b,g=0|this._c,v=0|this._d,w=0|this._e,E=0;E<16;++E)p[E]=u.readInt32BE(4*E);for(;E<80;++E)p[E]=p[E-3]^p[E-8]^p[E-14]^p[E-16];for(var T=0;T<80;++T){var F=~~(T/20),k=0|((h=f)<<5|h>>>27)+c(F,m,g,v)+w+p[T]+s[F];w=v,v=g,g=d(m),m=f,f=k}this._a=f+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=v+this._d|0,this._e=w+this._e|0},l.prototype._hash=function(){var u=o.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,r.call(this,64,56)}function d(h){return h<<5|h>>>27}function c(h){return h<<30|h>>>2}function u(h,p,f,m){return h===0?p&f|~p&m:h===2?p&f|p&m|f&m:p^f^m}i(l,r),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(h){for(var p,f=this._w,m=0|this._a,g=0|this._b,v=0|this._c,w=0|this._d,E=0|this._e,T=0;T<16;++T)f[T]=h.readInt32BE(4*T);for(;T<80;++T)f[T]=(p=f[T-3]^f[T-8]^f[T-14]^f[T-16])<<1|p>>>31;for(var F=0;F<80;++F){var k=~~(F/20),L=d(m)+u(k,g,v,w)+E+f[F]+s[k]|0;E=w,w=v,v=c(g),g=m,m=L}this._a=m+this._a|0,this._b=g+this._b|0,this._c=v+this._c|0,this._d=w+this._d|0,this._e=E+this._e|0},l.prototype._hash=function(){var h=o.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var d=s.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},t.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,r.call(this,64,56)}function d(f,m,g){return g^f&(m^g)}function c(f,m,g){return f&m|g&(f|m)}function u(f){return(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10)}function h(f){return(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7)}function p(f){return(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3}i(l,r),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(f){for(var m,g=this._w,v=0|this._a,w=0|this._b,E=0|this._c,T=0|this._d,F=0|this._e,k=0|this._f,L=0|this._g,V=0|this._h,j=0;j<16;++j)g[j]=f.readInt32BE(4*j);for(;j<64;++j)g[j]=0|(((m=g[j-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+g[j-7]+p(g[j-15])+g[j-16];for(var z=0;z<64;++z){var R=V+h(F)+d(F,k,L)+s[z]+g[z]|0,I=u(v)+c(v,w,E)|0;V=L,L=k,k=F,F=T+R|0,T=E,E=w,w=v,v=R+I|0}this._a=v+this._a|0,this._b=w+this._b|0,this._c=E+this._c|0,this._d=T+this._d|0,this._e=F+this._e|0,this._f=k+this._f|0,this._g=L+this._g|0,this._h=V+this._h|0},l.prototype._hash=function(){var f=o.allocUnsafe(32);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f.writeInt32BE(this._h,28),f},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var d=s.allocUnsafe(48);function c(u,h,p){d.writeInt32BE(u,p),d.writeInt32BE(h,p+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),d},t.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,r.call(this,128,112)}function d(w,E,T){return T^w&(E^T)}function c(w,E,T){return w&E|T&(w|E)}function u(w,E){return(w>>>28|E<<4)^(E>>>2|w<<30)^(E>>>7|w<<25)}function h(w,E){return(w>>>14|E<<18)^(w>>>18|E<<14)^(E>>>9|w<<23)}function p(w,E){return(w>>>1|E<<31)^(w>>>8|E<<24)^w>>>7}function f(w,E){return(w>>>1|E<<31)^(w>>>8|E<<24)^(w>>>7|E<<25)}function m(w,E){return(w>>>19|E<<13)^(E>>>29|w<<3)^w>>>6}function g(w,E){return(w>>>19|E<<13)^(E>>>29|w<<3)^(w>>>6|E<<26)}function v(w,E){return w>>>0<E>>>0?1:0}i(l,r),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(w){for(var E=this._w,T=0|this._ah,F=0|this._bh,k=0|this._ch,L=0|this._dh,V=0|this._eh,j=0|this._fh,z=0|this._gh,R=0|this._hh,I=0|this._al,N=0|this._bl,b=0|this._cl,C=0|this._dl,x=0|this._el,_=0|this._fl,D=0|this._gl,M=0|this._hl,O=0;O<32;O+=2)E[O]=w.readInt32BE(4*O),E[O+1]=w.readInt32BE(4*O+4);for(;O<160;O+=2){var U=E[O-30],G=E[O-30+1],Y=p(U,G),B=f(G,U),K=m(U=E[O-4],G=E[O-4+1]),A=g(G,U),P=E[O-14],W=E[O-14+1],Q=E[O-32],se=E[O-32+1],ne=B+W|0,ie=Y+P+v(ne,B)|0;ie=(ie=ie+K+v(ne=ne+A|0,A)|0)+Q+v(ne=ne+se|0,se)|0,E[O]=ie,E[O+1]=ne}for(var ye=0;ye<160;ye+=2){ie=E[ye],ne=E[ye+1];var ve=c(T,F,k),ee=c(I,N,b),fe=u(T,I),de=u(I,T),he=h(V,x),Ce=h(x,V),_e=s[ye],xe=s[ye+1],ze=d(V,j,z),Ve=d(x,_,D),Ze=M+Ce|0,mt=R+he+v(Ze,M)|0;mt=(mt=(mt=mt+ze+v(Ze=Ze+Ve|0,Ve)|0)+_e+v(Ze=Ze+xe|0,xe)|0)+ie+v(Ze=Ze+ne|0,ne)|0;var Ue=de+ee|0,nt=fe+ve+v(Ue,de)|0;R=z,M=D,z=j,D=_,j=V,_=x,V=L+mt+v(x=C+Ze|0,C)|0,L=k,C=b,k=F,b=N,F=T,N=I,T=mt+nt+v(I=Ze+Ue|0,Ze)|0}this._al=this._al+I|0,this._bl=this._bl+N|0,this._cl=this._cl+b|0,this._dl=this._dl+C|0,this._el=this._el+x|0,this._fl=this._fl+_|0,this._gl=this._gl+D|0,this._hl=this._hl+M|0,this._ah=this._ah+T+v(this._al,I)|0,this._bh=this._bh+F+v(this._bl,N)|0,this._ch=this._ch+k+v(this._cl,b)|0,this._dh=this._dh+L+v(this._dl,C)|0,this._eh=this._eh+V+v(this._el,x)|0,this._fh=this._fh+j+v(this._fl,_)|0,this._gh=this._gh+z+v(this._gl,D)|0,this._hh=this._hh+R+v(this._hl,M)|0},l.prototype._hash=function(){var w=o.allocUnsafe(64);function E(T,F,k){w.writeInt32BE(T,k),w.writeInt32BE(F,k+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),w},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,t,n){"use strict";t.exports=r;var i=e("events").EventEmitter;function r(){i.call(this)}e("inherits")(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(o,s){var a=this;function l(m){o.writable&&o.write(m)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",l),o.on("drain",d),o._isStdio||s&&s.end===!1||(a.on("end",u),a.on("close",h));var c=!1;function u(){c||(c=!0,o.end())}function h(){c||(c=!0,typeof o.destroy=="function"&&o.destroy())}function p(m){if(f(),i.listenerCount(this,"error")===0)throw m}function f(){a.removeListener("data",l),o.removeListener("drain",d),a.removeListener("end",u),a.removeListener("close",h),a.removeListener("error",p),o.removeListener("error",p),a.removeListener("end",f),a.removeListener("close",f),o.removeListener("close",f)}return a.on("error",p),o.on("error",p),a.on("end",f),a.on("close",f),o.on("close",f),o.emit("pipe",a),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,t,n){"use strict";var i={}.toString;t.exports=Array.isArray||function(r){return i.call(r)=="[object Array]"}},{}],507:[function(e,t,n){"use strict";t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,t,n){"use strict";var i=e("process-nextick-args"),r=Object.keys||function(f){var m=[];for(var g in f)m.push(g);return m};t.exports=u;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(u,s);for(var l=r(a.prototype),d=0;d<l.length;d++){var c=l[d];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(f){if(!(this instanceof u))return new u(f);s.call(this,f),a.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(f){f.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),u.prototype._destroy=function(f,m){this.push(null),this.end(),i.nextTick(m,f)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,t,n){"use strict";t.exports=o;var i=e("./_stream_transform"),r=Object.create(e("core-util-is"));function o(s){if(!(this instanceof o))return new o(s);i.call(this,s)}r.inherits=e("inherits"),r.inherits(o,i),o.prototype._transform=function(s,a,l){l(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,t,n){(function(i,r){(function(){"use strict";var o=e("process-nextick-args");t.exports=T;var s,a=e("isarray");T.ReadableState=E,e("events").EventEmitter;var l=function(M,O){return M.listeners(O).length},d=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,u=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var p=e("util"),f=void 0;f=p&&p.debuglog?p.debuglog("stream"):function(){};var m,g=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");h.inherits(T,d);var w=["error","close","destroy","pause","resume"];function E(M,O){M=M||{};var U=O instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!M.objectMode,U&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var G=M.highWaterMark,Y=M.readableHighWaterMark,B=this.objectMode?16:16384;this.highWaterMark=G||G===0?G:U&&(Y||Y===0)?Y:B,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(M.encoding),this.encoding=M.encoding)}function T(M){if(s=s||e("./_stream_duplex"),!(this instanceof T))return new T(M);this._readableState=new E(M,this),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),d.call(this)}function F(M,O,U,G,Y){var B,K=M._readableState;return O===null?(K.reading=!1,function(A,P){if(!P.ended){if(P.decoder){var W=P.decoder.end();W&&W.length&&(P.buffer.push(W),P.length+=P.objectMode?1:W.length)}P.ended=!0,V(A)}}(M,K)):(Y||(B=function(A,P){var W;Q=P,c.isBuffer(Q)||Q instanceof u||typeof P=="string"||P===void 0||A.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var Q;return W}(K,O)),B?M.emit("error",B):K.objectMode||O&&O.length>0?(typeof O=="string"||K.objectMode||Object.getPrototypeOf(O)===c.prototype||(O=function(A){return c.from(A)}(O)),G?K.endEmitted?M.emit("error",new Error("stream.unshift() after end event")):k(M,K,O,!0):K.ended?M.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!U?(O=K.decoder.write(O),K.objectMode||O.length!==0?k(M,K,O,!1):z(M,K)):k(M,K,O,!1))):G||(K.reading=!1)),function(A){return!A.ended&&(A.needReadable||A.length<A.highWaterMark||A.length===0)}(K)}function k(M,O,U,G){O.flowing&&O.length===0&&!O.sync?(M.emit("data",U),M.read(0)):(O.length+=O.objectMode?1:U.length,G?O.buffer.unshift(U):O.buffer.push(U),O.needReadable&&V(M)),z(M,O)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),T.prototype.destroy=v.destroy,T.prototype._undestroy=v.undestroy,T.prototype._destroy=function(M,O){this.push(null),O(M)},T.prototype.push=function(M,O){var U,G=this._readableState;return G.objectMode?U=!0:typeof M=="string"&&((O=O||G.defaultEncoding)!==G.encoding&&(M=c.from(M,O),O=""),U=!0),F(this,M,O,!1,U)},T.prototype.unshift=function(M){return F(this,M,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(M){return m||(m=e("string_decoder/").StringDecoder),this._readableState.decoder=new m(M),this._readableState.encoding=M,this};function L(M,O){return M<=0||O.length===0&&O.ended?0:O.objectMode?1:M!=M?O.flowing&&O.length?O.buffer.head.data.length:O.length:(M>O.highWaterMark&&(O.highWaterMark=function(U){return U>=8388608?U=8388608:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(M)),M<=O.length?M:O.ended?O.length:(O.needReadable=!0,0))}function V(M){var O=M._readableState;O.needReadable=!1,O.emittedReadable||(f("emitReadable",O.flowing),O.emittedReadable=!0,O.sync?o.nextTick(j,M):j(M))}function j(M){f("emit readable"),M.emit("readable"),b(M)}function z(M,O){O.readingMore||(O.readingMore=!0,o.nextTick(R,M,O))}function R(M,O){for(var U=O.length;!O.reading&&!O.flowing&&!O.ended&&O.length<O.highWaterMark&&(f("maybeReadMore read 0"),M.read(0),U!==O.length);)U=O.length;O.readingMore=!1}function I(M){f("readable nexttick read 0"),M.read(0)}function N(M,O){O.reading||(f("resume read 0"),M.read(0)),O.resumeScheduled=!1,O.awaitDrain=0,M.emit("resume"),b(M),O.flowing&&!O.reading&&M.read(0)}function b(M){var O=M._readableState;for(f("flow",O.flowing);O.flowing&&M.read()!==null;);}function C(M,O){return O.length===0?null:(O.objectMode?U=O.buffer.shift():!M||M>=O.length?(U=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.head.data:O.buffer.concat(O.length),O.buffer.clear()):U=function(G,Y,B){var K;return G<Y.head.data.length?(K=Y.head.data.slice(0,G),Y.head.data=Y.head.data.slice(G)):K=G===Y.head.data.length?Y.shift():B?function(A,P){var W=P.head,Q=1,se=W.data;for(A-=se.length;W=W.next;){var ne=W.data,ie=A>ne.length?ne.length:A;if(ie===ne.length?se+=ne:se+=ne.slice(0,A),(A-=ie)===0){ie===ne.length?(++Q,W.next?P.head=W.next:P.head=P.tail=null):(P.head=W,W.data=ne.slice(ie));break}++Q}return P.length-=Q,se}(G,Y):function(A,P){var W=c.allocUnsafe(A),Q=P.head,se=1;for(Q.data.copy(W),A-=Q.data.length;Q=Q.next;){var ne=Q.data,ie=A>ne.length?ne.length:A;if(ne.copy(W,W.length-A,0,ie),(A-=ie)===0){ie===ne.length?(++se,Q.next?P.head=Q.next:P.head=P.tail=null):(P.head=Q,Q.data=ne.slice(ie));break}++se}return P.length-=se,W}(G,Y),K}(M,O.buffer,O.decoder),U);var U}function x(M){var O=M._readableState;if(O.length>0)throw new Error('"endReadable()" called on non-empty stream');O.endEmitted||(O.ended=!0,o.nextTick(_,O,M))}function _(M,O){M.endEmitted||M.length!==0||(M.endEmitted=!0,O.readable=!1,O.emit("end"))}function D(M,O){for(var U=0,G=M.length;U<G;U++)if(M[U]===O)return U;return-1}T.prototype.read=function(M){f("read",M),M=parseInt(M,10);var O=this._readableState,U=M;if(M!==0&&(O.emittedReadable=!1),M===0&&O.needReadable&&(O.length>=O.highWaterMark||O.ended))return f("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?x(this):V(this),null;if((M=L(M,O))===0&&O.ended)return O.length===0&&x(this),null;var G,Y=O.needReadable;return f("need readable",Y),(O.length===0||O.length-M<O.highWaterMark)&&f("length less than watermark",Y=!0),O.ended||O.reading?f("reading or ended",Y=!1):Y&&(f("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(M=L(U,O))),(G=M>0?C(M,O):null)===null?(O.needReadable=!0,M=0):O.length-=M,O.length===0&&(O.ended||(O.needReadable=!0),U!==M&&O.ended&&x(this)),G!==null&&this.emit("data",G),G},T.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(M,O){var U=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=M;break;case 1:G.pipes=[G.pipes,M];break;default:G.pipes.push(M)}G.pipesCount+=1,f("pipe count=%d opts=%j",G.pipesCount,O);var Y=(!O||O.end!==!1)&&M!==i.stdout&&M!==i.stderr?K:ye;function B(ve,ee){f("onunpipe"),ve===U&&ee&&ee.hasUnpiped===!1&&(ee.hasUnpiped=!0,f("cleanup"),M.removeListener("close",ne),M.removeListener("finish",ie),M.removeListener("drain",A),M.removeListener("error",se),M.removeListener("unpipe",B),U.removeListener("end",K),U.removeListener("end",ye),U.removeListener("data",Q),P=!0,!G.awaitDrain||M._writableState&&!M._writableState.needDrain||A())}function K(){f("onend"),M.end()}G.endEmitted?o.nextTick(Y):U.once("end",Y),M.on("unpipe",B);var A=function(ve){return function(){var ee=ve._readableState;f("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&l(ve,"data")&&(ee.flowing=!0,b(ve))}}(U);M.on("drain",A);var P=!1,W=!1;function Q(ve){f("ondata"),W=!1,M.write(ve)!==!1||W||((G.pipesCount===1&&G.pipes===M||G.pipesCount>1&&D(G.pipes,M)!==-1)&&!P&&(f("false write response, pause",G.awaitDrain),G.awaitDrain++,W=!0),U.pause())}function se(ve){f("onerror",ve),ye(),M.removeListener("error",se),l(M,"error")===0&&M.emit("error",ve)}function ne(){M.removeListener("finish",ie),ye()}function ie(){f("onfinish"),M.removeListener("close",ne),ye()}function ye(){f("unpipe"),U.unpipe(M)}return U.on("data",Q),function(ve,ee,fe){if(typeof ve.prependListener=="function")return ve.prependListener(ee,fe);ve._events&&ve._events[ee]?a(ve._events[ee])?ve._events[ee].unshift(fe):ve._events[ee]=[fe,ve._events[ee]]:ve.on(ee,fe)}(M,"error",se),M.once("close",ne),M.once("finish",ie),M.emit("pipe",U),G.flowing||(f("pipe resume"),U.resume()),M},T.prototype.unpipe=function(M){var O=this._readableState,U={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return M&&M!==O.pipes||(M||(M=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,M&&M.emit("unpipe",this,U)),this;if(!M){var G=O.pipes,Y=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var B=0;B<Y;B++)G[B].emit("unpipe",this,{hasUnpiped:!1});return this}var K=D(O.pipes,M);return K===-1||(O.pipes.splice(K,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),M.emit("unpipe",this,U)),this},T.prototype.on=function(M,O){var U=d.prototype.on.call(this,M,O);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var G=this._readableState;G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.emittedReadable=!1,G.reading?G.length&&V(this):o.nextTick(I,this))}return U},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var M=this._readableState;return M.flowing||(f("resume"),M.flowing=!0,function(O,U){U.resumeScheduled||(U.resumeScheduled=!0,o.nextTick(N,O,U))}(this,M)),this},T.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(M){var O=this,U=this._readableState,G=!1;for(var Y in M.on("end",function(){if(f("wrapped end"),U.decoder&&!U.ended){var K=U.decoder.end();K&&K.length&&O.push(K)}O.push(null)}),M.on("data",function(K){f("wrapped data"),U.decoder&&(K=U.decoder.write(K)),U.objectMode&&K==null||(U.objectMode||K&&K.length)&&(O.push(K)||(G=!0,M.pause()))}),M)this[Y]===void 0&&typeof M[Y]=="function"&&(this[Y]=function(K){return function(){return M[K].apply(M,arguments)}}(Y));for(var B=0;B<w.length;B++)M.on(w[B],this.emit.bind(this,w[B]));return this._read=function(K){f("wrapped _read",K),G&&(G=!1,M.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=C}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,t,n){"use strict";t.exports=s;var i=e("./_stream_duplex"),r=Object.create(e("core-util-is"));function o(d,c){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,c!=null&&this.push(c),h(d);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function s(d){if(!(this instanceof s))return new s(d);i.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",a)}function a(){var d=this;typeof this._flush=="function"?this._flush(function(c,u){l(d,c,u)}):l(this,null,null)}function l(d,c,u){if(c)return d.emit("error",c);if(u!=null&&d.push(u),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}r.inherits=e("inherits"),r.inherits(s,i),s.prototype.push=function(d,c){return this._transformState.needTransform=!1,i.prototype.push.call(this,d,c)},s.prototype._transform=function(d,c,u){throw new Error("_transform() is not implemented")},s.prototype._write=function(d,c,u){var h=this._transformState;if(h.writecb=u,h.writechunk=d,h.writeencoding=c,!h.transforming){var p=this._readableState;(h.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},s.prototype._read=function(d){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(d,c){var u=this;i.prototype._destroy.call(this,d,function(h){c(h),u.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,t,n){(function(i,r,o){(function(){"use strict";var s=e("process-nextick-args");function a(z){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(I,N,b){var C=I.entry;for(I.entry=null;C;){var x=C.callback;N.pendingcb--,x(b),C=C.next}N.corkedRequestsFree.next=I})(R,z)}}t.exports=E;var l,d=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:s.nextTick;E.WritableState=w;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var u={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),p=e("safe-buffer").Buffer,f=(r!==void 0?r:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,g=e("./internal/streams/destroy");function v(){}function w(z,R){l=l||e("./_stream_duplex"),z=z||{};var I=R instanceof l;this.objectMode=!!z.objectMode,I&&(this.objectMode=this.objectMode||!!z.writableObjectMode);var N=z.highWaterMark,b=z.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:I&&(b||b===0)?b:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var x=z.decodeStrings===!1;this.decodeStrings=!x,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(D,M){var O=D._writableState,U=O.sync,G=O.writecb;if(function(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}(O),M)(function(B,K,A,P,W){--K.pendingcb,A?(s.nextTick(W,P),s.nextTick(j,B,K),B._writableState.errorEmitted=!0,B.emit("error",P)):(W(P),B._writableState.errorEmitted=!0,B.emit("error",P),j(B,K))})(D,O,U,M,G);else{var Y=L(O);Y||O.corked||O.bufferProcessing||!O.bufferedRequest||k(D,O),U?d(F,D,O,Y,G):F(D,O,Y,G)}})(R,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function E(z){if(l=l||e("./_stream_duplex"),!(m.call(E,this)||this instanceof l))return new E(z);this._writableState=new w(z,this),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),h.call(this)}function T(z,R,I,N,b,C,x){R.writelen=N,R.writecb=x,R.writing=!0,R.sync=!0,I?z._writev(b,R.onwrite):z._write(b,C,R.onwrite),R.sync=!1}function F(z,R,I,N){I||function(b,C){C.length===0&&C.needDrain&&(C.needDrain=!1,b.emit("drain"))}(z,R),R.pendingcb--,N(),j(z,R)}function k(z,R){R.bufferProcessing=!0;var I=R.bufferedRequest;if(z._writev&&I&&I.next){var N=R.bufferedRequestCount,b=new Array(N),C=R.corkedRequestsFree;C.entry=I;for(var x=0,_=!0;I;)b[x]=I,I.isBuf||(_=!1),I=I.next,x+=1;b.allBuffers=_,T(z,R,!0,R.length,b,"",C.finish),R.pendingcb++,R.lastBufferedRequest=null,C.next?(R.corkedRequestsFree=C.next,C.next=null):R.corkedRequestsFree=new a(R),R.bufferedRequestCount=0}else{for(;I;){var D=I.chunk,M=I.encoding,O=I.callback;if(T(z,R,!1,R.objectMode?1:D.length,D,M,O),I=I.next,R.bufferedRequestCount--,R.writing)break}I===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=I,R.bufferProcessing=!1}function L(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function V(z,R){z._final(function(I){R.pendingcb--,I&&z.emit("error",I),R.prefinished=!0,z.emit("prefinish"),j(z,R)})}function j(z,R){var I=L(R);return I&&(function(N,b){b.prefinished||b.finalCalled||(typeof N._final=="function"?(b.pendingcb++,b.finalCalled=!0,s.nextTick(V,N,b)):(b.prefinished=!0,N.emit("prefinish")))}(z,R),R.pendingcb===0&&(R.finished=!0,z.emit("finish"))),I}c.inherits(E,h),w.prototype.getBuffer=function(){for(var z=this.bufferedRequest,R=[];z;)R.push(z),z=z.next;return R},function(){try{Object.defineProperty(w.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(z){return!!m.call(this,z)||this===E&&z&&z._writableState instanceof w}})):m=function(z){return z instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(z,R,I){var N,b=this._writableState,C=!1,x=!b.objectMode&&(N=z,p.isBuffer(N)||N instanceof f);return x&&!p.isBuffer(z)&&(z=function(_){return p.from(_)}(z)),typeof R=="function"&&(I=R,R=null),x?R="buffer":R||(R=b.defaultEncoding),typeof I!="function"&&(I=v),b.ended?function(_,D){var M=new Error("write after end");_.emit("error",M),s.nextTick(D,M)}(this,I):(x||function(_,D,M,O){var U=!0,G=!1;return M===null?G=new TypeError("May not write null values to stream"):typeof M=="string"||M===void 0||D.objectMode||(G=new TypeError("Invalid non-string/buffer chunk")),G&&(_.emit("error",G),s.nextTick(O,G),U=!1),U}(this,b,z,I))&&(b.pendingcb++,C=function(_,D,M,O,U,G){if(!M){var Y=function(P,W,Q){return P.objectMode||P.decodeStrings===!1||typeof W!="string"||(W=p.from(W,Q)),W}(D,O,U);O!==Y&&(M=!0,U="buffer",O=Y)}var B=D.objectMode?1:O.length;D.length+=B;var K=D.length<D.highWaterMark;if(K||(D.needDrain=!0),D.writing||D.corked){var A=D.lastBufferedRequest;D.lastBufferedRequest={chunk:O,encoding:U,isBuf:M,callback:G,next:null},A?A.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else T(_,D,!1,B,O,U,G);return K}(this,b,x,z,R,I)),C},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,z.writing||z.corked||z.bufferProcessing||!z.bufferedRequest||k(this,z))},E.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(z,R,I){I(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(z,R,I){var N=this._writableState;typeof z=="function"?(I=z,z=null,R=null):typeof R=="function"&&(I=R,R=null),z!=null&&this.write(z,R),N.corked&&(N.corked=1,this.uncork()),N.ending||function(b,C,x){C.ending=!0,j(b,C),x&&(C.finished?s.nextTick(x):b.once("finish",x)),C.ended=!0,b.writable=!1}(this,N,I)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),E.prototype.destroy=g.destroy,E.prototype._undestroy=g.undestroy,E.prototype._destroy=function(z,R){this.end(),R(z)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("util");t.exports=function(){function o(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},o.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=s+a.data;return l},o.prototype.concat=function(s){if(this.length===0)return i.alloc(0);for(var a,l,d,c=i.allocUnsafe(s>>>0),u=this.head,h=0;u;)a=u.data,l=c,d=h,a.copy(l,d),h+=u.data.length,u=u.next;return c},o}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var o=r.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(e,t,n){"use strict";var i=e("process-nextick-args");function r(o,s){o.emit("error",s)}t.exports={destroy:function(o,s){var a=this,l=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return l||d?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,o)):i.nextTick(r,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(c){!s&&c?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,i.nextTick(r,a,c)):i.nextTick(r,a,c):s&&s(c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,t,n){arguments[4][490][0].apply(n,arguments)},{dup:490,events:422}],516:[function(e,t,n){"use strict";t.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,t,n){"use strict";(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,t,n){"use strict";t.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,t,n){"use strict";t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,t,n){arguments[4][217][0].apply(n,arguments)},{buffer:220,dup:217}],521:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,t,n){arguments[4][218][0].apply(n,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,t,n){(function(i,r){(function(){"use strict";var o=e("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},d=0;function c(u,h){this._id=u,this._clearFn=h}n.setTimeout=function(){return new c(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(u){u.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(u,h){clearTimeout(u._idleTimeoutId),u._idleTimeout=h},n.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},n._unrefActive=n.active=function(u){clearTimeout(u._idleTimeoutId);var h=u._idleTimeout;h>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},h))},n.setImmediate=typeof i=="function"?i:function(u){var h=d++,p=!(arguments.length<2)&&a.call(arguments,1);return l[h]=!0,o(function(){l[h]&&(p?u.apply(null,p):u.call(null),n.clearImmediate(h))}),h},n.clearImmediate=typeof r=="function"?r:function(u){delete l[u]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,t,n){(function(i){(function(){"use strict";function r(o){try{if(!i.localStorage)return!1}catch{return!1}var s=i.localStorage[o];return s!=null&&String(s).toLowerCase()==="true"}t.exports=function(o,s){if(r("noDeprecation"))return o;var a=!1;return function(){if(!a){if(r("throwDeprecation"))throw new Error(s);r("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,t,n){"use strict";typeof Object.create=="function"?t.exports=function(i,r){i.super_=r,i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(i,r){i.super_=r;var o=function(){};o.prototype=r.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(e,t,n){"use strict";t.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,t,n){(function(i,r){(function(){"use strict";var o=/%[sdj%]/g;n.format=function(b){if(!w(b)){for(var C=[],x=0;x<arguments.length;x++)C.push(l(arguments[x]));return C.join(" ")}x=1;for(var _=arguments,D=_.length,M=String(b).replace(o,function(U){if(U==="%%")return"%";if(x>=D)return U;switch(U){case"%s":return String(_[x++]);case"%d":return Number(_[x++]);case"%j":try{return JSON.stringify(_[x++])}catch{return"[Circular]"}default:return U}}),O=_[x];x<D;O=_[++x])g(O)||!F(O)?M+=" "+O:M+=" "+l(O);return M},n.deprecate=function(b,C){if(E(r.process))return function(){return n.deprecate(b,C).apply(this,arguments)};if(i.noDeprecation===!0)return b;var x=!1;return function(){if(!x){if(i.throwDeprecation)throw new Error(C);i.traceDeprecation?console.trace(C):console.error(C),x=!0}return b.apply(this,arguments)}};var s,a={};function l(b,C){var x={seen:[],stylize:c};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),m(C)?x.showHidden=C:C&&n._extend(x,C),E(x.showHidden)&&(x.showHidden=!1),E(x.depth)&&(x.depth=2),E(x.colors)&&(x.colors=!1),E(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=d),u(x,b,x.depth)}function d(b,C){var x=l.styles[C];return x?"\x1B["+l.colors[x][0]+"m"+b+"\x1B["+l.colors[x][1]+"m":b}function c(b,C){return b}function u(b,C,x){if(b.customInspect&&C&&V(C.inspect)&&C.inspect!==n.inspect&&(!C.constructor||C.constructor.prototype!==C)){var _=C.inspect(x,b);return w(_)||(_=u(b,_,x)),_}var D=function(A,P){if(E(P))return A.stylize("undefined","undefined");if(w(P)){var W="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(W,"string")}if(v(P))return A.stylize(""+P,"number");if(m(P))return A.stylize(""+P,"boolean");if(g(P))return A.stylize("null","null")}(b,C);if(D)return D;var M=Object.keys(C),O=function(A){var P={};return A.forEach(function(W,Q){P[W]=!0}),P}(M);if(b.showHidden&&(M=Object.getOwnPropertyNames(C)),L(C)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return h(C);if(M.length===0){if(V(C)){var U=C.name?": "+C.name:"";return b.stylize("[Function"+U+"]","special")}if(T(C))return b.stylize(RegExp.prototype.toString.call(C),"regexp");if(k(C))return b.stylize(Date.prototype.toString.call(C),"date");if(L(C))return h(C)}var G,Y="",B=!1,K=["{","}"];return f(C)&&(B=!0,K=["[","]"]),V(C)&&(Y=" [Function"+(C.name?": "+C.name:"")+"]"),T(C)&&(Y=" "+RegExp.prototype.toString.call(C)),k(C)&&(Y=" "+Date.prototype.toUTCString.call(C)),L(C)&&(Y=" "+h(C)),M.length!==0||B&&C.length!=0?x<0?T(C)?b.stylize(RegExp.prototype.toString.call(C),"regexp"):b.stylize("[Object]","special"):(b.seen.push(C),G=B?function(A,P,W,Q,se){for(var ne=[],ie=0,ye=P.length;ie<ye;++ie)N(P,String(ie))?ne.push(p(A,P,W,Q,String(ie),!0)):ne.push("");return se.forEach(function(ve){ve.match(/^\d+$/)||ne.push(p(A,P,W,Q,ve,!0))}),ne}(b,C,x,O,M):M.map(function(A){return p(b,C,x,O,A,B)}),b.seen.pop(),function(A,P,W){return A.reduce(function(Q,se){return se.indexOf(`
`)>=0,Q+se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?W[0]+(P===""?"":P+`
 `)+" "+A.join(`,
  `)+" "+W[1]:W[0]+P+" "+A.join(", ")+" "+W[1]}(G,Y,K)):K[0]+Y+K[1]}function h(b){return"["+Error.prototype.toString.call(b)+"]"}function p(b,C,x,_,D,M){var O,U,G;if((G=Object.getOwnPropertyDescriptor(C,D)||{value:C[D]}).get?U=G.set?b.stylize("[Getter/Setter]","special"):b.stylize("[Getter]","special"):G.set&&(U=b.stylize("[Setter]","special")),N(_,D)||(O="["+D+"]"),U||(b.seen.indexOf(G.value)<0?(U=g(x)?u(b,G.value,null):u(b,G.value,x-1)).indexOf(`
`)>-1&&(U=M?U.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+U.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):U=b.stylize("[Circular]","special")),E(O)){if(M&&D.match(/^\d+$/))return U;(O=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=b.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=b.stylize(O,"string"))}return O+": "+U}function f(b){return Array.isArray(b)}function m(b){return typeof b=="boolean"}function g(b){return b===null}function v(b){return typeof b=="number"}function w(b){return typeof b=="string"}function E(b){return b===void 0}function T(b){return F(b)&&j(b)==="[object RegExp]"}function F(b){return typeof b=="object"&&b!==null}function k(b){return F(b)&&j(b)==="[object Date]"}function L(b){return F(b)&&(j(b)==="[object Error]"||b instanceof Error)}function V(b){return typeof b=="function"}function j(b){return Object.prototype.toString.call(b)}function z(b){return b<10?"0"+b.toString(10):b.toString(10)}n.debuglog=function(b){if(E(s)&&(s=i.env.NODE_DEBUG||""),b=b.toUpperCase(),!a[b])if(new RegExp("\\b"+b+"\\b","i").test(s)){var C=i.pid;a[b]=function(){var x=n.format.apply(n,arguments);console.error("%s %d: %s",b,C,x)}}else a[b]=function(){};return a[b]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=function(b){return b==null},n.isNumber=v,n.isString=w,n.isSymbol=function(b){return typeof b=="symbol"},n.isUndefined=E,n.isRegExp=T,n.isObject=F,n.isDate=k,n.isError=L,n.isFunction=V,n.isPrimitive=function(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||b===void 0},n.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var b=new Date,C=[z(b.getHours()),z(b.getMinutes()),z(b.getSeconds())].join(":");return[b.getDate(),R[b.getMonth()],C].join(" ")}function N(b,C){return Object.prototype.hasOwnProperty.call(b,C)}n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(b,C){if(!C||!F(C))return b;for(var x=Object.keys(C),_=x.length;_--;)b[x[_]]=C[x[_]];return b}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(n,"parse",{enumerable:!0,get:function(){return u.default}});var i=h(e("./v1.js")),r=h(e("./v3.js")),o=h(e("./v4.js")),s=h(e("./v5.js")),a=h(e("./nil.js")),l=h(e("./version.js")),d=h(e("./validate.js")),c=h(e("./stringify.js")),u=h(e("./parse.js"));function h(p){return p&&p.__esModule?p:{default:p}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,t,n){"use strict";function i(u){return 14+(u+64>>>9<<4)+1}function r(u,h){let p=(65535&u)+(65535&h);return(u>>16)+(h>>16)+(p>>16)<<16|65535&p}function o(u,h,p,f,m,g){return r((v=r(r(h,u),r(f,g)))<<(w=m)|v>>>32-w,p);var v,w}function s(u,h,p,f,m,g,v){return o(h&p|~h&f,u,h,m,g,v)}function a(u,h,p,f,m,g,v){return o(h&f|p&~f,u,h,m,g,v)}function l(u,h,p,f,m,g,v){return o(h^p^f,u,h,m,g,v)}function d(u,h,p,f,m,g,v){return o(p^(h|~f),u,h,m,g,v)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=function(u){if(typeof u=="string"){let h=unescape(encodeURIComponent(u));u=new Uint8Array(h.length);for(let p=0;p<h.length;++p)u[p]=h.charCodeAt(p)}return function(h){let p=[],f=32*h.length;for(let m=0;m<f;m+=8){let g=h[m>>5]>>>m%32&255,v=parseInt("0123456789abcdef".charAt(g>>>4&15)+"0123456789abcdef".charAt(15&g),16);p.push(v)}return p}(function(h,p){h[p>>5]|=128<<p%32,h[i(p)-1]=p;let f=1732584193,m=-271733879,g=-1732584194,v=271733878;for(let w=0;w<h.length;w+=16){let E=f,T=m,F=g,k=v;f=s(f,m,g,v,h[w],7,-680876936),v=s(v,f,m,g,h[w+1],12,-389564586),g=s(g,v,f,m,h[w+2],17,606105819),m=s(m,g,v,f,h[w+3],22,-1044525330),f=s(f,m,g,v,h[w+4],7,-176418897),v=s(v,f,m,g,h[w+5],12,1200080426),g=s(g,v,f,m,h[w+6],17,-1473231341),m=s(m,g,v,f,h[w+7],22,-45705983),f=s(f,m,g,v,h[w+8],7,1770035416),v=s(v,f,m,g,h[w+9],12,-1958414417),g=s(g,v,f,m,h[w+10],17,-42063),m=s(m,g,v,f,h[w+11],22,-1990404162),f=s(f,m,g,v,h[w+12],7,1804603682),v=s(v,f,m,g,h[w+13],12,-40341101),g=s(g,v,f,m,h[w+14],17,-1502002290),m=s(m,g,v,f,h[w+15],22,1236535329),f=a(f,m,g,v,h[w+1],5,-165796510),v=a(v,f,m,g,h[w+6],9,-1069501632),g=a(g,v,f,m,h[w+11],14,643717713),m=a(m,g,v,f,h[w],20,-373897302),f=a(f,m,g,v,h[w+5],5,-701558691),v=a(v,f,m,g,h[w+10],9,38016083),g=a(g,v,f,m,h[w+15],14,-660478335),m=a(m,g,v,f,h[w+4],20,-405537848),f=a(f,m,g,v,h[w+9],5,568446438),v=a(v,f,m,g,h[w+14],9,-1019803690),g=a(g,v,f,m,h[w+3],14,-187363961),m=a(m,g,v,f,h[w+8],20,1163531501),f=a(f,m,g,v,h[w+13],5,-1444681467),v=a(v,f,m,g,h[w+2],9,-51403784),g=a(g,v,f,m,h[w+7],14,1735328473),m=a(m,g,v,f,h[w+12],20,-1926607734),f=l(f,m,g,v,h[w+5],4,-378558),v=l(v,f,m,g,h[w+8],11,-2022574463),g=l(g,v,f,m,h[w+11],16,1839030562),m=l(m,g,v,f,h[w+14],23,-35309556),f=l(f,m,g,v,h[w+1],4,-1530992060),v=l(v,f,m,g,h[w+4],11,1272893353),g=l(g,v,f,m,h[w+7],16,-155497632),m=l(m,g,v,f,h[w+10],23,-1094730640),f=l(f,m,g,v,h[w+13],4,681279174),v=l(v,f,m,g,h[w],11,-358537222),g=l(g,v,f,m,h[w+3],16,-722521979),m=l(m,g,v,f,h[w+6],23,76029189),f=l(f,m,g,v,h[w+9],4,-640364487),v=l(v,f,m,g,h[w+12],11,-421815835),g=l(g,v,f,m,h[w+15],16,530742520),m=l(m,g,v,f,h[w+2],23,-995338651),f=d(f,m,g,v,h[w],6,-198630844),v=d(v,f,m,g,h[w+7],10,1126891415),g=d(g,v,f,m,h[w+14],15,-1416354905),m=d(m,g,v,f,h[w+5],21,-57434055),f=d(f,m,g,v,h[w+12],6,1700485571),v=d(v,f,m,g,h[w+3],10,-1894986606),g=d(g,v,f,m,h[w+10],15,-1051523),m=d(m,g,v,f,h[w+1],21,-2054922799),f=d(f,m,g,v,h[w+8],6,1873313359),v=d(v,f,m,g,h[w+15],10,-30611744),g=d(g,v,f,m,h[w+6],15,-1560198380),m=d(m,g,v,f,h[w+13],21,1309151649),f=d(f,m,g,v,h[w+4],6,-145523070),v=d(v,f,m,g,h[w+11],10,-1120210379),g=d(g,v,f,m,h[w+2],15,718787259),m=d(m,g,v,f,h[w+9],21,-343485551),f=r(f,E),m=r(m,T),g=r(g,F),v=r(v,k)}return[f,m,g,v]}(function(h){if(h.length===0)return[];let p=8*h.length,f=new Uint32Array(i(p));for(let m=0;m<p;m+=8)f[m>>5]|=(255&h[m/8])<<m%32;return f}(u),8*u.length))};n.default=c},{}],530:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,r.default)(s))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(s.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(s.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(s.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(s.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};n.default=o},{"./validate.js":541}],532:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,t,n){"use strict";let i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)};let r=new Uint8Array(16)},{}],534:[function(e,t,n){"use strict";function i(s,a,l,d){switch(s){case 0:return a&l^~a&d;case 1:return a^l^d;case 2:return a&l^a&d^l&d;case 3:return a^l^d}}function r(s,a){return s<<a|s>>>32-a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(s){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){let h=unescape(encodeURIComponent(s));s=[];for(let p=0;p<h.length;++p)s.push(h.charCodeAt(p))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);let d=s.length/4+2,c=Math.ceil(d/16),u=new Array(c);for(let h=0;h<c;++h){let p=new Uint32Array(16);for(let f=0;f<16;++f)p[f]=s[64*h+4*f]<<24|s[64*h+4*f+1]<<16|s[64*h+4*f+2]<<8|s[64*h+4*f+3];u[h]=p}u[c-1][14]=8*(s.length-1)/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=8*(s.length-1)&4294967295;for(let h=0;h<c;++h){let p=new Uint32Array(80);for(let E=0;E<16;++E)p[E]=u[h][E];for(let E=16;E<80;++E)p[E]=r(p[E-3]^p[E-8]^p[E-14]^p[E-16],1);let f=l[0],m=l[1],g=l[2],v=l[3],w=l[4];for(let E=0;E<80;++E){let T=Math.floor(E/20),F=r(f,5)+i(T,m,g,v)+w+a[T]+p[E]>>>0;w=v,v=g,g=r(m,30)>>>0,m=f,f=F}l[0]=l[0]+f>>>0,l[1]=l[1]+m>>>0,l[2]=l[2]+g>>>0,l[3]=l[3]+v>>>0,l[4]=l[4]+w>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};n.default=o},{}],535:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./validate.js"))&&i.__esModule?i:{default:i};let o=[];for(let a=0;a<256;++a)o.push((a+256).toString(16).substr(1));var s=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=(o[a[l+0]]+o[a[l+1]]+o[a[l+2]]+o[a[l+3]]+"-"+o[a[l+4]]+o[a[l+5]]+"-"+o[a[l+6]]+o[a[l+7]]+"-"+o[a[l+8]]+o[a[l+9]]+"-"+o[a[l+10]]+o[a[l+11]]+o[a[l+12]]+o[a[l+13]]+o[a[l+14]]+o[a[l+15]]).toLowerCase();if(!(0,r.default)(d))throw TypeError("Stringified UUID is invalid");return d};n.default=s},{"./validate.js":541}],536:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./rng.js")),r=o(e("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}let s,a,l=0,d=0;var c=function(u,h,p){let f=h&&p||0,m=h||new Array(16),g=(u=u||{}).node||s,v=u.clockseq!==void 0?u.clockseq:a;if(g==null||v==null){let L=u.random||(u.rng||i.default)();g==null&&(g=s=[1|L[0],L[1],L[2],L[3],L[4],L[5]]),v==null&&(v=a=16383&(L[6]<<8|L[7]))}let w=u.msecs!==void 0?u.msecs:Date.now(),E=u.nsecs!==void 0?u.nsecs:d+1,T=w-l+(E-d)/1e4;if(T<0&&u.clockseq===void 0&&(v=v+1&16383),(T<0||w>l)&&u.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=w,d=E,a=v,w+=122192928e5;let F=(1e4*(268435455&w)+E)%4294967296;m[f++]=F>>>24&255,m[f++]=F>>>16&255,m[f++]=F>>>8&255,m[f++]=255&F;let k=w/4294967296*1e4&268435455;m[f++]=k>>>8&255,m[f++]=255&k,m[f++]=k>>>24&15|16,m[f++]=k>>>16&255,m[f++]=v>>>8|128,m[f++]=255&v;for(let L=0;L<6;++L)m[f+L]=g[L];return h||(0,r.default)(m)};n.default=c},{"./rng.js":533,"./stringify.js":535}],537:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./v35.js")),r=o(e("./md5.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v3",48,r.default);n.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(l,d,c){function u(h,p,f,m){if(typeof h=="string"&&(h=function(v){v=unescape(encodeURIComponent(v));let w=[];for(let E=0;E<v.length;++E)w.push(v.charCodeAt(E));return w}(h)),typeof p=="string"&&(p=(0,r.default)(p)),p.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let g=new Uint8Array(16+h.length);if(g.set(p),g.set(h,p.length),g=c(g),g[6]=15&g[6]|d,g[8]=63&g[8]|128,f){m=m||0;for(let v=0;v<16;++v)f[m+v]=g[v];return f}return(0,i.default)(g)}try{u.name=l}catch{}return u.DNS=s,u.URL=a,u},n.URL=n.DNS=void 0;var i=o(e("./stringify.js")),r=o(e("./parse.js"));function o(l){return l&&l.__esModule?l:{default:l}}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";n.DNS=s;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";n.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./rng.js")),r=o(e("./stringify.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=function(a,l,d){let c=(a=a||{}).random||(a.rng||i.default)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,l){d=d||0;for(let u=0;u<16;++u)l[d+u]=c[u];return l}return(0,r.default)(c)};n.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./v35.js")),r=o(e("./sha1.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v5",80,r.default);n.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./regex.js"))&&i.__esModule?i:{default:i},o=function(s){return typeof s=="string"&&r.default.test(s)};n.default=o},{"./regex.js":532}],542:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i,r=(i=e("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,r.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};n.default=o},{"./validate.js":541}],543:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function i(r){return r>=65&&r<=90||r>=97&&r<=122||r===58||r===95||r===8204||r===8205||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(r){return r>=32&&r<=55295||r===10||r===13||r===9||r>=57344&&r<=65533||r>=65536&&r<=1114111},n.isS=function(r){return r===32||r===10||r===13||r===9},n.isNameStartChar=i,n.isNameChar=function(r){return i(r)||r>=48&&r<=57||r===45||r===46||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}],544:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",n.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",n.S=` 	\r
`,n.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");function i(r){return r>=65&&r<=90||r>=97&&r<=122||r===58||r===95||r===8204||r===8205||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}n.S_LIST=[32,10,13,9],n.isChar=function(r){return r>=1&&r<=55295||r>=57344&&r<=65533||r>=65536&&r<=1114111},n.isRestrictedChar=function(r){return r>=1&&r<=8||r===11||r===12||r>=14&&r<=31||r>=127&&r<=132||r>=134&&r<=159},n.isCharAndNotRestricted=function(r){return r===9||r===10||r===13||r>31&&r<127||r===133||r>159&&r<=55295||r>=57344&&r<=65533||r>=65536&&r<=1114111},n.isS=function(r){return r===32||r===10||r===13||r===9},n.isNameStartChar=i,n.isNameChar=function(r){return i(r)||r>=48&&r<=57||r===45||r===46||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}],545:[function(e,t,n){"use strict";function i(r){return r>=65&&r<=90||r===95||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}Object.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(r){return i(r)||r===45||r===46||r>=48&&r<=57||r===183||r>=768&&r<=879||r>=8255&&r<=8256}},{}]},{},[15])(15)})});var Aq=An((gP,vP)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof gP<"u"?t():(t(),e.FileSaver={})})(gP,function(){"use strict";function e(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function t(a,l,d){var c=new XMLHttpRequest;c.open("GET",a),c.responseType="blob",c.onload=function(){s(c.response,l,d)},c.onerror=function(){console.error("could not download file")},c.send()}function n(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,d){var c=r.URL||r.webkitURL,u=document.createElement("a");l=l||a.name||"download",u.download=l,u.rel="noopener",typeof a=="string"?(u.href=a,u.origin===location.origin?i(u):n(u.href)?t(a,l,d):i(u,u.target="_blank")):(u.href=c.createObjectURL(a),setTimeout(function(){c.revokeObjectURL(u.href)},4e4),setTimeout(function(){i(u)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,d){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(e(a,d),l);else if(n(a))t(a,l,d);else{var c=document.createElement("a");c.href=a,c.target="_blank",setTimeout(function(){i(c)})}}:function(a,l,d,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof a=="string")return t(a,l,d);var u=a.type==="application/octet-stream",h=/constructor/i.test(r.HTMLElement)||r.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||u&&h||o)&&typeof FileReader<"u"){var f=new FileReader;f.onloadend=function(){var v=f.result;v=p?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=v:location=v,c=null},f.readAsDataURL(a)}else{var m=r.URL||r.webkitURL,g=m.createObjectURL(a);c?c.location=g:location.href=g,c=null,setTimeout(function(){m.revokeObjectURL(g)},4e4)}});r.saveAs=s.saveAs=s,typeof vP<"u"&&(vP.exports=s)})});var tQ=An(()=>{"use strict"});var oi=An((F3,nQ)=>{"use strict";(function(e,t){typeof F3=="object"?nQ.exports=F3=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(F3,function(){var e=e||function(t,n){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof global<"u"&&global.crypto&&(i=global.crypto),!i&&typeof Jh=="function")try{i=tQ()}catch{}var r=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function v(){}return function(w){var E;return v.prototype=w,E=new v,v.prototype=null,E}}(),s={},a=s.lib={},l=a.Base=function(){return{extend:function(v){var w=o(this);return v&&w.mixIn(v),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var w in v)v.hasOwnProperty(w)&&(this[w]=v[w]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=a.WordArray=l.extend({init:function(v,w){v=this.words=v||[],w!=n?this.sigBytes=w:this.sigBytes=v.length*4},toString:function(v){return(v||u).stringify(this)},concat:function(v){var w=this.words,E=v.words,T=this.sigBytes,F=v.sigBytes;if(this.clamp(),T%4)for(var k=0;k<F;k++){var L=E[k>>>2]>>>24-k%4*8&255;w[T+k>>>2]|=L<<24-(T+k)%4*8}else for(var V=0;V<F;V+=4)w[T+V>>>2]=E[V>>>2];return this.sigBytes+=F,this},clamp:function(){var v=this.words,w=this.sigBytes;v[w>>>2]&=4294967295<<32-w%4*8,v.length=t.ceil(w/4)},clone:function(){var v=l.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var w=[],E=0;E<v;E+=4)w.push(r());return new d.init(w,v)}}),c=s.enc={},u=c.Hex={stringify:function(v){for(var w=v.words,E=v.sigBytes,T=[],F=0;F<E;F++){var k=w[F>>>2]>>>24-F%4*8&255;T.push((k>>>4).toString(16)),T.push((k&15).toString(16))}return T.join("")},parse:function(v){for(var w=v.length,E=[],T=0;T<w;T+=2)E[T>>>3]|=parseInt(v.substr(T,2),16)<<24-T%8*4;return new d.init(E,w/2)}},h=c.Latin1={stringify:function(v){for(var w=v.words,E=v.sigBytes,T=[],F=0;F<E;F++){var k=w[F>>>2]>>>24-F%4*8&255;T.push(String.fromCharCode(k))}return T.join("")},parse:function(v){for(var w=v.length,E=[],T=0;T<w;T++)E[T>>>2]|=(v.charCodeAt(T)&255)<<24-T%4*8;return new d.init(E,w)}},p=c.Utf8={stringify:function(v){try{return decodeURIComponent(escape(h.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return h.parse(unescape(encodeURIComponent(v)))}},f=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=p.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var w,E=this._data,T=E.words,F=E.sigBytes,k=this.blockSize,L=k*4,V=F/L;v?V=t.ceil(V):V=t.max((V|0)-this._minBufferSize,0);var j=V*k,z=t.min(j*4,F);if(j){for(var R=0;R<j;R+=k)this._doProcessBlock(T,R);w=T.splice(0,j),E.sigBytes-=z}return new d.init(w,z)},clone:function(){var v=l.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0}),m=a.Hasher=f.extend({cfg:l.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var w=this._doFinalize();return w},blockSize:512/32,_createHelper:function(v){return function(w,E){return new v.init(E).finalize(w)}},_createHmacHelper:function(v){return function(w,E){return new g.HMAC.init(v,E).finalize(w)}}}),g=s.algo={};return s}(Math);return e})});var Vw=An((P3,iQ)=>{"use strict";(function(e,t){typeof P3=="object"?iQ.exports=P3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(P3,function(e){return function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,s=n.x64={},a=s.Word=r.extend({init:function(d,c){this.high=d,this.low=c}}),l=s.WordArray=r.extend({init:function(d,c){d=this.words=d||[],c!=t?this.sigBytes=c:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,c=d.length,u=[],h=0;h<c;h++){var p=d[h];u.push(p.high),u.push(p.low)}return o.create(u,this.sigBytes)},clone:function(){for(var d=r.clone.call(this),c=d.words=this.words.slice(0),u=c.length,h=0;h<u;h++)c[h]=c[h].clone();return d}})}(),e})});var oQ=An((O3,rQ)=>{"use strict";(function(e,t){typeof O3=="object"?rQ.exports=O3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(O3,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,n=t.lib,i=n.WordArray,r=i.init,o=i.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var a=s.byteLength,l=[],d=0;d<a;d++)l[d>>>2]|=s[d]<<24-d%4*8;r.call(this,l,a)}else r.apply(this,arguments)};o.prototype=i}}(),e.lib.WordArray})});var aQ=An((L3,sQ)=>{"use strict";(function(e,t){typeof L3=="object"?sQ.exports=L3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(L3,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.enc,o=r.Utf16=r.Utf16BE={stringify:function(a){for(var l=a.words,d=a.sigBytes,c=[],u=0;u<d;u+=2){var h=l[u>>>2]>>>16-u%4*8&65535;c.push(String.fromCharCode(h))}return c.join("")},parse:function(a){for(var l=a.length,d=[],c=0;c<l;c++)d[c>>>1]|=a.charCodeAt(c)<<16-c%2*16;return i.create(d,l*2)}};r.Utf16LE={stringify:function(a){for(var l=a.words,d=a.sigBytes,c=[],u=0;u<d;u+=2){var h=s(l[u>>>2]>>>16-u%4*8&65535);c.push(String.fromCharCode(h))}return c.join("")},parse:function(a){for(var l=a.length,d=[],c=0;c<l;c++)d[c>>>1]|=s(a.charCodeAt(c)<<16-c%2*16);return i.create(d,l*2)}};function s(a){return a<<8&4278255360|a>>>8&16711935}}(),e.enc.Utf16})});var Vh=An((N3,lQ)=>{"use strict";(function(e,t){typeof N3=="object"?lQ.exports=N3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(N3,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.enc,o=r.Base64={stringify:function(a){var l=a.words,d=a.sigBytes,c=this._map;a.clamp();for(var u=[],h=0;h<d;h+=3)for(var p=l[h>>>2]>>>24-h%4*8&255,f=l[h+1>>>2]>>>24-(h+1)%4*8&255,m=l[h+2>>>2]>>>24-(h+2)%4*8&255,g=p<<16|f<<8|m,v=0;v<4&&h+v*.75<d;v++)u.push(c.charAt(g>>>6*(3-v)&63));var w=c.charAt(64);if(w)for(;u.length%4;)u.push(w);return u.join("")},parse:function(a){var l=a.length,d=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var u=0;u<d.length;u++)c[d.charCodeAt(u)]=u}var h=d.charAt(64);if(h){var p=a.indexOf(h);p!==-1&&(l=p)}return s(a,l,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(a,l,d){for(var c=[],u=0,h=0;h<l;h++)if(h%4){var p=d[a.charCodeAt(h-1)]<<h%4*2,f=d[a.charCodeAt(h)]>>>6-h%4*2,m=p|f;c[u>>>2]|=m<<24-u%4*8,u++}return i.create(c,u)}}(),e.enc.Base64})});var dQ=An((B3,cQ)=>{"use strict";(function(e,t){typeof B3=="object"?cQ.exports=B3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(B3,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.enc,o=r.Base64url={stringify:function(a,l){l===void 0&&(l=!0);var d=a.words,c=a.sigBytes,u=l?this._safe_map:this._map;a.clamp();for(var h=[],p=0;p<c;p+=3)for(var f=d[p>>>2]>>>24-p%4*8&255,m=d[p+1>>>2]>>>24-(p+1)%4*8&255,g=d[p+2>>>2]>>>24-(p+2)%4*8&255,v=f<<16|m<<8|g,w=0;w<4&&p+w*.75<c;w++)h.push(u.charAt(v>>>6*(3-w)&63));var E=u.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(a,l){l===void 0&&(l=!0);var d=a.length,c=l?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var h=0;h<c.length;h++)u[c.charCodeAt(h)]=h}var p=c.charAt(64);if(p){var f=a.indexOf(p);f!==-1&&(d=f)}return s(a,d,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(a,l,d){for(var c=[],u=0,h=0;h<l;h++)if(h%4){var p=d[a.charCodeAt(h-1)]<<h%4*2,f=d[a.charCodeAt(h)]>>>6-h%4*2,m=p|f;c[u>>>2]|=m<<24-u%4*8,u++}return i.create(c,u)}}(),e.enc.Base64url})});var Hh=An((V3,uQ)=>{"use strict";(function(e,t){typeof V3=="object"?uQ.exports=V3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(V3,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[];(function(){for(var p=0;p<64;p++)a[p]=t.abs(t.sin(p+1))*4294967296|0})();var l=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,f){for(var m=0;m<16;m++){var g=f+m,v=p[g];p[g]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var w=this._hash.words,E=p[f+0],T=p[f+1],F=p[f+2],k=p[f+3],L=p[f+4],V=p[f+5],j=p[f+6],z=p[f+7],R=p[f+8],I=p[f+9],N=p[f+10],b=p[f+11],C=p[f+12],x=p[f+13],_=p[f+14],D=p[f+15],M=w[0],O=w[1],U=w[2],G=w[3];M=d(M,O,U,G,E,7,a[0]),G=d(G,M,O,U,T,12,a[1]),U=d(U,G,M,O,F,17,a[2]),O=d(O,U,G,M,k,22,a[3]),M=d(M,O,U,G,L,7,a[4]),G=d(G,M,O,U,V,12,a[5]),U=d(U,G,M,O,j,17,a[6]),O=d(O,U,G,M,z,22,a[7]),M=d(M,O,U,G,R,7,a[8]),G=d(G,M,O,U,I,12,a[9]),U=d(U,G,M,O,N,17,a[10]),O=d(O,U,G,M,b,22,a[11]),M=d(M,O,U,G,C,7,a[12]),G=d(G,M,O,U,x,12,a[13]),U=d(U,G,M,O,_,17,a[14]),O=d(O,U,G,M,D,22,a[15]),M=c(M,O,U,G,T,5,a[16]),G=c(G,M,O,U,j,9,a[17]),U=c(U,G,M,O,b,14,a[18]),O=c(O,U,G,M,E,20,a[19]),M=c(M,O,U,G,V,5,a[20]),G=c(G,M,O,U,N,9,a[21]),U=c(U,G,M,O,D,14,a[22]),O=c(O,U,G,M,L,20,a[23]),M=c(M,O,U,G,I,5,a[24]),G=c(G,M,O,U,_,9,a[25]),U=c(U,G,M,O,k,14,a[26]),O=c(O,U,G,M,R,20,a[27]),M=c(M,O,U,G,x,5,a[28]),G=c(G,M,O,U,F,9,a[29]),U=c(U,G,M,O,z,14,a[30]),O=c(O,U,G,M,C,20,a[31]),M=u(M,O,U,G,V,4,a[32]),G=u(G,M,O,U,R,11,a[33]),U=u(U,G,M,O,b,16,a[34]),O=u(O,U,G,M,_,23,a[35]),M=u(M,O,U,G,T,4,a[36]),G=u(G,M,O,U,L,11,a[37]),U=u(U,G,M,O,z,16,a[38]),O=u(O,U,G,M,N,23,a[39]),M=u(M,O,U,G,x,4,a[40]),G=u(G,M,O,U,E,11,a[41]),U=u(U,G,M,O,k,16,a[42]),O=u(O,U,G,M,j,23,a[43]),M=u(M,O,U,G,I,4,a[44]),G=u(G,M,O,U,C,11,a[45]),U=u(U,G,M,O,D,16,a[46]),O=u(O,U,G,M,F,23,a[47]),M=h(M,O,U,G,E,6,a[48]),G=h(G,M,O,U,z,10,a[49]),U=h(U,G,M,O,_,15,a[50]),O=h(O,U,G,M,V,21,a[51]),M=h(M,O,U,G,C,6,a[52]),G=h(G,M,O,U,k,10,a[53]),U=h(U,G,M,O,N,15,a[54]),O=h(O,U,G,M,T,21,a[55]),M=h(M,O,U,G,R,6,a[56]),G=h(G,M,O,U,D,10,a[57]),U=h(U,G,M,O,j,15,a[58]),O=h(O,U,G,M,x,21,a[59]),M=h(M,O,U,G,L,6,a[60]),G=h(G,M,O,U,b,10,a[61]),U=h(U,G,M,O,F,15,a[62]),O=h(O,U,G,M,I,21,a[63]),w[0]=w[0]+M|0,w[1]=w[1]+O|0,w[2]=w[2]+U|0,w[3]=w[3]+G|0},_doFinalize:function(){var p=this._data,f=p.words,m=this._nDataBytes*8,g=p.sigBytes*8;f[g>>>5]|=128<<24-g%32;var v=t.floor(m/4294967296),w=m;f[(g+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,f[(g+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,p.sigBytes=(f.length+1)*4,this._process();for(var E=this._hash,T=E.words,F=0;F<4;F++){var k=T[F];T[F]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return E},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});function d(p,f,m,g,v,w,E){var T=p+(f&m|~f&g)+v+E;return(T<<w|T>>>32-w)+f}function c(p,f,m,g,v,w,E){var T=p+(f&g|m&~g)+v+E;return(T<<w|T>>>32-w)+f}function u(p,f,m,g,v,w,E){var T=p+(f^m^g)+v+E;return(T<<w|T>>>32-w)+f}function h(p,f,m,g,v,w,E){var T=p+(m^(f|~g))+v+E;return(T<<w|T>>>32-w)+f}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5})});var x5=An((H3,hQ)=>{"use strict";(function(e,t){typeof H3=="object"?hQ.exports=H3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(H3,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.algo,s=[],a=o.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,d){for(var c=this._hash.words,u=c[0],h=c[1],p=c[2],f=c[3],m=c[4],g=0;g<80;g++){if(g<16)s[g]=l[d+g]|0;else{var v=s[g-3]^s[g-8]^s[g-14]^s[g-16];s[g]=v<<1|v>>>31}var w=(u<<5|u>>>27)+m+s[g];g<20?w+=(h&p|~h&f)+1518500249:g<40?w+=(h^p^f)+1859775393:g<60?w+=(h&p|h&f|p&f)-1894007588:w+=(h^p^f)-899497514,m=f,f=p,p=h<<30|h>>>2,h=u,u=w}c[0]=c[0]+u|0,c[1]=c[1]+h|0,c[2]=c[2]+p|0,c[3]=c[3]+f|0,c[4]=c[4]+m|0},_doFinalize:function(){var l=this._data,d=l.words,c=this._nDataBytes*8,u=l.sigBytes*8;return d[u>>>5]|=128<<24-u%32,d[(u+64>>>9<<4)+14]=Math.floor(c/4294967296),d[(u+64>>>9<<4)+15]=c,l.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var l=r.clone.call(this);return l._hash=this._hash.clone(),l}});t.SHA1=r._createHelper(a),t.HmacSHA1=r._createHmacHelper(a)}(),e.SHA1})});var j3=An((z3,fQ)=>{"use strict";(function(e,t){typeof z3=="object"?fQ.exports=z3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(z3,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[],l=[];(function(){function u(m){for(var g=t.sqrt(m),v=2;v<=g;v++)if(!(m%v))return!1;return!0}function h(m){return(m-(m|0))*4294967296|0}for(var p=2,f=0;f<64;)u(p)&&(f<8&&(a[f]=h(t.pow(p,1/2))),l[f]=h(t.pow(p,1/3)),f++),p++})();var d=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(u,h){for(var p=this._hash.words,f=p[0],m=p[1],g=p[2],v=p[3],w=p[4],E=p[5],T=p[6],F=p[7],k=0;k<64;k++){if(k<16)d[k]=u[h+k]|0;else{var L=d[k-15],V=(L<<25|L>>>7)^(L<<14|L>>>18)^L>>>3,j=d[k-2],z=(j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10;d[k]=V+d[k-7]+z+d[k-16]}var R=w&E^~w&T,I=f&m^f&g^m&g,N=(f<<30|f>>>2)^(f<<19|f>>>13)^(f<<10|f>>>22),b=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),C=F+b+R+l[k]+d[k],x=N+I;F=T,T=E,E=w,w=v+C|0,v=g,g=m,m=f,f=C+x|0}p[0]=p[0]+f|0,p[1]=p[1]+m|0,p[2]=p[2]+g|0,p[3]=p[3]+v|0,p[4]=p[4]+w|0,p[5]=p[5]+E|0,p[6]=p[6]+T|0,p[7]=p[7]+F|0},_doFinalize:function(){var u=this._data,h=u.words,p=this._nDataBytes*8,f=u.sigBytes*8;return h[f>>>5]|=128<<24-f%32,h[(f+64>>>9<<4)+14]=t.floor(p/4294967296),h[(f+64>>>9<<4)+15]=p,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA256=o._createHelper(c),n.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256})});var mQ=An((G3,pQ)=>{"use strict";(function(e,t,n){typeof G3=="object"?pQ.exports=G3=t(oi(),j3()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(G3,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=t.algo,o=r.SHA256,s=r.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=o._doFinalize.call(this);return a.sigBytes-=4,a}});t.SHA224=o._createHelper(s),t.HmacSHA224=o._createHmacHelper(s)}(),e.SHA224})});var S5=An((U3,gQ)=>{"use strict";(function(e,t,n){typeof U3=="object"?gQ.exports=U3=t(oi(),Vw()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(U3,function(e){return function(){var t=e,n=t.lib,i=n.Hasher,r=t.x64,o=r.Word,s=r.WordArray,a=t.algo;function l(){return o.create.apply(o,arguments)}var d=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],c=[];(function(){for(var h=0;h<80;h++)c[h]=l()})();var u=a.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(h,p){for(var f=this._hash.words,m=f[0],g=f[1],v=f[2],w=f[3],E=f[4],T=f[5],F=f[6],k=f[7],L=m.high,V=m.low,j=g.high,z=g.low,R=v.high,I=v.low,N=w.high,b=w.low,C=E.high,x=E.low,_=T.high,D=T.low,M=F.high,O=F.low,U=k.high,G=k.low,Y=L,B=V,K=j,A=z,P=R,W=I,Q=N,se=b,ne=C,ie=x,ye=_,ve=D,ee=M,fe=O,de=U,he=G,Ce=0;Ce<80;Ce++){var _e,xe,ze=c[Ce];if(Ce<16)xe=ze.high=h[p+Ce*2]|0,_e=ze.low=h[p+Ce*2+1]|0;else{var Ve=c[Ce-15],Ze=Ve.high,mt=Ve.low,Ue=(Ze>>>1|mt<<31)^(Ze>>>8|mt<<24)^Ze>>>7,nt=(mt>>>1|Ze<<31)^(mt>>>8|Ze<<24)^(mt>>>7|Ze<<25),on=c[Ce-2],bt=on.high,Me=on.low,be=(bt>>>19|Me<<13)^(bt<<3|Me>>>29)^bt>>>6,ge=(Me>>>19|bt<<13)^(Me<<3|bt>>>29)^(Me>>>6|bt<<26),Ie=c[Ce-7],ct=Ie.high,tt=Ie.low,vt=c[Ce-16],tr=vt.high,xt=vt.low;_e=nt+tt,xe=Ue+ct+(_e>>>0<nt>>>0?1:0),_e=_e+ge,xe=xe+be+(_e>>>0<ge>>>0?1:0),_e=_e+xt,xe=xe+tr+(_e>>>0<xt>>>0?1:0),ze.high=xe,ze.low=_e}var wt=ne&ye^~ne&ee,Sn=ie&ve^~ie&fe,At=Y&K^Y&P^K&P,Yt=B&A^B&W^A&W,Hi=(Y>>>28|B<<4)^(Y<<30|B>>>2)^(Y<<25|B>>>7),Ut=(B>>>28|Y<<4)^(B<<30|Y>>>2)^(B<<25|Y>>>7),Mt=(ne>>>14|ie<<18)^(ne>>>18|ie<<14)^(ne<<23|ie>>>9),pi=(ie>>>14|ne<<18)^(ie>>>18|ne<<14)^(ie<<23|ne>>>9),Ot=d[Ce],Ft=Ot.high,hi=Ot.low,St=he+pi,ue=de+Mt+(St>>>0<he>>>0?1:0),St=St+Sn,ue=ue+wt+(St>>>0<Sn>>>0?1:0),St=St+hi,ue=ue+Ft+(St>>>0<hi>>>0?1:0),St=St+_e,ue=ue+xe+(St>>>0<_e>>>0?1:0),Ee=Ut+Yt,ke=Hi+At+(Ee>>>0<Ut>>>0?1:0);de=ee,he=fe,ee=ye,fe=ve,ye=ne,ve=ie,ie=se+St|0,ne=Q+ue+(ie>>>0<se>>>0?1:0)|0,Q=P,se=W,P=K,W=A,K=Y,A=B,B=St+Ee|0,Y=ue+ke+(B>>>0<St>>>0?1:0)|0}V=m.low=V+B,m.high=L+Y+(V>>>0<B>>>0?1:0),z=g.low=z+A,g.high=j+K+(z>>>0<A>>>0?1:0),I=v.low=I+W,v.high=R+P+(I>>>0<W>>>0?1:0),b=w.low=b+se,w.high=N+Q+(b>>>0<se>>>0?1:0),x=E.low=x+ie,E.high=C+ne+(x>>>0<ie>>>0?1:0),D=T.low=D+ve,T.high=_+ye+(D>>>0<ve>>>0?1:0),O=F.low=O+fe,F.high=M+ee+(O>>>0<fe>>>0?1:0),G=k.low=G+he,k.high=U+de+(G>>>0<he>>>0?1:0)},_doFinalize:function(){var h=this._data,p=h.words,f=this._nDataBytes*8,m=h.sigBytes*8;p[m>>>5]|=128<<24-m%32,p[(m+128>>>10<<5)+30]=Math.floor(f/4294967296),p[(m+128>>>10<<5)+31]=f,h.sigBytes=p.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});t.SHA512=i._createHelper(u),t.HmacSHA512=i._createHmacHelper(u)}(),e.SHA512})});var bQ=An((W3,vQ)=>{"use strict";(function(e,t,n){typeof W3=="object"?vQ.exports=W3=t(oi(),Vw(),S5()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(W3,function(e){return function(){var t=e,n=t.x64,i=n.Word,r=n.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=s._doFinalize.call(this);return l.sigBytes-=16,l}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384})});var wQ=An(($3,yQ)=>{"use strict";(function(e,t,n){typeof $3=="object"?yQ.exports=$3=t(oi(),Vw()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})($3,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.x64,a=s.Word,l=n.algo,d=[],c=[],u=[];(function(){for(var f=1,m=0,g=0;g<24;g++){d[f+5*m]=(g+1)*(g+2)/2%64;var v=m%5,w=(2*f+3*m)%5;f=v,m=w}for(var f=0;f<5;f++)for(var m=0;m<5;m++)c[f+5*m]=m+(2*f+3*m)%5*5;for(var E=1,T=0;T<24;T++){for(var F=0,k=0,L=0;L<7;L++){if(E&1){var V=(1<<L)-1;V<32?k^=1<<V:F^=1<<V-32}E&128?E=E<<1^113:E<<=1}u[T]=a.create(F,k)}})();var h=[];(function(){for(var f=0;f<25;f++)h[f]=a.create()})();var p=l.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var f=this._state=[],m=0;m<25;m++)f[m]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(f,m){for(var g=this._state,v=this.blockSize/2,w=0;w<v;w++){var E=f[m+2*w],T=f[m+2*w+1];E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360;var F=g[w];F.high^=T,F.low^=E}for(var k=0;k<24;k++){for(var L=0;L<5;L++){for(var V=0,j=0,z=0;z<5;z++){var F=g[L+5*z];V^=F.high,j^=F.low}var R=h[L];R.high=V,R.low=j}for(var L=0;L<5;L++)for(var I=h[(L+4)%5],N=h[(L+1)%5],b=N.high,C=N.low,V=I.high^(b<<1|C>>>31),j=I.low^(C<<1|b>>>31),z=0;z<5;z++){var F=g[L+5*z];F.high^=V,F.low^=j}for(var x=1;x<25;x++){var V,j,F=g[x],_=F.high,D=F.low,M=d[x];M<32?(V=_<<M|D>>>32-M,j=D<<M|_>>>32-M):(V=D<<M-32|_>>>64-M,j=_<<M-32|D>>>64-M);var O=h[c[x]];O.high=V,O.low=j}var U=h[0],G=g[0];U.high=G.high,U.low=G.low;for(var L=0;L<5;L++)for(var z=0;z<5;z++){var x=L+5*z,F=g[x],Y=h[x],B=h[(L+1)%5+5*z],K=h[(L+2)%5+5*z];F.high=Y.high^~B.high&K.high,F.low=Y.low^~B.low&K.low}var F=g[0],A=u[k];F.high^=A.high,F.low^=A.low}},_doFinalize:function(){var f=this._data,m=f.words,g=this._nDataBytes*8,v=f.sigBytes*8,w=this.blockSize*32;m[v>>>5]|=1<<24-v%32,m[(t.ceil((v+1)/w)*w>>>5)-1]|=128,f.sigBytes=m.length*4,this._process();for(var E=this._state,T=this.cfg.outputLength/8,F=T/8,k=[],L=0;L<F;L++){var V=E[L],j=V.high,z=V.low;j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,k.push(z),k.push(j)}return new r.init(k,T)},clone:function(){for(var f=o.clone.call(this),m=f._state=this._state.slice(0),g=0;g<25;g++)m[g]=m[g].clone();return f}});n.SHA3=o._createHelper(p),n.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var _Q=An((q3,CQ)=>{"use strict";(function(e,t){typeof q3=="object"?CQ.exports=q3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(q3,function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=r.create([0,1518500249,1859775393,2400959708,2840853838]),h=r.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(T,F){for(var k=0;k<16;k++){var L=F+k,V=T[L];T[L]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var j=this._hash.words,z=u.words,R=h.words,I=a.words,N=l.words,b=d.words,C=c.words,x,_,D,M,O,U,G,Y,B,K;U=x=j[0],G=_=j[1],Y=D=j[2],B=M=j[3],K=O=j[4];for(var A,k=0;k<80;k+=1)A=x+T[F+I[k]]|0,k<16?A+=f(_,D,M)+z[0]:k<32?A+=m(_,D,M)+z[1]:k<48?A+=g(_,D,M)+z[2]:k<64?A+=v(_,D,M)+z[3]:A+=w(_,D,M)+z[4],A=A|0,A=E(A,b[k]),A=A+O|0,x=O,O=M,M=E(D,10),D=_,_=A,A=U+T[F+N[k]]|0,k<16?A+=w(G,Y,B)+R[0]:k<32?A+=v(G,Y,B)+R[1]:k<48?A+=g(G,Y,B)+R[2]:k<64?A+=m(G,Y,B)+R[3]:A+=f(G,Y,B)+R[4],A=A|0,A=E(A,C[k]),A=A+K|0,U=K,K=B,B=E(Y,10),Y=G,G=A;A=j[1]+D+B|0,j[1]=j[2]+M+K|0,j[2]=j[3]+O+U|0,j[3]=j[4]+x+G|0,j[4]=j[0]+_+Y|0,j[0]=A},_doFinalize:function(){var T=this._data,F=T.words,k=this._nDataBytes*8,L=T.sigBytes*8;F[L>>>5]|=128<<24-L%32,F[(L+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,T.sigBytes=(F.length+1)*4,this._process();for(var V=this._hash,j=V.words,z=0;z<5;z++){var R=j[z];j[z]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return V},clone:function(){var T=o.clone.call(this);return T._hash=this._hash.clone(),T}});function f(T,F,k){return T^F^k}function m(T,F,k){return T&F|~T&k}function g(T,F,k){return(T|~F)^k}function v(T,F,k){return T&k|F&~k}function w(T,F,k){return T^(F|~k)}function E(T,F){return T<<F|T>>>32-F}n.RIPEMD160=o._createHelper(p),n.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var Y3=An((K3,xQ)=>{"use strict";(function(e,t){typeof K3=="object"?xQ.exports=K3=t(oi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(K3,function(e){(function(){var t=e,n=t.lib,i=n.Base,r=t.enc,o=r.Utf8,s=t.algo,a=s.HMAC=i.extend({init:function(l,d){l=this._hasher=new l.init,typeof d=="string"&&(d=o.parse(d));var c=l.blockSize,u=c*4;d.sigBytes>u&&(d=l.finalize(d)),d.clamp();for(var h=this._oKey=d.clone(),p=this._iKey=d.clone(),f=h.words,m=p.words,g=0;g<c;g++)f[g]^=1549556828,m[g]^=909522486;h.sigBytes=p.sigBytes=u,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var d=this._hasher,c=d.finalize(l);d.reset();var u=d.finalize(this._oKey.clone().concat(c));return u}})})()})});var EQ=An((X3,SQ)=>{"use strict";(function(e,t,n){typeof X3=="object"?SQ.exports=X3=t(oi(),j3(),Y3()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(X3,function(e){return function(){var t=e,n=t.lib,i=n.Base,r=n.WordArray,o=t.algo,s=o.SHA256,a=o.HMAC,l=o.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,c){for(var u=this.cfg,h=a.create(u.hasher,d),p=r.create(),f=r.create([1]),m=p.words,g=f.words,v=u.keySize,w=u.iterations;m.length<v;){var E=h.update(c).finalize(f);h.reset();for(var T=E.words,F=T.length,k=E,L=1;L<w;L++){k=h.finalize(k),h.reset();for(var V=k.words,j=0;j<F;j++)T[j]^=V[j]}p.concat(E),g[0]++}return p.sigBytes=v*4,p}});t.PBKDF2=function(d,c,u){return l.create(u).compute(d,c)}}(),e.PBKDF2})});var ou=An((Z3,DQ)=>{"use strict";(function(e,t,n){typeof Z3=="object"?DQ.exports=Z3=t(oi(),x5(),Y3()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Z3,function(e){return function(){var t=e,n=t.lib,i=n.Base,r=n.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var c,u=this.cfg,h=u.hasher.create(),p=r.create(),f=p.words,m=u.keySize,g=u.iterations;f.length<m;){c&&h.update(c),c=h.update(l).finalize(d),h.reset();for(var v=1;v<g;v++)c=h.finalize(c),h.reset();p.concat(c)}return p.sigBytes=m*4,p}});t.EvpKDF=function(l,d,c){return a.create(c).compute(l,d)}}(),e.EvpKDF})});var ao=An((Q3,RQ)=>{"use strict";(function(e,t,n){typeof Q3=="object"?RQ.exports=Q3=t(oi(),ou()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(Q3,function(e){e.lib.Cipher||function(t){var n=e,i=n.lib,r=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,a=n.enc,l=a.Utf8,d=a.Base64,c=n.algo,u=c.EvpKDF,h=i.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(R,I){return this.create(this._ENC_XFORM_MODE,R,I)},createDecryptor:function(R,I){return this.create(this._DEC_XFORM_MODE,R,I)},init:function(R,I,N){this.cfg=this.cfg.extend(N),this._xformMode=R,this._key=I,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var I=this._doFinalize();return I},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(I){return typeof I=="string"?z:L}return function(I){return{encrypt:function(N,b,C){return R(b).encrypt(I,N,b,C)},decrypt:function(N,b,C){return R(b).decrypt(I,N,b,C)}}}}()}),p=i.StreamCipher=h.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1}),f=n.mode={},m=i.BlockCipherMode=r.extend({createEncryptor:function(R,I){return this.Encryptor.create(R,I)},createDecryptor:function(R,I){return this.Decryptor.create(R,I)},init:function(R,I){this._cipher=R,this._iv=I}}),g=f.CBC=function(){var R=m.extend();R.Encryptor=R.extend({processBlock:function(N,b){var C=this._cipher,x=C.blockSize;I.call(this,N,b,x),C.encryptBlock(N,b),this._prevBlock=N.slice(b,b+x)}}),R.Decryptor=R.extend({processBlock:function(N,b){var C=this._cipher,x=C.blockSize,_=N.slice(b,b+x);C.decryptBlock(N,b),I.call(this,N,b,x),this._prevBlock=_}});function I(N,b,C){var x,_=this._iv;_?(x=_,this._iv=t):x=this._prevBlock;for(var D=0;D<C;D++)N[b+D]^=x[D]}return R}(),v=n.pad={},w=v.Pkcs7={pad:function(R,I){for(var N=I*4,b=N-R.sigBytes%N,C=b<<24|b<<16|b<<8|b,x=[],_=0;_<b;_+=4)x.push(C);var D=o.create(x,b);R.concat(D)},unpad:function(R){var I=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=I}},E=i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:w}),reset:function(){var R;h.reset.call(this);var I=this.cfg,N=I.iv,b=I.mode;this._xformMode==this._ENC_XFORM_MODE?R=b.createEncryptor:(R=b.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,N&&N.words):(this._mode=R.call(b,this,N&&N.words),this._mode.__creator=R)},_doProcessBlock:function(R,I){this._mode.processBlock(R,I)},_doFinalize:function(){var R,I=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(I.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),I.unpad(R)),R},blockSize:128/32}),T=i.CipherParams=r.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),F=n.format={},k=F.OpenSSL={stringify:function(R){var I,N=R.ciphertext,b=R.salt;return b?I=o.create([1398893684,1701076831]).concat(b).concat(N):I=N,I.toString(d)},parse:function(R){var I,N=d.parse(R),b=N.words;return b[0]==1398893684&&b[1]==1701076831&&(I=o.create(b.slice(2,4)),b.splice(0,4),N.sigBytes-=16),T.create({ciphertext:N,salt:I})}},L=i.SerializableCipher=r.extend({cfg:r.extend({format:k}),encrypt:function(R,I,N,b){b=this.cfg.extend(b);var C=R.createEncryptor(N,b),x=C.finalize(I),_=C.cfg;return T.create({ciphertext:x,key:N,iv:_.iv,algorithm:R,mode:_.mode,padding:_.padding,blockSize:R.blockSize,formatter:b.format})},decrypt:function(R,I,N,b){b=this.cfg.extend(b),I=this._parse(I,b.format);var C=R.createDecryptor(N,b).finalize(I.ciphertext);return C},_parse:function(R,I){return typeof R=="string"?I.parse(R,this):R}}),V=n.kdf={},j=V.OpenSSL={execute:function(R,I,N,b,C){if(b||(b=o.random(64/8)),C)var x=u.create({keySize:I+N,hasher:C}).compute(R,b);else var x=u.create({keySize:I+N}).compute(R,b);var _=o.create(x.words.slice(I),N*4);return x.sigBytes=I*4,T.create({key:x,iv:_,salt:b})}},z=i.PasswordBasedCipher=L.extend({cfg:L.cfg.extend({kdf:j}),encrypt:function(R,I,N,b){b=this.cfg.extend(b);var C=b.kdf.execute(N,R.keySize,R.ivSize,b.salt,b.hasher);b.iv=C.iv;var x=L.encrypt.call(this,R,I,C.key,b);return x.mixIn(C),x},decrypt:function(R,I,N,b){b=this.cfg.extend(b),I=this._parse(I,b.format);var C=b.kdf.execute(N,R.keySize,R.ivSize,I.salt,b.hasher);b.iv=C.iv;var x=L.decrypt.call(this,R,I,C.key,b);return x}})}()})});var TQ=An((J3,MQ)=>{"use strict";(function(e,t,n){typeof J3=="object"?MQ.exports=J3=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(J3,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize;n.call(this,i,r,s,o),this._prevBlock=i.slice(r,r+s)}}),t.Decryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=i.slice(r,r+s);n.call(this,i,r,s,o),this._prevBlock=a}});function n(i,r,o,s){var a,l=this._iv;l?(a=l.slice(0),this._iv=void 0):a=this._prevBlock,s.encryptBlock(a,0);for(var d=0;d<o;d++)i[r+d]^=a[d]}return t}(),e.mode.CFB})});var kQ=An((eD,IQ)=>{"use strict";(function(e,t,n){typeof eD=="object"?IQ.exports=eD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(eD,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=this._iv,l=this._counter;a&&(l=this._counter=a.slice(0),this._iv=void 0);var d=l.slice(0);o.encryptBlock(d,0),l[s-1]=l[s-1]+1|0;for(var c=0;c<s;c++)i[r+c]^=d[c]}});return t.Decryptor=n,t}(),e.mode.CTR})});var FQ=An((tD,AQ)=>{"use strict";(function(e,t,n){typeof tD=="object"?AQ.exports=tD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(tD,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(o){if((o>>24&255)===255){var s=o>>16&255,a=o>>8&255,l=o&255;s===255?(s=0,a===255?(a=0,l===255?l=0:++l):++a):++s,o=0,o+=s<<16,o+=a<<8,o+=l}else o+=1<<24;return o}function i(o){return(o[0]=n(o[0]))===0&&(o[1]=n(o[1])),o}var r=t.Encryptor=t.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,d=this._iv,c=this._counter;d&&(c=this._counter=d.slice(0),this._iv=void 0),i(c);var u=c.slice(0);a.encryptBlock(u,0);for(var h=0;h<l;h++)o[s+h]^=u[h]}});return t.Decryptor=r,t}(),e.mode.CTRGladman})});var OQ=An((nD,PQ)=>{"use strict";(function(e,t,n){typeof nD=="object"?PQ.exports=nD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(nD,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(i,r){var o=this._cipher,s=o.blockSize,a=this._iv,l=this._keystream;a&&(l=this._keystream=a.slice(0),this._iv=void 0),o.encryptBlock(l,0);for(var d=0;d<s;d++)i[r+d]^=l[d]}});return t.Decryptor=n,t}(),e.mode.OFB})});var NQ=An((iD,LQ)=>{"use strict";(function(e,t,n){typeof iD=="object"?LQ.exports=iD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(iD,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(n,i){this._cipher.encryptBlock(n,i)}}),t.Decryptor=t.extend({processBlock:function(n,i){this._cipher.decryptBlock(n,i)}}),t}(),e.mode.ECB})});var VQ=An((rD,BQ)=>{"use strict";(function(e,t,n){typeof rD=="object"?BQ.exports=rD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(rD,function(e){return e.pad.AnsiX923={pad:function(t,n){var i=t.sigBytes,r=n*4,o=r-i%r,s=i+o-1;t.clamp(),t.words[s>>>2]|=o<<24-s%4*8,t.sigBytes+=o},unpad:function(t){var n=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=n}},e.pad.Ansix923})});var zQ=An((oD,HQ)=>{"use strict";(function(e,t,n){typeof oD=="object"?HQ.exports=oD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(oD,function(e){return e.pad.Iso10126={pad:function(t,n){var i=n*4,r=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(t){var n=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=n}},e.pad.Iso10126})});var GQ=An((sD,jQ)=>{"use strict";(function(e,t,n){typeof sD=="object"?jQ.exports=sD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(sD,function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var WQ=An((aD,UQ)=>{"use strict";(function(e,t,n){typeof aD=="object"?UQ.exports=aD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(aD,function(e){return e.pad.ZeroPadding={pad:function(t,n){var i=n*4;t.clamp(),t.sigBytes+=i-(t.sigBytes%i||i)},unpad:function(t){for(var n=t.words,i=t.sigBytes-1,i=t.sigBytes-1;i>=0;i--)if(n[i>>>2]>>>24-i%4*8&255){t.sigBytes=i+1;break}}},e.pad.ZeroPadding})});var qQ=An((lD,$Q)=>{"use strict";(function(e,t,n){typeof lD=="object"?$Q.exports=lD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(lD,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var YQ=An((cD,KQ)=>{"use strict";(function(e,t,n){typeof cD=="object"?KQ.exports=cD=t(oi(),ao()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(cD,function(e){return function(t){var n=e,i=n.lib,r=i.CipherParams,o=n.enc,s=o.Hex,a=n.format,l=a.Hex={stringify:function(d){return d.ciphertext.toString(s)},parse:function(d){var c=s.parse(d);return r.create({ciphertext:c})}}}(),e.format.Hex})});var ZQ=An((dD,XQ)=>{"use strict";(function(e,t,n){typeof dD=="object"?XQ.exports=dD=t(oi(),Vh(),Hh(),ou(),ao()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(dD,function(e){return function(){var t=e,n=t.lib,i=n.BlockCipher,r=t.algo,o=[],s=[],a=[],l=[],d=[],c=[],u=[],h=[],p=[],f=[];(function(){for(var v=[],w=0;w<256;w++)w<128?v[w]=w<<1:v[w]=w<<1^283;for(var E=0,T=0,w=0;w<256;w++){var F=T^T<<1^T<<2^T<<3^T<<4;F=F>>>8^F&255^99,o[E]=F,s[F]=E;var k=v[E],L=v[k],V=v[L],j=v[F]*257^F*16843008;a[E]=j<<24|j>>>8,l[E]=j<<16|j>>>16,d[E]=j<<8|j>>>24,c[E]=j;var j=V*16843009^L*65537^k*257^E*16843008;u[F]=j<<24|j>>>8,h[F]=j<<16|j>>>16,p[F]=j<<8|j>>>24,f[F]=j,E?(E=k^v[v[v[V^k]]],T^=v[v[T]]):E=T=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=i.extend({_doReset:function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,E=w.words,T=w.sigBytes/4,F=this._nRounds=T+6,k=(F+1)*4,L=this._keySchedule=[],V=0;V<k;V++)V<T?L[V]=E[V]:(v=L[V-1],V%T?T>6&&V%T==4&&(v=o[v>>>24]<<24|o[v>>>16&255]<<16|o[v>>>8&255]<<8|o[v&255]):(v=v<<8|v>>>24,v=o[v>>>24]<<24|o[v>>>16&255]<<16|o[v>>>8&255]<<8|o[v&255],v^=m[V/T|0]<<24),L[V]=L[V-T]^v);for(var j=this._invKeySchedule=[],z=0;z<k;z++){var V=k-z;if(z%4)var v=L[V];else var v=L[V-4];z<4||V<=4?j[z]=v:j[z]=u[o[v>>>24]]^h[o[v>>>16&255]]^p[o[v>>>8&255]]^f[o[v&255]]}}},encryptBlock:function(v,w){this._doCryptBlock(v,w,this._keySchedule,a,l,d,c,o)},decryptBlock:function(v,w){var E=v[w+1];v[w+1]=v[w+3],v[w+3]=E,this._doCryptBlock(v,w,this._invKeySchedule,u,h,p,f,s);var E=v[w+1];v[w+1]=v[w+3],v[w+3]=E},_doCryptBlock:function(v,w,E,T,F,k,L,V){for(var j=this._nRounds,z=v[w]^E[0],R=v[w+1]^E[1],I=v[w+2]^E[2],N=v[w+3]^E[3],b=4,C=1;C<j;C++){var x=T[z>>>24]^F[R>>>16&255]^k[I>>>8&255]^L[N&255]^E[b++],_=T[R>>>24]^F[I>>>16&255]^k[N>>>8&255]^L[z&255]^E[b++],D=T[I>>>24]^F[N>>>16&255]^k[z>>>8&255]^L[R&255]^E[b++],M=T[N>>>24]^F[z>>>16&255]^k[R>>>8&255]^L[I&255]^E[b++];z=x,R=_,I=D,N=M}var x=(V[z>>>24]<<24|V[R>>>16&255]<<16|V[I>>>8&255]<<8|V[N&255])^E[b++],_=(V[R>>>24]<<24|V[I>>>16&255]<<16|V[N>>>8&255]<<8|V[z&255])^E[b++],D=(V[I>>>24]<<24|V[N>>>16&255]<<16|V[z>>>8&255]<<8|V[R&255])^E[b++],M=(V[N>>>24]<<24|V[z>>>16&255]<<16|V[R>>>8&255]<<8|V[I&255])^E[b++];v[w]=x,v[w+1]=_,v[w+2]=D,v[w+3]=M},keySize:256/32});t.AES=i._createHelper(g)}(),e.AES})});var JQ=An((uD,QQ)=>{"use strict";(function(e,t,n){typeof uD=="object"?QQ.exports=uD=t(oi(),Vh(),Hh(),ou(),ao()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(uD,function(e){return function(){var t=e,n=t.lib,i=n.WordArray,r=n.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o.DES=r.extend({_doReset:function(){for(var m=this._key,g=m.words,v=[],w=0;w<56;w++){var E=s[w]-1;v[w]=g[E>>>5]>>>31-E%32&1}for(var T=this._subKeys=[],F=0;F<16;F++){for(var k=T[F]=[],L=l[F],w=0;w<24;w++)k[w/6|0]|=v[(a[w]-1+L)%28]<<31-w%6,k[4+(w/6|0)]|=v[28+(a[w+24]-1+L)%28]<<31-w%6;k[0]=k[0]<<1|k[0]>>>31;for(var w=1;w<7;w++)k[w]=k[w]>>>(w-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var V=this._invSubKeys=[],w=0;w<16;w++)V[w]=T[15-w]},encryptBlock:function(m,g){this._doCryptBlock(m,g,this._subKeys)},decryptBlock:function(m,g){this._doCryptBlock(m,g,this._invSubKeys)},_doCryptBlock:function(m,g,v){this._lBlock=m[g],this._rBlock=m[g+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var w=0;w<16;w++){for(var E=v[w],T=this._lBlock,F=this._rBlock,k=0,L=0;L<8;L++)k|=d[L][((F^E[L])&c[L])>>>0];this._lBlock=F,this._rBlock=T^k}var V=this._lBlock;this._lBlock=this._rBlock,this._rBlock=V,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),m[g]=this._lBlock,m[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(m,g){var v=(this._lBlock>>>m^this._rBlock)&g;this._rBlock^=v,this._lBlock^=v<<m}function p(m,g){var v=(this._rBlock>>>m^this._lBlock)&g;this._lBlock^=v,this._rBlock^=v<<m}t.DES=r._createHelper(u);var f=o.TripleDES=r.extend({_doReset:function(){var m=this._key,g=m.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=g.slice(0,2),w=g.length<4?g.slice(0,2):g.slice(2,4),E=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=u.createEncryptor(i.create(v)),this._des2=u.createEncryptor(i.create(w)),this._des3=u.createEncryptor(i.create(E))},encryptBlock:function(m,g){this._des1.encryptBlock(m,g),this._des2.decryptBlock(m,g),this._des3.encryptBlock(m,g)},decryptBlock:function(m,g){this._des3.decryptBlock(m,g),this._des2.encryptBlock(m,g),this._des1.decryptBlock(m,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=r._createHelper(f)}(),e.TripleDES})});var tJ=An((hD,eJ)=>{"use strict";(function(e,t,n){typeof hD=="object"?eJ.exports=hD=t(oi(),Vh(),Hh(),ou(),ao()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(hD,function(e){return function(){var t=e,n=t.lib,i=n.StreamCipher,r=t.algo,o=r.RC4=i.extend({_doReset:function(){for(var l=this._key,d=l.words,c=l.sigBytes,u=this._S=[],h=0;h<256;h++)u[h]=h;for(var h=0,p=0;h<256;h++){var f=h%c,m=d[f>>>2]>>>24-f%4*8&255;p=(p+u[h]+m)%256;var g=u[h];u[h]=u[p],u[p]=g}this._i=this._j=0},_doProcessBlock:function(l,d){l[d]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var l=this._S,d=this._i,c=this._j,u=0,h=0;h<4;h++){d=(d+1)%256,c=(c+l[d])%256;var p=l[d];l[d]=l[c],l[c]=p,u|=l[(l[d]+l[c])%256]<<24-h*8}return this._i=d,this._j=c,u}t.RC4=i._createHelper(o);var a=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)s.call(this)}});t.RC4Drop=i._createHelper(a)}(),e.RC4})});var iJ=An((fD,nJ)=>{"use strict";(function(e,t,n){typeof fD=="object"?nJ.exports=fD=t(oi(),Vh(),Hh(),ou(),ao()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(fD,function(e){return function(){var t=e,n=t.lib,i=n.StreamCipher,r=t.algo,o=[],s=[],a=[],l=r.Rabbit=i.extend({_doReset:function(){for(var c=this._key.words,u=this.cfg.iv,h=0;h<4;h++)c[h]=(c[h]<<8|c[h]>>>24)&16711935|(c[h]<<24|c[h]>>>8)&4278255360;var p=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],f=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var h=0;h<4;h++)d.call(this);for(var h=0;h<8;h++)f[h]^=p[h+4&7];if(u){var m=u.words,g=m[0],v=m[1],w=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,T=w>>>16|E&4294901760,F=E<<16|w&65535;f[0]^=w,f[1]^=T,f[2]^=E,f[3]^=F,f[4]^=w,f[5]^=T,f[6]^=E,f[7]^=F;for(var h=0;h<4;h++)d.call(this)}},_doProcessBlock:function(c,u){var h=this._X;d.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,c[u+p]^=o[p]},blockSize:128/32,ivSize:64/32});function d(){for(var c=this._X,u=this._C,h=0;h<8;h++)s[h]=u[h];u[0]=u[0]+1295307597+this._b|0,u[1]=u[1]+3545052371+(u[0]>>>0<s[0]>>>0?1:0)|0,u[2]=u[2]+886263092+(u[1]>>>0<s[1]>>>0?1:0)|0,u[3]=u[3]+1295307597+(u[2]>>>0<s[2]>>>0?1:0)|0,u[4]=u[4]+3545052371+(u[3]>>>0<s[3]>>>0?1:0)|0,u[5]=u[5]+886263092+(u[4]>>>0<s[4]>>>0?1:0)|0,u[6]=u[6]+1295307597+(u[5]>>>0<s[5]>>>0?1:0)|0,u[7]=u[7]+3545052371+(u[6]>>>0<s[6]>>>0?1:0)|0,this._b=u[7]>>>0<s[7]>>>0?1:0;for(var h=0;h<8;h++){var p=c[h]+u[h],f=p&65535,m=p>>>16,g=((f*f>>>17)+f*m>>>15)+m*m,v=((p&4294901760)*p|0)+((p&65535)*p|0);a[h]=g^v}c[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,c[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,c[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,c[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,c[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,c[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,c[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,c[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=i._createHelper(l)}(),e.Rabbit})});var oJ=An((pD,rJ)=>{"use strict";(function(e,t,n){typeof pD=="object"?rJ.exports=pD=t(oi(),Vh(),Hh(),ou(),ao()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(pD,function(e){return function(){var t=e,n=t.lib,i=n.StreamCipher,r=t.algo,o=[],s=[],a=[],l=r.RabbitLegacy=i.extend({_doReset:function(){var c=this._key.words,u=this.cfg.iv,h=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],p=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var f=0;f<4;f++)d.call(this);for(var f=0;f<8;f++)p[f]^=h[f+4&7];if(u){var m=u.words,g=m[0],v=m[1],w=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,T=w>>>16|E&4294901760,F=E<<16|w&65535;p[0]^=w,p[1]^=T,p[2]^=E,p[3]^=F,p[4]^=w,p[5]^=T,p[6]^=E,p[7]^=F;for(var f=0;f<4;f++)d.call(this)}},_doProcessBlock:function(c,u){var h=this._X;d.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,c[u+p]^=o[p]},blockSize:128/32,ivSize:64/32});function d(){for(var c=this._X,u=this._C,h=0;h<8;h++)s[h]=u[h];u[0]=u[0]+1295307597+this._b|0,u[1]=u[1]+3545052371+(u[0]>>>0<s[0]>>>0?1:0)|0,u[2]=u[2]+886263092+(u[1]>>>0<s[1]>>>0?1:0)|0,u[3]=u[3]+1295307597+(u[2]>>>0<s[2]>>>0?1:0)|0,u[4]=u[4]+3545052371+(u[3]>>>0<s[3]>>>0?1:0)|0,u[5]=u[5]+886263092+(u[4]>>>0<s[4]>>>0?1:0)|0,u[6]=u[6]+1295307597+(u[5]>>>0<s[5]>>>0?1:0)|0,u[7]=u[7]+3545052371+(u[6]>>>0<s[6]>>>0?1:0)|0,this._b=u[7]>>>0<s[7]>>>0?1:0;for(var h=0;h<8;h++){var p=c[h]+u[h],f=p&65535,m=p>>>16,g=((f*f>>>17)+f*m>>>15)+m*m,v=((p&4294901760)*p|0)+((p&65535)*p|0);a[h]=g^v}c[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,c[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,c[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,c[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,c[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,c[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,c[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,c[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=i._createHelper(l)}(),e.RabbitLegacy})});var aJ=An((mD,sJ)=>{"use strict";(function(e,t,n){typeof mD=="object"?sJ.exports=mD=t(oi(),Vh(),Hh(),ou(),ao()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(mD,function(e){return function(){var t=e,n=t.lib,i=n.BlockCipher,r=t.algo;let o=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function d(f,m){let g=m>>24&255,v=m>>16&255,w=m>>8&255,E=m&255,T=f.sbox[0][g]+f.sbox[1][v];return T=T^f.sbox[2][w],T=T+f.sbox[3][E],T}function c(f,m,g){let v=m,w=g,E;for(let T=0;T<o;++T)v=v^f.pbox[T],w=d(f,v)^w,E=v,v=w,w=E;return E=v,v=w,w=E,w=w^f.pbox[o],v=v^f.pbox[o+1],{left:v,right:w}}function u(f,m,g){let v=m,w=g,E;for(let T=o+1;T>1;--T)v=v^f.pbox[T],w=d(f,v)^w,E=v,v=w,w=E;return E=v,v=w,w=E,w=w^f.pbox[1],v=v^f.pbox[0],{left:v,right:w}}function h(f,m,g){for(let F=0;F<4;F++){f.sbox[F]=[];for(let k=0;k<256;k++)f.sbox[F][k]=a[F][k]}let v=0;for(let F=0;F<o+2;F++)f.pbox[F]=s[F]^m[v],v++,v>=g&&(v=0);let w=0,E=0,T=0;for(let F=0;F<o+2;F+=2)T=c(f,w,E),w=T.left,E=T.right,f.pbox[F]=w,f.pbox[F+1]=E;for(let F=0;F<4;F++)for(let k=0;k<256;k+=2)T=c(f,w,E),w=T.left,E=T.right,f.sbox[F][k]=w,f.sbox[F][k+1]=E;return!0}var p=r.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var f=this._keyPriorReset=this._key,m=f.words,g=f.sigBytes/4;h(l,m,g)}},encryptBlock:function(f,m){var g=c(l,f[m],f[m+1]);f[m]=g.left,f[m+1]=g.right},decryptBlock:function(f,m){var g=u(l,f[m],f[m+1]);f[m]=g.left,f[m+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=i._createHelper(p)}(),e.Blowfish})});var cJ=An((gD,lJ)=>{"use strict";(function(e,t,n){typeof gD=="object"?lJ.exports=gD=t(oi(),Vw(),oQ(),aQ(),Vh(),dQ(),Hh(),x5(),j3(),mQ(),S5(),bQ(),wQ(),_Q(),Y3(),EQ(),ou(),ao(),TQ(),kQ(),FQ(),OQ(),NQ(),VQ(),zQ(),GQ(),WQ(),qQ(),YQ(),ZQ(),JQ(),tJ(),iJ(),oJ(),aJ()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(gD,function(e){return e})});function BR(e,t){return Object.is(e,t)}var Qr=null,H1=!1,VR=1,Is=Symbol("SIGNAL");function Kn(e){let t=Qr;return Qr=e,t}function HR(){return Qr}var Jp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xv(e){if(H1)throw new Error("");if(Qr===null)return;Qr.consumerOnSignalRead(e);let t=Qr.nextProducerIndex++;if(W1(Qr),t<Qr.producerNode.length&&Qr.producerNode[t]!==e&&_v(Qr)){let n=Qr.producerNode[t];U1(n,Qr.producerIndexOfThis[t])}Qr.producerNode[t]!==e&&(Qr.producerNode[t]=e,Qr.producerIndexOfThis[t]=_v(Qr)?bL(e,Qr,t):0),Qr.producerLastReadVersion[t]=e.version}function vL(){VR++}function zR(e){if(!(_v(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===VR)){if(!e.producerMustRecompute(e)&&!G1(e)){NR(e);return}e.producerRecomputeValue(e),NR(e)}}function jR(e){if(e.liveConsumerNode===void 0)return;let t=H1;H1=!0;try{for(let n of e.liveConsumerNode)n.dirty||Roe(n)}finally{H1=t}}function GR(){return Qr?.consumerAllowSignalWrites!==!1}function Roe(e){e.dirty=!0,jR(e),e.consumerMarkedDirty?.(e)}function NR(e){e.dirty=!1,e.lastCleanEpoch=VR}function Sv(e){return e&&(e.nextProducerIndex=0),Kn(e)}function j1(e,t){if(Kn(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(_v(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)U1(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function G1(e){W1(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(zR(n),i!==n.version))return!0}return!1}function Ev(e){if(W1(e),_v(e))for(let t=0;t<e.producerNode.length;t++)U1(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function bL(e,t,n){if(yL(e),e.liveConsumerNode.length===0&&wL(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=bL(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function U1(e,t){if(yL(e),e.liveConsumerNode.length===1&&wL(e))for(let i=0;i<e.producerNode.length;i++)U1(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];W1(r),r.producerIndexOfThis[i]=t}}function _v(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function W1(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function yL(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wL(e){return e.producerNode!==void 0}function $1(e,t){let n=Object.create(Moe);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(zR(n),xv(n),n.value===z1)throw n.error;return n.value};return i[Is]=n,i}var OR=Symbol("UNSET"),LR=Symbol("COMPUTING"),z1=Symbol("ERRORED"),Moe=Le(re({},Jp),{value:OR,dirty:!0,error:null,equal:BR,kind:"computed",producerMustRecompute(e){return e.value===OR||e.value===LR},producerRecomputeValue(e){if(e.value===LR)throw new Error("Detected cycle in computations.");let t=e.value;e.value=LR;let n=Sv(e),i,r=!1;try{i=e.computation(),Kn(null),r=t!==OR&&t!==z1&&i!==z1&&e.equal(t,i)}catch(o){i=z1,e.error=o}finally{j1(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function Toe(){throw new Error}var CL=Toe;function _L(e){CL(e)}function UR(e){CL=e}var Ioe=null;function WR(e,t){let n=Object.create(q1);n.value=e,t!==void 0&&(n.equal=t);let i=()=>(xv(n),n.value);return i[Is]=n,i}function Dv(e,t){GR()||_L(e),e.equal(e.value,t)||(e.value=t,koe(e))}function $R(e,t){GR()||_L(e),Dv(e,t(e.value))}var q1=Le(re({},Jp),{equal:BR,value:void 0,kind:"signal"});function koe(e){e.version++,vL(),jR(e),Ioe?.()}function qR(e){let t=Kn(null);try{return e()}finally{Kn(t)}}var KR;function Rv(){return KR}function rd(e){let t=KR;return KR=e,t}var K1=Symbol("NotFound");function an(e){return typeof e=="function"}function em(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Y1=em(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ef(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ti=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(an(i))try{i()}catch(o){t=o instanceof Y1?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{xL(o)}catch(s){t=t??[],s instanceof Y1?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Y1(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xL(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ef(n,t)}remove(t){let{_finalizers:n}=this;n&&ef(n,t),t instanceof e&&t._removeParent(this)}};ti.EMPTY=(()=>{let e=new ti;return e.closed=!0,e})();var YR=ti.EMPTY;function X1(e){return e instanceof ti||e&&"closed"in e&&an(e.remove)&&an(e.add)&&an(e.unsubscribe)}function xL(e){an(e)?e():e.unsubscribe()}var ul={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var tm={setTimeout(e,t,...n){let{delegate:i}=tm;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=tm;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Z1(e){tm.setTimeout(()=>{let{onUnhandledError:t}=ul;if(t)t(e);else throw e})}function Mv(){}var SL=XR("C",void 0,void 0);function EL(e){return XR("E",void 0,e)}function DL(e){return XR("N",e,void 0)}function XR(e,t,n){return{kind:e,value:t,error:n}}var tf=null;function nm(e){if(ul.useDeprecatedSynchronousErrorHandling){let t=!tf;if(t&&(tf={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=tf;if(tf=null,n)throw i}}else e()}function RL(e){ul.useDeprecatedSynchronousErrorHandling&&tf&&(tf.errorThrown=!0,tf.error=e)}var nf=class extends ti{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,X1(t)&&t.add(this)):this.destination=Noe}static create(t,n,i){return new od(t,n,i)}next(t){this.isStopped?QR(DL(t),this):this._next(t)}error(t){this.isStopped?QR(EL(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?QR(SL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ooe=Function.prototype.bind;function ZR(e,t){return Ooe.call(e,t)}var JR=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Q1(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Q1(i)}else Q1(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Q1(n)}}},od=class extends nf{constructor(t,n,i){super();let r;if(an(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&ul.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ZR(t.next,o),error:t.error&&ZR(t.error,o),complete:t.complete&&ZR(t.complete,o)}):r=t}this.destination=new JR(r)}};function Q1(e){ul.useDeprecatedSynchronousErrorHandling?RL(e):Z1(e)}function Loe(e){throw e}function QR(e,t){let{onStoppedNotification:n}=ul;n&&tm.setTimeout(()=>n(e,t))}var Noe={closed:!0,next:Mv,error:Loe,complete:Mv};var im=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ls(e){return e}function eM(...e){return tM(e)}function tM(e){return e.length===0?ls:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var dn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=Voe(n)?n:new od(n,i,r);return nm(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=ML(i),new i((r,o)=>{let s=new od({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[im](){return this}pipe(...n){return tM(n)(this)}toPromise(n){return n=ML(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function ML(e){var t;return(t=e??ul.Promise)!==null&&t!==void 0?t:Promise}function Boe(e){return e&&an(e.next)&&an(e.error)&&an(e.complete)}function Voe(e){return e&&e instanceof nf||Boe(e)&&X1(e)}function nM(e){return an(e?.lift)}function Cn(e){return t=>{if(nM(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function gn(e,t,n,i,r){return new iM(e,t,n,i,r)}var iM=class extends nf{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function rm(){return Cn((e,t)=>{let n=null;e._refCount++;let i=gn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var om=class extends dn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nM(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ti;let n=this.getSubject();t.add(this.source.subscribe(gn(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ti.EMPTY)}return t}refCount(){return rm()(this)}};var TL=em(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var yt=(()=>{class e extends dn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new J1(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new TL}next(n){nm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){nm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){nm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?YR:(this.currentObservers=null,o.push(n),new ti(()=>{this.currentObservers=null,ef(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new dn;return n.source=this,n}}return e.create=(t,n)=>new J1(t,n),e})(),J1=class extends yt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:YR}};var ki=class extends yt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Tv={now(){return(Tv.delegate||Date).now()},delegate:void 0};var Iv=class extends yt{constructor(t=1/0,n=1/0,i=Tv){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var eC=class extends ti{constructor(t,n){super()}schedule(t,n=0){return this}};var kv={setInterval(e,t,...n){let{delegate:i}=kv;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=kv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var tC=class extends eC{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return kv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&kv.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ef(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var sm=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};sm.now=Tv.now;var nC=class extends sm{constructor(t,n=sm.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var Av=new nC(tC),IL=Av;var uo=new dn(e=>e.complete());function iC(e){return e&&an(e.schedule)}function rM(e){return e[e.length-1]}function rC(e){return an(rM(e))?e.pop():void 0}function Kl(e){return iC(rM(e))?e.pop():void 0}function kL(e,t){return typeof rM(e)=="number"?e.pop():t}function FL(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{d(i.next(c))}catch(u){s(u)}}function l(c){try{d(i.throw(c))}catch(u){s(u)}}function d(c){c.done?o(c.value):r(c.value).then(a,l)}d((i=i.apply(e,t||[])).next())})}function AL(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rf(e){return this instanceof rf?(this.v=e,this):new rf(e)}function PL(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(p){return function(f){return Promise.resolve(f).then(p,u)}}function a(p,f){i[p]&&(r[p]=function(m){return new Promise(function(g,v){o.push([p,m,g,v])>1||l(p,m)})},f&&(r[p]=f(r[p])))}function l(p,f){try{d(i[p](f))}catch(m){h(o[0][3],m)}}function d(p){p.value instanceof rf?Promise.resolve(p.value.v).then(c,u):h(o[0][2],p)}function c(p){l("next",p)}function u(p){l("throw",p)}function h(p,f){p(f),o.shift(),o.length&&l(o[0][0],o[0][1])}}function OL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof AL=="function"?AL(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var am=e=>e&&typeof e.length=="number"&&typeof e!="function";function oC(e){return an(e?.then)}function sC(e){return an(e[im])}function aC(e){return Symbol.asyncIterator&&an(e?.[Symbol.asyncIterator])}function lC(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Hoe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cC=Hoe();function dC(e){return an(e?.[cC])}function uC(e){return PL(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield rf(n.read());if(r)return yield rf(void 0);yield yield rf(i)}}finally{n.releaseLock()}})}function hC(e){return an(e?.getReader)}function Ni(e){if(e instanceof dn)return e;if(e!=null){if(sC(e))return zoe(e);if(am(e))return joe(e);if(oC(e))return Goe(e);if(aC(e))return LL(e);if(dC(e))return Uoe(e);if(hC(e))return Woe(e)}throw lC(e)}function zoe(e){return new dn(t=>{let n=e[im]();if(an(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function joe(e){return new dn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Goe(e){return new dn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Z1)})}function Uoe(e){return new dn(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function LL(e){return new dn(t=>{$oe(e,t).catch(n=>t.error(n))})}function Woe(e){return LL(uC(e))}function $oe(e,t){var n,i,r,o;return FL(this,void 0,void 0,function*(){try{for(n=OL(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function ks(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function fC(e,t=0){return Cn((n,i)=>{n.subscribe(gn(i,r=>ks(i,e,()=>i.next(r),t),()=>ks(i,e,()=>i.complete(),t),r=>ks(i,e,()=>i.error(r),t)))})}function pC(e,t=0){return Cn((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function NL(e,t){return Ni(e).pipe(pC(t),fC(t))}function BL(e,t){return Ni(e).pipe(pC(t),fC(t))}function VL(e,t){return new dn(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function HL(e,t){return new dn(n=>{let i;return ks(n,t,()=>{i=e[cC](),ks(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>an(i?.return)&&i.return()})}function mC(e,t){if(!e)throw new Error("Iterable cannot be null");return new dn(n=>{ks(n,t,()=>{let i=e[Symbol.asyncIterator]();ks(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function zL(e,t){return mC(uC(e),t)}function jL(e,t){if(e!=null){if(sC(e))return NL(e,t);if(am(e))return VL(e,t);if(oC(e))return BL(e,t);if(aC(e))return mC(e,t);if(dC(e))return HL(e,t);if(hC(e))return zL(e,t)}throw lC(e)}function Xi(e,t){return t?jL(e,t):Ni(e)}function Gt(...e){let t=Kl(e);return Xi(e,t)}function Cu(e,t){let n=an(e)?e:()=>e,i=r=>r.error(n());return new dn(t?r=>t.schedule(i,0,r):i)}function gC(e){return!!e&&(e instanceof dn||an(e.lift)&&an(e.subscribe))}var sd=em(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function GL(e){return e instanceof Date&&!isNaN(e)}function Jt(e,t){return Cn((n,i)=>{let r=0;n.subscribe(gn(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:qoe}=Array;function Koe(e,t){return qoe(t)?e(...t):e(t)}function lm(e){return Jt(t=>Koe(e,t))}var{isArray:Yoe}=Array,{getPrototypeOf:Xoe,prototype:Zoe,keys:Qoe}=Object;function vC(e){if(e.length===1){let t=e[0];if(Yoe(t))return{args:t,keys:null};if(Joe(t)){let n=Qoe(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function Joe(e){return e&&typeof e=="object"&&Xoe(e)===Zoe}function bC(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function cm(...e){let t=Kl(e),n=rC(e),{args:i,keys:r}=vC(e);if(i.length===0)return Xi([],t);let o=new dn(ese(i,t,r?s=>bC(r,s):ls));return n?o.pipe(lm(n)):o}function ese(e,t,n=ls){return i=>{UL(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)UL(t,()=>{let d=Xi(e[l],t),c=!1;d.subscribe(gn(i,u=>{o[l]=u,c||(c=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function UL(e,t,n){e?ks(n,e,t):t()}function WL(e,t,n,i,r,o,s,a){let l=[],d=0,c=0,u=!1,h=()=>{u&&!l.length&&!d&&t.complete()},p=m=>d<i?f(m):l.push(m),f=m=>{o&&t.next(m),d++;let g=!1;Ni(n(m,c++)).subscribe(gn(t,v=>{r?.(v),o?p(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(d--;l.length&&d<i;){let v=l.shift();s?ks(t,s,()=>f(v)):f(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(gn(t,p,()=>{u=!0,h()})),()=>{a?.()}}function Or(e,t,n=1/0){return an(t)?Or((i,r)=>Jt((o,s)=>t(i,o,r,s))(Ni(e(i,r))),n):(typeof t=="number"&&(n=t),Cn((i,r)=>WL(i,r,e,n)))}function yC(e=1/0){return Or(ls,e)}function $L(){return yC(1)}function _u(...e){return $L()(Xi(e,Kl(e)))}function dm(e){return new dn(t=>{Ni(e()).subscribe(t)})}function Fv(...e){let t=rC(e),{args:n,keys:i}=vC(e),r=new dn(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let c=0;c<s;c++){let u=!1;Ni(n[c]).subscribe(gn(o,h=>{u||(u=!0,d--),a[c]=h},()=>l--,void 0,()=>{(!l||!u)&&(d||o.next(i?bC(i,a):a),o.complete())}))}});return t?r.pipe(lm(t)):r}var tse=["addListener","removeListener"],nse=["addEventListener","removeEventListener"],ise=["on","off"];function of(e,t,n,i){if(an(n)&&(i=n,n=void 0),i)return of(e,t,n).pipe(lm(i));let[r,o]=sse(e)?nse.map(s=>a=>e[s](t,a,n)):rse(e)?tse.map(qL(e,t)):ose(e)?ise.map(qL(e,t)):[];if(!r&&am(e))return Or(s=>of(s,t,n))(Ni(e));if(!r)throw new TypeError("Invalid event target");return new dn(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function qL(e,t){return n=>i=>e[n](t,i)}function rse(e){return an(e.addListener)&&an(e.removeListener)}function ose(e){return an(e.on)&&an(e.off)}function sse(e){return an(e.addEventListener)&&an(e.removeEventListener)}function KL(e=0,t,n=IL){let i=-1;return t!=null&&(iC(t)?n=t:i=t),new dn(r=>{let o=GL(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function hl(...e){let t=Kl(e),n=kL(e,1/0),i=e;return i.length?i.length===1?Ni(i[0]):yC(n)(Xi(i,t)):uo}function Ln(e,t){return Cn((n,i)=>{let r=0;n.subscribe(gn(i,o=>e.call(t,o,r++)&&i.next(o)))})}function YL(e){return Cn((t,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let d=r;r=null,n.next(d)}s&&n.complete()},l=()=>{o=null,s&&n.complete()};t.subscribe(gn(n,d=>{i=!0,r=d,o||Ni(e(d)).subscribe(o=gn(n,a,l))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function wC(e,t=Av){return YL(()=>KL(e,t))}function Yl(e){return Cn((t,n)=>{let i=null,r=!1,o;i=t.subscribe(gn(n,void 0,void 0,s=>{o=Ni(e(s,Yl(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function XL(e,t,n,i,r){return(o,s)=>{let a=n,l=t,d=0;o.subscribe(gn(s,c=>{let u=d++;l=a?e(l,c,u):(a=!0,c),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function xu(e,t){return an(t)?Or(e,t,1):Or(e,1)}function Xl(e,t=Av){return Cn((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,i.next(d)}};function l(){let d=s+e,c=t.now();if(c<d){r=this.schedule(void 0,d-c),i.add(r);return}a()}n.subscribe(gn(i,d=>{o=d,s=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Su(e){return Cn((t,n)=>{let i=!1;t.subscribe(gn(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Jr(e){return e<=0?()=>uo:Cn((t,n)=>{let i=0;t.subscribe(gn(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function sf(e,t=ls){return e=e??ase,Cn((n,i)=>{let r,o=!0;n.subscribe(gn(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function ase(e,t){return e===t}function CC(e=lse){return Cn((t,n)=>{let i=!1;t.subscribe(gn(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function lse(){return new sd}function fl(e){return Cn((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Oa(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Ln((r,o)=>e(r,o,i)):ls,Jr(1),n?Su(t):CC(()=>new sd))}function um(e){return e<=0?()=>uo:Cn((t,n)=>{let i=[];t.subscribe(gn(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function oM(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Ln((r,o)=>e(r,o,i)):ls,um(1),n?Su(t):CC(()=>new sd))}function _C(){return Cn((e,t)=>{let n,i=!1;e.subscribe(gn(t,r=>{let o=n;n=r,i&&t.next([o,r]),i=!0}))})}function sM(e,t){return Cn(XL(e,t,arguments.length>=2,!0))}function Eu(e={}){let{connector:t=()=>new yt,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,d=0,c=!1,u=!1,h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),s=l=void 0,c=u=!1},f=()=>{let m=s;p(),m?.unsubscribe()};return Cn((m,g)=>{d++,!u&&!c&&h();let v=l=l??t();g.add(()=>{d--,d===0&&!u&&!c&&(a=aM(f,r))}),v.subscribe(g),!s&&d>0&&(s=new od({next:w=>v.next(w),error:w=>{u=!0,h(),a=aM(p,n,w),v.error(w)},complete:()=>{c=!0,h(),a=aM(p,i),v.complete()}}),Ni(m).subscribe(s))})(o)}}function aM(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new od({next:()=>{i.unsubscribe(),e()}});return Ni(t(...n)).subscribe(i)}function ad(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Eu({connector:()=>new Iv(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Pv(e){return Ln((t,n)=>e<=n)}function Ro(...e){let t=Kl(e);return Cn((n,i)=>{(t?_u(e,n,t):_u(e,n)).subscribe(i)})}function Mo(e,t){return Cn((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(gn(i,l=>{r?.unsubscribe();let d=0,c=o++;Ni(e(l,c)).subscribe(r=gn(i,u=>i.next(t?t(l,u,c,d++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Gi(e){return Cn((t,n)=>{Ni(e).subscribe(gn(n,()=>n.complete(),Mv)),!n.closed&&t.subscribe(n)})}function xC(e,t=!1){return Cn((n,i)=>{let r=0;n.subscribe(gn(i,o=>{let s=e(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}function hr(e,t,n){let i=an(e)||t||n?{next:e,error:t,complete:n}:e;return i?Cn((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(gn(o,l=>{var d;(d=i.next)===null||d===void 0||d.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var d;a=!1,(d=i.error)===null||d===void 0||d.call(i,l),o.error(l)},()=>{var l,d;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):ls}var j7="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Dt=class extends Error{code;constructor(t,n){super(G7(t,n)),this.code=t}};function cse(e){return`NG0${Math.abs(e)}`}function G7(e,t){return`${cse(e)}${t?": "+t:""}`}var U7=Symbol("InputSignalNode#UNSET"),dse=Le(re({},q1),{transformFn:void 0,applyValueToInputSignal(e,t){Dv(e,t)}});function W7(e,t){let n=Object.create(dse);n.value=e,n.transformFn=t?.transform;function i(){if(xv(n),n.value===U7){let r=null;throw new Dt(-950,r)}return n.value}return i[Is]=n,i}function qv(e){return{toString:e}.toString()}var SC="__parameters__";function use(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function $7(e,t,n){return qv(()=>{let i=use(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,d,c){let u=l.hasOwnProperty(SC)?l[SC]:Object.defineProperty(l,SC,{value:[]})[SC];for(;u.length<=c;)u.push(null);return(u[c]=u[c]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var bm=globalThis;function Ui(e){for(let t in e)if(e[t]===Ui)return t;throw Error("Could not find renamed property on target object.")}function hse(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fs(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Fs).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function CM(e,t){return e?t?`${e} ${t}`:e:t||""}var fse=Ui({__forward_ref__:Ui});function ic(e){return e.__forward_ref__=ic,e.toString=function(){return Fs(this())},e}function To(e){return q7(e)?e():e}function q7(e){return typeof e=="function"&&e.hasOwnProperty(fse)&&e.__forward_ref__===ic}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ht(e){return{providers:e.providers||[],imports:e.imports||[]}}function a_(e){return ZL(e,Y7)||ZL(e,X7)}function K7(e){return a_(e)!==null}function ZL(e,t){return e.hasOwnProperty(t)?e[t]:null}function pse(e){let t=e&&(e[Y7]||e[X7]);return t||null}function QL(e){return e&&(e.hasOwnProperty(JL)||e.hasOwnProperty(mse))?e[JL]:null}var Y7=Ui({\u0275prov:Ui}),JL=Ui({\u0275inj:Ui}),X7=Ui({ngInjectableDef:Ui}),mse=Ui({ngInjectorDef:Ui}),Ne=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Z7(e){return e&&!!e.\u0275providers}var gse=Ui({\u0275cmp:Ui}),vse=Ui({\u0275dir:Ui}),bse=Ui({\u0275pipe:Ui}),yse=Ui({\u0275mod:Ui}),OC=Ui({\u0275fac:Ui}),Bv=Ui({__NG_ELEMENT_ID__:Ui}),e7=Ui({__NG_ENV_ID__:Ui});function Kv(e){return typeof e=="string"?e:e==null?"":String(e)}function wse(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Kv(e)}function Q7(e,t){throw new Dt(-200,e)}function ST(e,t){throw new Dt(-201,!1)}var Wn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Wn||{}),_M;function J7(){return _M}function As(e){let t=_M;return _M=e,t}function eN(e,t,n){let i=a_(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Wn.Optional)return null;if(t!==void 0)return t;ST(e,"Injector")}var Cse={},af=Cse,xM="__NG_DI_FLAG__",LC=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=n;return this.injector.get(t,i.optional?K1:af,i)}},NC="ngTempTokenPath",_se="ngTokenPath",xse=/\n/gm,Sse="\u0275",t7="__source";function Ese(e,t=Wn.Default){if(Rv()===void 0)throw new Dt(-203,!1);if(Rv()===null)return eN(e,void 0,t);{let n=Rv(),i;return n instanceof LC?i=n.injector:i=n,i.get(e,t&Wn.Optional?null:void 0,t)}}function Rt(e,t=Wn.Default){return(J7()||Ese)(To(e),t)}function te(e,t=Wn.Default){return Rt(e,l_(t))}function l_(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function SM(e){let t=[];for(let n=0;n<e.length;n++){let i=To(e[n]);if(Array.isArray(i)){if(i.length===0)throw new Dt(900,!1);let r,o=Wn.Default;for(let s=0;s<i.length;s++){let a=i[s],l=Dse(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(Rt(r,o))}else t.push(Rt(i))}return t}function tN(e,t){return e[xM]=t,e.prototype[xM]=t,e}function Dse(e){return e[xM]}function Rse(e,t,n,i){let r=e[NC];throw t[t7]&&r.unshift(t[t7]),e.message=Mse(`
`+e.message,r,n,i),e[_se]=r,e[NC]=null,e}function Mse(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Sse?e.slice(2):e;let r=Fs(t);if(Array.isArray(t))r=t.map(Fs).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Fs(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(xse,`
  `)}`}var c_=tN($7("Optional"),8);var nN=tN($7("SkipSelf"),4);function cf(e,t){let n=e.hasOwnProperty(OC);return n?e[OC]:null}function Tse(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function Ise(e){return e.flat(Number.POSITIVE_INFINITY)}function ET(e,t){e.forEach(n=>Array.isArray(n)?ET(n,t):t(n))}function iN(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function BC(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kse(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function Ase(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Yv(e,t,n){let i=Xv(e,t);return i>=0?e[i|1]=n:(i=~i,Ase(e,i,t,n)),i}function lM(e,t){let n=Xv(e,t);if(n>=0)return e[n|1]}function Xv(e,t){return Fse(e,t,1)}function Fse(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Ql={},cs=[],ym=new Ne(""),rN=new Ne("",-1),oN=new Ne(""),VC=class{get(t,n=af){if(n===af){let i=new Error(`NullInjectorError: No provider for ${Fs(t)}!`);throw i.name="NullInjectorError",i}return n}};function sN(e,t){let n=e[yse]||null;if(!n&&t===!0)throw new Error(`Type ${Fs(e)} does not have '\u0275mod' property.`);return n}function df(e){return e[gse]||null}function aN(e){return e[vse]||null}function Pse(e){return e[bse]||null}function Tm(e){return{\u0275providers:e}}function Ose(...e){return{\u0275providers:lN(!0,e),\u0275fromNgModule:!0}}function lN(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return ET(t,s=>{let a=s;EM(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&cN(r,o),n}function cN(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];DT(r,o=>{t(o,i)})}}function EM(e,t,n,i){if(e=To(e),!e)return!1;let r=null,o=QL(e),s=!o&&df(e);if(!o&&!s){let l=e.ngModule;if(o=QL(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)EM(d,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let d;try{ET(o.imports,c=>{EM(c,t,n,i)&&(d||=[],d.push(c))})}finally{}d!==void 0&&cN(d,t)}if(!a){let d=cf(r)||(()=>new r);t({provide:r,useFactory:d,deps:cs},r),t({provide:oN,useValue:r,multi:!0},r),t({provide:ym,useValue:()=>Rt(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let d=e;DT(l,c=>{t(c,d)})}}else return!1;return r!==e&&e.providers!==void 0}function DT(e,t){for(let n of e)Z7(n)&&(n=n.\u0275providers),Array.isArray(n)?DT(n,t):t(n)}var Lse=Ui({provide:String,useValue:Ui});function dN(e){return e!==null&&typeof e=="object"&&Lse in e}function Nse(e){return!!(e&&e.useExisting)}function Bse(e){return!!(e&&e.useFactory)}function wm(e){return typeof e=="function"}function Vse(e){return!!e.useClass}var d_=new Ne(""),TC={},n7={},cM;function u_(){return cM===void 0&&(cM=new VC),cM}var $r=class{},Vv=class extends $r{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,RM(t,s=>this.processProvider(s)),this.records.set(rN,hm(void 0,this)),r.has("environment")&&this.records.set($r,hm(void 0,this));let o=this.records.get(d_);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oN,cs,Wn.Self))}retrieve(t,n){let i=n;return this.get(t,i.optional?K1:af,i)}destroy(){Lv(this),this._destroyed=!0;let t=Kn(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Kn(t)}}onDestroy(t){return Lv(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Lv(this);let n=rd(this),i=As(void 0),r;try{return t()}finally{rd(n),As(i)}}get(t,n=af,i=Wn.Default){if(Lv(this),t.hasOwnProperty(e7))return t[e7](this);i=l_(i);let r,o=rd(this),s=As(void 0);try{if(!(i&Wn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let d=Use(t)&&a_(t);d&&this.injectableDefInScope(d)?l=hm(DM(t),TC):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Wn.Self?u_():this.parent;return n=i&Wn.Optional&&n===af?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[NC]=a[NC]||[]).unshift(Fs(t)),o)throw a;return Rse(a,t,"R3InjectorError",this.source)}else throw a}finally{As(s),rd(o)}}resolveInjectorInitializers(){let t=Kn(null),n=rd(this),i=As(void 0),r;try{let o=this.get(ym,cs,Wn.Self);for(let s of o)s()}finally{rd(n),As(i),Kn(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Fs(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=To(t);let n=wm(t)?t:To(t&&t.provide),i=zse(t);if(!wm(t)&&t.multi===!0){let r=this.records.get(n);r||(r=hm(void 0,TC,!0),r.factory=()=>SM(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Kn(null);try{return n.value===n7?Q7(Fs(t)):n.value===TC&&(n.value=n7,n.value=n.factory()),typeof n.value=="object"&&n.value&&Gse(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Kn(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=To(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function DM(e){let t=a_(e),n=t!==null?t.factory:cf(e);if(n!==null)return n;if(e instanceof Ne)throw new Dt(204,!1);if(e instanceof Function)return Hse(e);throw new Dt(204,!1)}function Hse(e){if(e.length>0)throw new Dt(204,!1);let n=pse(e);return n!==null?()=>n.factory(e):()=>new e}function zse(e){if(dN(e))return hm(void 0,e.useValue);{let t=uN(e);return hm(t,TC)}}function uN(e,t,n){let i;if(wm(e)){let r=To(e);return cf(r)||DM(r)}else if(dN(e))i=()=>To(e.useValue);else if(Bse(e))i=()=>e.useFactory(...SM(e.deps||[]));else if(Nse(e))i=()=>Rt(To(e.useExisting));else{let r=To(e&&(e.useClass||e.provide));if(jse(e))i=()=>new r(...SM(e.deps));else return cf(r)||DM(r)}return i}function Lv(e){if(e.destroyed)throw new Dt(205,!1)}function hm(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jse(e){return!!e.deps}function Gse(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Use(e){return typeof e=="function"||typeof e=="object"&&e instanceof Ne}function RM(e,t){for(let n of e)Array.isArray(n)?RM(n,t):n&&Z7(n)?RM(n.\u0275providers,t):t(n)}function ha(e,t){let n;e instanceof Vv?(Lv(e),n=e):n=new LC(e);let i,r=rd(n),o=As(void 0);try{return t()}finally{rd(r),As(o)}}function hN(){return J7()!==void 0||Rv()!=null}function Zv(e){if(!hN())throw new Dt(-203,!1)}function Wse(e){return typeof e=="function"}var fd=0,Nn=1,_n=2,jo=3,ml=4,Ls=5,Hv=6,HC=7,ds=8,Cm=9,ld=10,fr=11,zv=12,i7=13,Im=14,Na=15,uf=16,fm=17,cd=18,h_=19,fN=20,Du=21,dM=22,hf=23,La=24,gm=25,ho=26,pN=1;var ff=7,zC=8,_m=9,Ps=10;function Ru(e){return Array.isArray(e)&&typeof e[pN]=="object"}function pd(e){return Array.isArray(e)&&e[pN]===!0}function RT(e){return(e.flags&4)!==0}function km(e){return e.componentOffset>-1}function f_(e){return(e.flags&1)===1}function Jl(e){return!!e.template}function jC(e){return(e[_n]&512)!==0}function Qv(e){return(e[_n]&256)===256}var MM=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function mN(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var Io=(()=>{let e=()=>gN;return e.ngInherit=!0,e})();function gN(e){return e.type.prototype.ngOnChanges&&(e.setInput=qse),$se}function $se(){let e=bN(this),t=e?.current;if(t){let n=e.previous;if(n===Ql)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function qse(e,t,n,i,r){let o=this.declaredInputs[i],s=bN(e)||Kse(e,{previous:Ql,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new MM(d&&d.currentValue,n,l===Ql),mN(e,t,r,n)}var vN="__ngSimpleChanges__";function bN(e){return e[vN]||null}function Kse(e,t){return e[vN]=t}var r7=null;var Vi=function(e,t=null,n){r7?.(e,t,n)},yN="svg",Yse="math";function ec(e){for(;Array.isArray(e);)e=e[fd];return e}function wN(e,t){return ec(t[e])}function rc(e,t){return ec(t[e.index])}function MT(e,t){return e.data[t]}function CN(e,t){return e[t]}function tc(e,t){let n=t[e];return Ru(n)?n:n[fd]}function Xse(e){return(e[_n]&4)===4}function TT(e){return(e[_n]&128)===128}function Zse(e){return pd(e[jo])}function xm(e,t){return t==null?null:e[t]}function _N(e){e[fm]=0}function xN(e){e[_n]&1024||(e[_n]|=1024,TT(e)&&Am(e))}function Qse(e,t){for(;e>0;)t=t[Im],e--;return t}function p_(e){return!!(e[_n]&9216||e[La]?.dirty)}function TM(e){e[ld].changeDetectionScheduler?.notify(8),e[_n]&64&&(e[_n]|=1024),p_(e)&&Am(e)}function Am(e){e[ld].changeDetectionScheduler?.notify(0);let t=pf(e);for(;t!==null&&!(t[_n]&8192||(t[_n]|=8192,!TT(t)));)t=pf(t)}function SN(e,t){if(Qv(e))throw new Dt(911,!1);e[Du]===null&&(e[Du]=[]),e[Du].push(t)}function Jse(e,t){if(e[Du]===null)return;let n=e[Du].indexOf(t);n!==-1&&e[Du].splice(n,1)}function pf(e){let t=e[jo];return pd(t)?t[jo]:t}function IT(e){return e[HC]??=[]}function kT(e){return e.cleanup??=[]}function eae(e,t,n,i){let r=IT(t);r.push(n),e.firstCreatePass&&kT(e).push(i,r.length-1)}var Bn={lFrame:AN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var IM=!1;function tae(){return Bn.lFrame.elementDepthCount}function nae(){Bn.lFrame.elementDepthCount++}function iae(){Bn.lFrame.elementDepthCount--}function AT(){return Bn.bindingsEnabled}function EN(){return Bn.skipHydrationRootTNode!==null}function rae(e){return Bn.skipHydrationRootTNode===e}function oae(){Bn.skipHydrationRootTNode=null}function Vn(){return Bn.lFrame.lView}function pr(){return Bn.lFrame.tView}function _i(e){return Bn.lFrame.contextLView=e,e[ds]}function xi(e){return Bn.lFrame.contextLView=null,e}function Go(){let e=DN();for(;e!==null&&e.type===64;)e=e.parent;return e}function DN(){return Bn.lFrame.currentTNode}function sae(){let e=Bn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Tu(e,t){let n=Bn.lFrame;n.currentTNode=e,n.isParent=t}function FT(){return Bn.lFrame.isParent}function PT(){Bn.lFrame.isParent=!1}function aae(){return Bn.lFrame.contextLView}function RN(){return IM}function GC(e){let t=IM;return IM=e,t}function MN(){let e=Bn.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function lae(e){return Bn.lFrame.bindingIndex=e}function Fm(){return Bn.lFrame.bindingIndex++}function TN(e){let t=Bn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cae(){return Bn.lFrame.inI18n}function dae(e,t){let n=Bn.lFrame;n.bindingIndex=n.bindingRootIndex=e,kM(t)}function uae(){return Bn.lFrame.currentDirectiveIndex}function kM(e){Bn.lFrame.currentDirectiveIndex=e}function hae(e){let t=Bn.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function OT(){return Bn.lFrame.currentQueryIndex}function m_(e){Bn.lFrame.currentQueryIndex=e}function fae(e){let t=e[Nn];return t.type===2?t.declTNode:t.type===1?e[Ls]:null}function IN(e,t,n){if(n&Wn.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&Wn.Host);)if(r=fae(o),r===null||(o=o[Im],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=Bn.lFrame=kN();return i.currentTNode=t,i.lView=e,!0}function LT(e){let t=kN(),n=e[Nn];Bn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function kN(){let e=Bn.lFrame,t=e===null?null:e.child;return t===null?AN(e):t}function AN(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function FN(){let e=Bn.lFrame;return Bn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var PN=FN;function NT(){let e=FN();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pae(e){return(Bn.lFrame.contextLView=Qse(e,Bn.lFrame.contextLView))[ds]}function yf(){return Bn.lFrame.selectedIndex}function mf(e){Bn.lFrame.selectedIndex=e}function g_(){let e=Bn.lFrame;return MT(e.tView,e.selectedIndex)}function Iu(){Bn.lFrame.currentNamespace=yN}function Pm(){mae()}function mae(){Bn.lFrame.currentNamespace=null}function gae(){return Bn.lFrame.currentNamespace}var ON=!0;function v_(){return ON}function b_(e){ON=e}function vae(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=gN(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function BT(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),d&&((e.viewHooks??=[]).push(n,d),(e.viewCheckHooks??=[]).push(n,d)),c!=null&&(e.destroyHooks??=[]).push(n,c)}}function IC(e,t,n){LN(e,t,3,n)}function kC(e,t,n,i){(e[_n]&3)===n&&LN(e,t,n,i)}function uM(e,t){let n=e[_n];(n&3)===t&&(n&=16383,n+=1,e[_n]=n)}function LN(e,t,n,i){let r=i!==void 0?e[fm]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[fm]+=65536),(a<o||o==-1)&&(bae(e,n,t,l),e[fm]=(e[fm]&4294901760)+l+2),l++}function o7(e,t){Vi(4,e,t);let n=Kn(null);try{t.call(e)}finally{Kn(n),Vi(5,e,t)}}function bae(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[_n]>>14<e[fm]>>16&&(e[_n]&3)===t&&(e[_n]+=16384,o7(a,o)):o7(a,o)}var vm=-1,gf=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i}};function yae(e){return(e.flags&8)!==0}function wae(e){return(e.flags&16)!==0}function Cae(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];_ae(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function NN(e){return e===3||e===4||e===6}function _ae(e){return e.charCodeAt(0)===64}function Sm(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?s7(e,n,r,null,t[++i]):s7(e,n,r,null,null))}}return e}function s7(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function BN(e){return e!==vm}function UC(e){return e&32767}function xae(e){return e>>16}function WC(e,t){let n=xae(e),i=t;for(;n>0;)i=i[Im],n--;return i}var AM=!0;function $C(e){let t=AM;return AM=e,t}var Sae=256,VN=Sae-1,HN=5,Eae=0,Zl={};function Dae(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Bv)&&(i=n[Bv]),i==null&&(i=n[Bv]=Eae++);let r=i&VN,o=1<<r;t.data[e+(r>>HN)]|=o}function qC(e,t){let n=zN(e,t);if(n!==-1)return n;let i=t[Nn];i.firstCreatePass&&(e.injectorIndex=t.length,hM(i.data,e),hM(t,null),hM(i.blueprint,null));let r=VT(e,t),o=e.injectorIndex;if(BN(r)){let s=UC(r),a=WC(r,t),l=a[Nn].data;for(let d=0;d<8;d++)t[o+d]=a[s+d]|l[s+d]}return t[o+8]=r,o}function hM(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zN(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function VT(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=$N(r),i===null)return vm;if(n++,r=r[Im],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return vm}function FM(e,t,n){Dae(e,t,n)}function Rae(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(NN(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function jN(e,t,n){if(n&Wn.Optional||e!==void 0)return e;ST(t,"NodeInjector")}function GN(e,t,n,i){if(n&Wn.Optional&&i===void 0&&(i=null),(n&(Wn.Self|Wn.Host))===0){let r=e[Cm],o=As(void 0);try{return r?r.get(t,i,n&Wn.Optional):eN(t,i,n&Wn.Optional)}finally{As(o)}}return jN(i,t,n)}function UN(e,t,n,i=Wn.Default,r){if(e!==null){if(t[_n]&2048&&!(i&Wn.Self)){let s=kae(e,t,n,i,Zl);if(s!==Zl)return s}let o=WN(e,t,n,i,Zl);if(o!==Zl)return o}return GN(t,n,i,r)}function WN(e,t,n,i,r){let o=Tae(n);if(typeof o=="function"){if(!IN(t,e,i))return i&Wn.Host?jN(r,n,i):GN(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Wn.Optional))ST(n);else return s}finally{PN()}}else if(typeof o=="number"){let s=null,a=zN(e,t),l=vm,d=i&Wn.Host?t[Na][Ls]:null;for((a===-1||i&Wn.SkipSelf)&&(l=a===-1?VT(e,t):t[a+8],l===vm||!l7(i,!1)?a=-1:(s=t[Nn],a=UC(l),t=WC(l,t)));a!==-1;){let c=t[Nn];if(a7(o,a,c.data)){let u=Mae(a,t,n,s,i,d);if(u!==Zl)return u}l=t[a+8],l!==vm&&l7(i,t[Nn].data[a+8]===d)&&a7(o,a,t)?(s=c,a=UC(l),t=WC(l,t)):a=-1}}return r}function Mae(e,t,n,i,r,o){let s=t[Nn],a=s.data[e+8],l=i==null?km(a)&&AM:i!=s&&(a.type&3)!==0,d=r&Wn.Host&&o===a,c=AC(a,s,n,l,d);return c!==null?jv(t,s,c,a):Zl}function AC(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,d=e.directiveEnd,c=o>>20,u=i?a:a+c,h=r?a+c:d;for(let p=u;p<h;p++){let f=s[p];if(p<l&&n===f||p>=l&&f.type===n)return p}if(r){let p=s[l];if(p&&Jl(p)&&p.type===n)return l}return null}function jv(e,t,n,i){let r=e[n],o=t.data;if(r instanceof gf){let s=r;s.resolving&&Q7(wse(o[n]));let a=$C(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?As(s.injectImpl):null,c=IN(e,i,Wn.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&vae(n,o[n],t)}finally{d!==null&&As(d),$C(a),s.resolving=!1,PN()}}return r}function Tae(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Bv)?e[Bv]:void 0;return typeof t=="number"?t>=0?t&VN:Iae:t}function a7(e,t,n){let i=1<<e;return!!(n[t+(e>>HN)]&i)}function l7(e,t){return!(e&Wn.Self)&&!(e&Wn.Host&&t)}var lf=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return UN(this._tNode,this._lView,t,l_(i),n)}};function Iae(){return new lf(Go(),Vn())}function hs(e){return qv(()=>{let t=e.prototype.constructor,n=t[OC]||PM(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[OC]||PM(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function PM(e){return q7(e)?()=>{let t=PM(To(e));return t&&t()}:cf(e)}function kae(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[_n]&2048&&!jC(s);){let a=WN(o,s,n,i|Wn.Self,Zl);if(a!==Zl)return a;let l=o.parent;if(!l){let d=s[fN];if(d){let c=d.get(n,Zl,i);if(c!==Zl)return c}l=$N(s),s=s[Im]}o=l}return r}function $N(e){let t=e[Nn],n=t.type;return n===2?t.declTNode:n===1?e[Ls]:null}function qN(e){return Rae(Go(),e)}function c7(e,t=null,n=null,i){let r=KN(e,t,n,i);return r.resolveInjectorInitializers(),r}function KN(e,t=null,n=null,i,r=new Set){let o=[n||cs,Ose(e)];return i=i||(typeof e=="object"?void 0:Fs(e)),new Vv(o,t||u_(),i||null,r)}var $n=class e{static THROW_IF_NOT_FOUND=af;static NULL=new VC;static create(t,n){if(Array.isArray(t))return c7({name:""},n,t,"");{let i=t.name??"";return c7({name:i},t.parent,t.providers,i)}}static \u0275prov=Pe({token:e,providedIn:"any",factory:()=>Rt(rN)});static __NG_ELEMENT_ID__=-1};var Em=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>qN(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Aae=new Ne("");Aae.__NG_ELEMENT_ID__=e=>{let t=Go();if(t===null)throw new Dt(204,!1);if(t.type&2)return t.value;if(e&Wn.Optional)return null;throw new Dt(204,!1)};var YN=!1,Zi=(()=>{class e{static __NG_ELEMENT_ID__=Fae;static __NG_ENV_ID__=n=>n}return e})(),KC=class extends Zi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return SN(this._lView,t),()=>Jse(this._lView,t)}};function Fae(){return new KC(Vn())}var vf=class{},y_=new Ne("",{providedIn:"root",factory:()=>!1});var XN=new Ne(""),ZN=new Ne(""),ku=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ki(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}return e})();var OM=class extends yt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,hN()&&(this.destroyRef=te(Zi,{optional:!0})??void 0,this.pendingTasks=te(ku,{optional:!0})??void 0)}emit(t){let n=Kn(null);try{super.next(t)}finally{Kn(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof ti&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Fe=OM;function Gv(...e){}function QN(e){let t,n;function i(){e=Gv;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function d7(e){return queueMicrotask(()=>e()),()=>{e=Gv}}var HT="isAngularZone",YC=HT+"_ID",Pae=0,It=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=YN}=t;if(typeof Zone>"u")throw new Dt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Nae(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(HT)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Dt(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Dt(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Oae,Gv,Gv);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Oae={};function zT(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Lae(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){QN(()=>{e.callbackScheduled=!1,LM(e),e.isCheckStableRunning=!0,zT(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),LM(e)}function Nae(e){let t=()=>{Lae(e)},n=Pae++;e._inner=e._inner.fork({name:"angular",properties:{[HT]:!0,[YC]:n,[YC+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(Bae(l))return i.invokeTask(o,s,a,l);try{return u7(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),h7(e)}},onInvoke:(i,r,o,s,a,l,d)=>{try{return u7(e),i.invoke(o,s,a,l,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Vae(l)&&t(),h7(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,LM(e),zT(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function LM(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function u7(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function h7(e){e._nesting--,zT(e)}var NM=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function Bae(e){return JN(e,"__ignore_ng_zone__")}function Vae(e){return JN(e,"__scheduler_tick__")}function JN(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var us=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Hae=new Ne("",{providedIn:"root",factory:()=>{let e=te(It),t=te(us);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function f7(e,t){return W7(e,t)}function zae(e){return W7(U7,e)}var e9=(f7.required=zae,f7);function jae(){return Om(Go(),Vn())}function Om(e,t){return new qt(rc(e,t))}var qt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=jae}return e})();function t9(e){return e instanceof qt?e.nativeElement:e}function Lm(e){return typeof e=="function"&&e[Is]!==void 0}function Ns(e,t){let n=WR(e,t?.equal),i=n[Is];return n.set=r=>Dv(i,r),n.update=r=>$R(i,r),n.asReadonly=Gae.bind(n),n}function Gae(){let e=this[Is];if(e.readonlyFn===void 0){let t=()=>this();t[Is]=e,e.readonlyFn=t}return e.readonlyFn}function n9(e){return Lm(e)&&typeof e.set=="function"}function Uae(){return this._results[Symbol.iterator]()}var Mu=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new yt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=Ise(t);(this._changesDetected=!Tse(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Uae};function i9(e){return(e.flags&128)===128}var r9=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(r9||{}),o9=new Map,Wae=0;function $ae(){return Wae++}function qae(e){o9.set(e[h_],e)}function BM(e){o9.delete(e[h_])}var p7="__ngContext__";function Nm(e,t){Ru(t)?(e[p7]=t[h_],qae(t)):e[p7]=t}function s9(e){return l9(e[zv])}function a9(e){return l9(e[ml])}function l9(e){for(;e!==null&&!pd(e);)e=e[ml];return e}var VM;function c9(e){VM=e}function d9(){if(VM!==void 0)return VM;if(typeof document<"u")return document;throw new Dt(210,!1)}var wf=new Ne("",{providedIn:"root",factory:()=>Kae}),Kae="ng",jT=new Ne(""),md=new Ne("",{providedIn:"platform",factory:()=>"unknown"});var _r=new Ne(""),Jv=new Ne("",{providedIn:"root",factory:()=>d9().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Yae="h",Xae="b";var u9=!1,Zae=new Ne("",{providedIn:"root",factory:()=>u9});var GT=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(GT||{}),Bm=new Ne(""),m7=new Set;function eb(e){m7.has(e)||(m7.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var UT=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=Qae}return e})();function Qae(){return new UT(Vn(),Go())}var pm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pm||{}),h9=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}return e})(),Jae=[pm.EarlyRead,pm.Write,pm.MixedReadWrite,pm.Read],ele=(()=>{class e{ngZone=te(It);scheduler=te(vf);errorHandler=te(us,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){te(Bm,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Vi(16),this.executing=!0;for(let i of Jae)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Vi(17)}register(n){let{view:i}=n;i!==void 0?((i[gm]??=[]).push(n),Am(i),i[_n]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(GT.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e})}return e})(),HM=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o,s=null){this.impl=t,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[gm];t&&(this.view[gm]=t.filter(n=>n!==this))}};function tb(e,t){!t?.injector&&Zv(tb);let n=t?.injector??te($n);return eb("NgAfterRender"),f9(e,n,t,!1)}function Bs(e,t){!t?.injector&&Zv(Bs);let n=t?.injector??te($n);return eb("NgAfterNextRender"),f9(e,n,t,!0)}function tle(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function f9(e,t,n,i){let r=t.get(h9);r.impl??=t.get(ele);let o=t.get(Bm,null,{optional:!0}),s=n?.phase??pm.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Zi):null,l=t.get(UT,null,{optional:!0}),d=new HM(r.impl,tle(e,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var nle=()=>null;function p9(e,t,n=!1){return nle(e,t,n)}function m9(e,t){let n=e.contentQueries;if(n!==null){let i=Kn(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];m_(o),a.contentQueries(2,t[s],s)}}}finally{Kn(i)}}}function zM(e,t,n){m_(0);let i=Kn(null);try{t(e,n)}finally{Kn(i)}}function WT(e,t,n){if(RT(t)){let i=Kn(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Kn(i)}}}var nc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(nc||{}),EC;function ile(){if(EC===void 0&&(EC=null,bm.trustedTypes))try{EC=bm.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return EC}function w_(e){return ile()?.createHTML(e)||e}var DC;function rle(){if(DC===void 0&&(DC=null,bm.trustedTypes))try{DC=bm.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return DC}function g7(e){return rle()?.createHTML(e)||e}var dd=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${j7})`}},jM=class extends dd{getTypeName(){return"HTML"}},GM=class extends dd{getTypeName(){return"Style"}},UM=class extends dd{getTypeName(){return"Script"}},WM=class extends dd{getTypeName(){return"URL"}},$M=class extends dd{getTypeName(){return"ResourceURL"}};function gl(e){return e instanceof dd?e.changingThisBreaksApplicationSecurity:e}function Au(e,t){let n=ole(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${j7})`)}return n===t}function ole(e){return e instanceof dd&&e.getTypeName()||null}function g9(e){return new jM(e)}function v9(e){return new GM(e)}function b9(e){return new UM(e)}function y9(e){return new WM(e)}function w9(e){return new $M(e)}function sle(e){let t=new KM(e);return ale()?new qM(t):t}var qM=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(w_(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},KM=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=w_(t),n}};function ale(){try{return!!new window.DOMParser().parseFromString(w_(""),"text/html")}catch{return!1}}var lle=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function C_(e){return e=String(e),e.match(lle)?e:"unsafe:"+e}function gd(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function nb(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var C9=gd("area,br,col,hr,img,wbr"),_9=gd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x9=gd("rp,rt"),cle=nb(x9,_9),dle=nb(_9,gd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ule=nb(x9,gd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),v7=nb(C9,dle,ule,cle),S9=gd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hle=gd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fle=gd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ple=nb(S9,hle,fle),mle=gd("script,style,template"),YM=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=ble(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=vle(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=b7(t).toLowerCase();if(!v7.hasOwnProperty(n))return this.sanitizedSomething=!0,!mle.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!ple.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;S9[a]&&(l=C_(l)),this.buf.push(" ",s,'="',y7(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=b7(t).toLowerCase();v7.hasOwnProperty(n)&&!C9.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(y7(t))}};function gle(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function vle(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw E9(t);return t}function ble(e){let t=e.firstChild;if(t&&gle(e,t))throw E9(t);return t}function b7(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function E9(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var yle=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wle=/([^\#-~ |!])/g;function y7(e){return e.replace(/&/g,"&amp;").replace(yle,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(wle,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var RC;function $T(e,t){let n=null;try{RC=RC||sle(e);let i=t?String(t):"";n=RC.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=RC.getInertBodyElement(i)}while(i!==o);let a=new YM().sanitizeChildren(w7(n)||n);return w_(a)}finally{if(n){let i=w7(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function w7(e){return"content"in e&&Cle(e)?e.content:null}function Cle(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Uo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Uo||{});function D9(e){let t=R9();return t?g7(t.sanitize(Uo.HTML,e)||""):Au(e,"HTML")?g7(gl(e)):$T(d9(),Kv(e))}function __(e){let t=R9();return t?t.sanitize(Uo.URL,e)||"":Au(e,"URL")?gl(e):C_(Kv(e))}function R9(){let e=Vn();return e&&e[ld].sanitizer}var _le=/^>|^->|<!--|-->|--!>|<!-$/g,xle=/(<|>)/g,Sle="\u200B$1\u200B";function Ele(e){return e.replace(_le,t=>t.replace(xle,Sle))}function M9(e){return e.ownerDocument}function T9(e){return e instanceof Function?e():e}function Dle(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var I9="ng-template";function Rle(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Dle(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(qT(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qT(e){return e.type===4&&e.value!==I9}function Mle(e,t,n){let i=e.type===4&&!n?I9:e.value;return t===i}function Tle(e,t,n){let i=4,r=e.attrs,o=r!==null?Ale(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!pl(i)&&!pl(l))return!1;if(s&&pl(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Mle(e,l,n)||l===""&&t.length===1){if(pl(i))return!1;s=!0}}else if(i&8){if(r===null||!Rle(e,r,l,n)){if(pl(i))return!1;s=!0}}else{let d=t[++a],c=Ile(l,r,qT(e),n);if(c===-1){if(pl(i))return!1;s=!0;continue}if(d!==""){let u;if(c>o?u="":u=r[c+1].toLowerCase(),i&2&&d!==u){if(pl(i))return!1;s=!0}}}}return pl(i)||s}function pl(e){return(e&1)===0}function Ile(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Fle(t,e)}function k9(e,t,n=!1){for(let i=0;i<t.length;i++)if(Tle(e,t[i],n))return!0;return!1}function kle(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function Ale(e){for(let t=0;t<e.length;t++){let n=e[t];if(NN(n))return t}return e.length}function Fle(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function Ple(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function C7(e,t){return e?":not("+t.trim()+")":t}function Ole(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!pl(s)&&(t+=C7(o,r),r=""),i=s,o=o||!pl(i);n++}return r!==""&&(t+=C7(o,r)),t}function Lle(e){return e.map(Ole).join(",")}function Nle(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!pl(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var oc={};function Ble(e,t){return e.createText(t)}function Vle(e,t,n){e.setValue(t,n)}function Hle(e,t){return e.createComment(Ele(t))}function A9(e,t,n){return e.createElement(t,n)}function XC(e,t,n,i,r){e.insertBefore(t,n,i,r)}function F9(e,t,n){e.appendChild(t,n)}function _7(e,t,n,i,r){i!==null?XC(e,t,n,i,r):F9(e,t,n)}function zle(e,t,n){e.removeChild(null,t,n)}function jle(e,t,n){e.setAttribute(t,"style",n)}function Gle(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function P9(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Cae(e,t,i),r!==null&&Gle(e,t,r),o!==null&&jle(e,t,o)}function KT(e,t,n,i,r,o,s,a,l,d,c){let u=ho+i,h=u+r,p=Ule(u,h),f=typeof d=="function"?d():d;return p[Nn]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:c}}function Ule(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:oc);return n}function Wle(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=KT(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function YT(e,t,n,i,r,o,s,a,l,d,c){let u=t.blueprint.slice();return u[fd]=r,u[_n]=i|4|128|8|64|1024,(d!==null||e&&e[_n]&2048)&&(u[_n]|=2048),_N(u),u[jo]=u[Im]=e,u[ds]=n,u[ld]=s||e&&e[ld],u[fr]=a||e&&e[fr],u[Cm]=l||e&&e[Cm]||null,u[Ls]=o,u[h_]=$ae(),u[Hv]=c,u[fN]=d,u[Na]=t.type==2?e[Na]:u,u}function $le(e,t,n){let i=rc(t,e),r=Wle(n),o=e[ld].rendererFactory,s=XT(e,YT(e,r,null,O9(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function O9(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function L9(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function XT(e,t){return e[zv]?e[i7][ml]=t:e[zv]=t,e[i7]=t,t}function ot(e=1){N9(pr(),Vn(),yf()+e,!1)}function N9(e,t,n,i){if(!i)if((t[_n]&3)===3){let o=e.preOrderCheckHooks;o!==null&&IC(t,o,n)}else{let o=e.preOrderHooks;o!==null&&kC(t,o,0,n)}mf(n)}var x_=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(x_||{});function XM(e,t,n,i){let r=Kn(null);try{let[o,s,a]=e.inputs[n],l=null;(s&x_.SignalBased)!==0&&(l=t[o][Is]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):mN(t,l,o,i)}finally{Kn(r)}}function B9(e,t,n,i,r){let o=yf(),s=i&2;try{mf(-1),s&&t.length>ho&&N9(e,t,ho,!1),Vi(s?2:0,r),n(i,r)}finally{mf(o),Vi(s?3:1,r)}}function S_(e,t,n){Qle(e,t,n),(n.flags&64)===64&&Jle(e,t,n)}function ZT(e,t,n=rc){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function qle(e,t,n,i){let o=i.get(Zae,u9)||n===nc.ShadowDom,s=e.selectRootElement(t,o);return Kle(s),s}function Kle(e){Yle(e)}var Yle=()=>null;function Xle(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function QT(e,t,n,i,r,o,s,a){if(!a&&eI(t,e,n,i,r)){km(t)&&Zle(n,t.index);return}if(t.type&3){let l=rc(t,n);i=Xle(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)}else t.type&12}function Zle(e,t){let n=tc(t,e);n[_n]&16||(n[_n]|=64)}function Qle(e,t,n){let i=n.directiveStart,r=n.directiveEnd;km(n)&&$le(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||qC(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=jv(t,e,s,n);if(Nm(l,t),o!==null&&ice(t,s-i,l,a,n,o),Jl(a)){let d=tc(n.index,t);d[ds]=jv(t,e,s,n)}}}function Jle(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=uae();try{mf(o);for(let a=i;a<r;a++){let l=e.data[a],d=t[a];kM(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ece(l,d)}}finally{mf(-1),kM(s)}}function ece(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function JT(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];k9(t,o.selectors,!1)&&(i??=[],Jl(o)?i.unshift(o):i.push(o))}return i}function tce(e,t,n,i,r,o){let s=rc(e,t);nce(t[fr],s,o,e.value,n,i,r)}function nce(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Kv(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function ice(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],d=s[a+1];XM(i,n,l,d)}}function rce(e,t){let n=e[Cm],i=n?n.get(us,null):null;i&&i.handleError(t)}function eI(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let d=s[l],c=s[l+1],u=t.data[d];XM(u,n[d],c,r),a=!0}if(o)for(let l of o){let d=n[l],c=t.data[l];XM(c,d,i,r),a=!0}return a}function oce(e,t){let n=tc(t,e),i=n[Nn];sce(i,n);let r=n[fd];r!==null&&n[Hv]===null&&(n[Hv]=p9(r,n[Cm])),Vi(18),tI(i,n,n[ds]),Vi(19,n[ds])}function sce(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function tI(e,t,n){LT(t);try{let i=e.viewQuery;i!==null&&zM(1,i,n);let r=e.template;r!==null&&B9(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[cd]?.finishViewCreation(e),e.staticContentQueries&&m9(e,t),e.staticViewQueries&&zM(2,e.viewQuery,n);let o=e.components;o!==null&&ace(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[_n]&=-5,NT()}}function ace(e,t){for(let n=0;n<t.length;n++)oce(e,t[n])}function nI(e,t,n,i){let r=Kn(null);try{let o=t.tView,a=e[_n]&4096?4096:16,l=YT(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=e[t.index];l[uf]=d;let c=e[cd];return c!==null&&(l[cd]=c.createEmbeddedView(o)),tI(o,l,n),l}finally{Kn(r)}}function ZC(e,t){return!t||t.firstChild===null||i9(e)}var lce;function iI(e,t){return lce(e,t)}var ud=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ud||{});function rI(e){return(e.flags&32)===32}function mm(e,t,n,i,r){if(i!=null){let o,s=!1;pd(i)?o=i:Ru(i)&&(s=!0,i=i[fd]);let a=ec(i);e===0&&n!==null?r==null?F9(t,n,a):XC(t,n,a,r||null,!0):e===1&&n!==null?XC(t,n,a,r||null,!0):e===2?zle(t,a,s):e===3&&t.destroyNode(a),o!=null&&bce(t,e,o,n,r)}}function cce(e,t){V9(e,t),t[fd]=null,t[Ls]=null}function dce(e,t,n,i,r,o){i[fd]=r,i[Ls]=t,D_(e,i,n,1,r,o)}function V9(e,t){t[ld].changeDetectionScheduler?.notify(9),D_(e,t,t[fr],2,null,null)}function uce(e){let t=e[zv];if(!t)return fM(e[Nn],e);for(;t;){let n=null;if(Ru(t))n=t[zv];else{let i=t[Ps];i&&(n=i)}if(!n){for(;t&&!t[ml]&&t!==e;)Ru(t)&&fM(t[Nn],t),t=t[jo];t===null&&(t=e),Ru(t)&&fM(t[Nn],t),n=t&&t[ml]}t=n}}function oI(e,t){let n=e[_m],i=n.indexOf(t);n.splice(i,1)}function sI(e,t){if(Qv(t))return;let n=t[fr];n.destroyNode&&D_(e,t,n,3,null,null),uce(t)}function fM(e,t){if(Qv(t))return;let n=Kn(null);try{t[_n]&=-129,t[_n]|=256,t[La]&&Ev(t[La]),fce(e,t),hce(e,t),t[Nn].type===1&&t[fr].destroy();let i=t[uf];if(i!==null&&pd(t[jo])){i!==t[jo]&&oI(i,t);let r=t[cd];r!==null&&r.detachView(e)}BM(t)}finally{Kn(n)}}function hce(e,t){let n=e.cleanup,i=t[HC];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[HC]=null);let r=t[Du];if(r!==null){t[Du]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[hf];if(o!==null){t[hf]=null;for(let s of o)s.destroy()}}function fce(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof gf)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Vi(4,a,l);try{l.call(a)}finally{Vi(5,a,l)}}else{Vi(4,r,o);try{o.call(r)}finally{Vi(5,r,o)}}}}}function H9(e,t,n){return pce(e,t.parent,n)}function pce(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[fd];if(km(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===nc.None||r===nc.Emulated)return null}return rc(i,n)}function z9(e,t,n){return gce(e,t,n)}function mce(e,t,n){return e.type&40?rc(e,n):null}var gce=mce,x7;function E_(e,t,n,i){let r=H9(e,i,t),o=t[fr],s=i.parent||t[Ls],a=z9(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)_7(o,r,n[l],a,!1);else _7(o,r,n,a,!1);x7!==void 0&&x7(o,i,t,n,r)}function Nv(e,t){if(t!==null){let n=t.type;if(n&3)return rc(t,e);if(n&4)return ZM(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Nv(e,i);{let r=e[t.index];return pd(r)?ZM(-1,r):ec(r)}}else{if(n&128)return Nv(e,t.next);if(n&32)return iI(t,e)()||ec(e[t.index]);{let i=j9(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=pf(e[Na]);return Nv(r,i)}else return Nv(e,t.next)}}}return null}function j9(e,t){if(t!==null){let i=e[Na][Ls],r=t.projection;return i.projection[r]}return null}function ZM(e,t){let n=Ps+e+1;if(n<t.length){let i=t[n],r=i[Nn].firstChild;if(r!==null)return Nv(i,r)}return t[ff]}function aI(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Nm(ec(a),i),n.flags|=2),!rI(n))if(l&8)aI(e,t,n.child,i,r,o,!1),mm(t,e,r,a,o);else if(l&32){let d=iI(n,i),c;for(;c=d();)mm(t,e,r,c,o);mm(t,e,r,a,o)}else l&16?G9(e,t,i,n,r,o):mm(t,e,r,a,o);n=s?n.projectionNext:n.next}}function D_(e,t,n,i,r,o){aI(n,i,e.firstChild,t,r,o,!1)}function vce(e,t,n){let i=t[fr],r=H9(e,n,t),o=n.parent||t[Ls],s=z9(o,n,t);G9(i,0,t,n,r,s)}function G9(e,t,n,i,r,o){let s=n[Na],l=s[Ls].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let c=l[d];mm(t,e,r,c,o)}else{let d=l,c=s[jo];i9(i)&&(d.flags|=128),aI(e,t,d,c,r,o,!0)}}function bce(e,t,n,i,r){let o=n[ff],s=ec(n);o!==s&&mm(t,e,i,o,r);for(let a=Ps;a<n.length;a++){let l=n[a];D_(l[Nn],l,e,t,i,o)}}function yce(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:ud.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ud.Important),e.setStyle(n,i,r,o))}}function QC(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(ec(o)),pd(o)&&wce(o,i);let s=n.type;if(s&8)QC(e,t,n.child,i);else if(s&32){let a=iI(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=j9(t,n);if(Array.isArray(a))i.push(...a);else{let l=pf(t[Na]);QC(l[Nn],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function wce(e,t){for(let n=Ps;n<e.length;n++){let i=e[n],r=i[Nn].firstChild;r!==null&&QC(i[Nn],i,r,t)}e[ff]!==e[fd]&&t.push(e[ff])}function U9(e){if(e[gm]!==null){for(let t of e[gm])t.impl.addSequence(t);e[gm].length=0}}var W9=[];function Cce(e){return e[La]??_ce(e)}function _ce(e){let t=W9.pop()??Object.create(Sce);return t.lView=e,t}function xce(e){e.lView[La]!==e&&(e.lView=null,W9.push(e))}var Sce=Le(re({},Jp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Am(e.lView)},consumerOnSignalRead(){this.lView[La]=this}});function Ece(e){let t=e[La]??Object.create(Dce);return t.lView=e,t}var Dce=Le(re({},Jp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=pf(e.lView);for(;t&&!$9(t[Nn]);)t=pf(t);t&&xN(t)},consumerOnSignalRead(){this.lView[La]=this}});function $9(e){return e.type!==2}function q9(e){if(e[hf]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[hf])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[_n]&8192)}}var Rce=100;function K9(e,t=!0,n=0){let r=e[ld].rendererFactory,o=!1;o||r.begin?.();try{Mce(e,n)}catch(s){throw t&&rce(e,s),s}finally{o||r.end?.()}}function Mce(e,t){let n=RN();try{GC(!0),QM(e,t);let i=0;for(;p_(e);){if(i===Rce)throw new Dt(103,!1);i++,QM(e,1)}}finally{GC(n)}}function Tce(e,t,n,i){if(Qv(t))return;let r=t[_n],o=!1,s=!1;LT(t);let a=!0,l=null,d=null;o||($9(e)?(d=Cce(t),l=Sv(d)):HR()===null?(a=!1,d=Ece(t),l=Sv(d)):t[La]&&(Ev(t[La]),t[La]=null));try{_N(t),lae(e.bindingStartIndex),n!==null&&B9(e,t,n,2,i);let c=(r&3)===3;if(!o)if(c){let p=e.preOrderCheckHooks;p!==null&&IC(t,p,null)}else{let p=e.preOrderHooks;p!==null&&kC(t,p,0,null),uM(t,0)}if(s||Ice(t),q9(t),Y9(t,0),e.contentQueries!==null&&m9(e,t),!o)if(c){let p=e.contentCheckHooks;p!==null&&IC(t,p)}else{let p=e.contentHooks;p!==null&&kC(t,p,1),uM(t,1)}Ace(e,t);let u=e.components;u!==null&&Z9(t,u,0);let h=e.viewQuery;if(h!==null&&zM(2,h,i),!o)if(c){let p=e.viewCheckHooks;p!==null&&IC(t,p)}else{let p=e.viewHooks;p!==null&&kC(t,p,2),uM(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[dM]){for(let p of t[dM])p();t[dM]=null}o||(U9(t),t[_n]&=-73)}catch(c){throw o||Am(t),c}finally{d!==null&&(j1(d,l),a&&xce(d)),NT()}}function Y9(e,t){for(let n=s9(e);n!==null;n=a9(n))for(let i=Ps;i<n.length;i++){let r=n[i];X9(r,t)}}function Ice(e){for(let t=s9(e);t!==null;t=a9(t)){if(!(t[_n]&2))continue;let n=t[_m];for(let i=0;i<n.length;i++){let r=n[i];xN(r)}}}function kce(e,t,n){Vi(18);let i=tc(t,e);X9(i,n),Vi(19,i[ds])}function X9(e,t){TT(e)&&QM(e,t)}function QM(e,t){let i=e[Nn],r=e[_n],o=e[La],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&G1(o)),s||=!1,o&&(o.dirty=!1),e[_n]&=-9217,s)Tce(i,e,i.template,e[ds]);else if(r&8192){q9(e),Y9(e,1);let a=i.components;a!==null&&Z9(e,a,1),U9(e)}}function Z9(e,t,n){for(let i=0;i<t.length;i++)kce(e,t[i],n)}function Ace(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)mf(~r);else{let o=r,s=n[++i],a=n[++i];dae(s,o);let l=t[o];Vi(24,l),a(2,l),Vi(25,l)}}}finally{mf(-1)}}function lI(e,t){let n=RN()?64:1088;for(e[ld].changeDetectionScheduler?.notify(t);e;){e[_n]|=n;let i=pf(e);if(jC(e)&&!i)return e;e=i}return null}function Q9(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Fce(e,t){let n=Ps+t;if(n<e.length)return e[n]}function cI(e,t,n,i=!0){let r=t[Nn];if(Oce(r,t,e,n),i){let s=ZM(n,e),a=t[fr],l=a.parentNode(e[ff]);l!==null&&dce(r,e[Ls],a,t,l,s)}let o=t[Hv];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Pce(e,t){let n=JC(e,t);return n!==void 0&&sI(n[Nn],n),n}function JC(e,t){if(e.length<=Ps)return;let n=Ps+t,i=e[n];if(i){let r=i[uf];r!==null&&r!==e&&oI(r,i),t>0&&(e[n-1][ml]=i[ml]);let o=BC(e,Ps+t);cce(i[Nn],i);let s=o[cd];s!==null&&s.detachView(o[Nn]),i[jo]=null,i[ml]=null,i[_n]&=-129}return i}function Oce(e,t,n,i){let r=Ps+i,o=n.length;i>0&&(n[r-1][ml]=t),i<o-Ps?(t[ml]=n[r],iN(n,Ps+i,t)):(n.push(t),t[ml]=null),t[jo]=n;let s=t[uf];s!==null&&n!==s&&J9(s,t);let a=t[cd];a!==null&&a.insertView(e),TM(t),t[_n]|=128}function J9(e,t){let n=e[_m],i=t[jo];if(Ru(i))e[_n]|=2;else{let r=i[jo][Na];t[Na]!==r&&(e[_n]|=2)}n===null?e[_m]=[t]:n.push(t)}var Uv=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Nn];return QC(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[ds]}set context(t){this._lView[ds]=t}get destroyed(){return Qv(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[jo];if(pd(t)){let n=t[zC],i=n?n.indexOf(this):-1;i>-1&&(JC(t,i),BC(n,i))}this._attachedToViewContainer=!1}sI(this._lView[Nn],this._lView)}onDestroy(t){SN(this._lView,t)}markForCheck(){lI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[_n]&=-129}reattach(){TM(this._lView),this._lView[_n]|=128}detectChanges(){this._lView[_n]|=1024,K9(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=jC(this._lView),n=this._lView[uf];n!==null&&!t&&oI(n,this._lView),V9(this._lView[Nn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Dt(902,!1);this._appRef=t;let n=jC(this._lView),i=this._lView[uf];i!==null&&!n&&J9(i,this._lView),TM(this._lView)}};var Os=(()=>{class e{static __NG_ELEMENT_ID__=Bce}return e})(),Lce=Os,Nce=class extends Lce{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=nI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Uv(r)}};function Bce(){return R_(Go(),Vn())}function R_(e,t){return e.type&4?new Nce(t,e,Om(e,t)):null}function Vm(e,t,n,i,r){let o=e.data[t];if(o===null)o=Vce(e,t,n,i,r),cae()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=sae();o.injectorIndex=s===null?-1:s.injectorIndex}return Tu(o,!0),o}function Vce(e,t,n,i,r){let o=DN(),s=FT(),a=s?o:o&&o.parent,l=e.data[t]=zce(e,a,n,t,i,r);return Hce(e,l,o,s),l}function Hce(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function zce(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return EN()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var KLe=new RegExp(`^(\\d+)*(${Xae}|${Yae})*(.*)`);var jce=()=>null;function e_(e,t){return jce(e,t)}var Gce=class{},eB=class{},JM=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Fs(t)}.`)}},M_=class{static NULL=new JM},to=class{},xr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Uce()}return e})();function Uce(){let e=Vn(),t=Go(),n=tc(t.index,e);return(Ru(n)?n:e)[fr]}var Wce=(()=>{class e{static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>null})}return e})();var pM={},eT=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=l_(i);let r=this.injector.get(t,pM,i);return r!==pM||n===pM?r:this.parentInjector.get(t,n,i)}};function tT(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=CM(r,a);else if(o==2){let l=a,d=t[++s];i=CM(i,l+": "+d+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function et(e,t=Wn.Default){let n=Vn();if(n===null)return Rt(e,t);let i=Go();return UN(i,n,To(e),t)}function dI(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a,l=null,d=null,c=qce(s);c===null?a=s:[a,l,d]=c,Xce(e,t,n,a,o,l,d)}o!==null&&i!==null&&$ce(n,i,o)}function $ce(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new Dt(-301,!1);i.push(t[r],o)}}function qce(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Jl(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,Kce(s,i,o,r)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?e:e.slice(1)),[i,r,o]):null}function Kce(e,t,n,i){let r=t.length;e.findHostDirectiveDefs(e,t,i),n.set(e,[r,t.length-1])}function Yce(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Xce(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let h=0;h<a;h++){let p=i[h];!l&&Jl(p)&&(l=!0,Yce(e,n,h)),FM(qC(n,t),e,p.type)}nde(n,e.data.length,a);for(let h=0;h<a;h++){let p=i[h];p.providersResolver&&p.providersResolver(p)}let d=!1,c=!1,u=L9(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let p=i[h];if(n.mergedAttrs=Sm(n.mergedAttrs,p.hostAttrs),Qce(e,n,t,u,p),tde(u,p,r),s!==null&&s.has(p)){let[m,g]=s.get(p);n.directiveToIndex.set(p.type,[u,m+n.directiveStart,g+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,u);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let f=p.type.prototype;!d&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}Zce(e,n,o)}function Zce(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))S7(0,t,r,i),S7(1,t,r,i),D7(t,i,!1);else{let o=n.get(r);E7(0,t,o,i),E7(1,t,o,i),D7(t,i,!0)}}}function S7(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),tB(t,o)}}function E7(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),tB(t,s)}}function tB(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function D7(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||qT(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let d=r[l];for(let c of d)if(c===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let d=o[l];for(let c=0;c<d.length;c+=2)if(d[c]===t){s??=[],s.push(d[c+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Qce(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=cf(r.type,!0)),s=new gf(o,Jl(r),et);e.blueprint[i]=s,n[i]=s,Jce(e,t,i,L9(e,n,r.hostVars,oc),r)}function Jce(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;ede(s)!=a&&s.push(a),s.push(n,i,o)}}function ede(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function tde(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Jl(t)&&(n[""]=e)}}function nde(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function nB(e,t,n,i,r,o,s,a){let l=t.consts,d=xm(l,s),c=Vm(t,e,2,i,d);return o&&dI(t,n,c,xm(l,a),r),c.mergedAttrs=Sm(c.mergedAttrs,c.attrs),c.attrs!==null&&tT(c,c.attrs,!1),c.mergedAttrs!==null&&tT(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function iB(e,t){BT(e,t),RT(t)&&e.queries.elementEnd(t)}var t_=class extends M_{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=df(t);return new Dm(n,this.ngModule)}};function ide(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&x_.SignalBased)!==0};return r&&(o.transform=r),o})}function rde(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function ode(e,t,n){let i=t instanceof $r?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new eT(n,i):n}function sde(e){let t=e.get(to,null);if(t===null)throw new Dt(407,!1);let n=e.get(Wce,null),i=e.get(vf,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i}}function ade(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return A9(t,n,n==="svg"?yN:n==="math"?Yse:null)}var Dm=class extends eB{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ide(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rde(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Lle(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r){Vi(22);let o=Kn(null);try{let s=this.componentDef,a=i?["ng-version","19.2.5"]:Nle(this.componentDef.selectors[0]),l=KT(0,null,null,1,0,null,null,null,null,[a],null),d=ode(s,r||this.ngModule,t),c=sde(d),u=c.rendererFactory.createRenderer(null,s),h=i?qle(u,i,s.encapsulation,d):ade(s,u),p=YT(null,l,null,512|O9(s),null,null,c,u,d,null,p9(h,d,!0));p[ho]=h,LT(p);let f=null;try{let m=nB(ho,l,p,"#host",()=>[this.componentDef],!0,0);h&&(P9(u,h,m),Nm(h,p)),S_(l,p,m),WT(l,m,p),iB(l,m),n!==void 0&&lde(m,this.ngContentSelectors,n),f=tc(m.index,p),p[ds]=f[ds],tI(l,p,null)}catch(m){throw f!==null&&BM(f),BM(p),m}finally{Vi(23),NT()}return new nT(this.componentType,p)}finally{Kn(o)}}},nT=class extends Gce{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=MT(n[Nn],ho),this.location=Om(this._tNode,n),this.instance=tc(this._tNode.index,n)[ds],this.hostView=this.changeDetectorRef=new Uv(n,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=eI(i,r[Nn],r,t,n);this.previousInputValues.set(t,n);let s=tc(i.index,r);lI(s,1)}get injector(){return new lf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function lde(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Lr=(()=>{class e{static __NG_ELEMENT_ID__=cde}return e})();function cde(){let e=Go();return oB(e,Vn())}var dde=Lr,rB=class extends dde{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Om(this._hostTNode,this._hostLView)}get injector(){return new lf(this._hostTNode,this._hostLView)}get parentInjector(){let t=VT(this._hostTNode,this._hostLView);if(BN(t)){let n=WC(t,this._hostLView),i=UC(t),r=n[Nn].data[i+8];return new lf(r,n)}else return new lf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=R7(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Ps}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=e_(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,ZC(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!Wse(t),a;if(s)a=n;else{let f=n||{};a=f.index,i=f.injector,r=f.projectableNodes,o=f.environmentInjector||f.ngModuleRef}let l=s?t:new Dm(df(t)),d=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?d:this.parentInjector).get($r,null);m&&(o=m)}let c=df(l.componentType??{}),u=e_(this._lContainer,c?.id??null),h=u?.firstChild??null,p=l.create(d,r,h,o);return this.insertImpl(p.hostView,a,ZC(this._hostTNode,u)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(Zse(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[jo],d=new rB(l,l[Ls],l[jo]);d.detach(d.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return cI(s,r,o,i),t.attachToViewContainerRef(),iN(mM(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=R7(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=JC(this._lContainer,n);i&&(BC(mM(this._lContainer),n),sI(i[Nn],i))}detach(t){let n=this._adjustIndex(t,-1),i=JC(this._lContainer,n);return i&&BC(mM(this._lContainer),n)!=null?new Uv(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function R7(e){return e[zC]}function mM(e){return e[zC]||(e[zC]=[])}function oB(e,t){let n,i=t[e.index];return pd(i)?n=i:(n=Q9(i,t,null,e),t[e.index]=n,XT(t,n)),hde(n,t,e,i),new rB(n,e,t)}function ude(e,t){let n=e[fr],i=n.createComment(""),r=rc(t,e),o=n.parentNode(r);return XC(n,o,i,n.nextSibling(r),!1),i}var hde=mde,fde=()=>!1;function pde(e,t,n){return fde(e,t,n)}function mde(e,t,n,i){if(e[ff])return;let r;n.type&8?r=ec(i):r=ude(t,n),e[ff]=r}var iT=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},rT=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)hI(t,n).matches!==null&&this.queries[n].setDirty()}},n_=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Cde(t):this.predicate=t}},oT=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},sT=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,gde(n,o)),this.matchTNodeWithReadOption(t,n,AC(n,t,o,!1,!1))}else i===Os?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,AC(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===qt||r===Lr||r===Os&&n.type&4)this.addMatch(n.index,-2);else{let o=AC(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function gde(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function vde(e,t){return e.type&11?Om(e,t):e.type&4?R_(e,t):null}function bde(e,t,n,i){return n===-1?vde(t,e):n===-2?yde(e,t,i):jv(e,e[Nn],n,t)}function yde(e,t,n){if(n===qt)return Om(t,e);if(n===Os)return R_(t,e);if(n===Lr)return oB(t,e)}function sB(e,t,n,i){let r=t[cd].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let c=o[d];a.push(bde(t,c,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function aT(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=sB(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let d=o[a+1],c=t[-l];for(let u=Ps;u<c.length;u++){let h=c[u];h[uf]===h[jo]&&aT(h[Nn],h,d,i)}if(c[_m]!==null){let u=c[_m];for(let h=0;h<u.length;h++){let p=u[h];aT(p[Nn],p,d,i)}}}}}return i}function uI(e,t){return e[cd].queries[t].queryList}function aB(e,t,n){let i=new Mu((n&4)===4);return eae(e,t,i,i.destroy),(t[cd]??=new rT).queries.push(new iT(i))-1}function wde(e,t,n){let i=pr();return i.firstCreatePass&&(cB(i,new n_(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),aB(i,Vn(),t)}function lB(e,t,n,i){let r=pr();if(r.firstCreatePass){let o=Go();cB(r,new n_(t,n,i),o.index),_de(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return aB(r,Vn(),n)}function Cde(e){return e.split(",").map(t=>t.trim())}function cB(e,t,n){e.queries===null&&(e.queries=new oT),e.queries.track(new sT(t,n))}function _de(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function hI(e,t){return e.queries.getByIndex(t)}function dB(e,t){let n=e[Nn],i=hI(n,t);return i.crossesNgTemplate?aT(n,e,t,[]):sB(n,e,i,t)}function uB(e,t,n){let i,r=$1(()=>{i._dirtyCounter();let o=Dde(i,e);if(t&&o===void 0)throw new Dt(-951,!1);return o});return i=r[Is],i._dirtyCounter=Ns(0),i._flatValue=void 0,r}function xde(e){return uB(!0,!1,e)}function Sde(e){return uB(!0,!0,e)}function Ede(e,t){let n=e[Is];n._lView=Vn(),n._queryIndex=t,n._queryList=uI(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function Dde(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[_n]&4)return t?void 0:cs;let r=uI(n,i),o=dB(n,i);return r.reset(o,t9),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}function M7(e,t){return xde(t)}function Rde(e,t){return Sde(t)}var hB=(M7.required=Rde,M7);var hd=class{},fI=class{};var lT=class extends hd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new t_(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=sN(t);this._bootstrapComponents=T9(o.bootstrap),this._r3Injector=KN(t,n,[{provide:hd,useValue:this},{provide:M_,useValue:this.componentFactoryResolver},...i],Fs(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},cT=class extends fI{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new lT(this.moduleType,t,[])}};var i_=class extends hd{injector;componentFactoryResolver=new t_(this);instance=null;constructor(t){super();let n=new Vv([...t.providers,{provide:hd,useValue:this},{provide:M_,useValue:this.componentFactoryResolver}],t.parent||u_(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function T_(e,t,n=null){return new i_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Mde=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=lN(!1,n.type),r=i.length>0?T_([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Pe({token:e,providedIn:"environment",factory:()=>new e(Rt($r))})}return e})();function st(e){return qv(()=>{let t=pB(e),n=Le(re({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===r9.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(Mde).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||nc.Emulated,styles:e.styles||cs,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&eb("NgStandalone"),mB(n);let i=e.dependencies;return n.directiveDefs=T7(i,!1),n.pipeDefs=T7(i,!0),n.id=Fde(n),n})}function Tde(e){return df(e)||aN(e)}function Ide(e){return e!==null}function zt(e){return qv(()=>({type:e.type,bootstrap:e.bootstrap||cs,declarations:e.declarations||cs,imports:e.imports||cs,exports:e.exports||cs,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kde(e,t){if(e==null)return Ql;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=x_.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function Ade(e){if(e==null)return Ql;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function tn(e){return qv(()=>{let t=pB(e);return mB(t),t})}function fB(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function pB(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ql,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||cs,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kde(e.inputs,t),outputs:Ade(e.outputs),debugInfo:null}}function mB(e){e.features?.forEach(t=>t(e))}function T7(e,t){if(!e)return null;let n=t?Pse:Tde;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(Ide)}function Fde(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Pde(e){return Object.getPrototypeOf(e.prototype).constructor}function Nr(e){let t=Pde(e.type),n=!0,i=[e];for(;t;){let r;if(Jl(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Dt(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=gM(e.inputs),s.declaredInputs=gM(e.declaredInputs),s.outputs=gM(e.outputs);let a=r.hostBindings;a&&Vde(e,a);let l=r.viewQuery,d=r.contentQueries;if(l&&Nde(e,l),d&&Bde(e,d),Ode(e,r),hse(e.outputs,r.outputs),Jl(r)&&r.data.animation){let c=e.data;c.animation=(c.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Nr&&(n=!1)}}t=Object.getPrototypeOf(t)}Lde(i)}function Ode(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function Lde(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Sm(r.hostAttrs,n=Sm(n,r.hostAttrs))}}function gM(e){return e===Ql?{}:e===cs?[]:e}function Nde(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function Bde(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function Vde(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function gB(e){let t=n=>{let i=Array.isArray(e);n.hostDirectives===null?(n.findHostDirectiveDefs=vB,n.hostDirectives=i?e.map(dT):[e]):i?n.hostDirectives.unshift(...e.map(dT)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function vB(e,t,n){if(e.hostDirectives!==null)for(let i of e.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)I7(dT(o),t,n)}else I7(i,t,n)}function I7(e,t,n){let i=aN(e.directive);Hde(i.declaredInputs,e.inputs),vB(i,t,n),n.set(i,e),t.push(i)}function dT(e){return typeof e=="function"?{directive:To(e),inputs:Ql,outputs:Ql}:{directive:To(e.directive),inputs:k7(e.inputs),outputs:k7(e.outputs)}}function k7(e){if(e===void 0||e.length===0)return Ql;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function Hde(e,t){for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],r=e[n];e[i]=r}}function bB(e){return jde(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function zde(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function jde(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function yB(e,t,n){return e[t]=n}function Ba(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function Gde(e,t,n,i){let r=Ba(e,t,n);return Ba(e,t+1,i)||r}function Ude(e,t,n,i,r){let o=Gde(e,t,n,i);return Ba(e,t+2,r)||o}function Wde(e,t,n,i,r,o,s,a,l){let d=t.consts,c=Vm(t,e,4,s||null,a||null);AT()&&dI(t,n,c,xm(d,l),JT),c.mergedAttrs=Sm(c.mergedAttrs,c.attrs),BT(t,c);let u=c.tView=KT(2,c,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return t.queries!==null&&(t.queries.template(t,c),u.queries=t.queries.embeddedTView(c)),c}function wB(e,t,n,i,r,o,s,a,l,d){let c=n+ho,u=t.firstCreatePass?Wde(c,t,e,i,r,o,s,a,l):t.data[c];Tu(u,!1);let h=$de(t,e,u,n);v_()&&E_(t,e,h,u),Nm(h,e);let p=Q9(h,e,h,u);return e[c]=p,XT(e,p),pde(p,u,e),f_(u)&&S_(t,e,u),l!=null&&ZT(e,u,d),u}function un(e,t,n,i,r,o,s,a){let l=Vn(),d=pr(),c=xm(d.consts,o);return wB(l,d,e,t,n,i,r,c,s,a),un}var $de=qde;function qde(e,t,n,i){return b_(!0),t[fr].createComment("")}var pI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var CB=new Ne("");var _B=(()=>{class e{static \u0275prov=Pe({token:e,providedIn:"root",factory:()=>new uT})}return e})(),uT=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Fu(e){return!!e&&typeof e.then=="function"}function mI(e){return!!e&&typeof e.subscribe=="function"}var xB=new Ne("");var SB=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=te(xB,{optional:!0})??[];injector=te($n);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=ha(this.injector,r);if(Fu(o))n.push(o);else if(mI(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gI=new Ne("");function Kde(){UR(()=>{throw new Dt(600,!1)})}function Yde(e){return e.isBoundToModule}var Xde=10;var ua=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=te(Hae);afterRenderManager=te(h9);zonelessEnabled=te(y_);rootEffectScheduler=te(_B);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new yt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=te(ku).hasPendingTasks.pipe(Jt(n=>!n));constructor(){te(Bm,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=te($r);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){Vi(10);let r=n instanceof eB;if(!this._injector.get(SB).done){let h="";throw new Dt(405,h)}let s;r?s=n:s=this._injector.get(M_).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Yde(s)?void 0:this._injector.get(hd),l=i||s.selector,d=s.create($n.NULL,[],l,a),c=d.location.nativeElement,u=d.injector.get(CB,null);return u?.registerApplication(c),d.onDestroy(()=>{this.detachView(d.hostView),FC(this.components,d),u?.unregisterApplication(c)}),this._loadComponent(d),Vi(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Vi(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(GT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Dt(101,!1);let n=Kn(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Kn(n),this.afterTick.next(),Vi(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(to,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Xde;)Vi(14),this.synchronizeOnce(),Vi(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)Zde(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>p_(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;FC(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(gI,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>FC(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Dt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FC(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Zde(e,t,n,i){if(!n&&!p_(e))return;K9(e,t,n&&!i?0:1)}function Si(e,t,n,i){let r=Vn(),o=Fm();if(Ba(r,o,t)){let s=pr(),a=g_();tce(a,r,e,t,n,i)}return Si}function EB(e,t,n,i){return Ba(e,Fm(),n)?t+Kv(n)+i:oc}function MC(e,t){return e<<17|t<<2}function bf(e){return e>>17&32767}function Qde(e){return(e&2)==2}function Jde(e,t){return e&131071|t<<17}function hT(e){return e|2}function Rm(e){return(e&131068)>>2}function vM(e,t){return e&-131069|t<<2}function eue(e){return(e&1)===1}function fT(e){return e|1}function tue(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=bf(s),l=Rm(s);e[i]=n;let d=!1,c;if(Array.isArray(n)){let u=n;c=u[1],(c===null||Xv(u,c)>0)&&(d=!0)}else c=n;if(r)if(l!==0){let h=bf(e[a+1]);e[i+1]=MC(h,a),h!==0&&(e[h+1]=vM(e[h+1],i)),e[a+1]=Jde(e[a+1],i)}else e[i+1]=MC(a,0),a!==0&&(e[a+1]=vM(e[a+1],i)),a=i;else e[i+1]=MC(l,0),a===0?a=i:e[l+1]=vM(e[l+1],i),l=i;d&&(e[i+1]=hT(e[i+1])),A7(e,c,i,!0),A7(e,c,i,!1),nue(t,c,e,i,o),s=MC(a,l),o?t.classBindings=s:t.styleBindings=s}function nue(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Xv(o,t)>=0&&(n[i+1]=fT(n[i+1]))}function A7(e,t,n,i){let r=e[n+1],o=t===null,s=i?bf(r):Rm(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],d=e[s+1];iue(l,t)&&(a=!0,e[s+1]=i?fT(d):hT(d)),s=i?bf(d):Rm(d)}a&&(e[n+1]=i?hT(r):fT(r))}function iue(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Xv(e,t)>=0:!1}var eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DB(e){return e.substring(eo.key,eo.keyEnd)}function rue(e){return e.substring(eo.value,eo.valueEnd)}function oue(e){return TB(e),RB(e,Mm(e,0,eo.textEnd))}function RB(e,t){let n=eo.textEnd;return n===t?-1:(t=eo.keyEnd=aue(e,eo.key=t,n),Mm(e,t,n))}function sue(e){return TB(e),MB(e,Mm(e,0,eo.textEnd))}function MB(e,t){let n=eo.textEnd,i=eo.key=Mm(e,t,n);return n===i?-1:(i=eo.keyEnd=lue(e,i,n),i=F7(e,i,n,58),i=eo.value=Mm(e,i,n),i=eo.valueEnd=cue(e,i,n),F7(e,i,n,59))}function TB(e){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=e.length}function Mm(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function aue(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function lue(e,t,n){let i;for(;t<n&&((i=e.charCodeAt(t))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)t++;return t}function F7(e,t,n,i){return t=Mm(e,t,n),t<n&&t++,t}function cue(e,t,n){let i=-1,r=-1,o=-1,s=t,a=s;for(;s<n;){let l=e.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=P7(e,l,s,n):t===s-4&&o===85&&r===82&&i===76&&l===40?a=s=P7(e,41,s,n):l>32&&(a=s),o=r,r=i,i=l&-33}return a}function P7(e,t,n,i){let r=-1,o=n;for(;o<i;){let s=e.charCodeAt(o++);if(s==t&&r!==92)return o;s==92&&r===92?r=0:r=s}throw new Error}function gt(e,t,n){let i=Vn(),r=Fm();if(Ba(i,r,t)){let o=pr(),s=g_();QT(o,s,i,e,t,i[fr],n,!1)}return gt}function pT(e,t,n,i,r){eI(t,e,n,r?"class":"style",i)}function Va(e,t,n){return AB(e,t,n,!1),Va}function Rn(e,t){return AB(e,t,null,!0),Rn}function IB(e){vI(OB,due,e,!1)}function due(e,t){for(let n=sue(t);n>=0;n=MB(t,n))OB(e,DB(t),rue(t))}function Vs(e){vI(gue,kB,e,!0)}function kB(e,t){for(let n=oue(t);n>=0;n=RB(t,n))Yv(e,DB(t),!0)}function AB(e,t,n,i){let r=Vn(),o=pr(),s=TN(2);if(o.firstUpdatePass&&PB(o,e,s,i),t!==oc&&Ba(r,s,t)){let a=o.data[yf()];LB(o,a,r,r[fr],e,r[s+1]=bue(t,n),i,s)}}function vI(e,t,n,i){let r=pr(),o=TN(2);r.firstUpdatePass&&PB(r,null,o,i);let s=Vn();if(n!==oc&&Ba(s,o,n)){let a=r.data[yf()];if(NB(a,i)&&!FB(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=CM(l,n||"")),pT(r,a,s,n,i)}else vue(r,a,s,s[fr],s[o+1],s[o+1]=mue(e,t,n),i,o)}}function FB(e,t){return t>=e.expandoStartIndex}function PB(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[yf()],s=FB(e,n);NB(o,i)&&t===null&&!s&&(t=!1),t=uue(r,o,t,i),tue(r,o,t,n,s,i)}}function uue(e,t,n,i){let r=hae(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=bM(null,e,t,n,i),n=Wv(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=bM(r,e,t,n,i),o===null){let l=hue(e,t,i);l!==void 0&&Array.isArray(l)&&(l=bM(null,e,t,l[1],i),l=Wv(l,t.attrs,i),fue(e,t,i,l))}else o=pue(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function hue(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Rm(i)!==0)return e[bf(i)]}function fue(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[bf(r)]=i}function pue(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Wv(i,s,n)}return Wv(i,t.attrs,n)}function bM(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Wv(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Wv(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Yv(e,s,n?!0:t[++o]))}return e===void 0?null:e}function mue(e,t,n){if(n==null||n==="")return cs;let i=[],r=gl(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function OB(e,t,n){Yv(e,t,gl(n))}function gue(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Yv(e,i,n)}function vue(e,t,n,i,r,o,s,a){r===oc&&(r=cs);let l=0,d=0,c=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;c!==null||u!==null;){let h=l<r.length?r[l+1]:void 0,p=d<o.length?o[d+1]:void 0,f=null,m;c===u?(l+=2,d+=2,h!==p&&(f=u,m=p)):u===null||c!==null&&c<u?(l+=2,f=c):(d+=2,f=u,m=p),f!==null&&LB(e,t,n,i,f,m,s,a),c=l<r.length?r[l]:null,u=d<o.length?o[d]:null}}function LB(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,d=l[a+1],c=eue(d)?O7(l,t,n,r,Rm(d),s):void 0;if(!r_(c)){r_(o)||Qde(d)&&(o=O7(l,null,n,r,a,s));let u=wN(yf(),n);yce(i,s,u,r,o)}}function O7(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],d=Array.isArray(l),c=d?l[1]:l,u=c===null,h=n[r+1];h===oc&&(h=u?cs:void 0);let p=u?lM(h,i):c===i?h:void 0;if(d&&!r_(p)&&(p=lM(l,i)),r_(p)&&(a=p,s))return a;let f=e[r+1];r=s?bf(f):Rm(f)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=lM(l,i))}return a}function r_(e){return e!==void 0}function bue(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Fs(gl(e)))),e}function NB(e,t){return(e.flags&(t?8:16))!==0}function BB(e,t,n){let i=Vn(),r=EB(i,e,t,n);vI(Yv,kB,r,!0)}function Br(e,t){eb("NgControlFlow");let n=Vn(),i=Fm(),r=n[i]!==oc?n[i]:-1,o=r!==-1?L7(n,ho+r):void 0,s=0;if(Ba(n,i,e)){let a=Kn(null);try{if(o!==void 0&&Pce(o,s),e!==-1){let l=ho+e,d=L7(n,l),c=yue(n[Nn],l),u=e_(d,c.tView.ssrId),h=nI(n,c,t,{dehydratedView:u});cI(d,h,s,ZC(c,u))}}finally{Kn(a)}}else if(o!==void 0){let a=Fce(o,s);a!==void 0&&(a[ds]=t)}}function L7(e,t){return e[t]}function yue(e,t){return MT(e,t)}function je(e,t,n,i){let r=Vn(),o=pr(),s=ho+e,a=r[fr],l=o.firstCreatePass?nB(s,o,r,t,JT,AT(),n,i):o.data[s],d=wue(o,r,l,a,t,e);r[s]=d;let c=f_(l);return Tu(l,!0),P9(a,d,l),!rI(l)&&v_()&&E_(o,r,d,l),(tae()===0||c)&&Nm(d,r),nae(),c&&(S_(o,r,l),WT(o,l,r)),i!==null&&ZT(r,l),je}function $e(){let e=Go();FT()?PT():(e=e.parent,Tu(e,!1));let t=e;rae(t)&&oae(),iae();let n=pr();return n.firstCreatePass&&iB(n,t),t.classesWithoutHost!=null&&yae(t)&&pT(n,t,Vn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&wae(t)&&pT(n,t,Vn(),t.stylesWithoutHost,!1),$e}function kt(e,t,n,i){return je(e,t,n,i),$e(),kt}var wue=(e,t,n,i,r,o)=>(b_(!0),A9(i,r,gae()));function Cue(e,t,n,i,r){let o=t.consts,s=xm(o,i),a=Vm(t,e,8,"ng-container",s);s!==null&&tT(a,s,!0);let l=xm(o,r);return AT()&&dI(t,n,a,l,JT),a.mergedAttrs=Sm(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function VB(e,t,n){let i=Vn(),r=pr(),o=e+ho,s=r.firstCreatePass?Cue(o,r,i,t,n):r.data[o];Tu(s,!0);let a=_ue(r,i,s,e);return i[o]=a,v_()&&E_(r,i,a,s),Nm(a,i),f_(s)&&(S_(r,i,s),WT(r,s,i)),n!=null&&ZT(i,s),VB}function HB(){let e=Go(),t=pr();return FT()?PT():(e=e.parent,Tu(e,!1)),t.firstCreatePass&&(BT(t,e),RT(e)&&t.queries.elementEnd(e)),HB}function I_(e,t,n){return VB(e,t,n),HB(),I_}var _ue=(e,t,n,i)=>(b_(!0),Hle(t[fr],""));function qr(){return Vn()}function Cf(e,t,n){let i=Vn(),r=Fm();if(Ba(i,r,t)){let o=pr(),s=g_();QT(o,s,i,e,t,i[fr],n,!0)}return Cf}var o_="en-US";var xue=o_;function Sue(e){typeof e=="string"&&(xue=e.toLowerCase().replace(/_/g,"-"))}function N7(e,t,n){return function i(r){if(r===Function)return n;let o=km(e)?tc(e.index,t):t;lI(o,5);let s=t[ds],a=B7(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=B7(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function B7(e,t,n,i){let r=Kn(null);try{return Vi(6,t,n),n(i)!==!1}catch(o){return Eue(e,o),!1}finally{Vi(7,t,n),Kn(r)}}function Eue(e,t){let n=e[Cm],i=n?n.get(us,null):null;i&&i.handleError(t)}function V7(e,t,n,i,r,o){let s=t[n],a=t[Nn],d=a.data[n].outputs[i],c=s[d],u=a.firstCreatePass?kT(a):null,h=IT(t),p=c.subscribe(o),f=h.length;h.push(o,p),u&&u.push(r,e.index,f,-(f+1))}var Due=(e,t,n)=>{};function jt(e,t,n,i){let r=Vn(),o=pr(),s=Go();return zB(o,r,r[fr],s,e,t,i),jt}function Rue(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[HC],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function zB(e,t,n,i,r,o,s){let a=f_(i),d=e.firstCreatePass?kT(e):null,c=IT(t),u=!0;if(i.type&3||s){let h=rc(i,t),p=s?s(h):h,f=c.length,m=s?v=>s(ec(v[i.index])):i.index,g=null;if(!s&&a&&(g=Rue(e,t,r,i.index)),g!==null){let v=g.__ngLastListenerFn__||g;v.__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,u=!1}else{o=N7(i,t,o),Due(p,r,o);let v=n.listen(p,r,o);c.push(o,v),d&&d.push(r,m,f,f+1)}}else o=N7(i,t,o);if(u){let h=i.outputs?.[r],p=i.hostDirectiveOutputs?.[r];if(p&&p.length)for(let f=0;f<p.length;f+=2){let m=p[f],g=p[f+1];V7(i,t,m,g,r,o)}if(h&&h.length)for(let f of h)V7(i,t,f,r,r,o)}}function Zn(e=1){return pae(e)}function Mue(e,t){let n=null,i=kle(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?k9(e,o,!0):Ple(i,o))return r}return n}function Vr(e){let t=Vn()[Na][Ls];if(!t.projection){let n=e?e.length:1,i=t.projection=kse(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?Mue(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function vi(e,t=0,n,i,r,o){let s=Vn(),a=pr(),l=i?e+1:null;l!==null&&wB(s,a,l,i,r,o,null,n);let d=Vm(a,ho+e,16,null,n||null);d.projection===null&&(d.projection=t),PT();let u=!s[Hv]||EN();s[Na][Ls].projection[d.projection]===null&&l!==null?Tue(s,a,l):u&&!rI(d)&&vce(a,s,d)}function Tue(e,t,n){let i=ho+n,r=t.data[i],o=e[i],s=e_(o,r.tView.ssrId),a=nI(e,r,void 0,{dehydratedView:s});cI(o,a,0,ZC(r,s))}function Ha(e,t,n,i){lB(e,t,n,i)}function Qi(e,t,n){wde(e,t,n)}function ci(e){let t=Vn(),n=pr(),i=OT();m_(i+1);let r=hI(n,i);if(e.dirty&&Xse(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=dB(t,i);e.reset(o,t9),e.notifyOnChanges()}return!0}return!1}function di(){return uI(Vn(),OT())}function jB(e,t,n,i,r){Ede(t,lB(e,n,i,r))}function GB(e=1){m_(OT()+e)}function UB(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function fo(e){let t=aae();return CN(t,ho+e)}function vn(e,t=""){let n=Vn(),i=pr(),r=e+ho,o=i.firstCreatePass?Vm(i,r,1,t,null):i.data[r],s=Iue(i,n,o,t,e);n[r]=s,v_()&&E_(i,n,s,o),Tu(o,!1)}var Iue=(e,t,n,i,r)=>(b_(!0),Ble(t[fr],i));function po(e){return ib("",e,""),po}function ib(e,t,n){let i=Vn(),r=EB(i,e,t,n);return r!==oc&&kue(i,yf(),r),ib}function kue(e,t,n){let i=wN(t,e);Vle(e[fr],i,n)}function bI(e,t,n){n9(t)&&(t=t());let i=Vn(),r=Fm();if(Ba(i,r,t)){let o=pr(),s=g_();QT(o,s,i,e,t,i[fr],n,!1)}return bI}function WB(e,t){let n=n9(e);return n&&e.set(t),n}function yI(e,t){let n=Vn(),i=pr(),r=Go();return zB(i,n,n[fr],r,e,t),yI}var Aue={};function wI(e){let t=pr(),n=Vn(),i=e+ho,r=Vm(t,i,128,null,null);return Tu(r,!1),UB(t,n,i,Aue),wI}function Fue(e,t,n){let i=pr();if(i.firstCreatePass){let r=Jl(e);mT(n,i.data,i.blueprint,r,!0),mT(t,i.data,i.blueprint,r,!1)}}function mT(e,t,n,i,r){if(e=To(e),Array.isArray(e))for(let o=0;o<e.length;o++)mT(e[o],t,n,i,r);else{let o=pr(),s=Vn(),a=Go(),l=wm(e)?e:To(e.provide),d=uN(e),c=a.providerIndexes&1048575,u=a.directiveStart,h=a.providerIndexes>>20;if(wm(e)||!e.multi){let p=new gf(d,r,et),f=wM(l,t,r?c:c+h,u);f===-1?(FM(qC(a,s),o,l),yM(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[f]=p,s[f]=p)}else{let p=wM(l,t,c+h,u),f=wM(l,t,c,c+h),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){FM(qC(a,s),o,l);let v=Lue(r?Oue:Pue,n.length,r,i,d);!r&&g&&(n[f].providerFactory=v),yM(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=$B(n[r?f:p],d,!r&&i);yM(o,e,p>-1?p:f,v)}!r&&i&&g&&n[f].componentProviders++}}}function yM(e,t,n,i){let r=wm(t),o=Vse(t);if(r||o){let l=(o?To(t.useClass):t).prototype.ngOnDestroy;if(l){let d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let c=d.indexOf(n);c===-1?d.push(n,[i,l]):d[c+1].push(i,l)}else d.push(n,l)}}}function $B(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function wM(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Pue(e,t,n,i){return gT(this.multi,[])}function Oue(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=jv(n,n[Nn],this.providerFactory.index,i);o=a.slice(0,s),gT(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],gT(r,o);return o}function gT(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function Lue(e,t,n,i,r){let o=new gf(e,n,et);return o.multi=[],o.index=t,o.componentProviders=0,$B(o,r,i&&!n),o}function Hr(e,t=[]){return n=>{n.providersResolver=(i,r)=>Fue(i,r?r(e):e,t)}}function qB(e,t,n,i,r,o){return Bue(Vn(),MN(),e,t,n,i,r,o)}function KB(e,t){let n=e[t];return n===oc?void 0:n}function Nue(e,t,n,i,r,o){let s=t+n;return Ba(e,s,r)?yB(e,s+1,o?i.call(o,r):i(r)):KB(e,s+1)}function Bue(e,t,n,i,r,o,s,a){let l=t+n;return Ude(e,l,r,o,s)?yB(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):KB(e,l+3)}function k_(e,t){let n=pr(),i,r=e+ho;n.firstCreatePass?(i=Vue(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=cf(i.type,!0)),s,a=As(et);try{let l=$C(!1),d=o();return $C(l),UB(n,Vn(),r,d),d}finally{As(a)}}function Vue(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function A_(e,t,n){let i=e+ho,r=Vn(),o=CN(r,i);return Hue(r,i)?Nue(r,MN(),t,o.transform,n,o):o.transform(n)}function Hue(e,t){return e[Nn].data[t].pure}function vd(e,t){return R_(e,t)}var $v=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},CI=new $v("19.2.5"),vT=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},YB=(()=>{class e{compileModuleSync(n){return new cT(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=sN(n),o=T9(r.declarations).reduce((s,a)=>{let l=df(a);return l&&s.push(new Dm(l)),s},[]);return new vT(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zue=(()=>{class e{zone=te(It);changeDetectionScheduler=te(vf);applicationRef=te(ua);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jue=new Ne("",{factory:()=>!1});function XB({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new It(Le(re({},QB()),{scheduleInRootZone:n})),[{provide:It,useFactory:e},{provide:ym,multi:!0,useFactory:()=>{let i=te(zue,{optional:!0});return()=>i.initialize()}},{provide:ym,multi:!0,useFactory:()=>{let i=te(Gue);return()=>{i.initialize()}}},t===!0?{provide:XN,useValue:!0}:[],{provide:ZN,useValue:n??YN}]}function ZB(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,i=XB({ngZoneFactory:()=>{let r=QB(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&eb("NgZone_CoalesceEvent"),new It(r)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Tm([{provide:jue,useValue:!0},{provide:y_,useValue:!1},i])}function QB(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Gue=(()=>{class e{subscription=new ti;initialized=!1;zone=te(It);pendingTasks=te(ku);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{It.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Uue=(()=>{class e{appRef=te(ua);taskService=te(ku);ngZone=te(It);zonelessEnabled=te(y_);tracing=te(Bm,{optional:!0});disableScheduling=te(XN,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ti;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(YC):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(te(ZN,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof NM||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?d7:QN;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(YC+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,d7(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wue(){return typeof $localize<"u"&&$localize.locale||o_}var _I=new Ne("",{providedIn:"root",factory:()=>te(_I,Wn.Optional|Wn.SkipSelf)||Wue()});var bT=new Ne(""),$ue=new Ne("");function Ov(e){return!e.moduleRef}function que(e){let t=Ov(e)?e.r3Injector:e.moduleRef.injector,n=t.get(It);return n.run(()=>{Ov(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(us,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Ov(e)){let o=()=>t.destroy(),s=e.platformInjector.get(bT);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(bT);s.add(o),e.moduleRef.onDestroy(()=>{FC(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return Yue(i,n,()=>{let o=t.get(SB);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(_I,o_);if(Sue(s||o_),!t.get($ue,!0))return Ov(e)?t.get(ua):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ov(e)){let l=t.get(ua);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return Kue(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function Kue(e,t){let n=e.injector.get(ua);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new Dt(-403,!1);t.push(e)}function Yue(e,t,n){try{let i=n();return Fu(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var PC=null;function Xue(e=[],t){return $n.create({name:t,providers:[{provide:d_,useValue:"platform"},{provide:bT,useValue:new Set([()=>PC=null])},...e]})}function Zue(e=[]){if(PC)return PC;let t=Xue(e);return PC=t,Kde(),Que(t),t}function Que(e){let t=e.get(jT,null);ha(e,()=>{t?.forEach(n=>n())})}var Bi=(()=>{class e{static __NG_ELEMENT_ID__=Jue}return e})();function Jue(e){return ehe(Go(),Vn(),(e&16)===16)}function ehe(e,t,n){if(km(e)&&!n){let i=tc(e.index,t);return new Uv(i,i)}else if(e.type&175){let i=t[Na];return new Uv(i,t)}return null}var yT=class{constructor(){}supports(t){return bB(t)}create(t){return new wT(t)}},the=(e,t)=>t,wT=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||the}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<H7(i,r,o)?n:i,a=H7(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let d=a-r,c=l-r;if(d!=c){for(let h=0;h<d;h++){let p=h<o.length?o[h]:o[h]=0,f=p+h;c<=f&&f<d&&(o[h]=p+1)}let u=s.previousIndex;o[u]=c-d}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!bB(t))throw new Dt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,zde(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new CT(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new s_),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new s_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},CT=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},_T=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},s_=class{map=new Map;put(t){let n=t.trackById,i=this.map.get(n);i||(i=new _T,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function H7(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function z7(){return new F_([new yT])}var F_=(()=>{class e{factories;static \u0275prov=Pe({token:e,providedIn:"root",factory:z7});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||z7()),deps:[[e,new nN,new c_]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new Dt(901,!1)}}return e})();function JB(e){Vi(8);try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=Zue(i),o=[XB({}),{provide:vf,useExisting:Uue},...n||[]],s=new i_({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return que({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Vi(9)}}function Re(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Hm(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function fs(e){return qR(e)}function sc(e,t){return $1(e,t?.equal)}var xT=class{[Is];constructor(t){this[Is]=t}destroy(){this[Is].destroy()}};function Pu(e,t){!t?.injector&&Zv(Pu);let n=t?.injector??te($n),i=t?.manualCleanup!==!0?n.get(Zi):null,r,o=n.get(UT,null,{optional:!0}),s=n.get(vf);return o!==null&&!t?.forceRoot?(r=rhe(o.view,s,e),i instanceof KC&&i._lView===o.view&&(i=null)):r=ohe(e,n.get(_B),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new xT(r)}var eV=Le(re({},Jp),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Gv,run(){if(this.dirty=!1,this.hasRun&&!G1(this))return;this.hasRun=!0;let e=i=>(this.cleanupFns??=[]).push(i),t=Sv(this),n=GC(!1);try{this.maybeCleanup(),this.fn(e)}finally{GC(n),j1(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),nhe=Le(re({},eV),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ev(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),ihe=Le(re({},eV),{consumerMarkedDirty(){this.view[_n]|=8192,Am(this.view),this.notifier.notify(13)},destroy(){Ev(this),this.onDestroyFn(),this.maybeCleanup(),this.view[hf]?.delete(this)}});function rhe(e,t,n){let i=Object.create(ihe);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=n,e[hf]??=new Set,e[hf].add(i),i.consumerMarkedDirty(i),i}function ohe(e,t,n){let i=Object.create(nhe);return i.fn=e,i.scheduler=t,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function P_(e,t){let n=df(e),i=t.elementInjector||u_();return new Dm(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}var en=new Ne("");var iV=null;function za(){return iV}function xI(e){iV??=e}var rb=class{},SI=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>te(rV),providedIn:"platform"})}return e})();var rV=(()=>{class e extends SI{_location;_history;_doc=te(en);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return za().getBaseHref(this._doc)}onPopState(n){let i=za().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=za().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function oV(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function tV(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Ou(e){return e&&e[0]!=="?"?`?${e}`:e}var O_=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>te(aV),providedIn:"root"})}return e})(),sV=new Ne(""),aV=(()=>{class e extends O_{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??te(en).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return oV(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Ou(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Ou(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Ou(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(Rt(SI),Rt(sV,8))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lu=(()=>{class e{_subject=new yt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=lhe(tV(nV(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ou(i))}normalize(n){return e.stripTrailingSlash(ahe(this._basePath,nV(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ou(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ou(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Ou;static joinWithSlash=oV;static stripTrailingSlash=tV;static \u0275fac=function(i){return new(i||e)(Rt(O_))};static \u0275prov=Pe({token:e,factory:()=>she(),providedIn:"root"})}return e})();function she(){return new Lu(Rt(O_))}function ahe(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function nV(e){return e.replace(/\/index.html$/,"")}function lhe(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var EI=/\s+/,lV=[],zm=(()=>{class e{_ngEl;_renderer;initialClasses=lV;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(EI):lV}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(EI):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(EI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(et(qt),et(xr))};static \u0275dir=tn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var L_=class{$implicit;ngForOf;index;count;constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ac=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new L_(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),cV(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);cV(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(et(Lr),et(Os),et(F_))};static \u0275dir=tn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function cV(e,t){e.context.$implicit=t.item}var fa=(()=>{class e{_viewContainer;_context=new N_;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dV(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dV(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(et(Lr),et(Os))};static \u0275dir=tn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),N_=class{$implicit=null;ngIf=null};function dV(e,t){if(e&&!e.createEmbeddedView)throw new Dt(2020,!1)}var MI=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||e)(et(Lr))};static \u0275dir=tn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Io]})}return e})();function che(e,t){return new Dt(2100,!1)}var DI=class{createSubscription(t,n){return fs(()=>t.subscribe({next:n,error:i=>{throw i}}))}dispose(t){fs(()=>t.unsubscribe())}},RI=class{createSubscription(t,n){return t.then(n,i=>{throw i})}dispose(t){}},dhe=new RI,uhe=new DI,ob=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Fu(n))return dhe;if(mI(n))return uhe;throw che(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||e)(et(Bi,16))};static \u0275pipe=fB({name:"async",type:e,pure:!1})}return e})();var bi=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({})}return e})();function sb(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var B_="browser",uV="server";function TI(e){return e===B_}function V_(e){return e===uV}var _f=class{};var j_=new Ne(""),FI=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new Dt(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(Rt(j_),Rt(It))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),ab=class{_doc;constructor(t){this._doc=t}manager},H_="ng-app-id";function hV(e){for(let t of e)t.remove()}function fV(e,t){let n=t.createElement("style");return n.textContent=e,n}function hhe(e,t,n,i){let r=e.head?.querySelectorAll(`style[${H_}="${t}"],link[${H_}="${t}"]`);if(r)for(let o of r)o.removeAttribute(H_),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function kI(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var PI=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=V_(o),hhe(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,fV);i?.forEach(r=>this.addUsage(r,this.external,kI))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(hV(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])hV(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,fV(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,kI(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(H_,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(Rt(en),Rt(wf),Rt(Jv,8),Rt(md))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),II={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},OI=/%COMP%/g;var mV="%COMP%",fhe=`_nghost-${mV}`,phe=`_ngcontent-${mV}`,mhe=!0,ghe=new Ne("",{providedIn:"root",factory:()=>mhe});function vhe(e){return phe.replace(OI,e)}function bhe(e){return fhe.replace(OI,e)}function gV(e,t){return t.map(n=>n.replace(OI,e))}var LI=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l,d=null,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.tracingService=c,this.platformIsServer=V_(a),this.defaultRenderer=new lb(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===nc.ShadowDom&&(i=Le(re({},i),{encapsulation:nc.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof z_?r.applyToHost(n):r instanceof cb&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case nc.Emulated:o=new z_(l,d,i,this.appId,c,s,a,u,h);break;case nc.ShadowDom:return new AI(l,d,n,i,s,a,this.nonce,u,h);default:o=new cb(l,d,i,c,s,a,u,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(Rt(FI),Rt(PI),Rt(wf),Rt(ghe),Rt(en),Rt(md),Rt(It),Rt(Jv),Rt(Bm,8))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),lb=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(II[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(pV(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(pV(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Dt(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=II[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=II[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(ud.DashCase|ud.Important)?t.style.setProperty(n,i,r&ud.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&ud.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=za().getGlobalEventTarget(this.doc,t),!t))throw new Dt(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function pV(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var AI=class extends lb{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,d){super(t,o,s,l,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=r.styles;c=gV(r.id,c);for(let h of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let h of u){let p=kI(h,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cb=class extends lb{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,d){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let c=i.styles;this.styles=d?gV(d,c):c,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},z_=class extends cb{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,d){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,d,c),this.contentAttr=vhe(c),this.hostAttr=bhe(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var NI=class extends rb{supportsDOMEvents=!0},G_=class e extends NI{static makeCurrent(){xI(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=yhe();return n==null?null:whe(n)}resetBaseElement(){db=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return sb(document.cookie,t)}},db=null;function yhe(){return db=db||document.querySelector("base"),db?db.getAttribute("href"):null}function whe(e){return new URL(e,document.baseURI).pathname}var Che=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),bV=(()=>{class e extends ab{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(Rt(en))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),vV=["alt","control","meta","shift"],_he={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xhe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},yV=(()=>{class e extends ab{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>za().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vV.forEach(d=>{let c=i.indexOf(d);c>-1&&(i.splice(c,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=_he[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),vV.forEach(s=>{if(s!==r){let a=xhe[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(Rt(en))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})();function BI(e,t){return JB(re({rootComponent:e},She(t)))}function She(e){return{appProviders:[...The,...e?.providers??[]],platformProviders:Mhe}}function Ehe(){G_.makeCurrent()}function Dhe(){return new us}function Rhe(){return c9(document),document}var Mhe=[{provide:md,useValue:B_},{provide:jT,useValue:Ehe,multi:!0},{provide:en,useFactory:Rhe}];var The=[{provide:d_,useValue:"root"},{provide:us,useFactory:Dhe},{provide:j_,useClass:bV,multi:!0,deps:[en]},{provide:j_,useClass:yV,multi:!0,deps:[en]},LI,PI,FI,{provide:to,useExisting:LI},{provide:_f,useClass:Che},[]];var Gm=class{},Um=class{},cc=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=n.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var $_=class{encodeKey(t){return wV(t)}encodeValue(t){return wV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Ihe(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var khe=/%(\d[a-f0-9])/gi,Ahe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wV(e){return encodeURIComponent(e).replace(khe,(t,n)=>Ahe[n]??t)}function U_(e){return`${e}`}var yd=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new $_,t.fromString){if(t.fromObject)throw new Dt(2805,!1);this.map=Ihe(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(U_):[U_(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(U_(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(U_(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var q_=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Fhe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function CV(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _V(e){return typeof Blob<"u"&&e instanceof Blob}function xV(e){return typeof FormData<"u"&&e instanceof FormData}function Phe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ub="Content-Type",K_="Accept",GI="X-Request-URL",EV="text/plain",DV="application/json",RV=`${DV}, ${EV}, */*`,jm=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,i,r){this.url=n,this.method=t.toUpperCase();let o;if(Fhe(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new cc,this.context??=new q_,!this.params)this.params=new yd,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||CV(this.body)||_V(this.body)||xV(this.body)||Phe(this.body)?this.body:this.body instanceof yd?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xV(this.body)?null:_V(this.body)?this.body.type||null:CV(this.body)?null:typeof this.body=="string"?EV:this.body instanceof yd?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?DV:null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,c=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),d)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),c)),new e(n,i,s,{params:c,headers:d,context:u,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},wd=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(wd||{}),Wm=class{headers;status;statusText;url;ok;type;constructor(t,n=200,i="OK"){this.headers=t.headers||new cc,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},hb=class e extends Wm{constructor(t={}){super(t)}type=wd.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},$m=class e extends Wm{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=wd.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},bd=class extends Wm{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},MV=200,Ohe=204;function VI(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var qm=(()=>{class e{handler;constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof jm)o=n;else{let l;r.headers instanceof cc?l=r.headers:l=new cc(r.headers);let d;r.params&&(r.params instanceof yd?d=r.params:d=new yd({fromObject:r.params})),o=new jm(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=Gt(o).pipe(xu(l=>this.handler.handle(l)));if(n instanceof jm||r.observe==="events")return s;let a=s.pipe(Ln(l=>l instanceof $m));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Jt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Dt(2806,!1);return l.body}));case"blob":return a.pipe(Jt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Dt(2807,!1);return l.body}));case"text":return a.pipe(Jt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Dt(2808,!1);return l.body}));case"json":default:return a.pipe(Jt(l=>l.body))}case"response":return a;default:throw new Dt(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new yd().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,VI(r,i))}post(n,i,r={}){return this.request("POST",n,VI(r,i))}put(n,i,r={}){return this.request("PUT",n,VI(r,i))}static \u0275fac=function(i){return new(i||e)(Rt(Gm))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),Lhe=/^\)\]\}',?\n/;function SV(e){if(e.url)return e.url;let t=GI.toLocaleLowerCase();return e.headers.get(t)}var TV=new Ne(""),W_=(()=>{class e{fetchImpl=te(HI,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=te(It);handle(n){return new dn(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(zI,o=>i.error(new bd({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Et(this,null,function*(){let o=this.createRequestInit(n),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,re({signal:i},o)));Nhe(p),r.next({type:wd.Sent}),s=yield p}catch(p){r.error(new bd({error:p,status:p.status??0,statusText:p.statusText,url:n.urlWithParams,headers:p.headers}));return}let a=new cc(s.headers),l=s.statusText,d=SV(s)??n.urlWithParams,c=s.status,u=null;if(n.reportProgress&&r.next(new hb({headers:a,status:c,statusText:l,url:d})),s.body){let p=s.headers.get("content-length"),f=[],m=s.body.getReader(),g=0,v,w,E=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Et(this,null,function*(){for(;;){let{done:F,value:k}=yield m.read();if(F)break;if(f.push(k),g+=k.length,n.reportProgress){w=n.responseType==="text"?(w??"")+(v??=new TextDecoder).decode(k,{stream:!0}):void 0;let L=()=>r.next({type:wd.DownloadProgress,total:p?+p:void 0,loaded:g,partialText:w});E?E.run(L):L()}}}));let T=this.concatChunks(f,g);try{let F=s.headers.get(ub)??"";u=this.parseBody(n,T,F)}catch(F){r.error(new bd({error:F,headers:new cc(s.headers),status:s.status,statusText:s.statusText,url:SV(s)??n.urlWithParams}));return}}c===0&&(c=u?MV:0),c>=200&&c<300?(r.next(new $m({body:u,headers:a,status:c,statusText:l,url:d})),r.complete()):r.error(new bd({error:u,headers:a,status:c,statusText:l,url:d}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(Lhe,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has(K_)||(i[K_]=RV),!n.headers.has(ub)){let o=n.detectContentTypeHeader();o!==null&&(i[ub]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),HI=class{};function zI(){}function Nhe(e){e.then(zI,zI)}function Bhe(e,t){return t(e)}function Vhe(e,t,n){return(i,r)=>ha(n,()=>t(i,o=>e(o,r)))}var IV=new Ne(""),kV=new Ne(""),AV=new Ne("",{providedIn:"root",factory:()=>!0});var Y_=(()=>{class e extends Gm{backend;injector;chain=null;pendingTasks=te(ku);contributeToStability=te(AV);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(IV),...this.injector.get(kV,[])]));this.chain=i.reduceRight((r,o)=>Vhe(r,o,this.injector),Bhe)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(fl(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(Rt(Um),Rt($r))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})();var Hhe=/^\)\]\}',?\n/,zhe=RegExp(`^${GI}:`,"m");function jhe(e){return"responseURL"in e&&e.responseURL?e.responseURL:zhe.test(e.getAllResponseHeaders())?e.getResponseHeader(GI):null}var jI=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Dt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Xi(i.\u0275loadImpl()):Gt(null)).pipe(Mo(()=>new dn(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,g)=>s.setRequestHeader(m,g.join(","))),n.headers.has(K_)||s.setRequestHeader(K_,RV),!n.headers.has(ub)){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader(ub,m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,d=()=>{if(l!==null)return l;let m=s.statusText||"OK",g=new cc(s.getAllResponseHeaders()),v=jhe(s)||n.url;return l=new hb({headers:g,status:s.status,statusText:m,url:v}),l},c=()=>{let{headers:m,status:g,statusText:v,url:w}=d(),E=null;g!==Ohe&&(E=typeof s.response>"u"?s.responseText:s.response),g===0&&(g=E?MV:0);let T=g>=200&&g<300;if(n.responseType==="json"&&typeof E=="string"){let F=E;E=E.replace(Hhe,"");try{E=E!==""?JSON.parse(E):null}catch(k){E=F,T&&(T=!1,E={error:k,text:E})}}T?(o.next(new $m({body:E,headers:m,status:g,statusText:v,url:w||void 0})),o.complete()):o.error(new bd({error:E,headers:m,status:g,statusText:v,url:w||void 0}))},u=m=>{let{url:g}=d(),v=new bd({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});o.error(v)},h=!1,p=m=>{h||(o.next(d()),h=!0);let g={type:wd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),n.responseType==="text"&&s.responseText&&(g.partialText=s.responseText),o.next(g)},f=m=>{let g={type:wd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),o.next(g)};return s.addEventListener("load",c),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",f)),s.send(a),o.next({type:wd.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",c),s.removeEventListener("timeout",u),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",f)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(Rt(_f))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})(),FV=new Ne(""),Ghe="XSRF-TOKEN",Uhe=new Ne("",{providedIn:"root",factory:()=>Ghe}),Whe="X-XSRF-TOKEN",$he=new Ne("",{providedIn:"root",factory:()=>Whe}),fb=class{},qhe=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=sb(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||e)(Rt(en),Rt(md),Rt(Uhe))};static \u0275prov=Pe({token:e,factory:e.\u0275fac})}return e})();function Khe(e,t){let n=e.url.toLowerCase();if(!te(FV)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=te(fb).getToken(),r=te($he);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var UI=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(UI||{});function Yhe(e,t){return{\u0275kind:e,\u0275providers:t}}function WI(...e){let t=[qm,jI,Y_,{provide:Gm,useExisting:Y_},{provide:Um,useFactory:()=>te(TV,{optional:!0})??te(jI)},{provide:IV,useValue:Khe,multi:!0},{provide:FV,useValue:!0},{provide:fb,useClass:qhe}];for(let n of e)t.push(...n.\u0275providers);return Tm(t)}function $I(){return Yhe(UI.Fetch,[W_,{provide:TV,useExisting:W_},{provide:Um,useExisting:W_}])}var OV=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(Rt(en))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var xf=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=Rt(Xhe),r},providedIn:"root"})}return e})(),Xhe=(()=>{class e extends xf{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case Uo.NONE:return i;case Uo.HTML:return Au(i,"HTML")?gl(i):$T(this._doc,String(i)).toString();case Uo.STYLE:return Au(i,"Style")?gl(i):i;case Uo.SCRIPT:if(Au(i,"Script"))return gl(i);throw new Dt(5200,!1);case Uo.URL:return Au(i,"URL")?gl(i):C_(String(i));case Uo.RESOURCE_URL:if(Au(i,"ResourceURL"))return gl(i);throw new Dt(5201,!1);default:throw new Dt(5202,!1)}}bypassSecurityTrustHtml(n){return g9(n)}bypassSecurityTrustStyle(n){return v9(n)}bypassSecurityTrustScript(n){return b9(n)}bypassSecurityTrustUrl(n){return y9(n)}bypassSecurityTrustResourceUrl(n){return w9(n)}static \u0275fac=function(i){return new(i||e)(Rt(en))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Fn="primary",Rb=Symbol("RouteTitle"),QI=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Df(e){return new QI(e)}function GV(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Zhe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!dc(e[n],t[n]))return!1;return!0}function dc(e,t){let n=e?JI(e):void 0,i=t?JI(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!UV(e[r],t[r]))return!1;return!0}function JI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function UV(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function WV(e){return e.length>0?e[e.length-1]:null}function Bu(e){return gC(e)?e:Fu(e)?Xi(Promise.resolve(e)):Gt(e)}var Qhe={exact:qV,subset:KV},$V={exact:Jhe,subset:efe,ignored:()=>!0};function LV(e,t,n){return Qhe[n.paths](e.root,t.root,n.matrixParams)&&$V[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Jhe(e,t){return dc(e,t)}function qV(e,t,n){if(!Sf(e.segments,t.segments)||!Q_(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!qV(e.children[i],t.children[i],n))return!1;return!0}function efe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>UV(e[n],t[n]))}function KV(e,t,n){return YV(e,t,t.segments,n)}function YV(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Sf(r,n)||t.hasChildren()||!Q_(r,n,i))}else if(e.segments.length===n.length){if(!Sf(e.segments,n)||!Q_(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!KV(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Sf(e.segments,r)||!Q_(e.segments,r,i)||!e.children[Fn]?!1:YV(e.children[Fn],t,o,i)}}function Q_(e,t,n){return t.every((i,r)=>$V[n](e[r].parameters,i.parameters))}var hc=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ei([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Df(this.queryParams),this._queryParamMap}toString(){return ife.serialize(this)}},Ei=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return J_(this)}},Nu=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Df(this.parameters),this._parameterMap}toString(){return ZV(this)}};function tfe(e,t){return Sf(e,t)&&e.every((n,i)=>dc(n.parameters,t[i].parameters))}function Sf(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function nfe(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===Fn&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Fn&&(n=n.concat(t(r,i)))}),n}var Mb=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>new Rf,providedIn:"root"})}return e})(),Rf=class{parse(t){let n=new tk(t);return new hc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${pb(t.root,!0)}`,i=sfe(t.queryParams),r=typeof t.fragment=="string"?`#${rfe(t.fragment)}`:"";return`${n}${i}${r}`}},ife=new Rf;function J_(e){return e.segments.map(t=>ZV(t)).join("/")}function pb(e,t){if(!e.hasChildren())return J_(e);if(t){let n=e.children[Fn]?pb(e.children[Fn],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Fn&&i.push(`${r}:${pb(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=nfe(e,(i,r)=>r===Fn?[pb(e.children[Fn],!1)]:[`${r}:${pb(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Fn]!=null?`${J_(e)}/${n[0]}`:`${J_(e)}/(${n.join("//")})`}}function XV(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function X_(e){return XV(e).replace(/%3B/gi,";")}function rfe(e){return encodeURI(e)}function ek(e){return XV(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ex(e){return decodeURIComponent(e)}function NV(e){return ex(e.replace(/\+/g,"%20"))}function ZV(e){return`${ek(e.path)}${ofe(e.parameters)}`}function ofe(e){return Object.entries(e).map(([t,n])=>`;${ek(t)}=${ek(n)}`).join("")}function sfe(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${X_(n)}=${X_(r)}`).join("&"):`${X_(n)}=${X_(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var afe=/^[^\/()?;#]+/;function KI(e){let t=e.match(afe);return t?t[0]:""}var lfe=/^[^\/()?;=#]+/;function cfe(e){let t=e.match(lfe);return t?t[0]:""}var dfe=/^[^=?&#]+/;function ufe(e){let t=e.match(dfe);return t?t[0]:""}var hfe=/^[^&#]+/;function ffe(e){let t=e.match(hfe);return t?t[0]:""}var tk=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ei([],{}):new Ei([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Fn]=new Ei(t,n)),i}parseSegment(){let t=KI(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Dt(4009,!1);return this.capture(t),new Nu(ex(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=cfe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=KI(this.remaining);r&&(i=r,this.capture(i))}t[ex(n)]=ex(i)}parseQueryParam(t){let n=ufe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=ffe(this.remaining);s&&(i=s,this.capture(i))}let r=NV(n),o=NV(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=KI(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Dt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Fn);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Fn]:new Ei([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Dt(4011,!1)}};function QV(e){return e.segments.length>0?new Ei([],{[Fn]:e}):e}function JV(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=JV(r);if(i===Fn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new Ei(e.segments,t);return pfe(n)}function pfe(e){if(e.numberOfChildren===1&&e.children[Fn]){let t=e.children[Fn];return new Ei(e.segments.concat(t.segments),t.children)}return e}function Qm(e){return e instanceof hc}function eH(e,t,n=null,i=null){let r=tH(e);return nH(r,t,n,i)}function tH(e){let t;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let a=new Ei(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=QV(i);return t??r}function nH(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return YI(r,r,r,n,i);let o=mfe(t);if(o.toRoot())return YI(r,r,new Ei([],{}),n,i);let s=gfe(o,r,e),a=s.processChildren?gb(s.segmentGroup,s.index,o.commands):rH(s.segmentGroup,s.index,o.commands);return YI(r,s.segmentGroup,a,n,i)}function nx(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function bb(e){return typeof e=="object"&&e!=null&&e.outlets}function YI(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(c=>`${c}`):`${d}`});let s;e===t?s=n:s=iH(e,t,n);let a=QV(JV(s));return new hc(a,o,r)}function iH(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=iH(o,t,n)}),new Ei(e.segments,i)}var ix=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&nx(i[0]))throw new Dt(4003,!1);let r=i.find(bb);if(r&&r!==WV(i))throw new Dt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mfe(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ix(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new ix(n,t,i)}var Xm=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function gfe(e,t,n){if(e.isAbsolute)return new Xm(t,!0,0);if(!n)return new Xm(t,!1,NaN);if(n.parent===null)return new Xm(n,!0,0);let i=nx(e.commands[0])?0:1,r=n.segments.length-1+i;return vfe(n,r,e.numberOfDoubleDots)}function vfe(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Dt(4005,!1);r=i.segments.length}return new Xm(i,!1,r-o)}function bfe(e){return bb(e[0])?e[0].outlets:{[Fn]:e}}function rH(e,t,n){if(e??=new Ei([],{}),e.segments.length===0&&e.hasChildren())return gb(e,t,n);let i=yfe(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Ei(e.segments.slice(0,i.pathIndex),{});return o.children[Fn]=new Ei(e.segments.slice(i.pathIndex),e.children),gb(o,0,r)}else return i.match&&r.length===0?new Ei(e.segments,{}):i.match&&!e.hasChildren()?nk(e,t,n):i.match?gb(e,0,r):nk(e,t,n)}function gb(e,t,n){if(n.length===0)return new Ei(e.segments,{});{let i=bfe(n),r={};if(Object.keys(i).some(o=>o!==Fn)&&e.children[Fn]&&e.numberOfChildren===1&&e.children[Fn].segments.length===0){let o=gb(e.children[Fn],t,n);return new Ei(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=rH(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ei(e.segments,r)}}function yfe(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(bb(a))break;let l=`${a}`,d=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!VV(l,d,s))return o;i+=2}else{if(!VV(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function nk(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(bb(o)){let l=wfe(o.outlets);return new Ei(i,l)}if(r===0&&nx(n[0])){let l=e.segments[t];i.push(new Nu(l.path,BV(n[0]))),r++;continue}let s=bb(o)?o.outlets[Fn]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&nx(a)?(i.push(new Nu(s,BV(a))),r+=2):(i.push(new Nu(s,{})),r++)}return new Ei(i,{})}function wfe(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=nk(new Ei([],{}),0,i))}),t}function BV(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function VV(e,t,n){return e==n.path&&dc(t,n.parameters)}var tx="imperative",mo=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(mo||{}),ma=class{id;url;constructor(t,n){this.id=t,this.url=n}},Mf=class extends ma{type=mo.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cd=class extends ma{urlAfterRedirects;type=mo.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Hs=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Hs||{}),yb=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(yb||{}),uc=class extends ma{reason;code;type=mo.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_d=class extends ma{reason;code;type=mo.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},Jm=class extends ma{error;target;type=mo.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wb=class extends ma{urlAfterRedirects;state;type=mo.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rx=class extends ma{urlAfterRedirects;state;type=mo.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ox=class extends ma{urlAfterRedirects;state;shouldActivate;type=mo.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sx=class extends ma{urlAfterRedirects;state;type=mo.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ax=class extends ma{urlAfterRedirects;state;type=mo.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lx=class{route;type=mo.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cx=class{route;type=mo.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dx=class{snapshot;type=mo.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ux=class{snapshot;type=mo.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hx=class{snapshot;type=mo.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fx=class{snapshot;type=mo.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Cb=class{},eg=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function Cfe(e,t){return e.providers&&!e._injector&&(e._injector=T_(e.providers,t,`Route: ${e.path}`)),e._injector??t}function vl(e){return e.outlet||Fn}function _fe(e,t){let n=e.filter(i=>vl(i)===t);return n.push(...e.filter(i=>vl(i)!==t)),n}function Tb(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var px=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Tb(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ig(this.rootInjector)}},ig=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new px(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(Rt($r))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mx=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ik(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=ik(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=rk(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return rk(t,this._root).map(n=>n.value)}};function ik(e,t){if(e===t.value)return t;for(let n of t.children){let i=ik(e,n);if(i)return i}return null}function rk(e,t){if(e===t.value)return[t];for(let n of t.children){let i=rk(e,n);if(i.length)return i.unshift(t),i}return[]}var pa=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ym(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var _b=class extends mx{snapshot;constructor(t,n){super(t),this.snapshot=n,hk(this,t)}toString(){return this.snapshot.toString()}};function oH(e){let t=xfe(e),n=new ki([new Nu("",{})]),i=new ki({}),r=new ki({}),o=new ki({}),s=new ki(""),a=new fc(n,i,o,s,r,Fn,e,t.root);return a.snapshot=t.root,new _b(new pa(a,[]),t)}function xfe(e){let t={},n={},i={},r="",o=new Ef([],t,i,r,n,Fn,e,null,{});return new xb("",new pa(o,[]))}var fc=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Jt(d=>d[Rb]))??Gt(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Jt(t=>Df(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Jt(t=>Df(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gx(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:re(re({},t.params),e.params),data:re(re({},t.data),e.data),resolve:re(re(re(re({},e.data),t.data),r?.data),e._resolvedData)}:i={params:re({},e.params),data:re({},e.data),resolve:re(re({},e.data),e._resolvedData??{})},r&&aH(r)&&(i.resolve[Rb]=r.title),i}var Ef=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Rb]}constructor(t,n,i,r,o,s,a,l,d){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Df(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Df(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},xb=class extends mx{url;constructor(t,n){super(n),this.url=t,hk(this,n)}toString(){return sH(this._root)}};function hk(e,t){t.value._routerState=e,t.children.forEach(n=>hk(e,n))}function sH(e){let t=e.children.length>0?` { ${e.children.map(sH).join(", ")} } `:"";return`${e.value}${t}`}function XI(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dc(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),dc(t.params,n.params)||e.paramsSubject.next(n.params),Zhe(t.url,n.url)||e.urlSubject.next(n.url),dc(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ok(e,t){let n=dc(e.params,t.params)&&tfe(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||ok(e.parent,t.parent))}function aH(e){return typeof e.title=="string"||e.title===null}var lH=new Ne(""),Ib=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Fn;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=e9(void 0);parentContexts=te(ig);location=te(Lr);changeDetector=te(Bi);inputBinder=te(wx,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Dt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Dt(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new sk(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Io]})}return e})(),sk=class{route;childContexts;parent;outletData;constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===fc?this.route:t===ig?this.childContexts:t===lH?this.outletData:this.parent.get(t,n)}},wx=new Ne("");function Sfe(e,t,n){let i=Sb(e,t._root,n?n._root:void 0);return new _b(i,t)}function Sb(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=Efe(e,t,n);return new pa(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sb(e,a)),s}}let i=Dfe(t.value),r=t.children.map(o=>Sb(e,o));return new pa(i,r)}}function Efe(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Sb(e,i,r);return Sb(e,i)})}function Dfe(e){return new fc(new ki(e.url),new ki(e.params),new ki(e.queryParams),new ki(e.fragment),new ki(e.data),e.outlet,e.component,e)}var tg=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},cH="ngNavigationCancelingError";function vx(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Qm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=dH(!1,Hs.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function dH(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[cH]=!0,n.cancellationCode=t,n}function Rfe(e){return uH(e)&&Qm(e.url)}function uH(e){return!!e&&e[cH]}var Mfe=(e,t,n,i)=>Jt(r=>(new ak(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),ak=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),XI(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Ym(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Ym(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Ym(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Ym(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new fx(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ux(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(XI(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),XI(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},bx=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zm=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Tfe(e,t,n){let i=e._root,r=t?t._root:null;return mb(i,r,n,[i.value])}function Ife(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function rg(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!K7(e)?e:t.get(e):i}function mb(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ym(t);return e.children.forEach(s=>{kfe(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vb(a,n.getContext(s),r)),r}function kfe(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Afe(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new bx(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mb(e,t,a?a.children:null,i,r):mb(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zm(a.outlet.component,s))}else s&&vb(t,a,r),r.canActivateChecks.push(new bx(i)),o.component?mb(e,null,a?a.children:null,i,r):mb(e,null,n,i,r);return r}function Afe(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Sf(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Sf(e.url,t.url)||!dc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ok(e,t)||!dc(e.queryParams,t.queryParams);case"paramsChange":default:return!ok(e,t)}}function vb(e,t,n){let i=Ym(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?vb(s,t.children.getContext(o),n):vb(s,null,n):vb(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Zm(t.outlet.component,r)):n.canDeactivateChecks.push(new Zm(null,r)):n.canDeactivateChecks.push(new Zm(null,r))}function kb(e){return typeof e=="function"}function Ffe(e){return typeof e=="boolean"}function Pfe(e){return e&&kb(e.canLoad)}function Ofe(e){return e&&kb(e.canActivate)}function Lfe(e){return e&&kb(e.canActivateChild)}function Nfe(e){return e&&kb(e.canDeactivate)}function Bfe(e){return e&&kb(e.canMatch)}function hH(e){return e instanceof sd||e?.name==="EmptyError"}var Z_=Symbol("INITIAL_VALUE");function ng(){return Mo(e=>cm(e.map(t=>t.pipe(Jr(1),Ro(Z_)))).pipe(Jt(t=>{for(let n of t)if(n!==!0){if(n===Z_)return Z_;if(n===!1||Vfe(n))return n}return!0}),Ln(t=>t!==Z_),Jr(1)))}function Vfe(e){return Qm(e)||e instanceof tg}function Hfe(e,t){return Or(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Gt(Le(re({},n),{guardsResult:!0})):zfe(s,i,r,e).pipe(Or(a=>a&&Ffe(a)?jfe(i,o,e,t):Gt(a)),Jt(a=>Le(re({},n),{guardsResult:a})))})}function zfe(e,t,n,i){return Xi(e).pipe(Or(r=>qfe(r.component,r.route,n,t,i)),Oa(r=>r!==!0,!0))}function jfe(e,t,n,i){return Xi(t).pipe(xu(r=>_u(Ufe(r.route.parent,i),Gfe(r.route,i),$fe(e,r.path,n),Wfe(e,r.route,n))),Oa(r=>r!==!0,!0))}function Gfe(e,t){return e!==null&&t&&t(new hx(e)),Gt(!0)}function Ufe(e,t){return e!==null&&t&&t(new dx(e)),Gt(!0)}function Wfe(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Gt(!0);let r=i.map(o=>dm(()=>{let s=Tb(t)??n,a=rg(o,s),l=Ofe(a)?a.canActivate(t,e):ha(s,()=>a(t,e));return Bu(l).pipe(Oa())}));return Gt(r).pipe(ng())}function $fe(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Ife(s)).filter(s=>s!==null).map(s=>dm(()=>{let a=s.guards.map(l=>{let d=Tb(s.node)??n,c=rg(l,d),u=Lfe(c)?c.canActivateChild(i,e):ha(d,()=>c(i,e));return Bu(u).pipe(Oa())});return Gt(a).pipe(ng())}));return Gt(o).pipe(ng())}function qfe(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Gt(!0);let s=o.map(a=>{let l=Tb(t)??r,d=rg(a,l),c=Nfe(d)?d.canDeactivate(e,t,n,i):ha(l,()=>d(e,t,n,i));return Bu(c).pipe(Oa())});return Gt(s).pipe(ng())}function Kfe(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Gt(!0);let o=r.map(s=>{let a=rg(s,e),l=Pfe(a)?a.canLoad(t,n):ha(e,()=>a(t,n));return Bu(l)});return Gt(o).pipe(ng(),fH(i))}function fH(e){return eM(hr(t=>{if(typeof t!="boolean")throw vx(e,t)}),Jt(t=>t===!0))}function Yfe(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Gt(!0);let o=r.map(s=>{let a=rg(s,e),l=Bfe(a)?a.canMatch(t,n):ha(e,()=>a(t,n));return Bu(l)});return Gt(o).pipe(ng(),fH(i))}var Eb=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Db=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Km(e){return Cu(new Eb(e))}function Xfe(e){return Cu(new Dt(4e3,!1))}function Zfe(e){return Cu(dH(!1,Hs.GuardRejected))}var lk=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Gt(i);if(r.numberOfChildren>1||!r.children[Fn])return Xfe(`${t.redirectTo}`);r=r.children[Fn]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:d,routeConfig:c,url:u,outlet:h,params:p,data:f,title:m}=r,g=ha(o,()=>a({params:p,data:f,queryParams:l,fragment:d,routeConfig:c,url:u,outlet:h,title:m}));if(g instanceof hc)throw new Db(g);n=g}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Db(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new hc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Ei(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Dt(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},ck={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qfe(e,t,n,i,r){let o=pH(e,t,n);return o.matched?(i=Cfe(t,i),Yfe(i,t,n,r).pipe(Jt(s=>s===!0?o:re({},ck)))):Gt(o)}function pH(e,t,n){if(t.path==="**")return Jfe(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?re({},ck):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||GV)(n,e,t);if(!r)return re({},ck);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?re(re({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Jfe(e){return{matched:!0,parameters:e.length>0?WV(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function HV(e,t,n,i){return n.length>0&&npe(e,n,i)?{segmentGroup:new Ei(t,tpe(i,new Ei(n,e.children))),slicedSegments:[]}:n.length===0&&ipe(e,n,i)?{segmentGroup:new Ei(e.segments,epe(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Ei(e.segments,e.children),slicedSegments:n}}function epe(e,t,n,i){let r={};for(let o of n)if(Cx(e,t,o)&&!i[vl(o)]){let s=new Ei([],{});r[vl(o)]=s}return re(re({},i),r)}function tpe(e,t){let n={};n[Fn]=t;for(let i of e)if(i.path===""&&vl(i)!==Fn){let r=new Ei([],{});n[vl(i)]=r}return n}function npe(e,t,n){return n.some(i=>Cx(e,t,i)&&vl(i)!==Fn)}function ipe(e,t,n){return n.some(i=>Cx(e,t,i))}function Cx(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rpe(e,t,n){return t.length===0&&!e.children[n]}var dk=class{};function ope(e,t,n,i,r,o,s="emptyOnly"){return new uk(e,t,n,i,r,s,o).recognize()}var spe=31,uk=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lk(this.urlSerializer,this.urlTree)}noMatchError(t){return new Dt(4002,`'${t.segmentGroup}'`)}recognize(){let t=HV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Jt(({children:n,rootSnapshot:i})=>{let r=new pa(i,n),o=new xb("",r),s=eH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Ef([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Fn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Fn,n).pipe(Jt(i=>({children:i,rootSnapshot:n})),Yl(i=>{if(i instanceof Db)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Eb?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(Jt(s=>s instanceof pa?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Xi(o).pipe(xu(s=>{let a=i.children[s],l=_fe(n,s);return this.processSegmentGroup(t,l,a,s,r)}),sM((s,a)=>(s.push(...a),s)),Su(null),oM(),Or(s=>{if(s===null)return Km(i);let a=mH(s);return ape(a),Gt(a)}))}processSegment(t,n,i,r,o,s,a){return Xi(n).pipe(xu(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Yl(d=>{if(d instanceof Eb)return Gt(null);throw d}))),Oa(l=>!!l),Yl(l=>{if(hH(l))return rpe(i,r,o)?Gt(new dk):Km(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return vl(i)!==s&&(s===Fn||!Cx(r,o,i))?Km(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):Km(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:d,consumedSegments:c,positionalParamSegments:u,remainingSegments:h}=pH(n,r,o);if(!l)return Km(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>spe&&(this.allowRedirects=!1));let p=new Ef(o,d,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,zV(r),vl(r),r.component??r._loadedComponent??null,r,jV(r)),f=gx(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let m=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u,p,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(Or(g=>this.processSegment(t,i,n,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=Qfe(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Mo(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Mo(({routes:d})=>{let c=i._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:p}=l,f=new Ef(h,u,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,zV(i),vl(i),i.component??i._loadedComponent??null,i,jV(i)),m=gx(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(m.params),f.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:v}=HV(n,h,p,d);if(v.length===0&&g.hasChildren())return this.processChildren(c,d,g,f).pipe(Jt(E=>new pa(f,E)));if(d.length===0&&v.length===0)return Gt(new pa(f,[]));let w=vl(i)===o;return this.processSegment(c,d,g,v,w?Fn:o,!0,f).pipe(Jt(E=>new pa(f,E instanceof pa?[E]:[])))}))):Km(n)))}getChildConfig(t,n,i){return n.children?Gt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Gt({routes:n._loadedRoutes,injector:n._loadedInjector}):Kfe(t,n,i,this.urlSerializer).pipe(Or(r=>r?this.configLoader.loadChildren(t,n).pipe(hr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Zfe(n))):Gt({routes:[],injector:t})}};function ape(e){e.sort((t,n)=>t.value.outlet===Fn?-1:n.value.outlet===Fn?1:t.value.outlet.localeCompare(n.value.outlet))}function lpe(e){let t=e.value.routeConfig;return t&&t.path===""}function mH(e){let t=[],n=new Set;for(let i of e){if(!lpe(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=mH(i.children);t.push(new pa(i.value,r))}return t.filter(i=>!n.has(i))}function zV(e){return e.data||{}}function jV(e){return e.resolve||{}}function cpe(e,t,n,i,r,o){return Or(s=>ope(e,t,n,i,s.extractedUrl,r,o).pipe(Jt(({state:a,tree:l})=>Le(re({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function dpe(e,t){return Or(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Gt(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of gH(l))s.add(d);let a=0;return Xi(s).pipe(xu(l=>o.has(l)?upe(l,i,e,t):(l.data=gx(l,l.parent,e).resolve,Gt(void 0))),hr(()=>a++),um(1),Or(l=>a===s.size?Gt(n):uo))})}function gH(e){let t=e.children.map(n=>gH(n)).flat();return[e,...t]}function upe(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!aH(r)&&(o[Rb]=r.title),hpe(o,e,t,i).pipe(Jt(s=>(e._resolvedData=s,e.data=gx(e,e.parent,n).resolve,null)))}function hpe(e,t,n,i){let r=JI(e);if(r.length===0)return Gt({});let o={};return Xi(r).pipe(Or(s=>fpe(e[s],t,n,i).pipe(Oa(),hr(a=>{if(a instanceof tg)throw vx(new Rf,a);o[s]=a}))),um(1),Jt(()=>o),Yl(s=>hH(s)?uo:Cu(s)))}function fpe(e,t,n,i){let r=Tb(t)??i,o=rg(e,r),s=o.resolve?o.resolve(t,n):ha(r,()=>o(t,n));return Bu(s)}function ZI(e){return Mo(t=>{let n=e(t);return n?Xi(n).pipe(Jt(()=>t)):Gt(t)})}var fk=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Fn);return i}getResolvedTitleForRoute(n){return n.data[Rb]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>te(vH),providedIn:"root"})}return e})(),vH=(()=>{class e extends fk{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(Rt(OV))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ab=new Ne("",{providedIn:"root",factory:()=>({})}),pk=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&kt(0,"router-outlet")},dependencies:[Ib],encapsulation:2})}return e})();function mk(e){let t=e.children&&e.children.map(mk),n=t?Le(re({},e),{children:t}):re({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Fn&&(n.component=pk),n}var Fb=new Ne(""),bH=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=te(YB);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Gt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Bu(n.loadComponent()).pipe(Jt(wH),hr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),fl(()=>{this.componentLoaders.delete(n)})),r=new om(i,()=>new yt).pipe(rm());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=yH(i,this.compiler,n,this.onLoadEndListener).pipe(fl(()=>{this.childrenLoaders.delete(i)})),s=new om(o,()=>new yt).pipe(rm());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yH(e,t,n,i){return Bu(e.loadChildren()).pipe(Jt(wH),Or(r=>r instanceof fI||Array.isArray(r)?Gt(r):Xi(t.compileModuleAsync(r))),Jt(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Fb,[],{optional:!0,self:!0}).flat()),{routes:s.map(mk),injector:o}}))}function ppe(e){return e&&typeof e=="object"&&"default"in e}function wH(e){return ppe(e)?e.default:e}var _x=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>te(mpe),providedIn:"root"})}return e})(),mpe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CH=new Ne("");var _H=new Ne(""),xH=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new yt;transitionAbortSubject=new yt;configLoader=te(bH);environmentInjector=te($r);destroyRef=te(Zi);urlSerializer=te(Mb);rootContexts=te(ig);location=te(Lu);inputBindingEnabled=te(wx,{optional:!0})!==null;titleStrategy=te(fk);options=te(Ab,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=te(_x);createViewTransition=te(CH,{optional:!0});navigationErrorHandler=te(_H,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Gt(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new lx(r)),i=r=>this.events.next(new cx(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Le(re({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new ki(null),this.transitions.pipe(Ln(i=>i!==null),Mo(i=>{let r=!1,o=!1;return Gt(i).pipe(Mo(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Hs.SupersededByNewNavigation),uo;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Le(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let d="";return this.events.next(new _d(s.id,this.urlSerializer.serialize(s.rawUrl),d,yb.IgnoredSameUrlNavigation)),s.resolve(!1),uo}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Gt(s).pipe(Mo(d=>(this.events.next(new Mf(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?uo:Promise.resolve(d))),cpe(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),hr(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Le(re({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let c=new wb(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:c,source:u,restoredState:h,extras:p}=s,f=new Mf(d,this.urlSerializer.serialize(c),u,h);this.events.next(f);let m=oH(this.rootComponentType).snapshot;return this.currentTransition=i=Le(re({},s),{targetSnapshot:m,urlAfterRedirects:c,extras:Le(re({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,Gt(i)}else{let d="";return this.events.next(new _d(s.id,this.urlSerializer.serialize(s.extractedUrl),d,yb.IgnoredByUrlHandlingStrategy)),s.resolve(!1),uo}}),hr(s=>{let a=new rx(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Jt(s=>(this.currentTransition=i=Le(re({},s),{guards:Tfe(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),Hfe(this.environmentInjector,s=>this.events.next(s)),hr(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw vx(this.urlSerializer,s.guardsResult);let a=new ox(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ln(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Hs.GuardRejected),!1)),ZI(s=>{if(s.guards.canActivateChecks.length!==0)return Gt(s).pipe(hr(a=>{let l=new sx(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Mo(a=>{let l=!1;return Gt(a).pipe(dpe(this.paramsInheritanceStrategy,this.environmentInjector),hr({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Hs.NoDataFromResolver)}}))}),hr(a=>{let l=new ax(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),ZI(s=>{let a=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(hr(c=>{l.component=c}),Jt(()=>{})));for(let c of l.children)d.push(...a(c));return d};return cm(a(s.targetSnapshot.root)).pipe(Su(null),Jr(1))}),ZI(()=>this.afterPreactivation()),Mo(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Xi(l).pipe(Jt(()=>i)):Gt(i)}),Jt(s=>{let a=Sfe(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=Le(re({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),hr(()=>{this.events.next(new Cb)}),Mfe(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Jr(1),hr({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Gi(this.transitionAbortSubject.pipe(hr(s=>{throw s}))),fl(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Hs.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yl(s=>{if(this.destroyed)return i.resolve(!1),uo;if(o=!0,uH(s))this.events.next(new uc(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Rfe(s)?this.events.next(new eg(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new Jm(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=ha(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof tg){let{message:d,cancellationCode:c}=vx(this.urlSerializer,l);this.events.next(new uc(i.id,this.urlSerializer.serialize(i.extractedUrl),d,c)),this.events.next(new eg(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return uo}))}))}cancelNavigationTransition(n,i,r){let o=new uc(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gpe(e){return e!==tx}var SH=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>te(vpe),providedIn:"root"})}return e})(),yx=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},vpe=(()=>{class e extends yx{static \u0275fac=(()=>{let n;return function(r){return(n||(n=hs(e)))(r||e)}})();static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),EH=(()=>{class e{urlSerializer=te(Mb);options=te(Ab,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=te(Lu);urlHandlingStrategy=te(_x);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hc;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof hc?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=oH(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:()=>te(bpe),providedIn:"root"})}return e})(),bpe=(()=>{class e extends EH{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof Mf?this.updateStateMemento():n instanceof _d?this.commitTransition(i):n instanceof wb?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof Cb?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof uc&&(n.code===Hs.GuardRejected||n.code===Hs.NoDataFromResolver)?this.restoreHistory(i):n instanceof Jm?this.restoreHistory(i,!0):n instanceof Cd&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=re(re({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",l)}else{let a=re(re({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=hs(e)))(r||e)}})();static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gk(e,t){e.events.pipe(Ln(n=>n instanceof Cd||n instanceof uc||n instanceof Jm||n instanceof _d),Jt(n=>n instanceof Cd||n instanceof _d?0:(n instanceof uc?n.code===Hs.Redirect||n.code===Hs.SupersededByNewNavigation:!1)?2:1),Ln(n=>n!==2),Jr(1)).subscribe(()=>{t()})}var ype={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vu=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=te(pI);stateManager=te(EH);options=te(Ab,{optional:!0})||{};pendingTasks=te(ku);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=te(xH);urlSerializer=te(Mb);location=te(Lu);urlHandlingStrategy=te(_x);_events=new yt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=te(SH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=te(Fb,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!te(wx,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ti;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof uc&&i.code!==Hs.Redirect&&i.code!==Hs.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Cd)this.navigated=!0;else if(i instanceof eg){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=re({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gpe(r.source)},s);this.scheduleNavigation(a,tx,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}_pe(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tx,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=re({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mk),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:s,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=re(re({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let u;try{let h=r?r.snapshot:this.routerState.snapshot.root;u=tH(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return nH(u,n,c,d??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Qm(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,tx,null,i)}navigate(n,i={skipLocationChange:!1}){return Cpe(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=re({},ype):i===!1?r=re({},wpe):r=i,Qm(n))return LV(this.currentUrlTree,n,r);let o=this.parseUrl(n);return LV(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((u,h)=>{a=u,l=h});let c=this.pendingTasks.add();return gk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cpe(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Dt(4008,!1)}function _pe(e){return!(e instanceof Cb)&&!(e instanceof eg)}var Spe=new Ne("");function vk(e,...t){return Tm([{provide:Fb,multi:!0,useValue:e},[],{provide:fc,useFactory:Epe,deps:[Vu]},{provide:gI,multi:!0,useFactory:Dpe},t.map(n=>n.\u0275providers)])}function Epe(e){return e.routerState.root}function Dpe(){let e=te($n);return t=>{let n=e.get(ua);if(t!==n.components[0])return;let i=e.get(Vu),r=e.get(Rpe);e.get(Mpe)===1&&i.initialNavigation(),e.get(Tpe,null,Wn.Optional)?.setUpPreloading(),e.get(Spe,null,Wn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Rpe=new Ne("",{factory:()=>new yt}),Mpe=new Ne("",{providedIn:"root",factory:()=>1});var Tpe=new Ne("");var PH=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(et(xr),et(qt))};static \u0275dir=tn({type:e})}return e})(),kpe=(()=>{class e extends PH{static \u0275fac=(()=>{let n;return function(r){return(n||(n=hs(e)))(r||e)}})();static \u0275dir=tn({type:e,features:[Nr]})}return e})(),Px=new Ne("");var Ape={provide:Px,useExisting:ic(()=>Ox),multi:!0};function Fpe(){let e=za()?za().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Ppe=new Ne(""),Ox=(()=>{class e extends PH{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Fpe())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(et(xr),et(qt),et(Ppe,8))};static \u0275dir=tn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&jt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Hr([Ape]),Nr]})}return e})();function Ck(e){return e==null||_k(e)===0}function _k(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Vb=new Ne(""),xk=new Ne(""),Ope=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Sx=class{static min(t){return Lpe(t)}static max(t){return Npe(t)}static required(t){return Bpe(t)}static requiredTrue(t){return Vpe(t)}static email(t){return Hpe(t)}static minLength(t){return zpe(t)}static maxLength(t){return jpe(t)}static pattern(t){return Gpe(t)}static nullValidator(t){return OH()}static compose(t){return zH(t)}static composeAsync(t){return jH(t)}};function Lpe(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Npe(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function Bpe(e){return Ck(e.value)?{required:!0}:null}function Vpe(e){return e.value===!0?null:{required:!0}}function Hpe(e){return Ck(e.value)||Ope.test(e.value)?null:{email:!0}}function zpe(e){return t=>{let n=t.value?.length??_k(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function jpe(e){return t=>{let n=t.value?.length??_k(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Gpe(e){if(!e)return OH;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(Ck(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function OH(e){return null}function LH(e){return e!=null}function NH(e){return Fu(e)?Xi(e):e}function BH(e){let t={};return e.forEach(n=>{t=n!=null?re(re({},t),n):t}),Object.keys(t).length===0?null:t}function VH(e,t){return t.map(n=>n(e))}function Upe(e){return!e.validate}function HH(e){return e.map(t=>Upe(t)?t:n=>t.validate(n))}function zH(e){if(!e)return null;let t=e.filter(LH);return t.length==0?null:function(n){return BH(VH(n,t))}}function Sk(e){return e!=null?zH(HH(e)):null}function jH(e){if(!e)return null;let t=e.filter(LH);return t.length==0?null:function(n){let i=VH(n,t).map(NH);return Fv(i).pipe(Jt(BH))}}function Ek(e){return e!=null?jH(HH(e)):null}function RH(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function GH(e){return e._rawValidators}function UH(e){return e._rawAsyncValidators}function bk(e){return e?Array.isArray(e)?e:[e]:[]}function Ex(e,t){return Array.isArray(e)?e.includes(t):e===t}function MH(e,t){let n=bk(t);return bk(e).forEach(r=>{Ex(n,r)||n.push(r)}),n}function TH(e,t){return bk(t).filter(n=>!Ex(e,n))}var Dx=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Sk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ek(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Hu=class extends Dx{name;get formDirective(){return null}get path(){return null}},Tf=class extends Dx{_parent=null;name=null;valueAccessor=null},Rx=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Wpe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bVe=Le(re({},Wpe),{"[class.ng-submitted]":"isSubmitted"}),WH=(()=>{class e extends Rx{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(et(Tf,2))};static \u0275dir=tn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Rn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Nr]})}return e})(),$H=(()=>{class e extends Rx{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(et(Hu,10))};static \u0275dir=tn({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Rn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Nr]})}return e})();var Pb="VALID",xx="INVALID",og="PENDING",Ob="DISABLED",zu=class{},Mx=class extends zu{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Nb=class extends zu{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Bb=class extends zu{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},sg=class extends zu{status;source;constructor(t,n){super(),this.status=t,this.source=n}},yk=class extends zu{source;constructor(t){super(),this.source=t}},wk=class extends zu{source;constructor(t){super(),this.source=t}};function qH(e){return(Lx(e)?e.validators:e)||null}function $pe(e){return Array.isArray(e)?Sk(e):e||null}function KH(e,t){return(Lx(t)?t.asyncValidators:e)||null}function qpe(e){return Array.isArray(e)?Ek(e):e||null}function Lx(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Kpe(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new Dt(1e3,"");if(!i[n])throw new Dt(1001,"")}function Ype(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new Dt(1002,"")})}var Tx=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return fs(this.statusReactive)}set status(t){fs(()=>this.statusReactive.set(t))}_status=sc(()=>this.statusReactive());statusReactive=Ns(void 0);get valid(){return this.status===Pb}get invalid(){return this.status===xx}get pending(){return this.status==og}get disabled(){return this.status===Ob}get enabled(){return this.status!==Ob}errors;get pristine(){return fs(this.pristineReactive)}set pristine(t){fs(()=>this.pristineReactive.set(t))}_pristine=sc(()=>this.pristineReactive());pristineReactive=Ns(!0);get dirty(){return!this.pristine}get touched(){return fs(this.touchedReactive)}set touched(t){fs(()=>this.touchedReactive.set(t))}_touched=sc(()=>this.touchedReactive());touchedReactive=Ns(!1);get untouched(){return!this.touched}_events=new yt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(MH(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(MH(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TH(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TH(t,this._rawAsyncValidators))}hasValidator(t){return Ex(this._rawValidators,t)}hasAsyncValidator(t){return Ex(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Le(re({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Bb(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Bb(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Le(re({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Nb(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Nb(!0,i))}markAsPending(t={}){this.status=og;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new sg(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Le(re({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ob,this.errors=null,this._forEachChild(r=>{r.disable(Le(re({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mx(this.value,i)),this._events.next(new sg(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Le(re({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Pb,this._forEachChild(i=>{i.enable(Le(re({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Le(re({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pb||this.status===og)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mx(this.value,n)),this._events.next(new sg(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Le(re({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ob:Pb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=og,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=NH(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new sg(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ob:this.errors?xx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(og)?og:this._anyControlsHaveStatus(xx)?xx:Pb}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Nb(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Bb(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lx(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=$pe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=qpe(this._rawAsyncValidators)}},Ix=class extends Tx{constructor(t,n,i){super(qH(n),KH(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Ype(this,!0,t),Object.keys(t).forEach(i=>{Kpe(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Nx=new Ne("",{providedIn:"root",factory:()=>Dk}),Dk="always";function Xpe(e,t){return[...t.path,e]}function kx(e,t,n=Dk){Rk(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Qpe(e,t),eme(e,t),Jpe(e,t),Zpe(e,t)}function IH(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Fx(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ax(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Zpe(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Rk(e,t){let n=GH(e);t.validator!==null?e.setValidators(RH(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=UH(e);t.asyncValidator!==null?e.setAsyncValidators(RH(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Ax(t._rawValidators,r),Ax(t._rawAsyncValidators,r)}function Fx(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=GH(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=UH(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let i=()=>{};return Ax(t._rawValidators,i),Ax(t._rawAsyncValidators,i),n}function Qpe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&YH(e,t)})}function Jpe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&YH(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function YH(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function eme(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function XH(e,t){e==null,Rk(e,t)}function tme(e,t){return Fx(e,t)}function nme(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function ime(e){return Object.getPrototypeOf(e.constructor)===kpe}function ZH(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rme(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===Ox?n=o:ime(o)?i=o:r=o}),r||i||n||null}function ome(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var sme={provide:Hu,useExisting:ic(()=>Hb)},Lb=Promise.resolve(),Hb=(()=>{class e extends Hu{callSetDisabledState;get submitted(){return fs(this.submittedReactive)}_submitted=sc(()=>this.submittedReactive());submittedReactive=Ns(!1);_directives=new Set;form;ngSubmit=new Fe;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new Ix({},Sk(n),Ek(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Lb.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),kx(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Lb.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Lb.then(()=>{let i=this._findContainer(n.path),r=new Ix({});XH(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Lb.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Lb.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),ZH(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||e)(et(Vb,10),et(xk,10),et(Nx,8))};static \u0275dir=tn({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&jt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Hr([sme]),Nr]})}return e})();function kH(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function AH(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var QH=class extends Tx{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(qH(n),KH(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lx(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AH(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kH(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kH(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){AH(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ame=e=>e instanceof QH;var lme={provide:Tf,useExisting:ic(()=>Mk)},FH=Promise.resolve(),Mk=(()=>{class e extends Tf{_changeDetectorRef;callSetDisabledState;control=new QH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Fe;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rme(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nme(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){FH.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Re(i);FH.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Xpe(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(et(Hu,9),et(Vb,10),et(xk,10),et(Px,10),et(Bi,8),et(Nx,8))};static \u0275dir=tn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Hr([lme]),Nr,Io]})}return e})();var JH=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var cme={provide:Hu,useExisting:ic(()=>Tk)},Tk=(()=>{class e extends Hu{callSetDisabledState;get submitted(){return fs(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=sc(()=>this._submittedReactive());_submittedReactive=Ns(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Fe;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return kx(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){IH(n.control||null,n,!1),ome(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),ZH(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new yk(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new wk(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(IH(i||null,n),ame(r)&&(kx(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);XH(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&tme(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rk(this.form,this),this._oldForm&&Fx(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(et(Vb,10),et(xk,10),et(Nx,8))};static \u0275dir=tn({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&jt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Hr([cme]),Nr,Io]})}return e})();var dme=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({})}return e})();var ez=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Nx,useValue:n.callSetDisabledState??Dk}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[dme]})}return e})();var ko=[];for(let e=0;e<256;++e)ko.push((e+256).toString(16).slice(1));function tz(e,t=0){return(ko[e[t+0]]+ko[e[t+1]]+ko[e[t+2]]+ko[e[t+3]]+"-"+ko[e[t+4]]+ko[e[t+5]]+"-"+ko[e[t+6]]+ko[e[t+7]]+"-"+ko[e[t+8]]+ko[e[t+9]]+"-"+ko[e[t+10]]+ko[e[t+11]]+ko[e[t+12]]+ko[e[t+13]]+ko[e[t+14]]+ko[e[t+15]]).toLowerCase()}var Ik,hme=new Uint8Array(16);function kk(){if(!Ik){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ik=crypto.getRandomValues.bind(crypto)}return Ik(hme)}var fme=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ak={randomUUID:fme};function pme(e,t,n){if(Ak.randomUUID&&!t&&!e)return Ak.randomUUID();e=e||{};let i=e.random??e.rng?.()??kk();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let r=0;r<16;++r)t[n+r]=i[r];return t}return tz(i)}var zb=pme;function If(e){return e.buttons===0||e.detail===0}function kf(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Fk;function nz(){if(Fk==null){let e=typeof document<"u"?document.head:null;Fk=!!(e&&(e.createShadowRoot||e.attachShadow))}return Fk}function Pk(e){if(nz()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function jb(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function zs(e){return e.composedPath?e.composedPath()[0]:e.target}function Wo(e,t,n,i,r){let o=parseInt(CI.major),s=parseInt(CI.minor);return o>19||o===19&&s>0||o===0&&s===0?e.listen(t,n,i,r):(t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)})}var Ok;try{Ok=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ok=!1}var yi=(()=>{class e{_platformId=te(md);isBrowser=this._platformId?TI(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Ok)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Gb;function iz(){if(Gb==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gb=!0}))}finally{Gb=Gb||!1}return Gb}function ju(e){return iz()?e:!!e.capture}function ag(e,t=0){return rz(e)?Number(e):arguments.length===2?t:0}function rz(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function ga(e){return e instanceof qt?e.nativeElement:e}var oz=new Ne("cdk-input-modality-detector-options"),sz={ignoreKeys:[18,17,224,91,16]},az=650,Lk={passive:!0,capture:!0},lz=(()=>{class e{_platform=te(yi);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ki(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(i=>i===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zs(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<az||(this._modality.next(If(n)?"keyboard":"mouse"),this._mostRecentTarget=zs(n))};_onTouchstart=n=>{if(kf(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zs(n)};constructor(){let n=te(It),i=te(en),r=te(oz,{optional:!0});if(this._options=re(re({},sz),r),this.modalityDetected=this._modality.pipe(Pv(1)),this.modalityChanged=this.modalityDetected.pipe(sf()),this._platform.isBrowser){let o=te(to).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[Wo(o,i,"keydown",this._onKeydown,Lk),Wo(o,i,"mousedown",this._onMousedown,Lk),Wo(o,i,"touchstart",this._onTouchstart,Lk)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ub=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Ub||{}),cz=new Ne("cdk-focus-monitor-default-options"),Bx=ju({passive:!0,capture:!0}),pc=(()=>{class e{_ngZone=te(It);_platform=te(yi);_inputModalityDetector=te(lz);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=te(en,{optional:!0});_stopInputModalityDetector=new yt;constructor(){let n=te(cz,{optional:!0});this._detectionMode=n?.detectionMode||Ub.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let i=zs(n);for(let r=i;r;r=r.parentElement)n.type==="focus"?this._onFocus(n,r):this._onBlur(n,r)};monitor(n,i=!1){let r=ga(n);if(!this._platform.isBrowser||r.nodeType!==1)return Gt();let o=Pk(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new yt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let i=ga(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){let o=ga(n),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Ub.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===Ub.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?az:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,i){let r=this._elementInfo.get(i),o=zs(n);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(n,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bx)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((r,o)=>{(o===n||r.checkChildren&&o.contains(n))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vx=new WeakMap,Kr=(()=>{class e{_appRef;_injector=te($n);_environmentInjector=te($r);load(n){let i=this._appRef=this._appRef||this._injector.get(ua),r=Vx.get(i);r||(r={loaders:new Set,refs:[]},Vx.set(i,r),i.onDestroy(()=>{Vx.get(i)?.refs.forEach(o=>o.destroy()),Vx.delete(i)})),r.loaders.has(n)||(r.loaders.add(n),r.refs.push(P_(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Af=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return e})();function lg(e){return Array.isArray(e)?e:[e]}var dz=new Set,Ff,hz=(()=>{class e{_platform=te(yi);_nonce=te(Jv,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gme}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&mme(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mme(e,t){if(!dz.has(e))try{Ff||(Ff=document.createElement("style"),t&&Ff.setAttribute("nonce",t),Ff.setAttribute("type","text/css"),document.head.appendChild(Ff)),Ff.sheet&&(Ff.sheet.insertRule(`@media ${e} {body{ }}`,0),dz.add(e))}catch(n){console.error(n)}}function gme(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Pf=(()=>{class e{_mediaMatcher=te(hz);_zone=te(It);_queries=new Map;_destroySubject=new yt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return uz(lg(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=uz(lg(n)).map(s=>this._registerQuery(s).observable),o=cm(r);return o=_u(o.pipe(Jr(1)),o.pipe(Pv(1),Xl(0))),o.pipe(Jt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:d})=>{a.matches=a.matches||l,a.breakpoints[d]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),o={observable:new dn(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ro(i),Jt(({matches:s})=>({query:n,matches:s})),Gi(this._destroySubject)),mql:i};return this._queries.set(n,o),o}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uz(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var fz=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Of=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({providers:[fz]})}return e})();var cg=(()=>{class e{_platform=te(yi);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return yme(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let i=bme(Rme(n));if(i&&(pz(i)===-1||!this.isVisible(i)))return!1;let r=n.nodeName.toLowerCase(),o=pz(n);return n.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Eme(n)?!1:r==="audio"?n.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,i){return Dme(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bme(e){try{return e.frameElement}catch{return null}}function yme(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function wme(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function Cme(e){return xme(e)&&e.type=="hidden"}function _me(e){return Sme(e)&&e.hasAttribute("href")}function xme(e){return e.nodeName.toLowerCase()=="input"}function Sme(e){return e.nodeName.toLowerCase()=="a"}function vz(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function pz(e){if(!vz(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function Eme(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function Dme(e){return Cme(e)?!1:wme(e)||_me(e)||e.hasAttribute("contenteditable")||vz(e)}function Rme(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Hx=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,n,i,r,o=!1,s){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Bs(t,{injector:this._injector}):setTimeout(t)}},Bk=(()=>{class e{_checker=te(cg);_ngZone=te(It);_document=te(en);_injector=te($n);constructor(){te(Kr).load(Af)}create(n,i=!1){return new Hx(n,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Gu=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Gu||{}),mz="cdk-high-contrast-black-on-white",gz="cdk-high-contrast-white-on-black",Nk="cdk-high-contrast-active",zx=(()=>{class e{_platform=te(yi);_hasCheckedHighContrastMode;_document=te(en);_breakpointSubscription;constructor(){this._breakpointSubscription=te(Pf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Gu.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Gu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Gu.BLACK_ON_WHITE}return Gu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Nk,mz,gz),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Gu.BLACK_ON_WHITE?n.add(Nk,mz):i===Gu.WHITE_ON_BLACK&&n.add(Nk,gz)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dg=(()=>{class e{constructor(){te(zx)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[Of]})}return e})();var Vk={},$o=(()=>{class e{_appId=te(wf);getId(n){return this._appId!=="ng"&&(n+=this._appId),Vk.hasOwnProperty(n)||(Vk[n]=0),`${n}${Vk[n]++}`}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Mme=200,jx=class{_letterKeyStream=new yt;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new yt;selectedItem=this._selectedItem;constructor(t,n){let i=typeof n?.debounceInterval=="number"?n.debounceInterval:Mme;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let n=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(hr(n=>this._pressedLetters.push(n)),Xl(t),Ln(()=>this._pressedLetters.length>0),Jt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function bl(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var Gx=class{_items;_activeItemIndex=-1;_activeItem=Ns(null);_wrap=!1;_typeaheadSubscription=ti.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,n){this._items=t,t instanceof Mu?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):Lm(t)&&(this._effectRef=Pu(()=>this._itemsChanged(t()),{injector:n}))}tabOut=new yt;change=new yt;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new jx(n,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,n=10){return this._pageUpAndDown={enabled:t,delta:n},this}setActiveItem(t){let n=this._activeItem();this.updateActiveItem(t),this._activeItem()!==n&&this.change.next(this._activeItemIndex)}onKeydown(t){let n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||bl(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let n=this._getItemsArray(),i=typeof t=="number"?t:n.indexOf(t),r=n[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+t*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,n){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=n,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return Lm(this._items)?this._items():this._items instanceof Mu?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let n=this._activeItem();if(n){let i=t.indexOf(n);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Wb=class extends Gx{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var Cz=" ";function Tme(e,t,n){let i=Wx(e,t);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),e.setAttribute(t,i.join(Cz)))}function Ime(e,t,n){let i=Wx(e,t);n=n.trim();let r=i.filter(o=>o!==n);r.length?e.setAttribute(t,r.join(Cz)):e.removeAttribute(t)}function Wx(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var _z="cdk-describedby-message",Ux="cdk-describedby-host",Gk=0,$x=(()=>{class e{_platform=te(yi);_document=te(en);_messageRegistry=new Map;_messagesContainer=null;_id=`${Gk++}`;constructor(){te(Kr).load(Af),this._id=te(wf)+"-"+Gk++}describe(n,i,r){if(!this._canBeDescribed(n,i))return;let o=jk(i,r);typeof i!="string"?(wz(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(n,o)||this._addMessageReference(n,o)}removeDescription(n,i,r){if(!i||!this._isElementNode(n))return;let o=jk(i,r);if(this._isElementDescribedByMessage(n,o)&&this._removeMessageReference(n,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${Ux}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(Ux);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){let r=this._document.createElement("div");wz(r,this._id),r.textContent=n,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(jk(n,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){let i=Wx(n,"aria-describedby").filter(r=>r.indexOf(_z)!=0);n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){let r=this._messageRegistry.get(i);Tme(n,"aria-describedby",r.messageElement.id),n.setAttribute(Ux,this._id),r.referenceCount++}_removeMessageReference(n,i){let r=this._messageRegistry.get(i);r.referenceCount--,Ime(n,"aria-describedby",r.messageElement.id),n.removeAttribute(Ux)}_isElementDescribedByMessage(n,i){let r=Wx(n,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=n.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jk(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function wz(e,t){e.id||(e.id=`${_z}-${t}-${Gk++}`)}var ug=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return e})();var Lf;function xz(){if(Lf==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Lf=!1,Lf;if("scrollBehavior"in document.documentElement.style)Lf=!0;else{let e=Element.prototype.scrollTo;e?Lf=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Lf=!1}}return Lf}function Uk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var hg,Sz=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wk(){if(hg)return hg;if(typeof document!="object"||!document)return hg=new Set(Sz),hg;let e=document.createElement("input");return hg=new Set(Sz.filter(t=>(e.setAttribute("type",t),e.type===t))),hg}function mc(e){return e!=null&&`${e}`!="false"}function zr(e){return e==null?"":typeof e=="string"?e:`${e}px`}var ja=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(ja||{}),$k=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ja.HIDDEN;constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Ez=ju({passive:!0,capture:!0}),qk=class{_events=new Map;addHandler(t,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Ez)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Ez)))}_delegateEventHandler=t=>{let n=zs(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(t))})}},$b={enterDuration:225,exitDuration:150},kme=800,Dz=ju({passive:!0,capture:!0}),Rz=["mousedown","touchstart"],Mz=["mouseup","mouseleave","touchend","touchcancel"],Ame=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return e})(),qb=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new qk;constructor(t,n,i,r,o){this._target=t,this._ngZone=n,this._platform=r,r.isBrowser&&(this._containerElement=ga(i)),o&&o.get(Kr).load(Ame)}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=re(re({},$b),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||Fme(t,n,r),a=t-r.left,l=n-r.top,d=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${a-s}px`,c.style.top=`${l-s}px`,c.style.height=`${s*2}px`,c.style.width=`${s*2}px`,i.color!=null&&(c.style.backgroundColor=i.color),c.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(c);let u=window.getComputedStyle(c),h=u.transitionProperty,p=u.transitionDuration,f=h==="none"||p==="0s"||p==="0s, 0s"||r.width===0&&r.height===0,m=new $k(this,c,i,f);c.style.transform="scale3d(1, 1, 1)",m.state=ja.FADING_IN,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!f&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{g&&(g.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(m)},w=()=>this._destroyRipple(m),E=setTimeout(w,d+100);c.addEventListener("transitionend",v),c.addEventListener("transitioncancel",w),g={onTransitionEnd:v,onTransitionCancel:w,fallbackTimer:E}}),this._activeRipples.set(m,g),(f||!d)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(t.state===ja.FADING_OUT||t.state===ja.HIDDEN)return;let n=t.element,i=re(re({},$b),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=ja.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=ga(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Rz.forEach(i=>{e._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Mz.forEach(n=>{this._triggerElement.addEventListener(n,this,Dz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===ja.FADING_IN?this._startFadeOutTransition(t):t.state===ja.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=ja.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=ja.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=If(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+kme;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!kf(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===ja.VISIBLE||t.config.terminateOnPointerUp&&t.state===ja.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Rz.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(Mz.forEach(n=>t.removeEventListener(n,this,Dz)),this._pointerUpEventsRegistered=!1))}};function Fme(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var Kk=new Ne("mat-ripple-global-options"),qx=(()=>{class e{_elementRef=te(qt);_animationMode=te(_r,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let n=te(It),i=te(yi),r=te(Kk,{optional:!0}),o=te($n);this._globalOptions=r||{},this._rippleRenderer=new qb(this,n,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:re(re(re({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,i,re(re({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,re(re({},this.rippleConfig),n))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Rn("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();var fg=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},xd=class extends fg{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,n,i,r,o){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.projectableNodes=o}},Sd=class extends fg{templateRef;viewContainerRef;context;injector;constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Kx=class extends fg{element;constructor(t){super(),this.element=t instanceof qt?t.nativeElement:t}},Nf=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof xd)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Sd)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Kx)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var pg=class extends Nf{outletElement;_appRef;_defaultInjector;_document;constructor(t,n,i,r,o){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let n;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(hd,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||$n.NULL,o=r.get($r,i.injector);n=P_(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let n=t.element;n.parentNode;let i=this._document.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var mg=(()=>{class e extends Nf{_moduleRef=te(hd,{optional:!0});_document=te(en);_viewContainerRef=te(Lr);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new Fe;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let i=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=i.createComponent(n.component,{index:i.length,injector:n.injector||i.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(n){n.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=n=>{let i=n.element;i.parentNode;let r=this._document.createComment("dom-portal");n.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=n,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Nr]})}return e})();var Kb=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({})}return e})();var Tz=new Ne("cdk-dir-doc",{providedIn:"root",factory:Pme});function Pme(){return te(en)}var Ome=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Lme(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Ome.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ga=(()=>{class e{value="ltr";change=new Fe;constructor(){let n=te(Tz,{optional:!0});if(n){let i=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=Lme(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ed=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({})}return e})();var Iz=20,gg=(()=>{class e{_ngZone=te(It);_platform=te(yi);_renderer=te(to).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new yt;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=Iz){return this._platform.isBrowser?new dn(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=n>0?this._scrolled.pipe(wC(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Gt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){let r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(Ln(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(n){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_scrollableContainsElement(n,i){let r=ga(i),o=n.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var kz=20,Yb=(()=>{class e{_platform=te(yi);_listeners;_viewportSize;_change=new yt;_document=te(en,{optional:!0});constructor(){let n=te(It),i=te(to).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),r=n.documentElement,o=r.getBoundingClientRect(),s=-o.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(n=kz){return n>0?this._change.pipe(wC(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Uu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({})}return e})(),Yx=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[Ed,Uu,Ed,Uu]})}return e})();var Az=xz(),Xx=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,n){this._viewportRuler=t,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=zr(-this._previousScrollPosition.left),t.style.top=zr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,i=t.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Az&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Az&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var Zx=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ln(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Xb=class{enable(){}disable(){}attach(){}};function Yk(e,t){return t.some(n=>{let i=e.bottom<n.top,r=e.top>n.bottom,o=e.right<n.left,s=e.left>n.right;return i||r||o||s})}function Fz(e,t){return t.some(n=>{let i=e.top<n.top,r=e.bottom>n.bottom,o=e.left<n.left,s=e.right>n.right;return i||r||o||s})}var Qx=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Yk(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Vz=(()=>{class e{_scrollDispatcher=te(gg);_viewportRuler=te(Yb);_ngZone=te(It);_document=te(en);constructor(){}noop=()=>new Xb;close=n=>new Zx(this._scrollDispatcher,this._ngZone,this._viewportRuler,n);block=()=>new Xx(this._viewportRuler,this._document);reposition=n=>new Qx(this._scrollDispatcher,this._viewportRuler,this._ngZone,n);static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wu=class{positionStrategy;scrollStrategy=new Xb;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var Jx=class{connectionPair;scrollableViewProperties;constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var Hz=(()=>{class e{_attachedOverlays=[];_document=te(en);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zz=(()=>{class e extends Hz{_ngZone=te(It);_renderer=te(to).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=hs(e)))(r||e)}})();static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jz=(()=>{class e extends Hz{_platform=te(yi);_ngZone=te(It);_renderer=te(to).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Wo(this._renderer,i,"pointerdown",this._pointerDownListener,r),Wo(this._renderer,i,"click",this._clickListener,r),Wo(this._renderer,i,"auxclick",this._clickListener,r),Wo(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=zs(n)};_clickListener=n=>{let i=zs(n),r=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Pz(a.overlayElement,i)||Pz(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n)}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=hs(e)))(r||e)}})();static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pz(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===e)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Gz=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return e})(),Zb=(()=>{class e{_platform=te(yi);_containerElement;_document=te(en);_styleLoader=te(Kr);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Uk()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(n),Uk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Gz)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xk=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,i,r){this._renderer=n,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Vf=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new yt;_attachments=new yt;_detachments=new yt;_positionStrategy;_scrollStrategy;_locationChanges=ti.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new yt;_outsidePointerEvents=new yt;_renders=new yt;_afterRenderRef;_afterNextRenderRef;constructor(t,n,i,r,o,s,a,l,d,c=!1,u,h){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=c,this._injector=u,this._renderer=h,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=fs(()=>tb(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Bs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=re(re({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Le(re({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=zr(this._config.width),t.height=zr(this._config.height),t.minWidth=zr(this._config.minWidth),t.minHeight=zr(this._config.minHeight),t.maxWidth=zr(this._config.maxWidth),t.maxHeight=zr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Xk(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,i){let r=lg(n||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Gi(hl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},Oz="cdk-overlay-connected-position-bounding-box",Nme=/([A-Za-z%]+)$/,eS=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new yt;_resizeSubscription=ti.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Oz),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),d=this._getOverlayPoint(l,n,a),c=this._getOverlayFit(d,n,i,a);if(c.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(c,d,i)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:d,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let d of o){let c=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);c>l&&(l=c,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Oz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(t,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,n,i,r){let o=Nz(n),{x:s,y:a}=t,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(a+=d);let c=0-s,u=s+o.width-i.width,h=0-a,p=a+o.height-i.height,f=this._subtractOverflows(o.width,c,u),m=this._subtractOverflows(o.height,h,p),g=f*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=Lz(this._overlayRef.getConfig().minHeight),a=Lz(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,d=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&d}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=Nz(n),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),d=Math.max(o.left-i.left-t.x,0),c=0,u=0;return r.width<=o.width?c=d||-s:c=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?u=l||-a:u=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Bme(this._lastScrollVisibility,i)){let r=new Jx(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let p=Math.min(i.bottom-t.y+i.top,t.y),f=this._lastBoundingBoxSize.height;o=p*2,s=t.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-f/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,d=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,c,u,h;if(d)h=i.width-t.x+this._viewportMargin*2,c=t.x-this._viewportMargin;else if(l)u=t.x,c=i.right-t.x;else{let p=Math.min(i.right-t.x+i.left,t.x),f=this._lastBoundingBoxSize.width;c=p*2,u=t.x-p,c>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-f/2)}return{top:s,left:u,bottom:a,right:h,width:c,height:o}}_setBoundingBoxStyles(t,n){let i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=zr(i.height),r.top=zr(i.top),r.bottom=zr(i.bottom),r.width=zr(i.width),r.left=zr(i.left),r.right=zr(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=zr(o)),s&&(r.maxWidth=zr(s))}this._lastBoundingBoxSize=i,Bf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Bf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let c=this._viewportRuler.getViewportScrollPosition();Bf(i,this._getExactOverlayY(n,t,c)),Bf(i,this._getExactOverlayX(n,t,c))}else i.position="static";let a="",l=this._getOffset(n,"x"),d=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=zr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=zr(s.maxWidth):o&&(i.maxWidth="")),Bf(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=zr(o.y);return r}_getExactOverlayX(t,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=zr(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Fz(t,i),isOriginOutsideView:Yk(t,i),isOverlayClipped:Fz(n,i),isOverlayOutsideView:Yk(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&lg(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof qt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}};function Bf(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Lz(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(Nme);return!n||n==="px"?parseFloat(t):null}return e||null}function Nz(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function Bme(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var Bz="cdk-global-overlay-wrapper",tS=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Bz),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),c=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",p="",f="",m="";l?m="flex-start":c==="center"?(m="center",h?f=u:p=u):h?c==="left"||c==="end"?(m="flex-end",p=u):(c==="right"||c==="start")&&(m="flex-start",f=u):c==="left"||c==="start"?(m="flex-start",p=u):(c==="right"||c==="end")&&(m="flex-end",f=u),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,n.justifyContent=m,n.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(Bz),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},Uz=(()=>{class e{_viewportRuler=te(Yb);_document=te(en);_platform=te(yi);_overlayContainer=te(Zb);constructor(){}global(){return new tS}flexibleConnectedTo(n){return new eS(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ao=(()=>{class e{scrollStrategies=te(Vz);_overlayContainer=te(Zb);_positionBuilder=te(Uz);_keyboardDispatcher=te(zz);_injector=te($n);_ngZone=te(It);_document=te(en);_directionality=te(Ga);_location=te(Lu);_outsideClickDispatcher=te(jz);_animationsModuleType=te(_r,{optional:!0});_idGenerator=te($o);_renderer=te(to).createRenderer(null,null);_appRef;_styleLoader=te(Kr);constructor(){}create(n){this._styleLoader.load(Gz);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Wu(n);return s.direction=s.direction||this._directionality.value,new Vf(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get($r),this._renderer)}position(){return this._positionBuilder}_createPaneElement(n){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(ua)),new pg(n,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vme=new Ne("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=te(Ao);return()=>e.scrollStrategies.reposition()}});function Hme(e){return()=>e.scrollStrategies.reposition()}var zme={provide:Vme,deps:[Ao],useFactory:Hme},vg=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({providers:[Ao,zme],imports:[Ed,Kb,Yx,Yx]})}return e})();var bn=(()=>{class e{constructor(){te(zx)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[Ed,Ed]})}return e})();var bg=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,bn]})}return e})();var Xme=["mat-menu-item",""],Zme=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Qme=["mat-icon, [matMenuItemIcon]","*"];function Jme(e,t){e&1&&(Iu(),je(0,"svg",2),kt(1,"polygon",3),$e())}var ege=["*"];function tge(e,t){if(e&1){let n=qr();je(0,"div",0),jt("click",function(){_i(n);let r=Zn();return xi(r.closed.emit("click"))})("animationstart",function(r){_i(n);let o=Zn();return xi(o._onAnimationStart(r.animationName))})("animationend",function(r){_i(n);let o=Zn();return xi(o._onAnimationDone(r.animationName))})("animationcancel",function(r){_i(n);let o=Zn();return xi(o._onAnimationDone(r.animationName))}),je(1,"div",1),vi(2),$e()()}if(e&2){let n=Zn();Vs(n._classList),Rn("mat-menu-panel-animations-disabled",n._animationsDisabled)("mat-menu-panel-exit-animation",n._panelAnimationState==="void")("mat-menu-panel-animating",n._isAnimating),gt("id",n.panelId),Si("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null)("aria-describedby",n.ariaDescribedby||null)}}var Qk=new Ne("MAT_MENU_PANEL"),Jb=(()=>{class e{_elementRef=te(qt);_document=te(en);_focusMonitor=te(pc);_parentMenu=te(Qk,{optional:!0});_changeDetectorRef=te(Bi);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new yt;_focused=new yt;_highlighted=!1;_triggersSubmenu=!1;constructor(){te(Kr).load(ug),this._parentMenu?.addItem?.(this)}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&jt("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Si("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Rn("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Re],disableRipple:[2,"disableRipple","disableRipple",Re]},exportAs:["matMenuItem"],attrs:Xme,ngContentSelectors:Qme,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(Vr(Zme),vi(0),je(1,"span",0),vi(2,1),$e(),kt(3,"div",1),un(4,Jme,2,0,":svg:svg",2)),i&2&&(ot(3),gt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),ot(),Br(r._triggersSubmenu?4:-1))},dependencies:[qx],encapsulation:2,changeDetection:0})}return e})();var nge=new Ne("MatMenuContent");var ige=new Ne("mat-menu-default-options",{providedIn:"root",factory:rge});function rge(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Zk="_mat-menu-enter",nS="_mat-menu-exit",yg=(()=>{class e{_elementRef=te(qt);_changeDetectorRef=te(Bi);_injector=te($n);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Mu;_classList={};_panelAnimationState="void";_animationDone=new yt;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(n){let i=this._previousPanelClass,r=re({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(n){this.panelClass=n}closed=new Fe;close=this.closed;panelId=te($o).getId("mat-menu-panel-");constructor(){let n=te(ige);this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this.overlapTrigger=n.overlapTrigger,this.hasBackdrop=n.hasBackdrop,this._animationsDisabled=te(_r,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Wb(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ro(this._directDescendantItems),Mo(n=>hl(...n.map(i=>i._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=n.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Ro(this._directDescendantItems),Mo(i=>hl(...i.map(r=>r._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){let i=n.keyCode,r=this._keyManager;switch(i){case 27:bl(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(n);return}}focusFirstItem(n="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Bs(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(n).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){}setPositionClasses(n=this.xPosition,i=this.yPosition){this._classList=Le(re({},this._classList),{"mat-menu-before":n==="before","mat-menu-after":n==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(n){let i=n===nS;(i||n===Zk)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(n){(n===Zk||n===nS)&&(this._isAnimating=!0)}_setIsOpen(n){if(this._panelAnimationState=n?"enter":"void",n){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(nS),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(n?Zk:nS)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Ro(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let n=null;return this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),n}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(Ha(o,nge,5),Ha(o,Jb,5),Ha(o,Jb,4)),i&2){let s;ci(s=di())&&(r.lazyContent=s.first),ci(s=di())&&(r._allItems=s),ci(s=di())&&(r.items=s)}},viewQuery:function(i,r){if(i&1&&Qi(Os,5),i&2){let o;ci(o=di())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&Si("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Re],hasBackdrop:[2,"hasBackdrop","hasBackdrop",n=>n==null?null:Re(n)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Hr([{provide:Qk,useExisting:e}])],ngContentSelectors:ege,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(Vr(),un(0,tge,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return e})(),Wz=new Ne("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=te(Ao);return()=>e.scrollStrategies.reposition()}});function oge(e){return()=>e.scrollStrategies.reposition()}var sge={provide:Wz,deps:[Ao],useFactory:oge},age={passive:!0};var Qb=new WeakMap,iS=(()=>{class e{_overlay=te(Ao);_element=te(qt);_viewContainerRef=te(Lr);_menuItemInstance=te(Jb,{optional:!0,self:!0});_dir=te(Ga,{optional:!0});_focusMonitor=te(pc);_ngZone=te(It);_scrollStrategy=te(Wz);_changeDetectorRef=te(Bi);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=ti.EMPTY;_hoverSubscription=ti.EMPTY;_menuCloseSubscription=ti.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._parentMaterialMenu,this._menuCloseSubscription=n.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new Fe;onMenuOpen=this.menuOpened;menuClosed=new Fe;onMenuClose=this.menuClosed;constructor(){let n=te(Qk,{optional:!0}),i=te(xr);this._parentMaterialMenu=n instanceof yg?n:void 0,this._cleanupTouchstart=Wo(i,this._element.nativeElement,"touchstart",r=>{kf(r)||(this._openedBy="touch")},age)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Qb.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let n=this.menu;if(this._menuOpen||!n)return;this._pendingRemoval?.unsubscribe();let i=Qb.get(n);Qb.set(n,this),i&&i!==this&&i.closeMenu();let r=this._createOverlay(n),o=r.getConfig(),s=o.positionStrategy;this._setPosition(n,s),o.hasBackdrop=n.hasBackdrop==null?!this.triggersSubmenu():n.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(n)),n.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),n instanceof yg&&(n._setIsOpen(!0),n._directDescendantItems.changes.pipe(Gi(n.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof yg&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Jr(1)).subscribe(()=>{i.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&Qb.delete(r),this.restoreFocus&&(n==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){let i=this._getOverlayConfig(n);this._subscribeToPositions(n,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof yg&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(n){return new Wu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(n,i){n.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";n.setPositionClasses(o,s)})})}_setPosition(n,i){let[r,o]=n.xPosition==="before"?["end","start"]:["start","end"],[s,a]=n.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,d]=[s,a],[c,u]=[r,o],h=0;if(this.triggersSubmenu()){if(u=r=n.xPosition==="before"?"start":"end",o=c=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}h=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(l=s==="top"?"bottom":"top",d=a==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:c,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:r,originY:d,overlayX:c,overlayY:a,offsetY:-h},{originX:o,originY:d,overlayX:u,overlayY:a,offsetY:-h}])}_menuClosingActions(){let n=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Gt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ln(s=>this._menuOpen&&s!==this._menuItemInstance)):Gt();return hl(n,r,o,i)}_handleMousedown(n){If(n)||(this._openedBy=n.button===0?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){let i=n.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(n=>{n===this._menuItemInstance&&!n.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new Sd(n.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(n){return Qb.get(n)===this}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&jt("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),i&2&&Si("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return e})(),$z=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({providers:[sge],imports:[bg,bn,vg,Uu,bn]})}return e})(),qz={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},dUe=qz.fadeInItems,uUe=qz.transformMenu;var rS;function cge(){if(rS===void 0&&(rS=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(rS=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return rS}function ey(e){return cge()?.createHTML(e)||e}function Jk(e){return Error(`Unable to find icon with the name "${e}"`)}function Yz(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function eA(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function tA(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Dd=class{url;svgText;options;svgElement;constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},ty=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(n,i,r,o){this._httpClient=n,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(n,i,r){return this.addSvgIconInNamespace("",n,i,r)}addSvgIconLiteral(n,i,r){return this.addSvgIconLiteralInNamespace("",n,i,r)}addSvgIconInNamespace(n,i,r,o){return this._addSvgIconConfig(n,i,new Dd(r,null,o))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,r,o){let s=this._sanitizer.sanitize(Uo.HTML,r);if(!s)throw tA(r);let a=ey(s);return this._addSvgIconConfig(n,i,new Dd("",a,o))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,r){return this._addSvgIconSetConfig(n,new Dd(i,null,r))}addSvgIconSetLiteralInNamespace(n,i,r){let o=this._sanitizer.sanitize(Uo.HTML,i);if(!o)throw tA(i);let s=ey(o);return this._addSvgIconSetConfig(n,new Dd("",s,r))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let i=this._sanitizer.sanitize(Uo.RESOURCE_URL,n);if(!i)throw eA(n);let r=this._cachedIconsByUrl.get(i);return r?Gt(oS(r)):this._loadSvgIconFromConfig(new Dd(n,null)).pipe(hr(o=>this._cachedIconsByUrl.set(i,o)),Jt(o=>oS(o)))}getNamedSvgIcon(n,i=""){let r=Kz(i,n),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,n),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(n,s):Cu(Jk(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Gt(oS(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Jt(i=>oS(i)))}_getSvgFromIconSetConfigs(n,i){let r=this._extractIconWithNameFromAnySet(n,i);if(r)return Gt(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Yl(a=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Uo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(d)),Gt(null)})));return Fv(o).pipe(Jt(()=>{let s=this._extractIconWithNameFromAnySet(n,i);if(!s)throw Jk(n);return s}))}_extractIconWithNameFromAnySet(n,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(n)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,n,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(hr(i=>n.svgText=i),Jt(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Gt(null):this._fetchIcon(n).pipe(hr(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,r){let o=n.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(ey("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(n){let i=this._document.createElement("DIV");i.innerHTML=n;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){let i=this._svgElementFromString(ey("<svg></svg>")),r=n.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<n.childNodes.length;o++)n.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){let{url:i,options:r}=n,o=r?.withCredentials??!1;if(!this._httpClient)throw Yz();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(Uo.RESOURCE_URL,i);if(!s)throw eA(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Jt(d=>ey(d)),fl(()=>this._inProgressUrlFetches.delete(s)),Eu());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(n,i,r){return this._svgIconConfigs.set(Kz(n,i),r),this}_addSvgIconSetConfig(n,i){let r=this._iconSetConfigs.get(n);return r?r.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){let i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,n);if(o)return dge(o)?new Dd(o.url,null,o.options):new Dd(o,null)}}static \u0275fac=function(i){return new(i||e)(Rt(qm,8),Rt(xf),Rt(en,8),Rt(us))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oS(e){return e.cloneNode(!0)}function Kz(e,t){return e+":"+t}function dge(e){return!!(e.url&&e.options)}var uge=["*"],Xz=new Ne("MAT_ICON_DEFAULT_OPTIONS"),Zz=new Ne("mat-icon-location",{providedIn:"root",factory:Qz});function Qz(){let e=te(en),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Jz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],hge=Jz.map(e=>`[${e}]`).join(", "),fge=/^url\(['"]?#(.*?)['"]?\)$/,yl=(()=>{class e{_elementRef=te(qt);_iconRegistry=te(ty);_location=te(Zz);_errorHandler=te(us);_defaultColor;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(n){let i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(n){let i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ti.EMPTY;constructor(){let n=te(new Em("aria-hidden"),{optional:!0}),i=te(Xz,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),n||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=n.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),i.forEach(r=>n.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${n}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(n){let i=n.querySelectorAll(hge),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Jz.forEach(s=>{let a=i[o],l=a.getAttribute(s),d=l?l.match(fge):null;if(d){let c=r.get(a);c||(c=[],r.set(a,c)),c.push({name:s,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[i,r]=this._splitIconName(n);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Jr(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Si("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Vs(r.color?"mat-"+r.color:""),Rn("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Re],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:uge,decls:1,vars:0,template:function(i,r){i&1&&(Vr(),vi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),va=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,bn]})}return e})();var pge=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return e})(),mge={passive:!0},ej=(()=>{class e{_platform=te(yi);_ngZone=te(It);_renderer=te(to).createRenderer(null,null);_styleLoader=te(Kr);_monitoredElements=new Map;constructor(){}monitor(n){if(!this._platform.isBrowser)return uo;this._styleLoader.load(pge);let i=ga(n),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new yt,s="cdk-text-field-autofilled",a=d=>{d.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),Wo(this._renderer,i,"animationstart",a,mge)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(n){let i=ga(n),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({})}return e})();var nj=new Ne("MAT_INPUT_VALUE_ACCESSOR");var nA=class{_box;_destroyed=new yt;_resizeSubject=new yt;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new dn(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ln(n=>n.some(i=>i.target===t)),ad({bufferSize:1,refCount:!0}),Gi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},ij=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=te(It);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(n,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new nA(r)),this._observers.get(r).observe(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var gge=["notch"],vge=["matFormFieldNotchedOutline",""],bge=["*"],yge=["textField"],wge=["iconPrefixContainer"],Cge=["textPrefixContainer"],_ge=["iconSuffixContainer"],xge=["textSuffixContainer"],Sge=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ege=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Dge(e,t){e&1&&kt(0,"span",20)}function Rge(e,t){if(e&1&&(je(0,"label",19),vi(1,1),un(2,Dge,1,0,"span",20),$e()),e&2){let n=Zn(2);gt("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),Si("for",n._control.disableAutomaticLabeling?null:n._control.id),ot(2),Br(!n.hideRequiredMarker&&n._control.required?2:-1)}}function Mge(e,t){if(e&1&&un(0,Rge,3,5,"label",19),e&2){let n=Zn();Br(n._hasFloatingLabel()?0:-1)}}function Tge(e,t){e&1&&kt(0,"div",7)}function Ige(e,t){}function kge(e,t){if(e&1&&un(0,Ige,0,0,"ng-template",13),e&2){Zn(2);let n=fo(1);gt("ngTemplateOutlet",n)}}function Age(e,t){if(e&1&&(je(0,"div",9),un(1,kge,1,1,null,13),$e()),e&2){let n=Zn();gt("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),ot(),Br(n._forceDisplayInfixLabel()?-1:1)}}function Fge(e,t){e&1&&(je(0,"div",10,2),vi(2,2),$e())}function Pge(e,t){e&1&&(je(0,"div",11,3),vi(2,3),$e())}function Oge(e,t){}function Lge(e,t){if(e&1&&un(0,Oge,0,0,"ng-template",13),e&2){Zn();let n=fo(1);gt("ngTemplateOutlet",n)}}function Nge(e,t){e&1&&(je(0,"div",14,4),vi(2,4),$e())}function Bge(e,t){e&1&&(je(0,"div",15,5),vi(2,5),$e())}function Vge(e,t){e&1&&kt(0,"div",16)}function Hge(e,t){e&1&&vi(0,6)}function zge(e,t){if(e&1&&(je(0,"mat-hint",21),vn(1),$e()),e&2){let n=Zn(2);gt("id",n._hintLabelId),ot(),po(n.hintLabel)}}function jge(e,t){if(e&1&&(un(0,zge,2,2,"mat-hint",21),vi(1,7),kt(2,"div",22),vi(3,8)),e&2){let n=Zn();Br(n.hintLabel?0:-1)}}var lS=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["mat-label"]]})}return e})(),dj=new Ne("MatError");var cS=(()=>{class e{align="start";id=te($o).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Cf("id",r.id),Si("align",null),Rn("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return e})(),uj=new Ne("MatPrefix");var iA=new Ne("MatSuffix"),dS=(()=>{class e{set _isTextSelector(n){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Hr([{provide:iA,useExisting:e}])]})}return e})(),hj=new Ne("FloatingLabelParent"),rj=(()=>{class e{_elementRef=te(qt);get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=te(ij);_ngZone=te(It);_parent=te(hj);_resizeSubscription=new ti;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Gge(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Rn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();function Gge(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var oj="mdc-line-ripple--active",aS="mdc-line-ripple--deactivating",sj=(()=>{class e{_elementRef=te(qt);_cleanupTransitionEnd;constructor(){let n=te(It),i=te(xr);n.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(aS),n.add(oj)}deactivate(){this._elementRef.nativeElement.classList.add(aS)}_handleTransitionEnd=n=>{let i=this._elementRef.nativeElement.classList,r=i.contains(aS);n.propertyName==="opacity"&&r&&i.remove(oj,aS)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),aj=(()=>{class e{_elementRef=te(qt);_ngZone=te(It);open=!1;_notch;constructor(){}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Qi(gge,5),i&2){let o;ci(o=di())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Rn("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:vge,ngContentSelectors:bge,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Vr(),kt(0,"div",1),je(1,"div",2,0),vi(3),$e(),kt(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),uS=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e})}return e})();var hS=new Ne("MatFormField"),fS=new Ne("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lj="fill",Uge="auto",cj="fixed",Wge="translateY(-50%)",pS=(()=>{class e{_elementRef=te(qt);_changeDetectorRef=te(Bi);_dir=te(Ga);_platform=te(yi);_idGenerator=te($o);_ngZone=te(It);_injector=te($n);_defaults=te(fS,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=hB(lS);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=mc(n)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Uge}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(n){let i=this._appearance,r=n||this._defaults?.appearance||lj;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=lj;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||cj}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||cj}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}_destroyed=new yt;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let n=this._defaults;n&&(n.appearance&&(this.appearance=n.appearance),this._hideRequiredMarker=!!n?.hideRequiredMarker,n.color&&(this.color=n.color)),this._animationsDisabled=te(_r,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=sc(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let i=this._control,r="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(r+n.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Ro([void 0,void 0]),Jt(()=>[i.errorState,i.userAriaDescribedBy]),_C(),Ln(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Gi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),hl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),tb(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Gi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=sc(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let i=this._control?this._control.ngControl:null;return i&&i[n]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,f=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Wge} translateX(${f})
    )`;let m=a+l+d+c;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${m}px)`)}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(jB(o,r._labelChild,lS,5),Ha(o,uS,5),Ha(o,uj,5),Ha(o,iA,5),Ha(o,dj,5),Ha(o,cS,5)),i&2){GB();let s;ci(s=di())&&(r._formFieldControl=s.first),ci(s=di())&&(r._prefixChildren=s),ci(s=di())&&(r._suffixChildren=s),ci(s=di())&&(r._errorChildren=s),ci(s=di())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(Qi(yge,5),Qi(wge,5),Qi(Cge,5),Qi(_ge,5),Qi(xge,5),Qi(rj,5),Qi(aj,5),Qi(sj,5)),i&2){let o;ci(o=di())&&(r._textField=o.first),ci(o=di())&&(r._iconPrefixContainer=o.first),ci(o=di())&&(r._textPrefixContainer=o.first),ci(o=di())&&(r._iconSuffixContainer=o.first),ci(o=di())&&(r._textSuffixContainer=o.first),ci(o=di())&&(r._floatingLabel=o.first),ci(o=di())&&(r._notchedOutline=o.first),ci(o=di())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&Rn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Hr([{provide:hS,useExisting:e},{provide:hj,useExisting:e}])],ngContentSelectors:Ege,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=qr();Vr(Sge),un(0,Mge,1,1,"ng-template",null,0,vd),je(2,"div",6,1),jt("click",function(a){return _i(o),xi(r._control.onContainerClick(a))}),un(4,Tge,1,0,"div",7),je(5,"div",8),un(6,Age,2,2,"div",9)(7,Fge,3,0,"div",10)(8,Pge,3,0,"div",11),je(9,"div",12),un(10,Lge,1,1,null,13),vi(11),$e(),un(12,Nge,3,0,"div",14)(13,Bge,3,0,"div",15),$e(),un(14,Vge,1,0,"div",16),$e(),je(15,"div",17),wI(16),je(17,"div",18),un(18,Hge,1,0)(19,jge,4,1),$e()()}if(i&2){let o;ot(2),Rn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),ot(2),Br(!r._hasOutline()&&!r._control.disabled?4:-1),ot(2),Br(r._hasOutline()?6:-1),ot(),Br(r._hasIconPrefix?7:-1),ot(),Br(r._hasTextPrefix?8:-1),ot(2),Br(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),ot(2),Br(r._hasTextSuffix?12:-1),ot(),Br(r._hasIconSuffix?13:-1),ot(),Br(r._hasOutline()?-1:14),ot(),Rn("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();ot(2),Rn("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),ot(),Br((o=s)==="error"?18:o==="hint"?19:-1)}},dependencies:[rj,aj,MI,sj,cS],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,changeDetection:0})}return e})();var fj=(()=>{class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mS=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,n,i,r,o){this._defaultMatcher=t,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Cg=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,Of,bn]})}return e})();var Yge=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Xge=new Ne("MAT_INPUT_CONFIG"),pj=(()=>{class e{_elementRef=te(qt);_platform=te(yi);ngControl=te(Tf,{optional:!0,self:!0});_autofillMonitor=te(ej);_ngZone=te(It);_formField=te(hS,{optional:!0});_renderer=te(xr);_uid=te($o).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=te(Xge,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new yt;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=mc(n),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(n){this._id=n||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Sx.required)??!1}set required(n){this._required=mc(n)}_required;get type(){return this._type}set type(n){let i=this._type;this._type=n||"text",this._validateType(),!this._isTextarea&&Wk().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(n){n!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(n):this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=mc(n)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(n=>Wk().has(n));constructor(){let n=te(Hb,{optional:!0}),i=te(Tk,{optional:!0}),r=te(fj),o=te(nj,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Lm(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new mS(r,this.ngControl,i,n,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Pu(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){if(n!==this.focused){if(!this._isNativeSelect&&n&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=n,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Yge.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(n){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||n;o=n.concat(r.split(" ").filter(a=>a&&!s.includes(a)))}else o=n;this._formFieldDescribedBy=n,o.length?i.setAttribute("aria-describedby",o.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_iOSKeyupListener=n=>{let i=n.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&jt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Cf("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Si("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Rn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re]},exportAs:["matInput"],features:[Hr([{provide:uS,useExisting:e}]),Io]})}return e})(),gS=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,Cg,Cg,tj,bn]})}return e})();var Qge=["tooltip"],rA=20;var oA=new Ne("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=te(Ao);return()=>e.scrollStrategies.reposition({scrollThrottle:rA})}});function vj(e){return()=>e.scrollStrategies.reposition({scrollThrottle:rA})}var bj={provide:oA,deps:[Ao],useFactory:vj};function yj(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var wj=new Ne("mat-tooltip-default-options",{providedIn:"root",factory:yj});var mj="tooltip-panel",gj=ju({passive:!0}),Jge=8,e0e=8,t0e=24,n0e=200,Hf=(()=>{class e{_elementRef=te(qt);_ngZone=te(It);_platform=te(yi);_ariaDescriber=te($x);_focusMonitor=te(pc);_dir=te(Ga);_injector=te($n);_viewContainerRef=te(Lr);_defaultOptions=te(wj,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Cj;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=mc(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){let i=mc(n);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=ag(n)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=ag(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(n){let i=this._message;this._message=n!=null?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new yt;_isDestroyed=!1;constructor(){let n=this._defaultOptions;n&&(this._showDelay=n.showDelay,this._hideDelay=n.hideDelay,n.position&&(this.position=n.position),n.positionAtOrigin&&(this.positionAtOrigin=n.positionAtOrigin),n.touchGestures&&(this.touchGestures=n.touchGestures),n.tooltipClass&&(this.tooltipClass=n.tooltipClass)),this._viewportMargin=Jge}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Gi(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let n=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{n.removeEventListener(i,r,gj)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new xd(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Gi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(n)}hide(n=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof qt)return this._overlayRef;this._detach()}let i=this._injector.get(gg).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Ao),o=r.position().flexibleConnectedTo(this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Gi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${mj}`,scrollStrategy:this._injector.get(oA)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Gi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Gi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Gi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!bl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Gi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){let i=n.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(re(re({},r.main),o.main)),this._addOffset(re(re({},r.fallback),o.fallback))])}_addOffset(n){let i=e0e,r=!this._dir||this._dir.value=="ltr";return n.originY==="top"?n.offsetY=-i:n.originY==="bottom"?n.offsetY=i:n.originX==="start"?n.offsetX=r?-i:i:n.originX==="end"&&(n.offsetX=r?i:-i),n}_getOrigin(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Bs(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){let{overlayY:i,originX:r,originY:o}=n,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${mj}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let i;n.x!==void 0&&n.y!==void 0&&(i=n),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{let i=n.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,gj)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){let i=this._injector.get(en).elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let n=this.touchGestures;if(n!=="off"){let i=this._elementRef.nativeElement,r=i.style;(n==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(n==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(n){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,n,"tooltip"),this._isDestroyed||Bs({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&Rn("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return e})(),Cj=(()=>{class e{_changeDetectorRef=te(Bi);_elementRef=te(qt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new yt;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let n=te(_r,{optional:!0});this._animationsDisabled=n==="NoopAnimations"}show(n){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>t0e&&n.width>=n0e}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(n?o:r),i.classList.add(n?r:o),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Qi(Qge,7),i&2){let o;ci(o=di())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&jt("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=qr();je(0,"div",1,0),jt("animationend",function(a){return _i(o),xi(r._handleAnimationEnd(a))}),je(2,"div",2),vn(3),$e()()}i&2&&(Rn("mdc-tooltip--multiline",r._isMultiline),gt("ngClass",r.tooltipClass),ot(3),po(r.message))},dependencies:[zm],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return e})(),Rd=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({providers:[bj],imports:[dg,vg,bn,bn,Uu]})}return e})();function Ai(e){e||(Zv(Ai),e=te(Zi));let t=new dn(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe(Gi(t))}var $u=class e{userStore$=new ki(null);user$=this.userStore$.asObservable();isLogged(){return!!this.userStore$.getValue()?.id}setUserName(t){this.userStore$.next(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function i0e(e,t){e&1&&I_(0)}function r0e(e,t){if(e&1){let n=qr();je(0,"button",14),jt("click",function(r){_i(n);let o=Zn();return xi(o.logout(r))}),vn(1," Logout "),$e()}}function o0e(e,t){if(e&1&&(je(0,"button",15),vn(1,"login"),$e()),e&2){Zn();let n=fo(15);gt("matMenuTriggerFor",n)}}var _g=class e{constructor(t){this.authService$=t}trigger=null;destroyRef=te(Zi);userName="";isLoggedIn=!1;ngOnInit(){let t=this.authService$.user$.pipe(Ai(this.destroyRef)).subscribe(n=>{n?(this.isLoggedIn=!0,this.userName=n.name):this.isLoggedIn=!1});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}usernameChangeWithEvent(){this.userName&&(this.authService$.setUserName({name:this.userName,id:zb()}),this.trigger?.closeMenu())}logout(t){this.authService$.setUserName(null),t.stopPropagation(),setTimeout(()=>this.trigger?.closeMenu(),60)}static \u0275fac=function(n){return new(n||e)(et($u))};static \u0275cmp=st({type:e,selectors:[["app-header"]],viewQuery:function(n,i){if(n&1&&Qi(iS,5),n&2){let r;ci(r=di())&&(i.trigger=r.first)}},decls:22,vars:6,consts:[["menu","matMenu"],["loggedIn",""],["loggedOut",""],["login","matMenu"],[1,"brand"],[1,"menu"],["matTooltipPosition","left","matTooltipClass","tooltip","mat-icon-button","","aria-label","Account icon-button with a menu",3,"matTooltip","matMenuTriggerFor"],["src","assets/icons8-login-50.png","alt","avatar"],[4,"ngIf","ngIfThen","ngIfElse"],["mat-menu-item","",1,"login-form",3,"click"],[1,"full-width"],["type","text","name","userName","matInput","","placeholder","Please enter username",3,"ngModelChange","ngModel"],["matTooltip","Submit username","matTooltipPosition","above","matSuffix","","mat-icon-button","","aria-label","Submit",3,"click"],["matIconSuffix",""],["mat-menu-item","",1,"logout-button",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"]],template:function(n,i){if(n&1){let r=qr();je(0,"header")(1,"div",4)(2,"h5"),vn(3,"The Hangout"),$e()(),je(4,"div",5)(5,"button",6),kt(6,"img",7),$e(),je(7,"mat-menu",null,0),un(9,i0e,1,0,"ng-container",8)(10,r0e,2,0,"ng-template",null,1,vd)(12,o0e,2,1,"ng-template",null,2,vd),$e(),je(14,"mat-menu",null,3)(16,"form",9),jt("click",function(s){return _i(r),xi(s.stopPropagation())}),je(17,"mat-form-field",10)(18,"input",11),yI("ngModelChange",function(s){return _i(r),WB(i.userName,s)||(i.userName=s),xi(s)}),$e(),je(19,"button",12),jt("click",function(){return _i(r),xi(i.usernameChangeWithEvent())}),je(20,"mat-icon",13),vn(21,"recommend"),$e()()()()()()()}if(n&2){let r=fo(8),o=fo(11),s=fo(13);ot(5),gt("matTooltip",i.isLoggedIn?"Logout menu":"Login menu")("matMenuTriggerFor",r),ot(4),gt("ngIf",i.isLoggedIn)("ngIfThen",o)("ngIfElse",s),ot(9),bI("ngModel",i.userName)}},dependencies:[ez,JH,Ox,WH,$H,Mk,Hb,bi,fa,$z,yg,Jb,iS,va,yl,gS,pj,pS,dS,Cg,Rd,Hf],styles:[".mat-mdc-menu-content{padding:0 10px!important}  .mat-mdc-menu-item{padding:0!important}  .mat-mdc-text-field-wrapper, button[mat-icon-button][_ngcontent-%COMP%]{background-color:transparent!important}  .mat-mdc-menu-trigger{background-color:transparent!important;border-style:none!important}  .mdc-line-ripple{display:none!important}  .mat-mdc-form-field-icon-suffix>button{border-style:none!important;margin-left:10px I!important}  .mdc-tooltip__surface{color:#fff!important;background:gray!important;background-color:gray!important}  .mat-mdc-menu-panel{min-width:fit-content!important}header[_ngcontent-%COMP%]{display:flex;background:#020024;background:linear-gradient(90deg,#020024,#090979 35%,#00d4ff);margin:0;padding:5px 40px;color:#f5f5f5;box-shadow:0 2px 4px #0000001a}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{height:60px}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px;margin:0;letter-spacing:1px}header[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{padding:5px}"]})};kd();js();var Ku={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};Sr();th();var OA="projection",mG="coordinateFormat",LA=class extends Rr{constructor(t){t=t||{};let n=document.createElement("div");n.className=t.className!==void 0?t.className:"ol-mouse-position",super({element:n,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(OA,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=t.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=t.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(mG)}getProjection(){return this.get(OA)}handleMouseMove(t){let n=this.getMap();this.updateHTML_(n.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){let n=t.getViewport();this.listenerKeys.push(yn(n,Ku.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(yn(n,Ku.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(mG,t)}setProjection(t){this.set(OA,Wi(t))}updateHTML_(t){let n=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){let o=this.getProjection();o?this.transform_=Ka(this.mapProjection_,o):this.transform_=DA}let r=this.getMap().getCoordinateFromPixelInternal(t);if(r){let o=bc();if(o&&(this.transform_=Ka(this.mapProjection_,o)),this.transform_(r,r),this.wrapX_){let a=o||this.getProjection()||this.mapProjection_;Ig(r,a)}let s=this.getCoordinateFormat();s?n=s(r):n=r.toString()}}(!this.renderedHTML_||n!==this.renderedHTML_)&&(this.element.innerHTML=n,this.renderedHTML_=n)}render(t){let n=t.frameState;n?this.mapProjection_!=n.viewState.projection&&(this.mapProjection_=n.viewState.projection,this.transform_=null):this.mapProjection_=null}},gG=LA;kd();var HS=class e{numberCoordinates(t=[0,0],n=0){return kj(t,n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var zS=class e{constructor(t,n){this.element=t;this.coordinateFormatter=n}map=null;control=null;ngOnInit(){this.control=new gG({className:"mouseposition-control",coordinateFormat:t=>this.coordinateFormatter.numberCoordinates(t,4),target:this.element.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(n){return new(n||e)(et(qt),et(HS))};static \u0275cmp=st({type:e,selectors:[["app-mouse-position"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:[".ol-scale-line{position:relative}  .ol-scale-line,   .ol-scale-line-inner{background-color:transparent;border-color:var(--text-color);color:var(--text-color);font-size:inherit;bottom:auto}"],changeDetection:0})};nh();Sr();th();var VA="units",H0e=[1,2,5],py=25.4/.28,HA=class extends Rr{constructor(t){t=t||{};let n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:t.render,target:t.target}),this.on,this.once,this.un;let i=t.className!==void 0?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+wc,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=t.minWidth!==void 0?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(VA,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(VA)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(VA,t)}setDpi(t){this.dpi_=t}updateElement_(){let t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=t.center,i=t.projection,r=this.getUnits(),o=r=="degrees"?"degrees":"m",s=$f(i,t.resolution,n,o),a=this.minWidth_*(this.dpi_||py)/py,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||py)/py:void 0,d=a*s,c="";if(r=="degrees"){let E=$a.degrees;d*=E,d<E/60?(c="\u2033",s*=3600):d<E?(c="\u2032",s*=60):c="\xB0"}else if(r=="imperial")d<.9144?(c="in",s/=.0254):d<1609.344?(c="ft",s/=.3048):(c="mi",s/=1609.344);else if(r=="nautical")s/=1852,c="NM";else if(r=="metric")d<1e-6?(c="nm",s*=1e9):d<.001?(c="\u03BCm",s*=1e6):d<1?(c="mm",s*=1e3):d<1e3?c="m":(c="km",s/=1e3);else if(r=="us")d<.9144?(c="in",s*=39.37):d<1609.344?(c="ft",s/=.30480061):(c="mi",s/=1609.3472);else throw new Error("Invalid units");let u=3*Math.floor(Math.log(a*s)/Math.log(10)),h,p,f,m=0,g,v;for(;;){f=Math.floor(u/3);let E=Math.pow(10,f);if(h=H0e[(u%3+3)%3]*E,p=Math.round(h/s),isNaN(p)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&p>=l){h=m,p=g,f=v;break}else if(p>=a)break;m=h,g=p,v=f,++u}let w=this.scaleBar_?this.createScaleBar(p,h,c):h.toFixed(f<0?-f:0)+" "+c;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,n,i){let r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,a=t/s,l=[this.createMarker("absolute")];for(let c=0;c<s;++c){let u=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${u}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(c%2===0||s===2?this.createStepText(c,t,!1,n,i):"")+"</div>")}return l.push(this.createStepText(s,t,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+o+"</div>":"")+l.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${t==="absolute"?3:-10}px;"></div>`}createStepText(t,n,i,r,o){let a=(t===0?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(t===0?"":" "+o),l=t===0?-3:n/this.scaleBarSteps_*-1,d=t===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${t===0?"left":"center"};min-width: ${d}px;left: ${i?n+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){let t=$f(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||py,i=1e3/25.4;return t*i*n}render(t){let n=t.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}},yG=HA;var jS=class e{constructor(t){this.elementRef=t}map=null;control=null;ngOnInit(){this.control=new yG({target:this.elementRef.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(n){return new(n||e)(et(qt))};static \u0275cmp=st({type:e,selectors:[["app-scale-line"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},encapsulation:2,changeDetection:0})};zg();my();yc();var jA=class extends go{constructor(t,n,i){super(t),this.map=n,this.frameState=i!==void 0?i:null}},ih=jA;var GA=class extends ih{constructor(t,n,i,r,o,s){super(t,n,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Cc=GA;gr();var Ji={SINGLECLICK:"singleclick",CLICK:Vt.CLICK,DBLCLICK:Vt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};gr();hy();js();Kf();var $A=class extends eh{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=yn(i,Ku.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=yn(i,Ku.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Vt.TOUCHMOVE,this.boundHandleTouchMove_,US?{passive:!1}:!1)}emulateClick_(t){let n=new Cc(Ji.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Cc(Ji.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new Cc(Ji.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){let n=t,i=n.pointerId;if(n.type==Ji.POINTERUP||n.type==Ji.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Ji.POINTERDOWN||n.type==Ji.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);let n=new Cc(Ji.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Qn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);let n=new Cc(Ji.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(yn(i,Ji.POINTERMOVE,this.handlePointerMove_,this),yn(i,Ji.POINTERUP,this.handlePointerUp_,this),yn(this.element_,Ji.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(yn(this.element_.getRootNode(),Ji.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;let n=new Cc(Ji.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;let n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Cc(Ji.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){let n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Qn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Vt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Qn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Qn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},xG=$A;LS();var Fo={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};Za();Og();var Kt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};gr();Us();Sl();var gy=1/0,qA=class{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,vc(this.queuedElements_)}dequeue(){let t=this.elements_,n=this.priorities_,i=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(t){In(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let n=this.priorityFunction_(t);return n!=gy?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){let n=this.elements_,i=this.priorities_,r=n.length,o=n[t],s=i[t],a=t;for(;t<r>>1;){let l=this.getLeftChildIndex_(t),d=this.getRightChildIndex_(t),c=d<r&&i[d]<i[l]?d:l;n[t]=n[c],i[t]=i[c],t=c}n[t]=o,i[t]=s,this.siftDown_(a,t)}siftDown_(t,n){let i=this.elements_,r=this.priorities_,o=i[n],s=r[n];for(;n>t;){let a=this.getParentIndex_(n);if(r[a]>s)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=o,r[n]=s}reprioritize(){let t=this.priorityFunction_,n=this.elements_,i=this.priorities_,r=0,o=n.length,s,a,l;for(a=0;a<o;++a)s=n[a],l=t(s),l==gy?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,n[r++]=s);n.length=r,i.length=r,this.heapify_()}},SG=qA;var KA=class extends SG{constructor(t,n){super(i=>t.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){let n=super.enqueue(t);return n&&t[0].addEventListener(Vt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){let n=t.target,i=n.getState();if(i===Kt.LOADED||i===Kt.ERROR||i===Kt.EMPTY){i!==Kt.ERROR&&n.removeEventListener(Vt.CHANGE,this.boundHandleTileChange_);let r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let i=0;for(;this.tilesLoading_<t&&i<n&&this.getCount()>0;){let r=this.dequeue()[0],o=r.getKey();r.getState()===Kt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}},EG=KA;function DG(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return gy;if(!e.wantedTiles[n][t.getKey()])return gy;let o=e.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}Cy();WS();Gr();Us();mA();zg();Gr();nh();yo();gr();gs();th();var D4=class extends Rr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;let n=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"\u203A",s=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=t.label!==void 0?t.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Vt.CLICK,this.handleClick_.bind(this),!1);let d=n+" "+wc+" "+Vg+(this.collapsed_&&this.collapsible_?" "+NA:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=d,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){let n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){let r=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}updateElement_(t){return Et(this,null,function*(){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=yield Promise.all(this.collectSourceAttributions_(t).map(r=>fG(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Ko(n,this.renderedAttributions_)){i2(this.ulElement_);for(let r=0,o=n.length;r<o;++r){let s=document.createElement("li");s.innerHTML=n[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}})}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(NA),this.collapsed_?E4(this.collapseLabel_,this.label_):E4(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}},Xf=D4;nh();rh();gr();th();var R4=class extends Rr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});let n=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"\u21E7",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let o=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(Vt.CLICK,this.handleClick_.bind(this),!1);let a=n+" "+wc+" "+Vg,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(fy)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let n=this.getMap().getView();if(!n)return;let i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Ja}):n.setRotation(0))}render(t){let n=t.frameState;if(!n)return;let i=n.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let o=this.element.classList.contains(fy);!o&&i===0?this.element.classList.add(fy):o&&i!==0&&this.element.classList.remove(fy)}this.label_.style.transform=r}this.rotation_=i}},bU=R4;nh();rh();gr();th();var M4=class extends Rr{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});let n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",s=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2013",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",d=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof s=="string"?document.createTextNode(s):s),c.addEventListener(Vt.CLICK,this.handleClick_.bind(this,i),!1);let u=document.createElement("button");u.className=o,u.setAttribute("type","button"),u.title=d,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Vt.CLICK,this.handleClick_.bind(this,-i),!1);let h=n+" "+wc+" "+Vg,p=this.element;p.className=h,p.appendChild(c),p.appendChild(u),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let o=i.getConstrainedZoom(r+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Ja})):i.setZoom(o)}}},yU=M4;function Zf(e){e=e||{};let t=new vs;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new yU(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new bU(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new Xf(e.attributionOptions)),t}gr();js();ni();gs();Kf();zg();var T4=class{constructor(t,n,i){this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;let t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>t;)i-=3;let r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;let o=this.points_[n]-this.points_[i],s=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},wU=T4;Za();rh();var I4={ACTIVE:"active"};var k4=class extends Dr{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(I4.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(I4.ACTIVE,t)}setMap(t){this.map_=t}};function CU(e,t,n){let i=e.getCenterInternal();if(i){let r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:kG,center:e.getConstrainedCenter(r)})}}function $g(e,t,n,i){let r=e.getZoom();if(r===void 0)return;let o=e.getConstrainedZoom(r+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:i!==void 0?i:250,easing:Ja})}var _c=k4;var A4=class extends _c{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==Ji.DBLCLICK){let i=t.originalEvent,r=t.map,o=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=r.getView();$g(a,s,o,this.duration_),i.preventDefault(),n=!0}return!n}},_U=A4;kd();rh();gs();Kf();function _y(e){let t=arguments;return function(n){let i=!0;for(let r=0,o=t.length;r<o&&(i=i&&t[r](n),!!i);++r);return i}}var xU=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Z0e=function(e){let t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)},r2=function(e){let t=e.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?Z0e(e):!0},SU=Od;var o2=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.button==0&&!(CG&&UA&&t.ctrlKey)};var s2=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var EU=function(e){let t=e.originalEvent;return UA?t.metaKey:t.ctrlKey},DU=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},a2=function(e){let t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},l2=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.pointerType=="mouse"};var RU=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&t.button===0};gs();var F4=class extends _c{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Ji.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Ji.POINTERUP){let i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Ji.POINTERDOWN){let i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==Ji.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function qg(e){let t=e.length,n=0,i=0;for(let r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var xc=F4;var P4=class extends xc{constructor(t){super({stopDown:Ld}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let n=t.condition?t.condition:_y(s2,RU);this.condition_=t.onFocusOnly?_y(r2,n):n,this.noKinetic_=!1}handleDragEvent(t){let n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());let i=this.targetPointers,r=n.getEventPixel(qg(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();Ij(o,a.getResolution()),Tg(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){let n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Ja})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){let i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},MU=P4;gs();t2();var O4=class extends xc{constructor(t){t=t||{},super({stopDown:Ld}),this.condition_=t.condition?t.condition:xU,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!l2(t))return;let n=t.map,i=n.getView();if(i.getConstraints().rotation===Ug)return;let r=n.getSize(),o=t.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(t){return l2(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return l2(t)&&o2(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},TU=O4;rh();yc();uy();g4();var L4=class extends Ju{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let t=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+i,r.top=Math.min(t[1],n[1])+i,r.width=Math.abs(n[0]-t[0])+i,r.height=Math.abs(n[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new lU([r])}getGeometry(){return this.geometry_}},IU=L4;var Kg={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Qf=class extends go{constructor(t,n,i){super(t),this.coordinate=n,this.mapBrowserEvent=i}},N4=class extends xc{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new IU(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??o2,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,i){let r=i[0]-n[0],o=i[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Qf(Kg.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;let n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new Qf(n?Kg.BOXEND:Kg.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Qf(Kg.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Qf(Kg.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Qf(Kg.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}},kU=N4;var B4=class extends kU{constructor(t){t=t||{};let n=t.condition?t.condition:DU;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Ja})}},AU=B4;kd();gr();var ch={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var V4=class extends _c{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return s2(n)&&a2(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==Vt.KEYDOWN){let i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==ch.DOWN||r==ch.LEFT||r==ch.RIGHT||r==ch.UP)){let s=t.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,d=0;r==ch.DOWN?d=-a:r==ch.LEFT?l=-a:r==ch.RIGHT?l=a:d=a;let c=[l,d];Tg(c,s.getRotation()),CU(s,c,this.duration_),i.preventDefault(),n=!0}}return!n}},FU=V4;gr();var H4=class extends _c{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!EU(n)&&a2(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==Vt.KEYDOWN||t.type==Vt.KEYPRESS){let i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==="+"||r==="-")){let o=t.map,s=r==="+"?this.delta_:-this.delta_,a=o.getView();$g(a,s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}},PU=H4;gr();ar();var z4=class extends _c{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;let n=t.condition?t.condition:SU;this.condition_=t.onFocusOnly?_y(r2,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==Vt.WHEEL)return!0;let i=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==Vt.WHEEL&&(o=r.deltaY,r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(t){let n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-ui(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),$g(n,i,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},OU=z4;gs();t2();var j4=class extends xc{constructor(t){t=t||{};let n=t;n.stopDown||(n.stopDown=Ld),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0,i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;let s=t.map,a=s.getView();a.getConstraints().rotation!==Ug&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(qg(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){let n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},LU=j4;gs();var G4=class extends xc{constructor(t){t=t||{};let n=t;n.stopDown||(n.stopDown=Ld),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1,i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;let l=t.map,d=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(qg(this.targetPointers))),l.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){let i=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},NU=G4;function BU(e){e=e||{};let t=new vs,n=new wU(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new TU),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new _U({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new MU({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new LU),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new NU({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new FU),t.push(new PU({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new OU({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new AU({duration:e.zoomDuration})),t}zg();my();Og();Us();yc();gr();js();ni();Sl();Er();$4();var Rl=class extends go{constructor(t,n){super(t),this.layer=n}},q4={LAYERS:"layers"},K4=class e extends c2{constructor(t){t=t||{};let n=Object.assign({},t);delete n.layers;let i=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(q4.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new vs(i.slice(),{unique:!0}):In(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new vs(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Qn),this.layersListenerKeys_.length=0;let t=this.getLayers();this.layersListenerKeys_.push(yn(t,vo.ADD,this.handleLayersAdd_,this),yn(t,vo.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(Qn);vc(this.listenerKeys_);let n=t.getArray();for(let i=0,r=n.length;i<r;i++){let o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new Rl("addlayer",o))}this.changed()}registerLayerListeners_(t){let n=[yn(t,El.PROPERTYCHANGE,this.handleLayerChange_,this),yn(t,Vt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push(yn(t,"addlayer",this.handleLayerGroupAdd_,this),yn(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[xn(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Rl("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Rl("removelayer",t.layer))}handleLayersAdd_(t){let n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Rl("addlayer",n)),this.changed()}handleLayersRemove_(t){let n=t.element,i=xn(n);this.listenerKeys_[i].forEach(Qn),delete this.listenerKeys_[i],this.dispatchEvent(new Rl("removelayer",n)),this.changed()}getLayers(){return this.get(q4.LAYERS)}setLayers(t){let n=this.getLayers();if(n){let i=n.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new Rl("removelayer",i[r]))}this.set(q4.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){let n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});let r=this.getLayerState(),o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let s=i,a=n.length;s<a;s++){let l=n[s];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=gc(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=o)}return n}getSourceState(){return"ready"}},xy=K4;Xg();Sr();Yg();Og();nh();yo();js();L6();Xg();B6();Yg();Ud();uy();kd();ni();gs();Xg();Ly();Dl();Er();var V6=class extends Ju{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Gn()}calculateMatrices2D(t){let n=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Po(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),$S(r,i)}forEachFeatureAtCoordinate(t,n,i,r,o,s,a,l){let d,c=n.viewState;function u(T,F,k,L){return o.call(s,F,T?k:null,L)}let h=c.projection,p=Ig(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){let T=h.getExtent(),F=Tn(T);f.push([-F,0],[F,0])}let m=n.layerStatesArray,g=m.length,v=[],w=[];for(let T=0;T<f.length;T++)for(let F=g-1;F>=0;--F){let k=m[F],L=k.layer;if(L.hasRenderer()&&Sy(k,c)&&a.call(l,L)){let V=L.getRenderer(),j=L.getSource();if(V&&j){let z=j.getWrapX()?p:t,R=u.bind(null,k.managed);w[0]=z[0]+f[T][0],w[1]=z[1]+f[T][1],d=V.forEachFeatureAtCoordinate(w,n,i,R,v)}if(d)return d}}if(v.length===0)return;let E=1/v.length;return v.forEach((T,F)=>T.distanceSq+=F*E),v.sort((T,F)=>T.distanceSq-F.distanceSq),v.some(T=>d=T.callback(T.feature,T.layer,T.geometry)),d}hasFeatureAtCoordinate(t,n,i,r,o,s){return this.forEachFeatureAtCoordinate(t,n,i,r,Od,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(t){Gn()}scheduleExpireIconCache(t){Zo.canExpireCache()&&t.postRenderFunctions.push(Jve)}};function Jve(e,t){Zo.expire()}var vW=V6;var H6=class extends vW{constructor(t){super(t),this.fontChangeListenerKey_=yn(Dc,El.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");let n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=wc+" ol-layers";let i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){let i=this.getMap();if(i.hasListener(t)){let r=new T2(t,void 0,n);i.dispatchEvent(r)}}disposeInternal(){Qn(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Oo.PRECOMPOSE,t);let n=t.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof M2&&a.layer.getDeclutter())&&(t.declutter={});let r=t.viewState;this.children_.length=0;let o=[],s=null;for(let a=0,l=n.length;a<l;++a){let d=n[a];t.layerIndex=a;let c=d.layer,u=c.getSourceState();if(!Sy(d,r)||u!="ready"&&u!="undefined"){c.unrender();continue}let h=c.render(t,s);h&&(h!==s&&(this.children_.push(h),s=h),o.push(d))}this.declutter(t,o),vU(this.element_,this.children_),this.dispatchRenderEvent(Oo.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let i=n.length-1;i>=0;--i){let r=n[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}n.forEach(i=>i.layer.renderDeferred(t))}}},bW=H6;Sc();Dl();Er();function yW(e){if(e instanceof Jf){e.setMapInternal(null);return}e instanceof xy&&e.getLayers().forEach(yW)}function wW(e,t){if(e instanceof Jf){e.setMapInternal(t);return}if(e instanceof xy){let n=e.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)wW(n[i],t)}}var z6=class extends Dr{constructor(t){super(),t=t||{},this.on,this.once,this.un;let n=ebe(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:_G,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=bo(),this.pixelToCoordinateTransform_=bo(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Zf(),this.interactions=n.interactions||BU({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new EG(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Fo.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Fo.VIEW,this.handleViewChanged_),this.addChangeListener(Fo.SIZE,this.handleSizeChanged_),this.addChangeListener(Fo.TARGET,this.handleTargetChanged_),this.setProperties(n.values);let i=this;t.view&&!(t.view instanceof Yo)&&t.view.then(function(r){i.setView(new Yo(r))}),this.controls.addEventListener(vo.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(vo.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(vo.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(vo.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(vo.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(vo.REMOVE,r=>{let o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){wW(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){let n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};let o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Od,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,n,null,s,null)}getFeaturesAtPixel(t,n){let i=[];return this.forEachFeatureAtPixel(t,function(r){i.push(r)},n),i}getAllLayers(){let t=[];function n(i){i.forEach(function(r){r instanceof xy?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};let r=n.layerFilter!==void 0?n.layerFilter:Od,o=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-i.left)/o,(a.clientY-i.top)/s]}getTarget(){return this.get(Fo.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Pg(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){let n=this.frameState_;return n?vr(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){let n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Fo.LAYERGROUP)}setLayers(t){let n=this.getLayerGroup();if(t instanceof vs){n.setLayers(t);return}let i=n.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){let r=t[n];if(!r.visible)continue;let o=r.layer.getRenderer();if(o&&!o.ready)return!0;let s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){let n=Ya(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){let n=this.frameState_;return n?vr(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Fo.SIZE)}getView(){return this.get(Fo.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,i,r){return DG(this.frameState_,t,n,i,r)}handleBrowserEvent(t,n){n=n||t.type;let i=new Cc(n,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;let n=t.originalEvent,i=n.type;if(i===Ku.POINTERDOWN||i===Vt.WHEEL||i===Vt.KEYDOWN){let r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=n.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){let r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){let t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){let s=t.viewHints;if(s[no.ANIMATING]||s[no.INTERACTING]){let a=Date.now()-t.time>8;r=a?0:8,o=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Oo.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Oo.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ih(Xa.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ih(Xa.LOADSTART,this,t))));let i=this.postRenderFunctions_;if(t)for(let r=0,o=i.length;r<o;++r)i[r](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Qn(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Vt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Vt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new bW(this)),this.mapBrowserEventHandler_=new xG(this,this.moveTolerance_);for(let o in Ji)this.mapBrowserEventHandler_.addEventListener(Ji[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Vt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Vt.WHEEL,this.boundHandleBrowserEvent_,US?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{let o=n.getRootNode();i=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[yn(i,Vt.KEYDOWN,this.handleBrowserEvent,this),yn(i,Vt.KEYPRESS,this.handleBrowserEvent,this)];let r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Qn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Qn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=yn(t,El.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=yn(t,Vt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Qn),this.layerGroupPropertyListenerKeys_=null);let t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Rl("addlayer",t)),this.layerGroupPropertyListenerKeys_=[yn(t,El.PROPERTYCHANGE,this.render,this),yn(t,Vt.CHANGE,this.render,this),yn(t,"addlayer",this.handleLayerAdd_,this),yn(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){let r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){yW(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){let n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(n!==void 0&&s6(n)&&i&&i.isDef()){let s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:iy(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:xn(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=iy(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!qu(this.previousExtent_)&&!Td(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ih(Xa.MOVESTART,this,r)),this.previousExtent_=zf(this.previousExtent_)),this.previousExtent_&&!o.viewHints[no.ANIMATING]&&!o.viewHints[no.INTERACTING]&&!Td(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ih(Xa.MOVEEND,this,o)),bS(o.extent,this.previousExtent_))),this.dispatchEvent(new ih(Xa.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Xa.LOADSTART)||this.hasListener(Xa.LOADEND)||this.hasListener(Oo.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){let n=this.getLayerGroup();n&&this.handleLayerRemove_(new Rl("removelayer",n)),this.set(Fo.LAYERGROUP,t)}setSize(t){this.set(Fo.SIZE,t)}setTarget(t){this.set(Fo.TARGET,t)}setView(t){if(!t||t instanceof Yo){this.set(Fo.VIEW,t);return}this.set(Fo.VIEW,new Yo);let n=this;t.then(function(i){n.setView(new Yo(i))})}updateSize(){let t=this.getTargetElement(),n;if(t){let r=getComputedStyle(t),o=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(n=[Math.max(0,o),Math.max(0,s)],!s6(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&ES("No map visible because the map container's width or height are 0."))}let i=this.getSize();n&&(!i||!Ko(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){let n=this.getView();n&&n.setViewportSize(t)}};function ebe(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);let n={},i=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new xy({layers:e.layers});n[Fo.LAYERGROUP]=i,n[Fo.TARGET]=e.target,n[Fo.VIEW]=e.view instanceof Yo?e.view:new Yo;let r;e.controls!==void 0&&(Array.isArray(e.controls)?r=new vs(e.controls.slice()):(In(typeof e.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=e.controls));let o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new vs(e.interactions.slice()):(In(typeof e.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions));let s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new vs(e.overlays.slice()):(In(typeof e.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new vs,{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}var I2=z6;Cy();rh();gr();hy();Er();var j6=class extends eh{constructor(t,n,i){super(),i=i||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Vt.CHANGE)}release(){this.setState(Kt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==Kt.EMPTY){if(this.state!==Kt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Gn()}getAlpha(t,n){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;let r=n-i+1e3/60;return r>=this.transition_?1:XA(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},s0=j6;function k2(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}var tbe=new Error("disposed");var nbe=[256,256],G6=class extends s0{constructor(t){let n=Kt.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;let t=k2(this.data_);return t?[t.width,t.height]:nbe}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==Kt.IDLE&&this.state!==Kt.ERROR)return;this.state=Kt.LOADING,this.changed();let t=this;this.loader_().then(function(n){t.data_=n,t.state=Kt.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=Kt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(tbe),this.controller_=null),super.disposeInternal()}},U6=G6;p6();yo();var W6=class extends s0{constructor(t,n,i,r,o,s){super(t,n,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=Kt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Kt.ERROR,this.unlistenImage_(),this.image_=ibe(),this.changed()}handleImageLoad_(){let t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Kt.LOADED:this.state=Kt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Kt.ERROR&&(this.state=Kt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Kt.IDLE&&(this.state=Kt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=XU(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function ibe(){let e=Fi(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var A2=W6;var F2=class{constructor(t,n,i,r){this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}};function ip(e,t,n,i,r){return r!==void 0?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new F2(e,t,n,i)}var P2=F2;Gr();ni();Sr();yo();gr();js();ni();ar();yo();ni();ar();Sr();var $6,rp=[];function CW(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function q6(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function rbe(){if($6===void 0){let e=Fi(6,6,rp);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",CW(e,4,5,4,0),CW(e,4,5,0,5);let t=e.getImageData(0,0,3,3).data;$6=q6(t,0)||q6(t,4)||q6(t,8),Yf(e),rp.push(e.canvas)}return $6}function _W(e,t,n,i){let r=Fd(n,t,e),o=$f(t,i,n),s=t.getMetersPerUnit();s!==void 0&&(o*=s);let a=e.getMetersPerUnit();a!==void 0&&(o/=a);let l=e.getExtent();if(!l||wl(l,r)){let d=$f(e,o,r)/o;isFinite(d)&&d>0&&(o/=d)}return o}function xW(e,t,n,i){let r=Ua(n),o=_W(e,t,r,i);return(!isFinite(o)||o<=0)&&CS(n,function(s){return o=_W(e,t,s,i),isFinite(o)&&o>0}),o}function SW(e,t,n,i,r,o,s,a,l,d,c,u,h,p){let f=Fi(Math.round(n*e),Math.round(n*t),rp);if(u||(f.imageSmoothingEnabled=!1),l.length===0)return f.canvas;f.scale(n,n);function m(F){return Math.round(F*n)/n}f.globalCompositeOperation="lighter";let g=jr();l.forEach(function(F,k,L){_j(g,F.extent)});let v,w=n/i,E=(u?1:1+Math.pow(2,-24))/w;if(!h||l.length!==1||d!==0){if(v=Fi(Math.round(Tn(g)*w),Math.round(sr(g)*w),rp),u||(v.imageSmoothingEnabled=!1),r&&p){let F=(r[0]-g[0])*w,k=-(r[3]-g[3])*w,L=Tn(r)*w,V=sr(r)*w;v.rect(F,k,L,V),v.clip()}l.forEach(function(F,k,L){if(F.image.width>0&&F.image.height>0){if(F.clipExtent){v.save();let I=(F.clipExtent[0]-g[0])*w,N=-(F.clipExtent[3]-g[3])*w,b=Tn(F.clipExtent)*w,C=sr(F.clipExtent)*w;v.rect(u?I:Math.round(I),u?N:Math.round(N),u?b:Math.round(I+b)-Math.round(I),u?C:Math.round(N+C)-Math.round(N)),v.clip()}let V=(F.extent[0]-g[0])*w,j=-(F.extent[3]-g[3])*w,z=Tn(F.extent)*w,R=sr(F.extent)*w;v.drawImage(F.image,d,d,F.image.width-2*d,F.image.height-2*d,u?V:Math.round(V),u?j:Math.round(j),u?z:Math.round(V+z)-Math.round(V),u?R:Math.round(j+R)-Math.round(j)),F.clipExtent&&v.restore()}})}let T=Wa(s);return a.getTriangles().forEach(function(F,k,L){let V=F.source,j=F.target,z=V[0][0],R=V[0][1],I=V[1][0],N=V[1][1],b=V[2][0],C=V[2][1],x=m((j[0][0]-T[0])/o),_=m(-(j[0][1]-T[1])/o),D=m((j[1][0]-T[0])/o),M=m(-(j[1][1]-T[1])/o),O=m((j[2][0]-T[0])/o),U=m(-(j[2][1]-T[1])/o),G=z,Y=R;z=0,R=0,I-=G,N-=Y,b-=G,C-=Y;let B=[[I,N,0,0,D-x],[b,C,0,0,O-x],[0,0,I,N,M-_],[0,0,b,C,U-_]],K=Mj(B);if(!K)return;if(f.save(),f.beginPath(),rbe()||!u){f.moveTo(D,M);let P=4,W=x-D,Q=_-M;for(let se=0;se<P;se++)f.lineTo(D+m((se+1)*W/P),M+m(se*Q/(P-1))),se!=P-1&&f.lineTo(D+m((se+1)*W/P),M+m((se+1)*Q/(P-1)));f.lineTo(O,U)}else f.moveTo(D,M),f.lineTo(x,_),f.lineTo(O,U);f.clip(),f.transform(K[0],K[2],K[1],K[3],x,_),f.translate(g[0]-G,g[3]-Y);let A;if(v)A=v.canvas,f.scale(E,-E);else{let P=l[0],W=P.extent;A=P.image,f.scale(Tn(W)/A.width,-sr(W)/A.height)}f.drawImage(A,0,0),f.restore()}),v&&(Yf(v),rp.push(v.canvas)),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach(function(F,k,L){let V=F.target,j=(V[0][0]-T[0])/o,z=-(V[0][1]-T[1])/o,R=(V[1][0]-T[0])/o,I=-(V[1][1]-T[1])/o,N=(V[2][0]-T[0])/o,b=-(V[2][1]-T[1])/o;f.beginPath(),f.moveTo(R,I),f.lineTo(j,z),f.lineTo(N,b),f.closePath(),f.stroke()}),f.restore()),f.canvas}ni();ar();Sr();Dl();var obe=10,EW=.25,K6=class{constructor(t,n,i,r,o,s,a){this.sourceProj_=t,this.targetProj_=n;let l={},d=a?ly(E=>vr(a,Fd(E,this.targetProj_,this.sourceProj_))):Qu(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){let T=E[0]+"/"+E[1];return l[T]||(l[T]=d(E)),l[T]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Tn(r)>=Tn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Tn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Tn(this.targetProj_.getExtent()):null;let c=Wa(i),u=Rg(i),h=Dg(i),p=Eg(i),f=this.transformInv_(c),m=this.transformInv_(u),g=this.transformInv_(h),v=this.transformInv_(p),w=obe+(s?Math.max(0,Math.ceil(Math.log2(ny(i)/(s*s*256*256)))):0);if(this.addQuad_(c,u,h,p,f,m,g,v,w),this.wrapsXInSource_){let E=1/0;this.triangles_.forEach(function(T,F,k){E=Math.min(E,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-E>this.sourceWorldWidth_/2){let F=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];F[0][0]-E>this.sourceWorldWidth_/2&&(F[0][0]-=this.sourceWorldWidth_),F[1][0]-E>this.sourceWorldWidth_/2&&(F[1][0]-=this.sourceWorldWidth_),F[2][0]-E>this.sourceWorldWidth_/2&&(F[2][0]-=this.sourceWorldWidth_);let k=Math.min(F[0][0],F[1][0],F[2][0]);Math.max(F[0][0],F[1][0],F[2][0])-k<this.sourceWorldWidth_/2&&(T.source=F)}})}l={}}addTriangle_(t,n,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[t,n,i]})}addQuad_(t,n,i,r,o,s,a,l,d){let c=cA([o,s,a,l]),u=this.sourceWorldWidth_?Tn(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&u>.5&&u<1,f=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let g=cA([t,n,i,r]);f=Tn(g)/this.targetWorldWidth_>EW||f}!p&&this.sourceProj_.isGlobal()&&u&&(f=u>EW||f)}if(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!mr(c,this.maxSourceExtent_))return;let m=0;if(!f&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(d>0)f=!0;else if(m=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(d>0){if(!f){let g=[(t[0]+i[0])/2,(t[1]+i[1])/2],v=this.transformInv_(g),w;p?w=(_l(o[0],h)+_l(a[0],h))/2-_l(v[0],h):w=(o[0]+a[0])/2-v[0];let E=(o[1]+a[1])/2-v[1];f=w*w+E*E>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){let g=[(n[0]+i[0])/2,(n[1]+i[1])/2],v=this.transformInv_(g),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],E=this.transformInv_(w);this.addQuad_(t,n,g,w,o,s,v,E,d-1),this.addQuad_(w,g,i,r,E,v,a,l,d-1)}else{let g=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(g),w=[(i[0]+r[0])/2,(i[1]+r[1])/2],E=this.transformInv_(w);this.addQuad_(t,g,w,r,o,v,E,l,d-1),this.addQuad_(g,n,i,w,v,s,a,E,d-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(m&11)==0&&this.addTriangle_(t,i,r,o,a,l),(m&14)==0&&this.addTriangle_(t,i,n,o,a,s),m&&((m&13)==0&&this.addTriangle_(n,r,t,s,l,o),(m&7)==0&&this.addTriangle_(n,r,i,s,l,a))}calculateSourceExtent(){let t=jr();return this.triangles_.forEach(function(n,i,r){let o=n.source;jf(t,o[0]),jf(t,o[1]),jf(t,o[2])}),t}getTriangles(){return this.triangles_}},DW=K6;var Y6=class extends s0{constructor(t,n,i,r,o,s,a,l,d,c,u,h){super(o,Kt.IDLE,h),this.renderEdges_=u!==void 0?u:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;let p=r.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent(),m=this.sourceTileGrid_.getExtent(),g=f?gc(p,f):p;if(ny(g)===0){this.state=Kt.EMPTY;return}let v=t.getExtent();v&&(m?m=gc(m,v):m=v);let w=r.getResolution(this.wrappedTileCoord_[0]),E=xW(t,i,g,w);if(!isFinite(E)||E<=0){this.state=Kt.EMPTY;return}let T=c!==void 0?c:.5;if(this.triangulation_=new DW(t,i,g,m,E*T,w),this.triangulation_.getTriangles().length===0){this.state=Kt.EMPTY;return}this.sourceZ_=n.getZForResolution(E);let F=this.triangulation_.calculateSourceExtent();if(m&&(t.canWrapX()?(F[1]=ui(F[1],m[1],m[3]),F[3]=ui(F[3],m[1],m[3])):F=gc(F,m)),!ny(F))this.state=Kt.EMPTY;else{let k=0,L=0;t.canWrapX()&&(k=Tn(v),L=Math.floor((F[0]-v[0])/k)),_S(F.slice(),t,!0).forEach(j=>{let z=n.getTileRangeForExtentAndZ(j,this.sourceZ_);for(let R=z.minX;R<=z.maxX;R++)for(let I=z.minY;I<=z.maxY;I++){let N=d(this.sourceZ_,R,I,a);if(N){let b=L*k;this.sourceTiles_.push({tile:N,offset:b})}}++L}),this.sourceTiles_.length===0&&(this.state=Kt.EMPTY)}}getImage(){return this.canvas_}reproject_(){let t=[];if(this.sourceTiles_.forEach(n=>{let i=n.tile;if(i&&i.getState()==Kt.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=Kt.ERROR;else{let n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=SW(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Kt.LOADED}this.changed()}load(){if(this.state==Kt.IDLE){this.state=Kt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{let i=n.getState();if(i==Kt.IDLE||i==Kt.LOADING){t++;let r=yn(n,Vt.CHANGE,o=>{let s=n.getState();(s==Kt.LOADED||s==Kt.ERROR||s==Kt.EMPTY)&&(Qn(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==Kt.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Qn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Yf(this.canvas_.getContext("2d")),rp.push(this.canvas_),this.canvas_=null),super.release()}},O2=Y6;Sc();uy();Us();var X6=class{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let t=this.pop();t instanceof Ju&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){let i=this.entries_[t];return In(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){let n=this.entries_[t];return In(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){let t=new Array(this.count_),n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.key_;return t}getValues(){let t=new Array(this.count_),n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){let t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){In(!(t in this.entries_),"Tried to set a value for a key that is used already");let i={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}},RW=X6;function a0(e,t,n,i){return i!==void 0?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function MW(e,t,n){return e+"/"+t+"/"+n}function TW(e){return sbe(e[0],e[1],e[2])}function sbe(e,t,n){return(t<<e)+n}function IW(e,t){let n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;let o=t.getFullTileRange(n);return o?o.containsXY(i,r):!0}Dl();Er();nF();function iF(e,t,n,i){return`${e},${MW(t,n,i)}`}function rF(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;let i=e[n],r=i.has(t);return r||i.add(t),!r}function cbe(e,t,n){let i=e[n];return i?i.delete(t):!1}function FW(e,t){let n=e.layerStatesArray[e.layerIndex];n.extent&&(t=gc(t,ya(n.extent,e.viewState.projection)));let i=n.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(e.viewState.projection).getExtent();r&&(t=gc(t,r))}return t}var oF=class extends N2{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=jr(),this.tempTileRange_=new P2(0,0,0,0),this.tempTileCoord_=a0(0,0,0);let i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new RW(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,i,r){let o=this.tileCache_,a=this.getLayer().getSource(),l=iF(a.getKey(),t,n,i),d;if(o.containsKey(l))d=o.get(l);else{if(d=a.getTile(t,n,i,r.pixelRatio,r.viewState.projection),!d)return null;o.set(l,d)}return d}getTile(t,n,i,r){let o=this.getOrCreateTile(t,n,i,r);return o||null}getData(t){let n=this.frameState;if(!n)return null;let i=this.getLayer(),r=vr(n.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!wl(o,r))return null;let s=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(s.projection),d=a.getTilePixelRatio(n.pixelRatio);for(let c=l.getZForResolution(s.resolution);c>=l.getMinZoom();--c){let u=l.getTileCoordForCoordAndZ(r,c),h=this.getTile(c,u[1],u[2],n);if(!h||h.getState()!==Kt.LOADED)continue;let p=l.getOrigin(c),f=Mr(l.getTileSize(c)),m=l.getResolution(c),g;if(h instanceof A2||h instanceof O2)g=h.getImage();else if(h instanceof U6){if(g=k2(h.getData()),!g)continue}else continue;let v=Math.floor(d*((r[0]-p[0])/m-u[1]*f[0])),w=Math.floor(d*((p[1]-r[1])/m-u[2]*f[1])),E=Math.round(d*a.getGutterForProjection(s.projection));return this.getImageData(g,v+E,w+E)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;let n=this.getLayer().getSource();if(!n)return!1;let i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(t,n,i,r,o){let s=t.viewState,a=this.getLayer(),l=a.getRenderSource(),d=l.getTileGridForProjection(s.projection),c=xn(l);c in t.wantedTiles||(t.wantedTiles[c]={});let u=t.wantedTiles[c],h=a.getMapInternal(),p=Math.max(i-o,d.getMinZoom(),d.getZForResolution(Math.min(a.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):d.getResolution(0)),l.zDirection)),f=s.rotation,m=f?hA(s.center,s.resolution,f,t.size):void 0;for(let g=i;g>=p;--g){let v=d.getTileRangeForExtentAndZ(n,g,this.tempTileRange_),w=d.getResolution(g);for(let E=v.minX;E<=v.maxX;++E)for(let T=v.minY;T<=v.maxY;++T){if(f&&!d.tileCoordIntersectsViewport([g,E,T],m))continue;let F=this.getTile(g,E,T,t);if(!F||!rF(r,F,g))continue;let L=F.getKey();if(u[L]=!0,F.getState()===Kt.IDLE&&!t.tileQueue.isKeyQueued(L)){let V=a0(g,E,T,this.tempTileCoord_);t.tileQueue.enqueue([F,c,d.getTileCoordCenter(V),w])}}}}findStaleTile_(t,n){let i=this.tileCache_,r=t[0],o=t[1],s=t[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let d=iF(a[l],r,o,s);if(i.containsKey(d)){let c=i.peek(d);if(c.getState()===Kt.LOADED)return c.endTransition(xn(this)),rF(n,c,r),!0}}return!1}findAltTiles_(t,n,i,r){let o=t.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,d=this.getLayer().getRenderSource().getKey();for(let c=o.minX;c<=o.maxX;++c)for(let u=o.minY;u<=o.maxY;++u){let h=iF(d,i,c,u),p=!1;if(a.containsKey(h)){let f=a.peek(h);f.getState()===Kt.LOADED&&(rF(r,f,i),p=!0)}p||(s=!1)}return s}renderFrame(t,n){this.renderComplete=!0;let i=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,s=r.resolution,a=r.center,l=t.pixelRatio,d=this.getLayer(),c=d.getSource(),u=c.getTileGridForProjection(o),h=u.getZForResolution(s,c.zDirection),p=u.getResolution(h),f=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==f&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=f):this.renderedSourceKey_=f;let m=t.extent,g=c.getTilePixelRatio(l);this.prepareContainer(t,n);let v=this.context.canvas.width,w=this.context.canvas.height,E=i.extent&&ya(i.extent,o);E&&(m=gc(m,ya(i.extent,o)));let T=p*v/2/g,F=p*w/2/g,k=[a[0]-T,a[1]-F,a[0]+T,a[1]+F],L={};this.renderedTiles.length=0;let V=d.getPreload();if(t.nextExtent){let D=u.getZForResolution(r.nextResolution,c.zDirection),M=FW(t,t.nextExtent);this.enqueueTiles(t,M,D,L,V)}let j=FW(t,m);if(this.enqueueTiles(t,j,h,L,0),V>0&&setTimeout(()=>{this.enqueueTiles(t,j,h-1,L,V-1)},0),!(h in L))return this.container;let z=xn(this),R=t.time;for(let D of L[h]){let M=D.getState();if(M===Kt.EMPTY)continue;let O=D.tileCoord;if(M===Kt.LOADED&&D.getAlpha(z,R)===1){D.endTransition(z);continue}if(M!==Kt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(O,L)){cbe(L,D,h),t.animate=!0;continue}if(this.findAltTiles_(u,O,h+1,L))continue;let Y=u.getMinZoom();for(let B=h-1;B>=Y&&!this.findAltTiles_(u,O,B,L);--B);}let I=p/s*l/g,N=this.getRenderContext(t);Po(this.tempTransform,v/2,w/2,I,I,0,-v/2,-w/2),i.extent&&this.clipUnrotated(N,t,E),c.getInterpolate()||(N.imageSmoothingEnabled=!1),this.preRender(N,t);let b=Object.keys(L).map(Number);b.sort(Gs);let C,x=[],_=[];for(let D=b.length-1;D>=0;--D){let M=b[D],O=c.getTilePixelSize(M,l,o),G=u.getResolution(M)/p,Y=O[0]*G*I,B=O[1]*G*I,K=u.getTileCoordForCoordAndZ(Wa(k),M),A=u.getTileCoordExtent(K),P=vr(this.tempTransform,[g*(A[0]-k[0])/p,g*(k[3]-A[3])/p]),W=g*c.getGutterForProjection(o);for(let Q of L[M]){if(Q.getState()!==Kt.LOADED)continue;let se=Q.tileCoord,ne=K[1]-se[1],ie=Math.round(P[0]-(ne-1)*Y),ye=K[2]-se[2],ve=Math.round(P[1]-(ye-1)*B),ee=Math.round(P[0]-ne*Y),fe=Math.round(P[1]-ye*B),de=ie-ee,he=ve-fe,Ce=b.length===1,_e=!1;C=[ee,fe,ee+de,fe,ee+de,fe+he,ee,fe+he];for(let xe=0,ze=x.length;xe<ze;++xe)if(!Ce&&M<_[xe]){let Ve=x[xe];mr([ee,fe,ee+de,fe+he],[Ve[0],Ve[3],Ve[4],Ve[7]])&&(_e||(N.save(),_e=!0),N.beginPath(),N.moveTo(C[0],C[1]),N.lineTo(C[2],C[3]),N.lineTo(C[4],C[5]),N.lineTo(C[6],C[7]),N.moveTo(Ve[6],Ve[7]),N.lineTo(Ve[4],Ve[5]),N.lineTo(Ve[2],Ve[3]),N.lineTo(Ve[0],Ve[1]),N.clip())}x.push(C),_.push(M),this.drawTile(Q,t,ee,fe,de,he,W,Ce),_e&&N.restore(),this.renderedTiles.unshift(Q),this.updateUsedTiles(t.usedTiles,c,Q)}}if(this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Td(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=l,this.postRender(this.context,t),i.extent&&N.restore(),N.imageSmoothingEnabled=!0,this.renderComplete){let D=(M,O)=>{let U=xn(c),G=O.wantedTiles[U],Y=G?Object.keys(G).length:0;this.updateCacheSize(Y),this.tileCache_.expireCache()};t.postRenderFunctions.push(D)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,i,r,o,s,a,l){let d;if(t instanceof U6){if(d=k2(t.getData()),!d)throw new Error("Rendering array data is not yet supported")}else d=this.getTileImage(t);if(!d)return;let c=this.getRenderContext(n),u=xn(this),h=n.layerStatesArray[n.layerIndex],p=h.opacity*(l?t.getAlpha(u,n.time):1),f=p!==c.globalAlpha;f&&(c.save(),c.globalAlpha=p),c.drawImage(d,a,a,d.width-2*a,d.height-2*a,i,r,o,s),f&&c.restore(),p!==h.opacity?n.animate=!0:l&&t.endTransition(u)}getImage(){let t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,i){let r=xn(n);r in t||(t[r]={}),t[r][i.getKey()]=!0}},PW=oF;Xg();var Wy={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var sF=class extends Jf{constructor(t){t=t||{};let n=Object.assign({},t),i=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Wy.PRELOAD)}setPreload(t){this.set(Wy.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Wy.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Wy.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}},OW=sF;var aF=class extends OW{constructor(t){super(t)}createRenderer(){return new PW(this,{cacheSize:this.getCacheSize()})}},B2=aF;ni();Sr();Sc();Gr();Us();ni();u4();ar();Sc();var c0=[0,0,0],mh=5,lF=class{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,In(hG(this.resolutions_,(r,o)=>o-r,!0),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,In(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Wa(i)),In(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,In(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:256,In(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{let s=new P2(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,n,i){let r=this.getTileRangeForExtentAndZ(t,n);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,o,a])}forEachTileCoordParentTileRange(t,n,i,r){let o,s,a,l=null,d=t[0]-1;for(this.zoomFactor_===2?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);d>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=ip(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,d,i),n(d,o))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){let o=t[1]*2,s=t[2]*2;return ip(o,o+1,s,s+1,n)}let r=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,i){if(n>this.maxZoom||n<this.minZoom)return null;let r=t[0],o=t[1],s=t[2];if(n===r)return ip(o,s,o,s,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,n-r),d=Math.floor(o*l),c=Math.floor(s*l);if(n<r)return ip(d,d,c,c,i);let u=Math.floor(l*(o+1))-1,h=Math.floor(l*(s+1))-1;return ip(d,u,c,h,i)}let a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(t,n,i){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,c0);let r=c0[1],o=c0[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,c0);let s=c0[1],a=c0[2];return ip(r,s,o,a,i)}getTileCoordCenter(t){let n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Mr(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*i,n[1]-(t[2]+.5)*r[1]*i]}getTileCoordExtent(t,n){let i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Mr(this.getTileSize(t[0]),this.tmpSize_),s=i[0]+t[1]*o[0]*r,a=i[1]-(t[2]+1)*o[1]*r,l=s+o[0]*r,d=a+o[1]*r;return ba(s,a,l,d,n)}getTileCoordForCoordAndResolution(t,n,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,i)}getTileCoordForXYAndResolution_(t,n,i,r,o){let s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),d=Mr(this.getTileSize(s),this.tmpSize_),c=a*(t-l[0])/i/d[0],u=a*(l[1]-n)/i/d[1];return r?(c=oy(c,mh)-1,u=oy(u,mh)-1):(c=ry(c,mh),u=ry(u,mh)),a0(s,c,u,o)}getTileCoordForXYAndZ_(t,n,i,r,o){let s=this.getOrigin(i),a=this.getResolution(i),l=Mr(this.getTileSize(i),this.tmpSize_),d=(t-s[0])/a/l[0],c=(s[1]-n)/a/l[1];return r?(d=oy(d,mh)-1,c=oy(c,mh)-1):(d=ry(d,mh),c=ry(c,mh)),a0(i,d,c,o)}getTileCoordForCoordAndZ(t,n,i){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){let i=Lg(this.resolutions_,t,n||0);return ui(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return d4(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){let n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i}},cF=lF;function V2(e){let t=e.getDefaultTileGrid();return t||(t=ube(e),e.setDefaultTileGrid(t)),t}function LW(e,t,n){let i=t[0],r=e.getTileCoordCenter(t),o=H2(n);if(!wl(o,r)){let s=Tn(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,e.getTileCoordForCoordAndZ(r,i)}return t}function dbe(e,t,n,i){i=i!==void 0?i:"top-left";let r=BW(e,t,n);return new cF({extent:e,origin:xj(e,i),resolutions:r,tileSize:n})}function NW(e){let t=e||{},n=t.extent||Wi("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:BW(n,t.maxZoom,t.tileSize,t.maxResolution)};return new cF(i)}function BW(e,t,n,i){t=t!==void 0?t:42,n=Mr(n!==void 0?n:256);let r=sr(e),o=Tn(e);i=i>0?i:Math.max(o/n[0],r/n[1]);let s=t+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function ube(e,t,n,i){let r=H2(e);return dbe(r,t,n,i)}function H2(e){e=Wi(e);let t=e.getExtent();if(!t){let n=180*$a.degrees/e.getMetersPerUnit();t=ba(-n,-n,n,n)}return t}gr();Sr();Er();ar();var hbe=/\{z\}/g,fbe=/\{x\}/g,pbe=/\{y\}/g,mbe=/\{-y\}/g;function VW(e,t,n,i,r){return e.replace(hbe,t.toString()).replace(fbe,n.toString()).replace(pbe,i.toString()).replace(mbe,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function HW(e){let t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){let i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),o;for(o=i;o<=r;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){let i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)t.push(e.replace(n[0],r.toString()));return t}return t.push(e),t}function gbe(e,t){return function(n,i,r){if(!n)return;let o,s=n[0];if(t){let a=t.getFullTileRange(s);a&&(o=a.getHeight()-1)}return VW(e,s,n[1],n[2],o)}}function zW(e,t){let n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=gbe(e[r],t);return vbe(i)}function vbe(e){return e.length===1?e[0]:function(t,n,i){if(!t)return;let r=TW(t),o=_l(r,e.length);return e[o](t,n,i)}}Er();yc();Sc();Er();uF();var hF=class extends z2{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;let n=[256,256];this.tileGrid&&Mr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||xn(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){let n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,i,r,o){return Gn()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:V2(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,i){let r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=Mr(r.getTileSize(t),this.tmpSize);return o==1?s:WU(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){let i=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=LW(r,t,i)),IW(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}},j2=class extends go{constructor(t,n){super(t),this.tile=n}},GW=hF;var G2={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var fF=class e extends GW{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===e.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){let n=t.target,i=xn(n),r=n.getState(),o;r==Kt.LOADING?(this.tileLoadingKeys_[i]=!0,o=G2.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==Kt.ERROR?G2.TILELOADERROR:r==Kt.LOADED?G2.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new j2(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){let n=HW(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;let n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(zW(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,i){}},UW=fF;var pF=class extends UW{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:bbe,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:A2,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!dy(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){let n=this.getProjection();if(this.tileGrid&&(!n||dy(n,t)))return this.tileGrid;let i=xn(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=V2(t)),this.tileGridForProjection[i]}createTile_(t,n,i,r,o,s){let a=[t,n,i],l=this.getTileCoordForTileUrlFunction(a,o),d=l?this.tileUrlFunction(l,r,o):void 0,c=new this.tileClass(a,d!==void 0?Kt.IDLE:Kt.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=s,c.addEventListener(Vt.CHANGE,this.handleTileChange.bind(this)),c}getTile(t,n,i,r,o){let s=this.getProjection();if(!s||!o||dy(s,o))return this.getTileInternal(t,n,i,r,s||o);let a=[t,n,i],l=this.getKey(),d=this.getTileGridForProjection(s),c=this.getTileGridForProjection(o),u=this.getTileCoordForTileUrlFunction(a,o),h=new O2(s,d,o,c,a,u,this.getTilePixelRatio(r),this.getGutter(),(p,f,m,g)=>this.getTileInternal(p,f,m,g,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return h.key=l,h}getTileInternal(t,n,i,r,o){let s=this.getKey();return this.createTile_(t,n,i,r,o,s)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){let i=Wi(t);if(i){let r=xn(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}};function bbe(e,t){e.getImage().src=t}var WW=pF;var mF=class extends WW{constructor(t){t=t||{};let n=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:NW({extent:H2(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}},$W=mF;var ybe='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',gF=class extends $W{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[ybe];let i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}},$y=gF;U2();LS();Za();nh();yo();js();ni();var Jo={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},$F=class extends Dr{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+bG,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Jo.ELEMENT,this.handleElementChanged),this.addChangeListener(Jo.MAP,this.handleMapChanged),this.addChangeListener(Jo.OFFSET,this.handleOffsetChanged),this.addChangeListener(Jo.POSITION,this.handlePositionChanged),this.addChangeListener(Jo.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Jo.ELEMENT)}getId(){return this.id}getMap(){return this.get(Jo.MAP)||null}getOffset(){return this.get(Jo.OFFSET)}getPosition(){return this.get(Jo.POSITION)}getPositioning(){return this.get(Jo.POSITIONING)}handleElementChanged(){i2(this.element);let t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Qn(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let t=this.getMap();if(t){this.mapPostrenderListenerKey=yn(t,Xa.POSTRENDER,this.render,this),this.updatePixelPosition();let n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Jo.ELEMENT,t)}setMap(t){this.set(Jo.MAP,t)}setOffset(t){this.set(Jo.OFFSET,t)}setPosition(t){this.set(Jo.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){let n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Jo.POSITION))return;let i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),o=this.getRect(r,[mU(r),gU(r)]);t=t||{};let s=t.margin===void 0?20:t.margin;if(!Md(i,o)){let a=o[0]-i[0],l=i[2]-o[2],d=o[1]-i[1],c=i[3]-o[3],u=[0,0];if(a<0?u[0]=a-s:l<0&&(u[0]=Math.abs(l)+s),d<0?u[1]=d-s:c<0&&(u[1]=Math.abs(c)+s),u[0]!==0||u[1]!==0){let h=n.getView().getCenterInternal(),p=n.getPixelFromCoordinateInternal(h);if(!p)return;let f=[p[0]+u[0],p[1]+u[1]],m=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(f),duration:m.duration,easing:m.easing})}}}getRect(t,n){let i=t.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+n[0],o+n[1]]}setPositioning(t){this.set(Jo.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){let t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}let i=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(t,n){let i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let s=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",l="0%",d="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?d="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(d="-50%");let c=`translate(${l}, ${d}) translate(${s}, ${a})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}},qF=$F;Cy();K2();$2();Sr();var f0=class e{constructor(t){this.elementRef=t}map=null;ngOnInit(){this.map?.setTarget(this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||e)(et(qt))};static \u0275cmp=st({type:e,selectors:[["app-ol-map"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"],changeDetection:0})};r0();Hy();x2();th();DF();i0();zy();var K$=yu(Y2());function m0(e){return/^(data:image\/)/i.test(e)}function cp(e){let[t,n,i,r,o]=kc(e);if(!e||!e[o]||!e[i]||!e[r]){if(!e||!e[t])throw new Error("Item has no valid address fields");return e[t]}else return e[o]+e[i]+e[n]+e[r]}function X2(e,t){let n=new Map;return t.forEach(i=>n.set(cp(i),i)),e.forEach(i=>n.set(cp(i),re(re({},n.get(cp(i))),i))),Array.from(n.values())}var YF=yu(Y2());var G$=yu(Y2()),Lbe=new RegExp("\\p{Mn}","gu"),Nbe=new RegExp(/(,|'|-|\s)/,"g"),Oat=new RegExp(/[^\\]+(?=(?:\.[^.]+)?$)/),Lat=new RegExp(/(\\+\d{4}?\\+)/),z$=new RegExp(/^\d{4}_/),j$=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i,Bbe=e=>e==null?"":(0,G$.deburr)(e.normalize("NFC")).replace(Lbe,""),KF=e=>Bbe(e).replaceAll(Nbe,"").toLowerCase();var U$=e=>{if(z$.test(e)){let t=e.replace(z$,""),n=t.match(j$)?.[0];return t.replace(j$,"").split("_",2).reverse().join(" ")+n}return e};var ro="id";var up="postcode",Ac="city",Pl="housenumber",XF="Vooraanzicht",wh="geoPositionInfo",Z2="error",yh="street",Yd="longitude",Xd="latitude";var Qy="sheetName",Vbe=[Yd,Xd],hp=["adres","Adres","address","Address"],W$=["postcode","Postcode","zipCode","ZipCode","zip code","Zip code"],Hbe=["city","City","plaats","Plaats","woonplaats","Woonplaats"],zbe=["street","Street","straat","Straat"],jbe=["housenumber","Housenumber","houseNummer","HouseNumber","house number","House number","Huis Nummer","huis nummer","Huis nummer","huis nr","Huis nr","huisnr","Huisnr"],ZF=/(\s\d+[\s,-]?\d*[A-Za-z]?[,]?)+\s/;function dp(e,t,n){return Object.keys(e).find(i=>t.includes(i))||n}var fp=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),kc=e=>[dp(e,hp,""),dp(e,zbe,yh),dp(e,W$,up),dp(e,jbe,Pl),dp(e,Hbe,Ac)],g0=e=>{let[t,n,i,r,o]=kc(e);if(t){let[s,a,l]=e[t].split(ZF);return i?[s.trim(),a.trim(),l.trim(),e[i].replaceAll(" ","")]:[s.trim(),a.trim(),l.trim(),""]}else return[e[n]||"".trim(),e[r].toString().trim(),e[o].trim(),e[i].replaceAll(" ","")]},pp=e=>{let t=dp(e,hp,"");if(e[t]){let[n,i,r]=e[t].split(ZF);return`${n.trim()} ${i.trim()} ${r.trim()}.jpg`.toLowerCase()}},mp=e=>{let t=pp(e);return t?[t]:Object.values(e).filter(n=>fp(n))},QF=e=>Object.values(e).filter(t=>m0(t));function $$(e){return!!(e&&(QF(e).length>0||mp(e).length>0))}var v0=e=>e.reduce((t,n)=>(Object.keys(n).forEach(r=>{let o=fp(n[r]),s=t.findIndex(a=>a[0].includes(r));s===-1?t.push([r,o]):o&&(t[s]=[r,!0])}),t),[]),q$=e=>Object.keys(e).some(t=>Vbe.includes(t)&&!!e[t]),Co=class e{dataStore;selectedData;isPristine=!0;editMode$=new yt;dataStore$=new yt;constructor(){this.dataStore=[]}setEditMode(t){this.editMode$.next(t)}isInEditMode(){return this.editMode$.observed}setSelectedData(t){this.selectedData=t?t[ro]:void 0}getSelectedData(){return this.selectedData}getStore(){return[...this.dataStore]}getMergedDataAndNewUniqueData(t){return[X2(t,this.dataStore),t.filter(i=>!this.dataStore.length||this.dataStore.some(r=>!(0,YF.isEqual)(r,i)))]}store(t,n){let[i,r]=this.getMergedDataAndNewUniqueData(t);console.log("New data added",r),console.log("Merged data added",i),this.dataStore=i,this.isPristine=r.length===0,this.syncDataStoreWithPictures(n,r)}commit(){this.isPristine||this.dataStore$.next(this.dataStore)}changeStoreData(t){let o=t,{id:n}=o,i=da(o,["id"]),r=this.dataStore.findIndex(s=>s[ro]===n);if(r>=0){this.dataStore[r]=re(re({},this.dataStore[r]),i),this.isPristine=!1,this.dataStore$.next([this.dataStore[r]]);return}console.error("changeStoreData failed")}syncDataStoreWithPictures(t,n){n.forEach(i=>{let r=re({},i);this.updateDataStoreWithPicture(i,t),this.isPristine=this.isPristine&&(0,YF.isEqual)(r,i)})}updateDataStoreWithPicture(t,n){let i=XF,r=dp(t,hp,""),o=Object.keys(t).filter(s=>m0(t[s])||fp(t[s]));o.length>0&&(i=o[0]),Object.keys(n).forEach(s=>{let a=s.replace(/\.jpg|.jpeg$/,"").toLocaleLowerCase();r&&t[r].toLowerCase()===a?t[i]=s:t[i]=t[i]||""})}storeGridData(t){let s=t,{id:n}=s,i=da(s,["id"]);Object.keys(i).filter(a=>m0(i[a])).forEach(a=>{i[a]=pp(i)??"unknown picture.jpg"});let o=this.dataStore.findIndex(a=>a[ro]===n);if(o>=0){this.dataStore[o]=re(re({},this.dataStore[o]),i),this.isPristine=!1,this.dataStore$.next([this.dataStore[o]]);return}console.error("storeGridData failed")}updateGeoPosition(t,n,i,r){let o=!1,s=this.dataStore.findIndex(a=>a[ro]===t);return s>=0&&(this.dataStore[s][Yd]!==n.toString()&&(this.dataStore[s][Yd]=n.toString(),o=!0),this.dataStore[s][Xd]!==i.toString()&&(this.dataStore[s][Xd]=i.toString(),o=!0),this.dataStore[s][wh]!==r&&(this.dataStore[s][wh]=r,o=!0)),this.isPristine=!o,o}findById(t){return this.dataStore.find(n=>n[ro]===t)}get(t){let n=Object.keys(t),i=this.dataStore.find(r=>{let o=Object.keys(r);return n.every(s=>o.includes(s))&&n.every(s=>(t[s]+"").replace(/[,\s].*/g,"").toLowerCase()===(r[s]+"").replace(/[,\s].*/g,"").toLowerCase())});if(i)return Object.assign({},i)}getByPostcodeHouseNumberCity(t,n,i){return this.dataStore.find(r=>{let o=!1,s=hp.find(l=>Object.keys(r).includes(l)),a=W$.find(l=>Object.keys(r).includes(l));if(s&&a){let[l,d,c]=r[s].replaceAll(",","").split(ZF);o=t.toLowerCase()===r[a].toLowerCase()&&i.toLowerCase()===c.toLowerCase()&&n.toLowerCase()===d.toLowerCase(),o||(o=t.toLowerCase()===r[a].toLowerCase()&&i.toLowerCase()===c.toLowerCase()&&n.toLowerCase().replace(/[-\s]*/g,"")===d.toLowerCase().replace(/[-\s]*/g,"")),o||(o=t.toLowerCase()===r[a].toLowerCase()&&i.toLowerCase()===c.toLowerCase()&&n.toLowerCase().replace(/[^0-9]*/g,"")===d.toLowerCase().replace(/[^0-9]*/g,""))}return o})}getByAddr(t){let n=this.findDataByAddress(t);if(n)return Object.assign({},n)}findDataByAddress(t){let n=KF(t);return console.log("Lookup Address",t,n),this.dataStore.find(i=>{let r=hp.find(o=>Object.keys(i).includes(o));if(r){let o=KF(i[r]);return n==="fran\xE7oisvalentijnstraat39almere"&&console.log("StoreData Address",i[r],o),o===n}return!1})}findByApproach(t,n,i,r,o){let s="",a=this.get({[Ac]:r,[Pl]:n,[up]:t});return a||(a=this.getByPostcodeHouseNumberCity(t,n,r),a||(a=this.get({[yh]:i,[Pl]:n,[Ac]:r}),a?s=`Please fix postcode in "${i} ${n}, ${r}" and change ${a[up]} to ${t} in your excel sheet.`:(a=this.get({[yh]:i,[Pl]:n.replace(/[^0-9,\s].*/g,""),[Ac]:r}),a?s=`Please fix house number in "${i} ${n}, ${r}" and change ${a[Pl]} to ${n} in your excel sheet.`:(a=this.get({[up]:t,[yh]:i,[Pl]:n.replace(/[^0-9].*/g,"")}),a||(a=this.get({[up]:t,[Ac]:r,[Pl]:n.replace(/[^0-9].*/g,"")}),a?s=`Please fix City in "${i} ${n}, ${r}" and change ${a[Ac]} to ${r} in your excel sheet.`:(a=this.getByAddr(`${i} ${n} ${r}`),a||(s=`Looking for ${o} but found address "${i} ${n}, ${r}, ${t}". Please verify address in the excel sheet.`,a=this.getByAddr(o),a||(a=this.getByAddr(o.replace(/[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i,"").trim()))))))))),console.log("street map found",t,n,r,i,o),[a,s]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ch=class e{geoPositions=[];mapIdToUuid=[];removedGeoPosition$=new ki(null);geoPositions$=new ki([]);getNumberOfGeoPositions(){return this.geoPositions.length}setGeoPositionIdUid(t,n){let i=this.mapIdToUuid.find(r=>r.id===t);i?i.uid=n:this.mapIdToUuid.push({id:t,uid:n})}getGeoPositionByAddress(t,n,i,r){return this.geoPositions.find(o=>{let s=JSON.parse(o.geoPositionInfo),a=s.housenumber.split("-").at(-1),l=s.city.toLowerCase()===t.toLowerCase()&&s.postcode.replaceAll(" ","").toLowerCase()===n.replaceAll(" ","").toLowerCase()&&a.toLowerCase()===a.toLowerCase();return!l&&r&&(l=s.street.toLowerCase()===r.toLowerCase()&&s.city.toLowerCase()===t.toLowerCase()&&s.street.toLowerCase()===r.toLowerCase()&&a.toLowerCase()===a.toLowerCase()),l})}findNearestByAddress(t,n,i,r){return this.geoPositions.find(o=>{let s=new RegExp("^\\d+"),a=JSON.parse(o.geoPositionInfo);return!r&&a.city.toLowerCase()===t.toLowerCase()&&a.postcode.replaceAll(" ","").toLowerCase()===n.replaceAll(" ","").toLowerCase()&&a.housenumber.toLowerCase().match(s)?.[0]===i.toLowerCase().match(s)?.[0]||a.street.toLowerCase()===r?.toLowerCase()&&a.city.toLowerCase()===t.toLowerCase()&&a.housenumber.toLowerCase().match(s)?.[0]===i.toLowerCase().match(s)?.[0]})}getIdByUid(t){return this.mapIdToUuid.find(n=>n.uid===t)?.id}hasGeoPositions(){return!!this.geoPositions.length}clearGeoPositions(){this.geoPositions.forEach(t=>this.removeGeoPosition(t.id))}addGeoPositions(t){t.forEach(n=>{this.geoPositions.push(n)}),this.geoPositions$.next(t)}updateGeoPosition(t,n,i="Unknown",r,o){let s={coords:{altitude:0,longitude:t,accuracy:0,altitudeAccuracy:null,heading:null,latitude:n,speed:null,toJSON:function(){throw new Error("Function not implemented.")}},id:zb(),userName:i,geoPositionInfo:o,zoom:0,details:r};if(r){let[a,l,d,c]=g0(r),u=this.getGeoPositionByAddress(d,c,l,a);if(u){u.details=r,u.coords=Le(re({},u.coords),{longitude:t||u.coords.longitude,latitude:n||u.coords.latitude}),u.geoPositionInfo=o;return}}this.geoPositions.push(s),this.geoPositions$.next([s])}setGeoCoordinatesAndOrZoom(t,n,i){let r=this.getGeoPosition(t);r&&(!(0,K$.isEqual)(r.coords,n)||r.zoom!==i)&&(r.coords=n,i&&(r.zoom=i),this.geoPositions$.next([r]))}getGeoPosition(t){let n=this.geoPositions.find(i=>i.id===t);if(n)return n}getGeoPositions(){return this.geoPositions}getGeoPositionByCoordinates(t){return this.geoPositions.find(n=>n.coords.altitude===t[1]&&n.coords.longitude===t[0])}removeGeoPosition(t){let n=this.geoPositions.findIndex(i=>i.id===t);if(n>=0){let i=this.geoPositions.splice(n,1)[0];return this.removedGeoPosition$.next(i),i}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function Gbe(e,t){if(e&1&&(je(0,"div",3)(1,"textarea",4),vn(2),$e(),je(3,"footer"),kt(4,"app-scale-line",1)(5,"app-mouse-position",5),$e()()),e&2){let n=Zn();ot(2),po(n.logMessage),ot(2),gt("map",n.map),ot(),gt("map",n.map)}}var b0=class e{constructor(t){this.geoPositionService=t;this.zoomInput.pipe(Ai()).pipe(Xl(300)).subscribe(()=>{this.onViewChanged()})}extendedView=!0;userId;set coordinatesChange(t){let n=this.geoPositionService.getGeoPosition(t.id);n&&t.coords.latitude&&t.coords.longitude&&(this.geoPositionService.setGeoCoordinatesAndOrZoom(n.id,t.coords,this.zoomLevelSingleMarker),this.logMessage=this.logMessage.concat(`coordinates changes for user "${n.userName}" to ${t.coords.latitude}/${t.coords.longitude}
`))}map=null;logMessage="";canvasStyleIsSet=!1;zoomLevelSingleMarker=11;userMarkers={};destroyRef=te(Zi);zoomInput=new yt;markersVectorLayer=new lp;ngOnInit(){this.map||this.initializeMap()}ngAfterViewInit(){let t=this.geoPositionService.geoPositions$.pipe(Ai(this.destroyRef)).subscribe(i=>{i&&this.setupMap(i)}),n=this.geoPositionService.removedGeoPosition$.pipe(Ai(this.destroyRef)).subscribe(i=>{i&&this.updateMap(i)});this.destroyRef.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}ngAfterViewChecked(){if(!this.extendedView&&!this.canvasStyleIsSet){let t=this.map?.getViewport().querySelector("canvas");t&&(t.style.borderRadius="50%",this.canvasStyleIsSet=!0)}}onViewChanged=()=>{let t=this.map?.getView();this.zoomLevelSingleMarker=t?.getZoom()||11};onCenterChanged=t=>{let n=this.geoPositionService.getGeoPosition(this.userId);n&&n.id===this.userId&&(n.center=t.target.getCenter())};refreshVectorLayer(){let t=this.markersVectorLayer.getSource();t&&(t.clear(!0),t.addFeatures(Object.values(this.userMarkers)))}styleUser=(t,n)=>{t&&t.setStyle(new Qo({image:new kl({src:"assets/position_marker.png",size:[60,60],anchor:[.5,1],opacity:.7,scale:.5}),text:new ph({text:n,font:"bold 12px Calibri,sans-serif",offsetY:-40,fill:new ys({color:"blue"}),stroke:new Ys({color:"white",width:2})})}))};setupMap(t){let n=this.map?.getView();n?.setZoom(this.zoomLevelSingleMarker),t.forEach(i=>{Object.keys(this.userMarkers).includes(i.id)||(this.userMarkers[i.id]=new gh);let r=[i.coords.longitude,i.coords.latitude];this.userMarkers[i.id].setGeometry(new Bd(ms(r))),this.styleUser(this.userMarkers[i.id],i.userName),i.id===this.userId&&i.coords.latitude&&i.coords.longitude&&n?.setCenter(ms(r))}),this.refreshVectorLayer()}updateMap(t){Object.keys(this.userMarkers).includes(t.id)&&delete this.userMarkers[t.id],this.refreshVectorLayer()}initializeMap=()=>{this.userMarkers[this.userId]=new gh;let t=new Xf({target:"attribution"});this.markersVectorLayer=new lp({source:new d0({features:Object.values(this.userMarkers)})}),this.map=new I2({controls:Zf({attribution:!1}).extend([t]),target:"map",view:new Yo({center:ms([0,0]),zoom:this.zoomLevelSingleMarker}),layers:[new B2({source:new $y}),this.markersVectorLayer]}),this.map.getView().on("change:resolution",n=>this.zoomInput.next(n)),this.map.getView().once("change:center",n=>this.onCenterChanged(n))};static \u0275fac=function(n){return new(n||e)(et(Ch))};static \u0275cmp=st({type:e,selectors:[["app-map"]],inputs:{extendedView:"extendedView",userId:"userId",coordinatesChange:"coordinatesChange"},decls:4,vars:2,consts:[[1,"map-container"],[3,"map"],["class","extended-view",4,"ngIf"],[1,"extended-view"],["rows","10",1,"log-messages"],["positionTemplate","{x}, {y} m",3,"map"]],template:function(n,i){n&1&&(je(0,"main")(1,"div",0),kt(2,"app-ol-map",1),$e()(),un(3,Gbe,6,3,"div",2)),n&2&&(ot(2),gt("map",i.map),ot(),gt("ngIf",i.extendedView))},dependencies:[bi,fa,zS,jS,f0],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}main[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:400px;min-width:400px}.map-container[_ngcontent-%COMP%], .log-messages[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{display:flex;background-color:var(--header-color);padding:1em;justify-content:space-between}.extended-view[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column}"]})};var Y$="http://localhost:4000";function X$(e,t){e.post(`${Y$}/ping`,t).subscribe(n=>{console.log("ping response:",n)})}function Z$(e,t){e.post(`${Y$}/remove`,t).subscribe(n=>{console.log("ping response:",n)})}var J$=yu(Q$());var J2=class e{constructor(){let t=new J$.default("409287850efe9b9b147c",{cluster:"eu"});this.channel=t.subscribe("location")}channel;init(){return this.channel}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var Wbe=new Ne("[WA_WINDOW]",{factory:()=>{let{defaultView:e}=te(en);if(!e)throw new Error("Window is not available");return e}}),_a=Wbe,Dlt=new Ne("[WA_ANIMATION_FRAME]",{factory:()=>{let{requestAnimationFrame:e,cancelAnimationFrame:t}=te(_a);return new dn(i=>{let r=NaN,o=s=>{i.next(s),r=e(o)};return r=e(o),()=>{t(r)}}).pipe(Eu())}});var Rlt=new Ne("[WA_CACHES]",{factory:()=>te(_a).caches});var Mlt=new Ne("[WA_CRYPTO]",{factory:()=>te(_a).crypto});var Tlt=new Ne("[WA_CSS]",{factory:()=>te(_a).CSS??{escape:e=>e,supports:()=>!1}});var Ilt=new Ne("[WA_HISTORY]",{factory:()=>te(_a).history});var klt=new Ne("[WA_LOCAL_STORAGE]",{factory:()=>te(_a).localStorage});var Alt=new Ne("[WA_LOCATION]",{factory:()=>te(_a).location});var eE=new Ne("[WA_NAVIGATOR]",{factory:()=>te(_a).navigator}),eq=eE,Flt=new Ne("[WA_MEDIA_DEVICES]",{factory:()=>te(eq).mediaDevices});var Plt=new Ne("[WA_NETWORK_INFORMATION]",{factory:()=>te(eE).connection||null});var Olt=new Ne("[WA_PAGE_VISIBILITY]",{factory:()=>{let e=te(en);return of(e,"visibilitychange").pipe(Ro(0),Jt(()=>e.visibilityState!=="hidden"),sf(),ad({refCount:!1,bufferSize:1}))}});var Llt=new Ne("[WA_PERFORMANCE]",{factory:()=>te(_a).performance});var Nlt=new Ne("[WA_SCREEN]",{factory:()=>te(_a).screen});var Blt=new Ne("[WA_SESSION_STORAGE]",{factory:()=>te(_a).sessionStorage});var Vlt=new Ne("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{let e=te(_a);return e.speechRecognition||e.webkitSpeechRecognition||null}});var Hlt=new Ne("[WA_SPEECH_SYNTHESIS]",{factory:()=>te(_a).speechSynthesis});var zlt=new Ne("[WA_USER_AGENT]",{factory:()=>te(eq).userAgent});var tE=new Ne("An abstraction over window.navigator.geolocation object",{factory:()=>te(eE).geolocation});var tq=new Ne("Token for an additional position options",{factory:()=>({})});var nq=new Ne("Is Geolocation API supported?",{factory:()=>!!te(tE)});var y0=class e extends dn{constructor(t,n,i){let r=0;return super(o=>{n||o.error("Geolocation is not supported in your browser"),r=t.watchPosition(s=>o.next(s),s=>o.error(s),i)}),this.pipe(fl(()=>t.clearWatch(r)),ad({bufferSize:1,refCount:!0}))}static \u0275fac=function(n){return new(n||e)(Rt(tE),Rt(nq),Rt(tq))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function $be(e,t){if(e&1&&(je(0,"div"),kt(1,"app-map",4),$e()),e&2){let n=t.ngIf,i=Zn();ot(),gt("coordinatesChange",n[0])("userId",i.geoPositionId)}}var nE=class e{constructor(t,n,i,r,o,s,a,l){this.http=t;this.route=n;this.pusher=i;this.changeDetectorRef=r;this.geoPositions=o;this.authService=s;this.router=a;this.geolocation$=l}destroyRef=te(Zi);geoPosition$;username="";geoPositionId="";message="";showAlert=!1;showLocationUpdate=!1;pingMyPosition(t,n){t&&X$(this.http,{userId:this.geoPositionId,lat:t.coords.latitude,lng:t.coords.longitude,username:this.username,info:n})}ngOnInit(){if(this.route.snapshot.paramMap.has("userId")&&this.route.snapshot.paramMap.has("username")){this.geoPositionId=this.route.snapshot.paramMap.get("userId"),this.username=this.route.snapshot.paramMap.get("username");let t=this.geoPositions.getGeoPosition(this.geoPositionId);if(!t)this.logout();else{this.geoPosition$=this.geoPositions.geoPositions$.asObservable();let n=this.authService.user$.pipe(Ai(this.destroyRef)).subscribe(r=>{r?.id||this.logout()});this.destroyRef.onDestroy(()=>{n.unsubscribe()}),this.geoPositions.geoPositions$.next([t]);let i=this.pusher.init();i.bind("ping",r=>{let o=this.geoPositions.getGeoPosition(r.userId);if(o)this.geoPositions.setGeoCoordinatesAndOrZoom(r.userId,Le(re({},o.coords),{latitude:r.lat,longitude:r.lng}));else{o={id:r.userId,userName:r.username,geoPositionInfo:"Todo ?",coords:{latitude:r.lat,longitude:r.lng},center:[0,0],zoom:14},this.geoPositions.addGeoPositions([o]);let s=this.geoPositions.getGeoPosition(this.geoPositionId);setTimeout(()=>{this.pingMyPosition(s,`Welcome ${r.username} to the Hangout`)},1e3)}this.geoPositions.geoPositions$.next([o]),this.showLocationUpdate=!0,this.message=`User "${o.userName}" says '${r.info}'`,this.changeDetectorRef.markForCheck()}),i.bind("remove",r=>{let o=this.geoPositions.removeGeoPosition(r.userId);o&&(this.showLocationUpdate=!0,this.message=`User "${o.userName}" says goodbye`,this.changeDetectorRef.markForCheck())})}}}ngAfterContentInit(){let t=this.geoPositions.getGeoPosition(this.geoPositionId);t&&this.pingMyPosition(t,`Hello, I'm ${this.username} and I just joined the Hangout`)}logout(){this.geoPositions.clearGeoPositions(),this.navigateHome()}navigateHome(){this.router.navigate(["/home"])}ngOnDestroy(){Z$(this.http,{userId:this.geoPositionId}),this.geoPositionId="",this.username=""}static \u0275fac=function(n){return new(n||e)(et(qm),et(fc),et(J2),et(Bi),et(Ch),et($u),et(Vu),et(y0))};static \u0275cmp=st({type:e,selectors:[["app-hangout"]],decls:12,vars:6,consts:[[1,"main"],[4,"ngIf"],[1,"alert",3,"hidden"],[1,"location","alert",3,"hidden"],[3,"coordinatesChange","userId"]],template:function(n,i){n&1&&(kt(0,"app-header"),je(1,"div",0),un(2,$be,2,2,"div",1),k_(3,"async"),je(4,"h4"),vn(5,"Location Alerts"),$e(),je(6,"div",2)(7,"p"),vn(8,"This user has left"),$e()(),je(9,"div",3)(10,"p"),vn(11),$e()()()),n&2&&(ot(2),gt("ngIf",A_(3,4,i.geoPosition$)),ot(4),gt("hidden",!i.showAlert),ot(3),gt("hidden",!i.showLocationUpdate),ot(2),po(i.message))},dependencies:[_g,b0,bi,fa,ob],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:40px 2px}.main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-transform:uppercase;margin-bottom:15px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#f14343;color:#fff;padding:15px;border-radius:5px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.main[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{background:green;margin-top:20px}agm-map[_ngcontent-%COMP%]{height:400px;width:600px}"]})};function qbe(e,t){if(e&1&&(je(0,"div"),vn(1),$e()),e&2){let n=Zn();ot(),ib(" Sorry, position is not available: ",n.error.message," ")}}function Kbe(e,t){e&1&&(je(0,"div"),vn(1," This is the place to be and hangout with your friends "),$e())}function Ybe(e,t){if(e&1){let n=qr();je(0,"div"),kt(1,"app-map",4),je(2,"button",5),jt("click",function(){_i(n);let r=Zn(2);return xi(r.navigateToHangout())}),vn(3,' Enter the "Hangout" '),$e()()}if(e&2){let n=Zn(2);ot(),gt("coordinatesChange",n.geoPosition)("userId",n.userId)("extendedView",!1)}}function Xbe(e,t){if(e&1&&un(0,Ybe,4,3,"div",2),e&2){let n=Zn();gt("ngIf",!!n.geoPosition&&!!n.geoPosition.userName)}}var Jy=class e{constructor(t,n,i,r,o){this.router=t;this.changeDetectorRef=n;this.authService=i;this.geoPositions$=r;this.geolocation$=o}error=null;geoPosition;destroyRef=te(Zi);username="";userId="";ngOnInit(){let t=this.authService.user$.pipe(Ai(this.destroyRef)).subscribe(n=>{n?.id?(this.userId&&this.userId!==n.id&&this.geoPositions$.removeGeoPosition(this.userId),this.username=n.name,this.userId=n.id,this.showMap()):(this.userId="",this.username="",this.geoPosition=void 0,this.geoPositions$.clearGeoPositions())});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}navigateToHangout(){this.router.navigate(["/hangout",this.userId,this.username])}showMap(){this.geolocation$.pipe(Oa()).subscribe({next:t=>{this.error=null,this.geoPosition={id:this.userId,userName:this.username,geoPositionInfo:"Just created user",coords:t.coords,center:[0,0],zoom:14},this.geoPositions$.addGeoPositions([this.geoPosition]),this.changeDetectorRef.markForCheck()},error:t=>{this.error=t}})}static \u0275fac=function(n){return new(n||e)(et(Vu),et(Bi),et($u),et(Ch),et(y0))};static \u0275cmp=st({type:e,selectors:[["app-home"]],decls:8,vars:4,consts:[["elseBlock",""],[1,"content"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"coordinatesChange","userId","extendedView"],[1,"primary-button",3,"click"]],template:function(n,i){if(n&1&&(kt(0,"app-header"),je(1,"div",1)(2,"h2"),vn(3),$e(),un(4,qbe,2,1,"div",2)(5,Kbe,2,0,"div",3)(6,Xbe,1,1,"ng-template",null,0,vd),$e()),n&2){let r=fo(7);ot(3),ib(" ",i.userId?`Welcome ${i.username} to "Hangout"`:'Welcome to "Hangout" make yourself known by logging in'," "),ot(),gt("ngIf",!!i.error),ot(),gt("ngIf",!i.username)("ngIfElse",r)}},dependencies:[_g,bi,fa,b0],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 0}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;opacity:.6}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{width:100%;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:40px 2px;transition:.3s;display:inline-block;text-decoration:none;cursor:pointer;border-radius:4px}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}"]})};Sr();var Zbe=["*"];var Qbe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Jbe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],eye=new Ne("MAT_CARD_CONFIG"),rq=(()=>{class e{appearance;constructor(){let n=te(eye,{optional:!0});this.appearance=n?.appearance||"raised"}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&Rn("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Zbe,decls:1,vars:0,template:function(i,r){i&1&&(Vr(),vi(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),oq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var sq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();var aq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Jbe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(Vr(Qbe),vi(0),je(1,"div",0),vi(2,1),$e(),vi(3,2))},encapsulation:2,changeDetection:0})}return e})(),lq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return e})();var iE=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,bn]})}return e})();var tye={capture:!0},nye=["focus","mousedown","mouseenter","touchstart"],tP="mat-ripple-loader-uninitialized",nP="mat-ripple-loader-class-name",dq="mat-ripple-loader-centered",rE="mat-ripple-loader-disabled",uq=(()=>{class e{_document=te(en);_animationMode=te(_r,{optional:!0});_globalRippleOptions=te(Kk,{optional:!0});_platform=te(yi);_ngZone=te(It);_injector=te($n);_eventCleanups;_hosts=new Map;constructor(){let n=te(to).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>nye.map(i=>Wo(n,this._document,i,this._onInteraction,tye)))}ngOnDestroy(){let n=this._hosts.keys();for(let i of n)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(n,i){n.setAttribute(tP,this._globalRippleOptions?.namespace??""),(i.className||!n.hasAttribute(nP))&&n.setAttribute(nP,i.className||""),i.centered&&n.setAttribute(dq,""),i.disabled&&n.setAttribute(rE,"")}setDisabled(n,i){let r=this._hosts.get(n);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(n))):i?n.setAttribute(rE,""):n.removeAttribute(rE)}_onInteraction=n=>{let i=zs(n);if(i instanceof HTMLElement){let r=i.closest(`[${tP}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(nP)),n.append(i);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??$b.enterDuration,a=r?0:o?.animation?.exitDuration??$b.exitDuration,l={rippleDisabled:r||o?.disabled||n.hasAttribute(rE),rippleConfig:{centered:n.hasAttribute(dq),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},d=new qb(l,this._ngZone,i,this._platform,this._injector),c=!l.rippleDisabled;c&&d.setupTriggerEvents(n),this._hosts.set(n,{target:l,renderer:d,hasSetUpEvents:c}),n.removeAttribute(tP)}destroyRipple(n){let i=this._hosts.get(n);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iye=["mat-icon-button",""],rye=["*"];var hq=new Ne("MAT_BUTTON_CONFIG");var oye=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],sye=(()=>{class e{_elementRef=te(qt);_ngZone=te(It);_animationMode=te(_r,{optional:!0});_focusMonitor=te(pc);_rippleLoader=te(uq);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){te(Kr).load(ug);let n=te(hq,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=n?.disabledInteractive??!1,this.color=n?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of oye)i.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Re],disabled:[2,"disabled","disabled",Re],ariaDisabled:[2,"aria-disabled","ariaDisabled",Re],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re]}})}return e})();var iP=(()=>{class e extends sye{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Si("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Vs(r.color?"mat-"+r.color:""),Rn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Nr],attrs:iye,ngContentSelectors:rye,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Vr(),kt(0,"span",0),vi(1),kt(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return e})();var vp=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,bg,bn]})}return e})();var rP=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,bn]})}return e})();var fq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[rP,bn,rP,bn]})}return e})();var pq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn,bn]})}return e})();var mq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn]})}return e})();var gq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[Of,bn,bg,mq,pq]})}return e})();U2();q2();C2();DF();Sr();K2();$2();var tw="searchedFor",oP="StoreDataId",ew="Address",oE="GeoInformation",vq=(e,t,n)=>{e&&(n>14?e.setStyle(lye(t)):e.setStyle(cye(4,t==="Unknown")),e.setProperties({Address:t}))},lye=e=>new Qo({image:new kl({src:"assets/icons8-house-48.png",size:[48,48],anchor:[.5,48],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.7,scale:.5}),text:new ph({text:e,font:"bold 12px Calibri,sans-serif",offsetY:-29,fill:new ys({color:e==="Unknown"?"red":"blue"}),stroke:new Ys({color:"white",width:2})})}),cye=(e,t)=>new Qo({image:new np({radius:e,fill:new ys({color:t?"red":"black"}),stroke:new Ys({color:"white",width:2})})}),dye=e=>new Qo({image:new kl({src:"assets/icons8-marker-50.png",size:[50,50],anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.7,scale:.5}),text:new ph({text:e,font:"bold 12px Calibri,sans-serif",offsetY:-30,fill:new ys({color:e==="Unknown"?"red":"blue"}),stroke:new Ys({color:"white",width:2})})}),_h=class e{zoomInput=new yt;zoomLevelSingleMarker=11;markers={};markersVectorLayer=new lp;map;constructor(){this.zoomInput.pipe(Ai()).pipe(Xl(300)).subscribe(()=>{this.onViewChanged(this.map)})}refreshVectorLayer(){let t=this.markersVectorLayer.getSource();t&&(t.clear(!0),t.addFeatures(Object.values(this.markers)))}updateMarkerStyle(){Object.keys(this.markers).forEach(t=>{if(t!==tw){let n=this.getAddressLabel(this.markers[t].get(oE),this.markers[t].get(ew)||"");vq(this.markers[t],n,this.zoomLevelSingleMarker),this.markers[t].changed()}}),this.refreshVectorLayer()}getAddressLabel(t,n){if(t){let[i,r,o,s]=this.getAddress(t);return`${i?.length?i+" ":""}${r} ${o}, ${s}`}return n}getAddress(t){let n=JSON.parse(t);return[n.street||"",n.houseNumber||"",n.city||"",n.postcode||""]}setupMap(t,n,i,r,o,s){s?.setZoom(this.zoomLevelSingleMarker),Object.keys(this.markers).includes(t)||(this.markers[t]=new gh,this.markers[t].set(oP,t)),this.markers[t].setProperties({[ew]:r,[oE]:o});let a=[n,i];this.markers[t].setGeometry(new Bd(ms(a))),vq(this.markers[t],this.getAddressLabel(o,r),this.zoomLevelSingleMarker),this.refreshVectorLayer()}addMarker(t,n,i){this.markers[t]=new gh,this.markers[t].setId(t),this.markers[t].set(ew,i),this.markers[t].setGeometry(new Bd(ms(n))),this.markers[t].setStyle(dye(i)),this.refreshVectorLayer()}onViewChanged(t){let n=t.getView();this.zoomLevelSingleMarker=n?.getZoom()||11,this.updateMarkerStyle(),console.log("zoom",this.zoomLevelSingleMarker)}initializeMarkers(t){this.map=t,this.markersVectorLayer=new lp({source:new d0({features:Object.values(this.markers)})}),t.addLayer(this.markersVectorLayer),t.getView().setZoom(this.zoomLevelSingleMarker),t.getView().on("change:resolution",i=>{this.zoomInput.next(i)})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};q2();var Lo={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var w0=class e{constructor(t){this.responsive=t;this.responsive.observe([Lo.Handset,Lo.Tablet,Lo.Web]).pipe(Ai()).subscribe(n=>{let i=n.breakpoints;i[Lo.TabletPortrait]||i[Lo.HandsetLandscape]?this.fontSize$.next(2):i[Lo.HandsetPortrait]||i[Lo.HandsetLandscape]?this.fontSize$.next(1):(i[Lo.WebLandscape]||i[Lo.WebPortrait])&&this.fontSize$.next(3)})}fontSize$=new ki(3);static \u0275fac=function(n){return new(n||e)(Rt(Pf))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var el=class e{constructor(t,n){this.fontSizeService=t;this.dataStoreService=n}map;currentFeature;currentCoordinates;info;overlay;tooltipSwitchedOn=!0;onClickHandler=null;assignTooltipHandlers(t,n){n&&(this.info=n),t&&!this.map&&(this.map=t),t.on("loadstart",()=>{t.getTargetElement().classList.add("spinner")}),t.on("loadend",()=>{t.getTargetElement().classList.remove("spinner")}),t.on("pointermove",this.pointerMove),t.getTargetElement().addEventListener("pointerleave",()=>this.reset())}assignClickHandler(t,n,i){t&&!this.map&&(this.map=t),t&&n&&(this.onClickHandler=n,this.overlay=new qF({element:i,autoPan:!0,id:"popup-house-card-overlay"}),this.overlay.panIntoView({animation:{duration:1e3},margin:100}),this.overlay.on("propertychange",this.switchTooltipOnOff.bind(this)),t.on("click",this.showPopUp.bind(this)))}closePopup(){this.overlay&&(this.overlay.setPosition(void 0),this.tooltipSwitchedOn=!1,this.switchTooltipOnOff(),this.map.removeOverlay(this.overlay))}showPopUp(t){if(this.map&&this.overlay&&this.onClickHandler)if(this.currentFeature)this.handleFeature(this.currentFeature,this.currentCoordinates);else{let n=this.map.getEventPixel(t.originalEvent);n&&this.map.forEachFeatureAtPixel(n,i=>{this.handleFeature(i,t.coordinate)},{hitTolerance:this.fontSizeService.fontSize$.value<3?10:0})}}handleFeature(t,n){if(t.getId()===tw){t.setStyle(new Qo({}));return}let i=t.get(oP),r=t.get(oE);if(i&&this.onClickHandler){let o=this.dataStoreService.findById(i);if(o)this.onClickHandler(o);else{let s=JSON.parse(r||`{
                  "postcode": "column 'postcode' not found",
                  "city": "column 'city' not found",
                  "housenumber": "column 'housenumber' not found"
                }`),a=r?`Address "${s.street} ${s.housenumber}, ${s.postcode} ${s.city}" not found`:"No address found";this.onClickHandler({[Z2]:`${a}. Please verify address in excel sheet.`,[up]:s.postcode,[Ac]:s.city,[Pl]:s.housenumber,[yh]:s.street})}this.overlay&&this.map&&(this.overlay.setPosition(n),this.map.addOverlay(this.overlay),this.reset())}}handlePointerMove(t){if(t.dragging&&this.info){this.info.style.visibility="hidden",this.currentFeature=void 0,this.currentCoordinates=void 0;return}let n=this.map.getEventPixel(t.originalEvent);this.displayFeatureInfo(n,t.originalEvent.target),this.currentCoordinates=t.coordinate}displayFeatureInfo(t,n){if(this.info&&this.map&&n){let i=this.map.forEachFeatureAtPixel(t,function(r){return r},{hitTolerance:this.fontSizeService.fontSize$.value<3?10:0});i?(this.info.style.left=t[0]+"px",this.info.style.top=t[1]+"px",i!==this.currentFeature&&(this.info.style.visibility="visible",this.info.innerText=i.get(ew))):this.info.style.visibility="hidden",this.currentFeature=i}}reset(){this.info&&(this.currentFeature=void 0,this.currentCoordinates=void 0,this.info.style.visibility="hidden")}pointerMove=t=>this.handlePointerMove(t);switchTooltipOnOff(){setTimeout(()=>{document.getElementsByClassName("house-card").length===0||this.overlay.getElement()?.parentElement?.style.display==="none"?this.tooltipSwitchedOn||(this.map.on("pointermove",this.pointerMove),this.tooltipSwitchedOn=!0):this.tooltipSwitchedOn&&(this.map.un("pointermove",this.pointerMove),this.tooltipSwitchedOn=!1)},1)}static \u0275fac=function(n){return new(n||e)(Rt(w0),Rt(Co))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var sE=class e{constructor(t){this.mapEventHandlers=t}details;map;address(){if(this.details){let[t,n,i,r,o]=kc(this.details);return t?this.details[t]:`${this.details[o]} ${this.details[i]} ${this.details[n]?this.details[n]+" ":""}${this.details[r]}`}return""}closePopup(t){t.stopPropagation(),this.mapEventHandlers.closePopup()}static \u0275fac=function(n){return new(n||e)(et(el))};static \u0275cmp=st({type:e,selectors:[["app-card-header"]],inputs:{details:"details",map:"map"},decls:8,vars:3,consts:[[1,"header"],[1,"table"],[1,"row"],["mat-icon-button","","aria-label","close icon",3,"click"],[1,"close-icon"]],template:function(n,i){n&1&&(je(0,"mat-card-header",0)(1,"div",1)(2,"div",2)(3,"mat-card-title"),vn(4),$e(),je(5,"button",3),jt("click",function(o){return i.closePopup(o)}),je(6,"mat-icon",4),vn(7,"close"),$e()()()()()),n&2&&(ot(4),po(i.address()),ot(),Va("flex",1))},dependencies:[iE,aq,oq,va,yl],styles:[".header[_ngcontent-%COMP%]{padding:6px 0 6px 16px!important}.close-icon[_ngcontent-%COMP%]{color:red;float:right;cursor:pointer}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-wrap:anywhere}.row[_ngcontent-%COMP%]{display:flex}button[_ngcontent-%COMP%]{border-style:hidden;background-color:transparent}"]})};function hye(e,t){if(e&1&&(je(0,"div",4)(1,"div",5),vn(2),$e(),kt(3,"div",6),$e()),e&2){let n=t.$implicit;ot(2),po(n[0]),ot(),gt("innerHTML",n[1],D9)}}var aE=class e{details;isUrlItem(t){try{return new URL(t),!0}catch{return!1}}extraInformation(t){if(t){let[n,i,,r,o]=kc(this.details);return Object.entries(t).filter(s=>![ro,n,o,r,wh,i,Yd,Xd,Qy,Z2].includes(s[0])&&!fp(s[1])&&!m0(s[1])).map(s=>this.isUrlItem(s[1])?[s[0],`<a href="${s[1]}" target="_blank">${s[1]}</a>`]:s)}return[]}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["app-excel-content"]],inputs:{details:"details"},decls:4,vars:3,consts:[[1,"leftColumn"],[1,"info-table"],[1,"table"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"cellLeft"],[1,"cellRight",3,"innerHTML"]],template:function(n,i){n&1&&(je(0,"div",0)(1,"div",1)(2,"div",2),un(3,hye,4,2,"div",3),$e()()()),n&2&&(ot(2),Va("flex",2),ot(),gt("ngForOf",i.extraInformation(i.details)))},dependencies:[bi,ac],styles:["app-excel-content{display:flex;flex:1}.leftColumn[_ngcontent-%COMP%]{float:left;flex:1 1 0}.info-table0[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-wrap:anywhere}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{display:flex;flex:1 1 0;justify-content:start;align-items:center;text-wrap:balance}.cellLeft[_ngcontent-%COMP%]{display:flex;flex:1 1 0;text-wrap:nowrap}.cellRight[_ngcontent-%COMP%]{display:flex;flex:1 1 0;text-wrap:balance}"]})};var oo="xsl-import-progress",Pc="pictures-import-progress",iw="indeterminate",Fc=class e{progressSubject=new ki({});isRunning={};mode={[oo]:iw,[Pc]:iw};increaseProgressByStep(t){return Et(this,null,function*(){return new Promise(n=>{setTimeout(()=>{n(this.increaseProgressByStepAsync(t))},0)})})}getProgress(){return this.progressSubject}setProgressMode(t,n){this.mode[t]=n,this.progressSubject.value[t]=Le(re({},this.progressSubject.getValue()[t]),{mode:n})}getProgressMode(t){return this.mode[t]}currentProgress(t){return this.progressSubject.getValue()[t]}isProgressRunning(t){return this.isRunning[t]}setProgress(t,n){console.log("Set progress",t,n);let i=this.progressSubject.value,r=i[t]?.max??100,o=i[t].mode||iw;this.progressSubject.next(Le(re({},i),{[t]:{value:n,max:r,count:0,mode:o}}))}setMaxCount(t,n){console.log("Set max count",t,n),this.isRunning[t]=n>1;let i=this.progressSubject.value,r=i[t]?.mode||iw;this.progressSubject.next(Le(re({},i),{[t]:{value:0,max:n,count:0,mode:r}}))}increaseProgressByStepAsync(t){return Et(this,null,function*(){let n=this.progressSubject.value,i=n[t],r=n[t]?.mode||iw;if(!i||i.max===0)return;let o=100/i.max,s=Math.min(i.value+Number.EPSILON*i.max+o,100);console.log("Increase progress",t,s,i.count+1),this.isRunning[t]=s<100,this.progressSubject.next(Le(re({},n),{[t]:{value:s,max:i.max,count:i.count+1,mode:r}}))})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var Zs=class e{pictureStore={};pictureStore$=new yt;loadPictureAsync(t,n){return new Promise(i=>{let r=new FileReader;r.onload=o=>{if(o.target?.result)if(t.type.toLowerCase()==="application/json"){let s=JSON.parse(o.target?.result);Object.keys(s).forEach(a=>{this.storePicture(s[a.toLowerCase()],a.toLowerCase())})}else this.storePicture(o.target?.result,n.toLowerCase());i()},r.readAsDataURL(t)})}loadPictures(t,n){return Et(this,null,function*(){let i={};for(let r of t)yield new Promise(o=>{let s=new FileReader;s.onload=a=>{if(a.target?.result){let l=U$(r.name);Object.assign(i,{[l.toLowerCase()]:a.target?.result})}o()},s.readAsDataURL(r)}),yield n.increaseProgressByStep(Pc);this.pictureStore=re(re({},this.pictureStore),i),this.pictureStore$.next(i)})}storePicture(t,n){this.pictureStore[n.toLowerCase()]=t,this.pictureStore$.next({[n.toLowerCase()]:t})}getPicture(t){return Object.keys(this.pictureStore).includes(t)?this.pictureStore[t]:t}getPictureName(t){return Object.keys(this.pictureStore).find(i=>this.pictureStore[i]===t)}hasNoBlobs(t){return this.getPicture(t)===t}getPicturesStore(){return this.pictureStore}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};function fye(e,t){if(e&1&&(je(0,"div",3)(1,"div",4),kt(2,"img",5),$e()()),e&2){let n=t.$implicit;ot(2),gt("src",n,__)("alt",`Picture ${n} not found`)}}var cE=class e{constructor(t,n){this.pictureService=t;this.changeDetectorRef=n}details;ngOnInit(){this.pictureService.pictureStore$.subscribe(()=>{this.details=re({},this.details),this.changeDetectorRef.markForCheck()})}pictures(t){if(t){let n=QF(t);return mp(t).forEach(i=>{let r=this.pictureService.getPicture(i.replace(/^.*[\\\/]/,""));n.includes(r)||n.push(this.pictureService.getPicture(i.replace(/^.*[\\\/]/,"")))}),n}return[]}static \u0275fac=function(n){return new(n||e)(et(Zs),et(Bi))};static \u0275cmp=st({type:e,selectors:[["app-pictures-content"]],inputs:{details:"details"},decls:3,vars:1,consts:[[1,"rightColumn"],[1,"rowWrap"],["class","cell",4,"ngFor","ngForOf"],[1,"cell"],[1,"picture-image"],["mat-card-image","",3,"src","alt"]],template:function(n,i){n&1&&(je(0,"div",0)(1,"div",1),un(2,fye,3,2,"div",2),$e()()),n&2&&(ot(2),gt("ngForOf",i.pictures(i.details)))},dependencies:[bi,ac],styles:["app-pictures-content{display:flex;flex:1}.rightColumn[_ngcontent-%COMP%]{float:left;display:flex;flex:1 1 0;padding-left:20px}.rowWrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.cell[_ngcontent-%COMP%]{flex:1 1 49%}.picture-image[_ngcontent-%COMP%]{flex:1;padding:5px 2px 0}img[_ngcontent-%COMP%]{max-width:100%;height:auto;object-fit:cover;flex:initial}"]})};var pye=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="20px"
    viewBox="0 -960 960 960"
    width="20px"
    fill="#BD4C31"
  >
    <path
      d="M432-433ZM120-144q-29 0-50.5-21.5T48-216v-432q0-29 21.5-50.5T120-720h120l72-96h288v72H348l-72 96H120v432h624v-384h72v384q0 29-21.15 50.5T744-144H120Zm624-528v-72h-72v-72h72v-72h72v72h72v72h-72v72h-72ZM432-264q72 0 120-49t48-119q0-69-48-118.5T432-600q-72 0-120 49.5t-48 119q0 69.5 48 118.5t120 49Zm0-72q-42 0-69-28.13T336-433q0-39.9 27-67.45Q390-528 432-528t69 27.55q27 27.55 27 67.45 0 40.74-27 68.87Q474-336 432-336Z"
    />
  </svg>
`,mye=`
  <svg xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="#BD4C31"
  >
    <path
      d="M560-80v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T903-300L683-80H560Zm300-263-37-37 37 37ZM620-140h38l121-122-18-19-19-18-122 121v38ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v120h-80v-80H520v-200H240v640h240v80H240Zm280-400Zm241 199-19-18 37 37-18-19Z"
    />
  </svg>`,dE=class e{constructor(t,n,i){this.pictureService=t;this.dataStoreService=n;this.mapEventHandlers=i;let r=te(ty),o=te(xf);r.addSvgIconLiteral("add-photo",o.bypassSecurityTrustHtml(pye)),r.addSvgIconLiteral("edit-mode",o.bypassSecurityTrustHtml(mye))}details;location(t){return t?`longitude: ${t[Yd]} / latitude: ${t[Xd]}`:"longitude: unknown} / latitude: unknown"}uploadPicture(){document.querySelector("#uploadPicture").click()}editMode(t,n){t.stopPropagation(),this.dataStoreService.setSelectedData(n),this.dataStoreService.setEditMode(!0),this.mapEventHandlers.closePopup()}setNewPictureAsync(t){return Et(this,null,function*(){let n=v0(this.dataStoreService.getStore()).filter(r=>r[1]),i=pp(t);if(i)if(n.length===0)yield this.uploadNewPicture(i,t,XF);else for(let r of n){let o=r[0];i=t[o],(!i||!i.length)&&(i=pp(t)||""),yield this.uploadNewPicture(i,t,o)}})}uploadNewPicture(t,n,i){return Et(this,null,function*(){let r=document.querySelector("#uploadPicture");r.files&&t.length&&(yield this.pictureService.loadPictureAsync(r.files[0],t),this.dataStoreService.changeStoreData(Le(re({},n),{[i]:t})))})}static \u0275fac=function(n){return new(n||e)(et(Zs),et(Co),et(el))};static \u0275cmp=st({type:e,selectors:[["app-card-footer"]],inputs:{details:"details"},decls:12,vars:1,consts:[[1,"footer","row"],[1,"cellLeft"],["xmlns","http://www.w3.org/2000/svg","height","18px","viewBox","0 -960 960 960","width","18px","fill","#BD4C31"],["d","M360-440h80v-110h80v110h80v-190l-120-80-120 80v190Zm120 254q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"],[1,"cellRight"],["matIconButton","","aria-label","Photo icon",1,"upload-button",3,"click"],["svgIcon","edit-mode","aria-hidden","false","aria-label","Edit excel data"],["id","uploadPicture","type","file","accept","image/jpg",2,"display","none",3,"change"],["svgIcon","add-photo","aria-hidden","false","aria-label","Add photo SVG icon"]],template:function(n,i){n&1&&(je(0,"div",0)(1,"div",1),Iu(),je(2,"svg",2),kt(3,"path",3),$e(),Pm(),je(4,"span"),vn(5),$e()(),je(6,"div",4)(7,"button",5),jt("click",function(o){return i.editMode(o,i.details)}),kt(8,"mat-icon",6),$e(),je(9,"button",5),jt("click",function(){return i.uploadPicture()}),je(10,"input",7),jt("change",function(){return i.setNewPictureAsync(i.details)}),$e(),kt(11,"mat-icon",8),$e()()()),n&2&&(ot(5),po(i.location(i.details)))},dependencies:[bi,yl],styles:[".footer[_ngcontent-%COMP%]{font-size:x-small;padding:15px 0 5px;gap:10px;display:flex}.upload-button[_ngcontent-%COMP%]{padding:2px 1px 0 2px;cursor:pointer}.upload-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{max-height:14px;max-width:14px}.cellLeft[_ngcontent-%COMP%]{display:flex;flex:1 1 0;margin-left:10px;text-wrap:nowrap}.cellRight[_ngcontent-%COMP%]{display:flex;flex:1 1 0;flex-flow:row-reverse;margin-right:10px}"]})};var gye=(e,t,n)=>({small:e,medium:t,big:n});function vye(e,t){if(e&1&&kt(0,"app-pictures-content",5),e&2){let n=Zn(2);gt("details",n.details)}}function bye(e,t){if(e&1&&(je(0,"mat-card",1),kt(1,"app-card-header",2),je(2,"mat-card-content",3)(3,"div",4),kt(4,"app-excel-content",5),un(5,vye,1,1,"app-pictures-content",6),$e()(),je(6,"mat-card-footer"),kt(7,"app-card-footer",5),$e()()),e&2){let n=t.ngIf,i=Zn();gt("ngClass",qB(6,gye,n===1,n===2,n===3)),ot(),gt("details",i.details)("map",i.map),ot(3),gt("details",i.details),ot(),gt("ngIf",i.checkIfItHasPictures()),ot(2),gt("details",i.details)}}var uE=class e{constructor(t,n,i,r){this.ref=t;this.mapEventHandlers=n;this.changeDetectorRef=i;this.fontSizeService=r}map;details;checkIfItHasPictures(){return $$(this.details)}callback=t=>{this.details=t,this.changeDetectorRef.markForCheck()};ngOnInit(){this.map&&this.mapEventHandlers.assignClickHandler(this.map,this.callback,this.ref.nativeElement)}static \u0275fac=function(n){return new(n||e)(et(qt),et(el),et(Bi),et(w0))};static \u0275cmp=st({type:e,selectors:[["app-popup-house-card"]],inputs:{map:"map"},features:[gB([zm])],decls:2,vars:3,consts:[["class","house-card","appearance","raised",3,"ngClass",4,"ngIf"],["appearance","raised",1,"house-card",3,"ngClass"],[3,"details","map"],[1,"card-content"],[1,"columnsContainer"],[3,"details"],[3,"details",4,"ngIf"]],template:function(n,i){n&1&&(un(0,bye,8,10,"mat-card",0),k_(1,"async")),n&2&&gt("ngIf",A_(1,1,i.details&&i.fontSizeService.fontSize$))},dependencies:[iE,rq,sq,lq,vp,gq,fq,va,bi,zm,fa,ob,sE,aE,cE,dE],styles:[".house-card[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.small[_ngcontent-%COMP%]{font-size:10px;max-width:400px}.small[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:column}.medium[_ngcontent-%COMP%]{font-size:12px;max-width:500px}.medium[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:column}.big[_ngcontent-%COMP%]{font-size:16px;max-width:600px}.big[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:row}.columnsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1 1 50%}"],changeDetection:0})};function yye(e,t){}var C0=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var lP=(()=>{class e extends Nf{_elementRef=te(qt);_focusTrapFactory=te(Bk);_config;_interactivityChecker=te(cg);_ngZone=te(It);_overlayRef=te(Vf);_focusMonitor=te(pc);_renderer=te(xr);_platform=te(yi);_document=te(en,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=te(Bi);_injector=te($n);_isDestroyed=!1;constructor(){super(),this._config=te(C0,{optional:!0})||new C0,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let i=this._ariaLabelledByQueue.indexOf(n);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),i}attachTemplatePortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),i}attachDomPortal=n=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,i){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",r),s=this._renderer.listen(n,"mousedown",r)})),n.focus(i)}_focusByCssSelector(n,i){let r=this._elementRef.nativeElement.querySelector(n);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||Bs(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,i=null;if(typeof n=="string"?i=this._document.querySelector(n):typeof n=="boolean"?i=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(i=n),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=jb(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,i=jb();return n===i||n.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=jb()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&Qi(mg,7),i&2){let o;ci(o=di())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Si("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Nr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&un(0,yye,0,0,"ng-template",0)},dependencies:[mg],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})(),ow=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new yt;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,n){this.overlayRef=t,this.config=n,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!bl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},wye=new Ne("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=te(Ao);return()=>e.scrollStrategies.block()}}),Cye=new Ne("DialogData"),_ye=new Ne("DefaultDialogConfig");var yq=(()=>{class e{_overlay=te(Ao);_injector=te($n);_defaultOptions=te(_ye,{optional:!0});_parentDialog=te(e,{optional:!0,skipSelf:!0});_overlayContainer=te(Zb);_idGenerator=te($o);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new yt;_afterOpenedAtThisLevel=new yt;_ariaHiddenElements=new Map;_scrollStrategy=te(wye);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=dm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ro(void 0)));constructor(){}open(n,i){let r=this._defaultOptions||new C0;i=re(re({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new ow(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(n,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){aP(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(i=>i.id===n)}ngOnDestroy(){aP(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),aP(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let i=new Wu({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(i.backdropClass=n.backdropClass),i}_attachContainer(n,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:C0,useValue:r},{provide:ow,useValue:i},{provide:Vf,useValue:n}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=lP;let l=new xd(a,r.viewContainerRef,$n.create({parent:o||this._injector,providers:s}));return n.attach(l).instance}_attachDialogContent(n,i,r,o){if(n instanceof Os){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=re(re({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Sd(n,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new xd(n,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(n,i,r,o){let s=n.injector||n.viewContainerRef?.injector,a=[{provide:Cye,useValue:n.data},{provide:ow,useValue:i}];return n.providers&&(typeof n.providers=="function"?a.push(...n.providers(i,n,r)):a.push(...n.providers)),n.direction&&(!s||!s.get(Ga,null,{optional:!0}))&&a.push({provide:Ga,useValue:{value:n.direction,change:Gt()}}),$n.create({parent:s||o,providers:a})}_removeOpenDialog(n,i){let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let i=n.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aP(e,t){let n=e.length;for(;n--;)t(e[n])}function xye(e,t){}var wq="_mat-bottom-sheet-enter",Cq="_mat-bottom-sheet-exit",Sye=(()=>{class e extends lP{_breakpointSubscription;_animationsDisabled=te(_r,{optional:!0})==="NoopAnimations";_animationState="void";_animationStateChanged=new Fe;_destroyed;constructor(){super();let n=te(Pf);this._breakpointSubscription=n.observe([Lo.Medium,Lo.Large,Lo.XLarge]).subscribe(()=>{let i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",n.isMatched(Lo.Medium)),i.toggle("mat-bottom-sheet-container-large",n.isMatched(Lo.Large)),i.toggle("mat-bottom-sheet-container-xlarge",n.isMatched(Lo.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(wq))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(Cq))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(n){this._ngZone.run(()=>{this._handleAnimationEvent(!0,n),setTimeout(()=>this._handleAnimationEvent(!1,n))})}_handleAnimationEvent(n,i){let r=i===wq;(r||i===Cq)&&this._animationStateChanged.emit({toState:r?"visible":"hidden",phase:n?"start":"done"})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(i,r){i&1&&jt("animationstart",function(s){return r._handleAnimationEvent(!0,s.animationName)})("animationend",function(s){return r._handleAnimationEvent(!1,s.animationName)})("animationcancel",function(s){return r._handleAnimationEvent(!1,s.animationName)}),i&2&&(Si("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),Rn("mat-bottom-sheet-container-animations-enabled",!r._animationsDisabled)("mat-bottom-sheet-container-enter",r._animationState==="visible")("mat-bottom-sheet-container-exit",r._animationState==="hidden"))},features:[Nr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&un(0,xye,0,0,"ng-template",0)},dependencies:[mg],styles:["@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2})}return e})(),Eye=new Ne("MatBottomSheetData"),cP=class{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},_0=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new yt;_result;_closeFallbackTimeout;constructor(t,n,i){this._ref=t,this.containerInstance=i,this.disableClose=n.disableClose,i._animationStateChanged.pipe(Ln(r=>r.phase==="done"&&r.toState==="visible"),Jr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ln(r=>r.phase==="done"&&r.toState==="hidden"),Jr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),hl(this.backdropClick(),this.keydownEvents().pipe(Ln(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!bl(r))&&(r.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Ln(n=>n.phase==="start"),Jr(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},Dye=new Ne("mat-bottom-sheet-default-options"),_q=(()=>{class e{_overlay=te(Ao);_parentBottomSheet=te(e,{optional:!0,skipSelf:!0});_defaultOptions=te(Dye,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=te(yq);get _openedBottomSheetRef(){let n=this._parentBottomSheet;return n?n._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(n){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=n:this._bottomSheetRefAtThisLevel=n}constructor(){}open(n,i){let r=re(re({},this._defaultOptions||new cP),i),o;return this._dialog.open(n,Le(re({},r),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Sye,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,l)=>(o=new _0(s,r,l),[{provide:_0,useValue:o},{provide:Eye,useValue:r.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(n){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(n)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Rye(e,t){e&1&&kt(0,"div",2)}var Mye=new Ne("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Sq=(()=>{class e{_elementRef=te(qt);_ngZone=te(It);_changeDetectorRef=te(Bi);_renderer=te(xr);_cleanupTransitionEnd;_animationMode=te(_r,{optional:!0});constructor(){let n=te(Mye,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",n&&(n.color&&(this.color=this._defaultColor=n.color),this.mode=n.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";get value(){return this._value}set value(n){this._value=xq(n||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(n){this._bufferValue=xq(n||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Fe;get mode(){return this._mode}set mode(n){this._mode=n,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=n=>{this.animationEnd.observers.length===0||!n.target||!n.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(Si("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Vs("mat-"+r.color),Rn("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Hm],bufferValue:[2,"bufferValue","bufferValue",Hm],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(je(0,"div",0),kt(1,"div",1),un(2,Rye,1,0,"div",2),$e(),je(3,"div",3),kt(4,"span",4),$e(),je(5,"div",5),kt(6,"span",4),$e()),i&2&&(ot(),Va("flex-basis",r._getBufferBarFlexBasis()),ot(),Br(r.mode==="buffer"?2:-1),ot(),Va("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return e})();function xq(e,t=0,n=100){return Math.max(t,Math.min(n,e))}var hE=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn]})}return e})();function Iye(e,t){if(e&1&&(je(0,"section"),kt(1,"mat-progress-bar",1),$e()),e&2){let n=Zn();ot(),gt("mode",n.mode)("value",n.progress)}}var x0=class e{constructor(t){this.progressService=t}destroyRef=te(Zi);progress=0;mode="determinate";progressId;ngOnInit(){if(this.progressId){let t=this.progressService.getProgress().pipe(Ai(this.destroyRef),Ln(n=>Object.keys(n).length>0&&!!n[this.progressId])).subscribe(n=>{console.log(`Progress for ${this.progressId}`,n[this.progressId]),this.progress=n[this.progressId].value,this.mode=n[this.progressId].mode});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}}static \u0275fac=function(n){return new(n||e)(et(Fc))};static \u0275cmp=st({type:e,selectors:[["app-import-progress-bar"]],inputs:{progressId:"progressId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"mode","value"]],template:function(n,i){n&1&&un(0,Iye,2,2,"section",0),n&2&&gt("ngIf",i.progress||i.mode==="indeterminate")},dependencies:[hE,Sq,bi,fa],encapsulation:2})};var fE=class e{constructor(t,n){this.pictureService=t;this.progressService=n}progressId=Pc;uploadFiles(t){return Et(this,null,function*(){let n=Array.from(t.target.files);this.progressService.setProgressMode(Pc,"determinate"),this.progressService.setMaxCount(Pc,n.length),yield this.pictureService.loadPictures(n,this.progressService)})}static \u0275fac=function(n){return new(n||e)(et(Zs),et(Fc))};static \u0275cmp=st({type:e,selectors:[["app-upload-multiple-files"]],decls:4,vars:1,consts:[["fileInput",""],[1,"upload-button"],["id","multipleFileInput","type","file","accept","image/png, image/jpeg, application/JSON","multiple","",3,"change","click"],[3,"progressId"]],template:function(n,i){if(n&1){let r=qr();je(0,"div",1)(1,"input",2,0),jt("change",function(s){return _i(r),xi(i.uploadFiles(s))})("click",function(){_i(r);let s=fo(2);return xi(s.value="")}),$e(),kt(3,"app-import-progress-bar",3),$e()}n&2&&(ot(3),gt("progressId",i.progressId))},dependencies:[hE,x0,bi],styles:[".upload-button[_ngcontent-%COMP%]{width:auto;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:8px 0 0;transition:.3s;display:inline-block;text-decoration:none;border-radius:4px}.upload-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}.upload-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{cursor:pointer}"]})};var Eq=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[bn]})}return e})();var Mq=yu(Dq());Sr();var kye="https://photon.komoot.io/api/";function Rq(){return new hP}var hP=class e{responses={};outstandingRequests=[];getParameters(t){return console.log("OsOpenNamesSearch.getParameters",t),this.outstandingRequests.push(t.query),{url:kye,params:{q:t.query,limit:t.limit||1,lang:"en"}}}handleResponse(t){let n=this.outstandingRequests.shift()||"error";if(this.responses[n]=t.features,console.log("OsOpenNamesSearch.handleResponse",t,n),t&&t.features&&t.features.length!==0)return t.features.map(r=>({lon:r.geometry.coordinates[0],lat:r.geometry.coordinates[1],address:{name:r.properties.name,postcode:r.properties.postcode,city:r.properties.city,state:r.properties.state,country:r.properties.country,road:r.properties.street,house_number:r.properties.housenumber},original:{formatted:r.properties.name,details:Le(re({},r.properties),{query:n})}}));let i=`No address found for "${n}", please verify address in your excel sheet`;return[{lon:0,lat:0,address:{},original:{details:{error:i,query:n}}}]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var xh=class e{showSearchInput=!1;setVisibility(t){this.showSearchInput=t,this.showHideSearchInput()}toggleVisibility(){this.showSearchInput=!this.showSearchInput,this.showHideSearchInput()}getVisibility(){return this.showSearchInput}showHideSearchInput(){let t=document.getElementsByClassName("ol-geocoder")[0];t&&(t.classList.remove("visible","hidden"),t.classList.add(this.showSearchInput?"visible":"hidden"))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var Oc=class e{subject;toast$;constructor(){this.subject=new ki(null),this.toast$=this.subject.asObservable().pipe(Ln(t=>t!==null))}show(t,n,i,r){this.subject.next({type:t,title:n,body:i,delay:r})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var mE=class e{locked=!1;waiters=[];acquire(){return Et(this,null,function*(){if(!this.locked){this.locked=!0;return}return new Promise(t=>{this.waiters.push(t)}).then(()=>{this.locked=!0})})}release(){if(this.waiters.length>0){let t=this.waiters.shift();t&&t()}else this.locked=!1}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var fP="addresschosen",Tq=[5.4808,52.2211],Sh=class e{constructor(t,n,i,r,o){this.dataStoreService=t;this.toaster=n;this.progressService=i;this.markers=r;this.semaphore=o;this.photonProvider=Rq(),this.keyboardInput$.subscribe(()=>this.switchAddressChosenHandler(this.searchInputService.getVisibility())),console.log("GeoCoderService initialized")}keyboardInput$=of(window,"click").pipe(Ln(t=>t.target instanceof HTMLImageElement),Ai());map;zoomLevelSingleMarker;responses={};geoCoder;photonProvider;defaultAddressHandler;activeAddressHandler;searchInputService=te(xh);progressCallback;geocoderCreator(t,n){return this.map=t,this.zoomLevelSingleMarker=n,this.defaultAddressHandler=this.handleAddressChosen(this.responses),this.activeAddressHandler=this.defaultAddressHandler,this.geoCoder=new Mq.default("nominatim",{provider:this.photonProvider,placeholder:"Search for ...",targetType:"text-input",limit:1,keepOpen:!0,target:document.body,preventDefault:!0,debug:!0}),this.geoCoder.on(fP,this.activeAddressHandler),this.geoCoder}setProgressCallback(t){this.progressCallback=t}handleAddressChosen(t){return n=>Et(this,null,function*(){if(n.address.original.details.error)this.toaster.show("error",n.address.original.details.error,[],3e5);else{let{postcode:i,street:r,housenumber:o,city:s,query:a}=n.address.original.details,[l,d]=this.dataStoreService.findByApproach(i,o,r,s,a);d&&this.toaster.show("warning",d,[],0),l&&(this.dataStoreService.updateGeoPosition(l[ro],n.place.lon,n.place.lat,JSON.stringify({postcode:i,street:r,housenumber:o,city:s,query:a})),this.markers.setupMap(l[ro],n.place.lon,n.place.lat,cp(l),l[wh],this.map.getView())),console.log("responses",t)}this.progressCallback!==void 0&&(yield this.progressCallback()),this.semaphore.release()})}searchAddressChosen(){return t=>Et(this,null,function*(){if(t.address.original.details.error)this.toaster.show("error",`No address found for "${t.address.original.details.query}", please enter another address`,[],3e5),yield this.progressService.increaseProgressByStep(oo);else{let{postcode:n,street:i,housenumber:r,city:o}=t.address.original.details,s=[t.place.lon,t.place.lat];(this.dataStoreService.get({[yh]:i,[Pl]:r,[Ac]:o})||this.dataStoreService.getByAddr(`${i} ${r} ${o}`))&&(this.markers.addMarker(tw,s,`${i?.length?i+" ":""}${r} ${o}, ${n}`),this.zoomInOnCoordinates(s))}})}showLoadingSpinner(t){t?this.map.getTargetElement().classList.add("spinner"):this.map.getTargetElement().classList.remove("spinner")}delayedZoomInOnCoordinates(t){setTimeout(()=>{this.map.getView().animate({center:ms(t),zoom:this.markers.zoomLevelSingleMarker})},1e3)}zoomInOnCoordinates(t){this.map.getView().animate({center:ms(t),zoom:15})}getView(){return this.map.getView()}switchAddressChosenHandler(t){this.geoCoder&&(this.geoCoder.un(fP,this.activeAddressHandler),t?(this.activeAddressHandler=this.searchAddressChosen(),this.geoCoder.options.limit=5):(this.activeAddressHandler=this.defaultAddressHandler,this.geoCoder.options.limit=1),this.geoCoder.on(fP,this.activeAddressHandler))}requestLocationAsync(t){return Et(this,null,function*(){let n=document.querySelector(".gcd-txt-result"),i=document.querySelector(".gcd-txt-input"),r=document.querySelector(".gcd-txt-search");if(n&&i&&r){try{let o=this.observeSearchInputForErrors(i),[s,a,l,d]=g0(t);i.value=`${s??""} ${a}, ${l}, ${d}`.replaceAll(",,",",").replaceAll("  "," "),console.log("search street map for",i.value),yield this.semaphore.acquire(),r.click(),o.disconnect()}catch(o){this.searchForErrorHandler(o.message)}return}})}observeSearchInputForErrors(t){let n=t.value,i=document.querySelector(".gcd-txt-result");if(i){let r=new MutationObserver(o=>{o.forEach(s=>Et(this,null,function*(){s.target.textContent?.startsWith("Error")&&(yield this.searchForErrorHandler(`${s.target.textContent}, while searching for "${n}". Refresh page and start over!`))}))});return r.observe(i,{attributes:!0,childList:!0,characterData:!0}),r}throw new Error("Something went wrong, please refresh page!")}searchForErrorHandler(t){return Et(this,null,function*(){this.toaster.show("error",t,[],3e5),yield this.progressService.increaseProgressByStep(oo),this.semaphore.release()})}static \u0275fac=function(n){return new(n||e)(Rt(Co),Rt(Oc),Rt(Fc),Rt(_h),Rt(mE))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var sw=yu(kq()),Fq=yu(Aq());var bP="LocationInfo",S0=class e{constructor(t){this.toaster=t}workbook_creator="MyGeoLocation";workbook_lastModifiedBy="MyGeoLocation";workbook_created=new Date;workbook_modified=new Date;workbook_lastPrinted=new Date;workbook_views=[];workbook_properties_date1904=!0;sheet_properties=[];generateExcel(t,n,i){return Et(this,null,function*(){let[r,o]=this.splitStoreDataToSheetData(t),s=this.groupDataPerSheet(r),a=yield this.createWorkBook(s,i);this.setWorkbookProperties(a),yield this.addSheetToWorkbook(a,bP,o,[]),yield this.writeWorkBook(a,n)})}importExcelFile(t,n,i){return Et(this,null,function*(){let r=new sw.Workbook,o=yield t.arrayBuffer();yield r.xlsx.load(o);let s=this.readAllImagesFromWorkbook(r);return this.getWorkbookProperties(r),r.eachSheet(a=>{if(!a.getRow(1).cellCount)return;let l=this.readDataFromWorkSheet(a,s,i);this.validateHeaders(l)&&(l.forEach(c=>{a.name!=="LocationInfo"&&(c[Qy]=a.name)}),n=X2(l,n))}),n})}convertImageToBase64(t){let n=new Uint8Array(t.buffer),i="";for(let a=0;a<n.length;a++)i+=String.fromCharCode(n[a]);return`data:image/jpeg;base64,${btoa(i)}`}ConvertBase64ToBufferImage(t){let i=t.replace(/data\:image\/(jpeg|jpg|png)\;base64\,/gi,""),r=atob(i),o=[];for(let d=0;d<r.length;d+=512){let c=r.slice(d,d+512),u=new Array(c.length);for(let p=0;p<c.length;p++)u[p]=c.charCodeAt(p);let h=new Uint8Array(u);o.push(h)}let s=o.reduce((d,c)=>d+c.length,0),a=new Uint8Array(s),l=0;for(let d of o)a.set(d,l),l+=d.length;return a}readAllImagesFromWorkbook(t){let n=[];return t.model.media.forEach(i=>{i.buffer&&n.push(this.convertImageToBase64(i))}),n}readDataFromWorkSheet(t,n,i){let r=[],o=t.getRow(1),s=[];o.eachCell(d=>{s.push(d.text)});let a=s.findIndex(d=>hp.includes(d)),l=t.getImages().map(d=>({imageId:d.imageId,nativeRow:d.range.tl.nativeRow,nativeCol:d.range.tl.nativeCol,ext:d.range.ext}));return l.length||n.reverse(),t.eachRow((d,c)=>{if(c==1)return;let u={[ro]:c.toString()};d.eachCell((h,p)=>{let f=h.text,m,g="image corrupted?";if(f.toUpperCase()==="#VALUE!"||h.model.type===sw.ValueType.RichText&&typeof h.value=="object"&&h.value!==null&&"richText"in h.value&&Array.isArray(h.value.richText)&&h.value.richText.find(v=>v.font?.color?.argb==="FFFFFFFF"))if(l.length){let v=l.find(w=>w.nativeRow===c-1&&w.nativeCol===p-1);if(v&&a>=0)m=n[Number(v.imageId)];else if(a>=0){let w=n.findIndex((E,T)=>!l.some(F=>F.imageId===T.toString()));w>=0&&(m=n[w],n.splice(w,1),l.forEach(E=>{Number(E.imageId)>w&&(E.imageId=(Number(E.imageId)-1).toString())}))}}else m=n.pop();m?(g=d.getCell(a+1)+".jpg",i.storePicture(m,g),u[s[p-1]]=g):u[s[p-1]]=f}),r.push(u)}),r}validateHeaders(t){return t.some(n=>{let i=kc(n);return i.length===1&&i[0]||i.length>=3})}createWorkBook(t,n){return Et(this,null,function*(){let i=new sw.Workbook,r=yield this.addImagesToWorkbook(i,n);for(let o in t)yield this.addSheetToWorkbook(i,o,t[o],r);return i})}addSheetToWorkbook(t,n,i,r){return Et(this,null,function*(){let o=t.addWorksheet(n),s=v0(i).map(l=>l[0]);o.addRow(s),o.columns=s.map(l=>({header:l,key:l}));let a=Object.values(i).map(l=>{let d=re({},l);return Object.keys(d).forEach(c=>{!isNaN(Number(l[c]))&&(d[c]=Number(l[c]))}),d});o.addRows(a),this.addImagesToSheet(o,i,r)})}writeWorkBook(t,n){return Et(this,null,function*(){yield t.xlsx.writeBuffer().then(i=>Fq.saveAs(new Blob([i]),n)).catch(i=>this.toaster.show("error",`Failed to export excel document due to: ${i.message}`))})}splitStoreDataToSheetData(t){return t.reduce((n,i)=>{let r=mp(i),w=i,{id:o,geoPositionInfo:s,longitude:a,latitude:l,error:d}=w,c=da(w,["id","geoPositionInfo","longitude","latitude","error"]),u={};r.forEach(E=>{E in c&&(u[E]=c[E],delete c[E])});let h=c;n[0].push(h);let[p,f,m,g,v]=kc(h);return n[1].push(Le(re(re(re(re(re({id:o},h[m]?{[m]:h[m]}:{}),h[v]?{[v]:h[v]}:{}),h[g]?{[g]:h[g]}:{}),h[f]?{[f]:h[f]}:{}),h[p]?{[p]:h[p]}:{}),{geoPositionInfo:s,longitude:a,latitude:l,error:d})),n},[[],[]])}groupDataPerSheet(t){let n={};return t.forEach(i=>{let r=i[Qy]||"Sheet1";n[r]||(n[r]=[]);let a=i,{sheetName:o}=a,s=da(a,["sheetName"]);n[r].push(s)}),n}addImagesToWorkbook(t,n){return Et(this,null,function*(){let i=[],r=n.getPicturesStore();for(let o in r){let s=new Image;s.src=r[o],yield s.decode(),i.push({[o]:{imageId:t.addImage({base64:r[o],extension:"jpeg"}),width:s.width,height:s.height}})}return i})}addImagesToSheet(t,n,i){t.rowCount===n.length+1&&n.forEach((r,o)=>{let s=pp(r);if(s){let a=Object.keys(r).findIndex(d=>r[d]?.toLowerCase()===s),l=i.find(d=>Object.keys(d)[0]===s);if(l&&a>=0){let d=Object.values(l)[0],c=t.getCell(o+2,a+1);c.value={richText:[{text:s,font:{size:1,color:{argb:"FFFFFFFF"}}}]},c.style=Le(re({},c.style),{numFmt:";;;"}),t.addImage(d.imageId,{tl:{col:a,row:o+1},ext:{width:t.properties.defaultRowHeight*(d.width/d.height),height:t.properties.defaultRowHeight},editAs:void 0})}}})}getWorkbookProperties(t){this.workbook_creator=t.creator,this.workbook_lastModifiedBy=t.lastModifiedBy,this.workbook_created=t.created,this.workbook_modified=t.modified,this.workbook_lastPrinted=t.lastPrinted,this.workbook_views=t.views,this.workbook_properties_date1904=t.properties.date1904,this.sheet_properties=[],t.eachSheet(n=>{n.name!==bP&&this.sheet_properties.push({name:n.name,autoFilter:n.autoFilter,headerFooter:n.headerFooter,pageSetup:n.pageSetup,properties:n.properties,state:n.state,tables:n.getTables().map(i=>i[0]),views:n.views,header:n.getRow(1)})})}setWorkbookProperties(t){t.creator=this.workbook_creator,t.lastModifiedBy=this.workbook_lastModifiedBy,t.created=this.workbook_created,t.modified=this.workbook_modified,t.lastPrinted=this.workbook_lastPrinted,t.properties.date1904=this.workbook_properties_date1904,t.views=[Le(re({},this.workbook_views[0]),{firstSheet:0,activeTab:0,visibility:"visible"})],this.sheet_properties.forEach((n,i)=>{if(n.name!==bP){let r=t.worksheets[i];n.autoFilter&&(r.autoFilter=n.autoFilter),r.headerFooter=n.headerFooter,r.pageSetup=n.pageSetup,r.properties=n.properties,r.state=n.state,n.tables.forEach(s=>r.addTable(s)),r.views=n.views;let o=r.getRow(1);o&&o.eachCell((s,a)=>{a<=n.header.cellCount&&(s.value=n.header.getCell(a).value??s.value,s.style=n.header.getCell(a).style,s.font=n.header.getCell(a).font)})}})}static \u0275fac=function(n){return new(n||e)(Rt(Oc))};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var gE=class e{constructor(t,n,i,r,o,s,a){this.dataStoreService=t;this.progressService=n;this.excelService=i;this.pictureService=r;this.geoCoderService=o;this.markers=s;this.toaster=a}progressId=oo;excelData=[];isGeocodeHandlingFinished=void 0;_bottomSheetRef=te(_0);isDataStoreLoaded=void 0;arePicturesLoaded=void 0;destroyRef=te(Zi);ngOnInit(){let t=this.progressService.getProgress().pipe(Ai(this.destroyRef)).subscribe(()=>{this.isDataStoreLoaded===void 0?this.progressService.isProgressRunning(oo)&&(this.isDataStoreLoaded=!1):this.isDataStoreLoaded===!1&&(this.isDataStoreLoaded=!this.progressService.isProgressRunning(oo)),this.arePicturesLoaded===void 0?this.progressService.isProgressRunning(Pc)&&(this.arePicturesLoaded=!1):this.arePicturesLoaded===!1&&(this.arePicturesLoaded=!this.progressService.isProgressRunning(Pc)),this.isDataStoreLoaded&&this.arePicturesLoaded&&(this.closeLink(),t.unsubscribe()),this.progressService.currentProgress(oo)?.count>1&&this.progressService.setProgressMode(oo,"determinate")}),n=this.watchForPictureChanges();this.destroyRef.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}ngAfterViewInit(){let t=this.progressService.getProgress().pipe(xC(n=>!n[oo]||n[oo].value!==100,!0),Ln(n=>Object.keys(n).length>0&&!!n[oo])).subscribe(n=>{n[oo].value===100&&(this.dataStoreService.commit(),this.geoCoderService.delayedZoomInOnCoordinates(Tq))});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}watchForPictureChanges(){return this.pictureService.pictureStore$.pipe(Ai(this.destroyRef)).subscribe(t=>{Object.keys(t).length>0&&(this.dataStoreService.syncDataStoreWithPictures(t,this.dataStoreService.getStore()),this.dataStoreService.commit())})}setupMarkersAndUpdateDataWithLocationAndPictures(t){return Et(this,null,function*(){let n=0,i=0,r=[],o=l=>{n=Number(l[Yd]),i=Number(l[Xd]),this.markers.setupMap(l[ro],n,i,cp(l),l[wh],this.geoCoderService.getView())},s=l=>{Object.keys(l).filter(c=>fp(c)).forEach(c=>this.pictureService.storePicture(l[c],c))},a=l=>Et(this,null,function*(){let[d,c,u]=g0(l);try{yield this.geoCoderService.requestLocationAsync(l)}catch{r.push(`${u}, ${d}, ${c}`)}});for(let l of t)q$(l)?(o(l),s(l),yield this.progressService.increaseProgressByStep(oo)):yield a(l);r.length&&this.toaster.show("error",`${r.length} location request(s) failed for following address(es)`,r,6e5)})}closeLink(){setTimeout(()=>{this._bottomSheetRef.dismiss()},1e3)}onFileChange(t){let n=t.target.files[0];this.progressService.setProgressMode(oo,"indeterminate"),this.progressService.setMaxCount(oo,1),this.excelService.importExcelFile(n,this.excelData,this.pictureService).then(i=>{this.excelData=i,this.dataStoreService.store(this.excelData,this.pictureService.getPicturesStore());let r=this.dataStoreService.getStore();this.progressService.setMaxCount(oo,r.length),this.geoCoderService.setProgressCallback(()=>Et(this,null,function*(){return yield this.progressService.increaseProgressByStep(oo)})),this.setupMarkersAndUpdateDataWithLocationAndPictures(r)},i=>console.log(i))}static \u0275fac=function(n){return new(n||e)(et(Co),et(Fc),et(S0),et(Zs),et(Sh),et(_h),et(Oc))};static \u0275cmp=st({type:e,selectors:[["app-bottom-file-selection-sheet"]],decls:11,vars:1,consts:[["fileInput",""],[1,"content"],[1,"import-button"],["type","file","accept",".xlsx, .xls",3,"change","click"],[3,"progressId"]],template:function(n,i){if(n&1){let r=qr();je(0,"div",1)(1,"span"),vn(2,"Select excel sheet with your information about houses"),$e(),je(3,"div",2)(4,"input",3,0),jt("change",function(s){return _i(r),xi(i.onFileChange(s))})("click",function(){_i(r);let s=fo(5);return xi(s.value="")}),$e(),kt(6,"app-import-progress-bar",4),$e(),je(7,"div",1)(8,"span"),vn(9,"Select all images you have used in your excel sheet"),$e(),kt(10,"app-upload-multiple-files"),$e()()}n&2&&(ot(6),gt("progressId",i.progressId))},dependencies:[fE,x0,bi,gS,va,Eq],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;align-items:center;padding-top:8px}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]{width:auto;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:8px 0 0;transition:.3s;display:inline-block;text-decoration:none;border-radius:4px}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{cursor:pointer}.spinner-icon[_ngcontent-%COMP%]{vertical-align:bottom}"]})};var vE=class extends Rr{constructor(t={}){let n=te(xh),i=document.createElement("button");i.innerHTML=`<img style="height: 1em;" src="assets/folder-plus-circle.svg" alt="^" title="Select your import files (excel/foto's) to show on the map" />`;let r=document.createElement("div");r.className="import-files ol-unselectable ol-control",r.appendChild(i),super({element:r,target:t.target});let o=te(_q),s=()=>{n.setVisibility(!1),o.open(gE)};i.addEventListener("click",s.bind(this),!1),s()}};var bE=class e{createJson(t){return JSON.stringify(t,null,2)}saveJsonFile(t,n){let i=new Blob([t],{type:"application/json"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=n,o.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pq="exportedMap",yE=class extends Rr{dataStoreService;excelService;jsonCreatorService;loadPictureService;constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-export-excel-24.png" alt="v" title="Export converted excel sheet, containing location information" />';let r=document.createElement("div");r.className="export-file ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),this.dataStoreService=te(Co),this.excelService=te(S0),this.jsonCreatorService=te(bE),this.loadPictureService=te(Zs);let o=()=>Et(this,null,function*(){let s=this.dataStoreService.getStore();if(s.length>0){let a=s.map(l=>{let d=mp(l),c={};return d.length>0&&d.forEach(u=>{let h=this.loadPictureService.getPicture(u);h!==u&&(c=Le(re({},c),{[u]:h}))}),re(re({},l),c)});yield this.excelService.generateExcel(a,Pq+".xlsx",this.loadPictureService),this.jsonCreatorService.saveJsonFile(this.jsonCreatorService.createJson(this.loadPictureService.getPicturesStore()),Pq+".json")}});i.addEventListener("click",o.bind(this),!1)}};Sr();var wE=class extends Rr{constructor(t={}){let i=t.element;super(t),i.addEventListener("click",()=>{let r=document.querySelector(".gcd-txt-input");if(r&&r.checkVisibility({visibilityProperty:!0})){let o=document.querySelector('[src="assets/icons8-magnifier-50.png"]');o&&o.click()}})}};var CE=class extends wE{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/location_searching_24dp.png" alt="v" title="Center map on Nijkerk" />';let r=document.createElement("div");r.className="center-map ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target});let o=()=>{let s=this.getMap();s&&s.getView().animate({center:ms([5.4808,52.2211]),zoom:11})};i.addEventListener("click",o.bind(this),!1)}};var Oye=["tooltip_info"],_E=class e{constructor(t){this.mapEventHandlers=t}map;tooltipInfo;ngAfterViewInit(){this.mapEventHandlers.assignTooltipHandlers(this.map,this.tooltipInfo.nativeElement)}static \u0275fac=function(n){return new(n||e)(et(el))};static \u0275cmp=st({type:e,selectors:[["app-tooltip-info-component"]],viewQuery:function(n,i){if(n&1&&Qi(Oye,5),n&2){let r;ci(r=di())&&(i.tooltipInfo=r.first)}},inputs:{map:"map"},decls:2,vars:0,consts:[["tooltip_info",""],[1,"info"]],template:function(n,i){n&1&&kt(0,"div",1,0)},styles:[".info[_ngcontent-%COMP%]{position:absolute;display:inline-block;height:auto;width:auto;z-index:100;background-color:#333;color:#fff;text-align:center;border-radius:4px;padding:5px;left:50%;transform:translate(3%);visibility:hidden;pointer-events:none}"]})};var xE=class extends Rr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-magnifier-50.png" alt="v" title="Search location" />';let r=document.createElement("div");r.className="magnifier ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),i.addEventListener("click",n.callback.bind(this),!1)}};var SE=class extends Rr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/table_edit_24dp.png" alt="v" title="Edit excel" />';let r=document.createElement("div");r.className="edit-excel ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),i.addEventListener("click",n.callback.bind(this),!1)}};var EE=class e{constructor(t,n,i,r,o,s){this.dataStoreService=t;this.renderer=n;this.searchInputService=i;this.mapEventHandlers=r;this.markers=o;this.geoCoderService=s;this.destroyRef=te(Zi),Pu(()=>{this.renderer.addClass(document.getElementsByClassName("ol-geocoder")[0],this.searchInputService.getVisibility()?"visible":"hidden")})}map;destroyRef;fileImportControl=new vE;exportFileControl=new yE;centerControl=new CE;searchControl=new xE({callback:()=>this.showSearchControl()});editExcelControl=new SE({callback:t=>this.showExcelGrid(t)});ngOnInit(){this.initializeMap()}showSearchControl(){this.searchInputService.toggleVisibility();let t=document.getElementById("gcd-input-query");t&&(t.value="")}showExcelGrid(t){t.stopPropagation(),this.dataStoreService.setSelectedData(void 0),this.dataStoreService.setEditMode(!0),this.mapEventHandlers.closePopup()}initializeMap=()=>{let t=new Xf({target:"attribution"});return this.map=new I2({controls:Zf({attribution:!1}).extend([t,this.fileImportControl,this.exportFileControl,this.centerControl,this.searchControl,this.editExcelControl]),target:"map",view:new Yo({center:ms([0,0])}),layers:[new B2({source:new $y})]}),this.map.on("loadstart",()=>{this.geoCoderService.showLoadingSpinner(!0)}),this.map.on("loadend",()=>{this.geoCoderService.showLoadingSpinner(!1)}),this.markers.initializeMarkers(this.map),this.map.addControl(this.geoCoderService.geocoderCreator(this.map,this.markers.zoomLevelSingleMarker)),this.map};static \u0275fac=function(n){return new(n||e)(et(Co),et(xr),et(xh),et(el),et(_h),et(Sh))};static \u0275cmp=st({type:e,selectors:[["app-houses-map"]],decls:4,vars:3,consts:[[1,"main"],[3,"map"]],template:function(n,i){n&1&&(je(0,"div",0),kt(1,"app-ol-map",1)(2,"app-tooltip-info-component",1)(3,"app-popup-house-card",1),$e()),n&2&&(ot(),gt("map",i.map),ot(),gt("map",i.map),ot(),gt("map",i.map))},dependencies:[uE,f0,_E],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%;width:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1 1 auto}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:40px;height:40px;margin-top:-20px;margin-left:-20px;border-radius:50%;border:5px solid rgba(180,180,180,.6);border-top-color:#0009;animation:_ngcontent-%COMP%_spinner .6s linear infinite}  .import-files{top:65px;left:.5em}  .ol-touch .import-files{top:80px}  .export-file{top:90px;left:.5em}  .ol-touch .export-file{top:115px}  .center-map{top:115px;left:.5em}  .ol-touch .center-map{top:150px}  .magnifier{top:140px;left:.5em}  .ol-touch .magnifier{top:185px}  .edit-excel{top:165px;left:.5em}  .ol-touch .edit-excel{top:220px}']})};function Lye(e,t){if(e&1&&(je(0,"li",5),vn(1),$e()),e&2){let n=t.$implicit;ot(),po(n)}}var DE=class e{toast;index;remove=new Fe;stopPropagation(t){t.stopPropagation()}close(t){t.stopPropagation(),this.remove.emit(this.index)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["app-toaster"]],inputs:{toast:"toast",index:"index"},outputs:{remove:"remove"},decls:7,vars:5,consts:[["tabindex","0",3,"click","keyup.enter"],[1,"toast-heading"],[1,"body-container"],["class","body",4,"ngFor","ngForOf"],["tabindex","{0}","role","button",1,"close",3,"click","keypress"],[1,"body"]],template:function(n,i){n&1&&(je(0,"div",0),jt("click",function(o){return i.stopPropagation(o)})("keyup.enter",function(o){return i.stopPropagation(o)}),je(1,"h4",1),vn(2),$e(),je(3,"ul",2),un(4,Lye,2,1,"li",3),$e(),je(5,"a",4),jt("click",function(o){return i.close(o)})("keypress",function(o){return i.close(o)}),vn(6,"\xD7"),$e()()),n&2&&(BB("toast toast-",i.toast.type,""),ot(2),po(i.toast.title),ot(2),gt("ngForOf",i.toast.body))},dependencies:[bi,ac],styles:[".toast[_ngcontent-%COMP%]{position:relative;left:12px;width:400px;min-height:80px;max-height:200px;padding:.75rem 1.25rem;margin-top:1rem;border:1px solid transparent;border-radius:.25rem;animation:_ngcontent-%COMP%_move 2s both}.body-container[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;overflow-x:hidden;scrollbar-color:black transparent}.body[_ngcontent-%COMP%]{font-weight:700;list-style-type:none}.toast-success[_ngcontent-%COMP%]{color:#fff;background-color:#02ea0280;box-shadow:5px 5px 10px gray}.toast-error[_ngcontent-%COMP%]{color:#000000b0;background-color:#ff000080;box-shadow:5px 5px 10px gray}.toast-warning[_ngcontent-%COMP%]{color:#856404;background-color:#ffb20080;box-shadow:5px 5px 10px gray}.close[_ngcontent-%COMP%]{position:absolute;top:7px;right:10px;font-size:1.5em;cursor:pointer}.toast-heading[_ngcontent-%COMP%]{margin-top:10px}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(100%)}to{transform:translate(0)}}"]})};function Nye(e,t){if(e&1){let n=qr();je(0,"app-toaster",2),jt("remove",function(r){_i(n);let o=Zn();return xi(o.remove(r))}),$e()}if(e&2){let n=t.$implicit,i=t.index;gt("toast",n)("index",i)}}var RE=class e{constructor(t){this.toaster=t;this.toaster.toast$.pipe(Ai()).subscribe(n=>{this.toasts=[n,...this.toasts],n.delay&&setTimeout(()=>this.toasts.pop(),n.delay||6e3)})}toasts=[];remove(t){this.toasts=this.toasts.filter((n,i)=>i!==t)}static \u0275fac=function(n){return new(n||e)(et(Oc))};static \u0275cmp=st({type:e,selectors:[["app-toaster-container"]],decls:2,vars:1,consts:[[1,"toaster-container"],[3,"toast","index","remove",4,"ngFor","ngForOf"],[3,"remove","toast","index"]],template:function(n,i){n&1&&(je(0,"div",0),un(1,Nye,1,2,"app-toaster",1),$e()),n&2&&(ot(),gt("ngForOf",i.toasts))},dependencies:[DE,bi,ac],styles:[".toaster-container[_ngcontent-%COMP%]{background-color:transparent;opacity:1;bottom:20px;width:480px;height:fit-content;max-height:calc(100vh - 40px);padding-bottom:20px;z-index:200;position:absolute;top:10px;right:10px;overflow-y:auto;overflow-x:hidden}"]})};var Mp=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){let i=t?this.allAsyncListeners:this.allSyncListeners,r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){let i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let n=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let{frameworkOverrides:i}=this,r=a=>{let l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},o=this.getListeners(n,t,!1);if((o?.size??0)>0){let a=new Set(o);for(let l of a)o?.has(l)&&r(()=>l(e))}let s=this.getGlobalListeners(t);if(s.size>0){let a=new Set(s);for(let l of a)r(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function Bye(e,t){return t}function I8(e){return e?.getLocaleTextFunc()??Bye}function Vye(e,t,n,i){let r=t[n];return e.getLocaleTextFunc()(n,typeof r=="function"?r(i):r,i)}function Jd(e){return e==null||e===""?null:e}function ut(e){return e!=null&&e!==""}function er(e){return!ut(e)}function XP(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ww(e,t){let n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function Hye(e,t,n=!1){let i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!n)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var HK=new Set(["__proto__","constructor","prototype"]);function zye(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(let n of Object.keys(e))t(n,e[n])}}function _s(e,t,n=!0,i=!1){ut(t)&&zye(t,(r,o)=>{if(HK.has(r))return;let s=e[r];s!==o&&(i&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[r]=s),Oq(o)&&Oq(s)&&!Array.isArray(s)?_s(s,o,n,i):(n||o!==void 0)&&(e[r]=o))})}function pw(e,t,n){if(!t||!e)return;if(!n)return e[t];let i=t.split("."),r=e;for(let o=0;o<i.length;o++){if(r==null)return;r=r[i[o]]}return r}function Oq(e){return typeof e=="object"&&e!==null}var jye=(()=>{let e=class bp{static applyGlobalGridOptions(n){if(!bp.gridOptions)return re({},n);let i={};return _s(i,bp.gridOptions,!0,!0),bp.mergeStrategy==="deep"?_s(i,n,!0,!0):i=re(re({},i),n),bp.gridOptions.context&&(i.context=bp.gridOptions.context),n.context&&(bp.mergeStrategy==="deep"&&i.context&&_s(n.context,i.context,!0,!0),i.context=n.context),i}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),Gye=jye;var Uye={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Wc(e,t,n){n==null||typeof n=="string"&&n==""?zK(e,t):sl(e,t,n)}function sl(e,t,n){e.setAttribute(jK(t),n.toString())}function zK(e,t){e.removeAttribute(jK(t))}function jK(e){return`aria-${e}`}function Ah(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Wye(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function $ye(e){return e.getAttribute("aria-label")}function G0(e,t){Wc(e,"label",t)}function Cw(e,t){Wc(e,"labelledby",t)}function GK(e,t){Wc(e,"live",t)}function qye(e,t){Wc(e,"atomic",t)}function Kye(e,t){Wc(e,"relevant",t)}function Yye(e,t){Wc(e,"invalid",t)}function Xye(e,t){Wc(e,"disabled",t)}function UK(e,t){Wc(e,"hidden",t)}function ZP(e,t){sl(e,"expanded",t)}function Zye(e,t){sl(e,"setsize",t)}function Qye(e,t){sl(e,"posinset",t)}function Jye(e,t){sl(e,"multiselectable",t)}function ewe(e,t){sl(e,"rowcount",t)}function k8(e,t){sl(e,"rowindex",t)}function twe(e,t){sl(e,"rowspan",t)}function nwe(e,t){sl(e,"colcount",t)}function WK(e,t){sl(e,"colindex",t)}function iwe(e,t){sl(e,"colspan",t)}function rwe(e,t){sl(e,"sort",t)}function owe(e){zK(e,"sort")}function QP(e,t){Wc(e,"selected",t)}function swe(e,t){Wc(e,"controls",t)}function awe(e,t){swe(e,t.id),Cw(t,e.id)}function A8(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var yP,wP,CP,_P,JP,e8,xP;function Fp(){return yP===void 0&&(yP=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yP}function $K(){return wP===void 0&&(wP=/(firefox)/i.test(navigator.userAgent)),wP}function qK(){return CP===void 0&&(CP=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),CP}function Cp(){return _P===void 0&&(_P=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),_P}function t8(e){if(!e)return null;let t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!$K())?null:t.toString()}function lwe(){if(xP!==void 0)return xP;if(!document.body)return-1;let e=1e6,t=$K()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){let i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),xP=e,e}function cwe(){return e8==null&&KK(),e8}function KK(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(e8=n,JP=n===0)}function YK(){return JP==null&&KK(),JP}var dwe="[tabindex], input, select, button, textarea, [href]",XK="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function F8(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,XK),o=Nl(e);return i&&!r&&o}function nr(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||UK(e,!t)}function uwe(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||UK(e,!t)}function _w(e,t){let n="disabled",i=t?o=>o.setAttribute(n,""):o=>o.removeAttribute(n);i(e);let r=e.querySelectorAll("input")??[];for(let o of r)i(o)}function _p(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function Pp(e){let{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:d,paddingLeft:c,marginTop:u,marginRight:h,marginBottom:p,marginLeft:f,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(f||"0"),boxSizing:m}}function P8(e){let t=Pp(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function xw(e){let t=Pp(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function ZK(e){let{height:t,marginBottom:n,marginTop:i}=Pp(e);return Math.floor(t+n+i)}function KE(e){let{width:t,marginLeft:n,marginRight:i}=Pp(e);return Math.floor(t+n+i)}function QK(e){let t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:o}=Pp(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(o||0)}}function YE(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function XE(e,t,n){n&&(t*=-1),e.scrollLeft=t}function ts(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Cs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function JK(e){return!!e.offsetParent}function Nl(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!JK(e)||window.getComputedStyle(e).visibility!=="visible")}function O8(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function eY(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function tY(e,t){for(let n=0;n<t.length;n++){let i=t[n],r=e.children[n];r!==i&&e.insertBefore(i,r)}}function hwe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function Pw(e,t){if(t)for(let n of Object.keys(t)){let i=t[n];if(!n||!n.length||i==null)continue;let r=hwe(n),o=i.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;e.style.setProperty(r,s,a)}}function HE(e){return()=>{let t=e();return t?nY(t):!0}}function nY(e){return e.clientWidth<e.scrollWidth}function fwe(e){return e.clientHeight<e.scrollHeight}function ZE(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):zc(e,t)}function zc(e,t){t=L8(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function mw(e,t){t=L8(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function L8(e){return typeof e=="number"?`${e}px`:e}function N8(e){return e instanceof Node||e instanceof HTMLElement}function Sa(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function Nh(e,t,n){let r=hY(e).ResizeObserver,o=r?new r(n):null;return o?.observe(t),()=>o?.disconnect()}function ru(e,t){let n=hY(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var iY="data-ref",SP;function Lq(){return SP??(SP=document.createTextNode(" ")),SP.cloneNode()}function $i(e){let{attrs:t,children:n,cls:i,ref:r,role:o,tag:s}=e,a=document.createElement(s);if(i&&(a.className=i),r&&a.setAttribute(iY,r),o&&a.setAttribute("role",o),t)for(let l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(let d of n)d&&(typeof d=="string"?(a.appendChild(document.createTextNode(d)),l=!1):typeof d=="function"?a.appendChild(d()):(l&&(a.appendChild(Lq()),l=!1),a.append($i(d)),a.appendChild(Lq())))}return a}var Nq={};function B8(e,t){Nq[t]||(e(),Nq[t]=!0)}function Fh(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function k0(e,...t){B8(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function A0(e,...t){B8(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var pwe={pending:!1,funcs:[]},mwe={pending:!1,funcs:[]};function n8(e,t="setTimeout",n){let i=t==="raf"?mwe:pwe;if(i.funcs.push(e),i.pending)return;i.pending=!0;let r=()=>{let o=i.funcs.slice();i.funcs.length=0,i.pending=!1,o.forEach(s=>s())};t==="raf"?ru(n,r):window.setTimeout(r,0)}function No(e,t,n){let i;return function(...r){let o=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(o,r)},n)}}function Bq(e,t){let n=0;return function(...i){let r=this,o=Date.now();o-n<t||(n=o,e.apply(r,i))}}function gwe(e,t,n=100,i){let r=Date.now(),o=null,s=!1,a=()=>{let l=Date.now()-r>n;(e()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&i&&k0(i))};a(),s||(o=window.setInterval(a,10))}var rY="https://www.ag-grid.com",pt="34.0.0",Vq=2e3,Hq=100,oY="_version_",sY=null,vwe=!1,F0=`${rY}/javascript-data-grid`;function bwe(e){sY=e}function ywe(e){F0=e}function aY(e,t,n){return sY?.getConsoleMessage(e,t)??[xwe(e,t,n)]}function V8(e,t,n,i){vwe||e(`error #${t}`,...aY(t,n,i))}function wwe(e){if(!e)return String(e);let t={};for(let n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function Cwe(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=wwe(e)),t}function QE(e){return e===void 0?"undefined":e===null?"null":e}function i8(e,t){return`${e}?${t.toString()}`}function _we(e,t,n){let i=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length),r=i8(e,t);for(let[o,s]of i){if(o===oY)continue;let a=r.length-n;if(a<=0)break;let l="...",d=a+l.length,c=s.length-d>Hq?s.slice(0,s.length-d)+l:s.slice(0,Hq)+l;t.set(o,c),r=i8(e,t)}return r}function lY(e,t){let n=new URLSearchParams;if(n.append(oY,pt),t)for(let o of Object.keys(t))n.append(o,Cwe(t[o]));let i=`${F0}/errors/${e}`,r=i8(i,n);return r.length<=Vq?r:_we(i,n,Vq)}var xwe=(e,t,n)=>{let i=lY(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function it(...e){V8(k0,e[0],e[1])}function Ti(...e){V8(A0,e[0],e[1])}function hw(e,t,n){V8(A0,e,t,n)}function Swe(e,t){let n=t[0];return`error #${n} `+aY(n,t[1],e).join(" ")}function jc(...e){return Swe(void 0,e)}function cY(e,t){return e.get("rowModelType")===t}function so(e,t){return cY(e,"clientSide")}function K0(e,t){return cY(e,"serverSide")}function Bo(e,t){return e.get("domLayout")===t}function xp(e){return e3(e)!==void 0}function dY(e){return typeof e.get("getRowHeight")=="function"}function Ewe(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Ph(e,t,n=!1,i){let{gos:r,environment:o}=e;if(i==null&&(i=o.getDefaultRowHeight()),dY(r)){if(n)return{height:i,estimated:!0};let l={node:t,data:t.data},d=r.getCallback("getRowHeight")(l);if(r8(d))return d===0&&it(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&r.get("masterDetail"))return Dwe(r);let s=r.get("rowHeight");return{height:s&&r8(s)?s:i,estimated:!1}}function Dwe(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return r8(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Sp(e){let{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||er(i))return t.getDefaultRowHeight();let r=t.refreshRowHeightVariable();return r!==-1?r:(it(24),t.getDefaultRowHeight())}function r8(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function uY(e,t,n){let i=t[e.getDomDataKey()];return i?i[n]:void 0}function Tp(e,t,n,i){let r=e.getDomDataKey(),o=t[r];er(o)&&(o={},t[r]=o),o[n]=i}function xo(e){let{gos:t,eGridDiv:n}=e,i=null,r=t.get("getDocument");return r&&ut(r)?i=r():n&&(i=n.ownerDocument),i&&ut(i)?i:document}function hY(e){return xo(e).defaultView||window}function Sw(e){return e.eGridDiv.getRootNode()}function lr(e){return Sw(e).activeElement}function H8(e){let t=null,n=null;try{t=xo(e).fullscreenElement}catch{}finally{t||(t=Sw(e));let i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function Rwe(e){return H8(e)?.clientWidth??(window.innerHeight||-1)}function Mwe(e){return H8(e)?.clientHeight??(window.innerHeight||-1)}function Twe(e,t,n){let r=e.getBoundingClientRect().height,o=Rwe(n)-2,s=Mwe(n)-2;if(!e.offsetParent)return;let l=QK(e.offsetParent),{clientY:d,clientX:c}=t,u=d-l.top-r/2,h=c-l.left-10,p=xo(n),f=p.defaultView||window,m=f.pageYOffset||p.documentElement.scrollTop,g=f.pageXOffset||p.documentElement.scrollLeft;o>0&&h+e.clientWidth>o+g&&(h=o+g-e.clientWidth),h<0&&(h=0),s>0&&u+e.clientHeight>s+m&&(u=s+m-e.clientHeight),u<0&&(u=0),e.style.left=`${h}px`,e.style.top=`${u}px`}function fY(e){let t=lr(e);return t===null||t===xo(e).body}function P0(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function pY(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Bo(e,"print"))}function Bc(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function o8(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function mY(e){return e.get("grandTotalRow")}function gY(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function vY(e,t,n){return!!t.group&&!t.footer&&gY(e,n)}function U0(e){let t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(B8(()=>it(25,{id:i}),"getRowIdString"),i=String(i)),i}}function Iwe(e,t){let n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function kwe(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function O0(e){return e?.checkboxes??!0}function zE(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function JE(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function EP(e){return e?.hideDisabledCheckboxes??!1}function Awe(e){return typeof e.get("rowSelection")!="string"}function nu(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function bY(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Fwe(e){let t=bY(e);return t===!0||t==="enableSelection"}function Pwe(e){let t=bY(e);return t===!0||t==="enableDeselection"}function s8(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function e3(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Ew(e){return e3(e)==="multiRow"}function Owe(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function t3(e){let t=e.get("rowSelection");if(typeof t=="string"){let n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function yY(e,t=!0){let n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Dw(e){let t=t3(e);return t==="descendants"||t==="filteredDescendants"}function zq(e){let t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Lwe(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function xa(e){return e.get("columnMenu")==="legacy"}function Nwe(e){return!xa(e)}function Bwe(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function wY(e,t,n){typeof e!="object"&&(e={});let i=re({},e);return n.forEach(r=>{let o=t[r];typeof o<"u"&&(i[r]=o)}),i}function CY(e,t){if(!e)return;let n={},i=!1;if(Object.keys(e).forEach(s=>{n[s]=e[s],i=!0}),!i)return;let r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);let o=re({type:"componentStateChanged"},n);t.dispatchEvent(o)}function Zt(e,t){return e.addGridCommonParams(t)}function _Y(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var xY="__ag_Grid_Stop_Propagation",Vwe=["touchstart","touchend","touchmove","touchcancel","scroll"],Hwe=["wheel"],DP={};function Ip(e){e[xY]=!0}function eu(e){return e[xY]===!0}var SY=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof DP[n]=="boolean")return DP[n];let i=document.createElement(e[n]||"div");return n="on"+n,DP[n]=n in i}})();function EY(e,t,n){let i=t;for(;i;){let r=uY(e,i,n);if(r)return r;i=i.parentElement}return null}function zwe(e,t){return!t||!e?!1:Gwe(t).indexOf(e)>=0}function jwe(e){let t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function Gwe(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():jwe(t)}function Uwe(e,t,n,i){let r=DY(n),o;r!=null&&(o={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,o)}var DY=e=>{let t=Vwe.includes(e),n=Hwe.includes(e);if(t)return!0;if(n)return!1},Be=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Mp),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let n=[];for(let i of Object.keys(t)){let r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return Wwe(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?Uwe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){let{gos:n}=this;n.addPropertyEventListener(e,t);let i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}let o={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(o)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return I8(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Wwe(e){return e.__addEventListener!==void 0}var $we=/[&<>"']/g,qwe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Y0(e){return e?.toString().toString()??null}function jE(e){return Y0(e)?.replace($we,t=>qwe[t])??null}var Kwe={resizable:!0,sortable:!0},Ywe=0;function RY(){return Ywe++}function iu(e){return e instanceof b3}var b3=class extends Be{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=RY(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Mp,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=jE(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);let r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){let i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ut(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ut(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Zt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Kwe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Zt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return er(this.sort)}isSorting(){return ut(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return it(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Zt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(er(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(er(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){let i=this.createColumnEvent(e,t);n&&_s(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function es(e){return e instanceof GE}var GE=class extends Be{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=RY(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(let t of this.children)iu(t)?e(t):es(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{iu(t)?e.push(t):es(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding();for(let o=0,s=i.length;o<s;o++){let a=i[o];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}let r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=n=>{n.forEach(i=>{es(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Xwe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function jq(e,t,n){let i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var Zwe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=XP(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){let r=String(i);return e&&n>0&&it(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},n3=Object.freeze([]);function Mi(e){if(e?.length)return e[e.length-1]}function Op(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function ME(e,t){if(e)for(let n of e)t(n)}function ol(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}function Gq(e,t,n){for(let i=0;i<t.length;i++)ol(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var y3="ag-Grid-AutoColumn",MY="ag-Grid-SelectionColumn",TY="ag-Grid-RowNumbersColumn";function IY(e){let t=[],n=i=>{for(let r=0;r<i.length;r++){let o=i[r];iu(o)?t.push(o):es(o)&&n(o.getChildren())}};return n(e),t}function Zd(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function i3(e,t,n){let i={};if(!t)return;tu(null,t,o=>{i[o.getInstanceId()]=o}),n&&tu(null,n,o=>{i[o.getInstanceId()]=null});let r=Object.values(i).filter(o=>o!=null);e.context.destroyBeans(r)}function z8(e){return e.getId().startsWith(y3)}function Lp(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(MY)??!1}function Ep(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(TY)??!1}function r3(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Qwe(e,t){return Op(e,t,(n,i)=>n.getColId()===i.getColId())}function Jwe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function L0(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function kY(e,t){let n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var e1e=(e,t)=>(n,i)=>{let r={value1:void 0,value2:void 0},o=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],o=!0),ut(i)&&e[i]!==void 0&&(r.value2=e[i],o=!0)),!o&&t&&(t[n]!==void 0&&(r.value1=t[n]),ut(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function t1e(e,t=null,n,i,r){let o=new Zwe,{existingCols:s,existingGroups:a,existingColKeys:l}=n1e(i);o.addExistingKeys(l);let d=AY(e,t,0,n,s,o,a,r),{colGroupSvc:c}=e,u=c?.findMaxDepth(d,0)??0,h=c?c.balanceColumnTree(d,0,u,o):d;return tu(null,h,(f,m)=>{es(f)&&f.setupExpandable(),f.originalParent=m}),{columnTree:h,treeDepth:u}}function n1e(e){let t=[],n=[],i=[];return e&&tu(null,e,r=>{if(es(r)){let o=r;n.push(o)}else{let o=r;i.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function AY(e,t,n,i,r,o,s,a){if(!t)return[];let{colGroupSvc:l}=e,d=new Array(t.length);for(let c=0;c<d.length;c++){let u=t[c];l&&l1e(u)?d[c]=l.createProvidedColumnGroup(i,u,n,r,o,s,a):d[c]=i1e(e,i,u,r,o,a)}return d}function i1e(e,t,n,i,r,o){let s=o1e(n,i);s&&i?.splice(s.idx,1);let a=s?.column;if(a){let l=a8(e,n,a.getColId());a.setColDef(l,n,o),r1e(e,a,l,o)}else{let l=r.getUniqueKey(n.colId,n.field),d=a8(e,n,l);a=new b3(d,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function FY(e,t,n,i,r,o,s,a){let{sortSvc:l,pinnedCols:d,colFlex:c}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),o!==void 0&&d?.setColPinned(t,o),s!==void 0&&c?.setColFlex(t,s)}function r1e(e,t,n,i){FY(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);let r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{let o=t.getActualWidth();t.setActualWidth(o,i)}}function o1e(e,t){if(t)for(let n=0;n<t.length;n++){let i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function a8(e,t,n,i){let{gos:r,dataTypeSvc:o}=e,s={},a=r.get("defaultColDef");_s(s,a,!1,!0);let l=s1e(e,s,t,n);l&&a1e(e,l,s),_s(s,t,!1,!0);let d=r.get("autoGroupColumnDef"),c=Bc(r);return t.rowGroup&&d&&c&&_s(s,{sort:d.sort,initialSort:d.initialSort},!1,!0),o&&(o.postProcess(s),o.validateColDef(s)),r.validateColDef(s,n,i),s}function s1e(e,t,n,i){let r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),o=n.type??r??t.type;return t.type=o,o?r3(o):void 0}function a1e(e,t,n){if(!t.length)return;let i=Object.assign({},Xwe),r=e.gos.get("columnTypes")||{};for(let o of Object.keys(r)){let s=r[o];o in i?it(34,{key:o}):(s.type&&it(35),i[o]=s)}t.forEach(o=>{let s=i[o.trim()];s?_s(n,s,!1,!0):it(36,{t:o})})}function l1e(e){return e.children!==void 0}function tu(e,t,n){if(t)for(let i=0;i<t.length;i++){let r=t[i];es(r)&&tu(r,r.getChildren(),n),n(r,e)}}function PY(e,t){let n=[],i=[],r=[];return e.forEach(s=>{let a=s.getColDef().lockPosition;a==="right"?r.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function OY(e,t){let n=!0;return tu(null,t,i=>{if(!es(i))return;let r=i,o=r.getColGroupDef();if(!(o&&o.marryChildren))return;let a=[];r.getLeafColumns().forEach(h=>{let p=e.indexOf(h);a.push(p)});let l=Math.max.apply(Math,a),d=Math.min.apply(Math,a),c=l-d,u=r.getLeafColumns().length-1;c>u&&(n=!1)}),n}function LY(e,t){if(!e||e.length==0)return;let n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function NY(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=LY(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function c1e(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=LY(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function d1e(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function W0(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function Ll(e,t,n){let{colModel:i,rowGroupColsSvc:r,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:d,pivotResultCols:c,environment:u,valueColsSvc:h,eventSvc:p,gos:f}=e,m=i.getColDefCols()??[],g=a?.getColumns();if(!m?.length&&!g?.length)return!1;if(t?.state&&!t.state.forEach)return it(32),!1;let v=(F,k,L,V,j)=>{if(!F)return;let z=e1e(k,t.defaultState),R=z("flex").value1;if(FY(e,F,z("hide").value1,z("sort").value1,z("sortIndex").value1,z("pinned").value1,R,n),R==null){let I=z("width").value1;if(I!=null){let N=F.getColDef().minWidth??u.getDefaultColumnMinWidth();N!=null&&I>=N&&F.setActualWidth(I,n)}}j||!F.isPrimary()||(h?.syncColumnWithState(F,n,z),r?.syncColumnWithState(F,n,z,L),o?.syncColumnWithState(F,n,z,V))},w=(F,k,L)=>{let V=BY(e,n),j=k.slice(),z={},R={},I=[],N=[],b=[],C=0,x=r?.columns.slice()??[],_=o?.columns.slice()??[];F.forEach(O=>{let U=O.colId;if(U.startsWith(y3)){I.push(O),b.push(O);return}if(Lp(U)){N.push(O),b.push(O);return}let Y=L(U);Y?(v(Y,O,z,R,!1),ol(j,Y)):(b.push(O),C+=1)});let D=O=>v(O,null,z,R,!1);j.forEach(D),r?.sortColumns(Uq.bind(r,z,x)),o?.sortColumns(Uq.bind(o,R,_)),i.refreshCols(!1);let M=(O,U,G=[])=>{U.forEach(Y=>{let B=O(Y.colId);ol(G,B),v(B,Y,null,null,!0)}),G.forEach(D)};return M(O=>s?.getColumn(O)??null,I,s?.getColumns()?.slice()),M(O=>a?.getColumn(O)??null,N,a?.getColumns()?.slice()),h1e(t,i,f),d.refresh(n),p.dispatchEvent({type:"columnEverythingChanged",source:n}),V(),{unmatchedAndAutoStates:b,unmatchedCount:C}};l?.start();let{unmatchedAndAutoStates:E,unmatchedCount:T}=w(t.state||[],m,F=>i.getColDefCol(F));if(E.length>0||ut(t.defaultState)){let F=c?.getPivotResultCols()?.list??[];T=w(E,F,k=>c?.getPivotResultCol(k)??null).unmatchedCount}return l?.finish(),T===0}function u1e(e,t){let{colModel:n,autoColSvc:i,selectionColSvc:r,eventSvc:o,gos:s}=e,a=n.getColDefCols();if(!a?.length)return;let l=n.getColDefColTree(),d=IY(l),c=[],u=1e3,h=1e3,p=w=>{let E=VY(w);er(E.rowGroupIndex)&&E.rowGroup&&(E.rowGroupIndex=u++),er(E.pivotIndex)&&E.pivot&&(E.pivotIndex=h++),c.push(E)};i?.getColumns()?.forEach(p),r?.getColumns()?.forEach(p),d?.forEach(p),Ll(e,{state:c},t);let f=i?.getColumns()??[],v=[...r?.getColumns()??[],...f,...a].map(w=>({colId:w.colId}));Ll(e,{state:v,applyOrder:!0},t),o.dispatchEvent(Zt(s,{type:"columnsReset",source:t}))}function BY(e,t){let{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},d=o3(e),c={};return d.forEach(u=>{c[u.colId]=u}),()=>{let u=(k,L,V,j)=>{let z=L.map(j),R=V.map(j);if(Op(z,R))return;let N=new Set(L);V.forEach(C=>{N.delete(C)||N.add(C)});let b=[...N];a.dispatchEvent({type:k,columns:b,column:b.length===1?b[0]:null,source:t})},h=k=>{let L=[];return o.forAllCols(V=>{let j=c[V.getColId()];j&&k(j,V)&&L.push(V)}),L},p=k=>k.getColId();u("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],p),u("columnPivotChanged",l.pivotColumns,i?.columns??[],p);let m=h((k,L)=>{let V=k.aggFunc!=null,j=V!=L.isValueActive(),z=V&&k.aggFunc!=L.getAggFunc();return j||z});m.length>0&&d1e(a,"columnValueChanged",m,t),W0(a,h((k,L)=>k.width!=L.getActualWidth()),!0,t),NY(a,h((k,L)=>k.pinned!=L.getPinned()),t),c1e(a,h((k,L)=>k.hide==L.isVisible()),t);let T=h((k,L)=>k.sort!=L.getSort()||k.sortIndex!=L.getSortIndex());T.length>0&&s?.dispatchSortChangedEvents(t,T);let F=o3(e);p1e(d,F,t,o,a)}}function o3(e){let{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(er(r)||!t.isAlive())return[];let o=n?.columns,s=i?.columns,a=[],l=c=>{let u=c.isRowGroupActive()&&o?o.indexOf(c):null,h=c.isPivotActive()&&s?s.indexOf(c):null,p=c.isValueActive()?c.getAggFunc():null,f=c.getSort()!=null?c.getSort():null,m=c.getSortIndex()!=null?c.getSortIndex():null;a.push({colId:c.getColId(),width:c.getActualWidth(),hide:!c.isVisible(),pinned:c.getPinned(),sort:f,sortIndex:m,aggFunc:p,rowGroup:c.isRowGroupActive(),rowGroupIndex:u,pivot:c.isPivotActive(),pivotIndex:h,flex:c.getFlex()??null})};t.forAllCols(c=>l(c));let d=new Map(t.getCols().map((c,u)=>[c.getColId(),u]));return a.sort((c,u)=>{let h=d.has(c.colId)?d.get(c.colId):-1,p=d.has(u.colId)?d.get(u.colId):-1;return h-p}),a}function VY(e){let t=(f,m)=>f??m??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex),d=t(n.rowGroupIndex,n.initialRowGroupIndex),c=t(n.rowGroup,n.initialRowGroup);d==null&&(c==null||c==!1)&&(d=null,c=null);let u=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:o,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:d,pivot:h,pivotIndex:u,aggFunc:p}}function h1e(e,t,n){if(!e.applyOrder||!e.state)return;let i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),f1e(t.cols,i,t,n)}function f1e(e,t,n,i){if(e==null)return;let r=[],o={};t.forEach(a=>{if(o[a])return;let l=e.map[a];l&&(r.push(l),o[a]=!0)});let s=0;if(e.list.forEach(a=>{let l=a.getColId();if(o[l]!=null)return;l.startsWith(y3)?r.splice(s++,0,a):r.push(a)}),r=PY(r,i),!OY(r,n.getColTree())){it(39);return}e.list=r}function p1e(e,t,n,i,r){let o={};t.forEach(c=>o[c.colId]=c);let s={};e.forEach(c=>{o[c.colId]&&(s[c.colId]=!0)});let a=e.filter(c=>s[c.colId]),l=t.filter(c=>s[c.colId]),d=[];l.forEach((c,u)=>{let h=a&&a[u];if(h&&h.colId!==c.colId){let p=i.getCol(h.colId);p&&d.push(p)}}),d.length&&r.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var Uq=(e,t,n,i)=>{let r=e[n.getId()],o=e[i.getId()],s=r!=null,a=o!=null;if(s&&a)return r-o;if(s)return-1;if(a)return 1;let l=t.indexOf(n),d=t.indexOf(i),c=l>=0,u=d>=0;return c&&u?l-d:c?-1:1},m1e=class extends Be{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(L0(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),L0(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,colViewport:l,eventSvc:d}=t,c=this.colDefs?BY(t,e):void 0;n?.expire();let u=this.colDefCols?.list,h=this.colDefCols?.tree,p=t1e(t,this.colDefs,!0,h,e);i3(t,this.colDefCols?.tree,p.columnTree);let f=p.columnTree,m=p.treeDepth,g=IY(f),v={};g.forEach(w=>v[w.getId()]=w),this.colDefCols={tree:f,treeDepth:m,list:g,map:v},r?.extractCols(e,u),o?.extractCols(e,u),s?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),d.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:o,pivotResultCols:s,showRowGroupCols:a,rowAutoHeight:l,visibleCols:d,colViewport:c,eventSvc:u}=this.beans,h=this.selectCols(s,this.colDefCols);this.createColumnsForService([n,i,r],h);let p=Ewe(this.gos,this.showingPivotResult);(!e||p)&&this.restoreColOrder(h),this.positionLockedCols(h),a?.refresh(),o?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(h),d.clear(),c.clear(),!Op(t,this.cols.tree)&&u.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(let n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){let n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;let{map:i,list:r,tree:o,treeDepth:s}=n??t;return this.cols={list:r.slice(),map:re({},i),tree:o.slice(),treeDepth:s},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(i=>{let r=z8(i);if(e){let o=t?.includes(i);return r||o}else return r||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Ll(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let n=t.filter(u=>e.map[u.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}let i=u=>{let h=u.getOriginalParent();return h?h.getChildren().length>1?!0:i(h):!1};if(!n.some(u=>i(u))){let u=new Set(n);for(let h of e.list)u.has(h)||n.push(h);e.list=n;return}let r=new Map;for(let u=0;u<n.length;u++){let h=n[u];r.set(h,u)}let o=e.list.filter(u=>!r.has(u));if(o.length===0){e.list=n;return}let s=(u,h)=>{let p=h?h.getOriginalParent():u.getOriginalParent();if(!p)return null;let f=null,m=null;for(let g of p.getChildren())if(!(g===h||g===u)){if(g instanceof b3){let v=r.get(g);if(v==null)continue;(f==null||f<v)&&(f=v,m=g);continue}g.forEachLeafColumn(v=>{let w=r.get(v);w!=null&&(f==null||f<w)&&(f=w,m=v)})}return m??s(u,p)},a=[],l=new Map;for(let u of o){let h=s(u,null);if(h==null){a.push(u);continue}let p=l.get(h);p===void 0?l.set(h,u):Array.isArray(p)?p.push(u):l.set(h,[p,u])}let d=new Array(e.list.length),c=d.length-1;for(let u=a.length-1;u>=0;u--)d[c--]=a[u];for(let u=n.length-1;u>=0;u--){let h=n[u],p=l.get(h);if(p)if(Array.isArray(p))for(let f=p.length-1;f>=0;f--){let m=p[f];d[c--]=m}else d[c--]=p;d[c--]=h}e.list=d}positionLockedCols(e){e.list=PY(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=L0(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){i3(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;ME(this.colDefCols?.list,e),ME(n?.columns?.list,e),ME(i?.columns?.list,e),ME(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;let{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(kY(i[r],e))return i[r];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}};var HY=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function Ow(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var zY=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){let i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},g1e=0,ft=null,ri=class extends Be{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=g1e++,this.cssManager=new zY(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(iY):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let r=this[t];if(r===ft)this[t]=i??e;else{let o=n&&n[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){let n=[];for(let i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;let r=this.createComponentFromElement(i,o=>{let s=o.getGui();if(s)for(let a of i.attributes??[])s.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);let o=Array.prototype.slice.call(i.children);r.addItems(o)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){let i=e.nodeName,r=this.getDataRefAttribute(e),o=i.indexOf("AG-")===0,s=o?this.componentSelectors.get(i):null,a=null;if(s){let l=n&&r?n[r]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){let i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=O8(e):i=$i(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){let o=t[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),N8(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=t;uwe(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=t;nr(this.eGui,e,{skipAriaHidden:n});let i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function jY(e){return typeof e=="object"&&!!e.component}var br=class fw{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new fw(n=>{let i=t.length,r=new Array(i);t.forEach((o,s)=>{o.then(a=>{r[s]=a,i--,i===0&&n(r)})})}):fw.resolve()}static resolve(t=null){return new fw(n=>n(t))}then(t){return new fw(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function v1e(e){return e?e.prototype&&"getGui"in e.prototype:!1}function GY(e,t,n,i){let{name:r}=n,o,s,a,l,d,c;if(t){let u=t,h=u[r+"Selector"],p=h?h(i):null,f=m=>{typeof m=="string"?o=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?a=m:s=m)};p?(f(p.component),l=p.params,d=p.popup,c=p.popupPosition):f(u[r])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:d,popupPositionFromSelector:c}}var b1e=class extends Be{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){let{name:o,cellRenderer:s}=t,{compName:a,jsComp:l,fwComp:d,paramsFromSelector:c,popupFromSelector:u,popupPositionFromSelector:h}=GY(this.beans.frameworkOverrides,e,t,i),p,f,m=E=>{let T=this.registry.getUserComponent(o,E);T&&(l=T.componentFromFramework?void 0:T.component,d=T.componentFromFramework?T.component:void 0,p=T.params,f=T.processParams)};if(a!=null&&m(a),l==null&&d==null&&n!=null&&m(n),l&&s&&!v1e(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!d){let{validation:E}=this.beans;r&&(a!==n||!n)?a?E?.isProvidedUserComp(a)||Ti(50,{compName:a}):n?E||Ti(260,Le(re({},this.gos.getModuleErrorParams()),{propName:o,compName:n})):Ti(216,{name:o}):n&&!E&&Ti(146,{comp:n});return}let g=this.mergeParams(e,t,i,c,p,f),v=l==null,w=l??d;return{componentFromFramework:v,componentClass:w,params:g,type:t,popupFromSelector:u,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(w,v,g,t)}}newAgStackInstance(e,t,n,i){let r=!t,o;r?o=new e:o=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(o);let s=o.init?.(n);return s==null?br.resolve(o):s.then(()=>o)}mergeParams(e,t,n,i=null,r,o){let s=re(re({},n),r),a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){let d=l(n);_s(s,d)}else typeof l=="object"&&_s(s,l);return _s(s,i),o?o(s):s}},y1e={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},w1e={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},C1e={name:"headerComponent",optionalMethods:["refresh"]},_1e={name:"innerHeaderComponent"},x1e={name:"innerHeaderGroupComponent"},S1e={name:"headerGroupComponent"};var E1e={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var D1e={name:"loadingCellRenderer",cellRenderer:!0},R1e={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},M1e={name:"loadingOverlayComponent",optionalMethods:["refresh"]},T1e={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},I1e={name:"tooltipComponent"},j8={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},k1e={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},A1e={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},F1e={name:"loadingCellRenderer",cellRenderer:!0},P1e={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},O1e={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function L1e(e,t){return e.getCompDetailsFromGridOptions(w1e,"agDragAndDropImage",t,!0)}function N1e(e,t,n){return e.getCompDetails(t,C1e,"agColumnHeader",n)}function B1e(e,t,n){return e.getCompDetails(t,_1e,void 0,n)}function V1e(e,t){let n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,S1e,"agColumnGroupHeader",t)}function H1e(e,t,n){return e.getCompDetails(t,x1e,void 0,n)}function z1e(e,t){return e.getCompDetailsFromGridOptions(A1e,void 0,t,!0)}function j1e(e,t){return e.getCompDetailsFromGridOptions(F1e,"agLoadingCellRenderer",t,!0)}function G1e(e,t){return e.getCompDetailsFromGridOptions(P1e,"agGroupRowRenderer",t,!0)}function U1e(e,t){return e.getCompDetailsFromGridOptions(O1e,"agDetailCellRenderer",t,!0)}function Wq(e,t,n){return e.getCompDetails(t,E1e,void 0,n)}function $q(e,t,n){return e.getCompDetails(t,D1e,"agSkeletonCellRenderer",n,!0)}function UY(e,t,n){return e.getCompDetails(t,R1e,"agCellEditor",n,!0)}function W1e(e,t,n,i){let r=t.filter;return jY(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,j8,i,n,!0)}function $1e(e,t,n){return e.getCompDetails(t,y1e,"agDateInput",n,!0)}function q1e(e,t){return e.getCompDetailsFromGridOptions(M1e,"agLoadingOverlay",t,!0)}function K1e(e,t){return e.getCompDetailsFromGridOptions(T1e,"agNoRowsOverlay",t,!0)}function Y1e(e,t){return e.getCompDetails(t.colDef,I1e,"agTooltipComponent",t,!0)}function X1e(e,t,n,i){return e.getCompDetails(t,k1e,i,n)}function WY(e,t){return GY(e,t,j8)}function RP(e,t,n){return e.mergeParams(t,j8,n)}function Rw(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var $Y=new Set,s3={},N0={},UE,qY=!1,KY=!1,Z1e=!1;function Q1e(e){let[t,n]=e.version.split(".")||[],[i,r]=UE.split(".")||[];return t===i&&n===r}function J1e(e){UE||(UE=e.version);let t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?Q1e(e)||A0(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${UE}.`)):A0(t(`'${e.moduleName}' is incompatible.`)),e.validate){let n=e.validate();n.isValid||A0(`${n.message}`)}}function Mw(e,t,n=!1){n||(qY=!0),J1e(e);let i=e.rowModels??["all"];$Y.add(e);let r;t!==void 0?(KY=!0,N0[t]===void 0&&(N0[t]={}),r=N0[t]):r=s3,i.forEach(o=>{r[o]===void 0&&(r[o]={}),r[o][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(o=>Mw(o,t,n))}function eCe(e){delete N0[e]}function l8(e,t,n){let i=r=>!!s3[r]?.[e]||!!N0[t]?.[r]?.[e];return i(n)||i("all")}function G8(){return KY}function tCe(e,t){let n=N0[e]??{};return[...Object.values(s3.all??{}),...Object.values(n.all??{}),...Object.values(s3[t]??{}),...Object.values(n[t]??{})]}function nCe(){return new Set($Y)}function iCe(){return qY}function rCe(){return Z1e}var YY=class{static register(e){Mw(e,void 0)}static registerModules(e){e.forEach(t=>Mw(t,void 0))}},oCe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{let n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{let{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function sCe(e){return typeof e=="object"&&!!e.getComp}var aCe=class extends oCe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),eCe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},lCe=class extends Be{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new XY,this.rowValidations=new ZY,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;let n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;let n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){let i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;let n=this.getEditRow(e),i=e.pinnedSibling,r=t&&i&&this.getEditRow(i);if(!n&&!r)return e.data;let o=Object.assign({},e.data),s=(a,l)=>a.forEach(({newValue:d},c)=>{d!==Da&&(l[c.getColId()]=d)});return n&&s(n,o),r&&s(r,o),o}getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;let t=new Map;return this.edits.forEach((n,i)=>t.set(i,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{let i=new Map;t.forEach((r,o)=>i.set(o,re({},r))),this.edits.set(n,i)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map),this.getEditRow(e.rowNode).set(e.column,t)}clearEditValue(e){let{rowNode:t,column:n}=e;if(t)if(n){let i=this.getEdit(e);i&&(i.newValue=i.oldValue,i.state="changed")}else this.getEditRow(t)?.forEach(i=>{i.newValue=i.oldValue,i.state="changed"})}setState(e,t){if(!e.rowNode||!e.column)return;let{rowNode:n,column:i}=e,r=this.getEditRow(n),o=r?.get(i);o?o.state=t:(r||(r=new Map,this.edits.set(n,r)),r.set(i,{newValue:void 0,oldValue:void 0,state:t}))}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||this.edits.size===0)return[];let t=[];return(e??this.edits).forEach((n,i)=>{for(let r of n.keys())t.push(re({rowNode:i,column:r},n.get(r)))}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;let{rowNode:n,column:i}=e,{withOpenEditor:r}=t;if(n){let o=this.getEditRow(n,t);return o?i?r?this.getEdit(e)?.state==="editing":o.has(i)??!1:o.size!==0?r?Array.from(o.values()).some(({state:s})=>s==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:o})=>o==="editing"):this.edits.size>0}start(e){let t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{newValue:Da,oldValue:this.beans.valueSvc.getValue(i,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(let e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},XY=class{constructor(){this.cellValidations=new Map}getCellValidation(e){let{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){let{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){let{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},ZY=class{constructor(){this.rowValidations=new Map}getRowValidation(e){let{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function cCe(e){let{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function QY(e,t){let n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function dCe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ut(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function uCe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function hCe(e){let t=0,n,{pinnedRowModel:i,rowModel:r,pageBounds:o}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=o.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function fCe(e){let t,n=null,{pinnedRowModel:i,pageBounds:r}=e,o=i?.getPinnedBottomRowCount(),s=i?.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):s&&(n="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Oh(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function T0(e,t){let n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;let i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function pCe(e,t,n){let{rowModel:i,pinnedRowModel:r}=e,o;return o??(o=i?.getRowNode(t)),n?o??(o=r?.getPinnedRowById(t,n)):(o??(o=r?.getPinnedRowById(t,"top")),o??(o=r?.getPinnedRowById(t,"bottom"))),o}function a3(e,t){let{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(n===0)return i==="top"?null:i==="bottom"&&s.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:o?.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;let a=i?void 0:s.getRow(n);return JY(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function qq(e,t){let{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(mCe(e,t))return i==="bottom"?null:i==="top"&&s.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:o?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;let a=i?void 0:s.getRow(n);return JY(e,a)??{rowIndex:n+1,rowPinned:i}}function JY(e,t,n){let{gos:i,rowRenderer:r}=e;if(!t?.sticky||!pY(i))return;let o=n?r.getStickyTopRowCtrls():r.getStickyBottomRowCtrls(),s;for(let a=0;a<o.length;a++)if(o[a].rowNode.rowIndex===t.rowIndex){s=o[a+(n?-1:1)];break}return s?{rowIndex:s.rowNode.rowIndex,rowPinned:null}:void 0}function mCe(e,t){let{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:o}=e;return n==="top"?(r?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=i:o.getLastRow()<=i}function l3(e,t={}){let{rowIndex:n,rowId:i,rowCtrl:r,rowPinned:o}=t;if(r)return r;let{rowModel:s,rowRenderer:a}=e,{rowNode:l}=t;return l??(l=i?pCe(e,i,o):s.getRow(n)),a.getRowCtrls(l?[l]:[])?.[0]}function Ur(e,t={}){let{cellCtrl:n,colId:i,columnId:r,column:o}=t;if(n)return n;let s=e.colModel.getCol(i??r??c8(o)),a=t.rowCtrl??l3(e,t),l=a?.getCellCtrl(s)??void 0;if(l)return l;let d=t.rowNode??a?.rowNode;if(d)return e.rowRenderer.getCellCtrls([d],[s])?.[0]}function Kq(e){let{editSvc:t}=e;t?.isBatchEditing()?B0(e):t?.stopEditing(void 0,{source:"api"})}function gCe(e,t,n){let{gos:i,popupSvc:r}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;let o=s=>{let a=s.relatedTarget;if(t8(a)===null){Kq(t);return}let l=n.some(d=>d.contains(a))&&uX(i,a);l||(l=!!r&&(r.getActivePopups().some(d=>d.contains(a))||r.isElementWithinCustomPopup(a))),l||Kq(t)};n.forEach(s=>e.addManagedElementListeners(s,{focusout:o}))}function c8(e){if(e)return typeof e=="string"?e:e.getColId()}var Da=Symbol("unedited");function eX(e,t={}){let n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(let r of i){let o=r.comp?.getCellEditor();o&&n.push({ctrl:r,editor:Rw(o)})}return n}var vCe=(e,t={})=>eX(e,t).map(n=>n.editor);function bCe(e,t,n,i,r,o){t.length===0&&n?.rowNode&&n?.column&&Tw(e,n,i,r,o);let{valueSvc:s,editSvc:a,editModelSvc:l}=e,{rowNode:d,column:c}=n??{};for(let u of t){let{rowNode:h,column:p}=u,f=Ur(e,u);if(!f){if(h&&p){let g=s.getValue(p,h,void 0,"api"),E=(n?.rowNode===h&&n?.column===p&&i||void 0)??a?.getCellDataValue(u)??s.getValueForDisplay(p,h)?.value??g??Da;l?.setEdit(u,{newValue:E,oldValue:g,state:"editing"})}continue}let m=o&&d===f.rowNode&&f.column===c;Tw(e,{rowNode:d,column:f.column},m?i:null,m?r:null,m)}}function kh({newValue:e,oldValue:t}){return e===Da&&(e=t),e!==t}function Tw(e,t,n,i,r){let o=Ur(e,t),s=o?.comp?.getCellEditor(),a=nX(e,t,n,r),l=e.valueSvc.getValue(t.column,t.rowNode,void 0,"api"),d=n?.length===1?n:a.value;if(d===void 0&&(d=l),e.editModelSvc?.setEdit(t,{newValue:d??Da,oldValue:l,state:"editing"}),s){s.refresh?.(a);return}let c=t.column.getColDef(),u=UY(e.userCompFactory,c,a),h=u?.popupFromSelector!=null?u.popupFromSelector:!!c.cellEditorPopup,p=u?.popupPositionFromSelector!=null?u.popupPositionFromSelector:c.cellEditorPopupPosition;iX(u.params,i),o&&(o.editCompDetails=u,o.comp?.setEditDetails(u,h,p,e.gos.get("reactiveCustomComponents")),o?.rowCtrl?.refreshRow({suppressFlash:!0}),e.editSvc?.dispatchCellEvent(t,null,"cellEditingStarted"))}function tX(e,t){let n={newValueExists:!1};if(e)return n;let i=t?.getCellEditor();return!i||i.isCancelAfterEnd?.()||(i.getValidationErrors?.()?.length??0)>0?n:{newValue:i.getValue(),newValueExists:!0}}function nX(e,t,n,i){let{valueSvc:r,gos:o,editSvc:s}=e,a=Ur(e,t),l=t.rowNode?.rowIndex??void 0,d=s?.isBatchEditing(),c=e.colModel.getCol(t.column.getId()),{rowNode:u,column:h}=t,p=s?.getCellDataValue(t)??tX(!1,a?.comp)?.newValue,f=p===Da?r.getValueForDisplay(c,u)?.value:p;return Zt(o,{value:f,eventKey:n??null,column:h,colDef:h.getColDef(),rowIndex:l,node:u,data:u.data,cellStartedEdit:i??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:m=>{s.stopEditing(t,{source:d?"ui":"api",suppressNavigateAfterEdit:m}),c3(e,t)},eGridCell:a?.eGui,parseValue:m=>r.parseValue(c,u,m,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{s?.validateEdit()}})}function d8(e,t){let{editModelSvc:n}=e;n?.getEditMap().forEach((i,r)=>{i.forEach((o,s)=>{!t&&(o.state==="editing"||o.newValue===Da)||!kh(o)&&(o.state!=="editing"||t)&&n?.removeEdits({rowNode:r,column:s})})})}function yCe(e,t){let n=t.comp?.getCellEditor();if(!n?.refresh)return;let{eventKey:i,cellStartedEdit:r}=t.editCompDetails.params,{column:o}=t,s=nX(e,t,i,r),a=o.getColDef(),l=UY(e.userCompFactory,a,s);n.refresh(iX(l.params,i))}function iX(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Ih(e){e.editModelSvc?.getEditPositions().forEach(t=>{let n=Ur(e,t);if(!n)return;let{newValue:i,newValueExists:r}=tX(!1,n.comp);r&&u8(e,t,i)})}function u8(e,t,n,i){let{editModelSvc:r,valueSvc:o,eventSvc:s}=e;if(!r)return;let{rowNode:a,column:l}=t;if(!(a&&l))return;let d=o.getValue(l,a,void 0,"api"),u=!!Ur(e,t)?.comp?.getCellEditor(),h=r?.getEdit(t)?.newValue;n===void 0&&(n=Da),r.setEdit(t,{newValue:n,oldValue:d,state:u?"editing":"changed"});let{value:p}=o.getValueForDisplay(l,a,!0);if(r.getEdit(t).newValue=p,h===n||u)return;let{rowIndex:f,rowPinned:m,data:g}=a;s.dispatchEvent({type:"cellEditValuesChanged",value:n,colDef:l.getColDef(),newValue:n,oldValue:d,source:i,column:l,rowIndex:f,rowPinned:m,data:g,node:a})}function B0(e,t){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(n=>c3(e,n))}function c3(e,t){let{rowNode:n,column:i}=t,r=Ur(e,t);if(!r){e.editModelSvc?.hasEdits(t)&&n&&i&&e.editModelSvc?.setState(t,"changed");return}let{comp:o}=r;if(o&&!o.getCellEditor())return;let s=o?.getCellEditor()?.getValidationErrors?.(),a=e.editModelSvc?.getCellValidationModel();s?.length?a?.setCellValidation(t,{errorMessages:s}):a?.clearCellValidation(t),o?.setEditDetails(),e.editModelSvc?.hasEdits(t)&&n&&i&&e.editModelSvc?.setState(t,"changed"),o?.refreshEditStyles(!1,!1),r?.refreshCell({force:!0,suppressFlash:!0});let l=e.editModelSvc?.getEdit(t);e.editSvc?.dispatchCellEvent(t,null,"cellEditingStopped",{valueChanged:l&&kh(l)})}function Lh(e){let t=eX(e),n=new XY,{ariaAnnounce:i,localeSvc:r,editModelSvc:o,gos:s}=e,a=s.get("editType")==="fullRow",d=I8(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(let u of t){let{ctrl:h,editor:p}=u,{rowNode:f,column:m}=h,g=p.getValidationErrors?.()??[],v=p.getValidationElement?.();if(v){let w=g!=null&&g.length>0,E=w?g.join(". "):"";Yye(v,w),w&&i.announceValue(`${d} ${g}`,"editorValidation"),v instanceof HTMLInputElement?v.setCustomValidity(E):v.classList.toggle("invalid",w)}g?.length>0&&n.setCellValidation({rowNode:f,column:m},{errorMessages:g})}Ih(e),o?.setCellValidationModel(n);let c=new Set;for(let{ctrl:u}of t)c.add(u.rowCtrl);if(a){let u=wCe(e);o?.setRowValidationModel(u)}for(let u of c.values()){u.rowEditStyleFeature?.applyRowStyles();for(let h of u.getAllCellCtrls())h.tooltipFeature?.refreshTooltip(!0),h.editorTooltipFeature?.refreshTooltip(!0),h.editStyleFeature?.applyCellStyles?.()}}var wCe=e=>{let t=new ZY,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(let r of i.keys()){let o=i.get(r);if(!o)continue;let s=[],{rowIndex:a,rowPinned:l}=r;for(let c of o.keys()){let u=o.get(c);u&&s.push(Le(re({column:c,colId:c.getColId(),rowIndex:a,rowPinned:l},u),{newValue:u.newValue===Da?void 0:u.newValue}))}let d=n?.({editorsState:s})??[];d.length>0&&t.setRowValidation({rowNode:r},{errorMessages:d})}return t};function CCe(e){Lh(e);let t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;let n=[];return t.forEach((i,r)=>{i.forEach(({errorMessages:o},s)=>{n.push({column:s,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:o??null})})}),n}var _Ce="ag-column-first",xCe="ag-column-last";function rX(e,t,n,i){return er(e)?[]:ECe(e.headerClass,e,t,n,i)}function oX(e,t,n){e.toggleCss(_Ce,n.isColAtEdge(t,"first")),e.toggleCss(xCe,n.isColAtEdge(t,"last"))}function SCe(e,t,n,i){return Zt(t,{colDef:e,column:n,columnGroup:i})}function ECe(e,t,n,i,r){if(er(e))return[];let o;if(typeof e=="function"){let s=SCe(t,n,i,r);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function Lw(e){return!!(e.rowPinned&&e.pinnedSibling)}function tl(e,t,n,i){let r=t==="top";if(!n)return tl(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){let l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return tl(e,t,n,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let o=!1,s=!1,a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!o){o=!0,a.push(l);return}if(o&&l===i){s=!0,a.push(l);return}o&&!s&&a.push(l)}),a}var Ae={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},h8=!1,d3=0;function DCe(e){d3>0||(e.addEventListener("keydown",u3),e.addEventListener("mousedown",u3))}function RCe(e){d3>0||(e.removeEventListener("keydown",u3),e.removeEventListener("mousedown",u3))}function u3(e){let t=h8,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(h8=n)}function MCe(e){let t=xo(e);return DCe(t),d3++,()=>{d3--,RCe(t)}}function TCe(){return h8}function ICe(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===Ae.TAB){let r=i.shiftKey;Np(e,n,!1,r)||$0(e,r)&&i.preventDefault()}}})}function V0(e,t,n=!1){let i=dwe,r=XK;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');let o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>Nl(l)),s=Array.prototype.slice.apply(e.querySelectorAll(r));return s.length?((l,d)=>l.filter(c=>d.indexOf(c)===-1))(o,s):o}function kp(e,t=!1,n=!1,i=!1){let r=V0(e,i?".ag-tab-guard":null,n),o=t?Mi(r):r[0];return o?(o.focus({preventScroll:!0}),!0):!1}function Np(e,t,n,i){let r=V0(t,n?':not([tabindex="-1"])':null),o=lr(e),s;n?s=r.findIndex(l=>l.contains(o)):s=r.indexOf(o);let a=s+(i?-1:1);return a<0||a>=r.length?null:r[a]}function sX(e,t=5){let n=0;for(;e&&t8(e)===null&&++n<=t;)e=e.parentElement;return t8(e)===null?null:e}function kCe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Dp(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function w3(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function $0(e,t,n=!1){let i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function ACe(e,t,n,{rowNode:i,column:r},o){return Zt(e.gos,{type:n,node:i,data:i.data,value:o,column:r,colDef:r.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function FCe(e,t=!1){return e===Ae.DELETE?!0:!t&&e===Ae.BACKSPACE?qK():!1}var PCe=class extends Be{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case Ae.ENTER:this.onEnterKeyDown(e);break;case Ae.F2:this.onF2KeyDown(e);break;case Ae.ESCAPE:this.onEscapeKeyDown(e);break;case Ae.TAB:this.onTabKeyDown(e);break;case Ae.BACKSPACE:case Ae.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Ae.DOWN:case Ae.UP:case Ae.RIGHT:case Ae.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){let{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let r=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:n}=this.beans;if(!t)return;let i=t.extendLatestRangeInDirection(e);i&&n?.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:n,beans:i,rowNode:r}=this,{gos:o,rangeSvc:s,eventSvc:a,editSvc:l}=i;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),FCe(e,o.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(s&&nu(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){let{column:d}=n,c=this.beans.valueSvc.getDeleteValue(d,r);r.setDataValue(d,c,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){let{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:r}=n,o=i?.isEditing(t),s=t.rowNode,a=i?.isRowEditing(s),l=d=>{i?.startEditing(d,{startedEdit:!0,event:e})&&e.preventDefault()};if(o||a){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(Lh(n),i?.checkNavWithValidation(t,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?i?.stopEditing({rowNode:s},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){let d=e.shiftKey?Ae.UP:Ae.DOWN;r?.navigateToNextCell(null,d,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Ae.ENTER}onF2KeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){let n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:r}=this;if(n||i?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===Ae.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(r,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(r))return;i?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){let{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&xp(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}};function aX(e,t,n){if(n===0)return!1;let i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}function Yq({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var OCe=class extends Be{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!eu(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:r,frameworkOverrides:o}=this.beans,s=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:d}=a;n&&s&&n.getCellRangeCount(d)>1&&n.intersectLastRange(!0);let c=a.createEvent(e,"cellClicked");t.dispatchEvent(c);let u=l.getColDef();if(u.onCellClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{u.onCellClicked(c)})},0),r?.getState(a)!=="editing"){let h=i?.isEditing(),p=r?.getCellValidationModel().getCellValidationMap().size??0,f=r?.getRowValidationModel().getRowValidationMap().size??0;if(h&&(p>0||f>0))return;i?.shouldStartEditing(a,e)?i?.startEditing(a,{event:e}):i?.shouldStopEditing(a,e)&&i?.stopEditing(a)}}onCellDoubleClicked(e){let{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:o,editSvc:s,editModelSvc:a}=n,l=t.getColDef(),d=i.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(d),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(d)})},0),s?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){let c=s?.isEditing(),u=a?.getCellValidationModel().getCellValidationMap().size??0,h=a?.getRowValidationModel().getRowValidationMap().size??0;if(c&&(u>0||h>0))return;s?.startEditing(i,{event:e})}}onMouseDown(e){let{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:o,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:d,focusSvc:c,gos:u,editSvc:h}=s;if(this.isRightClickInExistingRange(e))return;let p=l&&!l.isEmpty(),f=this.containsWidget(r),{cellPosition:m,column:g}=o,v=Ep(g);if(d&&v&&!d.handleMouseDownOnCell(m,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!p){let w=h?.isEditing(o),T=u.get("enableCellTextSelection")&&e.defaultPrevented,F=(Fp()||T)&&!w&&!F8(r)&&!f;o.focusCell(F,e)}if(i&&p&&!c.isCellFocused(m)){e.preventDefault();let w=c.getFocusedCell();if(w){let{column:E,rowIndex:T,rowPinned:F}=w;h?.isEditing(w)&&h?.stopEditing(w),c.setFocusedCell({column:E,rowIndex:T,rowPinned:F,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!f){if(l){v&&e.preventDefault();let w=Yq(this.beans,e)&&v;if(i)l.extendLatestRangeToCell(m);else if(!w){let E=t||n;l.setRangeToCell(m,E)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=Yq(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return _p(e,"ag-selection-checkbox",3)||_p(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},LCe=class extends Be{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){let t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();Op(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e,o=e.getPinned();for(let s=0;r&&s<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||er(r)||o!==r.getPinned()));s++);}return i}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Mi(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let n=Sp(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},NCe="ag-cell",BCe="ag-cell-auto-height",VCe="ag-cell-normal-height",HCe="ag-cell-focus",zCe="ag-cell-first-right-pinned",jCe="ag-cell-last-left-pinned",GCe="ag-cell-not-inline-editing",UCe="ag-cell-wrap-text",h3="cellCtrl";function lX(e,t){return EY(e,t,h3)}var WCe=0,H0=class extends Be{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;let{colId:r}=e;this.instanceId=r+"-"+WCe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new LCe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new OCe(this,e,this.column),this.keyboardListener=new PCe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();let{rangeSvc:t}=e;t&&nu(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Ep(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Lh(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGui=t,this.printLayout=r,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),o&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){let{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:r}=e,o=t.getColDef(),s=this.createCellRendererParams();s.deferRender=!0;let a=$q(n,o,s);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l,d=new br(c=>{l=c});return this.addManagedListeners(r,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:d}}return{loadingComp:a,onReady:br.resolve()}}showValue(e,t){let{beans:n,column:i,rowNode:r,rangeFeature:o}=this,{userCompFactory:s}=n,a=this.getValueToDisplay(),l,d=r.stub&&r.groupData?.[i.getId()]==null,c=i.getColDef();if(d||this.isCellRenderer()){let u=this.createCellRendererParams();!d||Ep(i)?l=Wq(s,c,u):l=$q(s,c,u)}if(!l&&!d&&n.findSvc?.isMatch(r,i)){let u=this.createCellRendererParams();l=Wq(s,Le(re({},i.getColDef()),{cellRenderer:"agFindCellRenderer"}),u)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){let u=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});u&&(u.compDetails?l=u.compDetails:u.valueToDisplay&&(a=u.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&o&&ru(n,()=>o?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Lw(this.rowNode))&&!!e}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=JE(t),r=Lp(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&O0(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){let{editSvc:e}=this.beans;e?.isEditing(this)&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){let{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:o,beans:{valueSvc:s,gos:a,editSvc:l}}=this;return Zt(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(n,i).value,setValue:c=>l?.setDataValue({rowNode:i,column:n},c)||s.setValue(i,n,c),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:r.getParentOfValue(),registerRowDragger:(c,u,h,p)=>this.registerRowDragger(c,u,p),setTooltip:(c,u)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,u),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;let i=this.column.getColDef(),r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=e||r||n,s=!!this.comp,a=this.updateAndFormatValue(s),l=o||a;if(s){if(l){this.showValue(!!n,!1);let d=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!d&&i.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){let n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){let t=this.eGui;Tp(this.beans.gos,t,h3,this),e.addDestroyFunc(()=>Tp(this.beans.gos,t,h3,null))}createEvent(e,t){let{rowNode:n,column:i,value:r,beans:o}=this;return ACe(o,e,t,{rowNode:n,column:i},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:n}=this;oX(e,t,n.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);WK(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){this.beans.focusSvc.setFocusedCell(Le(re({},this.getFocusedCellPosition()),{forceBrowserFocus:e,sourceEvent:t}))}restoreFocus(e=!1){let{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;let r=()=>{if(!this.isAlive())return;let o=i.getFocusableElement();this.isCellFocused()&&o.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(Ep(this.column)&&(e=!0),Sa(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.toggleCss(zCe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.toggleCss(jCe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(w3(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(HCe,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(i){let o=V0(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Jd(t),column:this.column}}applyStaticCssClasses(){let{comp:e}=this;e.toggleCss(NCe,!0),e.toggleCss(GCe,!0);let t=this.column.isAutoHeight()==!0;e.toggleCss(BCe,t),e.toggleCss(VCe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(UCe,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(lr(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){let i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},cX="__ag_grid_instance";function dX(e,t){t[cX]=e.gridInstanceId}function Iw(e,t){return uX(e,t.target)}function uX(e,t){let n=t;for(;n;){let i=n[cX];if(ut(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function $Ce(e,t){return lX(e,t.target)?.getFocusedCellPosition()??null}function Xq(e,t){let n=Bo(e.gos,"normal"),i=t,r,o;i.clientX!=null||i.clientY!=null?(r=i.clientX,o=i.clientY):(r=i.x,o=i.y);let{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(o+=s,n){let a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),d=a.getHScrollPosition();r+=d.left,o+=l.top}return{x:r,y:o}}var qCe=class extends Be{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){let n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),ol(t,i))}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let r=this.dropTargets.filter(c=>this.isMouseOnDropTarget(e,c)),o=this.findCurrentDropTarget(e,r),{lastDropTarget:s,dragSource:a,dragAndDropImageComp:l,dragItem:d}=this;if(o!==s){if(this.leaveLastTargetIfExists(e,n,i,t),s!==null&&o===null&&a?.onGridExit?.(d),s===null&&o!==null&&a?.onGridEnter?.(d),this.enterDragTargetIfExists(o,e,n,i,t),o&&l){let{comp:c,promise:u}=l;c?c.setIcon(o.getIconName?o.getIconName():null,!1):u.then(h=>{h&&h.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){let c=this.createDropTargetEvent(o,e,n,i,t);o.onDragging(c)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){let n=this.getAllContainersFromDropTarget(t),i=!1,r=(a,l)=>{for(let d of l){let{width:c,height:u,left:h,right:p,top:f,bottom:m}=d.getBoundingClientRect();if(c===0||u===0)return!1;let g=a.clientX>=h&&a.clientX<p,v=a.clientY>=f&&a.clientY<m;if(!g||!v)return!1}return!0};for(let a of n)if(r(e,a)){i=!0;break}let{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:i&&t.isInterestedIn(s,o)}findCurrentDropTarget(e,t){let n=t.length;if(n===0)return null;if(n===1)return t[0];let r=Sw(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let o of r)for(let s of t)if(this.getAllContainersFromDropTarget(s).flatMap(l=>l).indexOf(o)!==-1)return s;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){let o=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,n,i){let{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){let s=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(s)}let o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){let t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){let o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:d}=this,c=t.clientX-s.left,u=t.clientY-s.top;return Zt(d,{event:t,x:c,y:u,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&Twe(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;let i=L1e(n,Zt(t,{dragSource:e}));if(!i)return;let r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){let{dragSource:t,environment:n}=this;if(!t)return;let i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),dX(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";let o=H8(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(i):it(54)}registerGridDropTarget(e,t){let n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},KCe=class extends Be{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){let i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){let{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),ol(t,n))}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let o=null,s=this.gos.get("suppressTouch");i&&!s&&(o=a=>{F8(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let n=t.touches[0];this.touchLastTime=n,this.touchStart=n;let i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:Sw(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:s,type:"touchmove",listener:i,options:{passive:!0}},{target:s,type:"touchend",listener:r,options:{passive:!0}},{target:s,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){let n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let i=d=>this.onMouseMove(d,e.eElement),r=d=>this.onMouseUp(d,e.eElement),o=d=>d.preventDefault(),s=d=>{d.key===Ae.ESCAPE&&this.cancelDrag(e.eElement)},a=Sw(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:n,type:i,listener:r,options:o}=t;n.addEventListener(i,r,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:n,type:i,listener:r,options:o}=t;n.removeEventListener(i,r,o)})})}isEventNearStartEvent(e,t){let{dragStartPixels:n}=this.currentDragParams,i=ut(n)?n:4;return aX(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){let n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){Fp()&&xo(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=o=>!!o.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&Iw(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function hX(e,t){return e+"_"+t}function yr(e){return e instanceof fX}var fX=class extends Be{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return hX(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{yr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=Mi(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{iu(t)?e.push(t):yr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{iu(t)?e.push(t):yr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(yr(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},f8="row-group-",U8="t-",W8="b-",YCe=0,Ap=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=YCe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:n,eventSvc:i}=this.beans,r=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();let o=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(o),this.sibling){this.sibling.data=e;let a=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(a)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});let s=this.pinnedSibling;s&&(s.data=e,s.__localEventService?.dispatchEvent(s.createDataChangedEvent(e,r,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:s}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Ti(13),null):this.rowPinned==="top"?U8+this.rowIndex:this.rowPinned==="bottom"?W8+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));let o=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(o)}setId(e){let t=U0(this.beans.gos);if(t)if(this.data){let n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(f8)&&Ti(14,{groupPrefix:f8})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){let{colModel:i,valueSvc:r,gos:o,editSvc:s}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;let l=r.getValueForDisplay(a,this).value;if(o.get("readOnlyEdit")){let{beans:{eventSvc:u},data:h,rowIndex:p,rowPinned:f}=this;return u.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:p,rowPinned:f,column:a,colDef:a.colDef,data:h,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(s){let u=s.setDataValue({rowNode:this,column:a},t,n);if(u!=null)return u}let d=r.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);let c=this.pinnedSibling;return c&&d&&c.dispatchCellChangedEvent(a,t,l),d}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){let i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Mp),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Mp),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(it(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function XCe(e,t,n){return Zt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var ZCe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function QCe(e,t){let n=new Ap(t);return Object.keys(e).forEach(i=>{ZCe.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var pX={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},JCe=new Set(Object.values(pX));function Eh(e,t){let n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;let i=n.create(n.refreshed),r=n;return r.created=!0,r.promise=i,i}function e_e(e,t,n,i,r,o){return t.refresh?.(Le(re({},n),{model:i,source:o})),e().then(s=>{if(s){let{filter:a,filterParams:l}=s;mX(a,l,i,r,o)}})}function mX(e,t,n,i,r){e?.refresh?.(Le(re({},t),{model:n,state:i,source:r}))}function gX(e,t,n){let i=e();i?.created&&i.promise.then(r=>{let o=t();mX(r,i.filterParams,o,n()??{model:o},"ui")})}function Zq(e,t,n,i,r,o){let s,a=!1,l;switch(e){case"apply":{let d=i();l=d?.model??null,s={state:d?.state,model:l},a=!0;break}case"clear":{s={model:null};break}case"reset":{s={model:null},a=!0,l=null;break}case"cancel":{s={model:n()};break}}r(s),a?o(l):gX(t,n,i)}function _o(e,t){return e[t]??null}var t_e={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Th(e,t,n){return Vye(e,t_e,t,n)}function n_e(e){return{tag:"div",cls:e}}var i_e=class extends ri{constructor(e){let{className:t="ag-filter-apply-panel"}=e??{};super(n_e(t)),this.listeners=[],this.className=t}updateButtons(e,t){let n=this.buttons;if(this.buttons=e,n===e)return;let i=this.getGui();ts(i);let r;this.destroyListeners();let o=document.createDocumentFragment(),s=this.className,a=l=>{let d=`${l}Filter`,c=l?Th(this,d):void 0,u=v=>{this.dispatchLocalEvent({type:l,event:v})};["apply","clear","reset","cancel"].includes(l)||it(75);let h=l==="apply",f=$i({tag:"button",attrs:{type:h&&t?"submit":"button"},ref:`${l}FilterButton`,cls:`ag-button ag-standard-button ${s}-button${h?" "+s+"-apply-button":""}`,children:c});this.activateTabIndex([f]),h&&(r=f);let m=v=>{v.key===Ae.ENTER&&(v.preventDefault(),u(v))},g=this.listeners;f.addEventListener("click",u),g.push(()=>f.removeEventListener("click",u)),f.addEventListener("keydown",m),g.push(()=>f.removeEventListener("keydown",m)),o.append(f)};e.forEach(l=>a(l)),this.eApply=r,i.append(o)}updateValidity(e){let t=this.eApply;t&&_w(t,e===!1)}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}};function $8(e,t){let{debounceMs:n}=e;return C3(e)?(n!=null&&it(71),0):n??t}function C3(e){return(e.buttons?.indexOf("apply")??-1)>=0}var r_e=class extends ri{constructor(e,t,n,i,r,o){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=r,this.enableGlobalButtonCheck=o,this.hidePopup=null,this.applyActive=!1}postConstruct(){let{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,r=i?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:o=>{o?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,re({filterParamsChanged:({column:o,params:s})=>{o===this.column&&this.resetButtonsPanel(s,this.params)},filterStateChanged:({column:o,state:s})=>{o===this.column&&this.eButtons?.updateValidity(s.valid)},filterAction:({column:o,action:s,event:a})=>{o===this.column&&this.afterAction(s,a)}},this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:o})=>{if(o!==this.isGlobalButtons){this.isGlobalButtons=o;let s=this.params;this.resetButtonsPanel(s,s,!0)}}}:void 0))}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){let{buttons:i,readOnly:r}=t??{},{buttons:o,readOnly:s,useForm:a}=e;if(!n&&r===s&&ww(i,o))return;let l=o&&o.length>0&&!e.readOnly&&!this.isGlobalButtons,d=this.eButtons;if(l){if(this.applyActive=C3(this.params),!d){d=this.createBean(new i_e),this.appendChild(d.getGui());let c=this.column,u=h=>({event:p})=>{this.updateModel(c,h),this.afterAction(h,p)};d?.addManagedListeners(d,{apply:u("apply"),clear:u("clear"),reset:u("reset"),cancel:u("cancel")}),this.eButtons=d}d.updateButtons(o,a)}else this.applyActive=!1,d&&(Cs(d.getGui()),this.eButtons=this.destroyBean(d))}close(e){let t=this.hidePopup;if(!t)return;let n=e,i=n&&n.key,r;(i===Ae.ENTER||i===Ae.SPACE)&&(r={keyboardEvent:n}),t(r),this.hidePopup=null}afterAction(e,t){let{params:n,applyActive:i}=this,r=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&i&&this.close(t);break}case"reset":{r&&i&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===Ae.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},o_e={tag:"div",cls:"ag-filter"},s_e=class extends ri{constructor(e,t,n){super(o_e),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??br.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:n,beans:{colFilter:i}}=this,r=i.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(o=>{if(!o)return;let{isHandler:s,comp:a}=o,l;if(s){let d=!!this.enableGlobalButtonCheck,c=this.createBean(new r_e(t,o,i,i.updateModel.bind(i),d&&i.isGlobalButtons,d));this.comp=c,l=c.getGui()}else l=a.getGui(),ut(l)||it(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){let{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ts(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},q8="T",a_e=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${q8}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Vc(e,t){return e.toString().padStart(t,"0")}function Ea(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Vc(r,2)).join(n);return t&&(i+=q8+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Vc(r,2)).join(":")),i}function TE(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Vc(e.getDate(),2),Vc(e.getHours(),2),`:${Vc(e.getMinutes(),2)}`,`:${Vc(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Vc(e.getDate(),2)].map(String):null}var MP=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function p8(e,t){if(t==null)return Ea(e,!1);let n=Vc(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>Vc(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${MP(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${MP(e.getDate())}`,DD:()=>Vc(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${MP(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,a=>a in o?o[a]():a)}function WE(e,t=!1){return!!ea(e,t)}function l_e(e){return!!e&&WE(e,!0)&&!!e.match(a_e)?.[1]}function ea(e,t=!1){if(!e)return null;let[n,i]=e.split(q8);if(!n)return null;let r=n.split("-").map(h=>parseInt(h,10));if(r.filter(h=>!isNaN(h)).length!==3)return null;let[o,s,a]=r,l=new Date(o,s-1,a);if(l.getFullYear()!==o||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!i||i==="00:00:00")return l;let[d,c,u]=i.split(":").map(h=>parseInt(h,10));if(d>=0&&d<24)l.setHours(d);else if(t)return null;if(c>=0&&c<60)l.setMinutes(c);else if(t)return null;if(u>=0&&u<60)l.setSeconds(u);else if(t)return null;return l}var Qq={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Jq=["january","february","march","april","may","june","july","august","september","october","november","december"];function c_e(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function eK(e){return e instanceof Date&&!isNaN(e.getTime())}var m8={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:eK}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{let i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&eK(e.dateParser(t))}),dateTime:e=>m8.date(e),dateTimeString:e=>m8.dateString(e),object:()=>{},text:()=>{}},g8={number:()=>({comparator:c_e}),boolean:({t:e})=>({valueFormatter:t=>ut(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{let i=e(n);return ut(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){let r=Jq[Number(n)-1];return t(r,Qq[r])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>TE(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{let r=e(i);return ut(r)?r:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>TE(t.dateParser(i??void 0),!1),treeListFormatter:(i,r)=>{if(r===1&&i!=null){let o=Jq[Number(i)-1];return n(o,Qq[o])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{let t=g8.date(e);return t.treeListPathGetter=TE,t},dateTimeString(e){let t=e.dataTypeDefinition.dateParser,n=g8.dateString(e);return n.treeListPathGetter=i=>TE(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{let i=e(n);return ut(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function d_e(e,t,n,i,r,o,s){let a=t,l=n,d=e==="agSetColumnFilter";!l&&i.baseDataType==="object"&&!d&&(l=({column:p,node:f})=>r({column:p,node:f,value:o.valueSvc.getValue(p,f)}));let u=(d?g8:m8)[i.baseDataType],h=u({dataTypeDefinition:i,formatValue:r,t:s});return a=typeof t=="object"?re(re({},h),t):h,{filterParams:a,filterValueGetter:l}}var u_e={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},h_e={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function f_e(e,t=!1){return(t?h_e:u_e)[e??"text"]}var vX="ag-resizer-wrapper",Dh=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),p_e={tag:"div",cls:vX,children:[Dh("eTopLeft","topLeft"),Dh("eTop","top"),Dh("eTopRight","topRight"),Dh("eRight","right"),Dh("eBottomRight","bottomRight"),Dh("eBottom","bottom"),Dh("eBottomLeft","bottomLeft"),Dh("eLeft","left")]},m_e=class extends Be{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,d=0,c=Nl(this.element);if(c){let u=this.findBoundaryElement(),h=window.getComputedStyle(u);if(h.minWidth!=null){let p=u.offsetWidth-this.element.offsetWidth;d=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){let p=u.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=r||l,this.minWidth=n||d,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(c&&t){let u=this.boundaryEl,h=!0;if(u||(u=this.findBoundaryElement(),h=!1),u){let p=parseFloat(u.style.top),f=parseFloat(u.style.left);h?this.offsetElement(isNaN(f)?0:f,isNaN(p)?0:p):this.setPosition(f,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let i=!!e[t],r=this.getResizerElement(t),o={dragStartPixels:0,eElement:r,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(o),this.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,n=this.element,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)mw(n,e),e=ZK(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?mw(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,s=e?0:r.top,a=0;if(t){let d=this.element.parentElement;if(d){let{bottom:c}=d.getBoundingClientRect();a=c-i.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:n}=this.config,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)zc(t,e),e=KE(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?zc(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Nh(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,s)?0:s,d=this.shouldSkipY(t,!!i,o,a)?0:a;return{movementX:l,movementY:d}}shouldSkipX(e,t,n,i){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=i<0&&e.clientX>a+o.left||i>0&&e.clientX<a+o.left:n?l=i<0&&e.clientX>s.right||i>0&&e.clientX<a+o.left:l=i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)}shouldSkipY(e,t,n=0,i){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=i<0&&e.clientY>a+o.top+n||i>0&&e.clientY<a+o.top:l=i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)}createResizeMap(){let e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild($i(p_e)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${vX}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,n=0;for(let i=0;i<e.length;i++){let r=e[i],o=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){let l=window.getComputedStyle(r);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null,n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){let r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:o,isLeft:s}=this.currentResizer,a=r||s,l=o||i,{movementX:d,movementY:c}=this.calculateMouseMovement({e,isLeft:s,isTop:i}),u=this.position.x,h=this.position.y,p=0,f=0;if(a&&d){let m=s?-1:1,g=this.getWidth(),v=g+d*m,w=!1;s&&(p=g-v,(u+p<=0||v<=this.minWidth)&&(w=!0,p=0)),w||this.setWidth(v)}if(l&&c){let m=i?-1:1,g=this.getHeight(),v=g+c*m,w=!1;i?(f=g-v,(h+f<=0||v<=this.minHeight)&&(w=!0,f=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&g<v&&this.getMinSizeOfSiblings().height+v>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||f)&&this.offsetElement(u+p,h+f)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:n}=this.position,i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());let{movementX:r,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},g_e="ag-focus-managed",X0=class extends Be{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks=re({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;let i=Np(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())}},t)}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(g_e),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||eu(t))return;let{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Ip(t);return}t.key===Ae.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},v_e=class extends ri{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){let e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new X0(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new m_e(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){let t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){let t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);let r=t.state,o=this.state;return this.state=r,(r.model!==o.model||r.state!==o.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=C3(e),this.setupApplyDebounced()}doesFilterPass(e){it(283);let{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass(Le(re({},e),{model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)}))}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return it(284),this.params.model!=null}setupApplyDebounced(){let e=$8(this.params,this.defaultDebounceMs),t=No(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return it(285),this.params.model}setModel(e){it(286);let{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){let{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();let n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;let r=this.params;r.onStateChange(i),r.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:n}=this;if(!t)return;let i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Th(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function b_e(e){return!!e.operator}function y_e(e,t,n){if(t==null)return null;let i=null,{compName:r,jsComp:o,fwComp:s}=WY(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:o==null&&s==null&&t.filter===!0&&(i=n()),i}var Ol={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},K8=class extends Be{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Ol.AUTO_HEIGHT:t.print?Ol.PRINT:Ol.NORMAL;this.view.updateLayoutClasses(n,t)}},Rh="Viewport",tK="fakeVScrollComp",nK=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],iK=100,TP=150,w_e=class extends Be{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=No(this,()=>this.lastScrollSource[1]=null,TP),this.resetLastVScrollDebounced=No(this,()=>this.lastScrollSource[0]=null,TP)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Rh)});for(let e of nK){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?No(this,this.onVScroll.bind(this,Rh),iK):this.onVScroll.bind(this,Rh),i=t?No(this,this.onVScroll.bind(this,tK),iK):this.onVScroll.bind(this,tK);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...nK,Rh]){if(this.lastScrollSource[1]===t)continue;let n=this.getViewportForSource(t);XE(n,e,this.enableRtl)}}getViewportForSource(e){return e===Rh?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;let i=YE(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Rh?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Rh?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent(Le(re({},t),{type:"bodyScrollEnd"}))},TP)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Cp()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=P8(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Rh)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),XE(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:n}=this.beans,i=n.getRowCount(),r=-1;for(let o=0;o<i;o++){let s=n.getRow(o);if(typeof e=="function"){if(s&&e(s)){r=o;break}}else if(e===s||e===s.data){r=o;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(Bo(this.gos,"print"))return;let{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){it(88,{index:e});return}this.clearRetryListeners();let{frameworkOverrides:o,pageBounds:s,rowContainerHeight:a,rowRenderer:l}=this.beans;o.wrapIncoming(()=>{let d=this.ctrlsSvc.getGridBodyCtrl(),c=i.getRow(e),u,h,p=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:f,stickyBottomHeight:m}=d,g=c.rowTop,v=c.rowHeight,w=s.getPixelOffset(),E=c.rowTop-w,T=E+c.rowHeight,F=this.getVScrollPosition(),k=a.divStretchOffset,L=F.top+k,V=F.bottom+k,j=V-L,z=a.getScrollPositionForPixel(E),R=a.getScrollPositionForPixel(T-j),I=Math.min((z+R)/2,E),N=L+f>E,b=V-m<T,C=null;t==="top"?C=z-f:t==="bottom"?C=R+m:t==="middle"?C=I:N?C=z-f:b&&(R-z>j?C=z-f:C=R+m),C!==null&&(this.setVerticalScrollPosition(C),l.redraw({afterScroll:!0})),u=g!==c.rowTop||v!==c.rowHeight,h=f!==d.stickyTopHeight||m!==d.stickyBottomHeight,p++}while((u||h)&&p<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(c?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){let f=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{let m=this.getVScrollPosition().top;f!==m&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){let{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;let o=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,a=(s?n:i)||r,l=s?i:n;t!=="auto"&&(a=t==="start",l=t==="end");let d=t==="middle";if(a||l||d){let{colLeft:c,colMiddle:u,colRight:h}=this.getColumnBounds(e);return d?u-o/2:a?s?h:c:s?c-o:h-o}return null}isColumnOutsideViewport(e){let{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>r:n<r,a=o?n<i:t>i;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,s=t?n-r:r,a=s+i*o,l=s+i/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},Y8=class extends Be{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=Bo(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth(),s;e?s=i+r+o:(s=i,this.addSpacer&&(this.gos.get("enableRtl")?r:o)===0&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())),this.callback(s)}},C_e=class extends Be{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{ru(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=P8(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function X8(e,t,n,i,r,o){if(n==null&&t==null)return;let s={},a={},l=(d,c)=>{d.split(" ").forEach(u=>{u.trim()!=""&&c(u)})};if(n){let d=Object.keys(n);for(let c=0;c<d.length;c++){let u=d[c],h=n[u],p;typeof h=="string"?p=e?e.evaluate(h,i):!0:typeof h=="function"&&(p=h(i)),l(u,f=>{p?s[f]=!0:a[f]=!0})}}t&&o&&Object.keys(t).forEach(d=>l(d,c=>{s[c]||(a[c]=!0)})),o&&Object.keys(a).forEach(o),Object.keys(s).forEach(r)}function rK(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var __e=class extends Be{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){let n=this.gos,i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);let o=n.getCallback("getRowClass");if(o){let s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){let{gos:i,expressionSvc:r}=this.beans,o=Zt(i,{data:e.data,node:e,rowIndex:e.rowIndex});X8(r,void 0,i.get("rowClassRules"),o,t,n)}processStylesFromGridOptions(e){let t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle"),r;if(i){let o={data:e.data,node:e,rowIndex:e.rowIndex};r=i(o)}if(r||n)return Object.assign({},n,r)}},x_e=0,f3="renderedRow",p3=class extends Be{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+x_e++,this.rowId=jE(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=rK(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=jE(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){let{context:r,focusSvc:o}=this.beans;i=Ow(this,r,i);let s={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s);let a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,d=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!d&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let c=this.fullWidthGui?.element;c&&!this.beans.editSvc?.isEditing(this)&&o.isRowFocused(a.rowIndex,a.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>c.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),xp(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&ZP(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Tp(t,e.element,f3,this),e.compBean.addDestroyFunc(()=>Tp(t,e.element,f3,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=jE(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(n8(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(n8(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),o=!!t,s=!!n||!i.isPinningRight();return r&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=vY(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new H0(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){let i={list:[],map:{}},r=(d,c,u)=>{u!=null?i.list.splice(u,0,c):i.list.push(c),i.map[d]=c},o=[];for(let d of t){let c=d.getInstanceId(),u=e.map[c];u&&!this.isCorrectCtrlForSpan(u)&&(u.destroy(),u=void 0),u||(u=this.getNewCellCtrl(d)),u&&r(c,u)}for(let d of e.list){let c=d.column.getInstanceId();if(i.map[c]!=null)continue;!this.isCellEligibleToBeRemoved(d,n)?o.push([c,d]):d.destroy()}if(o.length)for(let[d,c]of o){let u=i.list.findIndex(p=>p.column.getLeft()>c.column.getLeft()),h=u===-1?void 0:Math.max(u-1,0);r(d,c,h)}let{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==n){let d=l.column.getInstanceId();if(!i.map[d]&&a.allCols.includes(l.column)){let u=this.createFocusedCellCtrl();if(u){let h=i.list.findIndex(f=>f.column.getLeft()>u.column.getLeft()),p=h===-1?void 0:Math.max(h-1,0);r(d,u,p)}}}return i}createFocusedCellCtrl(){let{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;let i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");let r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){let{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;let{visibleCols:o,editSvc:s}=this.beans,a=s?.isEditing(e),l=e.isCellFocused();return a||l?!(o.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Bo(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=ut(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){let{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}else{let{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){let{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:r,context:o,rowSpanSvc:s}=e;this.addManagedListeners(this.rowNode,re({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},i?.getRowExpandedListeners(this)??{})),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),s&&this.addManagedListeners(s,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(let e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",r=t==="below",s=this.gos.get("treeData")&&(r||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{let d=l.rowComp;d.toggleCss("ag-row-highlight-above",n),d.toggleCss("ag-row-highlight-inside",i),d.toggleCss("ag-row-highlight-below",r),d.toggleCss("ag-row-highlight-indent",s),s?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Jd(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:n,column:i}=t;if(!(n.element===e.target))return;let s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,d=a.getFocusedCell(),c={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:d?.column??i};l?.navigateToNextCell(e,e.key,c,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||eu(e))return;let t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=lr(this.beans),o=!1;n&&r&&(o=n.contains(r)&&r.classList.contains("ag-cell"));let s=null;!i&&!o&&(s=Np(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!s)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>Nl(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Sa(n.element,"tabindex",t)})}onFullWidthRowFocused(e){let t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{let o=this.beans.colModel.getCol(e?.column)?.pinned;o?i=o==="right"?this.rightGui?.element:this.leftGui?.element:i=this.centerGui?.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:n}=this;return Zt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){let n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){eu(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=_p(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();let r=this.findFullWidthInfoForEvent(e);if(!r)return;let{rowGui:o,column:s}=r,a=o.element,l=e.target,d=e.defaultPrevented||Fp();a&&a.contains(l)&&F8(l)&&(d=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned,forceBrowserFocus:d})}onRowClick(e){if(eu(e)||this.lastMouseDownOnDragger)return;let{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:n,rowNode:i}=this,r=Zt(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,d)=>this.addFullWidthRowDragging(s,a,l,d),setTooltip:(s,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return U1e(o,r);case"FullWidthGroup":{let{value:s,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=s,r.valueFormatted=a,G1e(o,r)}case"FullWidthLoading":return j1e(o,r);default:return z1e(o,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){let{rowDragSvc:r,context:o}=this.beans;if(!r||!this.isFullWidth())return;let s=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){let e=rK(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(o.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&o.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&o.push("ag-row-pinned-source"),i.isSelected()&&o.push("ag-row-selected"),i.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),i.stub&&o.push("ag-row-loading"),n&&o.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(o,i),i.dragging&&o.push("ag-row-dragging");let{rowStyleSvc:s}=r;return s&&(s.processClassesFromGridOptions(o,i),s.preProcessRowClassRules(o,i)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),n&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:o}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(n=>n.element);for(let n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=dY(this.gos)?Ph(this.beans,this.rowNode).height:void 0,o=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&P0(this.gos)&&!t.sticky)if(t.rowTop!=null){let r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(lr(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;let e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ut(e)){let t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,n;if(t.sticky)n=t.stickyRowTop;else{let i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i?.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",i),o.rowComp.toggleCss("ag-row-odd",!i),k8(o.element,r)})}};function bX(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function v8(e,t,n,i,r){let o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let s=Zt(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(o&&o(s))}function S_e(e){let{pinnedRowModel:t,rowModel:n}=e,[i,r]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],o=i?null:"top",s,a;r?(s=null,a=n.getRowCount()-1):(s="bottom",a=t?.getPinnedBottomRowCount()??-1);let{visibleCols:l,rangeSvc:d}=e,c=l.allCols;!d||!c?.length||d.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s})}var E_e=65,D_e=67,R_e=86,M_e=68,T_e=90,I_e=89;function k_e(e){let{keyCode:t}=e,n;switch(t){case E_e:n=Ae.A;break;case D_e:n=Ae.C;break;case R_e:n=Ae.V;break;case M_e:n=Ae.D;break;case T_e:n=Ae.Z;break;case I_e:n=Ae.Y;break;default:n=e.code}return n}var A_e=class extends Be{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",SY("touchstart")?"touchstart":"mousedown"].forEach(n=>{let i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){if(!Iw(this.gos,t)||eu(t))return;let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:lX(t,e),rowCtrl:EY(t,e,f3)}}processKeyboardEvent(e,t){let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){let i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!v8(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),bX(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){let{rowNode:i}=e,{focusSvc:r,navigation:o}=this.beans,a=r.getFocusedCell()?.column;if(!v8(this.gos,n,i,a,!1)){let d=n.key;if(t==="keydown")switch(d){case Ae.PAGE_HOME:case Ae.PAGE_END:case Ae.PAGE_UP:case Ae.PAGE_DOWN:o?.handlePageScrollingKey(n,!0);break;case Ae.LEFT:case Ae.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Ae.UP:case Ae.DOWN:e.onKeyboardNavigate(n);break;case Ae.TAB:e.onTabKeyDown(n);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Iw(this.gos,e))return;let n=k_e(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===Ae.A)return this.onCtrlAndA(e);if(n===Ae.C)return this.onCtrlAndC(i,e);if(n===Ae.D)return this.onCtrlAndD(i,e);if(n===Ae.V)return this.onCtrlAndV(i,e);if(n===Ae.X)return this.onCtrlAndX(i,e);if(n===Ae.Y)return this.onCtrlAndY(r);if(n===Ae.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&nu(r)&&t.isRowsToRender()?S_e(this.beans):i&&i?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:yY(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},yX=class extends Be{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},IE=e=>e.topRowCtrls,kE=e=>e.getStickyTopRowCtrls(),AE=e=>e.getStickyBottomRowCtrls(),FE=e=>e.bottomRowCtrls,PE=e=>e.allRowCtrls,IP=e=>e.getCtrls("top"),kP=e=>e.getCtrls("center"),AP=e=>e.getCtrls("bottom"),F_e={center:{type:"center",name:"center-cols",getRowCtrls:PE,getSpannedRowCtrls:kP},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:PE,getSpannedRowCtrls:kP},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:PE,getSpannedRowCtrls:kP},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:PE},topCenter:{type:"center",name:"floating-top",getRowCtrls:IE,getSpannedRowCtrls:IP},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:IE,getSpannedRowCtrls:IP},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:IE,getSpannedRowCtrls:IP},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:IE},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:kE},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:kE},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:kE},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:kE},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:AE},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:AE},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:AE},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:AE},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:FE,getSpannedRowCtrls:AP},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:FE,getSpannedRowCtrls:AP},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:FE,getSpannedRowCtrls:AP},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:FE}};function wX(e){return`ag-${Nw(e).name}-viewport`}function $E(e){let t=Nw(e);return t.container??`ag-${t.name}-container`}function P_e(e){return`ag-${Nw(e).name}-spanned-cells-container`}function Nw(e){return F_e[e]}var O_e=["topCenter","topLeft","topRight"],L_e=["bottomCenter","bottomLeft","bottomRight"],N_e=["center","left","right"],B_e=["center","left","right","fullWidth"],V_e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],H_e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],z_e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],CX=["stickyTopCenter","stickyTopLeft","stickyTopRight"],_X=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],j_e=[...CX,"stickyTopFullWidth",..._X,"stickyBottomFullWidth"],G_e=[...O_e,...L_e,...N_e,...CX,..._X],U_e=class extends Be{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Nw(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new C_e(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new A_e(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:r,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(H_e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(z_e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(B_e,()=>this.createManagedBean(new yX(this.eContainer,this.name==="center"?i:void 0))),o&&this.forContainers(G_e,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(V_e,()=>this.createManagedBean(new Y8(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(j_e.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let n=this.gos.get("ensureDomOrder"),i=Bo(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return xw(this.eViewport)}getCenterViewportScrollLeft(){return YE(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=Nh(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return JK(this.eViewport)}getViewportScrollLeft(){return YE(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||nY(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){XE(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=Bo(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,o=t.filter(s=>{let a=s.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},xX="ag-force-vertical-scroll",W_e="ag-selectable",$_e="ag-column-moving",q_e=class extends Be{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${wX("center")}`),this.eFullWidthContainer=n.querySelector(`.${$E("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${$E("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${$E("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new K8(this.comp)),this.scrollFeature=this.createManagedBean(new w_e(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){let t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let n=t&&e.getScrollbarWidth()||0,i=YK()?16:0,r=`calc(100% + ${n+i}px)`;ru(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,n=this.gos.get("treeData");if(!n){let i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{let{target:i}=n,r=_p(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{let{target:i,relatedTarget:r}=n,o=t.contains(r),s=_p(r,"ag-root",t);_p(i,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss($_e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(W_e,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?xX:null,n=Bo(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&fwe(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,n=t.sizesMeasured,i=()=>{let r=n&&P0(this.gos)&&!e.stretching,o=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){let{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:o,touchSvc:s}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),s?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});let l=this.onStickyWheel.bind(this);for(let c of[t,n,i,r])this.addManagedElementListeners(c,{wheel:l});let d=this.onHorizontalWheel.bind(this);for(let c of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(c).eContainer,{wheel:d});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&Iw(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();let{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),o=t.getRowBorderWidth(),s=r-o,a=n?s+n:0,l=i?s+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=i+o;n.setStickyBottomBottom(`${s}px`)}},SX=class extends ri{constructor(e,t){super(),this.direction=t,this.eViewport=ft,this.eContainer=ft,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",qK()||Cp())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=YK(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ru(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;gwe(()=>Nl(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},K_e={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Y_e=class extends SX{constructor(){super(K_e,"horizontal"),this.eLeftSpacer=ft,this.eRightSpacer=ft,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Y8(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),zc(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),zc(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:i===0&&t?16:i,s=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),mw(this.getGui(),o),mw(this.eViewport,o),mw(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return YE(this.eViewport,this.enableRtl)}setScrollPosition(e){Nl(this.eViewport)||this.attemptSettingScrollPosition(e),XE(this.eViewport,e,this.enableRtl)}},X_e={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:Y_e},Z_e={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Q_e=class extends SX{constructor(){super(Z_e,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new yX(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),zc(this.getGui(),r),zc(this.eViewport,r),zc(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Nl(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},J_e={selector:"AG-FAKE-VERTICAL-SCROLL",component:Q_e};function exe(e){return e.cols?e.cols.treeDepth+1:-1}function Hc(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Z8(e){let t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let i of n){if(!i)continue;let r=i.getGroupRowCount()||0;for(let o=0;o<r;o++){let s=i.getGroupRowCtrlAtIndex(o),a=t[o];if(s){let l=txe(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function txe(e,t){let i=e.colModel.isPivotMode()?ixe(e):DX(e),r=t.getHeaderCellCtrls();for(let o of r){let{column:s}=o,a=s.getAutoHeaderHeight();a!=null&&a>i&&s.isAutoHeaderHeight()&&(i=a)}return i}function Q8(e){let n=e.colModel.isPivotMode()?nxe(e):Bw(e);return e.colModel.forAllCols(i=>{let r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function Bw(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function EX(e){return e.gos.get("floatingFiltersHeight")??Bw(e)}function DX(e){return e.gos.get("groupHeaderHeight")??Bw(e)}function nxe(e){return e.gos.get("pivotHeaderHeight")??Bw(e)}function ixe(e){return e.gos.get("pivotGroupHeaderHeight")??DX(e)}var rxe=class extends Be{setComp(e,t,n){this.comp=e,this.eGui=t;let{beans:i}=this,{headerNavigation:r,touchSvc:o,ctrlsSvc:s}=i;r&&this.createManagedBean(new X0(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();let a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o?.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ru(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,n=Z8(e).reduce((o,s)=>o+s,0),i=Q8(e);if(e.filterManager?.hasFloatingFilters()&&(t+=EX(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;let r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:o,focusSvc:s}=r;(o.navigateHorizontally(i,!0,e)||!n&&s.focusOverlay(!1)||$0(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:n}=this.beans;switch(e.key){case Ae.LEFT:t="LEFT";case Ae.RIGHT:{ut(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Ae.UP:t="UP";case Ae.DOWN:{ut(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(lr(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){let{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;let{target:o}=e??t;(o===this.eGui||o===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},J8=class extends ri{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},oxe={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},sxe=class extends J8{constructor(e){super(oxe,e),this.eResize=ft,this.eHeaderCompWrapper=ft,this.headerCompVersion=0}postConstruct(){let e=this.getGui(),t=(r,o)=>{o!=null&&o!=""?e.setAttribute(r,o):e.removeAttribute(r)},n=()=>{let r=this.ctrl.getSelectAllGui();r&&(this.eResize.insertAdjacentElement("afterend",r),this.addDestroyFunc(()=>r.remove()))};t("col-id",this.ctrl.column.getColId());let i={setWidth:r=>e.style.width=r,toggleCss:(r,o)=>this.toggleCss(r,o),setUserStyles:r=>Pw(e,r),setAriaSort:r=>r?rwe(e,r):owe(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:n,removeSelectAllGui:()=>this.ctrl.getSelectAllGui()?.remove()};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),n()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},axe={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},lxe=class extends J8{constructor(e){super(axe,e),this.eResize=ft,this.eHeaderCompWrapper=ft}postConstruct(){let e=this.getGui(),t=(i,r)=>r!=null?e.setAttribute(i,r):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let n={toggleCss:(i,r)=>this.toggleCss(i,r),setUserStyles:i=>Pw(e,i),setHeaderWrapperHidden:i=>{i?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:i=>{i!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${i}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",i!=null)},setResizableDisplayed:i=>nr(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let n=this.getGui(),i=e.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(n)}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:n}=this;t?n.style.setProperty(e,t):n.style.removeProperty(e)}},cxe={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},dxe=class extends J8{constructor(e){super(cxe,e),this.eFloatingFilterBody=ft,this.eButtonWrapper=ft,this.eButtonShowMainFilter=ft}postConstruct(){let e=this.getGui(),t={toggleCss:(n,i)=>this.toggleCss(n,i),setUserStyles:n=>Pw(e,n),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>nr(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},uxe=class extends ri{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){k8(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let n=this.headerComps;if(this.headerComps={},e.forEach(i=>{let r=i.instanceId,o=n[r];delete n[r],o==null&&(o=this.createHeaderComp(i),this.getGui().appendChild(o.getGui())),this.headerComps[r]=o}),Object.values(n).forEach(i=>{this.getGui().removeChild(i.getGui()),this.destroyBean(i)}),t){let i=Object.values(this.headerComps);i.sort((o,s)=>{let a=o.getCtrl().column.getLeft(),l=s.getCtrl().column.getLeft();return a-l});let r=i.map(o=>o.getGui());tY(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new lxe(e);break;case"filter":t=new dxe(e);break;default:t=new sxe(e);break}return this.createBean(t),t.setParentComponent(this),t}},e5=class extends Be{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Mi(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=ut(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:n,visibleCols:i}=this.beans;if(!Bo(n,"print")||e.getPinned()==="left")return t;let o=i.getColsLeftWidth();if(e.getPinned()==="right"){let s=i.bodyWidth;return o+s+t}return o+t}setLeft(e){if(ut(e)&&(this.eCell.style.left=`${e}px`),yr(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&iwe(this.ariaEl,t.length)}}},hxe=0,RX="headerCtrl",t5=class extends Be{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+hxe++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){let{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!ut(r))return!1;let o=Zt(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(o)}getWrapperHasFocus(){return lr(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,n;if(typeof t=="function"){let i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,o=u=>{if(!this.isAlive()||!i.isAlive())return;let{paddingTop:h,paddingBottom:p,borderBottomWidth:f,borderTopWidth:m}=Pp(this.eGui),g=h+p+f+m,w=t.offsetHeight+g;if(u<5){let E=xo(r),T=!E||!E.contains(t),F=w==0;if(T||F){n8(()=>o(u+1),"raf",r);return}}this.setColHeaderHeight(this.column,w)},s=!1,a,l=()=>{let u=this.column.isAutoHeaderHeight();u&&!s&&d(),!u&&s&&c()},d=()=>{s=!0,o(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=Nh(this.beans,t,()=>o(0))},c=()=>{s=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>c()),i.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),i.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),n&&n(l)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(oX(e,t,n.visibleCols),WK(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=Dp(this.beans);this.eGui&&Sa(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=lr(this.beans),n=e.key===Ae.LEFT||e.key===Ae.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;let r=e.key===Ae.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:n}=this,i=e.key===Ae.LEFT!==t.get("enableRtl"),r=n.getPinned(),o=t.get("enableRtl");return r&&o!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case Ae.PAGE_DOWN:case Ae.PAGE_UP:case Ae.PAGE_HOME:case Ae.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=RX,{eGui:n,gos:i}=this;Tp(i,n,t,this),e.addDestroyFunc(()=>Tp(i,n,t,null))}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){let i=e??t,{menuSvc:r,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},fxe=class extends t5{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;let{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:d,colHover:c,rangeSvc:u}=a,h=Ow(this,d,r);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:f=>this.setRefreshFunction("measuring",f),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(o.pinned,s,n,e,this)):nr(n,!1),c?.createHoverFeature(h,[s],t),u?.createRangeHighlightFeature(h,s,e),h.createManagedBean(new e5(s,t,a)),h.createManagedBean(new X0(t,{shouldStopEventPropagation:f=>this.shouldStopEventPropagation(f),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let p=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return Zt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return N1e(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return Zt(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||xa(this.gos)),showColumnMenu:(o,s)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t?.setSortForColumn(this.column,o,!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{let n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Ae.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===Ae.ENTER&&this.onEnterKeyDown(e),e.key===Ae.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){let n=this.comp.getUserCompInstance();oK(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),TCe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),n=rX(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:n,beans:i}=this,r=Z8(this.beans),o=r.reduce((c,u)=>c+=u,0)===0;if(n.toggleCss("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}let{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",s>0);let l=Q8(i);if(s===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);let d=0;for(let c=0;c<s;c++)d+=r[r.length-1-c];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${l+d}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Wye(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!xa(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(lr(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return oK(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function oK(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var pxe=0,FP=class extends Be{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=pxe++,this.allCtrls=[];let i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=Bo(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Ow(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Bo(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],n=Z8(this.beans),i=Q8(this.beans);t.push(...n),t.push(i),e?.hasFloatingFilters()&&t.push(EX(this.beans));let r=0;for(let s=0;s<this.rowIndex;s++)r+=t[s];let o=t[this.rowIndex];return{topOffset:r,rowHeight:o}}onVirtualColumnsChanged(e=!1){let t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);let n=i=>{let{focusSvc:r,visibleCols:o}=this.beans;return r.isHeaderWrapperFocused(i)?o.isVisible(i.column):!1};if(e)for(let[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;let i=e.getUniqueId(),r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new fxe(e,this));break}t.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{let r=n.getHeadersToRender(i,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){let n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},mxe=class extends Be{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:o,filterManager:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);let a=this.onDisplayedColumnsChanged.bind(this,s);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});let l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,colModel:n,filterManager:i}=this.beans,r=0,o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{let c=exe(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<c;u++){let h=this.createBean(new FP(r++,this.pinned,"group"));this.groupsRowCtrls.push(h)}},a=()=>{let c=r++,u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==c);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new FP(c,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!i?.hasFloatingFilters()&&!this.hidden;let c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){c();return}let u=r++;if(this.filtersRowCtrl){let h=this.filtersRowCtrl.rowIndex!==u;(!e||h)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new FP(u,this.pinned,"filter")))};s(),a(),l();let d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){let t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(iu(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){let i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;let{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Y8(e=>this.comp.setCenterWidth(`${e}px`),!0))}},gxe=class extends Be{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&xa(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(xa(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&iu(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(Cp()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!xa(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!xa(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return xa(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){let{positionBy:r,onClosedCallback:o}=t,s=t.column;if(r==="button"){let{buttonElement:a}=t;e?.showMenuAfterButtonClick(s,a,n,o,i)}else if(r==="mouse"){let{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(s,a,n,o,i)}else if(s){let a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),ru(a,()=>{let d=l.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);d&&e?.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(i),n,o,i)})}}};function sK(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var n5=class extends ri{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},_3=class extends n5{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},MX=class extends ri{constructor(){super()}},vxe={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},bxe=class extends MX{init(){let e=Jd(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??vxe),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},yxe={tag:"span",cls:"ag-overlay-no-rows-center"},wxe=class extends MX{init(){let e=Jd(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??yxe),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function Cxe(e,t,n){let i=rl(e,t,n);if(i){let{className:o}=i;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return i}let r=$i({tag:"span"});return r.appendChild(i),r}function rl(e,t,n){let i=null;e==="smallDown"?it(262):e==="smallLeft"?it(263):e==="smallRight"&&it(264);let r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){let o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{it(38,{iconName:e});return}if(typeof o=="string")return O8(o);if(N8(o))return o;it(133,{iconName:e});return}else{let o=t.registry.getIcon(e);return o||t.validation?.validateIcon(e),$i({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var _xe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",xxe={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Sxe=class extends ri{constructor(){super(),this.dragSource=null,this.eIcon=ft,this.eLabel=ft,this.eGhost=ft,this.registerCSS(_xe)}postConstruct(){let e=t=>Cxe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(xxe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eIcon:n,dragSource:i,dropIconMap:r,gos:o}=this;ts(n);let s=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),s=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(s===r.hide&&o.get("suppressDragLeaveHidesColumns"))&&s&&n.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},Exe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Dxe=class extends ri{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Exe)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;ts(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(nr(t,!1),Ah(t,"presentation")):(nr(t,!0),Ah(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(ZE(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return _w(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},TX=class extends Dxe{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||$ye(e)!==null?Cw(e,""):Cw(e,t??"")}setAriaLabel(e){return G0(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return zc(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Rxe(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var wp=class extends TX{constructor(e,t,n="text",i="input"){super(e,e?.template??Rxe(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=ft,this.eWrapper=ft,this.eInput=ft}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);let{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;let{inputName:r,inputWidth:o}=this.config;r!=null&&this.setInputName(r),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Sa(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return ZE(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Sa(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return G0(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return _w(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Sa(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";Sa(this.eInput,"autocomplete",t)}return this}},i5=class extends wp{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});let i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},r5={selector:"AG-CHECKBOX",component:i5},Mxe=".ag-checkbox-cell{height:100%}",Txe={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Ixe=class extends ri{constructor(){super(Txe,[r5]),this.eCheckbox=ft,this.registerCSS(Mxe)}init(e){this.refresh(e);let{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),GK(i,"polite"),this.addManagedListeners(i,{click:r=>{if(Ip(r),t.isDisabled())return;let o=t.getValue();this.onCheckboxChanged(o)},dblclick:r=>{Ip(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===Ae.SPACE&&!t.isDisabled()){e.eGridCell===lr(n)&&t.toggle();let o=t.getValue();this.onCheckboxChanged(o),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0,{value:i,column:r,node:o}=e;if(o.group&&r)if(typeof i=="boolean")t=i;else{let u=r.getColId();u.startsWith(y3)?t=i==null||i===""?void 0:i==="true":o.aggData&&o.aggData[u]!==void 0?t=i??void 0:n=!1}else t=i??void 0;let{eCheckbox:s}=this;if(!n){s.setDisplayed(!1);return}s.setValue(t);let a=e.disabled??!r?.isCellEditable(o);s.setDisabled(a);let l=this.getLocaleTextFunc(),d=A8(l,t),c=a?d:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;s.setInputAriaLabel(c)}onCheckboxChanged(e){let{params:t}=this,{column:n,node:i,value:r}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:i.rowIndex,rowPinned:i.rowPinned,state:"changed",oldValue:r,newValue:r}],{update:!0});let o=i.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:i,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),o||this.updateCheckbox(t)}},aK=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){let{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),ol(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(let t of this.visible)if(t.id==e)return t}clear(){let{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){let{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],r=Fxe(this.order);if(this.order.sort((s,a)=>(s.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,i)??this.order,!r)return;let o=mY(n);o==="bottom"||o==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){let{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function IX(e){if(e.level===-1)return!0;let t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?IX(t):!1}function PP(e,t){let{gos:n,rowModel:i,filterManager:r}=e;return K0(n,i)?!i.getRowNode(t.id):r?.isAnyFilterPresent()?!IX(t):n.get("pivotMode")?!t.group:!1}function kxe(e){return!!e.footer&&e.level===-1}function Axe(e){return!!e.pinnedSibling&&kxe(e.pinnedSibling)}function Fxe(e){let t=e.findIndex(Axe);if(t>-1)return e.splice(t,1)?.[0]}var lK=class extends Be{postConstruct(){let{gos:e,beans:t}=this;this.top=new aK(t,"top"),this.bottom=new aK(t,"bottom");let n=r=>PP(t,r.pinnedSibling),i=()=>{let r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(o=>this.pinRow(o,r(o)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:()=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(r=>r.hide(n)),this.refreshRowPositions(),this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Oxe),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{let n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Nxe(this.beans);return}let i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){let s=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(s,null,n),this.pinRow(a,t,n);return}let o=n&&Lxe(this.beans,e,n);if(o){o.forEach(s=>this.pinRow(s,t));return}if(t==null){let s=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(s);if(!a)return;a.delete(s);let l=s.pinnedSibling;OP(s),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{let s=cK(this.beans,e,t),a=this.getContainer(t);a.add(s),PP(this.beans,e)&&a.hide(l=>PP(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=Ph(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return dK(this.top)}getPinnedBottomTotalHeight(){return dK(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){let e=t=>{let n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(let i of e[n]){let r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{let n=new Set;e.forEachQueued(i=>{let r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(let i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){let{gos:e,beans:t,_grandTotalPinned:n}=this,i=t.rowModel;if(!so(e,i))return;let r=i.rootNode?.sibling;if(!r)return;let o=r.pinnedSibling,s=o&&this.findPinnedRowNode(o);if(n){if(s&&s.floating!==n&&(s.delete(o),OP(o)),!s||s.floating!==n){let a=cK(t,r,n);this.getContainer(n).add(a)}}else{if(!s)return;s.delete(o),OP(o)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){let t=n=>Pxe(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Pxe(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(Ph(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function cK(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;let i=QCe(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;let r=n==="top"?U8:W8;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function OP(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);let t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Oxe(e){let t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function Lxe(e,t,n){let{rowSpanSvc:i}=e,r=(n&&i?.isCellSpanning(n,t))??!1;if(n&&r)return i?.getCellSpan(n,t)?.spannedNodes}function dK(e){let t=e.size();if(t===0)return 0;let n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Nxe({gos:e,rowModel:t}){so(e,t)&&t.refreshModel({step:"map"})}var uK=class extends Be{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){let t=n=>{n.setRowHeight(n.rowHeight,!0)};aw(this.pinnedBottomRows,t),aw(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=Ph(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return aw(this.pinnedBottomRows,n),t=0,aw(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}let i=U0(this.gos),r=t==="top"?U8:W8,o=new Set(n.order),s=[],a=new Set,l=0,d=-1;for(let c of e){let u=i?.({data:c,level:0,rowPinned:t})??r+this.nextId++;if(a.has(u)){it(96,{id:u,data:c});continue}d++,a.add(u),s.push(u);let h=gw(n,u);if(h!==void 0)h.data!==c&&h.updateData(c),l+=this.setRowTopAndRowIndex(h,l,d),o.delete(u);else{let p=new Ap(this.beans);p.id=u,p.data=c,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,d),n.cache[u]=p,n.order.push(u)}}o.forEach(c=>{gw(n,c)?.clearRowTopAndRowIndex(),delete n.cache[c]}),n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Ph(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return hK(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return hK(this.pinnedBottomRows)}getPinnedTopRowCount(){return y8(this.pinnedTopRows)}getPinnedBottomRowCount(){return y8(this.pinnedBottomRows)}getPinnedTopRow(e){return b8(this.pinnedTopRows,e)}getPinnedBottomRow(e){return b8(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return gw(this.getCache(t),e)}forEachPinnedRow(e,t){return aw(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function hK(e){let t=y8(e);if(t===0)return 0;let n=b8(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function gw(e,t){return e.cache[t]}function b8(e,t){return gw(e,e.order[t])}function aw(e,t){e.order.forEach((n,i)=>{let r=gw(e,n);r&&t(r,i)})}function y8(e){return e.order.length}var Bxe=class extends Be{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){let{gos:e}=this,t=()=>{let n=e.get("enableRowPinning"),i=mY(e),o=!!n||(i==="pinnedBottom"||i==="pinnedTop"),s=o?this.inner instanceof uK:this.inner instanceof lK;this.inner&&s&&this.destroyBean(this.inner),(s||!this.inner)&&(this.inner=this.createManagedBean(o?new lK:new uK))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},Vxe="ROOT_NODE_ID",Hxe=class extends Be{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=Vxe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){let n=U0(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,o=new Set,s=this.rootNode,a=s.allLeafChildren,l=a.length,d=!1,c=!1,u=!1,h=!1;for(let f=0,m=-1,g=t.length;f<g;f++){let v=t[f],w=this.getRowNode(n({data:v,level:0}));if(!w)d=!0,w=this.createRowNode(v,-1),r.add(w);else{if(i){let E=w.sourceRowIndex;h||(h=E<=m||d),m=E}w.data!==v&&(u=!0,w.updateData(v),r.update(w))}o.add(w)}let p=[];for(let f=0;f<l;f++){let m=a[f];o.has(m)||(c=!0,m.isSelected()&&p.push(m),m.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(m.pinnedSibling,null),this.rowNodeDeleted(m),r.remove(m))}if(d||c||h){let f=new Array(o.size),m=0;if(!i)for(let v=0;v<l;++v){let w=a[v];o.delete(w)&&(w.sourceRowIndex=m,f[m++]=w)}for(let v of o)v.sourceRowIndex=m,f[m++]=v;s.allLeafChildren=f;let g=s.sibling;g&&(g.allLeafChildren=f),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=h)}(d||c||h||u)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();let t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=U0(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){let n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let u=0;u<i.length;u++)if(i[u]?.rowIndex==r-1){r=u+1;break}}let o=n.length,s=t.changedRowNodes,a=new Array(o);for(let c=0;c<o;c++){let u=this.createRowNode(n[c],r+c);s.add(u),a[c]=u}let l=this.rootNode;if(r<i.length){let c=i.slice(0,r),u=i.slice(r,i.length),h=c.length+a.length;for(let p=0,f=u.length;p<f;++p)u[p].sourceRowIndex=h+p;i=[...c,...a,...u],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;let d=l.sibling;d&&(d.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{remove:o}=t;if(!o?.length)return;let s={};o.forEach(d=>{let c=this.lookupRowNode(e,d);c&&(c.isSelected()&&r.push(c),c.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(c.pinnedSibling,null),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete this.allNodesMap[c.id],i.remove.push(c),n.remove(c))});let a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(d=>!s[d.id])??null,a.allLeafChildren?.forEach((d,c)=>{d.sourceRowIndex=c});let l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{update:o}=t;o?.length&&o.forEach(s=>{let a=this.lookupRowNode(e,s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){let t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){let n=new Ap(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&it(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){let i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return Ti(4,{id:i}),null}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return Ti(5,{data:t}),null;return n||null}};var zxe={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},jxe=class extends ri{constructor(){super(zxe,[r5]),this.eCheckbox=ft}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=A8(e,i),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Ip,click:i=>{Ip(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let o=typeof i=="object"?EP(i):void 0,s=typeof r=="object"?EP(r):void 0;o!==s&&this.onSelectableChanged()}),s8(this.gos)||typeof this.getIsVisible()=="function"){let i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){let{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,o=this.getIsVisible(),s;if(typeof o=="function"){let u=n?.callbackParams;if(!e)s=o(Le(re({},u),{node:t,data:t.data}));else{let h=e.createColumnFunctionCallbackParams(t);s=o(re(re({},u),h))}}else s=o??!1;let a=r&&!s||!r&&s,l=r||s,d=i.get("rowSelection"),c=d&&typeof d!="string"?!EP(d):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?c:!0)),this.setDisplayed(l&&(a?c:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?O0(t):this.column?.getColDef()?.checkboxSelection}},Gxe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t,{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){let r=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:o}:{keep:o,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){let n=this.getRoot();if(n==null){let r=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&r.push(o)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}let i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){let{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return tl(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){let r=tl(n,"bottom",void 0,e),o=i.getRowCount(),s=i.getRow(o-1);return(i.getNodesInRangeForSelection(t,s)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return tl(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){let r=tl(n,"top",t,void 0),o=tl(n,"bottom",void 0,e),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(!e.rowPinned&&t.rowPinned==="top")return tl(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){let r=tl(n,"top",e,void 0),o=tl(n,"bottom",void 0,t),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return tl(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){let r=tl(n,"bottom",void 0,t),o=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,o)??[]).concat(r)}return null}},Uxe=class extends Be{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(lr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new i5);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Ah(t.getGui(),"presentation"),this.showOrHideSelectAll();let n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let o=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;o(i)!==o(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);let r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${s})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Ew(this.gos)?!0:(it(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:n}=this.beans;return so(t)||K0(t)?!0:(it(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");let i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){let{column:e,gos:t,beans:n}=this,o=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return kX(n,e)&&this.checkRightRowModelType(o)&&this.checkSelectionType(o)}getSelectAllMode(){let e=yY(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function kX({gos:e,selectionColSvc:t},n){let i=e.get("rowSelection"),r=n.getColDef(),{headerCheckboxSelection:o}=r,s=!1;if(typeof i=="object"){let l=Lp(n),d=z8(n);(JE(i)==="autoGroupColumn"&&d||l&&t?.isSelectionColumnEnabled())&&(s=zE(i))}else typeof o=="function"?s=o(Zt(e,{column:n,colDef:r})):s=!!o;return s}var Wxe=class extends Be{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new Gxe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let n=s8(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=s8(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new jxe}createSelectAllFeature(e){if(kX(this.beans,e))return new Uxe(e)}isMultiSelect(){return Ew(this.gos)}onRowCtrlSelected(e,t,n){let i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);let o=r.element;QP(o,i),o.contains(lr(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected();if(!e.selectable)return;let i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Lw(e)||!xp(this.gos)}updateRowSelectable(e,t){let n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Dw(this.gos)){let r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){let r=e.childrenAfterGroup[i],o=r.isSelected();if(!r.selectable){let s=this.calculateSelectedFromChildren(r);if(s===null)continue;o=s}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){let r=!e.selectable&&t,o=e.__selected===t;if(r||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");let a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(Le(re({},XCe(e,this.gos,"rowSelected")),{event:n||null,source:i})),!0}isCellCheckboxSelection(e,t){let n=this.gos.get("rowSelection");if(n&&typeof n!="string"){let i=Lp(e)&&O0(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){let{gos:r,selectionCtx:o}=this,s=e.isSelected(),a=Dw(r),l=Fwe(r),d=Pwe(r),c=this.isMultiSelect(),u=i==="rowClicked";if(u&&!(l||d))return null;if(t&&n&&c){let h=o.getRoot();if(h)if(h.isSelected()){let p=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:p.discard,select:p.keep,reset:!1}}else{let p=o.extend(e,a);return{select:[],deselect:p.keep,reset:!1}}else return null}else if(t&&c){let h=o.selectAll?this.beans.rowModel.getRow(0):void 0,p=o.getRoot(h),f=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:f.keep,deselect:f.discard,reset:o.selectAll||!!(p&&!p.isSelected())}}else if(n){if(u){let h=!s;return h&&!l||!h&&!d?null:(o.setRoot(e),{node:e,newValue:h,clearSelection:!1})}return o.setRoot(e),{node:e,newValue:!s,clearSelection:!c}}else{o.setRoot(e);let h=Owe(r),p=t3(r)==="filteredDescendants",f=u&&(!h||!l);if(p&&s===void 0&&so(r))return{node:e,newValue:!1,clearSelection:!c||f};if(u){let m=s?!h:l;return m===s&&!f||m&&!l||!m&&!d?null:{node:e,newValue:m,clearSelection:!c||f,keepDescendants:e.group&&a}}return{node:e,newValue:!s,clearSelection:!c||f}}}},$xe=class extends i5{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}};var Bp=class extends wp{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let n=this.eInput;return n.value!==e&&(n.value=ut(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{bX(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{let i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},x3={selector:"AG-INPUT-TEXT-FIELD",component:Bp},qxe=class extends wp{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Kxe={selector:"AG-INPUT-TEXT-AREA",component:qxe},o5=class extends Bp{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let o=parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){lr(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){let n=this.precision;if(n==null)return e;if(t){let r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}let i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Sa(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Sa(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Sa(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ut(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);let r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Yxe={selector:"AG-INPUT-NUMBER-FIELD",component:o5},Xxe=class extends Bp{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=Fp();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){lr(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?Ea(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Sa(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?Ea(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Sa(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Sa(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return ea(this.getValue())??void 0}setDate(e,t){this.setValue(Ea(e??null,this.includeTime),t)}},AX={selector:"AG-INPUT-DATE-FIELD",component:Xxe},Zxe=class extends ri{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case Ae.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Ae.DOWN:case Ae.UP:e.preventDefault(),this.navigate(t);break;case Ae.PAGE_DOWN:case Ae.PAGE_UP:case Ae.PAGE_HOME:case Ae.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===Ae.DOWN,n,{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let s=i.indexOf(r)+(t?1:-1);s=Math.min(Math.max(s,0),i.length-1),n=i[s]}this.highlightItem(n)}navigateToPage(e){let{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;let i=t.indexOf(n),r=this.options.length-1,o=t[0].clientHeight,s=Math.floor(this.getGui().clientHeight/o),a=-1;e===Ae.PAGE_HOME?a=0:e===Ae.PAGE_END?a=r:e===Ae.PAGE_DOWN?a=Math.min(i+s,r):e===Ae.PAGE_UP&&(a=Math.max(i-s,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Cs(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){let e=this.getGui();Ah(e,this.options.length===0?"presentation":"listbox")}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{Qye(t,n+1),Zye(t,e.length)})}renderOption(e,t){let n=$i({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=$i({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let n=this.options.findIndex(i=>i.value===e);if(n!==-1){let i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Nl(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),QP(e,!0);let t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:o}=e;(r+o>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){let e=this.highlightedEl;!e||!Nl(e)||(e.classList.remove(this.activeClass),QP(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Qxe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.ag-picker-has-focus:not(.invalid)),&:where(:focus-within:not(.invalid)){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}&:disabled{opacity:.5}}",Jxe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},eSe=class extends TX{constructor(e){if(super(e,e?.template||Jxe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ft,this.eWrapper=ft,this.eDisplayField=ft,this.eIcon=ft,this.registerCSS(Qxe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:i}=this.config;if(n){let r=rl(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),ZP(e,!1),this.ariaRole&&Ah(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Ae.UP:case Ae.DOWN:case Ae.ENTER:case Ae.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ae.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:d,eWrapper:c}=this,u={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let m=fY(d);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:c};e.style.position="absolute";let h=d.popupSvc,p=h.addPopup(u);l?(s&&(e.style.minWidth=s),e.style.width=L8(KE(c)),a&&(e.style.maxWidth=a)):ZE(e,a??KE(c));let f=o??`${P8(h.getPopupParent())}px`;return e.style.setProperty("max-height",f),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:o}=this,s=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();ZP(t,e);let n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return ZE(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},tSe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",s5=class extends eSe{constructor(e){super(re({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(tSe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:HE(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new Zxe("select",!0));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),awe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===Ae.TAB&&this.hidePicker(),t){case Ae.ENTER:case Ae.UP:case Ae.DOWN:case Ae.PAGE_UP:case Ae.PAGE_DOWN:case Ae.PAGE_HOME:case Ae.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Ae.ESCAPE:super.onKeyDown(e);break;case Ae.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){let{listComponent:i,config:{placeholder:r},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),o.textContent=l,s?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},nSe={selector:"AG-SELECT",component:s5},LP={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},iSe=class extends Be{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:d,shouldStopEventPropagation:c,onTabKeyDown:u,handleKeyDown:h,isEmpty:p,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=d,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new X0(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():V0(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=xo(this.beans),n=V0(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,o;e?(r=0,o=i):(r=i+1,o=n.length);let s=n.slice(r,o),a=this.gos.get("tabIndex");s.sort((l,d)=>{let c=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(d.getAttribute("tabindex")||"0");return u===a?1:c===a?-1:c===0?1:u===0?-1:c-u}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=V0(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Np(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},rSe=class extends Be{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],o={setTabIndex:g=>{r.forEach(v=>g!=null?v.setAttribute("tabindex",g):v.removeAttribute("tabindex"))}};this.addTabGuards(t,n);let{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:d,handleKeyDown:c,onTabKeyDown:u,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new iSe({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:d,handleKeyDown:c,onTabKeyDown:u,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=xo(this.beans).createElement("div"),n=e==="top"?LP.TAB_GUARD_TOP:LP.TAB_GUARD_BOTTOM;return t.classList.add(LP.TAB_GUARD,n),Ah(t,"presentation"),t}addTabGuards(e,t){let n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];ts(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){N8(t)||(t=t.getGui());let{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;Cs(e),Cs(t),super.destroy()}},FX=class extends ri{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new rSe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},yp=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Mp,this.preventMouseClick=t;let n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;let i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!aX(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};var oSe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},a5=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${rY}/${this.frameworkName}-data-grid`,ywe(this.baseDocLink)}setInterval(e,t){return new br(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){let o=DY(t);o!=null&&(r.passive=o)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function sSe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var aSe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],fK=Object.fromEntries(aSe.map((e,t)=>[e,t]));function lSe(e,t){let n=(e.beanName?fK[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?fK[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function cSe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var dSe={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},uSe={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},hSe={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},NP=class extends ri{constructor(e){super(),this.eCenterContainer=ft,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{let i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new mxe(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",n=e?dSe:t?uSe:hSe;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==ft?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n,i=r=>{let o=r.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),n&&eY(this.eRowContainer,o,n),n=o};e.forEach(r=>{let o=r.instanceId,s=t[o];delete t[o];let a=s||this.createBean(new uxe(r));this.headerRowComps[o]=a,this.rowCompsList.push(a),i(a)}),Object.values(t).forEach(r=>this.destroyRowComp(r))}},fSe={tag:"div",cls:"ag-header",role:"presentation"},pSe=class extends ri{constructor(){super(fSe)}postConstruct(){let e={toggleCss:(i,r)=>this.toggleCss(i,r),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new rxe).setComp(e,this.getGui(),this.getFocusableElement());let n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new NP("left")),n(new NP(null)),n(new NP("right"))}},mSe={selector:"AG-HEADER-ROOT",component:pSe},gSe=class extends ri{constructor(e,t,n,i,r){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.gos=e.gos,this.column=t.column,this.rowNode=t.rowNode,this.eRow=i;let o=$i({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.column.colIdSanitised}});this.eCell=o;let s;t.isCellSpanning()?(s=$i({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),s.appendChild(o),this.setTemplateFromElement(s)):this.setTemplateFromElement(o),this.cellCssManager=new zY(()=>o),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let a={toggleCss:(l,d)=>this.cellCssManager.toggleCss(l,d),setUserStyles:l=>Pw(o,l),getFocusableElement:()=>o,setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,d,c)=>this.setRenderDetails(l,d,c),setEditDetails:(l,d,c)=>this.setEditDetails(l,d,c),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(l,d)=>this.refreshEditStyles(l,d)};t.setComp(a,o,s,this.eCellWrapper,n,r,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){let e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;i&&(this.eCellWrapper=$i({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));let r=!n&&this.eCellWrapper!=null;r&&(Cs(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!n);let o=!e&&n,s=o&&this.eCellValue==null;s&&(this.eCellValue=$i({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));let a=!o&&this.eCellValue!=null;a&&(Cs(this.eCellValue),this.eCellValue=void 0);let l=i||r||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){let{cellCtrl:e,eCellWrapper:t,eCellValue:n,includeRowDrag:i,includeDndSource:r,includeSelection:o}=this,s=a=>{a&&t.insertBefore(a.getGui(),n)};i&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),s(this.rowDraggingComp)),r&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),s(this.dndSourceComp)),o&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),s(this.checkboxSelectionComp))}createCellEditorInstance(e,t,n){let i=this.editorVersion,r=e.newAgStackInstance(),{params:o}=e;r.then(a=>this.afterCellEditorCreated(i,a,o,t,n)),er(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();ts(t);let n=Y0(e);n!=null&&(t.textContent=n)}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Cs(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(lr(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Cs(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let t=this.rendererVersion,n=o=>s=>{if(this.rendererVersion!==t||!this.isAlive())return;let l=o.newAgStackInstance(),d=this.afterCellRendererCreated.bind(this,t,o.componentClass);l?.then(d)},{animationFrameSvc:i}=this.beans,r;if(i?.active&&this.firstRender?r=(o,s=!1)=>{i.createTask(n(o),this.rowNode.rowIndex,"p2",o.componentFromFramework,s)}:r=o=>n(o)(),e.params?.deferRender&&!this.cellCtrl.rowNode.group){let{loadingComp:o,onReady:s}=this.cellCtrl.getDeferLoadingCellRenderer();o&&(r(o),s.then(()=>r(e,!0)))}else r(e)}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}this.cellRenderer=n,this.cellRendererClass=t;let r=n.getGui();if(this.cellRendererGui=r,r!=null){let o=this.getParentOfValue();ts(o),o.appendChild(r)}}afterCellEditorCreated(e,t,n,i,r){let o=e!==this.editorVersion,{context:s}=this.beans;if(o){s.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){s.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){it(97,{colId:this.column.getId()}),s.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let l=i||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached?.(),this.cellCtrl.enableEditorTooltipFeature(t),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssManager:n}=this;n.toggleCss("ag-cell-inline-editing",e&&!t),n.toggleCss("ag-cell-popup-editing",e&&!!t),n.toggleCss("ag-cell-not-inline-editing",!e||!!t)}addInCellEditor(){let{eCell:e}=this;e.contains(lr(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),ts(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){let{gos:n,context:i,popupSvc:r,localeSvc:o,editSvc:s}=this.beans;n.get("editType")==="fullRow"&&it(98);let a=this.cellEditor;this.cellEditorPopupWrapper=i.createBean(s.createPopupEditorWrapper(e));let l=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&l.appendChild(this.cellEditorGui);let d=n.get("stopEditingWhenCellsLoseFocus"),c=t??a.getPopupPosition?.()??"over",u=n.get("enableRtl"),h={ePopup:l,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:c,alignSide:u?"right":"left",keepWithinBounds:!0},p=r.positionPopupByComponent.bind(r,h),f=I8(o),m=r.addPopup({modal:d,eChild:l,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:p,ariaLabel:f("ariaLabelCellEditor","Cell Editor")});m&&(this.hideEditorPopup=m.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},vSe=class extends ri{constructor(e,t,n){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;let i=$i({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(i,n),this.setTemplateFromElement(i);let r=i.style;this.domOrder=this.rowCtrl.getDomOrder();let o={setDomOrder:s=>this.domOrder=s,setCellCtrls:s=>this.setCellCtrls(s),showFullWidth:s=>this.showFullWidth(s),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,toggleCss:(s,a)=>this.toggleCss(s,a),setUserStyles:s=>Pw(i,s),setTop:s=>r.top=s,setTransform:s=>r.transform=s,setRowIndex:s=>i.setAttribute("row-index",s),setRowId:s=>i.setAttribute("row-id",s),setRowBusinessKey:s=>i.setAttribute("row-business-key",s),refreshFullWidth:s=>this.fullWidthCellRenderer?.refresh?.(s())??!1};e.setComp(o,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}setInitialStyle(e,t){let n=this.rowCtrl.getInitialTransform(t);if(n)e.style.setProperty("transform",n);else{let i=this.rowCtrl.getInitialRowTop(t);i&&e.style.setProperty("top",i)}}showFullWidth(e){let t=i=>{if(this.isAlive()){let r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=new Map(this.cellComps);for(let n of e){let i=n.instanceId;this.cellComps.has(i)?t.delete(i):this.newCellComp(n)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];for(let n of e){let i=this.cellComps.get(n.instanceId);i&&t.push(i.getGui())}tY(this.getGui(),t)}newCellComp(e){let t=this.beans.editSvc?.isEditing(e,{withOpenEditor:!0})??!1,n=new gSe(this.beans,e,this.rowCtrl.printLayout,this.getGui(),t);this.cellComps.set(e.instanceId,n),this.getGui().appendChild(n.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(let t of e.values()){if(!t)return;let n=t.cellCtrl.instanceId;if(this.cellComps.get(n)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(n)}}};function bSe(e,t,n){let i=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,r={tag:"div",ref:"eContainer",cls:$E(e),role:"rowgroup"};if(t.type==="center"||i){let o={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${P_e(e)}`,role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:`ag-viewport ${wX(e)}`,role:"presentation",children:[r,i?o:null]}}return r}var ySe=class extends ri{constructor(e){super(),this.eViewport=ft,this.eContainer=ft,this.eSpannedContainer=ft,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=Nw(this.name)}postConstruct(){this.setTemplate(bSe(this.name,this.options,this.beans));let e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setSpannedRowCtrls:n=>this.setRowCtrls(n,!0),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>{this.eContainer.style.width=n,this.eSpannedContainer&&(this.eSpannedContainer.style.width=n)},setOffsetTop:n=>{let i=`translateY(${n})`;this.eContainer.style.transform=i,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=i)}};this.createManagedBean(new U_e(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:n,options:i}=this,r=t?this.eSpannedContainer:this.eContainer,o=t?re({},this.rowCompsWithSpan):re({},this.rowCompsNoSpan),s={};t?this.rowCompsWithSpan=s:this.rowCompsNoSpan=s,this.lastPlacedElement=null;let a=[];for(let l of e){let d=l.instanceId,c=o[d],u;if(c)u=c,delete o[d];else{if(!l.rowNode.displayed)continue;u=new vSe(l,n,i.type)}s[d]=u,a.push([u,!c])}this.removeOldRows(Object.values(o),r),this.addRowNodes(a,r)}addRowNodes(e,t){let{domOrder:n}=this;for(let[i,r]of e){let o=i.getGui();n?this.ensureDomOrder(o,t):r&&t.appendChild(o)}}removeOldRows(e,t){for(let n of e)t.removeChild(n.getGui()),n.destroy()}ensureDomOrder(e,t){eY(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},wSe={selector:"AG-ROW-CONTAINER",component:ySe};function lw(e,t){return t.map(n=>{let i=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[i]={name:n},{tag:"ag-row-container",ref:i,attrs:{name:n}}})}function CSe(e){let t={},n={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:lw(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:lw(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:lw(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:lw(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:lw(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:n}}var _Se=class extends ri{constructor(){super(...arguments),this.eGridRoot=ft,this.eBodyViewport=ft,this.eStickyTop=ft,this.eStickyBottom=ft,this.eTop=ft,this.eBottom=ft,this.eBody=ft}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,n=e?.getOverlayWrapperSelector(),{paramsMap:i,elementParams:r}=CSe(!!n);this.setTemplate(r,[...n?[n]:[],X_e,J_e,mSe,wSe],i);let o=(a,l)=>{let d=`${a}px`;l.style.minHeight=d,l.style.height=d},s={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>nwe(this.getGui(),a),setRowCount:a=>ewe(this.getGui(),a),setTopHeight:a=>o(a,this.eTop),setBottomHeight:a=>o(a,this.eBottom),setTopInvisible:a=>this.eTop.classList.toggle("ag-invisible",a),setBottomInvisible:a=>this.eBottom.classList.toggle("ag-invisible",a),setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-invisible",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.toggleCss(a,l),updateLayoutClasses:(a,l)=>{let d=[this.eBodyViewport.classList,this.eBody.classList];for(let c of d)c.toggle(Ol.AUTO_HEIGHT,l.autoHeight),c.toggle(Ol.NORMAL,l.normal),c.toggle(Ol.PRINT,l.print);this.toggleCss(Ol.AUTO_HEIGHT,l.autoHeight),this.toggleCss(Ol.NORMAL,l.normal),this.toggleCss(Ol.PRINT,l.print)},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle(xX,l),registerBodyViewportResizeListener:a=>{let l=Nh(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(d=>d.classList.toggle(a,l))},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>Ah(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new q_e),this.ctrl.setComp(s,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&nu(this.gos)||Ew(this.gos))&&Jye(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let n=this.eBodyViewport.classList;n.toggle("ag-row-animation",t),n.toggle("ag-row-no-animation",!t)}},xSe={selector:"AG-GRID-BODY",component:_Se},SSe=class extends Be{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),dX(this.gos,t),this.createManagedBean(new K8(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let o=Nh(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),r.register("gridCtrl",this)}isDetailGrid(){return sX(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){let{visibleCols:r,focusSvc:o}=this.beans,s=r.allCols,a=Mi(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,o=r.allCols;if(e){if(n.length>1)return this.focusContainer(Mi(n),e);let s=Mi(o);if(i.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Dp(this.beans)){if(i.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<n.length;s++)if(kp(n[s].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;let r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!w3(e)||!Dp(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let n=lr(this.beans),i=e.findIndex(o=>o.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);let n=kp(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ESe=class extends FX{constructor(e){super(),this.gridBody=ft,this.sideBar=ft,this.pagination=ft,this.rootWrapperBody=ft,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCss(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new SSe),n=t.getOptionalSelectors(),i=this.createTemplate(n),r=[xSe,...Object.values(n).filter(o=>!!o)];this.setTemplate(i,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),Fh(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let n=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=Ol,{autoHeight:s,normal:a,print:l}=t;n.toggle(i,s),n.toggle(r,a),n.toggle(o,l),this.toggleCss(i,s),this.toggleCss(r,a),this.toggleCss(o,l)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,n=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,i=e.statusBarSelector?{tag:"ag-status-bar"}:null,r=e.watermarkSelector?{tag:"ag-watermark"}:null,o=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},n]},i,o,r]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>Nl(t.getGui()))}},hn=(e,t)=>{for(let n of Object.keys(t))t[n]=e;return t},pK=re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re(re({dispatchEvent:"CommunityCore"},hn("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0})),hn("GridState",{getState:0,setState:0})),hn("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),hn("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),hn("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),hn("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),hn("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),hn("ValueCache",{expireValueCache:0})),hn("CellApi",{getCellValue:0})),hn("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),hn("Sort",{onSortChanged:0})),hn("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0})),hn("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),hn("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),hn("HighlightChanges",{flashCells:0})),hn("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0})),hn("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),hn("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),hn("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),hn("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),hn("ColumnResize",{setColumnWidths:0})),hn("ColumnHover",{isColumnHovered:0})),hn("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0})),hn("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0})),hn("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),hn("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),hn("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0})),hn("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),hn("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),hn("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),hn("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),hn("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),hn("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),hn("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),hn("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),hn("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),hn("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),hn("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),hn("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),hn("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),hn("ContextMenu",{showContextMenu:0})),hn("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),hn("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),hn("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),hn("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),hn("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),hn("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),hn("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),hn("StatusBar",{getStatusPanel:0})),BP={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},DSe=(e,t)=>e.eventSvc.dispatchEvent(t),PX=class{};Reflect.defineProperty(PX,"name",{value:"GridApi"});var RSe=class extends Be{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new PX,this.fns=Le(re({},BP),{dispatchEvent:DSe}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(pK))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:n,beans:i}=this;n!==BP&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:n,preDestroyLink:i}=this;if(!t)it(26,{fnName:e,preDestroyLink:i});else{let r=pK[e];n.assertModuleRegistered(r,`api.${e}`)&&it(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=BP,this.beans=null}};function MSe(e){return e.context.getGridId()}function TSe(e){e.gridDestroySvc.destroy()}function ISe(e){return e.gridDestroySvc.destroyCalled}function kSe(e,t){return e.gos.get(t)}function ASe(e,t,n){OX(e,{[t]:n})}function OX(e,t){e.gos.updateGridOptions({options:t})}function FSe(e,t){let n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var PSe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},OSe=class extends ri{constructor(e,t,n){super(PSe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(rl("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:n,eCell:i,gos:r}=this,o=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(i,0,0),o){let a=Zt(r,{rowNode:t,dragEvent:e});o(a)}else try{let a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function LSe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function NSe(e,t){let n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function BSe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function VSe(e){let t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function HSe(e,t){let n=e.rowDropHighlightSvc;if(!n)return;let i=t?.row,r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");let o=i?.rowIndex;o==null||r==="none"?n.clear():n.set(i,r)}var zSe=class extends Be{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},jSe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},GSe=class extends ri{constructor(e,t,n,i,r,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(jSe),this.getGui().appendChild(rl("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){let r=i.get("rowDragManaged")?new WSe(this,t,n):new USe(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault()}})[0]);let n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let i=this.getDragItem(),r=i.rowNodes?.length||1,o=this.getRowDragText(this.column);return o?o(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},LX=class extends Be{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){let n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let i=!t,r=!1,{column:o,rowNode:s,parent:a}=this;if(o){let l=o.getColDef().rowDrag;r=typeof l=="function",i=(t?!!l:o.isRowDrag(s))||a.isCustomGui()}r?(a.setDisplayed(!0,n),a.setVisible(i&&!t,n)):(a.setDisplayed(i,n),a.setVisible(!t,n))}}},USe=class extends LX{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},WSe=class extends LX{postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),o=n.get("suppressRowDrag"),s=t.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a,this.rowNode.footer)}},kw=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){let i=e.childrenAfterGroup;if(i)for(let r=0,o=i.length;r<o;++r){let s=i[r];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,n):n&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){let i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){let r=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},$Se=class extends Be{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;let t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){let{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;so(t,e)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{let r=i.gridBodyCtrl,o=0,s=()=>r.scrollFeature.getVScrollPosition().top;this.autoScrollService=new oSe({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:s,setVerticalPosition:a=>r.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{let a=s();if(o!==a){o=a;let l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();let e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let i=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((r,o)=>r.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){let{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e);if(!(i.get("rowDragManaged")&&this.shouldPreventRowMove()))if(i.get("suppressMoveWhenRowDragging")||!r){if(n.isDropZoneWithinThisGrid(e)){let s=this.managedRowsDrop(e,t),a=s?.target,l=this.beans.rowDropHighlightSvc;a&&s.rows.length?l.set(a,s.position):l.clear()}}else{let s=this.managedRowsDrop(e,t);s&&this.dropRows(s)}}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(Mi(t.split("-")),10)}managedRowsDrop(e,t){let{rowNode:n,rowNodes:i}=e.dragItem,o=i?.length&&(n??i[0]);if(!o)return this.makeGroupThrottleClear(),null;let{beans:s,gos:a,clientSideRowModel:l}=this,d=l.rootNode,c=Xq(s,e).y,u=l.getRowIndexAtPixel(c),h=l.getRow(u)??null,p=o!==h,f=h?(c-h.rowTop-h.rowHeight/2)/h.rowHeight||0:1,m=this.isFromThisGrid(e),v=_Y(a)!=="group"&&m,w=null;if(v&&h?.footer){w=h.sibling??d;let R=vw(l,-1,h)??vw(l,1,h);f=R&&R.rowIndex>h.rowIndex?-.5:.5,h=R??null}let E=f<0,T=!1;if(m&&h){if(p){if(T=i.indexOf(h)>=0,T){let R=qSe(l,u<o.rowIndex,i);R?.parent===h.parent&&(h=R,u=h.rowIndex)}}else{if(Math.abs(f)<=.5)return this.makeGroupThrottleClear(),null;T=!0}(T||!v&&Math.abs(u-o.rowIndex)===1)&&(E=u<o.rowIndex)}let F=this.makeGroupThrottleTarget;F!==null&&F!==h&&this.makeGroupThrottleClear(),h?.expanded&&h.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=h),w===null&&v&&(!h||f>=.5&&h.rowIndex===s.pageBounds.getLastRow()?w=d:this.targetShouldBeParent(h,f,T,i)&&(this.makeGroupThrottled&&(w=h),t&&(w===null||!h.expanded)&&(this.makeGroupThrottleTarget=h,this.makeGroupThrottleStart())),w??(w=h?.parent??d));let k=!1;if(w!==null){if(w===h&&w!==d){k=!0;let R=w.expanded?vw(l,1,h):null;R?.parent===w&&(h=R,k=!1,E=!0)}if(h&&!k){let R=h;for(;R&&R!==d&&R!==w;)h=R,R=R.parent}YSe(i,w)&&(w=null)}if(!w&&T&&(v||o===h))return null;let L=k?"inside":E?"above":"below",V={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:m,position:L,source:o,target:h,newParent:w,rows:i},j=!1,z=a.get("isRowValidDropPosition");if(z){let R=z(V);R?typeof R=="object"&&(R.rows!==void 0&&(V.rows=R.rows??n3),R.newParent!==void 0&&(V.newParent=R.newParent),R.target!==void 0&&(V.target=R.target),R.position&&(j=!0,V.position=R.position)):V.rows=n3}return(!V.newParent||!V.rows.length)&&!j&&(V.position=E?"above":"below"),V}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;let e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){let r=e?.rowIndex;if(n||r===null)return!1;let o=.25;if(t<-.5+o)return!1;if(t<.5-o)return!0;let s,a=r+1,l=this.clientSideRowModel;do s=l.getRow(a++);while(s&&s.footer);let d=e.childrenAfterGroup;if(s&&s.parent===e&&d?.length){let c=new Set(i);for(let u of d)if(u.rowIndex!==null&&!c.has(u))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){it(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e)){it(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));let i=re({isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0},n);t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){let t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this),s=this.onDragCancel.bind(this),a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:o,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){let n=this.beans,{pageBounds:i,rowModel:r,gos:o}=n,s=Xq(this.beans,t).y,a=s>i.getCurrentPagePixelRange().pageLastPixel,l=-1,d;return a||(l=r.getRowIndexAtPixel(s),d=r.getRow(l)),Zt(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:d,y:s,vDirection:t.vDirection})}dispatchGridEvent(e,t){let n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){let i=this.managedRowsDrop(e,!1);i&&this.dropRows(i),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){let i=U0(this.gos),r=this.clientSideRowModel,o=n.filter(({data:a,rowPinned:l})=>!r.getRowNode(i?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(o.length===0)return!1;let s=t?mK(t)+(e==="above"?0:1):void 0;return r.updateRowData({add:o,addIndex:s}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new kw(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:i}){let r=!1,o=this.clientSideRowModel,s=new Set;for(let c of n){if(c.footer||c.rowTop===null&&c!==o.getRowNode(c.id))continue;if(i&&c.parent!==i){if(KSe(c,i))continue;c.treeParent=i,r=!0}let u=NX(c);u&&s.add(u)}if(!r&&s.size===0)return!1;let a=this.beans.focusSvc,l=a.getFocusedCell(),d=l&&T0(this.beans,l);return s.size&&this.reorderLeafChildren(s,...this.getMoveRowsBounds(s,t,e==="above"))&&(r=!0),r?(this.refreshModelAfterDrop(),d?d.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){let i=this.clientSideRowModel.rootNode?.allLeafChildren.length??0,r=mK(t);r<0||r>=i?r=i:n||++r;let o=r,s=Math.min(r,i-1);for(let a of e){let l=a.sourceRowIndex;l<o&&(o=l),l>s&&(s=l)}return[o,r,s]}reorderLeafChildren(e,t,n,i){let r=!1,o=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!o)return!1;let s=t;for(let l=t;l<n;++l){let d=o[l];e.has(d)||(d.sourceRowIndex!==s&&(d.sourceRowIndex=s,o[s]=d,r=!0),++s)}let a=i;for(let l=i;l>=n;--l){let d=o[l];e.has(d)||(d.sourceRowIndex!==a&&(d.sourceRowIndex=a,o[a]=d,r=!0),--a)}for(let l of e)l.sourceRowIndex!==s&&(l.sourceRowIndex=s,o[s]=l,r=!0),++s;return r}},qSe=(e,t,n)=>t?vw(e,-1,n[0]):vw(e,1,Mi(n)),vw=(e,t,n)=>{if(n){let i=e.getRowCount(),r=n.rowIndex+t;for(;r>=0&&r<i;){let o=e.getRow(r);if(!o||!o.footer)return o;r+=t}}},KSe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},YSe=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},mK=e=>{let t=NX(e);return t!==void 0?t.sourceRowIndex:-1},NX=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;let t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},XSe=class extends Be{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){let n=t.createManagedBean(new $Se(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,o){return new GSe(e,t,n,i,r,o)}createRowDragCompForRow(e,t){if(nu(this.gos))return;let n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,o){let s=this.gos;return s.get("rowDragManaged")&&(!so(s)||s.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,o)}},ZSe=class extends Be{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){let e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){let e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){let n=e!==this.row,i=e.uiLevel,r=t!==this.position,o=i!==this.uiLevel;(n||r||o)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},BX={moduleName:"Drag",version:pt,beans:[KCe]},QSe={moduleName:"DragAndDrop",version:pt,dynamicBeans:{dndSourceComp:OSe},icons:{rowDrag:"grip"}},VX={moduleName:"SharedDragAndDrop",version:pt,beans:[qCe],dependsOn:[BX],userComponents:{agDragAndDropImage:Sxe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},JSe={moduleName:"RowDrag",version:pt,beans:[ZSe,XSe],apiFunctions:{addRowDropZone:LSe,removeRowDropZone:NSe,getRowDropZoneParams:BSe,getRowDropPositionIndicator:VSe,setRowDropPositionIndicator:HSe},dependsOn:[VX]},e2e={moduleName:"HorizontalResize",version:pt,beans:[zSe],dependsOn:[BX]},t2e=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",n2e=class extends Be{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}let r=o=>{for(;o.length;){let s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function i2e(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function r2e(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var o2e=class extends Be{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function s2e(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{let o=e.indexOf(i),s=e.indexOf(r);return o-s})}function HX(e){let{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:d,visibleCols:c}=e,{allMovingColumns:u}=e;if(t){let F=[];u.forEach(k=>{let L=null,V=k.getParent();for(;V!=null&&V.getDisplayedLeafColumns().length===1;)L=V,V=V.getParent();L!=null?(!!L.getColGroupDef()?.marryChildren?L.getProvidedColumnGroup().getLeafColumns():L.getLeafColumns()).forEach(R=>{F.includes(R)||F.push(R)}):F.includes(k)||F.push(k)}),u=F}let h=u.slice();s2e(l.getCols(),h);let p=d2e({movingCols:h,draggingRight:n,xPosition:i,pinned:s,gos:a,colModel:l,visibleCols:c}),f=a2e(h,l);if(p.length===0)return;let m=p[0],g=f!==null&&!r;if(t&&(g=f!==null),g&&!o&&(!n&&m>=f||n&&m<=f))return;let v=c.allCols,w=[],E=null;for(let F=0;F<p.length;F++){let k=p[F],L=d.getProposedColumnOrder(h,k);if(!d.doesOrderPassRules(L))continue;let V=L.filter(z=>v.includes(z));if(E===null)E=V;else if(!Op(V,E))break;let j=l2e(L);w.push({move:k,fragCount:j})}if(w.length===0)return;w.sort((F,k)=>F.fragCount-k.fragCount);let T=w[0].move;if(!(T>l.getCols().length-u.length))return{columns:u,toIndex:T}}function zX(e){let{columns:t,toIndex:n}=HX(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function a2e(e,t){let n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,d)=>l-d),r=i[0];return Mi(i)-r!==i.length-1?null:r}function l2e(e){function t(i){let r=[],o=i.getOriginalParent();for(;o!=null;)r.push(o),o=o.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),o=t(e[i+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach(s=>{o.indexOf(s)===-1&&n++})}return n}function c2e(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function d2e(e){let{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(E=>E.getColDef().suppressMovable))return[];let d=c2e(a,r),c=s.getCols(),u=d.filter(E=>t.includes(E)),h=d.filter(E=>!t.includes(E)),p=c.filter(E=>!t.includes(E)),f=0,m=i;if(n){let E=0;u.forEach(T=>E+=T.getActualWidth()),m-=E}if(m>0){for(let E=0;E<h.length;E++){let T=h[E];if(m-=T.getActualWidth(),m<0)break;f++}n&&f++}let g;if(f>0){let E=h[f-1];g=p.indexOf(E)+1}else g=p.indexOf(h[0]),g===-1&&(g=0);let v=[g],w=(E,T)=>E-T;if(n){let E=g+1,T=c.length-1;for(;E<=T;)v.push(E),E++;v.sort(w)}else{let E=g,T=c.length-1,F=c[E];for(;E<=T&&d.indexOf(F)<0;)E++,v.push(E),F=c[E];E=g-1;let k=0;for(;E>=k;)v.push(E),E--;v.sort(w).reverse()}return v}function w8(e){let{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:o,skipScrollPadding:s}=e,a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function VP(e,t){for(let n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var gK=7,C8=100,OE=C8/2,u2e=5,h2e=100,f2e=class extends Be{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ut(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(let r of i){let o=r.getPinned();if(r.getColDef().lockPinned){if(o==e)return"move";continue}let s=n?.containerType;if(s===e||!e)return"move";if(e&&(!o||s!==e))return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{let r=t.visibleState,o=(n||[]).filter(s=>r[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){let{gos:r,ctrlsSvc:o}=this.beans,s=r.get("suppressMoveWhenColumnDragging");if(i&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&er(e.hDirection))return;let a=w8({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;let i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){let{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;let t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){let o=this.getAllMovingColumns(e,!0);if(r){let s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){let o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:i,fromLeft:s,fromEnter:t,fakeEvent:n}),d=zX(Le(re({},l),{finished:r}));d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){let n=e.dragSource.getDragItem(),i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;let r=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:d,visibleCols:c}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:d,visibleCols:c}}highlightHoveredColumn(e,t){let{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),o=i.getCols().filter(c=>c.isVisible()&&c.getPinned()===this.pinned),s=null,a=null,l=null;for(let c of o){if(a=c.getActualWidth(),s=this.getNormalisedColumnLeft(c,0,r),s!=null){let u=s+a;if(s<=t&&u>=t){l=c;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let c=o.length-1;c>=0;c--){let u=o[c],h=o[c].getParent();if(!h){l=u;break}let p=h?.getDisplayedLeafColumns();if(p.length){l=Mi(p);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let d;t-s<a/2!==r?d=0:d=1,vK(l,d),this.lastHighlightedColumn={column:l,position:d}}getNormalisedXPositionInfo(e,t){let{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!o||!s||a==null)return;let l=i.allCols,d=l.indexOf(o),c=l.indexOf(s),u=a===0!==r,h=d<c||d===c&&!u,p=0;if(u?h&&(p-=1):h||(p+=1),c+p===d)return;let f=l[c+p];if(!f)return;let m=this.getNormalisedColumnLeft(f,20,r);return{fromLeft:h,xPosition:m}}getColumnMoveAndTargetInfo(e,t,n){let i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:o}=p2e(e);if(!r||!o||i.column||!t)return re({firstMovingCol:r},i);let a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){let{gos:i,ctrlsSvc:r}=this.beans,o=e.getLeft();if(o==null)return null;let s=e.getActualWidth();return w8({x:n?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>gK;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=HX(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(vK(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth(),r,o;this.gos.get("enableRtl")?(r=e<n+OE,o=e>i-OE):(o=e<n+OE,r=e>i-OE),this.needToMoveRight=r,this.needToMoveLeft=o,o||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),h2e),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*u2e,e>C8&&(e=C8);let t=null,n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:i,dragAndDrop:r,gos:o}=this.beans;if(this.failedMoveAttempts<=gK+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!o.get("suppressMoveWhenColumnDragging")){let s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){let i=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());let{pinnedCols:r,dragAndDrop:o}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&o.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function vK(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function p2e(e){let t=e.length,n,i;for(let r=0;r<t;r++){if(!n){let o=e[r];o.getLeft()!=null&&(n=o)}if(!i){let o=e[t-1-r];o.getLeft()!=null&&(i=o)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var m2e=class extends Be{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r,o=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[o,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[o,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[o,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new f2e(n)),this.bodyDropPivotTarget=this.createManagedBean(new o2e(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},g2e=class extends Be{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){let i=this.beans.colModel.getCols();if(!i)return;let r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){let{colModel:r,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){it(30,{toIndex:t});return}o?.start();let d=r.getColsForKeys(e);this.doesMovePassRules(d,t)&&(Gq(r.getCols(),d,t),s.refresh(n),a.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:i,source:n})),o?.finish()}doesMovePassRules(e,t){let n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){let{colModel:t,gos:n}=this.beans;return!(!OY(e,t.getColTree())||!(r=>{let o=d=>d?d==="left"||d===!0?-1:1:0,s=n.get("enableRtl"),a=s?1:-1,l=!0;return r.forEach(d=>{let c=o(d.getColDef().lockPosition);s?c>a&&(l=!1):c<a&&(l=!1),a=c}),l})(e))}getProposedColumnOrder(e,t){let i=this.beans.colModel.getCols().slice();return Gq(i,e,t),i}createBodyDropTarget(e,t){return new m2e(e,t)}moveHeader(e,t,n,i,r){let{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:d}=this.beans,c=t.getBoundingClientRect(),u=c.left,h=yr(n),p=h?c.width:n.getActualWidth(),f=e==="left"!==s.get("enableRtl"),m=w8({x:f?u-20:u+p+20,pinned:i,fromKeyboard:!0,gos:s,ctrlsSvc:o}),g=d.focusedHeader;zX({allMovingColumns:h?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:i,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let v;if(h){let w=n.getDisplayedLeafColumns();v=f?w[0]:Mi(w)}else v=n;if(o.getScrollFeature().ensureColumnVisible(v,"auto"),(!r.isAlive()||s.get("ensureDomOrder"))&&g){let w;if(h){let E=n.getGroupId(),T=n.getLeafColumns();if(!T.length)return;let F=T[0].getParent();if(!F)return;w=v2e(F,E)}else w=n;w&&d.focusHeaderPosition({headerPosition:Le(re({},g),{column:w})})}}setDragSourceForHeader(e,t,n){let{gos:i,colModel:r,dragAndDrop:o,visibleCols:s}=this.beans,a=!i.get("suppressDragLeaveHidesColumns"),l=yr(t),d=l?t.getProvidedColumnGroup().getLeafColumns():[t],u={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>y2e(t,s.allCols):()=>b2e(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),VP(d,!0)},onDragStopped:()=>VP(d,!1),onDragCancelled:()=>VP(d,!1),onGridEnter:h=>{if(a){let{columns:p=[],visibleState:f}=h??{},m=l?v=>!f||f[v.getColId()]:()=>!0,g=p.filter(v=>!v.getColDef().lockVisible&&m(v));r.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:h=>{if(a){let p=h?.columns?.filter(f=>!f.getColDef().lockVisible)||[];r.setColsVisible(p,!1,"uiColumnMoved")}}};return o.addDragSource(u,!0),u}};function v2e(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function b2e(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function y2e(e,t){let n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());let r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),ol(n,a))}),n.forEach(a=>r.push(a));let o=[],s=e.getLeafColumns();for(let a of r)s.indexOf(a)!==-1&&o.push(a);return{columns:r,columnsInSplit:o,visibleState:i,containerType:o[0]?.pinned}}var w2e={moduleName:"ColumnMove",version:pt,beans:[g2e,n2e],apiFunctions:{moveColumnByIndex:i2e,moveColumns:r2e},dependsOn:[VX],css:[t2e]},C2e=class extends Be{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let n=document.createElement("form");n.style.position="fixed";let i=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,n)),i.appendChild(n);let r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{let i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){let n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";let i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){let d=s.classList[l];d!="ag-row-position-absolute"&&r.add(d)}break}s=s.parentElement}i.appendChild(n),t.appendChild(i)}},jX={moduleName:"AutoWidth",version:pt,beans:[C2e]};function _2e(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var x2e=class extends Be{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){let i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){let t=l=>l.reduce((d,c)=>d+c.getActualWidth(),0),n=(l,d)=>l.map(c=>c.getActualWidth()/d),i=this.getColumnsToResize(),r=t(i),o=n(i,r),s={columnsToResize:i,resizeStartWidth:r,resizeRatios:o},a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){let l=a.getDisplayedLeafColumns(),d=s.groupAfterColumns=l.filter(u=>u.isResizable()),c=s.groupAfterStartWidth=t(d);s.groupAfterRatios=n(d,c)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){let{columnsToResize:r,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:d}=e,c=[];if(c.push({columns:r,ratios:s,width:t}),a){let u=t-o;c.push({columns:a,ratios:d,width:l-u})}this.beans.colResize?.resizeColumnSets({resizeSets:c,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},S2e=class extends Be{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){let e=[],t,n,i=()=>{if(nr(this.eResize,t),!t)return;let{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(s=>s()),e.length=0},o=()=>{let s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==n)&&(t=s,n=a,r(),i())};o(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){let{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:o}=this,s=this.normaliseResizeAmount(t),a=r+s,l=[{key:n,newWidth:a}],{pinnedCols:d,ctrlsSvc:c,colResize:u}=o;if(this.column.getPinned()){let h=d?.leftWidth??0,p=d?.rightWidth??0,f=xw(c.getGridBodyCtrl().eBodyViewport)-50;if(h+p+(s-i)>f)return}this.lastResizeAmount=s,u?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},E2e=class extends Be{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){let r=[],{colModel:o,gos:s,visibleCols:a}=this.beans;e.forEach(l=>{let d=o.getColDefCol(l.key)||o.getCol(l.key);if(!d)return;if(r.push({width:l.newWidth,ratios:[1],columns:[d]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){let u=a.getColAfter(d);if(!u)return;let h=d.getActualWidth()-l.newWidth,p=u.getActualWidth()+h;r.push({width:p,ratios:[1],columns:[u]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){let{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(c=>D2e(c)))){if(n){let c=t&&t.length>0?t[0].columns:null;W0(this.eventSvc,c,n,i)}return}let o=[],s=[];t.forEach(c=>{let{width:u,columns:h,ratios:p}=c,f={},m={};h.forEach(w=>s.push(w));let g=!0,v=0;for(;g;){if(v++,v>1e3){Ti(31);break}g=!1;let w=[],E=0,T=u;h.forEach((k,L)=>{if(m[k.getId()])T-=f[k.getId()];else{w.push(k);let j=p[L];E+=j}});let F=1/E;w.forEach((k,L)=>{let V=L===w.length-1,j;V?j=T:(j=Math.round(p[L]*u*F),T-=j);let z=k.getMinWidth(),R=k.getMaxWidth();j<z?(j=z,m[k.getId()]=!0,g=!0):R>0&&j>R&&(j=R,m[k.getId()]=!0,g=!0),f[k.getId()]=j})}h.forEach(w=>{let E=f[w.getId()];w.getActualWidth()!==E&&(w.setActualWidth(E,i),o.push(w))})});let a=o.length>0,l=[];if(a){let{colFlex:c,visibleCols:u,colViewport:h}=this.beans;l=c?.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0})??[],u.setLeftValues(i),u.updateBodyWidths(),h.checkViewportColumns()}let d=s.concat(l);(a||n)&&W0(this.eventSvc,d,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;let i=e.getActualWidth(),r=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(i+t,r),o);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new S2e(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new x2e(e,t,n,i)}};function D2e(e){let{columns:t,width:n}=e,i=0,r=0,o=!0;t.forEach(l=>{let d=l.getMinWidth();i+=d||0;let c=l.getMaxWidth();c>0?r+=c:o=!1});let s=n>=i,a=!o||n<=r;return s&&a}var R2e={moduleName:"ColumnResize",version:pt,beans:[E2e],apiFunctions:{setColumnWidths:_2e},dependsOn:[e2e,jX]},M2e=class extends Be{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},T2e=class extends t5{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){let{column:o,beans:s}=this,{context:a,colNames:l,colHover:d,rangeSvc:c,colResize:u}=s;this.comp=e,r=Ow(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let h=this.rowCtrl.pinned,p=o.getProvidedColumnGroup().getLeafColumns();d?.createHoverFeature(r,p,t),c?.createRangeHighlightFeature(r,o,e),r.createManagedBean(new e5(o,t,s)),r.createManagedBean(new M2e(e,o)),u?this.resizeFeature=r.createManagedBean(u.createGroupResizeFeature(e,n,h,o)):e.setResizableDisplayed(!1),r.createManagedBean(new X0(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,p),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.getDefinition();return Zt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=Mi(t)===e;if(!n&&!i)return;let r=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving()),s=!1,a=!1;if(o){let l=this.beans.gos.get("enableRtl"),d=r===1,c=r===0;n&&(l?a=d:s=c),i&&(l?s=c:a=d)}this.comp.toggleCss("ag-header-highlight-before",s),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){let{resizeFeature:n}=this;if(!n)return;let i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,o=r.getProvidedColumnGroup(),s=Zt(n,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(o,l,"gridInitializing")},setTooltip:(l,d)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,d)},showColumnMenu:(l,d)=>i?.showMenuAfterButtonClick(o,l,"columnMenu",d),showColumnMenuAfterMouseClick:(l,d)=>i?.showMenuAfterMouseEvent(o,l,"columnMenu",d),eGridHeader:this.eGui}),a=V1e(t,s);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),n=rX(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){let{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(o=>{e.addManagedListeners(o,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Ae.ENTER){let n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function I2e(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function k2e(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function A2e(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function F2e(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function P2e(e){return e.colGroupSvc?.getColumnGroupState()??[]}function O2e(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function L2e(e){e.colGroupSvc?.resetColumnGroupState("api")}function N2e(e){return e.visibleCols.treeLeft}function B2e(e){return e.visibleCols.treeCenter}function V2e(e){return e.visibleCols.treeRight}function H2e(e){return e.visibleCols.getAllTrees()}function z2e(e,t){for(let n=0;n<t.length;n++){let i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var j2e=class extends Be{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colFlex:n,colModel:i,colGroupSvc:r,colViewport:o,selectionColSvc:s}=this.beans;t||this.buildTrees(i,r),r?.updateOpenClosedVisibility(),this.leftCols=HP(this.treeLeft),this.centerCols=HP(this.treeCenter),this.rightCols=HP(this.treeRight),s?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),o.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){let e=Zd(this.centerCols),t=Zd(this.leftCols),n=Zd(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,o;this.gos.get("enableRtl")?(r=t?t[0]:null,o=n?Mi(n):null):(r=t?Mi(t):null,o=n?n[0]:null),e.getCols().forEach(s=>{s.setLastLeftPinned(s===r,i),s.setFirstRightPinned(s===o,i)})}buildTrees(e,t){let n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),o=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new HY,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),n=[],i=[],r=[];for(let o of t){let s=o.getPinned();s?s===!0||s==="left"?n.push(o):r.push(o):i.push(o)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return yr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{yr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(r){let s=Zd(o);o.forEach(a=>{s-=a.getActualWidth(),a.setLeft(s,e)})}else{let s=0;o.forEach(a=>{a.setLeft(s,e),s+=a.getActualWidth()})}z2e(i,o)}),i.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){let r=[],o=null;for(let s=0;s<t.length;s++){let a=t[s],l=t.length-s,d=Math.min(a.getColSpan(e),l),c=[a];if(d>1){let h=d-1;for(let p=1;p<=h;p++)c.push(t[s+p]);s+=h}let u;n?(u=!1,c.forEach(h=>{n(h)&&(u=!0)})):u=!0,u&&(r.length===0&&o&&(i&&i(a))&&r.push(o),r.push(a)),o=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Rp(this.treeCenter,!1,e),Rp(this.treeLeft,!1,e),Rp(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){let i=this[t[n]];if(i.length)return e?Mi(i):i[0]}return null}getColAfter(e){let t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Zd(this.leftCols)}getDisplayedColumnsRightWidth(){return Zd(this.rightCols)}isColAtEdge(e,t){let n=this.allCols;if(!n.length)return!1;let i=t==="first",r;if(yr(e)){let o=e.getDisplayedLeafColumns();if(!o.length)return!1;r=i?o[0]:Mi(o)}else r=e;return(i?n[0]:Mi(n))===r}};function Rp(e,t,n){if(e)for(let i=0;i<e.length;i++){let r=e[i];if(yr(r)){let o=t?r.getDisplayedChildren():r.getChildren();Rp(o,t,n)}n(r)}}function HP(e){let t=[];return Rp(e,!0,n=>{iu(n)&&t.push(n)}),t}var G2e=class extends Be{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return tu(null,t,n=>{es(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let n=[];tu(null,t,i=>{if(es(i)){let r=i.getColGroupDef(),o={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){let{colModel:n,colAnimation:i,visibleCols:r,eventSvc:o}=this.beans;if(!n.getColTree().length)return;i?.start();let a=[];e.forEach(l=>{let d=l.groupId,c=l.open,u=this.getProvidedColGroup(d);u&&u.isExpanded()!==c&&(u.setExpanded(c),a.push(u))}),r.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i?.finish()}setColumnGroupOpened(e,t,n){let i;es(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return tu(null,this.beans.colModel.getColTree(),n=>{es(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?Mi(i):i[0],o=`getCol${t}`;for(;;){let s=this.beans.visibleCols[o](r);if(!s)return null;let a=this.getColGroupAtLevel(s,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();Rp(e,!1,t=>{yr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(yr(e))return e;let n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number",r=null;return Rp(n,!1,o=>{if(yr(o)){let s=o,a;i?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(r=s)}}),r}createColumnGroups(e){let{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(r),a=[],l=t;for(;l.length;){let d=l;l=[];let c=0,u=h=>{let p=c;c=h;let f=d[p],g=(yr(f)?f.getProvidedColumnGroup():f).getOriginalParent();if(g==null){for(let w=p;w<h;w++)a.push(d[w]);return}let v=this.createColumnGroup(g,n,s,i,o);for(let w=p;w<h;w++)v.addChild(d[w]);l.push(v)};for(let h=1;h<d.length;h++){let p=d[h],m=(yr(p)?p.getProvidedColumnGroup():p).getOriginalParent(),g=d[c],w=(yr(g)?g.getProvidedColumnGroup():g).getOriginalParent();m!==w&&u(h)}c<d.length&&u(d.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,o,s){let a=r.getUniqueKey(t.groupId||null,null),l=jq(this.beans,t,a),d=new GE(l,a,!1,n);this.createBean(d);let c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);let u=c?.group;u&&d.setExpanded(u.isExpanded());let h=AY(this.beans,l.children,n+1,e,i,r,o,s);return d.setChildren(h),d}balanceColumnTree(e,t,n,i){let r=[];for(let o=0;o<e.length;o++){let s=e[o];if(es(s)){let a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let d=n-1;d>=t;d--){let c=i.getUniqueKey(null,null),u=jq(this.beans,null,c),h=new GE(u,c,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(r.push(a),e.some(c=>es(c))){l.setChildren([s]);continue}else{l.setChildren(e);break}r.push(s)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&es(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){let r=e[i];if(es(r)){let o=r,s=this.findMaxDepth(o.getChildren(),t+1);n<s&&(n=s)}}return n}balanceTreeForAutoCols(e,t){let n=[];return e.forEach(i=>{let r=i;for(let o=t-1;o>=0;o--){let s=new GE(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([r]),r.originalParent=s,r=s}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){let r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){let o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=hX(o,s),l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ut(l)?l.reset():(l=new fX(e,o,s,i),r||this.createBean(l)),l}mapOldGroupsById(e){let t={},n=i=>{i.forEach(r=>{if(yr(r)){let o=r;t[r.getUniqueId()]=o,n(o.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,yr(n)){let i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},U2e={moduleName:"ColumnGroup",version:pt,dynamicBeans:{headerGroupCellCtrl:T2e},beans:[G2e],apiFunctions:{getAllDisplayedColumnGroups:H2e,getCenterDisplayedColumnGroups:B2e,getColumnGroup:k2e,getColumnGroupState:P2e,getDisplayNameForColumnGroup:F2e,getLeftDisplayedColumnGroups:N2e,getProvidedColumnGroup:A2e,getRightDisplayedColumnGroups:V2e,resetColumnGroupState:L2e,setColumnGroupOpened:I2e,setColumnGroupState:O2e}},W2e={tag:"div",cls:"ag-skeleton-container"},$2e=class extends ri{constructor(){super(W2e)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Cw(e.eParentOfValue)),Cw(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");G0(this.getGui(),t)}setupLoading(e){let t=$i({tag:"div",cls:"ag-skeleton-effect"}),n=e.node.rowIndex;if(n!=null){let o=75+25*(n%2===0?Math.sin(n):Math.cos(n));t.style.width=`${o}%`}this.getGui().appendChild(t);let i=this.getLocaleTextFunc(),r=e.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");G0(this.getGui(),r)}refresh(e){return!1}},q2e={moduleName:"CheckboxCellRenderer",version:pt,userComponents:{agCheckboxCellRenderer:Ixe}},K2e={moduleName:"SkeletonCellRenderer",version:pt,userComponents:{agSkeletonCellRenderer:$2e}};function Y2e(e,t){let n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function X2e(e){return e.colModel.getColumnDefs()}function Z2e(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function Q2e(e,t){return e.colModel.getColDefCol(t)}function J2e(e){return e.colModel.getColDefCols()}function eEe(e,t){return Ll(e,t,"api")}function tEe(e){return o3(e)}function nEe(e){u1e(e,"api")}function iEe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function rEe(e){return e.visibleCols.isPinningLeft()}function oEe(e){return e.visibleCols.isPinningRight()}function sEe(e,t){return e.visibleCols.getColAfter(t)}function aEe(e,t){return e.visibleCols.getColBefore(t)}function lEe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function cEe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function dEe(e){return e.colModel.getCols()}function uEe(e){return e.visibleCols.leftCols}function hEe(e){return e.visibleCols.centerCols}function fEe(e){return e.visibleCols.rightCols}function pEe(e){return e.visibleCols.allCols}function mEe(e){return e.colViewport.getViewportColumns()}function _8(e,t){if(!e)return;let n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||HK.has(r))return;let o=n[r];typeof o=="object"&&o!==null&&o.constructor===Object?i[r]=_8(o):i[r]=o}),i}var gEe=class extends Be{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){let r=e.slice();t?r.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&r.sort((a,l)=>i.indexOf(a)-i.indexOf(l));let o=this.rowGroupColsSvc?.columns,s=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,o,s)}buildColumnDefs(e,t=[],n=[]){let i=[],r={};return e.forEach(o=>{let s=this.createDefFromColumn(o,t,n),a=!0,l=s,d=o.getOriginalParent(),c=null;for(;d;){let u=null;if(d.isPadding()){d=d.getOriginalParent();continue}let h=r[d.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(d),u&&(u.children=[l],r[u.groupId]=u,l=u,d=d.getOriginalParent()),d!=null&&c===d){a=!1;break}c=d}a&&i.push(l)}),i}createDefFromGroup(e){let t=_8(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){let i=_8(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},vEe=class extends Be{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let n=this.flexViewportWidth;if(!n)return[];let{visibleCols:i}=this.beans,r=i.centerCols,o=-1;if(e.resizingCols){let f=new Set(e.resizingCols);for(let m=r.length-1;m>=0;m--)if(f.has(r[m])){o=m;break}}let s=!1,a=r.map((f,m)=>{let g=f.getFlex(),v=g!=null&&g>0&&m>o;return s||(s=v),{col:f,isFlex:v,flex:Math.max(0,g??0),initialSize:f.getActualWidth(),min:f.getMinWidth(),max:f.getMaxWidth(),targetSize:0}});if(!s)return[];let l=a.length,d=a.reduce((f,m)=>f+m.flex,0),c=n,u=(f,m)=>{f.frozenSize=m,f.col.setActualWidth(m,t),c-=m,d-=f.flex,l-=1},h=f=>f.frozenSize!=null;for(let f of a)f.isFlex||u(f,f.initialSize);for(;l>0;){let f=Math.round(d<1?c*d:c),m,g=0,v=0;for(let T of a){if(h(T))continue;m=T,v+=f*(T.flex/d);let F=v-g,k=Math.round(F);T.targetSize=k,g+=k}m&&(m.targetSize+=f-g);let w=0;for(let T of a){if(h(T))continue;let F=T.targetSize,k=Math.min(Math.max(F,T.min),T.max);w+=k-F,T.violationType=k===F?void 0:k<F?"max":"min",T.targetSize=k}let E=w===0?"all":w>0?"min":"max";for(let T of a)h(T)||(E==="all"||T.violationType===E)&&u(T,T.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();let p=a.filter(f=>f.isFlex&&!f.violationType).map(f=>f.col);if(e.fireResizedEvent){let f=a.filter(g=>g.initialSize!==g.frozenSize).map(g=>g.col),m=a.filter(g=>g.flex).map(g=>g.col);W0(this.eventSvc,f,!0,t,m)}return p}initCol(e){let{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},bEe=["dateTimeString","dateString","text","number","boolean","date"],yEe=class extends Be{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===Ae.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,r)=>{let o=t.getColDefCol(n),s=o?.getColDef();if(!o||!s)return 0;let a=i==null?"":e({column:o,node:null,value:i}),l=r==null?"":e({column:o,node:null,value:r});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={},n={},i=c=>u=>{let{column:h,node:p,value:f}=u,m=h.getColDef().valueFormatter;return m===c.groupSafeValueFormatter&&(m=c.valueFormatter),this.beans.valueSvc.formatValue(h,p,f,m)};for(let c of Object.keys(e)){let u=e[c],h=Le(re({},u),{groupSafeValueFormatter:wK(u,this.gos)});t[c]=h,n[c]=i(h)}let r=this.gos.get("dataTypeDefinitions")??{},o={};for(let c of Object.keys(r)){let u=r[c],h=this.processDataTypeDefinition(u,r,[c],e);h&&(t[c]=h,u.dataTypeMatcher&&(o[c]=u.dataTypeMatcher),n[c]=i(h))}let{valueParser:s,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:d}=t.object;this.hasObjectValueParser=l!==s,this.hasObjectValueFormatter=d!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){let n=re({},e);for(let i of bEe)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let r,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=i[o],a=t[o];if(s&&a&&(s=a),!yK(e,s,o))return;r=bK(s,e)}else{if(n.includes(o)){it(44);return}let s=t[o];if(!yK(e,s,o))return;let a=this.processDataTypeDefinition(s,t,[...n,o],i);if(!a)return;r=bK(a,e)}return Le(re({},r),{groupSafeValueFormatter:wK(r,this.gos)})}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t,{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[i];if(!o){it(47,{cellDataType:i});return}return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){let{gos:n}=this;if(!so(n))return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(zP(t,i))return!1;let r=t.type===null?e.type:t.type;if(r){let o=n.get("columnTypes")??{};if(r3(r).some(a=>{let l=o[a.trim()];return l&&zP(l,i)}))return!1}return!zP(e,i)}inferCellDataType(e,t){if(!e)return;let n,i=this.getInitialData();if(i){let o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=pw(i,e,o)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(o=>this.dataTypeMatchers[o](n))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);let[r]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:s}=o;s&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let i={},r={};for(let o of Object.keys(this.columnStateUpdatesPendingInference)){let s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;let l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let d=a.getColDef();if(t&&d.type&&d.type!==l.type){let c=CEe(a,s);c.rowGroup&&c.rowGroupIndex==null&&(i[o]=c),c.pivot&&c.pivotIndex==null&&(r[o]=c),n.push(c)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&Ll(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){let n=e.getUserProvidedColDef();if(!n)return!1;let i=a8(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){let t=n=>it(48,{property:n});if(e.cellDataType==="object"){let{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){let t=e.cellDataType;if(!t)return;let{dataTypeDefinitions:n,beans:i,formatValueFuncs:r}=this,o=n[t];i.colFilter?.setColDefPropsForDataType(e,o,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){let r=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:r});Object.assign(e,o)}getDateObjectTypeDef(e){let t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>ea(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Ea(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){let t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>ea(n)??void 0,dateFormatter:n=>Ea(n??null,t)??void 0,valueParser:n=>WE(String(n.newValue))?n.newValue:null,valueFormatter:n=>WE(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&WE(n)}}getDefaultDataTypes(){let e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:XP(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:Le(re({},this.getDateStringTypeDef("dateTimeString")),{dataTypeMatcher:t=>typeof t=="string"&&l_e(t)}),object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>XP(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function bK(e,t){let n=re(re({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...r3(e.columnTypes),...r3(t.columnTypes)]),n}function yK(e,t,n){return t?t.baseDataType!==e.baseDataType?(it(46),!1):!0:(it(45,{parentCellDataType:n}),!1)}function wK(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){let i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(Le(re({},n),{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(Le(re({},n),{value:n.value.value}))}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function wEe(e,t,n,i){if(!t[n])return!1;let r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function zP(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>wEe(e,t,n,i))}function CEe(e,t){let n=VY(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var _Ee={moduleName:"DataType",version:pt,beans:[yEe],dependsOn:[q2e]},xEe={moduleName:"ColumnFlex",version:pt,beans:[vEe]},SEe={moduleName:"ColumnApi",version:pt,beans:[gEe],apiFunctions:{getColumnDef:Y2e,getDisplayNameForColumn:Z2e,getColumn:Q2e,getColumns:J2e,applyColumnState:eEe,getColumnState:tEe,resetColumnState:nEe,isPinning:iEe,isPinningLeft:rEe,isPinningRight:oEe,getDisplayedColAfter:sEe,getDisplayedColBefore:aEe,setColumnsVisible:lEe,setColumnsPinned:cEe,getAllGridColumns:dEe,getDisplayedLeftColumns:uEe,getDisplayedCenterColumns:hEe,getDisplayedRightColumns:fEe,getAllDisplayedColumns:pEe,getAllDisplayedVirtualColumns:mEe,getColumnDefs:X2e}};function EEe(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var DEe=class extends Be{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;let i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){let i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){let o=e.headerValueGetter;if(o){let s=Zt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof o=="function"?o(s):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,s)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return EEe(e.field)}return""}},REe=class extends Be{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){let{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let s=i.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||MEe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,o=t<i&&n<i,s=t>r&&n>r;return!o&&!s}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=o=>{let s=o.getLeft();return ut(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);let a=(l,d,c)=>{let u=!1;for(let h=0;h<l.length;h++){let p=l[h],f=!1;if(iu(p))f=e[p.getId()]===!0;else{let g=p.getDisplayedChildren();g&&(f=a(g,d,c+1))}f&&(u=!0,d[c]||(d[c]=[]),d[c].push(p))}return u};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function MEe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var TEe=class extends Be{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){let o=t(r),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=O8("<span>"+o+"</span>");return}if(o==null){this.eGui=$i({tag:"span"});return}this.eGui=o}}return n}},IEe={moduleName:"CellRendererFunction",version:pt,beans:[TEe]},kEe=class extends Be{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){let o=(s,a,l,d)=>{this.agGridDefaults[s]=a,(l||d)&&(this.agGridDefaultOverrides[s]={params:l,processParams:d})};for(let s of Object.keys(n)){let a=n[s];if(sCe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){let{classImp:l,params:d,processParams:c}=a;o(s,l,d,c)}else o(s,a)}}if(i){this.dynamicBeans??(this.dynamicBeans={});for(let o of Object.keys(i))this.dynamicBeans[o]=i[o]}if(r?.forEach(o=>{this.selectors[o.selector]=o}),t)for(let o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){let n=(a,l,d,c)=>({componentFromFramework:l,component:a,params:d,processParams:c}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);let o=this.jsComps[t];if(o){let a=i.isFrameworkComponent(o);return n(o,a)}let s=this.agGridDefaults[t];if(s){let a=this.agGridDefaultOverrides[t];return n(s,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(jc(279,{name:e}));let i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??jc(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},AEe=23,FEe=class extends Be{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===AEe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},PEe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&.invalid{box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',l5=typeof window!="object"||!window?.document?.fonts?.forEach,q0=(e,t,n,i,r,o)=>{if(l5||S8)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let s=z0.map.get(t);if(s||(s=[],z0.map.set(t,s)),s.find(c=>c.css===e))return;let a=document.createElement("style");o&&a.setAttribute("nonce",o),a.dataset.agGlobalCss=n,a.textContent=e;let l={css:e,el:a,priority:r},d;for(let c of s){if(c.priority>r)break;d=c}if(d){d.el.insertAdjacentElement("afterend",a);let c=s.indexOf(d);s.splice(c+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},GX=(e,t,n)=>{q0(PEe,e,"core",t,0,n),Array.from(nCe()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>i.css?.forEach(r=>q0(r,e,`module-${i.moduleName}`,t,0,n)))},OEe=e=>{z0.grids.add(e)},LEe=e=>{if(z0.grids.delete(e),z0.grids.size===0){z0.map=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},CK,z0=(CK=typeof window=="object"?window:{}).agStyleInjectionState??(CK.agStyleInjectionState={map:new WeakMap,grids:new Set}),Gc=e=>new UX(e),Mh="$default",NEe=0,UX=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams=re({[Mh]:re(re({},n[Mh]??{}),t??{})},n)}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){let o=`ag-theme-${this.feature??"part"}-${++NEe}`;typeof r=="function"&&(r=r()),r=`:where(.${o}) {
${r}
}
`;for(let s of this.cssImports??[])r=`@import url(${JSON.stringify(s)});
${r}`;i={css:r,class:o}}else i=!1;this._inject=i}return i&&e&&q0(i.css,e,i.class,t,1,n),i?i.class:!1}},BEe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),WX=e=>`--ag-${BEe(e)}`,Uc=e=>`var(${WX(e)})`,VEe=(e,t,n)=>Math.max(t,Math.min(n,e)),HEe=e=>{let t=new Map;return n=>{let i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Nc=e=>({ref:"accentColor",mix:e}),nl=e=>({ref:"foregroundColor",mix:e}),il=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),zEe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Js={ref:"backgroundColor"},R0={ref:"foregroundColor"},Qd={ref:"accentColor"},m3={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:nl(.15),chromeBackgroundColor:il(.02),browserColorScheme:"light"},jEe=Le(re({},m3),{textColor:R0,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Js,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Qd,rangeSelectionBackgroundColor:Nc(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Nc(.5),rangeHeaderHighlightColor:zEe(.08),rowNumbersSelectedColor:Nc(.5),rowHoverColor:Nc(.08),columnHoverColor:Nc(.05),selectedRowBackgroundColor:Nc(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Js,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Js,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:nl(.7),focusShadow:{spread:3,color:Nc(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:nl(.1),iconButtonActiveColor:Qd,iconButtonActiveBackgroundColor:Nc(.28),iconButtonActiveIndicatorColor:Qd,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Qd,toggleButtonOffBackgroundColor:il(.3),toggleButtonSwitchBackgroundColor:Js,toggleButtonSwitchInset:2,menuBorder:{color:nl(.2)},menuBackgroundColor:il(.03),menuTextColor:il(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:nl(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Qd},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:nl(.2)},panelBackgroundColor:Js,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:nl(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:nl(.13)},selectCellBackgroundColor:nl(.07),selectCellBorder:{color:nl(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Js,filterPanelApplyButtonBackgroundColor:Qd,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:R0,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:R0,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:nl(.15),statusBarLabelColor:R0,statusBarLabelFontWeight:500,statusBarValueColor:R0,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}}),GEe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",$X={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},UEe=Le(re({},$X),{cellBatchEditTextColor:"#f3d0b3"}),WEe=()=>Gc({feature:"batchEditStyle",params:$X,css:GEe}),$Ee=WEe(),qEe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",KEe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}};var YEe=()=>Gc({feature:"buttonStyle",params:Le(re({},KEe),{buttonBackgroundColor:Js,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Qd}}),css:qEe}),XEe=YEe();var ZEe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}";var QEe=()=>Gc({feature:"columnDropStyle",css:ZEe}),qX=QEe();var JEe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],e3e=HEe(e=>(e=e.toLowerCase(),JEe.find(t=>e.endsWith(t.toLowerCase()))??"length")),S3=e=>typeof e=="object"&&e?.ref?Uc(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,c5=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Uc(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Uc(e.onto):"transparent"}, ${t} ${VEe(e.mix*100,0,100)}%)`}return!1},t3e=S3,I0=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Uc(n)} `)})`:e&&"ref"in e?Uc(e.ref):!1,n3e=S3,x8=(e,t)=>typeof e=="string"?e:e===!0?x8({},t):e===!1?t==="columnBorder"?x8({color:"transparent"},t):"none":e&&"ref"in e?Uc(e.ref):KX(e.style??"solid")+" "+I0(e.width??{ref:"borderWidth"})+" "+c5(e.color??{ref:"borderColor"}),i3e=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Uc(e.ref):[I0(e.offsetX??0),I0(e.offsetY??0),I0(e.radius??0),I0(e.spread??0),c5(e.color??{ref:"foregroundColor"})].join(" "),KX=S3,YX=e=>typeof e=="string"?e.includes(",")?e:_K(e):e&&"googleFont"in e?YX(e.googleFont):e&&"ref"in e?Uc(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),_K(t))).join(", "):!1,_K=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),r3e=S3,XX=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?XX({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Uc(e.ref):!1,o3e=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Ti(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Uc(e.ref):!1,s3e={color:c5,colorScheme:t3e,length:I0,scale:n3e,border:x8,borderStyle:KX,shadow:i3e,image:XX,fontFamily:YX,fontWeight:r3e,duration:o3e},a3e=(e,t)=>{let n=e3e(e);return s3e[n](t,e)},S8=!1;var l3e=()=>new ZX().withPart(XEe).withPart(qX).withPart($Ee),ZX=class QX{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof UX?new QX([...this.parts,t]):(hw(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Gc({feature:t}))}withParams(t,n=Mh){return this.withPart(Gc({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(l5||S8)return;d3e(),GX(t,n,i);let o=c3e(this);if(o.length>0)for(let s of o)r&&h3e(s,i);for(let s of this.parts)s.use(t,n,i)}_getCssClass(){return S8?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=xK(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let n={[Mh]:re({},jEe)};for(let i of xK(this.parts))for(let r of Object.keys(i.modeParams)){let o=i.modeParams[r];if(o){let s=n[r]??(n[r]={}),a=new Set;for(let l of Object.keys(o)){let d=o[l];d!==void 0&&(s[l]=d,a.add(l))}if(r===Mh)for(let l of Object.keys(n)){let d=n[l];if(l!==Mh)for(let c of a)delete d[c]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){let n="##SELECTOR##",i=this._paramsCssCache;if(!i){let r="",o="",s=this._getModeParams();for(let l of Object.keys(s)){let d=s[l];if(l!==Mh){let u=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=u,o+=u}for(let c of Object.keys(d).sort()){let u=d[c],h=a3e(c,u);if(h===!1)Ti(107,{key:c,value:u});else{let p=WX(c),f=p.replace("--ag-","--ag-inherited-");r+=`	${p}: var(${f}, ${h});
`,o+=`	${f}: var(${p});
`}}l!==Mh&&(r+=`}
`,o+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${o}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},xK=e=>{let t=new Map;for(let i of e)t.set(i.feature,i);let n=[];for(let i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},c3e=e=>{let t=new Set,n=o=>{if(Array.isArray(o))o.forEach(n);else{let s=o?.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(n),Array.from(t).sort()},SK=!1,d3e=()=>{if(!SK){SK=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},u3e=new Set,h3e=(e,t)=>Et(void 0,null,function*(){u3e.add(e);let n=`@import url('https://${f3e}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;q0(n,document.head,`googleFont:${e}`,void 0,0,t)}),f3e="fonts.googleapis.com",p3e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',m3e=()=>Gc({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Js,checkboxUncheckedBorderColor:il(.3),checkboxCheckedBackgroundColor:Qd,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Js,checkboxIndeterminateBackgroundColor:il(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Js,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:p3e}),g3e=m3e();var JX=()=>Le(re(re({},m3),UEe),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:il(.05),rowHoverColor:Nc(.15),selectedRowBackgroundColor:Nc(.2),menuBackgroundColor:il(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:R0,findMatchColor:Js,findActiveMatchColor:Js,checkboxUncheckedBorderColor:il(.4),toggleButtonOffBackgroundColor:il(.4),rowBatchEditBackgroundColor:il(.1)});var v3e=()=>Le(re({},JX()),{backgroundColor:"#1f2836"});var b3e=()=>Gc({feature:"colorScheme",params:m3,modeParams:{light:m3,dark:JX(),"dark-blue":v3e()}}),y3e=b3e();var eZ={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},tZ={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},w3e=(e={})=>{let t="";for(let n of[...Object.keys(eZ),...Object.keys(tZ)]){let i=C3e(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},C3e=(e,t=1.5)=>{let n=tZ[e];if(n)return n;let i=eZ[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},_3e=(e={})=>Gc({feature:"iconSet",css:()=>w3e(e)});var x3e=_3e();var S3e=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',E3e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}";var D3e={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}};var R3e=()=>Gc({feature:"inputStyle",params:Le(re({},D3e),{inputBackgroundColor:Js,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Qd},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:il(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>S3e+E3e}),M3e=R3e();var T3e='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}';var I3e={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};var k3e=()=>Gc({feature:"tabStyle",params:Le(re({},I3e),{tabBarBorder:!0,tabBarBackgroundColor:nl(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Js}),css:T3e}),A3e=k3e();var F3e=()=>l3e().withPart(g3e).withPart(y3e).withPart(x3e).withPart(A3e).withPart(M3e).withPart(qX).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),P3e=F3e();var O3e={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},L3e={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},N3e={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},EK={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},DK={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},RK={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},jP={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},MK={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},B3e=0,V3e=class extends Be{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++B3e}`,this.globalCSS=[]}wireBeans(e){let{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(EK),this.getSizeEl(DK),this.getSizeEl(RK),this.getSizeEl(jP),this.getSizeEl(MK),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>LEe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(MK)}getRowBorderWidth(){return this.getCSSVariablePixelValue(jP)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(EK)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(DK)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(O3e)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(L3e),n=this.getCSSVariablePixelValue(N3e);return e-1+n*t}getCellPadding(){let e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(RK)}applyThemeClasses(e){let{gridTheme:t}=this,n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(let o of Array.from(i.classList))o.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${o}`:o);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(let i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){let i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?q0(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let n=t.offsetWidth;return n===GP?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=$i({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.getMeasurementContainer();t=$i({tag:"div"});let{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${GP}px)`)):t.style.width=`var(${e.cssName}, ${GP}px)`,n.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!r&&it(9,{variable:e});let s=Nh(this.beans,t,()=>{let a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==o&&(o=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(jP);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme"),o;if(r==="legacy")o=void 0;else{let s=r??P3e;s instanceof ZX?o=s:Ti(240,{theme:s})}if(o!==i){if(o){OEe(this),GX(this.eStyleContainer,this.cssLayer,this.styleNonce);for(let[a,l]of n)q0(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=o,o?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let s=this.eParamsStyle;if(!s){s=this.eParamsStyle=$i({tag:"style"});let a=this.gos.get("styleNonce");a&&s.setAttribute("nonce",a),t.appendChild(s)}l5||(s.textContent=o?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ti(r?106:239)}},GP=15538,H3e=class extends Be{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new Mp}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Zt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Zt(this.gos,e))}};function nZ(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function E8(e,t){let n;if(yr(e)&&nZ(e)&&e.isPadding()){let i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}var z3e=class extends Be{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});let t=xo(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n,{colModel:i,colGroupSvc:r,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;let a=o.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Mi(a||[]).type==="filter",d=Hc(this.beans)-1,c=-1,u=n;for(;u;)c++,u=u.getParent();let h=c;return t&&l&&h===d-1&&h++,h===-1?null:{headerRowIndex:h,column:n}}navigateVertically(e,t){let n=this.beans.focusSvc,i=n.focusedHeader;if(!i)return!1;let{headerRowIndex:r}=i,o=i.column,s=Hc(this.beans),a=e==="UP",l=this.getHeaderRowType(r),{headerRowIndex:d,column:c,headerRowIndexWithoutSpan:u}=a?j3e(l,o,r):G3e(l,o,r),h=!1;return d<0&&(d=0,c=o,h=!0),d>=s?(d=-1,this.currentHeaderRowWithoutSpan=-1):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!h&&!c?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:c},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){let{focusSvc:i,gos:r}=this.beans,o=re({},i.focusedHeader),s,a;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a));let l=r.getCallback("tabToNextHeader");if(t&&l){let d=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(d){let{headerRowIndex:c}=i.focusedHeader||{};c!=null&&c!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=c)}return d}return s||!t?i.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,a,n)}focusNextHeaderRow(e,t,n){let i=e.headerRowIndex,r=null,o,s=this.beans;if(t==="Before"?i>0&&(o=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,this.currentHeaderRowWithoutSpan<Hc(s)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(o,"start")),!r)return!1;let{column:a,headerRowIndex:l}=E8(r.column,r?.headerRowIndex);return s.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(yr(e)){let i=e.getDisplayedLeafColumns();n=t==="Before"?Mi(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i,{colGroupSvc:r,visibleCols:o}=this.beans;if(yr(e.column)?n=r?.getGroupAtDirection(e.column,t)??void 0:(i=`getCol${t}`,n=o[i](e.column)),!n)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){let d=[n];for(;n.getParent();)n=n.getParent(),d.push(n);n=d[Math.max(0,d.length-1-s)]}let{column:a,headerRowIndex:l}=E8(n,s);return{column:a,headerRowIndex:l}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,o=n.allCols,s=o[t==="start"?0:o.length-1];if(!s)return;let l=i.getHeaderRowContainerCtrl(s.getPinned())?.getRowType(e);if(l=="group"){let d=r?.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:d}}return{headerRowIndex:l==null?-1:e,column:s}}};function j3e(e,t,n){let i=e==="filter",r=e==="column",o=i?t:t.getParent(),s=n-1,a=s;if(r&&nZ(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),s--;a=s,s<0&&(o=t,s=n,a=void 0)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:a}}function G3e(e,t,n,i="After"){let r=t,o=n+1,s=o;if(e==="group"){let a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:Mi(a),d=[],c=l;for(;c.getParent()!==t;)c=c.getParent(),d.push(c);if(r=l,l.isSpanHeaderHeight())for(let u=d.length-1;u>=0;u--){let h=d[u];if(!h.isPadding()){r=h;break}o++}else r=Mi(d),r||(r=l)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:s}}var U3e=class extends Be{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(MCe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){let{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(lr(this.beans),RX)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=lr(this.beans);return this.isDomDataPresentInHierarchy(e,h3)?!0:this.isDomDataPresentInHierarchy(e,f3)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(uY(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(re({type:"cellFocusCleared"},e))}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:s}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Jd(i),column:a};let l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent(Le(re(re({type:"cellFocused"},l),this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams}),{forceBrowserFocus:r,preventScrollOnBrowserFocus:o,sourceEvent:s})),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:QY(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:o}=this.focusedHeader;return t===r&&n===o&&i==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Dp(this.beans))return!1;let{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:o,rowWithoutSpanValue:s}=e,{headerPosition:a}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){let l=this.focusedHeader,d=Hc(this.beans);if(n){let c=this.gos.getCallback("tabToNextHeader");c&&(a=this.getHeaderPositionFromUserFunc({userFunc:c,direction:t,currentPosition:l,headerPosition:a,headerRowCount:d}))}else{let c=this.gos.getCallback("navigateToNextHeader");if(c&&r){let u={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:d,event:r};a=c(u)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:o,rowWithoutSpanValue:s}):!1}focusHeaderPositionFromUserFunc(e){if(Dp(this.beans))return!1;let{userFunc:t,headerPosition:n,direction:i,event:r}=e,o=this.focusedHeader,s=Hc(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:o}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:o});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:o}=e,{column:s,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:d,headerNavigation:c}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:o});c?.scrollToColumn(s,n);let h=d.getHeaderRowContainerCtrl(s.getPinned())?.focusHeader(t.headerRowIndex,s,o)||!1;return c&&h&&(r!=null||i)&&(c.currentHeaderRowWithoutSpan=r??-1),h}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let n=E8(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=Hc(this.beans)-1,n=Mi(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Jd(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&kp(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(w3(this.beans))return t&&!Dp(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:$0(this.beans,t);let r=t?fCe(this.beans):hCe(this.beans);if(r){let o=e.column??this.focusedHeader?.column,{rowIndex:s,rowPinned:a}=r,l=Oh(this.beans,r);if(!o||!l||s==null)return!1;if(o.isSuppressNavigable(l)){let d=this.gos.get("enableRtl"),c;return!i||i.key===Ae.TAB?c=d?Ae.LEFT:Ae.RIGHT:c=i.key,this.beans.navigation?.navigateToNextCell(null,c,{rowIndex:s,column:o,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:s,column:o,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:s,column:o,rowPinned:Jd(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:s,rowPinned:a,column:o})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Hc(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},W3e=class extends Be{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:cwe();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},$3e=class extends Be{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},qE=new Set(["gridPreDestroyed","fillStart","pasteStart"]),q3e=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset"];var d5=q3e.reduce((e,t)=>(e[t]=Bwe(t),e),{}),cw=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),K3e={tag:"span",cls:"ag-sort-indicator-container",children:[cw("Order","order"),cw("Asc","ascending-icon"),cw("Desc","descending-icon"),cw("Mixed","mixed-icon"),cw("None","none-icon")]},u5=class extends ri{constructor(e){super(),this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,e||this.setTemplate(K3e)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;let i=rl(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:o}=this,s=o.sortSvc.getDisplaySortForColumn(i);if(e&&nr(e,s==="asc",{skipAriaHidden:!0}),t&&nr(t,s==="desc",{skipAriaHidden:!0}),n){let a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=s==null;nr(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);let i=t.getColDef().showRowGroup;Bc(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:n}=this;if(e){let i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";nr(e,i,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;let i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,o=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),s=r>=0&&o;nr(e,s,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():ts(e)}},Y3e={selector:"AG-SORT-INDICATOR",component:u5},Aw=["asc","desc",null],X3e=class extends Be{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){let i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){let i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);let{gos:r,showRowGroupCols:o}=this.beans,s=Bc(r),a=[e];if(s&&e.getColDef().showRowGroup){let u=o?.getSourceColumnsForGroupColumn?.(e)?.filter(h=>h.isSortable());u&&(a=[e,...u])}a.forEach(c=>this.setColSort(c,t,i));let l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),d=[];if(!l){let c=this.clearSortBarTheseColumns(a,i);d.push(...c)}this.updateSortIndex(e),d.push(...a),this.dispatchSortChangedEvents(i,d)}updateSortIndex(e){let{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Bc(t),o=i?.getShowRowGroupCol(e.getId()),s=r&&o||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(c=>this.setColSortIndex(c,null));let l=a.filter(c=>r&&c.getColDef().showRowGroup?!1:c!==s);(s.getSort()?[...l,s]:l).forEach((c,u)=>this.setColSortIndex(c,u))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){let n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){let n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Aw,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans,r=[];if(t.forAllCols(d=>{d.getSort()&&r.push(d)}),t.isPivotMode()){let d=Bc(e);r=r.filter(c=>{let u=!!c.getAggFunc(),h=!c.isPrimary(),p=d?n?.getShowRowGroupCol(c.getId()):c.getColDef().showRowGroup;return u||h||p})}let o=i?.columns.filter(d=>!!d.getSort())??[],s={};r.forEach((d,c)=>s[d.getId()]=c),r.sort((d,c)=>{let u=d.getSortIndex(),h=c.getSortIndex();if(u!=null&&h!=null)return u-h;if(u==null&&h==null){let p=s[d.getId()],f=s[c.getId()];return p>f?1:-1}else return h==null?-1:1});let a=Bc(e)&&!!o.length;a&&(r=[...new Set(r.map(d=>n?.getShowRowGroupCol(d.getId())??d))]);let l=new Map;return r.forEach((d,c)=>l.set(d,c)),a&&o.forEach(d=>{let c=n.getShowRowGroupCol(d.getId());l.set(d,l.get(c))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=Bc(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(s=>s.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:o=>{let s=t.isMoving(),l=Date.now()-i<50;s||l||this.progressSortFromEvent(t,o)}});let r=()=>{let o=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",o==="asc"),e.toggleCss("ag-header-cell-sorted-desc",o==="desc"),e.toggleCss("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){let l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(d=>t.getSort()==d.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){let{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new u5(e)}getSortIndicatorSelector(){return Y3e}},j0={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},Z3e=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),Q3e={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?j0[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:j0[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?j0[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},J3e=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{let n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return jc(262);if(t.smallLeft)return jc(263);if(t.smallRight)return jc(264)}return null}},sortingOrder:{validate:t=>{let n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){let i=n.filter(r=>!Aw.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${Aw.map(QE).join()}], currently it includes [${i.map(QE).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{let n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:o,rowDragEntireRow:s,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":o?s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),eDe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},tDe=()=>Object.keys(eDe),nDe=()=>({objectName:"colDef",allProperties:tDe(),docsUrl:"column-properties/",deprecations:Z3e(),validations:J3e()}),iDe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],rDe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],oDe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],iZ=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],sDe=["theme","rowSelection"],h5=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],rZ=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers"],aDe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],lDe=()=>[...oDe,...rDe,...iDe,...iZ,...aDe,...rZ,...h5,...sDe],cDe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Lc(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var dDe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},uDe=()=>{let e={autoSizePadding:{validate({autoSizePadding:n}){return Lc("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Lc("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Lc("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{let i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:r,pinnedBottomRowData:o}){return i&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:r,pinnedBottomRowData:o}){return i&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return jc(262);if(n.smallLeft)return jc(263);if(n.smallRight)return jc(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Lc("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Lc("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Lc("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{let i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Lc("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{let i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Lc("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{let i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){let r=i.filter(o=>!Aw.includes(o));if(r.length>0)return`sortingOrder must be an array with elements from [${Aw.map(QE).join()}], currently it includes [${r.map(QE).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{let i=n.rowModelType??"clientSide";switch(i){case"clientSide":{let{treeDataChildrenField:r,treeDataParentIdField:o,getDataPath:s,getRowId:a}=n;if(!r&&!o&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{let r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Lc("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Lc("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{let i=n.renderingMode,r=["default","legacy"];return i&&!r.includes(i)?`renderingMode must be one of [${r.join()}], currently it's ${i}`:null}}},t={};return rZ.forEach(n=>{t[n]={expectedType:"boolean"}}),iZ.forEach(n=>{t[n]={expectedType:"number"}}),_s(t,e),t},hDe=()=>({objectName:"gridOptions",allProperties:[...lDe(),...Object.values(d5)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:cDe(),validations:uDe()}),fDe=0,pDe=0,mDe=class extends Be{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=pDe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Mp,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;let i=qE.has(t);if(i&&!e||!i&&e||!gDe(t))return;let r=(o,s)=>{let a=d5[o],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(s))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(let o of this.queueEvents)r(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??Uye[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ut(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){let i={id:fDe++,properties:[]},r=[],{gridOptions:o,validation:s}=this;for(let a of Object.keys(e)){let l=e[a];s?.warnOnInitialPropertyUpdate(n,a);let d=t||typeof l=="object"&&n==="api",c=o[a];if(d||c!==l){o[a]=l;let u={type:a,currentValue:l,previousValue:c,changeSet:i,source:n};r.push(u)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{Fh(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(let n of Object.keys(e)){let i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){this.validateOptions(e,dDe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,Q3e),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){let n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||Ti(200,Le(re({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:G8(),rowModelType:this.get("rowModelType"),isUmd:rCe()}}isModuleRegistered(e){return l8(e,this.gridId,this.get("rowModelType"))}};function gDe(e){return!!d5[e]}function oZ(e){let t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var vDe=oZ(!0),bDe=oZ(!1),yDe=class extends ri{constructor(){super(...arguments),this.eFilter=ft,this.eFilterButton=ft,this.eSortIndicator=ft,this.eMenu=ft,this.eLabel=ft,this.eText=ft,this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let n=re({},e);_s(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let n=e.template;return n?n?.trim?n.trim():n:t?vDe:bDe}init(e){this.params=e;let{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,o=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let n=B1e(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){let{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Y0(t))}addInIcon(e,t,n){let i=rl(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Cs(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:n}=this,i=xa(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);let r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:n,beans:i,eMenu:r,eFilterButton:o}=this,s=t.column,a=xa(n);if(e&&!a){if(i.menuSvc?.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??o??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:i,eSortOrder:r,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,o,s,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;if(!e)return;let n=()=>{let i=t.column.isFilterActive();nr(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return Cs(t),!1;let r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},wDe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},CDe=class extends ri{constructor(){super(wDe),this.agOpened=ft,this.agClosed=ft,this.agLabel=ft,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&it(89)}workOutInnerHeaderGroupComponent(e,t){let n=H1e(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let r=l=>{if(eu(l))return;let d=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);let o=l=>{Ip(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();let s=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){let i=n.isExpanded();nr(e,i),nr(t,!i)}else nr(e,!1),nr(t,!1)}addInIcon(e,t){let n=rl(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:n}=this;nr(t,!1),nr(n,!1);return}}setupLabel(e){let{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;ut(t)&&!i&&(this.agLabel.textContent=Y0(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},_De={moduleName:"ColumnHeaderComp",version:pt,userComponents:{agColumnHeader:yDe},icons:{menu:"menu",menuAlt:"menu-alt"}},xDe={moduleName:"ColumnGroupHeaderComp",version:pt,userComponents:{agColumnGroupHeader:CDe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},SDe=class extends Be{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&it(92)}createTask(e,t,n,i,r=!1){this.verify();let o=n;i&&this.batchFrameworkComps&&(o="f1");let s={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[o],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:n,f1:i,destroyTasks:r,beans:o}=this,{ctrlsSvc:s,frameworkOverrides:a}=o,l=t.list,d=n.list,c=i.list,u=Date.now(),h=0,p=e<=0,f=s.getScrollFeature();for(;p||h<e;){if(!f.scrollGridIfNeeded()){let g;if(l.length)this.sortTaskList(t),g=l.pop().task;else if(d.length)this.sortTaskList(n),g=d.pop().task;else if(c.length)a.wrapOutgoing(()=>{for(;(p||h<e)&&!f.scrollGridIfNeeded();){if(c.length)this.sortTaskList(i),g=c.pop().task,g();else break;h=Date.now()-u}}),g=()=>{};else if(r.length)g=r.pop();else break;g()}h=Date.now()-u}l.length||d.length||c.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);ru(this.beans,e)}isQueueEmpty(){return!this.ticking}},EDe={moduleName:"AnimationFrame",version:pt,beans:[SDe]},DDe=class extends Be{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Cp())return;let t=(n,i,r)=>{let{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget(r?.target??null);s?.column&&s.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Cp()||SY("dblclick"))return!1;let i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;let{params:r,eMenu:o,eFilterButton:s}=e,a=new yp(e.getGui(),!0),l=e.shouldSuppressMenuHide(),d=l&&ut(o)&&r.enableMenu,c=d?new yp(o,!0):a;if(r.enableMenu||i?.isHeaderContextMenuEnabled(r.column)){let u=d?"tap":"longTap",h=p=>r.showColumnMenuAfterMouseClick(p.touchStart);e.addManagedListeners(c,{[u]:h})}if(r.enableSorting){let u=h=>{let p=h.touchStart.target;l&&(o?.contains(p)||s?.contains(p))||n?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:u})}if(r.enableFilterButton&&s){let u=new yp(s,!0);e.addManagedListeners(u,{tap:()=>r.showFilter(s)}),e.addDestroyFunc(()=>u.destroy())}e.addDestroyFunc(()=>a.destroy()),d&&e.addDestroyFunc(()=>c.destroy())}setupForHeaderGroup(e){let t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){let n=new yp(t.eGridHeader,!0),i=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){let i=new yp(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Cp())return;let i=new yp(t),r=o=>{Iw(this.gos,o.touchEvent)&&n(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},RDe={moduleName:"Touch",version:pt,beans:[DDe]},MDe=class extends Be{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let n=e===Ae.UP,i=e===Ae.DOWN,r=e===Ae.LEFT,o,s,{pageBounds:a,gos:l,visibleCols:d}=this.beans;if(n||i)s=n?a.getFirstRow():a.getLastRow(),o=t.column;else{let c=l.get("enableRtl");s=t.rowIndex,o=(r!==c?d.allCols:[...d.allCols].reverse()).find(h=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:h}))}return o?{rowIndex:s,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case Ae.UP:n=this.getCellAbove(n);break;case Ae.DOWN:n=this.getCellBelow(n);break;case Ae.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Ae.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,it(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){let t=e.column,n,{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,n=qq(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,n=a3(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:n}=this.beans,i=t.allCols,r=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=i[0];let a=qq(this.beans,e);if(er(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols,o=e.rowIndex,s=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Mi(r);let l=a3(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(er(l)||!l.rowPinned&&!(i?.isRowInPage(l.rowIndex)??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:a,rowPinned:s}}isSuppressNavigable(e,t){let{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){let i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function TDe(e){return e.focusSvc.getFocusedCell()}function IDe(e){return e.focusSvc.clearFocusedCell()}function kDe(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function ADe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function FDe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function PDe(e,t,n=!1){let i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var ODe=class extends Be{constructor(){super(),this.beanName="navigation",this.onPageDown=Bq(this.onPageDown,100),this.onPageUp=Bq(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=$Ce(this.gos,e),a=!1;switch(n){case Ae.PAGE_HOME:case Ae.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case Ae.LEFT:case Ae.RIGHT:case Ae.UP:case Ae.DOWN:if(!s)return!1;r&&!i&&!o&&(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case Ae.PAGE_DOWN:case Ae.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Ae.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:o}=e,{scrollFeature:s}=this.gridBodyCon;ut(i)&&!i.isPinned()&&s.ensureColumnVisible(i),ut(t)&&s.ensureIndexVisible(t,n),e.isAsync||s.ensureIndexVisible(r);let{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(e){let t=this.beans,n=UP(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:o,rowAutoHeight:s}=t,a=r.getPixelOffset(),l=n.top+i,d=o.getRowIndexAtPixel(l+a);s?.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){let t=this.beans,n=UP(t),{pageBounds:i,rowModel:r,rowAutoHeight:o}=t,s=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){let{pageBounds:i,rowModel:r}=this.beans,o=this.getViewportHeight(),s=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),d=r.getRow(e.rowIndex),c=n?d?.rowHeight-o-l:o-l,u=d?.rowTop+c,h=r.getRowIndexAtPixel(u+l);if(h===e.rowIndex){let f=n?-1:1;t=h=e.rowIndex+f}let p;n?(p="bottom",h<s&&(h=s),t<s&&(t=s)):(p="top",h>a&&(h=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(h))&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:o}=this.beans,s=r.getLastRow(),a=0,l=e.rowIndex;for(;l>=0&&l<=s;){let d=o.getRow(l);if(d){let c=d.rowHeight??0;if(a+c>i)break;a+=c}l+=n}return Math.max(0,Math.min(l,s))}getViewportHeight(){let e=this.beans,t=UP(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth(),i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){let t=e===Ae.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,o=n.allCols,s=t?i.getFirstRow():i.getLastRow(),a=r.getRow(s);if(!a)return;let l=(t?o:[...o].reverse()).find(d=>!d.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){let n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){let{rowIndex:d,rowPinned:c}=e.getRowPosition();(c?d===0:d===s.getFirstRow())&&(l.get("headerHeight")===0||Dp(r)?$0(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof H0&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||$0(r,n))&&t.preventDefault()}tabToNextCell(e,t){let n=this.beans,{focusSvc:i,rowRenderer:r}=n,o=i.getFocusedCell();if(!o)return!1;let s=T0(n,o);return!s&&(s=r.getRowByPosition(o),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){let{editSvc:r,focusSvc:o}=this.beans,s,a=e instanceof H0?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?s=r?.moveToNextCell(a,t,n,i):s=this.moveToNextCellNotEditing(e,t,n),s===null?s:s||!!o.focusedHeader}moveToNextCellNotEditing(e,t,n){let i=this.beans.visibleCols.allCols,r;if(e instanceof p3){if(r=Le(re({},e.getRowPosition()),{column:t?i[0]:Mi(i)}),this.gos.get("embedFullWidthRows")&&n){let s=e.findFullWidthInfoForEvent(n);s&&(r.column=s.column)}}else r=e.getFocusedCellPosition();let o=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(o===!1)return null;if(o instanceof H0)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return ut(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let r=e,o=this.beans,{cellNavigation:s,gos:a,focusSvc:l,rowRenderer:d,rangeSvc:c}=o;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=s.getNextTabbedCell(r,t);let u=a.getCallback("tabToNextCell");if(ut(u)){let m=u({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(m===!0)r=e;else{if(m===!1)return!1;r={rowIndex:m.rowIndex,column:m.column,rowPinned:m.rowPinned}}}if(!r)return null;if(r.rowIndex<0){let f=Hc(o);return l.focusHeaderPosition({headerPosition:{headerRowIndex:f+r.rowIndex,column:r.column},fromCell:!0}),null}let h=a.get("editType")==="fullRow";if(n&&(!h||i)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);let p=T0(o,r);if(!p){let f=d.getRowByPosition(r);if(!f||!f.isFullWidth()||n)continue;return Le(re({},f.getRowPosition()),{column:r?.column})}if(!s.isSuppressNavigable(p.column,p.rowNode))return p.setFocusedCellPosition(r),c?.setRangeToCell(r),p}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,o=!1,s=this.beans,{cellNavigation:a,focusSvc:l,gos:d}=s;for(;r&&(r===n||!this.isValidNavigateCell(r));)d.get("enableRtl")?t===Ae.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Ae.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),o=er(r);if(o&&e&&e.key===Ae.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){let u=d.getCallback("navigateToNextCell");if(ut(u)){let p=u({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});ut(p)?r={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}:r=null}}if(!r)return;if(r.rowIndex<0){let u=Hc(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:u+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let c=this.getNormalisedPosition(r);c?this.focusPosition(c):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let n=T0(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:o}=this.beans,s=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;let l=r.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Mi(s):s[0])};this.focusPosition(d);let c=t??(l!=null&&dCe(d,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:c}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Oh(this.beans,e)}getLastCellOfColSpan(e){let t=T0(this.beans,e);if(!t)return e;let n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Mi(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=pY(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&er(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}};function UP(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var LDe={moduleName:"KeyboardNavigation",version:pt,beans:[ODe,MDe,z3e],apiFunctions:{getFocusedCell:TDe,clearFocusedCell:IDe,setFocusedCell:kDe,setFocusedHeader:PDe,tabToNextCell:ADe,tabToPreviousCell:FDe}},NDe=class extends Be{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},BDe=class extends Be{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){let{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;let r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},VDe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",HDe=class extends Be{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let n of this.elements)n&&(nr(n,t),zc(n,e))}},zDe=class extends Be{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Bo(e,"print"),r=i?0:t.getColsLeftWidth(),o=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=xw(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:o}=n,s=r;!s.length&&!o||(i&&(s=i({columns:s,viewportWidth:t})),!(!s||!s.length)&&(s=s.filter(a=>!Ep(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new HDe(e,t)}setColsPinned(e,t,n){let{colModel:i,colAnimation:r,visibleCols:o,gos:s}=this.beans;if(!i.cols||!e?.length)return;if(Bo(s,"print")){it(37);return}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;let l=[];e.forEach(d=>{if(!d)return;let c=i.getCol(d);c&&c.getPinned()!==a&&(this.setColPinned(c,a),l.push(c))}),l.length&&(o.refresh(n),NY(this.eventSvc,l,n)),r?.finish()}initCol(e){let{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;let r=()=>{let o=n?this.leftWidth:this.rightWidth;if(o==null)return;let s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),u=t.verticalScrollShowing&&(l&&n||!l&&i)?o+d:o;e.comp.setPinnedContainerWidth(`${u}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:i,rightWidth:r}=this,o=xw(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>o)if(o>i+r)e=o-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,n=this.leftWidth??0,i=t+n,r=!1;if(i<e)return{columns:[],hasLockedPinned:r};let{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols],l=0,d=0,c=0,u=[],h=i-c-e;for(;(d<s.length||l<a.length)&&h>0;){if(l<a.length){let p=a[l++];if(p.colDef.lockPinned){r=!0;continue}h-=p.getActualWidth(),u.push(p)}if(d<s.length&&h>0){let p=s[d++];if(p.colDef.lockPinned){r=!0;continue}h-=p.getActualWidth(),u.push(p)}}return{columns:u,hasLockedPinned:r}}},jDe={moduleName:"PinnedColumn",version:pt,beans:[zDe],css:[VDe]},GDe=class extends Be{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=No(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=xo(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),GK(n,"polite"),Kye(n,"additions text"),qye(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}\u200B`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(ts(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},UDe={moduleName:"Aria",version:pt,beans:[GDe]};function WDe(e){e.overlays?.showLoadingOverlay()}function $De(e){e.overlays?.showNoRowsOverlay()}function qDe(e){e.overlays?.hideOverlay()}var KDe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",YDe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},sZ=class extends ri{constructor(){super(YDe),this.eOverlayWrapper=ft,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(KDe)}handleKeyDown(e){if(e.key!==Ae.TAB||e.defaultPrevented||eu(e))return;let t=this.beans;if(Np(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:Mi(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=$0(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){let n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=Ol;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(o,t.print)}postConstruct(){this.createManagedBean(new K8(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){let r=lr(this.beans);r&&!fY(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){let o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:s})=>{o.refresh?.(Zt(this.gos,re({},s??{})))})}n&&this.isGridFocused()&&kp(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ts(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=lr(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},XDe={selector:"AG-OVERLAY-WRAPPER",component:sZ},ZDe=class extends Be{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=so(this.gos),this.isServerSide=!this.isClientSide&&K0(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){it(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return XDe}getOverlayWrapperCompClass(){return sZ}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:o}}=this,s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!i.get("suppressLoadingOverlay")&&(s=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(q1e(this.beans.userCompFactory,Zt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(K1e(this.beans.userCompFactory,Zt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){let i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},QDe={moduleName:"Overlay",version:pt,userComponents:{agLoadingOverlay:bxe,agNoRowsOverlay:wxe},apiFunctions:{showLoadingOverlay:WDe,showNoRowsOverlay:$De,hideOverlay:qDe},beans:[ZDe]},JDe=class extends Be{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=lwe(),Fh(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Fh(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},eRe=400,tRe=class extends Be{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{nu(this.gos)?n():i()}),nu(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{let i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Bo(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new nRe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){let n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let n=l=>{this.getAllCellCtrls().forEach(d=>{d.column===t&&l(d)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},o=()=>{n(l=>l.onFirstRightPinnedChanged())},s=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let e=Bo(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(n=>{let i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){let{pinnedRowModel:i,beans:r,printLayout:o}=this,s=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i?.forEachPinnedRow(t,(l,d)=>{let c=e[d];c&&i.getPinnedRowById(c.rowNode.id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),l.id in s&&n?(e[d]=s[l.id],delete s[l.id]):e[d]=new p3(l,r,!1,!1,o)});let a=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let n=i=>{let r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){let{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&P0(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:o,gos:s}=this;if(o){o.checkStickyRows();let a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(jc(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Hc(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell(Le(re({},n),{preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}));return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Zt(this.gos,Le(re({},n),{forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})))}findPositionToFocus(e){let{pagination:t,pageBounds:n}=this.beans,i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=a3(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});let r=this.getRowByPosition(i);if(r?.isAlive())return Le(re({},r.getRowPosition()),{column:e.column});i=a3(this.beans,i)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){let r=t[i].getAllCellCtrls(),o=r.length;for(let s=0;s<o;s++)e.push(r[s])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){let i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){let r={force:n,newData:!1,suppressFlash:i};for(let o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=D8(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{let r=i.rowNode;return R8(r,t)})}getCellCtrls(e,t){let n;ut(t)&&(n={},t.forEach(r=>{let o=this.colModel.getCol(r);ut(o)&&(n[o.getId()]=!0)}));let i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(o=>{let s=o.column.getId();n&&!n[s]||i.push(o)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);let t={};for(let n of Object.values(this.rowCtrlsByRowIndex)){let i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{let i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e,r,o=this.stickyRowFeature;o&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);let s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();let c=o.extraTopHeight+o.extraBottomHeight;c&&this.updateContainerHeights(c)}let d=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if(!(i&&!l&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){let c=t?.getFocusCellToUseAfterRefresh();r!=null&&c==null&&(n?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){let n={};e.forEach(o=>n[o]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);let n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);let r=s=>{let a=s.rowNode.rowIndex;a==null||a===i||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};for(let s of Object.values(this.rowCtrlsByRowIndex))r(s);if(e)for(let s of Object.values(e))r(s);t.sort((s,a)=>s-a);let o=[];for(let s=0;s<t.length;s++){let a=t[s],l=this.rowModel.getRow(a);l&&!l.sticky&&o.push(a)}return o}recycleRows(e,t=!1,n=!1){let i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);let r=[];if(i.forEach(o=>{let s=this.createOrUpdateRowCtrl(o,e,t,n);ut(s)&&r.push(s)}),e){let{animationFrameSvc:o}=this.beans;o?.active&&n&&!this.printLayout?o.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=D8(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;let i=n.rowNode;return!(t!=null&&!R8(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,o=this.rowCtrlsByRowIndex[e];if(o||(r=this.rowModel.getRow(e),ut(r)&&ut(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null)),!o)if(r||(r=this.rowModel.getRow(e)),ut(r))o=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){let n=[];if(e){for(let i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){let r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),eRe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=Sp(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{let c=this.getRowBufferInPixels(),u=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation"),p=!1,f,m;do{let T=t.getPixelOffset(),{pageFirstPixel:F,pageLastPixel:k}=t.getCurrentPagePixelRange(),L=e.divStretchOffset,V=u.getVScrollPosition(),j=V.top,z=V.bottom;h?(f=F+L,m=k+L):(f=Math.max(j+T-c,F)+L,m=Math.min(z+T+c,k)+L),this.firstVisibleVPixel=Math.max(j+T,F)+L,this.lastVisibleVPixel=Math.min(z+T,k)+L,p=this.ensureAllRowsInRangeHaveHeightsCalculated(f,m)}while(p);let g=n.getRowIndexAtPixel(f),v=n.getRowIndexAtPixel(m),w=t.getFirstRow(),E=t.getLastRow();g<w&&(g=w),v>E&&(v=E),i=g,r=v}let o=Bo(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&r-i>a&&(r=i+a);let l=i!==this.firstRenderedRow,d=r!==this.lastRenderedRow;(l||d)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ru(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(s||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||s||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),o=this.editSvc?.isEditing(e),s=i.detail;return r||o||s?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){let i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;let r=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new p3(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t,{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},nRe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],ol(this.entriesList,n)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],ol(this.entriesList,e)}getEntries(){return this.entriesList}};function D8(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(n=>{let i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function R8(e,t){let n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var iRe=class extends Be{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Bc(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Bc(e))}doFullSort(e,t){let n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){let i=t.rowNode,r=n.rowNode;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=a.sort==="desc",d=this.getValue(i,a.column),c=this.getValue(r,a.column),u,h=this.getComparator(a,i);if(h?u=h(d,c,i,r,l):u=Hye(d,c,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-n.currentPos}getComparator(e,t){let n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;let r=!t.group&&n.getColDef().field;if(!r)return;let o=this.beans.colModel.getColDefCol(r);if(o)return o.getColDef().comparator}getValue(e,t){let{valueSvc:n,colModel:i,showRowGroupCols:r,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(gY(o,i.isPivotActive())){let d=e.allLeafChildren?.[0];return d?n.getValue(t,d,!1):void 0}let l=r?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function rRe(e){e.sortSvc?.onSortChanged("api")}var aZ={moduleName:"Sort",version:pt,beans:[X3e,iRe],apiFunctions:{onSortChanged:rRe},userComponents:{agSortIndicator:u5},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},oRe=class extends Be{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Fh(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,L0(e.source))}}};function sRe(e){e.valueCache?.expire()}function aRe(e,t){let{colKey:n,rowNode:i,useFormatter:r}=t,o=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(er(o))return null;let s=e.valueSvc.getValueForDisplay(o,i).value;return r?e.valueSvc.formatValue(o,i,s)??Y0(s):s}var lRe="paste",cRe=class extends Be{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;so(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:n}=this.beans;if(e.source===lRe||t.get("suppressChangeDetection"))return;let i=e.node,r=[i],o=this.clientSideRowModel,s=o?.rootNode;if(s&&!i.isRowPinned()){let a=t.get("aggregateOnlyChangedColumns"),l=new kw(a,s);l.addParentNode(i.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(d=>{r.push(d),d.sibling&&r.push(d.sibling)})}n.refreshCells({rowNodes:r})}},dRe=class extends Be{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ti(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Ti(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},uRe=class extends Be{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){let i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},hRe={moduleName:"ValueCache",version:pt,beans:[uRe],apiFunctions:{expireValueCache:sRe}},fRe={moduleName:"Expression",version:pt,beans:[dRe]},pRe={moduleName:"ChangeDetection",version:pt,beans:[cRe]},mRe={moduleName:"CellApi",version:pt,apiFunctions:{getCellValue:aRe}},LE={checkSiblings:!0},gRe=class extends Be{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=K0(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1,r="ui"){let{showRowGroupColValueSvc:o}=this.beans,s=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(o&&l&&(s||a)){let m=o.getGroupValue(t,e);if(m==null)return{value:null,valueFormatted:null};if(!n)return{value:m.value,valueFormatted:null};let g=o.formatAndPrefixGroupColValue(m,e,i);return{value:m.value,valueFormatted:g}}if(!e)return{value:t.key,valueFormatted:null};let d=t.leafGroup&&this.colModel.isPivotMode(),c=t.group&&t.expanded&&!t.footer&&!d,u=this.gos.get("groupSuppressBlankHeader")||!t.sibling,h=c&&!u,p=this.getValue(e,t,h,r),f=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:p,valueFormatted:f?this.formatValue(e,t,p):null}}getValue(e,t,n=!1,i="ui"){if(this.initialised||this.init(),!t)return;let r=e.getColDef(),o=r.field,s=e.getColId(),a=t.data;if(this.hasEdit&&i==="ui"){let m=this.editSvc;if(m.isRowEditing(t,LE)&&(a=m.getRowDataValue(t,LE)),m.isEditing()){let g=m.getCellDataValue({rowNode:t,column:e});if(g!==void 0)return g}}let l,d=r.showRowGroup;if(typeof d=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(d)??-1)>t.level)return null;let c=typeof d!="string"||!t.group,u=t.groupData&&s in t.groupData,h=!n&&t.aggData&&t.aggData[s]!==void 0,p=this.isSsrm&&n&&!!r.aggFunc,f=this.isSsrm&&t.footer&&t.field&&(r.showRowGroup===!0||r.showRowGroup===t.field);if(this.isTreeData&&h)l=t.aggData[s];else if(this.isTreeData&&r.valueGetter)l=this.executeValueGetter(r.valueGetter,a,e,t);else if(this.isTreeData&&o&&a)l=pw(a,o,e.isFieldContainsDots());else if(u)l=t.groupData[s];else if(h)l=t.aggData[s];else if(r.valueGetter&&!p){if(!c)return l;l=this.executeValueGetter(r.valueGetter,a,e,t)}else if(f)l=pw(a,t.field,e.isFieldContainsDots());else if(o&&a&&!p){if(!c)return l;l=pw(a,o,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){let m=l.substring(1);l=this.executeValueGetter(m,a,e,t)}return l}parseValue(e,t,n,i){let r=e.getColDef(),o=r.valueParser;if(ut(o)){let s=Zt(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof o=="function"?o(s):this.expressionSvc?.evaluate(o,s)}return n}getDeleteValue(e,t){return ut(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){let{expressionSvc:o}=this.beans,s=null,a,l=e.getColDef();if(i?a=i:r&&(a=l.valueFormatter),a){let d=t?t.data:null;if(t){let u={rowNode:t};if(this.hasEdit){let h=this.editSvc;h.isEditing(u,LE)&&(d=h.getRowDataValue(t,LE))}}let c=Zt(this.gos,{value:n,node:t,data:d,colDef:l,column:e});typeof a=="function"?s=a(c):s=o?o.evaluate(a,c):null}else if(l.refData)return l.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}setValue(e,t,n,i){let r=this.colModel.getColDefCol(t);if(!e||!r)return!1;er(e.data)&&(e.data={});let{field:o,valueSetter:s}=r.getColDef();if(er(o)&&er(s))return it(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return it(135),!1;let a=Zt(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(ut(s)?typeof s=="function"?l=s(a):l=this.expressionSvc?.evaluate(s,a):l=this.setValueUsingField(e.data,o,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let d=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,a,d,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,d,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{let o=t.split("."),s=e;for(;o.length>0&&s;){let a=o.shift();o.length===0?(r=s[a]===n,r||(s[a]=n)):s=s[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){let r=n.getColId(),o=this.valueCache.getValue(i,r);if(o!==void 0)return o;let s=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,s),s}executeValueGetterWithoutValueCache(e,t,n,i){let r=Zt(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)}),o;return typeof e=="function"?o=e(r):o=this.expressionSvc?.evaluate(e,r),o}getValueCallback(e,t){let n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){let n=this.getValue(e,t),i=e.getColDef().keyCreator,r=n;if(i){let o=Zt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(o)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&it(121)),r}},vRe={moduleName:"CommunityCore",version:pt,beans:[$3e,RSe,kEe,b1e,JDe,j2e,H3e,mDe,m1e,BDe,NDe,tRe,gRe,U3e,V3e,W3e,FEe,oRe,DEe,REe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:MSe,destroy:TSe,isDestroyed:ISe,getGridOption:kSe,setGridOption:ASe,updateGridOptions:OX,isModuleRegistered:FSe},dependsOn:[_Ee,w2e,R2e,aZ,_De,U2e,xDe,QDe,pRe,EDe,LDe,jDe,UDe,RDe,IEe,xEe,fRe,K2e]};function lZ(e){let{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e,o=n.map((l,d)=>({value:l,relevance:bRe(t,l),idx:d}));if(o.sort((l,d)=>d.relevance-l.relevance),i&&(o=o.filter(l=>l.relevance!==0)),o.length>0&&r&&r>0){let d=o[0].relevance*r;o=o.filter(c=>d-c.relevance<0)}let s=[],a=[];for(let l of o)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function bRe(e,t){if(e===t)return 1e3;let n=e.length,i=t.length;if(n===0||i===0)return 0;let r=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),s=o.indexOf(r);if(s!==-1)return 980-s*2;if([...r].filter(u=>o.includes(u)).length===0)return 0;let l=Array.from({length:i+1},(u,h)=>h);for(let u=0;u<n;u++){let h=[u+1];for(let p=0;p<i;p++){let f=l[p+1]+1,m=h[p]+1,g=l[p]+(e[u]!==t[p]?1:0);i>10&&p>i/2&&(g+=1),u>0&&p>0&&e[u-1]===t[p-1]&&(g-=4),h.push(Math.min(f,m,g))}l=h}let d=Math.round(l[i]),c=Math.max(1,1e3-d*30);return Math.max(1,c)}var cZ={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},WP=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],yRe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:WP,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...WP,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...WP,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},wRe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function CRe(e,t){let n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{let r=yRe[i];r?r.forEach(o=>{let s=wRe[o];(!s||s===t)&&n.push(o)}):n.push(i)}),n}var dZ=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,_Re=e=>{let t=e.map(i=>`import { ${bw(i)} } from '${cZ[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>bw(i,!0)).join(", ")} ]); 

For more info see: ${F0}/modules/`};function bw(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function xRe(e,t){let n=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines"),i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>cZ[o])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function uZ({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var TK=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:o,isUmd:s})=>{let a=CRe(t,r),l=typeof e=="string"?e:RRe[e];if(s)return xRe(l,a);let d=a.filter(h=>h==="IntegratedCharts"||h==="Sparklines"),c=d.length>0?`${d.map(h=>bw(h)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(h=>bw(h)).join(", "):bw(a[0])} is not registered${n?" for gridId: "+i:""}. ${c} Check if you have registered the module:
`}
${_Re(a)}`+(o?` 

${o}`:"")},IK=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,SRe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,ERe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${SRe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{let r=[],o=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],s=lZ({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&r.push(`         Did you mean: [${s.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${F0}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:TK,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${F0}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>IK("IntegratedChartsModule"),258:()=>IK("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>TK({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:j0[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${F0}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>dZ(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:uZ,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`};function DRe(e,t){let n=ERe[e];if(!n)return[`Missing error text for error id ${e}!`];let i=n(t),o=`
See ${lY(e,t)}`;return Array.isArray(i)?i.concat(o):[i,o]}var RRe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"};function hZ(e,t,n){if(!t)return Ti(11),{};let i=n,r;if(!i?.setThemeOnGridDiv){let s=$i({tag:"div"});s.style.height="100%",e.appendChild(s),e=s,r=()=>e.remove()}return new TRe().create(e,t,s=>{let a=new ESe(e);s.createBean(a)},void 0,n,r)}var MRe=1,TRe=class{create(e,t,n,i,r,o){let s=Gye.applyGlobalGridOptions(t),a=s.gridId??String(MRe++),l=this.getRegisteredModules(r,a,s.rowModelType),d=this.createBeansList(s.rowModelType,l,a),c=this.createProvidedBeans(e,s,r);if(!d)return;let u={providedBeanInstances:c,beanClasses:d,gridId:a,beanInitComparator:lSe,beanDestroyComparator:cSe,derivedBeans:[sSe],destroyCallback:o},h=new aCe(u);return this.registerModuleFeatures(h,l),n(h),h.getBean("syncSvc").start(),i&&i(h),h.getBean("gridApi")}getRegisteredModules(e,t,n){return Mw(vRe,void 0,!0),e?.modules?.forEach(i=>Mw(i,t)),tCe(t,kK(n))}registerModuleFeatures(e,t){let n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);let o=r.apiFunctions;o&&Object.keys(o).forEach(a=>{i?.addFunction(a,o[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;er(i)&&(i=new a5);let r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){let i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=kK(e),o=i[r];if(!o){hw(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!iCe()){hw(272,void 0,dZ());return}if(!e){let a=Object.entries(i).filter(([l,d])=>l8(d,n,l));if(a.length==1){let[l,d]=a[0];if(l!==r){let c={moduleName:d,rowModelType:l};hw(275,c,uZ(c));return}}}if(!l8(o,n,r)){hw(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:o,gridScoped:G8(),gridId:n,rowModelType:r},`Missing module ${o}Module for rowModelType ${r}.`);return}let s=new Set;return t.forEach(a=>a.beans?.forEach(l=>s.add(l))),Array.from(s)}};function kK(e){return e??"clientSide"}function $c(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function E3(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0}function fZ(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var IRe=class extends Be{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,o)=>t({key:i,defaultValue:r,variableValues:o});let n=e.get("localeText");return(i,r,o)=>{let s=n&&n[i];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??r}}};function kRe(e,t=!1){let n=[],i=[],r=[],o=[],s=[],a=[],l=[],d=[],c=[],u=0;for(let h=0;h<e.length;h++){let{colId:p,sort:f,sortIndex:m,rowGroup:g,rowGroupIndex:v,aggFunc:w,pivot:E,pivotIndex:T,pinned:F,hide:k,width:L,flex:V}=e[h];c.push(p),f&&(n[m??u++]={colId:p,sort:f}),g&&(i[v??0]=p),typeof w=="string"&&r.push({colId:p,aggFunc:w}),E&&(o[T??0]=p),F&&(F==="right"?a:s).push(p),k&&l.push(p),(V!=null||L)&&d.push({colId:p,flex:V??void 0,width:L})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}function ARe(e){let t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var pZ=class{wrap(e,t,n,i){let r=this.createWrapper(e,i);return t?.forEach(o=>{this.createMethod(r,o,!0)}),n?.forEach(o=>{this.createMethod(r,o,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&it(49,{methodName:t}),null)}}},FRe={tag:"div",cls:"ag-tooltip"},PRe=class extends n5{constructor(){super(FRe)}init(e){let{value:t}=e,n=this.getGui();n.textContent=Y0(t);let i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},ORe=1e3,LRe=1e3,AK=100,FK,NE=!1,NRe=class extends Be{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Cp()&&(NE?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},AK):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||NE)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-FK<ORe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ut(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let n=t.getRowNode?.(),i=Zt(this.gos,re({location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0)},t.getAdditionalParams?.()??{}));this.state=2,this.tooltipInstanceCount++;let r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);Y1e(this.userCompFactory,i)?.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),FK=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");let r=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:s,columnMoved:s})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(xo(this.beans),{keydown:s=>{i.contains(s?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=lr(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent(Le(re({},e),{mouseEvent:this.lastMouseEvent})):this.popupSvc?.positionPopupByComponent(Le(re({},e),{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?LRe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){NE=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},AK)}unlockService(){NE=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function $P(e){return e.get("tooltipShowMode")==="whenTruncated"}var BRe=class extends Be{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){let n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new NRe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function VRe(e,t){if(typeof e!="number")return"";let n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var HRe=class extends Be{getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},zRe=class{constructor(e){let{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=d}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&e.isRowGroupDisplayed(r.rowGroupColumn?.getColId()??""))return{value:this.processRowGroupCallback(Zt(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Zt(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r,void 0,void 0).value,type:i,parseValue:h=>this.valueSvc.parseValue(e,r,h,this.valueSvc.getValue(e,r,void 0)),formatValue:h=>this.valueSvc.formatValue(e,r,h)??h}))??""};let o=this.gos.get("treeData"),s=this.valueSvc,a=r.level===-1&&r.footer,l=t===0&&vY(this.gos,r,this.colModel.isPivotMode()),d=e.colDef.showRowGroup===!0&&(r.group||o);if(!a&&(l||d)){let h="",p=r;for(;p&&p.level!==-1;){let{value:f,valueFormatted:m}=s.getValueForDisplay(l?void 0:e,p,!0,!0);h=` -> ${m??f??""}${h}`,p=p.parent}return{value:h,valueFormatted:h}}let{value:c,valueFormatted:u}=s.getValueForDisplay(e,r,!0,!0);return{value:c??"",valueFormatted:u}}getHeaderName(e,t){return e?e(Zt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function jRe(e,t){let n=document.defaultView||window;if(!n){it(52);return}let i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var GRe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Qs="clientSide",ws="serverSide",E0="infinite",URe={onGroupExpandedOrCollapsed:[Qs],refreshClientSideRowModel:[Qs],isRowDataEmpty:[Qs],forEachLeafNode:[Qs],forEachNodeAfterFilter:[Qs],forEachNodeAfterFilterAndSort:[Qs],resetRowHeights:[Qs],applyTransaction:[Qs],applyTransactionAsync:[Qs],flushAsyncTransactions:[Qs],getBestCostNodeSelection:[Qs],getServerSideSelectionState:[ws],setServerSideSelectionState:[ws],applyServerSideTransaction:[ws],applyServerSideTransactionAsync:[ws],applyServerSideRowData:[ws],retryServerSideLoads:[ws],flushServerSideAsyncTransactions:[ws],refreshServerSide:[ws],getServerSideGroupLevelState:[ws],refreshInfiniteCache:[E0],purgeInfiniteCache:[E0],getInfiniteRowCount:[E0],isLastRowIndexKnown:[E0,ws],expandAll:[Qs,ws],collapseAll:[Qs,ws],onRowHeightChanged:[Qs,ws],setRowCount:[E0,ws],getCacheBlockState:[E0,ws]},WRe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function $Re(e,t,n){let i=WRe[e];if(i){let{version:o,new:s,old:a,message:l}=i,d=a??e;return(...c)=>{let u=s?`Please use ${s} instead. `:"";return k0(`Since ${o} api.${d} is deprecated. ${u}${l??""}`),t.apply(t,c)}}let r=URe[e];return r?(...o)=>{let s=n.rowModel.getType();if(!r.includes(s)){A0(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,o)}:t}var qRe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},KRe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},YRe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},XRe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),ZRe=class extends Be{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,bwe(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&GRe[t]&&it(22,{key:t})}processGridOptions(e){this.processOptions(e,hDe())}validateApiFunction(e,t){return $Re(e,t,this.beans)}missingUserComponent(e,t,n,i){let r=j0[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):it(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){let t=qRe[e];return t?jc(200,Le(re({},this.gos.getModuleErrorParams()),{moduleName:t,reasonOrId:e})):void 0}checkRowEvents(e){JRe.has(e)&&it(10,{eventType:e})}validateIcon(e){if(XRe.has(e)&&it(43,{iconName:e}),KRe[e])return;let t=YRe[e];if(t){Ti(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:G8(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}it(134,{iconName:e})}isProvidedUserComp(e){return!!j0[e]}validateColDef(e){this.processOptions(e,nDe())}processOptions(e,t){let{validations:n,deprecations:i,allProperties:r,propertyExceptions:o,objectName:s,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(i)],r,s,a);let l=new Set;Object.keys(e).forEach(c=>{let u=i[c];if(u){let{message:w,version:E}=u;l.add(`As of v${E}, ${String(c)} is deprecated. ${w??""}`)}let h=e[c];if(h==null||h===!1)return;let p=n[c];if(!p)return;let{dependencies:f,validate:m,supportedRowModels:g,expectedType:v}=p;if(v){let w=typeof h;if(w!==v){l.add(`${String(c)} should be of type '${v}' but received '${w}' (${h}).`);return}}if(g){let w=this.gridOptions.rowModelType??"clientSide";if(!g.includes(w)){l.add(`${String(c)} is not supported with the '${w}' row model. It is only valid with: ${g.join(", ")}.`);return}}if(f){let w=this.checkForRequiredDependencies(c,f,e);if(w){l.add(w);return}}if(m){let w=m(e,this.gridOptions,this.beans);if(w){l.add(w);return}}}),l.size>0&&l.forEach(c=>{k0(c)})}checkForRequiredDependencies(e,t,n){let r=Object.entries(t).filter(([o,s])=>{let a=n[o];return!s.required.includes(a)});return r.length===0?null:r.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){let o=["__ob__","__v_skip","__metadata__"],s=QRe(Object.getOwnPropertyNames(e),[...o,...t,...n],n),a=Object.keys(s);for(let l of a){let d=s[l],c=`invalid ${i} property '${l}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(c+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),k0(c)}if(a.length>0&&r){let l=this.beans.frameworkOverrides.getDocLink(r);k0(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return DRe(e,t)}};function QRe(e,t,n){let i={},r=e.filter(o=>!t.some(s=>s===o));return r.length>0&&r.forEach(o=>i[o]=lZ({inputValue:o,allSuggestions:n}).values),i}var JRe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),eMe={moduleName:"Validation",version:pt,beans:[ZRe]};function mZ(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var tMe=class extends Be{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(o=>{let s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):i.childrenAfterFilter=i.childrenAfterGroup,mZ(i)};if(this.doingTreeDataFiltering()){let i=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){let l=o.childrenAfterGroup[a],d=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(o.childrenAfterGroup[a],d):n(l,d)}n(o,s)},r=o=>i(o,!1);t.executeFromRootNode(r)}else{let i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},nMe=class extends t5{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;let o=Ow(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o);let s=()=>this.onColDefChanged(o);o.addManagedListeners(this.column,{colDefChanged:s}),o.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&s()}}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return Zt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=rl("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new X0(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();G0(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){let{beans:t}=this;if(lr(t)===this.eGui)return;let r=Np(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}let o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case Ae.UP:case Ae.DOWN:case Ae.LEFT:case Ae.RIGHT:if(t)return;Ip(e);case Ae.ENTER:t&&kp(this.eGui)&&e.preventDefault();break;case Ae.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&_p(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){let r=this.lastFocusEvent,o=!!(r&&r.key===Ae.TAB);if(r&&o){let s=r.shiftKey;kp(this.eGui,s)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new e5(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!xa(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{beans:{colFilter:t},column:n,gos:i}=this,r=o=>{if(o?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;let s=this.comp.getFloatingFilterComp();s&&s.then(a=>{if(a){if(i.get("enableFilterHandlers")){let c=o,u="filter";c?.afterFloatingFilter?u="ui":c?.afterDataChange?u="dataChanged":o?.source==="api"&&(u="api"),this.updateFloatingFilterParams(this.userCompDetails,u);return}let l=t?.getCurrentFloatingFilterParentModel(n),d=o?Le(re({},o),{columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}):null;a.onParentModelChanged(l,d)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:r}),t?.isFilterActive(n)&&r(null)}setupWidth(e){let t=()=>{let n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let i=this.beans.colFilter,r=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!r?this.updateCompDetails(e,r,n):o.then(s=>{!s||i?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n=Le(re({},n),{model:_o(this.beans.colFilter?.model??{},this.column.getColId()),source:t})),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function iMe(e,t){let n=e.colModel.getCol(t);if(!n){Ti(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function rMe(e){e.menuSvc?.hidePopupMenu()}var oMe={moduleName:"SharedMenu",version:pt,beans:[gxe],apiFunctions:{showColumnMenu:iMe,hidePopupMenu:rMe}},sMe=0,aMe=200,lMe=class extends Be{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:n,column:i,node:r,event:o}=e,s=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1,d=()=>{let c=this.keepXYWithinBounds(n,s.top-a.top,0),u=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${u}px`,l=!0);let p=a.right-a.left-u,f;return this.gos.get("enableRtl")?(f=g(),f<0&&(f=m(),this.setAlignedStyles(n,"left")),f>p&&(f=0,this.setAlignedStyles(n,"right"))):(f=m(),f>p&&(f=g(),this.setAlignedStyles(n,"right")),f<0&&(f=0,this.setAlignedStyles(n,"left"))),{x:f,y:c};function m(){return s.right-a.left-2}function g(){return s.left-a.left-u}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,o instanceof MouseEvent?o:void 0,i,r)})}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:d,type:c}=e,u=o.getBoundingClientRect(),h=this.getParentRect();this.setAlignedTo(o,t);let p=()=>{let f=u.left-h.left;s==="right"&&(f-=t.offsetWidth-u.width);let m;return a==="over"?(m=u.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)==="under"?m=u.top-h.top+u.height:m=u.top-t.offsetHeight-(i||0)*2-h.top),{x:f,y:m}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(c,t,o,null,l,d)})}shouldRenderUnderOrAbove(e,t,n,i){let r=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+i;return r>s?"under":o>s||o>r?"above":"under"}setAlignedStyles(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(s=>{r.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let n=this.getPopupIndex(t);if(n!==-1){let i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,o){let s=this.gos.getCallback("postProcessPopup");s&&s({column:r,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){let{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(d=!1)=>{let{x:c,y:u}=s();d&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(c+=i),r&&(u+=r),n&&(c=this.keepXYWithinBounds(t,c,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${c}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let d=Nh(this.beans,t,()=>l(!0));setTimeout(()=>d(),aMe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){let e=xo(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),QK(t)}keepXYWithinBounds(e,t,n){let i=n===0,r=i?"clientHeight":"clientWidth",o=i?"top":"left",s=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=xo(this.beans),d=l.documentElement,c=this.getPopupParent(),u=e.getBoundingClientRect(),h=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),f=c===l.body,m=Math.ceil(u[s]),v=f?(i?ZK:KE)(d)+d[a]:c[r];f&&(v-=Math.abs(p[o]-h[o]));let w=v-m;return Math.min(Math.max(t,0),Math.abs(w))}addPopup(e){let t=xo(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:o,anchorToElement:s}=e;if(!t)return it(122),{hideFunc:()=>{}};let a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);let l=this.createPopupWrapper(n,i,!!r),d=this.addEventListenersToPopup(Le(re({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(n,l,d,s),{hideFunc:d}}initialisePopupPosition(e){let n=this.getPopupParent().getBoundingClientRect();ut(e.style.top)||(e.style.top=`${n.top*-1}px`),ut(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){let i=this.getPopupParent(),{environment:r,gos:o}=this.beans,s=$i({tag:"div"});return r.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ah(e,"dialog"),G0(e,t),s.appendChild(e),i.appendChild(s),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){let t=this.beans,n=xo(t),i=this.getPopupParent(),{wrapperEl:r,eChild:o,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:d}=e,c=!1,u=m=>{if(!r.contains(lr(t)))return;m.key===Ae.ESCAPE&&!eu(m)&&f({keyboardEvent:m})},h=m=>f({mouseEvent:m}),p=m=>f({touchEvent:m}),f=(m={})=>{let{mouseEvent:g,touchEvent:v,keyboardEvent:w,forceHide:E}=m;!E&&(this.isEventFromCurrentPopup({mouseEvent:g,touchEvent:v},o)||c)||(c=!0,i.removeChild(r),n.removeEventListener("keydown",u),n.removeEventListener("mousedown",h),n.removeEventListener("touchstart",p),n.removeEventListener("contextmenu",h),this.eventSvc.removeEventListener("dragStarted",h),s&&s(g||v||w),this.removePopupFromPopupList(o))};return a&&a({hidePopup:f}),window.setTimeout(()=>{l&&n.addEventListener("keydown",u),d&&(n.addEventListener("mousedown",h),this.eventSvc.addEventListener("dragStarted",h),n.addEventListener("touchstart",p),n.addEventListener("contextmenu",h))},0),f}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:sMe++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;let r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,o=i.getBoundingClientRect(),s=u=>parseInt(u.substring(0,u.length-1),10),a=(u,h)=>{let p=n[u]-o[u],f=s(r.style[u]);return{initialDiff:p,lastDiff:p,initial:f,last:f,direction:h}},l=a("top",0),d=a("left",1),c=this.beans.frameworkOverrides;return new br(u=>{c.wrapIncoming(()=>{c.setInterval(()=>{let h=t.getBoundingClientRect(),p=i.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}let m=(g,v)=>{let w=s(r.style[v]);g.last!==w&&(g.initial=w,g.last=w);let E=h[v]-p[v];if(E!=g.lastDiff){let T=this.keepXYWithinBounds(r,g.initial+g.initialDiff-E,g.direction);r.style[v]=`${T}px`,g.last=T}g.lastDiff=E};m(l,"top"),m(d,"left")},200).then(h=>{u(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;let o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){let a=this.popupList[s];if(zwe(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){let t=xo(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){let t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;let o=[],s=[];for(let h of n)h!==r&&(h.classList.contains("ag-always-on-top")?s.push(h):o.push(h));let a=[],l=s.length,u=r.classList.contains("ag-always-on-top")||!l?[...o,...s,r]:[...o,r,...s];for(let h=0;h<=i;h++){let p=u[h];if(n[h]===u[h]||p===r)continue;p.querySelectorAll("div").forEach(m=>{m.scrollTop!==0&&a.push([m,m.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",p):u[h-1].insertAdjacentElement("afterend",p)}for(;a.length;){let h=a.pop();h[0].scrollTop=h[1]}}},D3={moduleName:"Popup",version:pt,beans:[lMe]},cMe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function dMe(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function uMe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function hMe(e,t){let n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function fMe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function pMe(e){return e.filterManager?.getFilterModel()??{}}function mMe(e,t,n){let{gos:i,colModel:r,colFilter:o}=e;n&&!i.get("enableFilterHandlers")&&(it(288),n=!1);let s=r.getColDefCol(t);return s?o?.getModelForColumn(s,n)??null:null}function gMe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function vMe(e,t){let n=e.colModel.getCol(t);if(!n){Ti(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function bMe(e,t){let n=e.colModel.getCol(t);if(!n){Ti(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function yMe(e,t){let{colModel:n,colFilter:i,gos:r}=e;if(!r.get("enableFilterHandlers")){it(287);return}let{colId:o,action:s}=t;if(o){let a=n.getColById(o);a&&i?.updateModel(a,s)}else i?.updateAllModels(s)}var wMe={filterHandler:()=>({doesFilterPass:()=>!0})},CMe=class extends Be{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap=re({},pX),this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n,groupsChanged:i})=>{(i||n.rowDataUpdated)&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});let e=this.gos,t=re({},e.get("initialState")?.filter?.filterModel??{});this.initialModel=t,this.model=re({},t),e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}setModel(e,t="api"){let{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}let o=[],s=this.getModel(!0);if(e){let a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,d)=>{let c=e[d];o.push(this.setModelOnFilterWrapper(l,c)),a.delete(d)}),a.forEach(l=>{let d=n.getColDefCol(l)||n.getCol(l);if(!d){it(62,{colId:l});return}if(!d.isFilterAllowed()){it(63,{colId:l});return}let c=this.getOrCreateFilterWrapper(d,!0);if(!c){it(64,{colId:l});return}o.push(this.setModelOnFilterWrapper(c,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{o.push(this.setModelOnFilterWrapper(a,null))});br.all(o).then(()=>{let a=this.getModel(!0),l=[];this.allColumnFilters.forEach((d,c)=>{let u=s?s[c]:null,h=a?a[c]:null;ww(u,h)||l.push(d.column)}),l.length>0&&r?.onFilterChanged({columns:l,source:t})})}getModel(e){let t={},{allColumnFilters:n,initialModel:i,beans:{colModel:r}}=this;if(n.forEach((o,s)=>{let a=this.getModelFromFilterWrapper(o);ut(a)&&(t[s]=a)}),!e)for(let o of Object.keys(i)){let s=i[o];ut(s)&&!n.has(o)&&r.getCol(o)?.isFilterAllowed()&&(t[o]=s)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(let i of Object.keys(t)){let r=t[i];this.state.set(i,{model:_o(this.model,i),state:r})}this.setModel(e,n)}getState(){let e=this.state;if(!e.size)return;let t={},n=!1;return e.forEach((i,r)=>{let o=i.state;o!=null&&(n=!0,t[r]=o)}),n?t:void 0}getModelFromFilterWrapper(e){let n=e.column.getColId();if(e.isHandler)return _o(this.model,n);let i=e.filter;return i?typeof i.getModel!="function"?(it(66),null):i.getModel():_o(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){let e=d=>d?d.isFilterActive?d.isFilterActive():(it(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!o8(n),r=d=>{if(!d.isPrimary())return!0;let u=!t.isPivotActive();return!d.isValueActive()||!u?!1:t.isPivotMode()?!0:i},o=[],s=[],a=(d,c,u)=>{c&&(r(d)?o.push(u):s.push(u))},l=[];return this.allColumnFilters.forEach(d=>{let c=d.column,u=c.getColId();if(d.isHandler)l.push(br.resolve().then(()=>{a(c,this.isHandlerActive(c),{colId:u,isHandler:!0,handler:d.handler,handlerParams:d.handlerParams})}));else{let h=Eh(d);h&&l.push(h.then(p=>{a(c,e(p),{colId:u,isHandler:!1,comp:p})}))}}),br.all(l).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){let n=[];return this.allColumnFilters.forEach(i=>{let r=i.column;if(i.isHandler)n.push(br.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{let o=Eh(i);o&&n.push(o.then(s=>{this.setColFilterActive(r,s.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),br.all(n)}doFiltersPass(e,t,n){let{data:i,aggData:r}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:i,a=this.model;for(let l=0;l<o.length;l++){let d=o[l],{colId:c,isHandler:u}=d;if(c!==t)if(u){let{handler:h,handlerParams:p}=d;if(!h.doesFilterPass({node:e,data:s,model:_o(a,c),handlerParams:p}))return!1}else{let h=d.comp;if(typeof h.doesFilterPass!="function"){Ti(91);continue}if(!h.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){let t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){let{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{let{column:o,isHandler:s}=r;i!==o.getColId()&&(s&&r.handler.onAnyFilterChanged?.(),Eh(r,s)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){let t=[];this.allColumnFilters.forEach(n=>{let i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();let r=Eh(n,i);r&&t.push(r.then(o=>{o.onNewRowsLoaded?.()}))}),br.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){let{filterValueSvc:n,colModel:i}=this.beans;return(r,o)=>{let s=o?i.getCol(o):e;return s?n.getValue(s,r,t):void 0}}isFilterActive(e){let t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);let n=t?.filter;return n?n.isFilterActive():_o(this.initialModel,e.getColId())!=null}isHandlerActive(e){let t=ut(_o(this.model,e.getColId()));if(t)return t;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){let t=this.getOrCreateFilterWrapper(e,!0);return t?Eh(t):null}getFilterUiForDisplay(e){let t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;let n=Eh(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){let n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return Lwe(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":f_e(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,r,o){let s=()=>{let d=this.createFilterCompParams(e,r,o),c=i(d,r);return W1e(this.beans.userCompFactory,t,c,n)},a=s();return a?{compDetails:a,createFilterUi:d=>(d?s():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){let r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));let{handler:o,handlerParams:s,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,i,!!o,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:o,handlerGenerator:a,handlerParams:s};let{compDetails:d,createFilterUi:c}=l;return this.isGlobalButtons&&(d.params?.buttons?.length||it(281,{colId:e.getColId()})),{compDetails:d,handler:o,handlerGenerator:a,handlerParams:s,createFilterUi:c}}createBaseFilterParams(e,t){let{filterManager:n,rowModel:i}=this.beans;return Zt(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>n?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){let r=this.filterChangedCallbackFactory(e),o=this.createBaseFilterParams(e,i);if(o.filterChangedCallback=r,o.filterModifiedCallback=i?()=>{}:s=>this.filterModified(e,s),t){let s=o,a=e.getColId(),l=_o(this.model,a);s.model=l,s.state=this.state.get(a)??{model:l},s.onModelChange=(d,c)=>{this.updateStoredModel(a,d),this.refreshHandlerAndUi(e,d,"ui").then(()=>{r(Le(re({},c),{source:"columnFilter"}))})},s.onStateChange=d=>{this.updateState(e,d),this.updateOrRefreshFilterUi(e)},s.onAction=(d,c,u)=>{this.updateModel(e,d,c),this.dispatchLocalEvent({type:"filterAction",column:e,action:d,event:u})},s.getHandler=()=>this.getHandler(e,!0),s.onUiChange=d=>this.filterUiChanged(e,d),s.source=n}return o}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){let i=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),r}createFilterWrapper(e){let{compDetails:t,handler:n,handlerGenerator:i,handlerParams:r,createFilterUi:o}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),s=e.getColId();if(n)return delete this.initialModel[s],n.init?.(Le(re({},r),{source:"init",model:_o(this.model,s)})),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:r,filterUi:this.createFilterUiForHandler(t,o)};if(o){let a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,o,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){let{gos:n,frameworkOverrides:i,registry:r}=this.beans,o,s=u=>{let h=u.filter;if(jY(h)){let p=h.handler;return p||(o=h.doesFilterPass,o?()=>({doesFilterPass:o}):void 0)}return typeof h=="string"?h:void 0},a=n.get("enableFilterHandlers")?s(e):void 0,l=u=>()=>this.createBean(r.createDynamicBean(u,!0)),d,c;if(typeof a=="string"){let u=n.get("filterHandlers")?.[a];u!=null?d=u:JCe.has(a)&&(d=l(a),c=a)}else d=a;if(!d){let u,{compName:h,jsComp:p,fwComp:f}=WY(i,e);h?u=h:p==null&&f==null&&e.filter===!0&&(u=t),c=this.handlerMap[u],c&&(d=l(c))}if(d)return{filterHandler:d,handlerNameOrCallback:o??c}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){let d=this.gos;if(!d.get("enableFilterHandlers"))return;so(d)&&it(277,{colId:e.getColId()}),i=wMe}let r=RP(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:o,filterHandler:s}=i,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,s,r);return{handler:a,handlerParams:l,handlerGenerator:o??s}}createHandlerFromFunc(e,t,n){let i=e.getColDef(),r=t(Zt(this.gos,{column:e,colDef:i})),o=this.createHandlerParams(e,n);return{handler:r,handlerParams:o}}createHandlerParams(e,t){let n=e.getColDef(),i=e.getColId(),r=this.filterChangedCallbackFactory(e);return Zt(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:o=>this.beans.filterManager?.doesRowPassOtherFilters(i,o)??!0,onModelChange:(o,s)=>{this.updateStoredModel(i,o),this.refreshHandlerAndUi(e,o,"handler").then(()=>{r(Le(re({},s),{source:"columnFilter"}))})},filterParams:t})}onColumnsChanged(){let e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((o,s)=>{let a;o.column.isPrimary()?a=t.getColDefCol(s):a=t.getCol(s),!(a&&a===o.column)&&(e.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(s))});let r=i&&e.every(o=>i.isGroupFilter(o));e.length>0&&!r&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){let{userCompFactory:n,frameworkOverrides:i,selectableFilter:r}=this.beans,o=h=>{let p=this.getOrCreateFilterUi(e);p?.then(f=>{h(Rw(f))})},s=e.getColDef(),a=r?.isSelectable(s)?r.getFilterDef(e,s):s,l=y_e(i,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",d=this.gos.get("enableFilterHandlers"),c=RP(n,a,this.createFilterCompParams(e,d,"init",!0)),u=Zt(this.gos,{column:e,filterParams:c,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:o,showParentFilter:t});if(d){let h=u,p=e.getColId(),f=this.filterChangedCallbackFactory(e);h.onUiChange=m=>this.floatingFilterUiChanged(e,m),h.model=_o(this.model,p),h.onModelChange=(m,g)=>{this.updateStoredModel(p,m),this.refreshHandlerAndUi(e,m,"floating",!0).then(()=>{f(Le(re({},g),{source:"columnFilter"}))})},h.getHandler=()=>this.getHandler(e,!0),h.source="init"}return X1e(n,s,u,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){let r=t.getColId();delete this.initialModel[r],this.state.delete(r);let o=e.filterUi,s=this.createFilterUiForHandler(n,i);e.filterUi=s,o?.created&&o.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){let n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1,{column:i,isHandler:r,filterUi:o}=e,s=i.getColId();r&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));let a=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(o){if(o.created)return o.promise.then(l=>(n=r?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return br.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){let n=this.allColumnFilters.get(e);if(!n)return;let i=this.beans,r=n.column,o=r.getColDef(),s=r.isFilterAllowed(),a=this.getDefaultFilter(r),l=i.selectableFilter,d=l?.isSelectable(o)?l.getFilterDef(r,o):o,c=s?this.createHandlerFunc(d,this.getDefaultFilter(r)):void 0,u=!!c,h=n.isHandler;if(h!=u){this.destroyFilter(r,"paramsUpdated");return}let{compDetails:p,createFilterUi:f}=(s?this.createFilterComp(r,d,a,g=>g,u,"colDef"):null)??{compDetails:null,createFilterUi:null},m=p?.params??RP(i.userCompFactory,d,this.createFilterCompParams(r,u,"colDef"));if(h){let g=c?.handlerNameOrCallback??c?.filterHandler,v=_o(this.model,e);if(n.handlerGenerator!=g){let w=n.handler,{handler:E,handlerParams:T}=this.createHandlerFromFunc(r,c.filterHandler,m);n.handler=E,n.handlerParams=T,n.handlerGenerator=g,delete this.model[e],E.init?.(Le(re({},T),{source:"init",model:null})),this.destroyBean(w),v!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{let w=this.createHandlerParams(r,p?.params);n.handlerParams=w,n.handler.refresh?.(Le(re({},w),{source:"colDef",model:v}))}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,p)||!n.filterUi||!p){this.destroyFilterUi(n,r,p,f);return}n.filterUi.filterParams=m,Eh(n,h)?.then(g=>{(g?.refresh?g.refresh(m):!0)===!1?this.destroyFilterUi(n,r,p,f):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:m})})}refreshHandlerAndUi(e,t,n,i){let r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),br.resolve();if(!r.isHandler)return br.resolve();let{filterUi:o,handler:s,handlerParams:a}=r;return e_e(()=>{if(o){let{created:l,filterParams:d}=o;if(l)return o.promise.then(c=>c?{filter:c,filterParams:d}:void 0);o.refreshed=!0}return br.resolve(void 0)},s,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){let n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){let t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);let n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(r=>{i(Rw(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){let{state:i,model:r}=this,o=e.getColId(),s=i.get(o);return s?s.model??null:_o(r,o)}let n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{},i=new Promise(r=>{n=r});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:_o(this.model,e)}}setModelForColumnLegacy(e,t){let n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):br.resolve()}setColDefPropsForDataType(e,t,n){let i=e.filter,r=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof r!="string")return;let o,s,a=this.beans,{filterParams:l,filterValueGetter:d}=e;r==="agMultiColumnFilter"?{filterParams:o,filterValueGetter:s}=a.multiFilter?.getParamsForDataType(l,d,t,n)??{}:{filterParams:o,filterValueGetter:s}=d_e(r,l,d,t,n,a,this.getLocaleTextFunc()),e.filterParams=o,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new br(i=>{if(e.isHandler){let o=e.column,s=o.getColId(),a=this.model[s];if(this.updateStoredModel(s,t),n&&t===a){i();return}this.refreshHandlerAndUi(o,t,"api").then(()=>i());return}let r=Eh(e);if(r){r.then(o=>{if(typeof o?.setModel!="function"){it(65),i();return}(o.setModel(t)||br.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){ut(t)?this.model[e]=t:delete this.model[e];let n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent(re({type:"filterModified",column:e,filterInstance:n},t))})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(re({type:"filterUiChanged",column:e},t))}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(re({type:"floatingFilterUiChanged",column:e},t))}updateModel(e,t,n){let i=e.getColId(),r=()=>this.cachedFilter(e)?.filterUi;Zq(t,r,()=>_o(this.model,i),()=>this.state.get(i),o=>this.updateState(e,o),o=>r()?.filterParams?.onModelChange(o,n))}updateAllModels(e,t){let n=[];this.allColumnFilters.forEach((i,r)=>{let o=this.beans.colModel.getColDefCol(r);o&&Zq(e,()=>i.filterUi,()=>_o(this.model,r),()=>this.state.get(r),s=>this.updateState(o,s),s=>{this.updateStoredModel(r,s),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),n.push(this.refreshHandlerAndUi(o,s,"ui"))})}),n.length&&br.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){let t=e.getColId();gX(()=>this.cachedFilter(e)?.filterUi,()=>_o(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){let{state:e,model:t,activeFilterComps:n}=this;for(let r of n)if(r.source==="COLUMN_MENU")return!1;let i=!1;for(let r of e.keys()){let o=e.get(r);if(o.valid===!1)return!1;(o.model??null)!==_o(t,r)&&(i=!0)}return i}hasUnappliedModel(e){let{model:t,state:n}=this;return(n.get(e)?.model??null)!==_o(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;let n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function _Me(e){return!!e.filterManager?.isAnyFilterPresent()}function xMe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var SMe=class extends Be{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){o8(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):br.resolve()).then(()=>{let r={source:t,type:"filterChanged",columns:i};n&&_s(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!o8(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){it(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},EMe=class extends Be{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,xa(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,o="left",s=xa(this.gos);!s&&this.gos.get("enableRtl")&&(r=1,o="right");let a=s?void 0:4*r,l=s?void 0:4;this.showPopup(e,d=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},n,t,s,i)}showPopup(e,t,n,i,r,o){let s=e?this.createBean(new s_e(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){Ti(57);return}let a=$i({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:m=>this.trapFocusWithin(m,a)}),a.appendChild(s?.getGui());let l,d=()=>s?.afterGuiDetached(),c=Nwe(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,u=m=>{sK(e,!1,"contextMenu");let g=m instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),g&&i&&Nl(i)&&sX(i)?.focus({preventScroll:!0}),d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),o?.()},h=this.getLocaleTextFunc(),p=r&&n!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),f=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(a),anchorToElement:c,ariaLabel:p});f&&(this.hidePopup=l=f.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:n,hidePopup:l})}),sK(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Ae.TAB||e.defaultPrevented||Np(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),kp(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},DMe=class extends Be{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;let i=e.getColDef(),{selectableFilter:r,valueSvc:o}=this.beans,s=n??r?.getFilterValueGetter(e.getColId())??i.filterValueGetter;return s?this.executeFilterValueGetter(s,t.data,e,t,i):o.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){let{expressionSvc:o,valueSvc:s}=this.beans,a=Zt(this.gos,{data:t,node:i,column:n,colDef:r,getValue:s.getValueCallback.bind(s,i)});return typeof e=="function"?e(a):o?.evaluate(e,a)}},RMe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},MMe=class extends ri{constructor(){super(RMe,[x3]),this.eFloatingFilterText=ft}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){let n=e,i=n.getHandler();if(i.getModelAsString){let r=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},f5=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){let n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){let{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;let n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(o=>t[o]!=null)?!0:(it(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){let{filterOptions:t}=this;if(e)return e;if(t.length>=1){let n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;it(73)}else it(74)}getCustomOption(e){return this.customFilterOptions[e]}};function yw(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function g3(e){return e==null||typeof e=="string"&&e.trim().length===0}function TMe(e){return e==="AND"||e==="OR"?e:"AND"}function IMe(e,t,n){if(e==null)return;let{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function kMe(e,t){let n=e.length;return n>t&&(e.splice(t),it(78),n=t),n}function Fw(e,t){let n=t.getCustomOption(e);if(n){let{numberOfInputs:r}=n;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var p5=class extends v_e{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);let t=new f5;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=TMe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();let t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{let i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){let n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let o;if(n){let s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{let s=e,a=t;o=s.operator===a.operator&&Op(s.conditions,a.conditions,(l,d)=>this.areSimpleModelsEqual(l,d))}return o}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),br.resolve();if(e.operator){let i=e,r=i.conditions;r==null&&(r=[],it(77));let o=kMe(r,this.maxNumConditions),s=this.getNumConditions();if(o<s)this.removeConditionsAndOperators(o);else if(o>s)for(let l=s;l<o;l++)this.createJoinOperatorPanel(),this.createOption();let a=i.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),r.forEach((l,d)=>{this.eTypes[d].setValue(l.type,!0),this.setConditionIntoUi(l,d)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),br.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(it(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(it(80),n=1),n>t&&(it(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){let e=this.getGui(),t=this.createManagedBean(new s5);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());let n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);let i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){let e=$i({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);let t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);let i=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){let i=this.createManagedBean(new $xe);e.push(i);let r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);let i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{let o=this.isConditionDisabled(r,e);i.setDisabled(o||this.filterListOptions.length<=1),r===1&&(_w(this.eJoinPanels[0],o),this.eJoinAnds[0].setDisabled(o),this.eJoinOrs[0].setDisabled(o))}),this.eConditionBodies.forEach((i,r)=>{nr(i,this.isConditionBodyVisible(r))});let n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOrs.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,o,s)=>{this.setElementDisplayed(i,r<s),this.setElementDisabled(i,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:n,eConditionBodies:i,eJoinPanels:r,eJoinAnds:o,eJoinOrs:s}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);let a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,n){yw(e,t,n).forEach(r=>Cs(r))}removeComponents(e,t,n){yw(e,t,n).forEach(r=>{Cs(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){let n=this.getInputs(0)[0];n instanceof wp&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();let e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1,r=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{let a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),i=!0,l&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){let i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof wp))return;let o=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",s=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,i)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof wp&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ri&&nr(e.getGui(),t)}setElementDisabled(e,t){e instanceof ri&&_w(e.getGui(),t)}attachElementOnChange(e,t){e instanceof wp&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){let i=Fw(t,this.optionsFactory),r=this.getInputs(e);for(let o=0;o<r.length;o++){let s=r[o];s!=null&&n(s,o,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return Fw(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){let n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){let e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,r,o)=>{o===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},gZ=class{constructor(e,t,n,i,r,o){this.alive=!0,this.context=e,this.eParent=r;let s=$1e(t,n,i);s&&s.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),a?.afterGuiAttached?.();let{tempValue:l,disabled:d}=this;l&&a.setDate(l),d!=null&&a.setDisabled?.(d),o?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){nr(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},m5=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function vZ(e,t){let{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&ea(n)||null,i&&ea(i)||null].slice(0,Fw(r,t))}var PK=1e3,OK=1/0,AMe=class extends p5{constructor(){super("dateFilter",vZ,m5),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=PK,this.maxValidYear=OK,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);let t=(l,d)=>{let c=e[l];if(c!=null)if(isNaN(c))it(82,{param:l});else return c==null?d:Number(c);return d},n=t("minValidYear",PK),i=t("maxValidYear",OK);this.minValidYear=n,this.maxValidYear=i,n>i&&it(83);let{minValidDate:r,maxValidDate:o}=e,s=r instanceof Date?r:ea(r);this.minValidDate=s;let a=o instanceof Date?o:ea(o);this.maxValidDate=a,s&&a&&s>a&&it(84)}createDateCompWrapper(e){let{beans:{userCompFactory:t,context:n,gos:i},params:r}=this,o=new gZ(n,t,r.colDef,Zt(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){let e=$i({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){let r=$i({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),yw(this.eConditionPanelsFrom,e,t),yw(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){yw(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,o)=>{r!==e||!t||i>=o||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Ea(i[0])),i.length>1&&(n.dateTo=Ea(i[1])),re({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},n)}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},bZ=class extends Be{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){let t=e.filterParams,n=new f5;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){let t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){let t=e.model;if(t==null)return!0;let{operator:n}=t,i=[];if(n){let s=t;i.push(...s.conditions??[])}else i.push(t);let r=n&&n==="OR"?"some":"every",o=this.params.getValue(e.node);return i[r](s=>this.individualConditionPasses(e,s,o))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){let{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let o=b_e(t)?t.conditions:[t],s=n?.map(c=>typeof c=="string"?c:c.displayKey)??this.defaultOptions;if(!(!o||o.every(c=>s.find(u=>u===c.type)!==void 0))){this.params=Le(re({},e),{model:null}),e.onModelChange(null);return}let l=!1,d=this.filterType;if((o&&!o.every(c=>c.filterType===d)||t.filterType!==d)&&(o=o.map(c=>Le(re({},c),{filterType:d})),l=!0),typeof i=="number"&&o&&o.length>i&&(o=o.slice(0,i),l=!0),l){let c=o.length>1?Le(re({},t),{filterType:d,conditions:o}):Le(re({},o[0]),{filterType:d});this.params=Le(re({},e),{model:c}),e.onModelChange(c);return}}individualConditionPasses(e,t,n){let i=this.optionsFactory,r=this.mapValuesFromModel(t,i),o=i.getCustomOption(t.type),s=IMe(o,r,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}},yZ=class extends bZ{evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:o}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){let i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";let r=this.comparator(),o=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let s=r(e[1],t);return this.params.filterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return g3(t);case"notBlank":return!g3(t);default:return it(76,{filterModelType:i}),!0}}},wZ={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},FMe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},g5=class extends Be{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){let n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?Th(this,"filterSummaryInactive"):null;if(e.operator!=null){let o=e,a=(o.conditions??[]).map(d=>this.getModelAsString(d,t)),l=o.operator==="AND"?"andCondition":"orCondition";return a.join(` ${Th(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?Th(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{let o=e,s=this.optionsFactory.getCustomOption(o.type),{displayKey:a,displayName:l,numberOfInputs:d}=s||{};return a&&l&&d===0?n(a,l):this.conditionToString(o,i,o.type==="inRange"||d===2,a,l)}}}updateParams(e){let{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,r,o){let s,a=this.getTypeKey(e);return a&&(s=Th(this,a)),r&&o&&(s=this.getLocaleTextFunc()(r,o)),s!=null?t?`${s} ${Th(this,"filterSummaryInRangeValues",[n(),i()])}`:`${s} ${n()}`:null}getTypeKey(e){let t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e)}},CZ=class extends g5{constructor(e,t){super(e,t,n=>{let{dataTypeSvc:i,valueSvc:r}=this.beans,o=t.column,a=i?.getDateFormatterFunction(o)?.(n??void 0);return r.formatValue(o,null,a)}),this.filterTypeKeys=wZ}conditionToString(e,t,n,i,r){let{type:o}=e,s=ea(e.dateFrom),a=ea(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,d=t?this.formatValue.bind(this):h=>p8(h,l),c=()=>s!==null?d(s):"null",u=()=>a!==null?d(a):"null";if(t){let h=this.conditionForToolPanel(o,n,c,u,i,r);if(h!=null)return h}return n?`${c()}-${u()}`:s!=null?d(s):`${o}`}};function PMe(e,t){let n=t;return n<e?-1:n>e?1:0}var OMe=class extends yZ{constructor(){super(vZ,m5),this.filterType="date",this.FilterModelFormatterClass=CZ}comparator(){return this.params.filterParams.comparator??PMe}isValid(e){let t=this.params.filterParams.isValidDate;return!t||t(e)}},_Z=class extends ri{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;let t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){let n=e;this.onModelUpdated(n.model)}}setParams(e){let t=new f5;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;let t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){let{source:i,model:r}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(r)}}updateParams(e){let t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},LMe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},NMe=class extends _Z{constructor(){super(LMe,[x3]),this.eReadOnlyText=ft,this.eDateWrapper=ft,this.FilterModelFormatterClass=CZ,this.filterType="date",this.defaultOptions=m5}setParams(e){super.setParams(e),this.createDateComponent();let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let n=e?ea(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){nr(this.eDateWrapper,e),nr(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){let e=this.dateComp.getDate();if(this.reactive){let t=this.params;t.onUiChange();let n=t.model,i=Ea(e),r=i==null?null:Le(re({},n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption}),{dateFrom:i});t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){let{filterParams:e}=this.params,t=$8(e,this.defaultDebounceMs);return Zt(this.gos,{onDateChanged:No(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new gZ(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},BMe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},VMe=class extends ri{constructor(){super(BMe,[x3]),this.eDateInput=ft,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){let t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Fp();let{minValidYear:i,maxValidYear:r,minValidDate:o,maxValidDate:s,buttons:a,includeTime:l,colDef:d}=e.filterParams||{},c=this.beans.dataTypeSvc,u=l??c?.getDateIncludesTimeFlag?.(d.cellDataType)??!1;if(n?u?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",o&&i&&it(85),s&&r&&it(86),o&&s){let[h,p]=[o,s].map(f=>f instanceof Date?f:ea(f));h&&p&&h.getTime()>p.getTime()&&it(87)}o?o instanceof Date?t.min=p8(o):t.min=o:i&&(t.min=`${i}-01-01`),s?s instanceof Date?t.max=p8(s):t.max=s:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return ea(this.eDateInput.getValue())}setDate(e){let t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(Ea(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},v5=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function M8(e){let{allowedCharPattern:t}=e??{};return t??null}function T8(e){return e==null||isNaN(e)?null:e}function xZ(e,t){let{filter:n,filterTo:i,type:r}=e||{};return[T8(n),T8(i)].slice(0,Fw(r,t))}var HMe=class extends p5{constructor(){super("numberFilter",xZ,v5),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){let{numberFormatter:i}=this.params,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createEValue(){let e=M8(this.params),t=$i({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){let r=this.createManagedBean(i?new Bp({allowedCharPattern:i}):new o5);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){let n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(T8(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Jd(e);t!=null&&t.trim()===""&&(t=null);let n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},SZ=class extends g5{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=wZ}conditionToString(e,t,n,i,r){let{filter:o,filterTo:s,type:a}=e,l=this.formatValue.bind(this);if(t){let d=this.conditionForToolPanel(a,n,()=>l(o),()=>l(s),i,r);if(d!=null)return d}return n?`${l(o)}-${l(s)}`:o!=null?l(o):`${a}`}},zMe=class extends yZ{constructor(){super(xZ,v5),this.filterType="number",this.FilterModelFormatterClass=SZ}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},EZ=class extends Be{constructor(e){super(),this.params=e,this.eInput=ft,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Bp(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){let{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function DZ(e){let t=e?.trim();return t===""?e:t}function RZ(e,t){let{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,Fw(r,t))}var jMe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},MZ=class extends _Z{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ft,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(jMe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){let t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=C3(e.filterParams),!r){let o=$8(e.filterParams,i),s=No(this,this.syncUpWithParentFilter.bind(this),o);n.setValueChangedListener(s)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,n=t.getValue();ts(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){let t=e.key===Ae.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;let{inputSvc:i,params:r,lastType:o}=this,s=i.getValue();if(r.filterParams.trimInput&&(s=DZ(s),i.setValue(s,!0)),n){let a=r,l=a.model,d=this.convertValue(s),c=d==null?null:Le(re({},l??{filterType:this.filterType,type:o??this.optionsFactory.defaultOption}),{filter:d});a.onModelChange(c,{afterFloatingFilter:!0})}else r.parentFilterInstance(a=>{a?.onFloatingFilterChanged(o||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},GMe=class extends Be{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new o5),this.eTextInput=this.createManagedBean(new Bp),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},UMe=class extends MZ{constructor(){super(...arguments),this.FilterModelFormatterClass=SZ,this.filterType="number",this.defaultOptions=v5}updateParams(e){M8(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=M8(e.filterParams),this.allowedCharPattern?this.createManagedBean(new EZ({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new GMe)}convertValue(e){return e?Number(e):null}},b5=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],WMe=class extends p5{constructor(){super("textFilter",RZ,b5),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let n=[];return this.forEachPositionInput(e,(i,r,o,s)=>{if(r<s){let a=Jd(i.getValue());t&&this.params.trimInput&&(a=DZ(a)??null,i.setValue(a,!0)),n.push(a)}}),n}createEValue(){let e=$i({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){let i=this.createManagedBean(new Bp);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){let n=o=>this.removeComponents(o,e,t),{eValuesFrom:i,eValuesTo:r}=this;n(i),n(r)}},TZ=class extends g5{constructor(){super(...arguments),this.filterTypeKeys=FMe}conditionToString(e,t,n,i,r){let{filter:o,filterTo:s,type:a}=e;if(t){let l=c=>()=>Th(this,"filterSummaryTextQuote",[c]),d=this.conditionForToolPanel(a,n,l(o),l(s),i,r);if(d!=null)return d}return n?`${o}-${s}`:o!=null?`${o}`:`${a}`}},$Me=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{let i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},qMe=e=>e,KMe=e=>e==null?null:e.toString().toLowerCase(),YMe=class extends bZ{constructor(){super(RZ,b5),this.filterType="text",this.FilterModelFormatterClass=TZ}updateParams(e){super.updateParams(e),this.matcher=e.textMatcher??$Me,this.formatter=e.textFormatter??(e.caseSensitive?qMe:KMe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){let r=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:d,filterParams:{textFormatter:c}}=this.params;if(n.type==="blank")return g3(t);if(n.type==="notBlank")return!g3(t);let u={api:s,colDef:a,column:l,context:d,node:i.node,data:i.data,filterOption:n.type,value:o,textFormatter:c};return r.some(h=>this.matcher(Le(re({},u),{filterText:h})))}},XMe=class extends MZ{constructor(){super(...arguments),this.FilterModelFormatterClass=TZ,this.filterType="text",this.defaultOptions=b5}createFloatingFilterInputService(){return this.createManagedBean(new EZ)}};function ZMe(e){return!!e.quickFilter?.isFilterPresent()}function QMe(e){return e.quickFilter?.getText()}function JMe(e){e.quickFilter?.resetCache()}var eTe=class extends Be{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),o=e?.getColumns(),s=t.getColDefCols(),a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ut(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){it(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{let i=this.getTextForColumn(n,e);return ut(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);let{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t),i=e.getColDef();if(i.getQuickFilterText){let r=Zt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return ut(n)?n.toString().toUpperCase():null}getAggText(e){let t=[];return this.colsToUse.forEach(n=>{let i=this.getTextForColumn(n,e);ut(i)&&t.push(i)}),t.join(`
`)}},tTe={moduleName:"ClientSideRowModelFilter",version:pt,rowModels:["clientSide"],beans:[tMe]},y5={moduleName:"FilterCore",version:pt,beans:[SMe],apiFunctions:{isAnyFilterPresent:_Me,onFilterChanged:xMe},css:[cMe],dependsOn:[tTe]},IZ={moduleName:"FilterValue",version:pt,beans:[DMe]},R3={moduleName:"ColumnFilter",version:pt,beans:[CMe,EMe],dynamicBeans:{headerFilterCellCtrl:nMe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:dMe,getColumnFilterInstance:uMe,destroyFilter:hMe,setFilterModel:fMe,getFilterModel:pMe,getColumnFilterModel:mMe,setColumnFilterModel:gMe,showColumnFilter:vMe,getColumnFilterHandler:bMe,doFilterAction:yMe},dependsOn:[y5,D3,IZ,oMe]},nTe={moduleName:"CustomFilter",version:pt,userComponents:{agReadOnlyFloatingFilter:MMe},dependsOn:[R3]},iTe={moduleName:"TextFilter",version:pt,dependsOn:[R3],userComponents:{agTextColumnFilter:{classImp:WMe,params:{useForm:!0}},agTextColumnFloatingFilter:XMe},dynamicBeans:{agTextColumnFilterHandler:YMe}},rTe={moduleName:"NumberFilter",version:pt,dependsOn:[R3],userComponents:{agNumberColumnFilter:{classImp:HMe,params:{useForm:!0}},agNumberColumnFloatingFilter:UMe},dynamicBeans:{agNumberColumnFilterHandler:zMe}},oTe={moduleName:"DateFilter",version:pt,dependsOn:[R3],userComponents:{agDateColumnFilter:{classImp:AMe,params:{useForm:!0}},agDateInput:VMe,agDateColumnFloatingFilter:NMe},dynamicBeans:{agDateColumnFilterHandler:OMe}},sTe={moduleName:"QuickFilterCore",version:pt,rowModels:["clientSide"],beans:[eTe],dependsOn:[y5,IZ]},aTe={moduleName:"QuickFilter",version:pt,apiFunctions:{isQuickFilterPresent:ZMe,getQuickFilter:QMe,resetQuickFilter:JMe},dependsOn:[sTe]},lTe={moduleName:"ExternalFilter",version:pt,dependsOn:[y5]},cTe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",qP=(e,t,n)=>{let{editModelSvc:i}=e,r=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,o=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,s=r||o;return s&&s.length?s.join(n("tooltipValidationErrorSeparator",". ")):void 0},dTe=class extends Be{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);let r=$P(this.gos),{column:o,eGui:s}=t,a=o.getColDef();!i&&r&&!a.headerComponent&&(i=HE(()=>s.querySelector(".ag-header-cell-text")));let l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>n??o.getColDef().headerTooltip,shouldDisplayTooltip:i},d=this.createTooltipFeature(l);return d&&(d=t.createBean(d),t.setRefreshFunction("tooltip",()=>d.refreshTooltip())),d}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);let r=$P(this.gos),{column:o,eGui:s}=t,a=o.getColGroupDef();!i&&r&&!a?.headerGroupComponent&&(i=HE(()=>s.querySelector(".ag-header-group-text")));let l={getColumn:()=>o,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);let d=this.createTooltipFeature(l);return d&&t.createBean(d)}enableCellTooltipFeature(e,t,n){let{beans:i}=this,{gos:r,editSvc:o}=i,{column:s,rowNode:a}=e,l="cell",d=()=>{let p=!!!o?.isEditing(e)&&qP(i,e,this.getLocaleTextFunc());if(p)return l="cellEditor",p;l="cell";let f=s.getColDef(),m=a.data;if(f.tooltipField&&ut(m))return pw(m,f.tooltipField,s.isTooltipFieldContainsDots());let g=f.tooltipValueGetter;return g?g(Zt(r,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},c=$P(r);n||(c&&!e.isCellRenderer()?n=()=>{let h=!!o?.isEditing(e);if(!h&&qP(i,e,this.getLocaleTextFunc()))return!0;if(!s.isTooltipEnabled())return!1;let m=HE(()=>{let g=e.eGui;return g.children.length===0?g:g.querySelector(".ag-cell-value")});return!h&&m()}:n=()=>!o?.isEditing(e));let u={getColumn:()=>s,getColDef:()=>s.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:d,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(u,i)}setupFullWidthRowTooltip(e,t,n,i){let r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},o=this.beans,s=o.context;e&&t.destroyBean(e,s);let a=this.createTooltipFeature(r,o);if(a)return t.createBean(a,s)}setupCellEditorTooltip(e,t){let{beans:n}=this,{context:i}=n,r=t.getValidationElement?.();if(!r)return;let o={getGui:()=>r,getTooltipValue:()=>qP(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{let{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),d=a?.getCellValidationModel()?.getCellValidationMap(),c=!!l&&l.size>0,u=!!d&&d.size>0;return c||u}},s=this.createTooltipFeature(o,n);if(s)return e.createBean(s,i)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=ut(t.tooltipField)||ut(t.tooltipValueGetter)||ut(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},kZ={moduleName:"Tooltip",version:pt,beans:[dTe],dynamicBeans:{tooltipFeature:BRe},userComponents:{agTooltipComponent:PRe},dependsOn:[D3],css:[cTe]},M0=class{constructor(e){this.cellValueChanges=e}},KP=class extends M0{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},uTe=10,LK=class{constructor(e){this.actionStack=[],this.maxStackSize=e||uTe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},hTe=class extends Be{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&QY(this.activeCellEdit,t),i=this.activeRowEdit!==null&&uCe(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;let{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:d}=e,c={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:d,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new LK(n),this.redoStack=new LK(n),this.addListeners();let i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});let r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});let r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;let o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,s=>s[i],r),o instanceof KP?this.processRange(o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{let{rowIndex:r,rowPinned:o,columnId:s}=i,a={rowIndex:r,rowPinned:o},l=Oh(this.beans,a);l.displayed&&l.setDataValue(s,t(i),n)})}processRange(e){let t,n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;let o=i.startRow,s=i.endRow;r===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},o=Oh(this.beans,r),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){let{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:o,rangeSvc:s}=this.beans,a=r.getCol(n);if(!a)return;let{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);let d={rowIndex:t,column:a,rowPinned:i};o.setFocusedCell(Le(re({},d),{forceBrowserFocus:!0})),s?.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new M0(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let n=new M0(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new M0(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new KP(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:n}=this.beans;t&&nu(n)?e=new KP(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new M0(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>{this.batchEditing=!0},batchEditingStopped:e=>{if(!this.batchEditing||(this.batchEditing=!1,e.changes?.length===0))return;let t=new M0(e.changes??[]);this.pushActionsToUndoStack(t),this.cellValueChanges=[]}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},fTe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",pTe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},mTe=class extends _3{constructor(){super(pTe,[r5]),this.eEditor=ft}initialiseEditor(e){let t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),n=A8(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},M3=class extends _3{constructor(e){super(),this.cellEditorInput=e,this.eEditor=ft}initialiseEditor(e){let{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());let{eEditor:n}=this,{cellStartedEdit:i,eventKey:r,suppressPreventDefault:o}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let s,a=!0;i?(this.focusAfterAttached=!0,r===Ae.BACKSPACE||r===Ae.DELETE?s="":r&&r.length===1?o?a=!1:s=r:(s=t.getStartValue(),r!==Ae.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),a&&s!=null&&n.setStartValue(s),this.addGuiEventListener("keydown",l=>{let{key:d}=l;(d===Ae.PAGE_UP||d===Ae.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Fp()||t.getFocusableElement().focus();let n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},gTe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},vTe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return gTe}getAgComponents(){return[AX]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:i,step:r,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:r,getValidationErrors:o}=n,s=[],a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){let l=i instanceof Date?i:new Date(i);if(t<l){let d=l.toLocaleDateString();s.push(a("minDateValidation",`Date must be after ${d}`,[d]))}}if(r){let l=r instanceof Date?r:new Date(r);if(t>l){let d=l.toLocaleDateString();s.push(a("maxDateValidation",`Date must be before ${d}`,[d]))}}}return s.length||(s=null),o?o({value:t,cellEditorParams:n,internalErrors:s}):s}getValue(){let{eEditor:e,params:t}=this,n=e.getDate();return!ut(n)&&!ut(t.value)?t.value:n??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Ea(e,this.includeTime??!1)}},bTe=class extends M3{constructor(){super(new vTe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},yTe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},wTe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return yTe}getAgComponents(){return[AX]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:i,step:r,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:r,max:o,getValidationErrors:s}=t,a=[];if(i){let l=new Date(i),d=this.getLocaleTextFunc();if(r){let c=new Date(r);if(l<c){let u=c.toLocaleDateString();a.push(d("minDateValidation",`Date must be after ${u}`,[u]))}}if(o){let c=new Date(o);if(l>c){let u=c.toLocaleDateString();a.push(d("maxDateValidation",`Date must be before ${u}`,[u]))}}}return a.length||(a=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){let{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!ut(n)&&!ut(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return Ea(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ea(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ea(e??null,this.includeTime??!1)??void 0}},CTe=class extends M3{constructor(){super(new wTe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},_Te={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},xTe=class extends _3{constructor(){super(_Te,[Kxe]),this.eEditor=ft}initialiseEditor(e){let{eEditor:t}=this,{cellStartedEdit:n,value:i,maxLength:r,cols:o,rows:s}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(r||200).setCols(o||60).setRows(s||10),i!=null&&t.setValue(i.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===Ae.LEFT||t===Ae.UP||t===Ae.RIGHT||t===Ae.DOWN||e.shiftKey&&t===Ae.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.getLocaleTextFunc();this.eEditor.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eEditor.getFocusableElement().focus()}getValue(){let{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!ut(i)&&!ut(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),r=this.getValue(),o=[];return typeof r=="string"&&t!=null&&r.length>t&&o.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:r,internalErrors:o,cellEditorParams:e}):o}},STe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},ETe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return STe}getAgComponents(){return[Yxe]}init(e,t){this.eEditor=e,this.params=t;let{max:n,min:i,precision:r,step:o}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),o!=null&&e.setStep(o);let s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){let{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,o=this.eEditor.getInputElement().valueAsNumber,s=this.getLocaleTextFunc(),a=[];return typeof o=="number"&&(t!=null&&o<t&&a.push(s("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&o>n&&a.push(s("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),i?i({value:o,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===Ae.UP||e.key===Ae.DOWN)&&e.preventDefault()}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();if(!ut(n)&&!ut(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){Fp()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},DTe=class extends M3{constructor(){super(new ETe(()=>this.getLocaleTextFunc()))}},RTe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},MTe=class extends _3{constructor(){super(RTe,[nSe]),this.eEditor=ft,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;let{eEditor:t,valueSvc:n,gos:i}=this,{values:r,value:o,eventKey:s}=e;if(er(r)){it(58);return}this.startedByEnter=s!=null?s===Ae.ENTER:!1;let a=!1;r.forEach(u=>{let h={value:u},p=n.formatValue(e.column,null,u),f=p!=null;h.text=f?p:u,t.addOption(h),a=a||o===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:d,valueListMaxHeight:c}=e;l!=null&&t.setPickerGap(l),c!=null&&t.setPickerMaxHeight(c),d!=null&&t.setPickerMaxWidth(d),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){let{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue(),r=[];if(t&&!t.includes(i)){let o=this.getLocaleTextFunc();r.push(o("invalidSelectionValidation","Invalid selection."))}else r=null;return n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},TTe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},ITe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return TTe}getAgComponents(){return[x3]}init(e,t){this.eEditor=e,this.params=t;let n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),r=this.getLocaleTextFunc(),o=[];return t!=null&&typeof i=="string"&&i.length>t&&o.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:i,cellEditorParams:e,internalErrors:o}):o}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();return!ut(n)&&!ut(t.value)?t.value:t.parseValue(n)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){let e=this.eEditor,t=e.getValue(),n=ut(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},NK=class extends M3{constructor(){super(new ITe(()=>this.getLocaleTextFunc()))}};function kTe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function ATe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function AZ(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function FZ(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function FTe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function PTe(e){e.undoRedo?.undo("api")}function OTe(e){e.undoRedo?.redo("api")}function LTe(e){let t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,r)=>{let{rowIndex:o,rowPinned:s}=r;i.forEach(({newValue:a,oldValue:l,state:d},c)=>{let u=kh({newValue:a,oldValue:l});a===Da&&(a=void 0);let h={newValue:a,oldValue:l,state:d,column:c,colId:c.getColId(),colKey:c.getColId(),rowIndex:o,rowPinned:s};(d==="editing"||d==="changed"&&u)&&n.push(h)})}),n}function NTe(e,t=!1){let{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(i=>{i.state==="editing"&&n.revertSingleCellEdit(i)}):Ih(e),B0(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function BTe(e,t){let n=Ur(e,t);return e.editSvc?.isEditing(n)??!1}function VTe(e,t){let{key:n,colKey:i,rowIndex:r,rowPinned:o}=t,{editSvc:s,colModel:a}=e,l=a.getCol(i);if(!l){it(12,{colKey:i});return}let d={rowIndex:r,rowPinned:o||null,column:l};o==null&&FZ(e,r),AZ(e,i),T0(e,d)&&s?.setEditingCells([Le(re({},d),{colId:l.getColId(),newValue:n,state:"editing"})],{update:!0})}function HTe(e){return e.editSvc?.validateEdit()||null}function zTe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function jTe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var GTe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},UTe=class extends n5{constructor(e){super(GTe),this.params=e}postConstruct(){Tp(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,n=i=>{v8(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},v3=(e,t=!1)=>{if(e!==void 0)return kh(e)||t&&e.state==="editing"};function PZ(e,t,n=!1){return v3(e.editModelSvc?.getEdit(t),n)}function OZ(e,t){let{editModelSvc:n}=e,{column:i,rowNode:r}=t;if(e.gos.get("groupTotalRow")&&!r?.footer)return!1;for(let o of r?.allLeafChildren??[])if(v3(n?.getEdit({rowNode:o,column:i}))||v3(n?.getEdit({rowNode:o.pinnedSibling,column:i})))return!0}function LZ(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return v3(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var WTe=class extends Be{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){let{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){let r=PZ(n,e)||OZ(n,e)||LZ(n,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);let i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},$Te=class extends Be{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){let{rowCtrl:e,editModelSvc:t,beans:n}=this,i=e.rowNode,r=t?.getEditRow(i),o=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!r&&i.pinnedSibling&&(i=i.pinnedSibling,r=t?.getEditRow(i)),r){let s=Array.from(r.keys()).some(a=>{let l={rowNode:i,column:a};return PZ(n,l,!0)||OZ(n,l)||LZ(n,l)});this.applyStyle(o,s);return}this.applyStyle(o)}applyStyle(e=!1,t=!1){let n=this.editSvc?.isBatchEditing()??!1,i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",i&&t),r.toggleCss("ag-row-batch-edit",i&&t&&n),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},qTe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{let r=new Set;return e.forEachNode(o=>i.has(o)&&r.add(o)),t?.forEachPinnedRow("top",o=>i.has(o)&&r.add(o)),t?.forEachPinnedRow("bottom",o=>i.has(o)&&r.add(o)),i.forEach(o=>{r.has(o)||n.removeEdits({rowNode:o})}),r},KTe=({editModelSvc:e},t,n)=>{t.forEach(i=>e?.getEditRow(i)?.forEach((r,o)=>!n.has(o)&&e.removeEdits({rowNode:i,column:o})))},YTe=e=>()=>{let t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());KTe(e,qTe(e,i),t)},NZ={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},XTe=new Set(Object.keys(NZ)),BE={cancel:!0,source:"api"},ZTe={cancel:!1,source:"api"},dw={checkSiblings:!0},VE={force:!0,suppressFlash:!0},QTe=class extends Be{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){let{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,BE),this.createStrategy(i)});let t=YTe(e),n=()=>{let i=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||r?this.stopEditing(void 0,BE):this.isEditing()&&(this.isBatchEditing()?B0(e,this.model.getEditPositions()):this.stopEditing(void 0,ZTe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,rowDataUpdated:n,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,BE)):(this.stopEditing(void 0,BE),this.batch=!1)}createStrategy(e){let{beans:t,gos:n,strategy:i}=this,r=e??n.get("editType")??"singleCell";if(i){if(i.beanName===r)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,i)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return CCe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??dw)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){let{startedEdit:n=!0,event:i=null,source:r="ui",ignoreEventKey:o=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;let s=Ur(this.beans,e);if(s&&!s.comp){s.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}let a=this.shouldStartEditing?.(e,i,n,r);if(a===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&this.stopEditing(void 0,{source:r}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,i,r,o)}stopEditing(e,t){let{event:n,cancel:i,source:r="ui",suppressNavigateAfterEdit:o}=t||{},{beans:s,model:a}=this;if(XTe.has(r))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,Le(re({},t),{source:NZ[r]}));if(!this.isEditing()||!this.strategy)return!1;let l=Ur(s,e);l&&(l.onEditorAttachedFuncs=[]);let d=a.getEditMap(!0),c=!1,u=!i&&!!this.shouldStopEditing(e,n,r),h=i&&!!this.shouldCancelEditing(e,n,r);if(u||h){Ih(s);let p=a.getEditMap();this.processEdits(p,i),this.strategy?.stop(i),this.bulkRefresh(void 0,d),d=p,c||(c=u)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){let p=n.key,f=p===Ae.ENTER,m=p===Ae.ESCAPE;(f||m)&&(f?Ih(s):m&&this.revertSingleCellEdit(l,!1),B0(s,a.getEditPositions()),n.preventDefault(),this.bulkRefresh(e,d,{suppressFlash:!0}),d=a.getEditMap())}else Ih(s),d=a.getEditMap();return c&&e&&this.model.removeEdits(e),!o&&l&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,l.cellPosition),d8(s),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),h&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(d.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),c&&u&&this.dispatchBatchEvent("batchEditingStopped",d)),c}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let i=e?Ae.UP:Ae.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1)}}processEdits(e,t=!1){let n=Array.from(e.keys()),{beans:i}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0;for(let o of n){let s=e.get(o);for(let a of s.keys()){let l=s.get(a),c=Ur(i,{rowNode:o,column:a}),u=kh(l);!t&&u&&!r&&(c&&(c.suppressRefreshCell=!0),o.setDataValue(a,l.newValue,"commit"),c&&(c.suppressRefreshCell=!1),c?.refreshCell(VE))}}}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(VE)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;let{newValue:i,oldValue:r}=n,{rowIndex:o,rowPinned:s,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:o,rowPinned:s,column:t,source:"api",data:a,newValue:i,oldValue:r,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){let{beans:i,gos:r}=this,{editModelSvc:o,rowModel:s}=i;so(r,s)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&o?.getEditMap(!1)?.forEach((a,l)=>{for(let d of a.keys())this.refCell({rowNode:l,column:d},a.get(d),n)}))}refCell({rowNode:e,column:t},n,i={}){let{beans:r,gos:o}=this,s=new Set([e]),a=new Set,l=e.pinnedSibling;l&&s.add(l);let d=e.sibling;d&&a.add(d);let c=e.parent;for(;c;)c.sibling?.footer&&o.get("groupTotalRow")||!c.parent&&c.sibling&&o.get("grandTotalRow")?a.add(c.sibling):a.add(c),c=c.parent;s.forEach(u=>this.dispatchEditValuesChanged({rowNode:u,column:t},n)),s.forEach(u=>Ur(r,{rowNode:u,column:t})?.refreshCell(i)),a.forEach(u=>Ur(r,{rowNode:u,column:t})?.refreshCell(i))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){let{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t){if(this.hasValidationErrors(e)){let n=Ur(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.(),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){let n=Ur(this.beans,e);n?.comp?.getCellEditor()&&(this.model.clearEditValue(e),B0(this.beans,[e]),Tw(this.beans,e),Lh(this.beans),n?.refreshCell(VE),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Lh(this.beans);let t=Ur(this.beans,e);t&&(t.refreshCell(VE),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let r;return e instanceof H0&&this.isEditing()&&(r=this.strategy?.moveToNextEditingCell(e,t,n,i)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t}){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t}),i=e.pinnedSibling;if(i){let o=this.model.getEdit({rowNode:i,column:t});o&&(n=o)}let r=n?.newValue;return r===Da||!n?this.valueSvc.getValue(t,e,!0,"api"):r}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){gCe(this,this.beans,e)}createPopupEditorWrapper(e){return new UTe(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&n!=="paste"&&n!=="rangeSvc"&&n!=="renderer"&&n!=="cellClear")return;let{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());let r=this.isBatchEditing()?"ui":"api",o=this.model.getEdit(e);if(o){if(o.newValue===t)return!1;if(o.oldValue!==t)return u8(i,e,t,n),this.stopEditing(e,{source:r}),!0;if(o.oldValue===t)return i.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{newValue:t,oldValue:o.oldValue}),!0}return u8(i,e,t,n),this.stopEditing(e,{source:r}),!0}handleColDefChanged(e){yCe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,dw))return;let{rowNode:i,column:r}=e,{compDetails:o,valueToDisplay:s}=t;if(o){let{params:l}=o;return l.data=this.model.getEditRowDataValue(i,dw),{compDetails:o}}let a=this.model.getEditRow(e.rowNode,dw);if(s!==void 0&&a?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,i)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Zt(this.gos,re({type:e},e==="batchEditingStopped"?{changes:this.model.getEditPositions(t).map(n=>Le(re({},n),{rowIndex:n.rowNode.rowIndex,rowPinned:n.rowNode.rowPinned,columnId:n.column.getColId()}))}:{}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;let{beans:i,rangeSvc:r,valueSvc:o}=this;Ih(i);let s=this.model.getEditMap(!0),a=s.get(e)?.get(t)?.newValue;n.forEach(d=>{if(r?.forEachRowInRange(d,c=>{let u=Oh(i,c);if(u===void 0)return;let h=s.get(u)??new Map;for(let p of d.columns)if(p&&this.isCellEditable({rowNode:u,column:p},"api")){let f=o.getValue(p,u,!0,"api"),m=o.parseValue(p,u??null,a,f);Number.isNaN(m)&&(m=null),h.set(p,{newValue:m,oldValue:f,state:"changed"})}h.size>0&&s.set(u,h)}),this.setEditMap(s),this.batch){this.cleanupEditors(),d8(i),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"})}),this.bulkRefresh();let l=Ur(i,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new WTe(e,t)}createRowStyleFeature(e,t){return new $Te(e,t)}setEditingCells(e,t){let{beans:n}=this,{colModel:i,valueSvc:r}=n,o=new Map;e.forEach(({colId:s,column:a,colKey:l,rowIndex:d,rowPinned:c,newValue:u,state:h})=>{let p=s?i.getCol(s):l?i.getCol(l):a;if(!p)return;let f=Oh(n,{rowIndex:d,rowPinned:c});if(!f)return;let m=r.getValue(p,f,!0,"api");if(!kh({newValue:u,oldValue:m})&&h!=="editing")return;let g=o.get(f);g||(g=new Map,o.set(f,g)),u===void 0&&(u=Da),g.set(p,{newValue:u,oldValue:m,state:h??"changed"})}),this.setEditMap(o,t)}onCellFocused(e){let t=Ur(this.beans,e);if(!t||!this.isEditing(t,dw))return;let n=this.model.getEdit(t);if(!n||!kh(n))return;let r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}},BZ=class extends Be{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t,n=e.previousParams,{editSvc:i,beans:r}=this;n&&(t=Ur(r,n));let{gos:o,editModelSvc:s}=r,a=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){if(t&&!a&&i.checkNavWithValidation(t,e)==="block-stop")return;let{column:l,rowIndex:d,rowPinned:c}=e,u={column:l,rowNode:Oh(r,{rowIndex:d,rowPinned:c})},p=o.get("invalidEditValueMode")==="block"&&!!s?.getCellValidationModel().hasCellValidation(u);(n||a?i.stopEditing(void 0,{cancel:p,source:a?"api":void 0}):!0)||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e){let t=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};if(t.forEach(r=>{if(n.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0){n.fail.push(r);return}n.pass.push(r)}),e)return t.forEach(r=>{c3(this.beans,r),this.model.stop(r)}),!0;let i=this.processValidationResults(n);return i.destroy.length>0&&i.destroy.forEach(r=>{c3(this.beans,r),this.model.stop(r)}),i.keep.length>0&&i.keep.forEach(r=>{let o=Ur(this.beans,r);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Ih(this.beans);let n=this.model.getEditPositions(),i=[];e?n.forEach(r=>{!e||r.rowNode===e||i.push(r)}):n.forEach(r=>{i.push(r)}),B0(this.beans,i),d8(this.beans,t)}stopAllEditing(){Ih(this.beans),this.stop()}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){let t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{let i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,i,r=!1){let o=i instanceof KeyboardEvent&&!r&&i.key||void 0;bCe(this.beans,e,t,o,i,n)}dispatchCellEvent(e,t,n,i){let r=Ur(this.beans,e);r&&this.eventSvc.dispatchEvent(re(re({},r.createEvent(t??null,n)),i))}dispatchRowEvent(e,t){let n=l3(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,i="ui"){if(t instanceof KeyboardEvent&&(t.key===Ae.TAB||t.key===Ae.ENTER||t.key===Ae.F2||t.key===Ae.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;let o=e?.getColDef(),s=this.deriveClickCount(o),a=t?.type;return a==="click"&&t?.detail===1&&s===1||a==="dblclick"&&t?.detail===2&&s===2?!0:i==="api"?n??!1:!1}shouldStop(e,t,n="ui"){let i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===Ae.ENTER:null}shouldCancel(e,t,n="ui"){let i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===Ae.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});let n=[];if(e.forEach((i,r)=>{i.forEach((o,s)=>{o.state==="editing"&&n.push(Le(re({},o),{rowNode:r,column:s}))})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){let i=n.at(-1),r=i.newValue===Da?void 0:i.newValue;this.start(i,new KeyboardEvent("keydown",{key:r}),"api");let o=Ur(this.beans,i);o&&this.setFocusInOnEditor(o)}}deriveClickCount(e){let{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},JTe=class extends BZ{constructor(){super(...arguments),this.beanName="fullRow"}isCellEditable(e,t="ui"){let n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(r=>super.isCellEditable({rowNode:e.rowNode,column:r},t))}shouldStop(e,t,n="ui"){let{rowNode:i}=e||{};if(!l3(this.beans,{rowNode:this.rowNode}))return!0;let o=super.shouldStop({rowNode:this.rowNode},t,n);return o!==null?o:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",i){let{rowNode:r}=e;this.rowNode!==r&&super.cleanupEditors(e),this.model.hasEdits({rowNode:r})||this.dispatchRowEvent({rowNode:r},"rowEditingStarted");let o=this.beans.visibleCols.allCols,s=[];o.forEach(a=>{if(!a.isCellEditable(r))return;let l={rowNode:r,column:a};s.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=r,this.setupEditors(s,e,!0,t,i)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e){let{rowNode:t}=this;if(t&&!this.model.hasRowEdits(t))return!1;let n=this.model.getEditRow(t),i=!1;for(let[,r]of n)if(kh(r)){i=!0;break}return Lh(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:t})==="block-stop"?!1:(super.stop(e),t&&(i&&this.dispatchRowEvent({rowNode:t},"rowValueChanged"),this.dispatchRowEvent({rowNode:t},"rowEditingStopped")),this.rowNode=void 0,!0)}onCellFocusChanged(e){let{rowIndex:t}=e;if(e.previousParams?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent||this.model.getRowValidationModel().getRowValidationMap().size>0)return;super.onCellFocusChanged(e);let i=e.previousParams;i&&l3(this.beans,i)?.refreshRow({suppressFlash:!0,force:!0})}cleanupEditors({rowNode:e}={},t){super.cleanupEditors({rowNode:e},t),e&&this.dispatchRowEvent({rowNode:this.rowNode},"rowEditingStopped")}moveToNextEditingCell(e,t,n,i="ui"){let r=this.editSvc.checkNavWithValidation(void 0,n)==="block-stop",o=e.cellPosition,s;this.model.suspend(!0);try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(s===!1)return null;if(s==null)return r;let a=s.cellPosition,l=e.isCellEditable(),d=s.isCellEditable(),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(!c){if(Lh(this.beans),this.model.getRowValidationModel().getRowValidationMap().size>0){if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0}else if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0;if(r&&this.model.getRowValidationModel().getRowValidation(e))return!0}return l&&this.setFocusOutOnEditor(e),d&&!r?(s.comp?.getCellEditor()||Tw(this.beans,s,void 0,n,!0),this.setFocusInOnEditor(s),s.focusCell(!1,n)):s.focusCell(!0,n),!c&&!r&&(super.cleanupEditors(s,!0),this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0}},eIe=class extends BZ{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){let i=super.shouldStop(e,t,n);if(i!==null)return i;let{rowNode:r,column:o}=e||{};return(!this.rowNode||!this.column)&&r&&o?null:this.rowNode!==r||this.column!==o}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",i){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,i)}dispatchRowEvent(e,t){}stop(e){return super.stop(e),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){let{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:r,rowPinned:o}=e,s=Oh(this.beans,{rowIndex:i,rowPinned:o}),a=c8(r),l=t.getCol(a),d=e.previousParams;if(d){let c=c8(d.column);if(d?.rowIndex===i&&c===a&&d?.rowPinned===o)return}n?.isEditing({rowNode:s,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui"){let r=this.editSvc.checkNavWithValidation(void 0,n)==="block-stop",o=e.cellPosition,s,a=this.beans.gos.get("editType")==="fullRow";a?this.model.suspend(!0):(e.eGui.focus(),e.stopEditing());try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(s===!1)return null;if(s==null)return r;let l=s.cellPosition,d=e.isCellEditable(),c=s.isCellEditable(),u=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;if(!u){if(Lh(this.beans),this.model.getRowValidationModel().getRowValidationMap().size>0){if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0}else if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0;if(r&&this.model.getRowValidationModel().getRowValidation(e))return!0}if(d&&this.setFocusOutOnEditor(e),!u&&!r&&(super.cleanupEditors(s,!0),this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),c&&!r)s.focusCell(!1,n),s.comp?.getCellEditor()||Tw(this.beans,s,void 0,n,!0),this.setFocusInOnEditor(s);else{if(r&&this.model.getCellValidationModel().getCellValidation(e))return!0;s.focusCell(!0,n)}return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Bh={moduleName:"EditCore",version:pt,beans:[lCe,QTe],apiFunctions:{getEditingCells:LTe,getCellEditorInstances:vCe,startEditingCell:VTe,stopEditing:NTe,isEditing:BTe,validateEdit:HTe},dynamicBeans:{singleCell:eIe,fullRow:JTe},dependsOn:[D3,kZ],css:[fTe]},tIe={moduleName:"UndoRedoEdit",version:pt,beans:[hTe],apiFunctions:{undoCellEditing:PTe,redoCellEditing:OTe,getCurrentUndoSize:zTe,getCurrentRedoSize:jTe},dependsOn:[Bh]},nIe={moduleName:"TextEditor",version:pt,userComponents:{agCellEditor:NK,agTextCellEditor:NK},dependsOn:[Bh]},iIe={moduleName:"NumberEditor",version:pt,userComponents:{agNumberCellEditor:{classImp:DTe}},dependsOn:[Bh]},rIe={moduleName:"DateEditor",version:pt,userComponents:{agDateCellEditor:bTe,agDateStringCellEditor:CTe},dependsOn:[Bh]},oIe={moduleName:"CheckboxEditor",version:pt,userComponents:{agCheckboxCellEditor:mTe},dependsOn:[Bh]},sIe={moduleName:"SelectEditor",version:pt,userComponents:{agSelectCellEditor:MTe},dependsOn:[Bh]},aIe={moduleName:"LargeTextEditor",version:pt,userComponents:{agLargeTextCellEditor:xTe},dependsOn:[Bh]},lIe={moduleName:"CustomEditor",version:pt,dependsOn:[Bh]},cIe=class extends Be{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,L0(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Jwe(e))}createColumns(e,t){let n=()=>{i3(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,o=(this.columns?.treeDepth??-1)==i,s=this.generateSelectionCols();if(Qwe(s,this.columns?.list??[])&&o)return;n();let{colGroupSvc:l}=this.beans,d=l?.findDepth(e.tree)??0,c=l?.balanceTreeForAutoCols(s,d)??[];this.columns={list:s,tree:c,treeDepth:d,map:{}},t(h=>{if(!h)return null;let p=h.filter(f=>!Lp(f));return[...s,...p]})}updateColumns(e){let t=L0(e.source);this.columns?.list.forEach(n=>{let i=this.createSelectionColDef(e.currentValue);n.setColDef(i,null,t),Ll(this.beans,{state:[Le(re({},i),{colId:n.getColId()})]},t)})}getColumn(e){return this.columns?.list.find(t=>kY(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!xp(e))return!1;let i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;let r=!!O0(n),o=zE(n);return r||o}createSelectionColDef(e){let{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),a=n??{},{rowSpan:r,spanRows:o}=a,s=da(a,["rowSpan","spanRows"]);return Le(re({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,d,c,u){let h=c.isSelected(),p=u.isSelected();return h===p?0:h?1:-1},editable:!1,suppressFillHandle:!0,pinned:null},s),{colId:MY,chartDataType:"excluded"})}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);let n=new b3(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){let i=t&&typeof t!="string"?O0(t):void 0,r=e&&typeof e!="string"?O0(e):void 0,o=i!==r,s=t&&typeof t!="string"?zE(t):void 0,a=e&&typeof e!="string"?zE(e):void 0,l=s!==a,d=JE(e),c=JE(t);(o||l||d!==c)&&this.beans.colModel.refreshAll(n)}destroy(){i3(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;let i=e.length+t.length+n.length;if(i===0)return;let r=this.columns.list[0];if(!r.isVisible())return;let o=()=>{let l;switch(r.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&ol(l,r)};(this.beans.rowNumbersSvc?.getColumn(TY)?2:1)===i&&o()}};function dIe(e,t){if(!t.nodes.every(s=>s.rowPinned&&!Lw(s)?(it(59),!1):s.id===void 0?(it(60),!1):!0))return;let{nodes:i,source:r,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:r??"api",newValue:o})}function uIe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function hIe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function fIe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function pIe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function mIe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function gIe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function vIe(e){return e.selectionSvc?.getSelectedNodes()??[]}function bIe(e){return e.selectionSvc?.getSelectedRows()??[]}var yIe=class extends Wxe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=e3(e),this.groupSelectsDescendants=Dw(e),this.groupSelectsFiltered=t3(e)==="filteredDescendants",this.masterSelectsDetail=zq(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=Dw(e),n=e3(e),i=t3(e)==="filteredDescendants";this.masterSelectsDetail=zq(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:o,keepDescendants:s=!1}){if(!xp(this.gos)&&e)return it(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return it(130),0;let a=0;for(let l=0;l<i.length;l++){let d=i[l],c=D0(d),u=this.groupSelectsFiltered&&c.group;if(c.rowPinned&&!Lw(c)){it(59);continue}if(c.id===void 0){it(60);continue}u||this.selectRowNode(c,e,r,o)&&(this.detailSelection.delete(c.id),a++),this.groupSelectsDescendants&&c.childrenAfterGroup?.length&&(a+=this.selectChildren(c,e,o))}return n||(i.length===1&&o==="api"&&this.selectionCtx.setRoot(D0(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(D0(i[0]),s,o)),a>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),a}selectRange(e,t,n){let i=0;return e.forEach(r=>{let o=D0(r);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){let i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:n,rowModel:i}=this.beans;if(!so(n,i))return!1;let r=i.rootNode;if(!r)return!1;t||(t=new kw(!0,r),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==r){let a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t,n){let i=new Map,r=0;return this.selectedNodes.forEach(o=>{let s=o.id==e.id;if((t?!CIe(e,o):!0)&&!s){let l=this.selectedNodes.get(o.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&o.parent&&i.set(o.parent.id,o.parent)}}),i.forEach(o=>{let s=this.calculateSelectedFromChildren(o);this.selectRowNode(o,s===null?!1:s,void 0,n)}),r}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new Ap(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!so(e,t))return;let n=t.getTopLevelNodes();if(n===null)return;let i=[];function r(o){for(let s=0,a=o.length;s<a;s++){let l=o[s];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let n=so(this.gos),i=!1,r=o=>{let s=this.selectRowNode(D0(o),!1,void 0,e);i||(i=s)};if(t==="currentPage"||t==="filtered"){if(!n){Ti(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){let o=this.updateGroupsFromChildrenSelections(e);i||(i=o)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return VZ(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){let o=s=>{n(s),s.childrenAfterFilter?.forEach(o)};o(r);return}this.groupSelectsDescendants||n(r)}),t;let i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let o=i;o<=r;o++){let s=n.getRow(o);s&&e(s)}}selectAllRowNodes(e){let{gos:t,selectionCtx:n}=this;if(!xp(t)){it(132);return}if(Awe(t)&&!Ew(t)){it(130);return}if(!this.canSelectAll())return;let{source:i,selectAll:r}=e,o=!1;if(this.getNodesToSelect(r).forEach(s=>{let a=this.selectRowNode(D0(s),!0,void 0,i);o||(o=a)}),n.selectAll=!0,so(t)&&this.groupSelectsDescendants){let s=this.updateGroupsFromChildrenSelections(i);o||(o=s)}o&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Ti(103);return}let i=new Set(e),r=[];this.beans.rowModel.forEachNode(o=>{i.has(o.id)&&r.push(o)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){let{gos:e}=this.beans;return!!so(e)}updateSelectable(e){let{gos:t,rowModel:n}=this.beans;if(!xp(t))return;let i="selectableChanged",r=e!==void 0,o=so(t)&&this.groupSelectsDescendants,s=[],a=l=>{if(r&&!l.group)return;if(o&&l.group){let c=l.childrenAfterGroup?.some(u=>u.selectable)??!1;this.setRowSelectable(l,c,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&s.push(l)};if(o){if(e===void 0){let l=n.rootNode;e=l?new kw(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:i}),!r&&o&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let n=e.detailNode?.detailGridInfo?.api;if(!n)return;let i=wIe(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){let o=this.detailSelection.get(e.id)??new Set;for(let s of n.getSelectedNodes())o.add(s.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Ew(t)){it(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{let i=this.detailSelection.get(e.id);if(i){let r=[];for(let o of i){let s=n.getRowNode(o);s&&r.push(s)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function D0(e){return Lw(e)?e.pinnedSibling:e.footer?e.sibling:e}function wIe(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),VZ(t,n)}function VZ(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function CIe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var _Ie={moduleName:"SharedRowSelection",version:pt,beans:[cIe],apiFunctions:{setNodesSelected:dIe,selectAll:uIe,deselectAll:hIe,selectAllFiltered:fIe,deselectAllFiltered:pIe,selectAllOnCurrentPage:mIe,deselectAllOnCurrentPage:gIe,getSelectedNodes:vIe,getSelectedRows:bIe}},xIe={moduleName:"RowSelection",version:pt,rowModels:["clientSide","infinite","viewport"],beans:[yIe],dependsOn:[_Ie]};function SIe(e){e.expansionSvc?.expandAll(!0)}function EIe(e){e.expansionSvc?.expandAll(!1)}function DIe(e){let t=$c(e),n=fZ(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function RIe(e,t,n){let i=fZ(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Ti(238);return}i.setRowCount(t,n);return}Ti(28);return}let r=E3(e);if(r){r.setRowCount(t,n);return}}function MIe(e){return K0(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function TIe(e){return e.rowModel.isLastRowIndexKnown()}var IIe={moduleName:"CsrmSsrmSharedApi",version:pt,apiFunctions:{expandAll:SIe,collapseAll:EIe,onRowHeightChanged:DIe}},kIe={moduleName:"SsrmInfiniteSharedApi",version:pt,apiFunctions:{setRowCount:RIe,getCacheBlockState:MIe,isLastRowIndexKnown:TIe}},AIe=class extends Be{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){Ti(18),t||Ti(20);return}if(this.isGridApi(i))return i;let r=i;return"current"in r?r.current?.api:(r.api||Ti(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":it(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,n=null,i=this.beans,{colResize:r,ctrlsSvc:o,colModel:s}=i;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;let a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let u=e.api.getColumnState().map(h=>({colId:h.colId}));Ll(i,{state:u,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let u=e.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));Ll(i,{state:u},"alignedGridChanged")}break;case"columnPinned":{let u=e.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));Ll(i,{state:u},"alignedGridChanged")}break;case"columnResized":{let c=e,u={};a.forEach(h=>{u[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()}}),c.flexColumns?.forEach(h=>{u[h.getId()]&&delete u[h.getId()]}),r?.setColumnWidths(Object.values(u),!1,c.finished,"alignedGridChanged");break}}let d=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",d)})}},FIe={moduleName:"AlignedGrids",version:pt,beans:[AIe]},PIe=class extends Hxe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},YP=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function OIe(e){if(er(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let n=0;n<t.length;n++){let i=t[n],r=n===0,o=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==o&&(i.lastChild=o,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function HZ(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),OIe(e)}var LIe=class extends Be{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){let t=this.beans,n=t.sortSvc.getSortOptions(),i=ut(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=n.some(({column:s})=>Bc(t.gos)?s.isPrimary()&&s.isRowGroupActive():!!s.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,o)}sort(e,t,n,i,r,o,s){let{gos:a,colModel:l,rowGroupColsSvc:d,rowNodeSorter:c,rowRenderer:u,showRowGroupCols:h}=e,p=a.get("groupMaintainOrder"),f=l.getCols().some(E=>E.isRowGroupActive()),m=l.isPivotMode(),g=a.getCallback("postSortRows"),v=!1,w=E=>{let T=m&&E.leafGroup,F=p&&f&&!E.leafGroup&&!s,k;if(F){let V=d?.columns?.[E.level+1]?.getSort()===null,j=E.childrenAfterAggFilter.slice(0);if(E.childrenAfterSort&&!V){let z={};E.childrenAfterSort.forEach((R,I)=>{z[R.id]=I}),j.sort((R,I)=>(z[R.id]??0)-(z[I.id]??0))}k=j}else!n||T?k=E.childrenAfterAggFilter.slice(0):i&&r?k=NIe(c,E,r,o,t):k=c.doFullSort(E.childrenAfterAggFilter,t);if(v||(v=E.childrenAfterSort?.[0]!==k[0]),E.childrenAfterSort=k,HZ(E),g){let L={nodes:E.childrenAfterSort};g(L)}};if(o?.forEachChangedNodeDepthFirst(w),v&&this.gos.get("groupHideOpenParents")){let E=h?.getShowRowGroupCols();E?.length&&u.refreshCells({columns:E,force:!0})}}};function NIe(e,t,n,i,r){let o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,r);let a=new Set,l=[],{updates:d,adds:c}=n;for(let h=0,p=o.length;h<p;++h){let f=o[h];d.has(f)||c.has(f)||i&&!i.canSkip(f)?l.push({currentPos:l.length,rowNode:f}):a.add(f.id)}let u=s.filter(h=>a.has(h.id)).map((h,p)=>({currentPos:p,rowNode:h}));return l.sort((h,p)=>e.compareRowNodes(r,h,p)),BIe(e,r,l,u)}function BIe(e,t,n,i){let r=[],o=0,s=0,a=n.length,l=i.length;for(;o<a&&s<l;){let d=n[o],c=i[s],u=e.compareRowNodes(t,d,c),h;u<0?(h=d,++o):(h=c,++s),r.push(h.rowNode)}for(;o<a;)r.push(n[o++].rowNode);for(;s<l;)r.push(i[s++].rowNode);return r}var VIe=class extends Be{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.lastHighlightedRow=null,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=No(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Ap(this.beans);let n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){let{gos:e,beans:t}=this;return _Y(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,o=!1;do{r=!1;let s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),d=Math.min(a,i);for(let c=l;c<=d;c++){let u=this.getRow(c);if(u.rowHeightEstimated){let h=Ph(this.beans,u);u.setRowHeight(h.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}onPropChange(e){if(!this.rootNode)return;let t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),o=this.nodeManager,s=this.getNewNodeManager(),a=o!==s||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData"),l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,it(1))),a&&(r||(l=o?.extractRowData()??l),o!==s&&(o?.deactivate(),this.nodeManager=s),s.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new YP,s.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;let{selectionSvc:c,pinnedRowModel:u}=this.beans;c?.reset("rowDataChanged"),u?.isManual()&&u.reset(),this.rowNodesCountReady=!0,s.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(let{refreshProps:d,step:c}of this.orderedStages)if(e.some(u=>d.has(u))){i.step=c;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){let{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight(),i=0,r=new Set,o=Bo(this.gos,"normal");for(let s=0,a=t.length;s<a;++s){let l=t[s];if(l.id!=null&&r.add(l.id),l.rowHeight==null){let d=Ph(e,l,o,n);l.setRowHeight(d.height,d.estimated)}l.setRowTop(i),l.setRowIndex(s),i+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){let n=e.active,i=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},r=o=>{if(o!==null&&(i(o),i(o.detailNode),i(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){let s=o.level==-1;n&&!s&&!o.expanded||o.childrenAfterGroup.forEach(r)}};r(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let n=e.childrenAfterSort,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let{childrenAfterSort:r}=t,o=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:s}=this.beans;return s?s.getTopDisplayIndex(n,e,r,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;let o=t.childrenAfterSort?.findIndex(s=>s===r);return o===-1?e:o??e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=P0(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=P0(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=P0(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new kw(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}beforeRefreshModel(e,t=!1){this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e,groupsChanged:t}),this.started&&e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"})}refreshModel(e){if(!this.rootNode)return;let t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if(!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.beforeRefreshModel(e);return}switch(this.isRefreshingModel=!0,e.step!=="group"&&this.beforeRefreshModel(e),e.step){case"group":{let i=this.doRowGrouping(e);this.beforeRefreshModel(e,i),e.step==="group"&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}let n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1,r=[],o=Dw(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(i)return;if(n&&(s===t||s===e)&&(i=!0,s.group&&o)){r.push(...s.allLeafChildren);return}if(!n){if(s!==t&&s!==e)return;n=!0}if(!s.group||!o){r.push(s);return}}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(Mi(t).rowTop<=e)return t.length-1;let o=-1,s=-1;for(;;){let a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),o===n&&s===i))return a;o=n,s=i}}isRowInPixel(e,t){let n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){let{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}let o=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[o])}depthFirstSearchRowNodes(e,t=!1,n=o=>o.childrenAfterGroup,i=this.rootNode,r=0){let o=r;if(!i)return o;let s=i===this.rootNode;s||e(i,o++);let{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){let l=n(i);if(l){o=a?.addTotalRows(o,i,e,t,s,"top")??o;for(let d of l)o=this.depthFirstSearchRowNodes(e,t,n,d,o);return a?.addTotalRows(o,i,e,t,s,"bottom")??o}}return o}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),HZ(n)})}doRowGrouping(e){let t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;let i=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,i&&(i.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,mZ(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){let t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(f8)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],n=new YP,i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:o,rowsInserted:s}=this.nodeManager.updateRowData(r.rowDataTransaction,n);s&&(i=!0),t.push(o),r.callback&&e.push(r.callback.bind(null,o))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new YP,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(let i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=n3,this.rowsToDisplay=n3}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function HIe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function zIe(e,t){let n=$c(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function jIe(e){return $c(e)?.isEmpty()??!0}function GIe(e,t){$c(e)?.forEachLeafNode(t)}function UIe(e,t){$c(e)?.forEachNodeAfterFilter(t)}function WIe(e,t){$c(e)?.forEachNodeAfterFilterAndSort(t)}function $Ie(e){if(e.rowAutoHeight?.active){it(3);return}$c(e)?.resetRowHeights()}function qIe(e,t){return e.frameworkOverrides.wrapIncoming(()=>$c(e)?.updateRowData(t))}function KIe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>$c(e)?.batchUpdateRowData(t,n))}function YIe(e){e.frameworkOverrides.wrapIncoming(()=>$c(e)?.flushAsyncTransactions())}function XIe(e){return e.selectionSvc?.getBestCostNodeSelection()}var ZIe={moduleName:"ClientSideRowModel",version:pt,rowModels:["clientSide"],beans:[PIe,VIe,LIe],dependsOn:[aZ]},QIe={moduleName:"ClientSideRowModelApi",version:pt,apiFunctions:{onGroupExpandedOrCollapsed:HIe,refreshClientSideRowModel:zIe,isRowDataEmpty:jIe,forEachLeafNode:GIe,forEachNodeAfterFilter:UIe,forEachNodeAfterFilterAndSort:WIe,resetRowHeights:$Ie,applyTransaction:qIe,applyTransactionAsync:KIe,flushAsyncTransactions:YIe,getBestCostNodeSelection:XIe},dependsOn:[IIe]},JIe=class extends Be{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){let r=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,c=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&Iwe(this.gos,i);if(!l&&!d&&(t.skipRowGroups||c||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!d||r(Zt(this.gos,{node:i})))return;let p=e.onNewBodyRow(i);if(n.forEach((f,m)=>{p.onColumn(f,m,i)}),t.getCustomContentBelowRow){let f=t.getCustomContentBelowRow(Zt(this.gos,{node:i}));f&&e.addCustomContent(f)}}appendContent(e){return t=>{let n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{let n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){let i=new HY,{colGroupSvc:r}=this.beans,o=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){let i=n.onNewHeaderRow();t.forEach((r,o)=>{i.onColumn(r,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{let i=this.rowModel,r=so(this.gos,i),o=K0(this.gos,i),s=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(d=>d.rowPinned==null).sort((d,c)=>d.rowIndex-c.rowIndex).map(d=>i.getRow(d.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||s){let d=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(d),d.forEach(a)}else l==="all"?i.forEachNode(a):r||o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;let i=t.getSortOptions(),r=(o,s)=>o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?o.parent?.id===s.parent?.id?n.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(o.parent,s.parent):o.level>s.level?r(o.parent,s):r(o,s.parent);e.sort(r)}processPinnedBottomRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),d=h=>Lp(h)?!1:!Ep(h)||i;if(r&&r.length)return o.getColsForKeys(r).filter(d);let c=s.get("treeData"),u=[];return t&&!l?u=o.getCols():u=a.allCols,u=u.filter(h=>d(h)&&(n&&!c?!z8(h):!0)),u}recursivelyAddHeaderGroups(e,t,n){let i=[];e.forEach(r=>{let o=r;o.getChildren&&o.getChildren().forEach(s=>i.push(s))}),e.length>0&&yr(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){let i=e.onNewHeaderGroupingRow(),r=0;t.forEach(o=>{let s=o,a;n?a=n(Zt(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");let l=s.getLeafColumns().reduce((d,c,u,h)=>{let p=Mi(d);return c.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[u],d.push(p)):p&&p[1]==null&&(p[1]=u-1),u===h.length-1&&p&&p[1]==null&&(p[1]=u),d},[]);i.onColumn(s,a||"",r++,s.getLeafColumns().length-1,l)})}},eke={moduleName:"SharedExport",version:pt,beans:[JIe]},BK=`\r
`,tke=class extends zRe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,BK),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);let i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(it(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=BK),this.isFirstLine=!1}},nke=class extends HRe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){it(51);return}let t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(Zt(this.gos,{})):t.fileName;jRe(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:d,suppressQuotes:c,columnSeparator:u}=e;return new tke({colModel:t,colNames:n,valueSvc:r,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:d||void 0,suppressQuotes:c||!1,columnSeparator:u||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function ike(e,t){return e.csvCreator?.getDataAsCsv(t)}function rke(e,t){e.csvCreator?.exportDataAsCsv(t)}var oke={moduleName:"CsvExport",version:pt,beans:[nke],apiFunctions:{getDataAsCsv:ike,exportDataAsCsv:rke},dependsOn:[eke]},ske=class extends Be{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){let t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let o=0;o<e;o++){let s=n+o,a=new Ap(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),r.push(a)}}getBlockStateJson(){let{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){ut(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(er(this.params.datasource.getRows)){it(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:Zt(o,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){let{rowNodes:t,beans:n}=this;t.forEach((r,o)=>{let s=e.rowData?e.rowData[o]:void 0;!r.id&&r.alreadyRendered&&s&&(t[o]=new Ap(n),t[o].setRowIndex(r.rowIndex),t[o].setRowTop(r.rowTop),t[o].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[o],s,this.startRow+o)});let i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},ake=2,lke=class extends Be{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let n=Math.floor(e/this.params.blockSize),i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){let t=this.params,n=this.createBean(new ske(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Fh(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(n);let i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,o=ake-1;t.forEach((s,a)=>{let l=s.state==="needsLoading"&&a>=o,d=i?a>=r:!1;if(l||d){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:n,overflowSize:i}=this.params,o=(e.id+1)*n+i;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,ut(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let n=[],i=-1,r=!1,o={value:0},s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(r&&i+1!==l.id){s=!0;return}i=l.id,l.forEachNode(d=>{let c=d===e||d===t;(r||c)&&n.push(d),c&&(r=!r)},o,this.rowCount)}}),s||r?[]:n}},cke=class extends Be{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Sp(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Sp(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!ww(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;U0(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:Sp(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new lke(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function dke(e){E3(e)?.refreshCache()}function uke(e){E3(e)?.purgeCache()}function hke(e){return E3(e)?.getRowCount()}var fke=class extends Be{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=kwe(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=No(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ol(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Fh(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){Fh(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},pke={moduleName:"InfiniteRowModelCore",version:pt,rowModels:["infinite"],beans:[cke,fke]},mke={moduleName:"InfiniteRowModel",version:pt,apiFunctions:{refreshInfiniteCache:dke,purgeInfiniteCache:uke,getInfiniteRowCount:hke},dependsOn:[pke,kIe]},gke="\u2191",vke="\u2193",bke={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},yke=class extends ri{constructor(){super(bke),this.eValue=ft,this.eDelta=ft,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let n=Math.abs(t),i=e.formatValue(n),r=ut(i)?i:n,o=t>=0,s=this.eDelta;o?s.textContent=gke+r:s.textContent=vke+r,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ts(this.eDelta)}refresh(e,t=!1){let{value:n,valueFormatted:i}=e,{eValue:r,lastValue:o,beans:s}=this;if(n===o||(ut(i)?r.textContent=i:ut(n)?r.textContent=n:ts(r),s.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;let a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){let d=a-l;this.showDelta(e,d)}return o&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},wke=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",Cke={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},_ke=class extends ri{constructor(){super(Cke),this.eCurrent=ft,this.refreshCount=0,this.registerCSS(wke)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let{beans:t,eCurrent:n}=this,i=$i({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(er(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;let i=this.eCurrent;return ut(e.valueFormatted)?i.textContent=e.valueFormatted:ut(e.value)?i.textContent=n:ts(i),!0}},xke=class extends Be{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){let r=this.animations[t];r.delete(e);let o=Date.now(),s=o+n,a=o+n+i,l={phase:"flash",flashEndTime:s,fadeEndTime:a};r.set(e,l);let d=`ag-cell-${t}`,c=`${d}-animation`,{comp:u,eGui:{style:h}}=e;u.toggleCss(d,!0),u.toggleCss(c,!1),h.removeProperty("transition"),h.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=s)}advanceAnimations(){let e=Date.now(),t=null;for(let n of Object.keys(this.animations)){let i=this.animations[n],r=`ag-cell-${n}`,o=`${r}-animation`;for(let[s,a]of i){if(!s.isAlive()||!s.comp){i.delete(s);continue}let{phase:l,flashEndTime:d,fadeEndTime:c}=a,u=l==="flash"?d:c;if(!(e+15>=u)){t=Math.min(u,t??1/0);continue}let{comp:p,eGui:{style:f}}=s;switch(l){case"flash":p.toggleCss(r,!1),p.toggleCss(o,!0),f.transition=`background-color ${c-d}ms`,f.transitionDelay=`${d-e}ms`,t=Math.min(c,t??1/0),a.phase="fade";break;case"fade":p.toggleCss(r,!1),p.toggleCss(o,!1),f.removeProperty("transition"),f.removeProperty("transition-delay"),i.delete(s);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;let n=cCe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(let e of Object.keys(this.animations))this.animations[e].clear()}};function Ske(e,t={}){let{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var Eke={moduleName:"HighlightChanges",version:pt,beans:[xke],userComponents:{agAnimateShowChangeCellRenderer:yke,agAnimateSlideCellRenderer:_ke},apiFunctions:{flashCells:Ske}};function Dke(e){return e.stateSvc?.getState()??{}}function Rke(e,t,n){return e.stateSvc?.setState(t,n)}function VK(e){switch(e=re({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Mke(e)}return e.version=pt,e}function Mke(e){return e.cellSelection=Tke(e,"rangeSelection"),e}function Tke(e,t){if(e&&typeof e=="object")return e[t]}var Ike=class extends Be{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=No(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=No(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=No(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=so(this.gos);let e=VK(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;let n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));let[i,r,o]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(i(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{r?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{o?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){let n=VK(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();let i="api",r=t?new Set(t):void 0;this.setGridReadyState(n,i,r),this.setColumnsInitialisedState(n,i,!1,r),this.setRowCountState(n,i,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,r),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");let t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);let n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){let{filter:i,rowGroupExpansion:r,rowSelection:o,pagination:s}=e,a=(d,c)=>!n?.has(d)&&(c||t==="api");a("filter",i)&&this.setFilterState(i),a("rowGroupExpansion",r)&&this.setRowGroupExpansionState(r,t),a("rowSelection",o)&&this.setRowSelectionState(o,t),a("pagination",s)&&this.setPaginationState(s,t);let l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");let t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:r,colFilter:o}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&t("pagination",this.getPaginationState())}}),o&&this.addManagedListeners(o,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){let{scroll:i,cellSelection:r,focusedCell:o,columnOrder:s,rowPinning:a}=e,l=(u,h)=>!n?.has(u)&&(h||t==="api");l("focusedCell",o)&&this.setFocusedCellState(o),l("cellSelection",r)&&this.setCellSelectionState(r),l("scroll",i)&&this.setScrollState(i),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!s?.orderedColIds,t);let d=this.updateCachedState.bind(this);d("sideBar",this.getSideBarState()),d("focusedCell",this.getFocusedCellState());let c=this.getRangeSelectionState();d("rangeSelection",c),d("cellSelection",c),d("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");let t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){let i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){let e=this.beans;return kRe(o3(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){let{sort:r,rowGroup:o,aggregation:s,pivot:a,columnPinning:l,columnVisibility:d,columnSizing:c,columnOrder:u}=e,h=(z,R)=>!i?.has(z)&&(R||t==="api"),p={},f=z=>{let R=p[z];return R||(R={colId:z},p[z]=R,R)},m={},g=h("sort",r);g&&r?.sortModel.forEach(({colId:z,sort:R},I)=>{let N=f(z);N.sort=R,N.sortIndex=I}),(g||!n)&&(m.sort=null,m.sortIndex=null);let v=h("rowGroup",o);v&&o?.groupColIds.forEach((z,R)=>{let I=f(z);I.rowGroup=!0,I.rowGroupIndex=R}),(v||!n)&&(m.rowGroup=null,m.rowGroupIndex=null);let w=h("aggregation",s);w&&s?.aggregationModel.forEach(({colId:z,aggFunc:R})=>{f(z).aggFunc=R}),(w||!n)&&(m.aggFunc=null);let E=h("pivot",a);E&&(a?.pivotColIds.forEach((z,R)=>{let I=f(z);I.pivot=!0,I.pivotIndex=R}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(E||!n)&&(m.pivot=null,m.pivotIndex=null);let T=h("columnPinning",l);T&&(l?.leftColIds.forEach(z=>{f(z).pinned="left"}),l?.rightColIds.forEach(z=>{f(z).pinned="right"})),(T||!n)&&(m.pinned=null);let F=h("columnVisibility",d);F&&d?.hiddenColIds.forEach(z=>{f(z).hide=!0}),(F||!n)&&(m.hide=null);let k=h("columnSizing",c);k&&c?.columnSizingModel.forEach(({colId:z,flex:R,width:I})=>{let N=f(z);N.flex=R??null,N.width=I}),(k||!n)&&(m.flex=null);let L=u?.orderedColIds,V=!!L?.length&&!i?.has("columnOrder"),j=V?L.map(z=>f(z)):Object.values(p);j.length&&(this.columnStates=j,Ll(this.beans,{state:j,applyOrder:V,defaultState:m},t))}setColumnPivotState(e,t){let n=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;this.columnGroupStates=void 0;let r=this.beans,{pivotResultCols:o,colGroupSvc:s}=r;if(o?.isPivotResultColsPresent()){if(n){let a=[];for(let l of n)o.getPivotResultCol(l.colId)&&a.push(l);Ll(r,{state:a,applyOrder:e},t)}i&&s?.setColumnGroupState(i,t)}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState();return ARe(t)}setColumnGroupState(e,t,n){let i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let r=new Set(e.columnGroup?.openColumnGroupIds),s=i.getColumnGroupState().map(({groupId:a})=>{let l=r.has(a);return l&&r.delete(a),{groupId:a,open:l}});r.forEach(a=>{s.push({groupId:a,open:!0})}),s.length&&(this.columnGroupStates=s),i.setColumnGroupState(s,t)}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let n=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0;return t||i||n?{filterModel:t,columnFilterState:n,advancedFilterModel:i}:void 0}setFilterState(e){let t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||i!==void 0)&&t?.setFilterState(n??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:n,type:i,startRow:r,endRow:o,columns:s,startColumn:a}=t;return{id:n,type:i,startRow:r,endRow:o,colIds:s.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!nu(t)||!n)return;let o=[];e?.cellRanges.forEach(s=>{let a=[];if(s.colIds.forEach(d=>{let c=i.getCol(d);c&&a.push(c)}),!a.length)return;let l=i.getCol(s.startColId);if(!l){let d=r.allCols,c=new Set(a);l=d.find(u=>c.has(u))}o.push(Le(re({},s),{columns:a,startColumn:l}))}),n.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:o,ctrlsSvc:s}=this.beans;i.wrapIncoming(()=>{s.get("center").setCenterViewportScrollLeft(n),s.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}let{colId:i,rowIndex:r,rowPinned:o}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){let{pagination:n,gos:i}=this.beans;if(!n)return;let{pageSize:r,page:o}=e??{page:0,pageSize:i.get("paginationPageSize")},s=t==="gridInitializing";r&&!i.get("paginationAutoPageSize")&&n.setPageSize(r,s?"initialState":"pageSizeSelector"),typeof o=="number"&&(s?n.setPage(o):n.goToPage(o))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){let{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;let n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){let t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){let n=this.beans.expansionSvc;if(!n)return;let i=e?.expandedRowGroupIds??[],r;if(t==="api"){let o=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(o?.length){let s=new Set(o);for(let a of i)s.delete(a);r=Array.from(s)}}n.expandRows(i,r)}updateColumnState(e){let t=this.getColumnState(),n=!1,i=this.cachedState;for(let r of Object.keys(t)){let o=t[r];ww(o,i[r])||(n=!0)}this.cachedState=re(re({},i),t),n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let n=this.cachedState[e];this.setCachedStateValue(e,t),ww(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=Le(re({},this.cachedState),{[e]:t})}refreshStaleState(){let e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},kke={moduleName:"GridState",version:pt,beans:[Ike],apiFunctions:{getState:Dke,setState:Rke}};function Ake(e){return e.rowModel.isLastRowIndexKnown()}function Fke(e){return e.pagination?.getPageSize()??100}function Pke(e){return e.pagination?.getCurrentPage()??0}function Oke(e){return e.pagination?.getTotalPages()??1}function Lke(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Nke(e){e.pagination?.goToNextPage()}function Bke(e){e.pagination?.goToPreviousPage()}function Vke(e){e.pagination?.goToFirstPage()}function Hke(e){e.pagination?.goToLastPage()}function zke(e,t){e.pagination?.goToPage(t)}var jke=class extends Be{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,n=()=>{let i=Math.max(Sp(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?No(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},uw="paginationPageSizeSelector",Gke={tag:"span",cls:"ag-paging-page-size"},Uke=class extends ri{constructor(){super(Gke),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(uw,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){ts(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(uw)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){let r=this.gos.exists("paginationPageSize"),o=this.gos.get(uw)!==!0;it(94,{pageSizeSet:r,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||it(95,{paginationPageSizeOption:t,paginationPageSizeSelector:uw}),e.unshift("")}let i=String(n?"":t);this.selectPageSizeComp?(Op(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new s5).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(uw);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Wke={selector:"AG-PAGE-SIZE-SELECTOR",component:Uke},$ke=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",qke=class extends FX{constructor(){super(),this.btFirst=ft,this.btPrevious=ft,this.btNext=ft,this.btLast=ft,this.lbRecordCount=ft,this.lbFirstRowOnPage=ft,this.lbLastRowOnPage=ft,this.lbCurrent=ft,this.lbTotal=ft,this.pageSizeComp=ft,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS($ke)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Wke]);let{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",rl(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",rl(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",rl(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",rl(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):kCe(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===Ae.ENTER||i.key===Ae.SPACE)&&(i.preventDefault(),n())}})}),ICe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):VRe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Xye(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),o=this.pagination.getPageSize(),s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*r+1,a=s+o-1,e&&a>i&&(a=i));let l=s+o-1,d=!e&&n<l,c=this.formatNumber(s);this.lbFirstRowOnPage.textContent=c;let u,h=this.getLocaleTextFunc();d?u=h("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;let f=t>0?r+1:0,m=this.formatNumber(f);this.lbCurrent.textContent=m;let g,v;if(e)g=this.formatNumber(t),v=this.formatNumber(i);else{let w=h("more","more");g=w,v=w}this.lbTotal.textContent=g,this.lbRecordCount.textContent=v,this.announceAriaStatus(c,u,v,m,g)}announceAriaStatus(e,t,n,i,r){let o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),d=`${e} ${a} ${t} ${l} ${n}`,c=`${s} ${i} ${l} ${r}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnounce?.announceValue(d,"paginationRow")),c!==this.ariaPageStatus&&(this.ariaPageStatus=c,this.ariaAnnounce?.announceValue(c,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},Kke={selector:"AG-PAGINATION",component:qke},Yke=class extends Be{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Kke}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){let t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;let{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ut(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ut(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ut(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ut(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();let r=this.currentPage,o=n*r,s=n*(r+1)-1;if(s>i&&(s=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},Xke={moduleName:"Pagination",version:pt,beans:[Yke,jke],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Ake,paginationGetPageSize:Fke,paginationGetCurrentPage:Pke,paginationGetTotalPages:Oke,paginationGetRowCount:Lke,paginationGoToNextPage:Nke,paginationGoToPreviousPage:Bke,paginationGoToFirstPage:Vke,paginationGoToLastPage:Hke,paginationGoToPage:zke},dependsOn:[D3]};function Zke(e,t={}){let n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function zZ(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&zZ(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function Qke(e,t){return e.rowModel.getRowNode(t)}function Jke(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function eAe(e){return e.rowRenderer.getRenderedNodes()}function tAe(e,t,n){e.rowModel.forEachNode(t,n)}function nAe(e){return e.rowRenderer.firstRenderedRow}function iAe(e){return e.rowRenderer.lastRenderedRow}function rAe(e,t){return e.rowModel.getRow(t)}function oAe(e){return e.rowModel.getRowCount()}var sAe={moduleName:"RowApi",version:pt,apiFunctions:{redrawRows:Zke,setRowNodeExpanded:zZ,getRowNode:Qke,addRenderedRowListener:Jke,getRenderedNodes:eAe,forEachNode:tAe,getFirstDisplayedRowIndex:nAe,getLastDisplayedRowIndex:iAe,getDisplayedRowAtIndex:rAe,getDisplayedRowCount:oAe}},aAe={moduleName:"ScrollApi",version:pt,apiFunctions:{getVerticalPixelRange:kTe,getHorizontalPixelRange:ATe,ensureColumnVisible:AZ,ensureIndexVisible:FZ,ensureNodeVisible:FTe}};function lAe(e,t,n){if(!t)return;let i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function cAe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function dAe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function uAe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function hAe(e){e.animationFrameSvc?.flushAllFrames()}function fAe(e){return{rowHeight:Sp(e),headerHeight:Bw(e)}}function pAe(e,t={}){let n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{let s=o.getCellRenderer();s!=null&&n.push(Rw(s))}),t.columns?.length)return n;let i=[],r=D8(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(r&&!R8(o.rowNode,r)||!o.isFullWidth())return;let s=o.getFullWidthCellRenderers();for(let a=0;a<s.length;a++){let l=s[a];l!=null&&i.push(Rw(l))}}),[...i,...n]}var mAe={moduleName:"RenderApi",version:pt,apiFunctions:{setGridAriaProperty:lAe,refreshCells:cAe,refreshHeader:dAe,isAnimationFrameQueueEmpty:uAe,flushAllAnimationFrames:hAe,getSizesForCurrentTheme:fAe,getCellRendererInstances:pAe}};function gAe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function jZ({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function vAe(e,t){t&&typeof t=="object"?jZ(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var bAe=class extends Be{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,defaultMaxWidth:o,defaultMinWidth:s,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:d,renderStatus:c,colModel:u,autoWidthCalc:h,visibleCols:p}=this.beans;if(d?.flushAllFrames(),this.timesDelayed<5&&c&&!c.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;let f=[],m=-1,g=Object.fromEntries(a.map(({colId:E,maxWidth:T,minWidth:F})=>[E,{maxWidth:T,minWidth:F}])),v=n??this.gos.get("skipHeaderOnAutoSize"),w=i??v;for(;m!==0;){m=0;let E=[];t.forEach(T=>{if(!T||Lp(T))return;let F=u.getCol(T);if(!F||Ep(F)||f.indexOf(F)>=0)return;let k=h.getPreferredWidthForColumn(F,v);if(k>0){let L=g[F.colId]??{};L.minWidth??(L.minWidth=s),L.maxWidth??(L.maxWidth=o);let V=yAe(F,k,L);F.setActualWidth(V,l),f.push(F),m++}E.push(F)}),E.length&&p.refresh(l)}w||this.autoSizeColumnGroupsByColumns(t,l,r),W0(this.eventSvc,f,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){let{colModel:i,ctrlsSvc:r}=this.beans,o=new Set;i.getColsForKeys(e).forEach(d=>{let c=d.getParent();for(;c&&c!=n;)c.isPadding()||o.add(c),c=c.getParent()});let a,l=[];for(let d of o){for(let c of r.getHeaderRowContainerCtrls())if(a=c.getHeaderCtrlForColumn(d),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}let t=this.beans.visibleCols.allCols;this.autoSizeCols(re({colKeys:t},e))}addColumnAutosize(e,t){let n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);let r=new yp(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){let i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{let o=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),s=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=xw(r.eGridBody)-s;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):it(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}let r={};i&&i?.columnLimits?.forEach(m=>{var g=m,{key:p}=g,f=da(g,["key"]);r[typeof p=="string"?p:p.getColId()]=f});let o=this.beans.visibleCols.allCols;if(e<=0||!o.length||e===Zd(o)&&o.every(f=>{if(f.colDef.suppressSizeToFit)return!0;let m=r?.[f.getId()],g=m?.minWidth??i?.defaultMinWidth,v=m?.maxWidth??i?.defaultMaxWidth,w=f.getActualWidth();return(g==null||w>=g)&&(v==null||w<=v)}))return;let a=[],l=[];o.forEach(p=>{p.getColDef().suppressSizeToFit===!0?l.push(p):a.push(p)});let d=a.slice(0),c=!1,u=p=>{ol(a,p),l.push(p)};for(a.forEach(p=>{p.resetActualWidth(t);let f=r?.[p.getId()],m=f?.minWidth??i?.defaultMinWidth,g=f?.maxWidth??i?.defaultMaxWidth,v=p.getActualWidth();typeof m=="number"&&v<m?p.setActualWidth(m,t,!0):typeof g=="number"&&v>g&&p.setActualWidth(g,t,!0)});!c;){c=!0;let p=e-Zd(l);if(p<=0)a.forEach(f=>{let m=r?.[f.getId()]?.minWidth??i?.defaultMinWidth;if(typeof m=="number"){f.setActualWidth(m,t,!0);return}f.setActualWidth(f.minWidth,t)});else{let f=p/Zd(a),m=p;for(let g=a.length-1;g>=0;g--){let v=a[g],w=r?.[v.getId()],E=w?.minWidth??i?.defaultMinWidth,T=w?.maxWidth??i?.defaultMaxWidth,F=v.getMinWidth(),k=v.getMaxWidth(),L=typeof E=="number"&&E>F?E:F,V=typeof T=="number"&&T<k?T:k,j=Math.round(v.getActualWidth()*f);j<L?(j=L,u(v),c=!1):j>V?(j=V,u(v),c=!1):g===0&&(j=m),v.setActualWidth(j,t,!0),m-=j}}}d.forEach(p=>{p.fireColumnWidthChangedEvent(t)});let h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!n&&W0(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,o=n?.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:r,columnLimits:o}=e;setTimeout(()=>{let s={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:r,columnLimits:o};t?this.autoSizeCols(re({colKeys:t},s)):this.autoSizeAllColumns(s)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function yAe(e,t,n={}){let i=n.minWidth??e.getMinWidth();t<i&&(t=i);let r=n.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}var wAe={moduleName:"ColumnAutoSize",version:pt,beans:[bAe],apiFunctions:{sizeColumnsToFit:gAe,autoSizeColumns:jZ,autoSizeAllColumns:vAe},dependsOn:[jX]},CAe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function _Ae(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function xAe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function SAe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function EAe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function DAe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var RAe={moduleName:"PinnedRow",version:pt,beans:[Bxe],css:[CAe],apiFunctions:{getPinnedTopRowCount:_Ae,getPinnedBottomRowCount:xAe,getPinnedTopRow:SAe,getPinnedBottomRow:EAe,forEachPinnedRow:DAe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},MAe=class extends H0{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,o,s){this.eWrapper=n,super.setComp(e,t,n,i,r,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&k8(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){twe(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(w3(t)){this.focusedCellPosition=void 0;return}let n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},TAe=class extends p3{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new MAe(t,this,this.beans)}isCorrectCtrlForSpan(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},IAe=class extends Be{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){let{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,o=this.getAllRelevantRowControls(e),s=new Map,a=!1;for(let d of o)d.isAlive()&&t?.forEachSpannedColumn(d.rowNode,(c,u)=>{if(s.has(u.firstNode))return;let h=i.get(u.firstNode);if(h){s.set(u.firstNode,h),i.delete(u.firstNode);return}a=!0;let p=new TAe(u.firstNode,this.beans,!1,!1,!1);s.set(u.firstNode,p)});this[n]=s;let l=s.size===r;if(!(!a&&l)){for(let d of i.values())d.destroyFirstPass(!0),d.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;let i=`${GZ(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){let t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){let t=`${e}Ctrls`;for(let n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},GZ=e=>e??"center",kAe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},AAe=class extends Be{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:o,pagination:s}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],d=new Map,c=n.getCallback("isFullWidthRow"),u=a.equals,h=a.spanRows,p=typeof h=="function",f=null,m=null,g,v=(E,T)=>{f=E,m=null,g=T},w=E=>{let T=!E.isExpandable()&&!E.group&&!E.detail&&(c?!c({rowNode:E}):!0);if(E.rowIndex==null||!T){v(null,null);return}if(f==null||E.level!==f.level||E.footer||m&&E.rowIndex-1!==m?.getLastNode().rowIndex){v(E,o.getValue(t,E));return}let F=o.getValue(t,E);if(p){let k=Zt(n,{valueA:g,nodeA:f,valueB:F,nodeB:E,column:t,colDef:a});if(!h(k)){v(E,F);return}}else if(u?!u(g,F):g!==F){v(E,F);return}if(!m){let k=l?.get(f);k?.firstNode===f?(k.reset(),m=k):m=new kAe(t,f),d.set(f,m)}m.addSpannedNode(E),d.set(E,m)};switch(e){case"center":r.forEachDisplayedNode?.(E=>{(!s||s.isRowInPage(E.rowIndex))&&w(E)});break;case"top":i?.forEachPinnedRow("top",w);break;case"bottom":i?.forEachPinnedRow("bottom",w);break}this[`${e}ValueNodeMap`]=d}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${GZ(e.rowPinned)}ValueNodeMap`].get(e)}},FAe=class extends Be{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=No(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=No(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;let n=this.createManagedBean(new AAe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){let n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,o=this.spanningColumns.get(i);if(!o)return;let s;switch(e.rowPinned){case"top":s=t?.getPinnedTopRow(r);break;case"bottom":s=t?.getPinnedBottomRow(r);break;default:s=n.getRow(r)}if(s)return o.getCellSpan(s)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?Le(re({},e),{rowIndex:t.firstNode.rowIndex}):e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?Le(re({},e),{rowIndex:t.getLastNode().rowIndex}):e}getCellSpan(e,t){let n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){let r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},PAe={moduleName:"CellSpan",version:pt,beans:[FAe,IAe]},OAe=class extends Be{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);X8(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,o=>t.toggleCss(o,!0),o=>t.toggleCss(o,!1)),this.cellClassRules=i}applyUserStyles(){let e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){let r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(o=>t.toggleCss(o,!1));let r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(o=>t.toggleCss(o,!0))}getCellClassParams(e,t){let{value:n,rowNode:i}=this.cellCtrl;return Zt(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},LAe=class extends Be{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){X8(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){let{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new OAe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},NAe={moduleName:"CellStyle",version:pt,beans:[LAe]},BAe={moduleName:"RowStyle",version:pt,beans:[__e]};function VAe(e,t){return!!e.colHover?.isHovered(t)}var HAe=class extends Be{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{let{beans:i,gos:r,element:o,columns:s}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:a.setMouseOver.bind(a,s),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(d=>d()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},zAe="ag-column-hover",jAe=class extends Be{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){let i=()=>{let r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;let n=this.isHovered(e);t.toggleCss(zAe,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);let r=()=>{let o=this.isHovered(n);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new HAe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},GAe={moduleName:"ColumnHover",version:pt,beans:[jAe],apiFunctions:{isColumnHovered:VAe}},UAe=class extends Be{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){let n=this.wrapSvc?.wrap(e,t)??t,i=!qE.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){let n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,n=(o,s)=>{qE.has(o)&&t(o,s)},i=(o,s)=>{qE.has(o)||t(o,s)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});let r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){let{syncListener:s,asyncListener:a}=i.get(r);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function WAe(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function $Ae(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function qAe(e,t){e.apiEventSvc?.addGlobalListener(t)}function KAe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var YAe={moduleName:"EventApi",version:pt,apiFunctions:{addEventListener:WAe,addGlobalListener:qAe,removeEventListener:$Ae,removeGlobalListener:KAe},beans:[UAe]},XAe={moduleName:"Locale",version:pt,beans:[IRe]},ZAe=class extends Be{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=No(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols,o=!1,s=a=>{let l=a.__autoHeights,d=Ph(this.beans,a).height;for(let c of r){let u=l?.[c.getColId()],h=n?.getCellSpan(c,a);if(h){if(h.getLastNode()!==a)continue;if(u=n?.getCellSpan(c,a)?.getLastNodeAutoHeight(),!u)return}if(u==null){if(this.colSpanSkipCell(c,a))continue;return}d=Math.max(u,d)}d!==a.rowHeight&&(a.setRowHeight(d),o=!0)};i?.forEachPinnedRow?.("top",s),i?.forEachPinnedRow?.("bottom",s),t.forEachDisplayedNode?.(s),o&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}let i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=r.getLeftColsForRow(t);break;case"right":o=r.getRightColsForRow(t);break;case null:o=i.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let i=t.parentElement,{rowNode:r,column:o}=e,s=this.beans,a=c=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;let{paddingTop:u,paddingBottom:h,borderBottomWidth:p,borderTopWidth:f}=Pp(i),m=u+h+p+f,v=t.offsetHeight+m;if(c<5){let w=xo(s),E=!w||!w.contains(t),T=v==0;if(E||T){window.setTimeout(()=>a(c+1),0);return}}this.setRowAutoHeight(r,v,o)},l=()=>a(0);l();let d=Nh(s,t,l);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(r,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;let e=this.beans.rowRenderer.getAllRowCtrls(),t=null;for(let{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(let i of t){let r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},QAe={moduleName:"RowAutoHeight",version:pt,beans:[ZAe]},UZ={moduleName:"AllCommunity",version:pt,dependsOn:[ZIe,oke,mke,eMe,nIe,iIe,rIe,oIe,sIe,aIe,lIe,tIe,iTe,rTe,oTe,nTe,aTe,lTe,kke,FIe,Xke,SEe,sAe,aAe,mAe,wAe,JSe,RAe,xIe,hRe,NAe,GAe,BAe,YAe,mRe,Eke,kZ,XAe,QAe,QSe,QIe,PAe]};var JAe=(()=>{class e{constructor(){this.vcr=te(Lr)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=st({type:e,selectors:[["ag-component-container"]],standalone:!1,decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),qZ=16,w5=0;function e4e(e){let t=new Map;for(let n=0;n<qZ;n++){let i=e.createComponent(JAe);t.set(n,i),Cs(i.location.nativeElement)}return t}var t4e=new Set(["doesFilterPass","isFilterActive"]),WZ=(()=>{class e extends pZ{setViewContainerRef(n,i){this.viewContainerRef=n,this.angularFrameworkOverrides=i}createWrapper(n){let i=this.angularFrameworkOverrides,r=this;r.compShards??=e4e(this.viewContainerRef);class o extends C5{init(l){i.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.createComponent(n)}hasMethod(l){return s.getFrameworkComponentInstance()[l]!=null}callMethod(l,d){let c=this.getFrameworkComponentInstance(),u=c[l];return t4e.has(l)?u.apply(c,d):i.runInsideAngular(()=>u.apply(c,d))}addMethod(l,d){s[l]=d}}let s=new o;return s}createComponent(n){return w5=(w5+1)%qZ,this.compShards.get(w5).instance.vcr.createComponent(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=hs(e)))(r||e)}})()}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})(),C5=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Cs(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef?.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},T3=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t,n){let{frameworkOverrides:i,wrappedListeners:r}=this,o=n;if(i.shouldWrapOutgoing){o=a=>{i.wrapOutgoing(()=>n(a))};let s=r.get(t);s||(s=new Map,r.set(t,s)),s.set(n,o)}return o}wrapGlobal(t){let{frameworkOverrides:n,wrappedGlobalListeners:i}=this,r=t;return n.shouldWrapOutgoing&&(r=(o,s)=>{n.wrapOutgoing(()=>t(o,s))},i.set(t,r)),r}unwrap(t,n){let{wrappedListeners:i}=this,r=i.get(t);if(r){let o=r.get(n);if(o)return r.delete(n),r.size===0&&i.delete(t),o}return n}unwrapGlobal(t){let{wrappedGlobalListeners:n}=this,i=n.get(t);return i?(n.delete(t),i):t}},$Z=(()=>{class e extends a5{constructor(n){super("angular"),this._ngZone=n,this.batchFrameworkComps=!0,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(i,r)=>r==="resize-observer"||r==="popupPositioning"?this._ngZone.runOutsideAngular(i):i():this.runOutside=i=>this._ngZone.runOutsideAngular(i):this.runOutside=i=>i()}get shouldWrapOutgoing(){return this._ngZone&&It.isInAngularZone()}createLocalEventListenerWrapper(n,i){if(this.shouldWrapOutgoing)return n??(i.setFrameworkOverrides(this),new T3(this))}createGlobalEventListenerWrapper(){return new T3(this)}isFrameworkComponent(n){if(!n)return!1;let i=n.prototype;return i&&"agInit"in i}runInsideAngular(n){return!this._ngZone||It.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n,i){return this.runOutside(n,i)}static{this.\u0275fac=function(i){return new(i||e)(Rt(It))}}static{this.\u0275prov=Pe({token:e,factory:e.\u0275fac})}}return e})(),KZ=(()=>{class e{constructor(n,i,r,o){this._viewContainerRef=i,this._angularFrameworkOverrides=r,this._frameworkCompWrapper=o,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(s=>{this._resolveFullyReady=s}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.getFullRowEditValidationErrors=void 0,this.invalidEditValueMode=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.findSearchValue=void 0,this.findOptions=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableFilterHandlers=void 0,this.filterHandlers=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.rowDragInsertDelay=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.treeDataParentIdField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.enableRowPinning=void 0,this.isRowPinnable=void 0,this.isRowPinned=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.styleNonce=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.isRowValidDropPosition=void 0,this.toolPanelVisibleChanged=new Fe,this.toolPanelSizeChanged=new Fe,this.columnMenuVisibleChanged=new Fe,this.contextMenuVisibleChanged=new Fe,this.cutStart=new Fe,this.cutEnd=new Fe,this.pasteStart=new Fe,this.pasteEnd=new Fe,this.columnVisible=new Fe,this.columnPinned=new Fe,this.columnResized=new Fe,this.columnMoved=new Fe,this.columnValueChanged=new Fe,this.columnPivotModeChanged=new Fe,this.columnPivotChanged=new Fe,this.columnGroupOpened=new Fe,this.newColumnsLoaded=new Fe,this.gridColumnsChanged=new Fe,this.displayedColumnsChanged=new Fe,this.virtualColumnsChanged=new Fe,this.columnEverythingChanged=new Fe,this.columnsReset=new Fe,this.columnHeaderMouseOver=new Fe,this.columnHeaderMouseLeave=new Fe,this.columnHeaderClicked=new Fe,this.columnHeaderContextMenu=new Fe,this.componentStateChanged=new Fe,this.cellValueChanged=new Fe,this.cellEditRequest=new Fe,this.rowValueChanged=new Fe,this.cellEditingStarted=new Fe,this.cellEditingStopped=new Fe,this.rowEditingStarted=new Fe,this.rowEditingStopped=new Fe,this.undoStarted=new Fe,this.undoEnded=new Fe,this.redoStarted=new Fe,this.redoEnded=new Fe,this.cellSelectionDeleteStart=new Fe,this.cellSelectionDeleteEnd=new Fe,this.rangeDeleteStart=new Fe,this.rangeDeleteEnd=new Fe,this.fillStart=new Fe,this.fillEnd=new Fe,this.filterOpened=new Fe,this.filterChanged=new Fe,this.filterModified=new Fe,this.filterUiChanged=new Fe,this.floatingFilterUiChanged=new Fe,this.advancedFilterBuilderVisibleChanged=new Fe,this.findChanged=new Fe,this.chartCreated=new Fe,this.chartRangeSelectionChanged=new Fe,this.chartOptionsChanged=new Fe,this.chartDestroyed=new Fe,this.cellKeyDown=new Fe,this.gridReady=new Fe,this.firstDataRendered=new Fe,this.gridSizeChanged=new Fe,this.modelUpdated=new Fe,this.virtualRowRemoved=new Fe,this.viewportChanged=new Fe,this.bodyScroll=new Fe,this.bodyScrollEnd=new Fe,this.dragStarted=new Fe,this.dragStopped=new Fe,this.dragCancelled=new Fe,this.stateUpdated=new Fe,this.paginationChanged=new Fe,this.rowDragEnter=new Fe,this.rowDragMove=new Fe,this.rowDragLeave=new Fe,this.rowDragEnd=new Fe,this.rowDragCancel=new Fe,this.rowResizeStarted=new Fe,this.rowResizeEnded=new Fe,this.columnRowGroupChanged=new Fe,this.rowGroupOpened=new Fe,this.expandOrCollapseAll=new Fe,this.pivotMaxColumnsExceeded=new Fe,this.pinnedRowDataChanged=new Fe,this.pinnedRowsChanged=new Fe,this.rowDataUpdated=new Fe,this.asyncTransactionsFlushed=new Fe,this.storeRefreshed=new Fe,this.headerFocused=new Fe,this.cellClicked=new Fe,this.cellDoubleClicked=new Fe,this.cellFocused=new Fe,this.cellMouseOver=new Fe,this.cellMouseOut=new Fe,this.cellMouseDown=new Fe,this.rowClicked=new Fe,this.rowDoubleClicked=new Fe,this.rowSelected=new Fe,this.selectionChanged=new Fe,this.cellContextMenu=new Fe,this.rangeSelectionChanged=new Fe,this.cellSelectionChanged=new Fe,this.tooltipShow=new Fe,this.tooltipHide=new Fe,this.sortChanged=new Fe,this._nativeElement=n.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let n=Object.keys(this).filter(a=>!(a.startsWith("_")||a=="gridOptions"||a=="modules"||this[a]instanceof Fe)),i={};n.forEach(a=>{let l=i4e(a,this[a]);i[a]=l});let r=wY(this.gridOptions,i,n),o={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},s=hZ(this._nativeElement,r,o);s&&(this.api=s),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(n){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let i={};for(let r of Object.keys(n)){let o=n[r];i[r]=o.currentValue}CY(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){let r=this[n],o=r?.observed??r?.observers?.length>0,s=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[s];return o||a}globalListener(n,i){if(this._destroyed)return;let r=this[n];if(r&&this.isEmitterUsed(n)){let o=()=>this._angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));this._holdEvents?this._fullyReady.then(()=>o()):o()}}static{this.\u0275fac=function(i){return new(i||e)(et(qt),et(Lr),et($Z),et(WZ))}}static{this.\u0275cmp=st({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",Re],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",Re],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",Re],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",Re],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",Re],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",Re],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",Re],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",Re],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",Re],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",Re],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",Re],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",Re],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",Re],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",Re],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",Re],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",Re],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",Re],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",Re],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",Re],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",Re],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",Re],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",Re],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",Re],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",Re],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",Re],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",Re],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",Re],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",getFullRowEditValidationErrors:"getFullRowEditValidationErrors",invalidEditValueMode:"invalidEditValueMode",singleClickEdit:[2,"singleClickEdit","singleClickEdit",Re],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",Re],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",Re],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",Re],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",Re],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",Re],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",Re],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",Re],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",Re],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",Re],excelStyles:"excelStyles",findSearchValue:"findSearchValue",findOptions:"findOptions",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",Re],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",Re],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",Re],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",Re],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",Re],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",Re],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",Re],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",Re],enableFilterHandlers:[2,"enableFilterHandlers","enableFilterHandlers",Re],filterHandlers:"filterHandlers",enableCharts:[2,"enableCharts","enableCharts",Re],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",Re],keepDetailRows:[2,"keepDetailRows","keepDetailRows",Re],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",Re],context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",Re],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",Re],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",Re],suppressTouch:[2,"suppressTouch","suppressTouch",Re],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",Re],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",Re],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",Re],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",Re],debug:[2,"debug","debug",Re],loading:[2,"loading","loading",Re],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",Re],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",Re],pagination:[2,"pagination","pagination",Re],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",Re],paginateChildRows:[2,"paginateChildRows","paginateChildRows",Re],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",Re],pivotMode:[2,"pivotMode","pivotMode",Re],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",Re],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",Re],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",Re],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",Re],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",Re],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",Re],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",Re],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",Re],animateRows:[2,"animateRows","animateRows",Re],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",Re],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",Re],enableCellSpan:[2,"enableCellSpan","enableCellSpan",Re],enableRtl:[2,"enableRtl","enableRtl",Re],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",Re],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",Re],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",Re],rowDragManaged:[2,"rowDragManaged","rowDragManaged",Re],rowDragInsertDelay:"rowDragInsertDelay",suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",Re],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",Re],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",Re],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",Re],rowDragText:"rowDragText",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",Re],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",Re],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",Re],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",Re],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",Re],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",Re],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",Re],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",Re],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",Re],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",Re],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",Re],treeDataChildrenField:"treeDataChildrenField",treeDataParentIdField:"treeDataParentIdField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",Re],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",Re],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",enableRowPinning:"enableRowPinning",isRowPinnable:"isRowPinnable",isRowPinned:"isRowPinned",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",Re],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",Re],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",Re],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",Re],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",Re],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",Re],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",Re],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",Re],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",Re],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",Re],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",Re],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",Re],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",Re],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",Re],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",Re],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",Re],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",Re],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",Re],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",Re],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",Re],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",Re],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",Re],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",Re],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",Re],enableFillHandle:[2,"enableFillHandle","enableFillHandle",Re],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",Re],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",Re],unSortIcon:[2,"unSortIcon","unSortIcon",Re],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",Re],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",Re],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",Re],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",Re],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",Re],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",Re],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",Re],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",Re],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",Re],themeCssLayer:"themeCssLayer",styleNonce:"styleNonce",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",Re],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow",isRowValidDropPosition:"isRowValidDropPosition"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnsReset:"columnsReset",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",filterUiChanged:"filterUiChanged",floatingFilterUiChanged:"floatingFilterUiChanged",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",findChanged:"findChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",rowResizeStarted:"rowResizeStarted",rowResizeEnded:"rowResizeEnded",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",pinnedRowsChanged:"pinnedRowsChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[Hr([$Z,WZ]),Io],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),n4e=new Set(h5);function i4e(e,t){return n4e.has(e)?t===""?!0:t==="false"?!1:t:t}var I3=class e{show=!1;position="left";offset="10";className="overflow-pane-css-class";get displayStyle(){return this.show?"unset":"none"}get leftStyle(){return this.position==="left"?`${this.offset}px`:"unset"}get rightStyle(){return this.position==="right"?`${this.offset}px`:"unset"}width="480px";static \u0275fac=function(n){return new(n||e)};static \u0275dir=tn({type:e,selectors:[["","appOverflowPane",""]],hostVars:10,hostBindings:function(n,i){n&2&&(Vs(i.className),Va("display",i.displayStyle)("left",i.leftStyle)("right",i.rightStyle)("width",i.width))},inputs:{show:"show",position:"position",offset:"offset",width:"width"}})};var YZ="mat-badge-content",r4e=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,r){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}"],encapsulation:2,changeDetection:0})}return e})(),XZ=(()=>{class e{_ngZone=te(It);_elementRef=te(qt);_ariaDescriber=te($x);_renderer=te(xr);_animationMode=te(_r,{optional:!0});_idGenerator=te($o);get color(){return this._color}set color(n){this._setColor(n),this._color=n}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(n){this._updateRenderedContent(n)}_content;get description(){return this._description}set description(n){this._updateDescription(n)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=te(cg);_document=te(en);constructor(){let n=te(Kr);n.load(r4e),n.load(Af)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let n=this._renderer.createElement("span"),i="mat-badge-active";return n.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),n.setAttribute("aria-hidden","true"),n.classList.add(YZ),this._animationMode==="NoopAnimations"&&n.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(n),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{n.classList.add(i)})}):n.classList.add(i),n}_updateRenderedContent(n){let i=`${n??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!n||this._isHostInteractive())&&this._removeInlineDescription(),this._description=n,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,n):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(n){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),n&&i.add(`mat-badge-${n}`)}_clearExistingBadges(){let n=this._elementRef.nativeElement.querySelectorAll(`:scope > .${YZ}`);for(let i of Array.from(n))i!==this._badgeElement&&i.remove()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=tn({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,r){i&2&&Rn("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",Re],disabled:[2,"matBadgeDisabled","disabled",Re],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",Re]}})}return e})(),k3=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[dg,bn,bn]})}return e})();var s4e=["mat-internal-form-field",""],a4e=["*"],ZZ=(()=>{class e{labelPosition;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&Rn("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:s4e,ngContentSelectors:a4e,decls:1,vars:0,template:function(i,r){i&1&&(Vr(),vi(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return e})();var l4e=["input"],c4e=["label"],d4e=["*"],u4e=new Ne("mat-checkbox-default-options",{providedIn:"root",factory:JZ});function JZ(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ns=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(ns||{}),h4e={provide:Px,useExisting:ic(()=>A3),multi:!0},_5=class{source;checked},QZ=JZ(),A3=(()=>{class e{_elementRef=te(qt);_changeDetectorRef=te(Bi);_ngZone=te(It);_animationMode=te(_r,{optional:!0});_options=te(u4e,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let i=new _5;return i.source=this,i.checked=n,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new Fe;indeterminateChange=new Fe;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=ns.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){te(Kr).load(ug);let n=te(new Em("tabindex"),{optional:!0});this._options=this._options||QZ,this.color=this._options.color||QZ.color,this.tabIndex=n==null?0:parseInt(n)||0,this.id=this._uniqueId=te($o).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(n){let i=n!=this._indeterminate;this._indeterminate=n,i&&(this._indeterminate?this._transitionCheckState(ns.Indeterminate):this._transitionCheckState(this.checked?ns.Checked:ns.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===n||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ns.Checked:ns.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&n==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,i){if(this._animationMode==="NoopAnimations")return"";switch(n){case ns.Init:if(i===ns.Checked)return this._animationClasses.uncheckedToChecked;if(i==ns.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ns.Unchecked:return i===ns.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ns.Checked:return i===ns.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ns.Indeterminate:return i===ns.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let i=this._inputElement;i&&(i.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=st({type:e,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(Qi(l4e,5),Qi(c4e,5)),i&2){let o;ci(o=di())&&(r._inputElement=o.first),ci(o=di())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(Cf("id",r.id),Si("tabindex",null)("aria-label",null)("aria-labelledby",null),Vs(r.color?"mat-"+r.color:"mat-accent"),Rn("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",Re],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",Re],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Re],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:Hm(n)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Re],checked:[2,"checked","checked",Re],disabled:[2,"disabled","disabled",Re],indeterminate:[2,"indeterminate","indeterminate",Re]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Hr([h4e,{provide:Vb,useExisting:e,multi:!0}]),Io],ngContentSelectors:d4e,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=qr();Vr(),je(0,"div",3),jt("click",function(a){return _i(o),xi(r._preventBubblingFromLabel(a))}),je(1,"div",4,0)(3,"div",5),jt("click",function(){return _i(o),xi(r._onTouchTargetClick())}),$e(),je(4,"input",6,1),jt("blur",function(){return _i(o),xi(r._onBlur())})("click",function(){return _i(o),xi(r._onInputClick())})("change",function(a){return _i(o),xi(r._onInteractionEvent(a))}),$e(),kt(6,"div",7),je(7,"div",8),Iu(),je(8,"svg",9),kt(9,"path",10),$e(),Pm(),kt(10,"div",11),$e(),kt(11,"div",12),$e(),je(12,"label",13,2),vi(14),$e()()}if(i&2){let o=fo(2);gt("labelPosition",r.labelPosition),ot(4),Rn("mdc-checkbox--selected",r.checked),gt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),Si("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),ot(7),gt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),ot(),gt("for",r.inputId)}},dependencies:[qx,ZZ],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return e})();var eQ=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=zt({type:e});static \u0275inj=Ht({imports:[A3,bn,bn]})}return e})();var Hw=yu(cJ());var vD=class e{key="1960";saveData(t,n){localStorage.setItem(t,this.encrypt(n))}hasData(t){return localStorage.getItem(t)!==null}getData(t){let n=localStorage.getItem(t)||"";return this.decrypt(n)}removeData(t){localStorage.removeItem(t)}clearData(){localStorage.clear()}encrypt(t){return Hw.AES.encrypt(t,this.key).toString()}decrypt(t){return Hw.AES.decrypt(t,this.key).toString(Hw.enc.Utf8)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"})};var bD=class e{constructor(t,n){this.dataStoreService=t;this.storageService=n}gridApi;cellValueChangedEvent$;firstDataRendered$;gridStyleChange=new Fe;destroyRef=te(Zi);undoCounter=0;redoCounter=0;disableUndoButton=!1;disableRedoButton=!1;isPrinting=!1;checkedAllPages=!1;ngOnInit(){this.firstDataRendered$.pipe(Ai(this.destroyRef)).subscribe(()=>{this.onFirstDataRendered()})}onFirstDataRendered(){this.undoCounter=0,this.redoCounter=0,this.disableUndoButton=!1,this.disableRedoButton=!1;let t=this.gridApi.getGridOption("onSortChanged"),n=this.gridApi.getGridOption("onColumnMoved"),i=this.gridApi.getGridOption("onFilterChanged"),r=this.gridApi.getGridOption("onCellValueChanged");this.gridApi.updateGridOptions({onSortChanged:o=>this.onSortChanged(t,o),onColumnMoved:o=>this.onColumnMoved(n,o),onFilterChanged:o=>this.onFilterChanged(i,o),onCellValueChanged:o=>this.onCellValueChanged(r,o)})}close(){this.dataStoreService.setEditMode(!1)}clearFilters(){this.gridApi.setFilterModel(null),this.updateRedoUndoSettings()}saveSettings(){this.storageService.saveData("ColumnState",this.gridApi.getColumnState().map(t=>JSON.stringify(t)).join("~")),this.updateRedoUndoSettings()}restoreSettings(){if(!this.storageService.hasData("ColumnState")){console.log("no columns state to restore by, you must save state first");return}this.gridApi.applyColumnState({state:this.storageService.getData("ColumnState").split("~").map(t=>JSON.parse(t)),applyOrder:!0}),this.updateRedoUndoSettings()}resetSettings(){this.gridApi.resetColumnState(),setTimeout(()=>{this.gridApi.autoSizeAllColumns()},10),this.updateRedoUndoSettings()}undo(){this.gridApi.undoCellEditing()}redo(){this.gridApi.redoCellEditing()}onCheckAllPages(){this.checkedAllPages=!this.checkedAllPages}onBtnExport(){this.gridApi.exportDataAsCsv({allColumns:!1})}onCellValueChanged(t,n){t&&t(n),this.updateRedoUndoSettings()}onSortChanged(t,n){t&&t(n),this.updateRedoUndoSettings()}onColumnMoved(t,n){t&&t(n),this.updateRedoUndoSettings()}onFilterChanged(t,n){t&&t(n),this.updateRedoUndoSettings()}onBtPrint(){this.setPrinterFriendly(),setTimeout(()=>{print(),this.setNormal()},2e3)}updateRedoUndoSettings(){this.undoCounter=this.gridApi.getCurrentUndoSize(),this.redoCounter=this.gridApi.getCurrentRedoSize(),this.disableUndoButton=this.undoCounter<1,this.disableRedoButton=this.redoCounter<1}originalStyle;currentSelectedPage;setPrinterFriendly(){this.currentSelectedPage=this.gridApi.paginationGetCurrentPage(),this.gridApi.setColumnsVisible([Z0],!1),this.checkedAllPages?this.gridApi.updateGridOptions({pagination:!1}):(this.gridApi.updateGridOptions({paginationAutoPageSize:!1,paginationPageSize:this.gridApi.paginationGetPageSize()}),this.gridApi.paginationGoToPage(this.currentSelectedPage)),this.isPrinting=!0,this.gridStyleChange.emit(`
      display: table !important;
      width: 100% !important;
      height: 100% !important;
      max-height: 100% !important;
      position: absolute !important;
      top: 0 !important;
      left: 0 !important;
      z-index: 2000 !important;
      overflow: hidden !important;
      background: white !important;
    `),setTimeout(()=>{let n=document.querySelector("#section-to-print");this.originalStyle=n.style.cssText,n.style.width="",n.style.height="",this.gridApi.updateGridOptions({domLayout:"print"})},100)}setNormal(){this.gridStyleChange.emit(""),this.gridApi.setColumnsVisible([Z0],!0),this.gridApi.updateGridOptions({pagination:!0,paginationAutoPageSize:!0}),this.currentSelectedPage&&this.gridApi.paginationGoToPage(this.currentSelectedPage),setTimeout(()=>{let t=document.querySelector("#section-to-print");t.style.cssText=this.originalStyle||"",this.gridApi.setGridOption("domLayout",void 0),this.isPrinting=!1},100)}static \u0275fac=function(n){return new(n||e)(et(Co),et(vD))};static \u0275cmp=st({type:e,selectors:[["app-top-buttons"]],inputs:{gridApi:"gridApi",cellValueChangedEvent$:"cellValueChangedEvent$",firstDataRendered$:"firstDataRendered$"},outputs:{gridStyleChange:"gridStyleChange"},decls:32,vars:6,consts:[[1,"button-row",3,"hidden"],[1,"flex-container"],["matMiniFab","","aria-hidden","false","aria-label","Button with a filter off icon","matTooltip","Clear filters"],["aria-hidden","false",3,"click"],["matMiniFab","","aria-hidden","false","aria-label","Button with a backup table icon","matTooltip","Save grid settings"],["matMiniFab","","aria-hidden","false","aria-label","Button with a table icon","matTooltip","Restore grid settings"],["aria-hidden","false","fontSet","material-symbols-outlined",3,"click"],["matMiniFab","","aria-label","Button with a reset icon","matTooltip","Reset grid settings"],["matMiniFab","","aria-label","Button with a undo icon","matTooltip","Undo",3,"disabled"],["aria-hidden","false","fontSet","material-symbols-outlined",3,"click","matBadge"],["matMiniFab","","aria-label","Button with a redo icon","matTooltip","Redo",3,"disabled"],["matMiniFab","","aria-label","Button with a export csv icon","matTooltip","Export to csv file"],["matMiniFab","","aria-label","Button with a print icon","matTooltip","Print grid"],["matTooltip","Print all pages",1,"check-all-pages",3,"change","checked"],["mat-icon-button","","aria-label","Button with a close icon",1,"close-button"],["aria-hidden","false",1,"close-icon",3,"click"]],template:function(n,i){n&1&&(je(0,"div",0)(1,"div",1)(2,"div")(3,"button",2)(4,"mat-icon",3),jt("click",function(){return i.clearFilters()}),vn(5," filter_list_off "),$e()(),je(6,"button",4)(7,"mat-icon",3),jt("click",function(){return i.saveSettings()}),vn(8," backup_table "),$e()(),je(9,"button",5)(10,"mat-icon",6),jt("click",function(){return i.restoreSettings()}),vn(11," table "),$e()(),je(12,"button",7)(13,"mat-icon",6),jt("click",function(){return i.resetSettings()}),vn(14," reset_settings "),$e()(),je(15,"button",8)(16,"mat-icon",9),jt("click",function(){return i.undo()}),vn(17," undo "),$e()(),je(18,"button",10)(19,"mat-icon",9),jt("click",function(){return i.redo()}),vn(20," redo "),$e()(),je(21,"button",11)(22,"mat-icon",6),jt("click",function(){return i.onBtnExport()}),vn(23," csv "),$e()(),je(24,"button",12)(25,"mat-icon",6),jt("click",function(){return i.onBtPrint()}),vn(26," print "),$e()(),je(27,"mat-checkbox",13),jt("change",function(){return i.onCheckAllPages()}),vn(28," All pages "),$e()(),je(29,"button",14)(30,"mat-icon",15),jt("click",function(){return i.close()}),vn(31," close "),$e()()()()),n&2&&(gt("hidden",i.isPrinting),ot(15),gt("disabled",i.disableUndoButton),ot(),gt("matBadge",i.undoCounter),ot(2),gt("disabled",i.disableRedoButton),ot(),gt("matBadge",i.redoCounter),ot(8),gt("checked",i.checkedAllPages))},dependencies:[vp,iP,va,yl,Rd,Hf,k3,XZ,eQ,A3],styles:["@media print{[_nghost-%COMP%]{display:none}}section[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:8px}.button-row[_ngcontent-%COMP%]{background:color-mix(in srgb,#fff,#181d1f 2%);border:none;border-radius:8px}.button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:0}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px;border-radius:8px;border-color:wheat}.close-icon[_ngcontent-%COMP%]{color:red;float:right;cursor:pointer}.close-button[_ngcontent-%COMP%]{border-style:hidden;background-color:transparent;margin:4px!important}.check-all-pages[_ngcontent-%COMP%]{vertical-align:super}button[_ngcontent-%COMP%]{cursor:pointer}"]})};function m4e(e,t){if(e&1&&kt(0,"img",1),e&2){let n=Zn();gt("src",n.value(),__)("height",30)}}var yD=class e{value=Ns("");agInit(t){this.refresh(t)}refresh(t){return this.value.set(t.value),!0}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["app-image-cell-renderer"]],decls:2,vars:1,consts:[[1,"imgSpanPicture"],["alt","Picture not found",1,"picture",3,"src","height"]],template:function(n,i){n&1&&(je(0,"span",0),un(1,m4e,1,2,"img",1),$e()),n&2&&(ot(),Br(i.value()?1:-1))},styles:[".picture[_ngcontent-%COMP%]{display:block;width:90px;height:auto;margin-right:12px;filter:brightness(1.1)}.imgSpanPicture[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;align-items:center;justify-content:center}"],changeDetection:0})};var wD=class e{value=Ns("");geoCoderService;dataStoreService;agInit(t){this.refresh(t)}refresh(t){return this.value.set(t.value),this.geoCoderService=t.context.geoDecoderService,this.dataStoreService=t.context.dataStoreService,!0}zoomInOnAddress(t){let[n,i]=t.split(",");this.geoCoderService.zoomInOnCoordinates([Number(n),Number(i)]),this.dataStoreService.setEditMode(!1)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["app-zoom-in-button-cell-renderer"]],decls:3,vars:0,consts:[["matIconButton","","aria-hidden","false","aria-label","Button with a location_searching icon","matTooltip","Zoom in on address",1,"zoom-in-button"],["aria-hidden","false",3,"click"]],template:function(n,i){n&1&&(je(0,"button",0)(1,"mat-icon",1),jt("click",function(){return i.zoomInOnAddress(i.value())}),vn(2,"location_searching"),$e()())},dependencies:[vp,va,yl,Rd,Hf,k3],styles:[".zoom-in-button[_ngcontent-%COMP%]{background:transparent;border:0px;vertical-align:middle}"],changeDetection:0})};YY.registerModules([UZ]);var dJ="picture-cell",g4e="column-class",Z0="zoomIn",CD=class e{constructor(t,n,i,r,o){this.pictureService=t;this.dataStoreService=n;this.geoDecoderService=i;this.eRef=r;this.doms=o}clickout(t){this.eRef.nativeElement.contains(t.target)||this.dataStoreService.setEditMode(!1)}destroyRef=te(Zi);defaultColDef={filter:!0,minWidth:60,flex:1};inEditMode=!1;rowData=[];colDefs=[];autoSizeStrategy={type:"fitCellContents"};gridApi;firstDataRendered$=new yt;hostStyle="";dataStore=[];rowSelection=()=>({mode:"singleRow",checkboxes:!1,enableClickSelection:!0});onGridReady(t){this.gridApi=t.api;let n=this.watchOnFirstGridRender(),i=this.watchEditMode(),r=this.watchDataUpdatesToUpdateGridContent();this.destroyRef.onDestroy(()=>{n.unsubscribe(),i.unsubscribe(),r.unsubscribe()})}watchOnFirstGridRender(){return this.firstDataRendered$.pipe(Ai(this.destroyRef)).subscribe(()=>{this.rowData.length?this.loadDataInGrid():this.createRowData()})}watchDataUpdatesToUpdateGridContent(){return this.dataStoreService.dataStore$.pipe(Ai(this.destroyRef)).subscribe(t=>{if(t.length>1)this.createGridData(),this.loadDataInGrid();else if(t.length===1){let n=this.rowData.find(i=>i[ro]===t[0][ro]);n&&(n=re(re({},n),this.convertToGridRowData(t[0])),n=re(re({},n),this.convertPictureNamesToBlob(n)),this.gridApi.forEachNode(i=>{n&&i.id===n.id&&i.setData(n)}))}})}watchEditMode(){return this.dataStoreService.editMode$.pipe(Ai(this.destroyRef)).subscribe(t=>{if(this.inEditMode=t&&this.dataStore.length>0,this.inEditMode){let n=this.handleSelection();n!==void 0&&this.gridApi.setFilterModel(null),this.autoSizeColumnsAndPaging(Number(n||0))}})}createGridData(){this.dataStore=this.dataStoreService.getStore(),this.createRowData(),this.loadDataInGrid()}loadDataInGrid(){this.gridApi.updateGridOptions({columnDefs:this.colDefs,rowData:this.rowData,context:{geoDecoderService:this.geoDecoderService,dataStoreService:this.dataStoreService}})}handleSelection(){let t=this.dataStoreService.getSelectedData();return t!==void 0?this.gridApi.getRowNode(t?.toString())?.setSelected(!0):this.gridApi.deselectAll(),t}autoSizeColumnsAndPaging(t){setTimeout(()=>{if(this.gridApi.autoSizeAllColumns(),t!==void 0){let n=this.gridApi.paginationGetPageSize(),i=Math.floor((t||0)/n);this.gridApi.paginationGoToPage(i),this.gridApi.ensureIndexVisible(t)}else this.gridApi.paginationGoToPage(0)},10)}createColDefs(t){let n=v0(t);this.colDefs=n.map(i=>i[0]===Z0?this.createZoomInColDef():i[1]?this.createPictureColDef(i):this.createDefaultColDef(i))}createZoomInColDef(){return{field:Z0,headerName:"Goto",editable:!1,filter:!1,sortable:!1,cellRenderer:wD,width:50}}createPictureColDef(t){return{headerName:t[0],field:t[0],editable:!1,filter:!1,sortable:!1,headerTooltip:t[0],tooltipValueGetter:n=>this.pictureService.getPictureName(n.value)||"No picture found",cellRenderer:yD,cellClass:dJ,minWidth:20}}createDefaultColDef(t){return{headerName:t[0],field:t[0],hide:t[0]===ro,editable:!0,cellEditor:"agTextCellEditor",cellEditorParams:{maxLength:100},headerTooltip:t[0],tooltipValueGetter:n=>n.value,cellClass:g4e}}convertPictureNamesToBlob(t){let n=this.colDefs.filter(i=>i.cellClass===dJ).map(i=>({[i.headerName]:this.pictureService.getPicture((t[i.headerName]||"").toLowerCase())}));return Object.assign({},...n)}createRowData(){let t=this.getRowDataForGrid();this.createColDefs(t),this.rowData=t.map(n=>re(re({},n),this.convertPictureNamesToBlob(n)))}convertToGridRowData(t){let l=t,{geoPositionInfo:n,longitude:i,latitude:r,error:o,sheetName:s}=l,a=da(l,["geoPositionInfo","longitude","latitude","error","sheetName"]);return re({[Z0]:[i,r].join(",")},a)}getRowDataForGrid(){return this.dataStore.map(t=>this.convertToGridRowData(t))}onFirstDataRendered(t){this.firstDataRendered$.next(t)}onGetRowId(t){return t.data[ro]}onCellValueChanged(t){let r=t.data,{zoomIn:n}=r,i=da(r,["zoomIn"]);this.dataStoreService.storeGridData(i)}onRowSelected(t){this.dataStoreService.setSelectedData(t.data)}onGridStyleChange(t){this.hostStyle=this.doms.bypassSecurityTrustStyle(t)}static \u0275fac=function(n){return new(n||e)(et(Zs),et(Co),et(Sh),et(qt),et(xf))};static \u0275cmp=st({type:e,selectors:[["app-excel-grid"]],hostBindings:function(n,i){n&1&&jt("click",function(o){return i.clickout(o)},!1,M9)},decls:3,vars:15,consts:[["appOverflowPane","","width","calc(100% - 400px)","offset","0",3,"show"],[3,"gridStyleChange","gridApi","firstDataRendered$"],["id","section-to-print",2,"width","100%","height","calc(100% - 49px)",3,"gridReady","cellValueChanged","rowSelected","firstDataRendered","defaultColDef","tooltipShowMode","paginationAutoPageSize","pagination","suppressFieldDotNotation","suppressExcelExport","undoRedoCellEditing","autoSizeStrategy","getRowId","rowSelection"]],template:function(n,i){n&1&&(je(0,"div",0)(1,"app-top-buttons",1),jt("gridStyleChange",function(o){return i.onGridStyleChange(o)}),$e(),je(2,"ag-grid-angular",2),jt("gridReady",function(o){return i.onGridReady(o)})("cellValueChanged",function(o){return i.onCellValueChanged(o)})("rowSelected",function(o){return i.onRowSelected(o)})("firstDataRendered",function(o){return i.onFirstDataRendered(o)}),$e()()),n&2&&(IB(i.hostStyle),gt("show",i.inEditMode),ot(),gt("gridApi",i.gridApi)("firstDataRendered$",i.firstDataRendered$),ot(),gt("defaultColDef",i.defaultColDef)("tooltipShowMode","whenTruncated")("paginationAutoPageSize",!0)("pagination",!0)("suppressFieldDotNotation",!0)("suppressExcelExport",!0)("undoRedoCellEditing",!0)("autoSizeStrategy",i.autoSizeStrategy)("getRowId",i.onGetRowId)("rowSelection",i.rowSelection()))},dependencies:[KZ,I3,bi,bD],styles:[".picture-cell[_ngcontent-%COMP%]{background-color:#fff3}"]})};var _D=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["app-houses"]],decls:4,vars:0,consts:[[1,"content"],["show",""]],template:function(n,i){n&1&&(je(0,"div",0),kt(1,"app-excel-grid",1)(2,"app-houses-map")(3,"app-toaster-container"),$e())},dependencies:[EE,bi,Rd,RE,CD],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   .import-icon[_ngcontent-%COMP%]{color:#2190e4;position:fixed;top:95px;left:10px}"]})};var uJ=[{path:"hangout/:userId/:username",component:nE},{path:"home",component:Jy},{path:"location",component:Jy},{path:"",component:_D}];var E5={providers:[ZB({eventCoalescing:!0}),vk(uJ),WI($I())]};var xD=class e{title="app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=st({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&kt(0,"router-outlet")},dependencies:[Ib],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;flex-direction:column;flex:1 1 100%}"]})};BI(xD,Le(re({},E5),{providers:[...E5.providers,{provide:fS,useValue:{subscriptSizing:"dynamic"}}]})).catch(e=>console.error(e));
