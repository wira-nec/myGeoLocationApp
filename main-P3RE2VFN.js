import{a as V,b as De,c as hl,d as Oe,e as rF,f as Eh,g as ow,h as Dh,i as Pr}from"./chunk-ODN5LVDJ.js";var Yr,P3=Oe(()=>{"use strict";Yr={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}});function O3(e){let t=Br();for(let n=0,i=e.length;n<i;++n)Qp(t,e[n]);return t}function Tbe(e,t,n){let i=Math.min.apply(null,e),r=Math.min.apply(null,t),o=Math.max.apply(null,e),s=Math.max.apply(null,t);return $a(i,r,o,s,n)}function B0(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function jD(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function $D(e,t,n){let i,r;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?r=e[1]-n:e[3]<n?r=n-e[3]:r=0,i*i+r*r}function hc(e,t){return L3(e,t[0],t[1])}function Iu(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function L3(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function WD(e,t){let n=e[0],i=e[1],r=e[2],o=e[3],s=t[0],a=t[1],l=Yr.UNKNOWN;return s<n?l=l|Yr.LEFT:s>r&&(l=l|Yr.RIGHT),a<i?l=l|Yr.BELOW:a>o&&(l=l|Yr.ABOVE),l===Yr.UNKNOWN&&(l=Yr.INTERSECTING),l}function Br(){return[1/0,1/0,-1/0,-1/0]}function $a(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function Zp(e){return $a(1/0,1/0,-1/0,-1/0,e)}function qD(e,t){let n=e[0],i=e[1];return $a(n,i,n,i,t)}function V0(e,t,n,i,r){let o=Zp(r);return N3(o,e,t,n,i)}function Mu(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function n$(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Qp(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function N3(e,t,n,i,r){for(;n<i;n+=r)Ibe(e,t[n],t[n+1]);return e}function Ibe(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function KD(e,t){let n;return n=t(H0(e)),n||(n=t(G0(e)),n)||(n=t(z0(e)),n)||(n=t(xl(e)),n)?n:!1}function zy(e){let t=0;return ef(e)||(t=hn(e)*Qi(e)),t}function H0(e){return[e[0],e[1]]}function G0(e){return[e[2],e[1]]}function _l(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function i$(e,t){let n;if(t==="bottom-left")n=H0(e);else if(t==="bottom-right")n=G0(e);else if(t==="top-left")n=xl(e);else if(t==="top-right")n=z0(e);else throw new Error("Invalid corner");return n}function Uy(e,t,n,i,r){let[o,s,a,l,c,d,h,f]=B3(e,t,n,i);return $a(Math.min(o,a,c,h),Math.min(s,l,d,f),Math.max(o,a,c,h),Math.max(s,l,d,f),r)}function B3(e,t,n,i){let r=t*i[0]/2,o=t*i[1]/2,s=Math.cos(n),a=Math.sin(n),l=r*s,c=r*a,d=o*s,h=o*a,f=e[0],g=e[1];return[f-l+h,g-c-d,f-l-h,g-c+d,f+l-h,g+c+d,f+l+h,g+c-d,f-l+h,g-c-d]}function Qi(e){return e[3]-e[1]}function ud(e,t,n){let i=n||Br();return cr(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):Zp(i),i}function xl(e){return[e[0],e[3]]}function z0(e){return[e[2],e[3]]}function hn(e){return e[2]-e[0]}function cr(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function ef(e){return e[2]<e[0]||e[3]<e[1]}function r$(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function o$(e,t,n){let i=!1,r=WD(e,t),o=WD(e,n);if(r===Yr.INTERSECTING||o===Yr.INTERSECTING)i=!0;else{let s=e[0],a=e[1],l=e[2],c=e[3],d=t[0],h=t[1],f=n[0],g=n[1],m=(g-h)/(f-d),v,C;o&Yr.ABOVE&&!(r&Yr.ABOVE)&&(v=f-(g-c)/m,i=v>=s&&v<=l),!i&&o&Yr.RIGHT&&!(r&Yr.RIGHT)&&(C=g-(f-l)*m,i=C>=a&&C<=c),!i&&o&Yr.BELOW&&!(r&Yr.BELOW)&&(v=f-(g-a)/m,i=v>=s&&v<=l),!i&&o&Yr.LEFT&&!(r&Yr.LEFT)&&(C=g-(f-s)*m,i=C>=a&&C<=c)}return i}function s$(e,t,n,i){if(ef(e))return Zp(n);let r=[];if(i>1){let a=e[2]-e[0],l=e[3]-e[1];for(let c=0;c<i;++c)r.push(e[0]+a*c/i,e[1],e[2],e[1]+l*c/i,e[2]-a*c/i,e[3],e[0],e[3]-l*c/i)}else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);let o=[],s=[];for(let a=0,l=r.length;a<l;a+=2)o.push(r[a]),s.push(r[a+1]);return Tbe(o,s,n)}function V3(e,t){let n=t.getExtent(),i=_l(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){let r=hn(n),s=Math.floor((i[0]-n[0])/r)*r;e[0]-=s,e[2]-=s}return e}function XD(e,t,n){if(t.canWrapX()){let i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];V3(e,t);let r=hn(i);if(hn(e)>r&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+r,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-r,e[3]]]}return[e]}var Vn=Oe(()=>{"use strict";P3()});function Wn(e,t,n){return Math.min(Math.max(e,t),n)}function a$(e,t,n,i,r,o){let s=r-n,a=o-i;if(s!==0||a!==0){let l=((e-n)*s+(t-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return Fu(e,t,n,i)}function Fu(e,t,n,i){let r=n-e,o=i-t;return r*r+o*o}function l$(e){let t=e.length;for(let i=0;i<t;i++){let r=i,o=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){let l=Math.abs(e[a][i]);l>o&&(o=l,r=a)}if(o===0)return null;let s=e[r];e[r]=e[i],e[i]=s;for(let a=i+1;a<t;a++){let l=-e[a][i]/e[i][i];for(let c=i;c<t+1;c++)i==c?e[a][c]=0:e[a][c]+=l*e[i][c]}}let n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let r=i-1;r>=0;r--)e[r][t]-=e[r][i]*n[i]}return n}function YD(e){return e*180/Math.PI}function fc(e){return e*Math.PI/180}function pc(e,t){let n=e%t;return n*t<0?n+t:n}function us(e,t,n){return e+n*(t-e)}function U0(e,t){let n=Math.pow(10,t);return Math.round(e*n)/n}function Wy(e,t){return Math.floor(U0(e,t))}function jy(e,t){return Math.ceil(U0(e,t))}function ZD(e,t,n){if(e>=t&&e<n)return e;let i=n-t;return((e-t)%i+i)%i+t}var Ji=Oe(()=>{"use strict"});function c$(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Mbe(e,t,n){return e?t.replace("{x}",e[0].toFixed(n)).replace("{y}",e[1].toFixed(n)):""}function Jp(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function W0(e,t){let n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=r,e[1]=o,e}function d$(e,t){return e[0]*=t,e[1]*=t,e}function u$(e,t){return Mbe(e,"{x}, {y}",t)}function j0(e,t){if(t.canWrapX()){let n=hn(t.getExtent()),i=H3(e,t,n);i&&(e[0]-=i*n)}return e}function H3(e,t,n){let i=t.getExtent(),r=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||hn(i),r=Math.floor((e[0]-i[0])/n)),r}var Au=Oe(()=>{"use strict";Vn()});function hd(e){for(let t in e)delete e[t]}function gc(e){let t;for(t in e)return!1;return!t}var mc=Oe(()=>{"use strict"});function tn(e,t,n,i,r){if(r){let s=n;n=function(a){return e.removeEventListener(t,n),s.call(i??this,a)}}else i&&i!==e&&(n=n.bind(i));let o={target:e,type:t,listener:n};return e.addEventListener(t,n),o}function $0(e,t,n,i){return tn(e,t,n,i,!0)}function On(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),hd(e))}var va=Oe(()=>{"use strict";mc()});function QD(...e){Fbe>h$.warn||console.warn(...e)}var h$,Fbe,G3=Oe(()=>{"use strict";h$={info:1,warn:2,error:3,none:4},Fbe=h$.info});var Sl,z3=Oe(()=>{"use strict";Sl={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937}});var U3,nf,$y=Oe(()=>{"use strict";z3();U3=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Sl[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}},nf=U3});function f$(e,t,n,i){let r=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let o=0;o<r;o+=i){t[o]=q0*e[o]/180;let s=qy*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));s>JD?s=JD:s<-JD&&(s=-JD),t[o+1]=s}return t}function p$(e,t,n,i){let r=e.length;n=n>1?n:2,i=i??n,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let o=0;o<r;o+=i)t[o]=180*e[o]/q0,t[o+1]=360*Math.atan(Math.exp(e[o+1]/qy))/Math.PI-90;return t}var qy,q0,Abe,kbe,JD,rf,W3,g$=Oe(()=>{"use strict";$y();qy=6378137,q0=Math.PI*qy,Abe=[-q0,-q0,q0,q0],kbe=[-180,-85,180,85],JD=qy*Math.log(Math.tan(Math.PI/2)),rf=class extends nf{constructor(t){super({code:t,units:"m",extent:Abe,global:!0,worldExtent:kbe,getPointResolution:function(n,i){return n/Math.cosh(i[1]/qy)}})}},W3=[new rf("EPSG:3857"),new rf("EPSG:102100"),new rf("EPSG:102113"),new rf("EPSG:900913"),new rf("http://www.opengis.net/def/crs/EPSG/0/3857"),new rf("http://www.opengis.net/gml/srs/epsg.xml#3857")]});var Pbe,m$,Obe,ku,j3,v$=Oe(()=>{"use strict";$y();Pbe=6378137,m$=[-180,-90,180,90],Obe=Math.PI*Pbe/180,ku=class extends nf{constructor(t,n){super({code:t,units:"degrees",extent:m$,axisOrientation:n,global:!0,metersPerUnit:Obe,worldExtent:m$})}},j3=[new ku("CRS:84"),new ku("EPSG:4326","neu"),new ku("urn:ogc:def:crs:OGC:1.3:CRS84"),new ku("urn:ogc:def:crs:OGC:2:84"),new ku("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ku("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ku("http://www.opengis.net/def/crs/EPSG/0/4326","neu")]});function C$(){eR={}}function w$(e){return eR[e]||eR[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function y$(e,t){eR[e]=t}var eR,b$=Oe(()=>{"use strict";eR={}});function _$(){eg={}}function of(e,t,n){let i=e.getCode(),r=t.getCode();i in eg||(eg[i]={}),eg[i][r]=n}function tR(e,t){return e in eg&&t in eg[e]?eg[e][t]:null}var eg,x$=Oe(()=>{"use strict";eg={}});function Ube(e,t,n){let i=e-5e5,s=(n.north?t:t-1e7)/nR/(iR*M$),a=s+Vbe*Math.sin(2*s)+Hbe*Math.sin(4*s)+Gbe*Math.sin(6*s)+zbe*Math.sin(8*s),l=Math.sin(a),c=l*l,d=Math.cos(a),h=l/d,f=h*h,g=f*f,m=1-El*c,v=Math.sqrt(1-El*c),C=iR/v,y=(1-El)/m,x=tg*d**2,_=x*x,R=i/(C*nR),I=R*R,F=I*R,T=F*R,P=T*R,L=P*R,U=a-h/y*(I/2-T/24*(5+3*f+10*x-4*_-9*tg))+L/720*(61+90*f+298*x+45*g-252*tg-3*_),W=(R-F/6*(1+2*f+x)+P/120*(5-2*x+28*f-3*_+8*tg+24*g))/d;return W=ZD(W+fc(F$(n.number)),-Math.PI,Math.PI),[YD(W),YD(U)]}function $be(e,t,n){e=ZD(e,Wbe,jbe),t<E$?t=E$:t>D$&&(t=D$);let i=fc(t),r=Math.sin(i),o=Math.cos(i),s=r/o,a=s*s,l=a*a,c=fc(e),d=F$(n.number),h=fc(d),f=iR/Math.sqrt(1-El*r**2),g=tg*o**2,m=o*ZD(c-h,-Math.PI,Math.PI),v=m*m,C=v*m,y=C*m,x=y*m,_=x*m,R=iR*(M$*i-Lbe*Math.sin(2*i)+Nbe*Math.sin(4*i)-Bbe*Math.sin(6*i)),I=nR*f*(m+C/6*(1-a+g)+x/120*(5-18*a+l+72*g-58*tg))+5e5,F=nR*(R+f*s*(v/2+y/24*(5-a+9*g+4*g**2)+_/720*(61-58*a+l+600*g-330*tg)));return n.north||(F+=1e7),[I,F]}function F$(e){return(e-1)*6-180+3}function A$(e){let t=0;for(let r of qbe){let o=e.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,i=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(i=!0,n=t-32600),n?{number:n,north:i}:null}function R$(e,t){return function(n,i,r,o){let s=n.length;r=r>1?r:2,o=o??r,i||(r>2?i=n.slice():i=new Array(s));for(let a=0;a<s;a+=o){let l=n[a],c=n[a+1],d=e(l,c,t);i[a]=d[0],i[a+1]=d[1]}return i}}function k$(e){return A$(e)?new nf({code:e,units:"m"}):null}function P$(e){let t=A$(e.getCode());return t?{forward:R$($be,t),inverse:R$(Ube,t)}:null}var nR,El,rR,oR,tg,S$,K0,T$,$3,q3,I$,M$,Lbe,Nbe,Bbe,Vbe,Hbe,Gbe,zbe,iR,E$,D$,Wbe,jbe,qbe,O$=Oe(()=>{"use strict";Ji();$y();nR=.9996,El=.00669438,rR=El*El,oR=rR*El,tg=El/(1-El),S$=Math.sqrt(1-El),K0=(1-S$)/(1+S$),T$=K0*K0,$3=T$*K0,q3=$3*K0,I$=q3*K0,M$=1-El/4-3*rR/64-5*oR/256,Lbe=3*El/8+3*rR/32+45*oR/1024,Nbe=15*rR/256+45*oR/1024,Bbe=35*oR/3072,Vbe=3/2*K0-27/32*$3+269/512*I$,Hbe=21/16*T$-55/32*q3,Gbe=151/96*$3-417/128*I$,zbe=1097/512*q3,iR=6378137;E$=-80,D$=84,Wbe=-180,jbe=180;qbe=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/]});function K3(e,t,n){n=n||Kbe;let i=fc(e[1]),r=fc(t[1]),o=(r-i)/2,s=fc(t[0]-e[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}var Kbe,L$=Oe(()=>{"use strict";Ji();Kbe=63710088e-1});var z$={};Eh(z$,{METERS_PER_UNIT:()=>Sl,Projection:()=>nf,addCommon:()=>G$,addCoordinateTransforms:()=>Qbe,addEquivalentProjections:()=>Z3,addEquivalentTransforms:()=>B$,addProjection:()=>sR,addProjections:()=>N$,clearAllProjections:()=>Zbe,clearUserProjection:()=>t_e,cloneTransform:()=>lR,createProjection:()=>Xy,createSafeCoordinateTransform:()=>i_e,createTransformFromCoordinateTransform:()=>Ky,disableCoordinateWarning:()=>aR,equivalent:()=>Yy,fromLonLat:()=>hs,fromUserCoordinate:()=>Rl,fromUserExtent:()=>qa,fromUserResolution:()=>H$,get:()=>Fi,getPointResolution:()=>ng,getTransform:()=>sf,getTransformFromProjections:()=>Dl,getUserProjection:()=>fd,identityTransform:()=>Q3,setUserProjection:()=>V$,toLonLat:()=>Jbe,toUserCoordinate:()=>X0,toUserExtent:()=>Ou,toUserResolution:()=>eO,transform:()=>Pu,transformExtent:()=>J3,transformWithProjections:()=>e_e,useGeographic:()=>n_e});function aR(e){Y3=!(e===void 0?!0:e)}function lR(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function Q3(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function sR(e){y$(e.getCode(),e),of(e,e,lR)}function N$(e){e.forEach(sR)}function Fi(e){if(typeof e!="string")return e;let t=w$(e);if(t)return t;for(let n of Ybe){let i=n(e);if(i)return i}return null}function ng(e,t,n,i){e=Fi(e);let r,o=e.getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){let s=e.getMetersPerUnit();s&&(r=r*s/Sl[i])}}else{let s=e.getUnits();if(s=="degrees"&&!i||i=="degrees")r=t;else{let a=Dl(e,Fi("EPSG:4326"));if(!a&&s!=="degrees")r=t*e.getMetersPerUnit();else{let c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=a(c,c,2);let d=K3(c.slice(0,2),c.slice(2,4)),h=K3(c.slice(4,6),c.slice(6,8));r=(d+h)/2}let l=i?Sl[i]:e.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function Z3(e){N$(e),e.forEach(function(t){e.forEach(function(n){t!==n&&of(t,n,lR)})})}function B$(e,t,n,i){e.forEach(function(r){t.forEach(function(o){of(r,o,n),of(o,r,i)})})}function Zbe(){C$(),_$()}function Xy(e,t){return e?typeof e=="string"?Fi(e):e:Fi(t)}function Ky(e){return function(t,n,i,r){let o=t.length;i=i!==void 0?i:2,r=r??i,n=n!==void 0?n:new Array(o);for(let s=0;s<o;s+=r){let a=e(t.slice(s,s+i)),l=a.length;for(let c=0,d=r;c<d;++c)n[s+c]=c>=l?t[s+c]:a[c]}return n}}function Qbe(e,t,n,i){let r=Fi(e),o=Fi(t);of(r,o,Ky(n)),of(o,r,Ky(i))}function hs(e,t){return aR(),Pu(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")}function Jbe(e,t){let n=Pu(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=pc(i+180,360)-180),n}function Yy(e,t){if(e===t)return!0;let n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Dl(e,t)===lR)&&n}function Dl(e,t){let n=e.getCode(),i=t.getCode(),r=tR(n,i);if(r)return r;let o=null,s=null;for(let l of Xbe)o||(o=l(e)),s||(s=l(t));if(!o&&!s)return null;let a="EPSG:4326";if(s)if(o)r=X3(o.inverse,s.forward);else{let l=tR(n,a);l&&(r=X3(l,s.forward))}else{let l=tR(a,i);l&&(r=X3(o.inverse,l))}return r&&(sR(e),sR(t),of(e,t,r)),r}function X3(e,t){return function(n,i,r,o){return i=e(n,i,r,o),t(i,i,r,o)}}function sf(e,t){let n=Fi(e),i=Fi(t);return Dl(n,i)}function Pu(e,t,n){let i=sf(t,n);if(!i){let r=Fi(t).getCode(),o=Fi(n).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(e,void 0,e.length)}function J3(e,t,n,i){let r=sf(t,n);return s$(e,r,void 0,i)}function e_e(e,t,n){return Dl(t,n)(e)}function V$(e){Us=Fi(e)}function t_e(){Us=null}function fd(){return Us}function n_e(){V$("EPSG:4326")}function X0(e,t){return Us?Pu(e,t,Us):e}function Rl(e,t){return Us?Pu(e,Us,t):(Y3&&!Jp(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(Y3=!1,QD("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Ou(e,t){return Us?J3(e,t,Us):e}function qa(e,t){return Us?J3(e,Us,t):e}function eO(e,t){if(!Us)return e;let n=Fi(t).getMetersPerUnit(),i=Us.getMetersPerUnit();return n&&i?e*n/i:e}function H$(e,t){if(!Us)return e;let n=Fi(t).getMetersPerUnit(),i=Us.getMetersPerUnit();return n&&i?e*i/n:e}function i_e(e,t,n){return function(i){let r,o;if(e.canWrapX()){let s=e.getExtent(),a=hn(s);i=i.slice(0),o=H3(i,e,a),o&&(i[0]=i[0]-o*a),i[0]=Wn(i[0],s[0],s[2]),i[1]=Wn(i[1],s[1],s[3]),r=n(i)}else r=n(i);return o&&t.canWrapX()&&(r[0]+=o*hn(t.getExtent())),r}}function G$(){Z3(W3),Z3(j3),B$(j3,W3,f$,p$)}var Xbe,Ybe,Y3,Us,br=Oe(()=>{"use strict";G3();Au();Vn();Ji();$y();z3();g$();v$();b$();x$();O$();L$();Xbe=[P$],Ybe=[k$],Y3=!0;Us=null;G$()});var Tl,cR=Oe(()=>{"use strict";Tl={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}});var vc,Y0=Oe(()=>{"use strict";vc={PROPERTYCHANGE:"propertychange"}});var yt,dr=Oe(()=>{"use strict";yt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}});var tO,af,Zy=Oe(()=>{"use strict";tO=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},af=tO});function U$(e,t,n){let i,r;n=n||Ca;let o=0,s=e.length,a=!1;for(;o<s;)i=o+(s-o>>1),r=+n(e[i],t),r<0?o=i+1:(s=i,a=!r);return a?o:~o}function Ca(e,t){return e>t?1:e<t?-1:0}function W$(e,t){return e<t?1:e>t?-1:0}function Z0(e,t,n){if(e[0]<=t)return 0;let i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){let o=e[r];if(o===t)return r;if(o<t)return n(t,e[r-1],o)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(e[r]<t)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(e[r]<=t)return r;return i-1}for(let r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return i-1}function j$(e,t,n){for(;t<n;){let i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function Q0(e,t){let n=Array.isArray(t)?t:[t],i=n.length;for(let r=0;r<i;r++)e[e.length]=n[r]}function fs(e,t){let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function $$(e,t,n){let i=t||Ca;return e.every(function(r,o){if(o===0)return!0;let s=i(e[o-1],r);return!(s>0||n&&s===0)})}var Vr=Oe(()=>{"use strict"});function Lu(){return!0}function Nu(){return!1}function Bu(){}function dR(e){let t,n,i;return function(){let r=Array.prototype.slice.call(arguments);return(!n||this!==i||!fs(r,n))&&(i=this,n=r,t=e.apply(this,arguments)),t}}function q$(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}var Ws=Oe(()=>{"use strict";Vr()});var nO,_o,pd=Oe(()=>{"use strict";nO=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},_o=nO});var iO,lf,Qy=Oe(()=>{"use strict";Zy();Ws();mc();pd();iO=class extends af{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;let i=this.listeners_||(this.listeners_={}),r=i[t]||(i[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){let n=typeof t=="string",i=n?t:t.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let o=n?new _o(t):t;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,a[i]=0),++s[i];let l;for(let c=0,d=r.length;c<d;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(o):l=r[c].call(this,o),l===!1||o.propagationStopped){l=!1;break}if(--s[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Bu);delete s[i]}return l}disposeInternal(){this.listeners_&&hd(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;let i=this.listeners_[t];if(!i)return;let r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[r]=Bu,++this.pendingRemovals_[t]):(i.splice(r,1),i.length===0&&delete this.listeners_[t]))}},lf=iO});function r_e(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)On(e[t]);else On(e)}var J0,uR,rO=Oe(()=>{"use strict";dr();Qy();va();J0=class extends lf{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(yt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){let i=t.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=tn(this,t[o],n);return r}return tn(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){let r=t.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=$0(this,t[o],n)}else i=$0(this,t,n);return n.ol_key=i,i}unInternal(t,n){let i=n.ol_key;if(i)r_e(i);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}};J0.prototype.on;J0.prototype.once;J0.prototype.un;uR=J0});function En(){throw new Error("Unimplemented abstract method.")}function Wt(e){return e.ol_uid||(e.ol_uid=String(++o_e))}var o_e,er=Oe(()=>{"use strict";o_e=0});var hR,oO,_r,Il=Oe(()=>{"use strict";Y0();rO();pd();mc();er();hR=class extends _o{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}},oO=class extends uR{constructor(t){super(),this.on,this.once,this.un,Wt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new hR(i,t,n)),i=vc.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new hR(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){let r=this.values_||(this.values_={});if(i)r[t]=n;else{let o=r[t];r[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(let i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){let i=this.values_[t];delete this.values_[t],gc(this.values_)&&(this.values_=null),n||this.notify(t,i)}}},_r=oO});var K$={};Eh(K$,{default:()=>xr});var sO,xr,cf=Oe(()=>{"use strict";cR();Il();va();Ws();sO=class extends _r{constructor(t){super();let n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,i=this.listenerKeys.length;n<i;++n)On(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){let n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Bu&&this.listenerKeys.push(tn(t,Tl.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}},xr=sO});var Jy,Q$,gd,ev,cO,a_e,Z$,dO,df=Oe(()=>{"use strict";Jy="ol-hidden",Q$="ol-selectable",gd="ol-unselectable",ev="ol-control",cO="ol-collapsed",a_e=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),Z$=["style","variant","weight","size","lineHeight","family"],dO=function(e){let t=e.match(a_e);if(!t)return null;let n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=Z$.length;i<r;++i){let o=t[i+1];o!==void 0&&(n[Z$[i]]=o)}return n.families=n.family.split(/,\s?/),n}});var xo,tb=Oe(()=>{"use strict";xo={ADD:"add",REMOVE:"remove"}});var eq,tv,fO,js,nv=Oe(()=>{"use strict";tb();Il();pd();eq={LENGTH:"length"},tv=class extends _o{constructor(t,n,i){super(t),this.element=n,this.index=i}},fO=class extends _r{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,i=t.length;n<i;++n)this.push(t[n]);return this}forEach(t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)t(n[i],i,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(eq.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new tv(xo.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);let n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){let n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;let n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new tv(xo.REMOVE,n,t)),n}setAt(t,n){let i=this.getLength();if(t>=i){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);let r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new tv(xo.REMOVE,r,t)),this.dispatchEvent(new tv(xo.ADD,n,t))}updateLength_(){this.set(eq.LENGTH,this.array_.length)}assertUnique_(t,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==n)throw new Error("Duplicate item added to a unique collection")}},js=fO});var ig,c_e,$ut,tq,mO,nq,mR,vO,vR,rg=Oe(()=>{"use strict";ig=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",c_e=ig.includes("safari")&&!ig.includes("chrom"),$ut=c_e&&(ig.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ig)),tq=ig.includes("webkit")&&!ig.includes("edge"),mO=ig.includes("macintosh"),nq=typeof devicePixelRatio<"u"?devicePixelRatio:1,mR=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,vO=typeof Image<"u"&&Image.prototype.decode,vR=function(){let e=!1;try{let t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}()});function fn(e,t){if(!e)throw new Error(t)}var wa=Oe(()=>{"use strict"});var lo,CR=Oe(()=>{"use strict";lo={ANIMATING:0,INTERACTING:1}});var Ml,aq=Oe(()=>{"use strict";Ml={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}});function bO(e,t,n){return function(i,r,o,s,a){if(!i)return;if(!r&&!t)return i;let l=t?0:o[0]*r,c=t?0:o[1]*r,d=a?a[0]:0,h=a?a[1]:0,f=e[0]+l/2+d,g=e[2]-l/2+d,m=e[1]+c/2+h,v=e[3]-c/2+h;f>g&&(f=(g+f)/2,g=f),m>v&&(m=(v+m)/2,v=m);let C=Wn(i[0],f,g),y=Wn(i[1],m,v);if(s&&n&&r){let x=30*r;C+=-x*Math.log(1+Math.max(0,f-i[0])/x)+x*Math.log(1+Math.max(0,i[0]-g)/x),y+=-x*Math.log(1+Math.max(0,m-i[1])/x)+x*Math.log(1+Math.max(0,i[1]-v)/x)}return[C,y]}}function lq(e){return e}var cq=Oe(()=>{"use strict";Ji()});function _O(e){return Math.pow(e,3)}function Fl(e){return 1-_O(1-e)}function dq(e){return 3*e*e-2*e*e*e}function uq(e){return e}var hf=Oe(()=>{"use strict"});function So(){return[1,0,0,1,0,0]}function fq(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ur(e,t){let n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function jo(e,t,n,i,r,o,s,a){let l=Math.sin(o),c=Math.cos(o);return e[0]=i*c,e[1]=r*l,e[2]=-i*l,e[3]=r*c,e[4]=s*i*c-a*i*l+t,e[5]=s*r*l+a*r*c+n,e}function wR(e,t){let n=d_e(t);fn(n!==0,"Transformation matrix cannot be inverted");let i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5];return e[0]=s/n,e[1]=-r/n,e[2]=-o/n,e[3]=i/n,e[4]=(o*l-s*a)/n,e[5]=-(i*l-r*a)/n,e}function d_e(e){return e[0]*e[3]-e[1]*e[2]}function pq(e){return"matrix("+e.join(", ")+")"}function hq(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}function gq(e,t){let n=hq(e),i=hq(t);for(let r=0;r<6;++r)if(Math.round((n[r]-i[r])*u_e[r])!==0)return!1;return!0}var Cht,u_e,Cc=Oe(()=>{"use strict";wa();Cht=new Array(6);u_e=[1e5,1e5,1e5,1e5,2,2]});function ya(e,t,n,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=i){let c=e[l],d=e[l+1];o[a++]=r[0]*c+r[2]*d+r[4],o[a++]=r[1]*c+r[3]*d+r[5];for(let h=2;h<s;h++)o[a++]=e[l+h]}return o&&o.length!=a&&(o.length=a),o}function yR(e,t,n,i,r,o,s){s=s||[];let a=Math.cos(r),l=Math.sin(r),c=o[0],d=o[1],h=0;for(let f=t;f<n;f+=i){let g=e[f]-c,m=e[f+1]-d;s[h++]=c+g*a-m*l,s[h++]=d+g*l+m*a;for(let v=f+2;v<f+i;++v)s[h++]=e[v]}return s&&s.length!=h&&(s.length=h),s}function mq(e,t,n,i,r,o,s,a){a=a||[];let l=s[0],c=s[1],d=0;for(let h=t;h<n;h+=i){let f=e[h]-l,g=e[h+1]-c;a[d++]=l+r*f,a[d++]=c+o*g;for(let m=h+2;m<h+i;++m)a[d++]=e[m]}return a&&a.length!=d&&(a.length=d),a}function vq(e,t,n,i,r,o,s){s=s||[];let a=0;for(let l=t;l<n;l+=i){s[a++]=e[l]+r,s[a++]=e[l+1]+o;for(let c=l+2;c<l+i;++c)s[a++]=e[c]}return s&&s.length!=a&&(s.length=a),s}var ff=Oe(()=>{"use strict"});var Cq,h_e,xO,wq,yq=Oe(()=>{"use strict";Il();Vn();Ws();br();Cc();er();ff();Cq=So(),h_e=[NaN,NaN],xO=class extends _r{constructor(){super(),this.extent_=Br(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=dR((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return En()}closestPointXY(t,n,i,r){return En()}containsXY(t,n){return this.closestPointXY(t,n,h_e,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return En()}getExtent(t){if(this.extentRevision_!=this.getRevision()){let n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Zp(n),this.extentRevision_=this.getRevision()}return r$(this.extent_,t)}rotate(t,n){En()}scale(t,n,i){En()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return En()}getType(){return En()}applyTransform(t){En()}intersectsExtent(t){return En()}translate(t,n){En()}transform(t,n){let i=Fi(t),r=i.getUnits()=="tile-pixels"?function(o,s,a){let l=i.getExtent(),c=i.getWorldExtent(),d=Qi(c)/Qi(l);jo(Cq,c[0],c[3],d,-d,0,0,0);let h=ya(o,0,o.length,a,Cq,s),f=sf(i,n);return f?f(h,h,a):h}:sf(i,n);return this.applyTransform(r),this}},wq=xO});function f_e(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function bq(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function _q(e,t,n){let i=e.getFlatCoordinates();if(!i)return null;let r=e.getStride();return ya(i,0,i.length,r,t,n)}var SO,iv,ib=Oe(()=>{"use strict";Vn();er();yq();ff();SO=class extends wq{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return V0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return En()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=bq(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){En()}setLayout(t,n,i){let r;if(t)r=bq(t);else{for(let o=0;o<i;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=f_e(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){let i=this.getFlatCoordinates();if(i){let r=this.getStride();yR(i,0,i.length,r,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=_l(this.getExtent()));let r=this.getFlatCoordinates();if(r){let o=this.getStride();mq(r,0,r.length,o,t,n,i,r),this.changed()}}translate(t,n){let i=this.getFlatCoordinates();if(i){let r=this.getStride();vq(i,0,i.length,r,t,n,i),this.changed()}}};iv=SO});function EO(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1],a=0,l=0;for(;t<n;t+=i){let c=e[t]-o,d=e[t+1]-s;r+=l*c-a*d,a=c,l=d}return r/2}function xq(e,t,n,i){let r=0;for(let o=0,s=n.length;o<s;++o){let a=n[o];r+=EO(e,t,a,i),t=a}return r}var DO=Oe(()=>{"use strict"});function Sq(e,t,n,i,r,o,s){let a=e[t],l=e[t+1],c=e[n]-a,d=e[n+1]-l,h;if(c===0&&d===0)h=t;else{let f=((r-a)*c+(o-l)*d)/(c*c+d*d);if(f>1)h=n;else if(f>0){for(let g=0;g<i;++g)s[g]=us(e[t+g],e[n+g],f);s.length=i;return}else h=t}for(let f=0;f<i;++f)s[f]=e[h+f];s.length=i}function RO(e,t,n,i,r){let o=e[t],s=e[t+1];for(t+=i;t<n;t+=i){let a=e[t],l=e[t+1],c=Fu(o,s,a,l);c>r&&(r=c),o=a,s=l}return r}function Eq(e,t,n,i,r){for(let o=0,s=n.length;o<s;++o){let a=n[o];r=RO(e,t,a,i,r),t=a}return r}function TO(e,t,n,i,r,o,s,a,l,c,d){if(t==n)return c;let h,f;if(r===0){if(f=Fu(s,a,e[t],e[t+1]),f<c){for(h=0;h<i;++h)l[h]=e[t+h];return l.length=i,f}return c}d=d||[NaN,NaN];let g=t+i;for(;g<n;)if(Sq(e,g-i,g,i,s,a,d),f=Fu(s,a,d[0],d[1]),f<c){for(c=f,h=0;h<i;++h)l[h]=d[h];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(o&&(Sq(e,n-i,t,i,s,a,d),f=Fu(s,a,d[0],d[1]),f<c)){for(c=f,h=0;h<i;++h)l[h]=d[h];l.length=i}return c}function Dq(e,t,n,i,r,o,s,a,l,c,d){d=d||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){let g=n[h];c=TO(e,t,g,i,r,o,s,a,l,c,d),t=g}return c}var IO=Oe(()=>{"use strict";Ji()});function Rq(e,t,n,i){for(let r=0,o=n.length;r<o;++r)e[t++]=n[r];return t}function MO(e,t,n,i){for(let r=0,o=n.length;r<o;++r){let s=n[r];for(let a=0;a<i;++a)e[t++]=s[a]}return t}function Tq(e,t,n,i,r){r=r||[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=MO(e,t,n[s],i);r[o++]=l,t=l}return r.length=o,r}var bR=Oe(()=>{"use strict"});function pf(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=t;s<n;s+=i)r[o++]=e.slice(s,s+i);return r.length=o,r}function rv(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];r[o++]=pf(e,t,l,i,r[o]),t=l}return r.length=o,r}function FO(e,t,n,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,a=n.length;s<a;++s){let l=n[s];r[o++]=l.length===1&&l[0]===t?[]:rv(e,t,l,i,r[o]),t=l[l.length-1]}return r.length=o,r}var _R=Oe(()=>{"use strict"});function rb(e,t,n,i,r,o,s){let a=(n-t)/i;if(a<3){for(;t<n;t+=i)o[s++]=e[t],o[s++]=e[t+1];return s}let l=new Array(a);l[0]=1,l[a-1]=1;let c=[t,n-i],d=0;for(;c.length>0;){let h=c.pop(),f=c.pop(),g=0,m=e[f],v=e[f+1],C=e[h],y=e[h+1];for(let x=f+i;x<h;x+=i){let _=e[x],R=e[x+1],I=a$(_,R,m,v,C,y);I>g&&(d=x,g=I)}g>r&&(l[(d-t)/i]=1,f+i<d&&c.push(f,d),d+i<h&&c.push(d,h))}for(let h=0;h<a;++h)l[h]&&(o[s++]=e[t+h*i],o[s++]=e[t+h*i+1]);return s}function Iq(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){let d=n[l];s=rb(e,t,d,i,r,o,s),a.push(s),t=d}return s}function gf(e,t){return t*Math.round(e/t)}function p_e(e,t,n,i,r,o,s){if(t==n)return s;let a=gf(e[t],r),l=gf(e[t+1],r);t+=i,o[s++]=a,o[s++]=l;let c,d;do if(c=gf(e[t],r),d=gf(e[t+1],r),t+=i,t==n)return o[s++]=c,o[s++]=d,s;while(c==a&&d==l);for(;t<n;){let h=gf(e[t],r),f=gf(e[t+1],r);if(t+=i,h==c&&f==d)continue;let g=c-a,m=d-l,v=h-a,C=f-l;if(g*C==m*v&&(g<0&&v<g||g==v||g>0&&v>g)&&(m<0&&C<m||m==C||m>0&&C>m)){c=h,d=f;continue}o[s++]=c,o[s++]=d,a=c,l=d,c=h,d=f}return o[s++]=c,o[s++]=d,s}function xR(e,t,n,i,r,o,s,a){for(let l=0,c=n.length;l<c;++l){let d=n[l];s=p_e(e,t,d,i,r,o,s),a.push(s),t=d}return s}var ob=Oe(()=>{"use strict";Ji()});var AO,kO,Mq=Oe(()=>{"use strict";Vn();ib();DO();IO();bR();_R();ob();AO=class e extends iv{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new e(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,r){return r<$D(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(RO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),TO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,r))}getArea(){return EO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return pf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){let n=[];return n.length=rb(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=MO(this.flatCoordinates,0,t,this.stride),this.changed()}},kO=AO});var Fq={};Eh(Fq,{default:()=>Vu});var PO,Vu,SR=Oe(()=>{"use strict";Vn();Ji();ib();bR();PO=class e extends iv{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){let t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,r){let o=this.flatCoordinates,s=Fu(t,n,o[0],o[1]);if(s<r){let a=this.stride;for(let l=0;l<a;++l)i[l]=o[l];return i.length=a,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return qD(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return L3(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Rq(this.flatCoordinates,0,t,this.stride),this.changed()}},Vu=PO});function Aq(e,t,n,i,r){return!KD(r,function(s){return!mf(e,t,n,i,s[0],s[1])})}function mf(e,t,n,i,r,o){let s=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){let c=e[t],d=e[t+1];l<=o?d>o&&(c-a)*(o-l)-(r-a)*(d-l)>0&&s++:d<=o&&(c-a)*(o-l)-(r-a)*(d-l)<0&&s--,a=c,l=d}return s!==0}function ER(e,t,n,i,r,o){if(n.length===0||!mf(e,t,n[0],i,r,o))return!1;for(let s=1,a=n.length;s<a;++s)if(mf(e,n[s-1],n[s],i,r,o))return!1;return!0}var DR=Oe(()=>{"use strict";Vn()});function sb(e,t,n,i,r,o,s){let a,l,c,d,h,f,g,m=r[o+1],v=[];for(let x=0,_=n.length;x<_;++x){let R=n[x];for(d=e[R-i],f=e[R-i+1],a=t;a<R;a+=i)h=e[a],g=e[a+1],(m<=f&&g<=m||f<=m&&m<=g)&&(c=(m-f)/(g-f)*(h-d)+d,v.push(c)),d=h,f=g}let C=NaN,y=-1/0;for(v.sort(Ca),d=v[0],a=1,l=v.length;a<l;++a){h=v[a];let x=Math.abs(h-d);x>y&&(c=(d+h)/2,ER(e,t,n,i,c,m)&&(C=c,y=x)),d=h}return isNaN(C)&&(C=r[o]),s?(s.push(C,m,y),s):[C,m,y]}function kq(e,t,n,i,r){let o=[];for(let s=0,a=n.length;s<a;++s){let l=n[s];o=sb(e,t,l,i,r,2*s,o),t=l[l.length-1]}return o}var OO=Oe(()=>{"use strict";Vr();DR()});function Pq(e,t,n,i,r){let o;for(t+=i;t<n;t+=i)if(o=r(e.slice(t-i,t),e.slice(t,t+i)),o)return o;return!1}var Oq=Oe(()=>{"use strict"});function Lq(e,t,n,i,r,o){return o=o??N3(Br(),e,t,n,i),cr(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:Pq(e,t,n,i,function(s,a){return o$(r,s,a)}):!1}function LO(e,t,n,i,r){return!!(Lq(e,t,n,i,r)||mf(e,t,n,i,r[0],r[1])||mf(e,t,n,i,r[0],r[3])||mf(e,t,n,i,r[2],r[1])||mf(e,t,n,i,r[2],r[3]))}function Nq(e,t,n,i,r){if(!LO(e,t,n[0],i,r))return!1;if(n.length===1)return!0;for(let o=1,s=n.length;o<s;++o)if(Aq(e,n[o-1],n[o],i,r)&&!Lq(e,n[o-1],n[o],i,r))return!1;return!0}var NO=Oe(()=>{"use strict";Vn();DR();Oq()});function Bq(e,t,n,i){for(;t<n-i;){for(let r=0;r<i;++r){let o=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=o}t+=i,n-=i}}var Vq=Oe(()=>{"use strict"});function BO(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1];for(;t<n;t+=i){let a=e[t],l=e[t+1];r+=(a-o)*(l+s),o=a,s=l}return r===0?void 0:r>0}function Hq(e,t,n,i,r){r=r!==void 0?r:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=BO(e,t,a,i);if(o===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=a}return!0}function VO(e,t,n,i,r){r=r!==void 0?r:!1;for(let o=0,s=n.length;o<s;++o){let a=n[o],l=BO(e,t,a,i);(o===0?r&&l||!r&&!l:r&&!l||!r&&l)&&Bq(e,t,a,i),t=a}return t}function Gq(e,t){let n=[],i=0,r=0,o;for(let s=0,a=t.length;s<a;++s){let l=t[s],c=BO(e,i,l,2);if(o===void 0&&(o=c),c===o)n.push(t.slice(r,s+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=s+1,i=l}return n}var HO=Oe(()=>{"use strict";Vq()});function GO(e){if(ef(e))throw new Error("Cannot create polygon from empty extent");let t=e[0],n=e[1],i=e[2],r=e[3],o=[t,n,t,r,i,r,i,n,t,n];return new RR(o,"XY",[o.length])}var RR,zq,zO=Oe(()=>{"use strict";Vr();Vn();Mq();SR();ib();DO();IO();DR();bR();_R();OO();NO();HO();ob();RR=class e extends iv{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Q0(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,r){return r<$D(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Eq(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Dq(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,r))}containsXY(t,n){return ER(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return xq(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),VO(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,rv(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let t=_l(this.getExtent());this.flatInteriorPoint_=sb(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Vu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new kO(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){let t=this.layout,n=this.flatCoordinates,i=this.ends_,r=[],o=0;for(let s=0,a=i.length;s<a;++s){let l=i[s],c=new kO(n.slice(o,l),t);r.push(c),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let t=this.flatCoordinates;Hq(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=VO(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){let n=[],i=[];return n.length=xR(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return Nq(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=Tq(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},zq=RR});function UO(e,t,n,i){let r=hn(t)/n[0],o=Qi(t)/n[1];return i?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function WO(e,t,n){let i=Math.min(e,t),r=50;return i*=Math.log(1+r*Math.max(0,e/t-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/e-1))/r+1),Wn(i,n/2,t*2)}function Uq(e,t,n,i){return t=t!==void 0?t:!0,function(r,o,s,a){if(r!==void 0){let l=e[0],c=e[e.length-1],d=n?UO(l,n,s,i):l;if(a)return t?WO(r,d,c):Wn(r,c,d);let h=Math.min(d,r),f=Math.floor(Z0(e,h,o));return e[f]>d&&f<e.length-1?e[f+1]:e[f]}}}function Wq(e,t,n,i,r,o){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(s,a,l,c){if(s!==void 0){let d=r?UO(t,r,l,o):t;if(c)return i?WO(s,d,n):Wn(s,n,d);let h=1e-9,f=Math.ceil(Math.log(t/d)/Math.log(e)-h),g=-a*(.5-h)+.5,m=Math.min(d,s),v=Math.floor(Math.log(t/m)/Math.log(e)+g),C=Math.max(f,v),y=t/Math.pow(e,C);return Wn(y,n,d)}}}function jO(e,t,n,i,r){return n=n!==void 0?n:!0,function(o,s,a,l){if(o!==void 0){let c=i?UO(e,i,a,r):e;return!n||!l?Wn(o,t,c):WO(o,c,t)}}}var jq=Oe(()=>{"use strict";Vr();Vn();Ji()});function ov(e){if(e!==void 0)return 0}function $O(e){if(e!==void 0)return e}function $q(e){let t=2*Math.PI/e;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function qq(e){let t=e===void 0?fc(5):e;return function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n}}var TR=Oe(()=>{"use strict";Ji()});function IR(e,t){setTimeout(function(){e(t)},0)}function g_e(e){if(e.extent!==void 0){let n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return bO(e.extent,e.constrainOnlyCenter,n)}let t=Xy(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){let n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,bO(n,!1,!1)}return lq}function m_e(e){let t,n,i,s=e.minZoom!==void 0?e.minZoom:qO,a=e.maxZoom!==void 0?e.maxZoom:28,l=e.zoomFactor!==void 0?e.zoomFactor:2,c=e.multiWorld!==void 0?e.multiWorld:!1,d=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,h=e.showFullExtent!==void 0?e.showFullExtent:!1,f=Xy(e.projection,"EPSG:3857"),g=f.getExtent(),m=e.constrainOnlyCenter,v=e.extent;if(!c&&!v&&f.isGlobal()&&(m=!1,v=g),e.resolutions!==void 0){let C=e.resolutions;n=C[s],i=C[a]!==void 0?C[a]:C[C.length-1],e.constrainResolution?t=Uq(C,d,!m&&v,h):t=jO(n,i,d,!m&&v,h)}else{let y=(g?Math.max(hn(g),Qi(g)):360*Sl.degrees/f.getMetersPerUnit())/256/Math.pow(2,qO),x=y/Math.pow(2,28-qO);n=e.maxResolution,n!==void 0?s=0:n=y/Math.pow(l,s),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(l,a):i=y/Math.pow(l,a):i=x),a=s+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-s),e.constrainResolution?t=Wq(l,n,i,d,!m&&v,h):t=jO(n,i,d,!m&&v,h)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:s,zoomFactor:l}}function v_e(e){if(e.enableRotation!==void 0?e.enableRotation:!0){let n=e.constrainRotation;return n===void 0||n===!0?qq():n===!1?$O:typeof n=="number"?$q(n):$O}return ov}function C_e(e){return!(e.sourceCenter&&e.targetCenter&&!Jp(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function KO(e,t,n,i,r){let o=Math.cos(-r),s=Math.sin(-r),a=e[0]*o-e[1]*s,l=e[1]*o+e[0]*s;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,s=-s;let c=a*o-l*s,d=l*o+a*s;return[c,d]}var qO,XO,ps,ab=Oe(()=>{"use strict";Il();CR();aq();Vr();wa();cq();Au();hf();Vn();Ws();zO();Ji();br();jq();TR();qO=0,XO=class extends _r{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Xy(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&aR(),t.center&&(t.center=Rl(t.center,this.projection_)),t.extent&&(t.extent=qa(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){let n=Object.assign({},t);for(let a in Ml)delete n[a];this.setProperties(n,!0);let i=m_e(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;let r=g_e(t),o=i.constraint,s=v_e(t);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;let i=this.getCenterInternal();if(i){let r=t||[0,0,0,0];n=n||[0,0,0,0];let o=this.getResolution(),s=o/2*(r[3]-n[3]+n[1]-r[1]),a=o/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-a])}}getUpdatedOptions_(t){let n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Rl(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Rl(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){let d=arguments[r];d.center&&this.setCenterInternal(d.center),d.zoom!==void 0?this.setZoom(d.zoom):d.resolution&&this.setResolution(d.resolution),d.rotation!==void 0&&this.setRotation(d.rotation)}if(r===n){i&&IR(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_,c=[];for(;r<n;++r){let d=arguments[r],h={start:o,complete:!1,anchor:d.anchor,duration:d.duration!==void 0?d.duration:1e3,easing:d.easing||dq,callback:i};if(d.center&&(h.sourceCenter=s,h.targetCenter=d.center.slice(),s=h.targetCenter),d.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(d.zoom),a=h.targetResolution):d.resolution&&(h.sourceResolution=a,h.targetResolution=d.resolution,a=h.targetResolution),d.rotation!==void 0){h.sourceRotation=l;let f=pc(d.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}C_e(h)?h.complete=!0:o+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(lo.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[lo.ANIMATING]>0}getInteracting(){return this.hints_[lo.INTERACTING]>0}cancelAnimations(){this.setHint(lo.ANIMATING,-this.hints_[lo.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){let r=this.animations_[n];if(r[0].callback&&IR(r[0].callback,!1),!t)for(let o=0,s=r.length;o<s;++o){let a=r[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let t=Date.now(),n=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],o=!0;for(let s=0,a=r.length;s<a;++s){let l=r[s];if(l.complete)continue;let c=t-l.start,d=l.duration>0?c/l.duration:1;d>=1?(l.complete=!0,d=1):o=!1;let h=l.easing(d);if(l.sourceCenter){let f=l.sourceCenter[0],g=l.sourceCenter[1],m=l.targetCenter[0],v=l.targetCenter[1];this.nextCenter_=l.targetCenter;let C=f+h*(m-f),y=g+h*(v-g);this.targetCenter_=[C,y]}if(l.sourceResolution&&l.targetResolution){let f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){let g=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(f,0,g,!0);this.targetCenter_=this.calculateCenterZoom(m,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){let f=h===1?pc(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){let g=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[i]=null,this.setHint(lo.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=r[0].callback;s&&IR(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],W0(i,t-this.getRotation()),c$(i,n)),i}calculateCenterZoom(t,n){let i,r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){let s=n[0]-t*(n[0]-r[0])/o,a=n[1]-t*(n[1]-r[1])/o;i=[s,a]}return i}getViewportSize_(t){let n=this.viewportSize_;if(t){let i=n[0],r=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let t=this.getCenterInternal();return t&&X0(t,this.getProjection())}getCenterInternal(){return this.get(Ml.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){let n=this.calculateExtentInternal(t);return Ou(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();let n=this.getCenterInternal();fn(n,"The view center is not defined");let i=this.getResolution();fn(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return fn(r!==void 0,"The view rotation is not defined"),Uy(n,i,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Ml.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(qa(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();let i=hn(t)/n[0],r=Qi(t)/n[1];return Math.max(i,r)}getResolutionForValueFunction(t){t=t||2;let n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(t);return function(o){return n/Math.pow(t,o*r)}}getRotation(){return this.get(Ml.ROTATION)}getValueForResolutionFunction(t){let n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/n;return function(s){return Math.log(i/s)/n/o}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t),i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){let t=this.getProjection(),n=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();r=KO(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,i)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t,n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,r;if(this.resolutions_){let o=Z0(this.resolutions_,t,1);n=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let n=Wn(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Wn(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(fn(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){fn(!ef(t),"Cannot fit empty extent provided as `geometry`");let r=qa(t,this.getProjection());i=GO(r)}else if(t.getType()==="Circle"){let r=qa(t.getExtent(),this.getProjection());i=GO(r),i.rotate(this.getRotation(),_l(r))}else{let r=fd();r?i=t.clone().transform(r,this.getProjection()):i=t}this.fitInternal(i,n)}rotatedExtentForGeometry(t){let n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),o=t.getFlatCoordinates(),s=t.getStride(),a=1/0,l=1/0,c=-1/0,d=-1/0;for(let h=0,f=o.length;h<f;h+=s){let g=o[h]*i-o[h+1]*r,m=o[h]*r+o[h+1]*i;a=Math.min(a,g),l=Math.min(l,m),c=Math.max(c,g),d=Math.max(d,m)}return[a,l,c,d]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());let r=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1,s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;let a=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);let c=this.getRotation(),d=Math.sin(c),h=Math.cos(c),f=_l(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;let g=f[0]*h-f[1]*d,m=f[1]*h+f[0]*d,v=this.getConstrainedCenter([g,m],l),C=n.callback?n.callback:Bu;n.duration!==void 0?this.animateInternal({resolution:l,center:v,duration:n.duration,easing:n.easing},C):(this.targetResolution_=l,this.targetCenter_=v,this.applyTargetState_(!1,!0),IR(C,!0))}centerOn(t,n,i){this.centerOnInternal(Rl(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(KO(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,r){let o,s=this.padding_;if(s&&t){let a=this.getViewportSizeMinusPadding_(-i),l=KO(t,r,[a[0]/2+s[3],a[1]/2+s[0]],n,i);o=[t[0]-l[0],t[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){let n=X0(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){let n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Rl(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Rl(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Rl(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){let i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),a=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(Ml.ROTATION)!==r&&this.set(Ml.ROTATION,r),this.get(Ml.RESOLUTION)!==s&&(this.set(Ml.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Ml.CENTER)||!Jp(this.get(Ml.CENTER),a))&&this.set(Ml.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;let r=n||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!Jp(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:t,easing:Fl,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(lo.INTERACTING,1)}endInteraction(t,n,i){i=i&&Rl(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(lo.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){let i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}};ps=XO});function ui(e,t,n,i){let r;return n&&n.length?r=n.shift():mR?r=new OffscreenCanvas(e||300,t||300):r=document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}function sv(){return YO||(YO=ui(1,1)),YO}function og(e){let t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Xq(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function Yq(e){let t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function ZO(e,t){let n=t.parentNode;n&&n.replaceChild(e,t)}function MR(e){for(;e.lastChild;)e.lastChild.remove()}function Zq(e,t){let n=e.childNodes;for(let i=0;;++i){let r=n[i],o=t[i];if(!r&&!o)break;if(r!==o){if(!r){e.appendChild(o);continue}if(!o){e.removeChild(r),--i;continue}e.insertBefore(o,r)}}}var YO,Eo=Oe(()=>{"use strict";rg()});var oi,mL=Oe(()=>{"use strict";oi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}});var vL,LR,CL=Oe(()=>{"use strict";Il();wa();Ji();er();mL();vL=class extends _r{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;let n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[oi.OPACITY]=t.opacity!==void 0?t.opacity:1,fn(typeof n[oi.OPACITY]=="number","Layer opacity must be a number"),n[oi.VISIBLE]=t.visible!==void 0?t.visible:!0,n[oi.Z_INDEX]=t.zIndex,n[oi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[oi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[oi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[oi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){let n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=Wn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return En()}getLayerStatesArray(t){return En()}getExtent(){return this.get(oi.EXTENT)}getMaxResolution(){return this.get(oi.MAX_RESOLUTION)}getMinResolution(){return this.get(oi.MIN_RESOLUTION)}getMinZoom(){return this.get(oi.MIN_ZOOM)}getMaxZoom(){return this.get(oi.MAX_ZOOM)}getOpacity(){return this.get(oi.OPACITY)}getSourceState(){return En()}getVisible(){return this.get(oi.VISIBLE)}getZIndex(){return this.get(oi.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(oi.EXTENT,t)}setMaxResolution(t){this.set(oi.MAX_RESOLUTION,t)}setMinResolution(t){this.set(oi.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(oi.MAX_ZOOM,t)}setMinZoom(t){this.set(oi.MIN_ZOOM,t)}setOpacity(t){fn(typeof t=="number","Layer opacity must be a number"),this.set(oi.OPACITY,t)}setVisible(t){this.set(oi.VISIBLE,t)}setZIndex(t){this.set(oi.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},LR=vL});var $o,dv=Oe(()=>{"use strict";$o={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}});function db(e,t){if(!e.visible)return!1;let n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;let i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}var bL,cg,uv=Oe(()=>{"use strict";ab();wa();dr();va();Vn();dv();CL();mL();bL=class extends LR{constructor(t){let n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(oi.SOURCE,this.handleSourcePropertyChange_);let i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(oi.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(On(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let t=this.getSource();t&&(this.sourceChangeKey_=tn(t,yt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n,i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof ps?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(s=>s.layer===this),!r)return!1}else r=this.getLayerState();let o=this.getExtent();return db(r,n.viewState)&&(!o||cr(o,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n=this.getSource()?.getAttributions();if(!n)return[];let i=t instanceof ps?t.getViewStateAndExtent():t,r=n(i);return Array.isArray(r)||(r=[r]),r}render(t,n){let i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){let n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(oi.MAP,t)}getMapInternal(){return this.get(oi.MAP)}setMap(t){this.mapPrecomposeKey_&&(On(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(On(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=tn(t,$o.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=tn(this,yt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){let n=t.frameState.layerStatesArray,i=this.getLayerState(!1);fn(!n.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(t){this.set(oi.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};cg=bL});function NR(e,t,n=0,i=e.length-1,r=y_e){for(;i>n;){if(i-n>600){let l=i-n+1,c=t-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(t-c*h/l+f)),m=Math.min(i,Math.floor(t+(l-c)*h/l+f));NR(e,t,g,m,r)}let o=e[t],s=n,a=i;for(ub(e,n,t),r(e[i],o)>0&&ub(e,n,i);s<a;){for(ub(e,s,a),s++,a--;r(e[s],o)<0;)s++;for(;r(e[a],o)>0;)a--}r(e[n],o)===0?ub(e,n,a):(a++,ub(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}}function ub(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function y_e(e,t){return e<t?-1:e>t?1:0}var wK=Oe(()=>{"use strict"});function b_e(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function hv(e,t){hb(e,0,e.children.length,t,e)}function hb(e,t,n,i,r){r||(r=fv(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){let s=e.children[o];fb(r,e.leaf?i(s):s)}return r}function fb(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function __e(e,t){return e.minX-t.minX}function x_e(e,t){return e.minY-t.minY}function _L(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function BR(e){return e.maxX-e.minX+(e.maxY-e.minY)}function S_e(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function E_e(e,t){let n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function xL(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function VR(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function fv(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function yK(e,t,n,i,r){let o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=i)continue;let s=t+Math.ceil((n-t)/i/2)*i;NR(e,s,t,n,r),o.push(t,s,s,n)}}var pv,SL=Oe(()=>{"use strict";wK();pv=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data,i=[];if(!VR(t,n))return i;let r=this.toBBox,o=[];for(;n;){for(let s=0;s<n.children.length;s++){let a=n.children[s],l=n.leaf?r(a):a;VR(t,l)&&(n.leaf?i.push(a):xL(t,l)?this._all(a,i):o.push(a))}n=o.pop()}return i}collides(t){let n=this.data;if(!VR(t,n))return!1;let i=[];for(;n;){for(let r=0;r<n.children.length;r++){let o=n.children[r],s=n.leaf?this.toBBox(o):o;if(VR(t,s)){if(n.leaf||xL(t,s))return!0;i.push(o)}}n=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){let i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=fv([]),this}remove(t,n){if(!t)return this;let i=this.data,r=this.toBBox(t),o=[],s=[],a,l,c;for(;i||o.length;){if(i||(i=o.pop(),l=o[o.length-1],a=s.pop(),c=!0),i.leaf){let d=b_e(t,i.children,n);if(d!==-1)return i.children.splice(d,1),o.push(i),this._condense(o),this}!c&&!i.leaf&&xL(i,r)?(o.push(i),s.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],c=!1):i=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){let i=[];for(;t;)t.leaf?n.push(...t.children):i.push(...t.children),t=i.pop();return n}_build(t,n,i,r){let o=i-n+1,s=this._maxEntries,a;if(o<=s)return a=fv(t.slice(n,i+1)),hv(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=fv([]),a.leaf=!1,a.height=r;let l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));yK(t,n,i,c,this.compareMinX);for(let d=n;d<=i;d+=c){let h=Math.min(d+c-1,i);yK(t,d,h,l,this.compareMinY);for(let f=d;f<=h;f+=l){let g=Math.min(f+l-1,h);a.children.push(this._build(t,f,g,r-1))}}return hv(a,this.toBBox),a}_chooseSubtree(t,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let o=1/0,s=1/0,a;for(let l=0;l<n.children.length;l++){let c=n.children[l],d=_L(c),h=S_e(t,c)-d;h<s?(s=h,o=d<o?d:o,a=c):h===s&&d<o&&(o=d,a=c)}n=a||n.children[0]}return n}_insert(t,n,i){let r=i?t:this.toBBox(t),o=[],s=this._chooseSubtree(r,this.data,n,o);for(s.children.push(t),fb(s,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(t,n){let i=t[n],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);let s=this._chooseSplitIndex(i,o,r),a=fv(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,hv(i,this.toBBox),hv(a,this.toBBox),n?t[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(t,n){this.data=fv([t,n]),this.data.height=t.height+1,this.data.leaf=!1,hv(this.data,this.toBBox)}_chooseSplitIndex(t,n,i){let r,o=1/0,s=1/0;for(let a=n;a<=i-n;a++){let l=hb(t,0,a,this.toBBox),c=hb(t,a,i,this.toBBox),d=E_e(l,c),h=_L(l)+_L(c);d<o?(o=d,r=a,s=h<s?h:s):d===o&&h<s&&(s=h,r=a)}return r||i-n}_chooseSplitAxis(t,n,i){let r=t.leaf?this.compareMinX:__e,o=t.leaf?this.compareMinY:x_e,s=this._allDistMargin(t,n,i,r),a=this._allDistMargin(t,n,i,o);s<a&&t.children.sort(r)}_allDistMargin(t,n,i,r){t.children.sort(r);let o=this.toBBox,s=hb(t,0,n,o),a=hb(t,i-n,i,o),l=BR(s)+BR(a);for(let c=n;c<i-n;c++){let d=t.children[c];fb(s,t.leaf?o(d):d),l+=BR(s)}for(let c=i-n-1;c>=n;c--){let d=t.children[c];fb(a,t.leaf?o(d):d),l+=BR(a)}return l}_adjustParentBBoxes(t,n,i){for(let r=i;r>=0;r--)fb(n[r],t)}_condense(t){for(let n=t.length-1,i;n>=0;n--)t[n].children.length===0?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():hv(t[n],this.toBBox)}}});function D_e(){return EL||(EL=ui(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),EL}function HR(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function gb(e){throw new Error('failed to parse "'+e+'" as color')}function bK(e){if(e.toLowerCase().startsWith("rgb")){let o=e.match(T_e)||e.match(R_e)||e.match(I_e);if(o){let s=o[4],a=100/255;return[Wn(HR(o[1],a)+.5|0,0,255),Wn(HR(o[2],a)+.5|0,0,255),Wn(HR(o[3],a)+.5|0,0,255),s!==void 0?Wn(HR(s,100),0,1):1]}gb(e)}if(e.startsWith("#")){if(M_e.test(e)){let o=e.substring(1),s=o.length<=4?1:2,a=[0,0,0,255];for(let l=0,c=o.length;l<c;l+=s){let d=parseInt(o.substring(l,l+s),16);s===1&&(d+=d<<4),a[l/s]=d}return a[3]=a[3]/255,a}gb(e)}let t=D_e();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=e,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=e,t.fillStyle===n&&gb(e));let i=t.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return bK(i);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);let r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=U0(r[3]/255,3),r}function _K(e){return typeof e=="string"?e:vb(e)}function xK(e){if(e.length===4)return e;let t=e.slice();return t[3]=1,t}function RL(e){return e>.0031308?Math.pow(e,1/2.4)*269.025-14.025:e*3294.6}function TL(e){return e>.2068965?Math.pow(e,3):(e-4/29)*(108/841)}function IL(e){return e>10.314724?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function ML(e){return e>.0088564?Math.pow(e,1/3):e/(108/841)+4/29}function FL(e){let t=IL(e[0]),n=IL(e[1]),i=IL(e[2]),r=ML(t*.222488403+n*.716873169+i*.06060791),o=500*(ML(t*.452247074+n*.399439023+i*.148375274)-r),s=200*(r-ML(t*.016863605+n*.117638439+i*.865350722)),a=Math.atan2(s,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+s*s),a<0?a+360:a,e[3]]}function SK(e){let t=(e[0]+16)/116,n=e[1],i=e[2]*Math.PI/180,r=TL(t),o=TL(t+n/500*Math.cos(i)),s=TL(t-n/200*Math.sin(i)),a=RL(o*3.021973625-r*1.617392459-s*.404875592),l=RL(o*-.943766287+r*1.916279586+s*.027607165),c=RL(o*.069407491-r*.22898585+s*1.159737864);return[Wn(a+.5|0,0,255),Wn(l+.5|0,0,255),Wn(c+.5|0,0,255),e[3]]}function mb(e){if(e==="none")return GR;if(pb.hasOwnProperty(e))return pb[e];if(DL>=F_e){let n=0;for(let i in pb)(n++&3)===0&&(delete pb[i],--DL)}let t=bK(e);t.length!==4&&gb(e);for(let n of t)isNaN(n)&&gb(e);return pb[e]=t,++DL,t}function yc(e){return Array.isArray(e)?e:mb(e)}function vb(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let i=e[2];i!=(i|0)&&(i=i+.5|0);let r=e[3]===void 0?1:Math.round(e[3]*1e3)/1e3;return"rgba("+t+","+n+","+i+","+r+")"}var GR,EL,R_e,T_e,I_e,M_e,F_e,pb,DL,bc=Oe(()=>{"use strict";Eo();Ji();GR=[NaN,NaN,NaN,0];R_e=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,T_e=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,I_e=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,M_e=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;F_e=1024,pb={},DL=0});function AL(e){return e[0]>0&&e[1]>0}function EK(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function Sr(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}var wd=Oe(()=>{"use strict"});function k_e(e){return e in OL}function wb(e){let t=[];for(let n of A_e)yb(e,n)&&t.push(OL[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function yb(e,t){return(e&t)===t}function Cf(e,t){return e===t}function LL(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Do(e,t,n){switch(typeof e){case"boolean":{if(Cf(t,$s))return new Er($s,e?"true":"false");if(!yb(t,gs))throw new Error(`got a boolean, but expected ${wb(t)}`);return new Er(gs,e)}case"number":{if(Cf(t,Cb))return new Er(Cb,Sr(e));if(Cf(t,gs))return new Er(gs,!!e);if(Cf(t,$s))return new Er($s,e.toString());if(!yb(t,Hn))throw new Error(`got a number, but expected ${wb(t)}`);return new Er(Hn,e)}case"string":{if(Cf(t,Ka))return new Er(Ka,mb(e));if(Cf(t,gs))return new Er(gs,!!e);if(!yb(t,$s))throw new Error(`got a string, but expected ${wb(t)}`);return new Er($s,e)}default:}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(e.length===0)throw new Error("empty expression");if(typeof e[0]=="string")return W_e(e,t,n);for(let i of e)if(typeof i!="number")throw new Error("expected an array of numbers");if(Cf(t,Cb)){if(e.length!==2)throw new Error(`expected an array of two values for a size, got ${e.length}`);return new Er(Cb,e)}if(Cf(t,Ka)){if(e.length===3)return new Er(Ka,[...e,1]);if(e.length===4)return new Er(Ka,e);throw new Error(`expected an array of 3 or 4 values for a color, got ${e.length}`)}if(!yb(t,wf))throw new Error(`got an array of numbers, but expected ${wb(t)}`);return new Er(wf,e)}function DK(e,t,n){let i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=e[o+1];switch(typeof s){case"number":{r[o]=new Er(Hn,s);break}case"string":{r[o]=new Er($s,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&n.properties.add(String(s))}return r}function O_e(e,t,n){let i=e[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Er($s,i)]}function L_e(e,t,n){n.featureId=!0}function N_e(e,t,n){n.geometryType=!0}function kL(e,t,n){n.mapState=!0}function gv(e,t,n){let i=e[0];if(e.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function yn(e,t){return function(n,i,r){let o=n[0],s=n.length-1;if(e===t){if(s!==e){let a=e===1?"":"s";throw new Error(`expected ${e} argument${a} for ${o}, got ${s}`)}}else if(s<e||s>t){let a=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`expected ${a} arguments for ${o}, got ${s}`)}}}function RK(e,t,n){let i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=Do(e[o+1],t,n);r[o]=s}return r}function si(e){return function(t,n,i){let r=t.length-1,o=new Array(r);for(let s=0;s<r;++s){let a=Do(t[s+1],e,i);o[s]=a}return o}}function B_e(e,t,n){let i=e[0],r=e.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function TK(e,t,n){let i=e[0],r=e.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function V_e(e,t,n){let i=e.length-1,r=$s|Hn|gs,o=Do(e[1],r,n),s=Do(e[e.length-1],t,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{let c=Do(e[l+2],o.type,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+1} of match expression: ${c.message}`)}try{let c=Do(e[l+3],s.type,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+2} of match expression: ${c.message}`)}}return[o,...a,s]}function H_e(e,t,n){let i=e[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let o=new Er(Hn,r),s;try{s=Do(e[2],Hn,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}let a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){try{let c=Do(e[l+3],Hn,n);a[l]=c}catch(c){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${c.message}`)}try{let c=Do(e[l+4],t,n);a[l+1]=c}catch(c){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${c.message}`)}}return[o,s,...a]}function G_e(e,t,n){let i=Do(e[e.length-1],t,n),r=new Array(e.length-1);for(let o=0;o<r.length-1;o+=2){try{let s=Do(e[o+1],gs,n);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=Do(e[o+2],i.type,n);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function z_e(e,t,n){let i=e[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=$s}else r=Hn;let o=new Array(i.length);for(let a=0;a<o.length;a++)try{let l=Do(i[a],r,n);o[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[Do(e[1],r,n),...o]}function U_e(e,t,n){let i;try{i=Do(e[1],Hn,n)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let r=e[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let o=new Array(r.length);for(let s=0;s<o.length;s++){let a;try{a=Do(r[s],Ka,n)}catch(l){throw new Error(`failed to parse color at index ${s} in palette expression: ${l.message}`)}if(!(a instanceof Er))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=a}return[i,...o]}function nn(...e){return function(t,n,i){let r=t[0],o;for(let s=0;s<e.length;s++){let a=e[s](t,n,i);if(s==e.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");o=a}}return new PL(n,r,...o)}}function W_e(e,t,n){let i=e[0],r=P_e[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(e,t,n)}function NL(e){if(!e)return"";let t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return NL(e.getGeometries()[0]);default:return""}}var dg,gs,Hn,$s,Ka,wf,Cb,zR,OL,A_e,Er,PL,Pe,P_e,BL=Oe(()=>{"use strict";Vr();bc();wd();dg=0,gs=1<<dg++,Hn=1<<dg++,$s=1<<dg++,Ka=1<<dg++,wf=1<<dg++,Cb=1<<dg++,zR=Math.pow(2,dg)-1,OL={[gs]:"boolean",[Hn]:"number",[$s]:"string",[Ka]:"color",[wf]:"number[]",[Cb]:"size"},A_e=Object.keys(OL).map(Number).sort(Ca);Er=class{constructor(t,n){if(!k_e(t))throw new Error(`literal expressions must have a specific type, got ${wb(t)}`);this.type=t,this.value=n}},PL=class{constructor(t,n,...i){this.type=t,this.operator=n,this.args=i}};Pe={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},P_e={[Pe.Get]:nn(yn(1,1/0),DK),[Pe.Var]:nn(yn(1,1),O_e),[Pe.Has]:nn(yn(1,1/0),DK),[Pe.Id]:nn(L_e,gv),[Pe.Concat]:nn(yn(2,1/0),si($s)),[Pe.GeometryType]:nn(N_e,gv),[Pe.LineMetric]:nn(gv),[Pe.Resolution]:nn(kL,gv),[Pe.Zoom]:nn(kL,gv),[Pe.Time]:nn(kL,gv),[Pe.Any]:nn(yn(2,1/0),si(gs)),[Pe.All]:nn(yn(2,1/0),si(gs)),[Pe.Not]:nn(yn(1,1),si(gs)),[Pe.Equal]:nn(yn(2,2),si(zR)),[Pe.NotEqual]:nn(yn(2,2),si(zR)),[Pe.GreaterThan]:nn(yn(2,2),si(Hn)),[Pe.GreaterThanOrEqualTo]:nn(yn(2,2),si(Hn)),[Pe.LessThan]:nn(yn(2,2),si(Hn)),[Pe.LessThanOrEqualTo]:nn(yn(2,2),si(Hn)),[Pe.Multiply]:nn(yn(2,1/0),RK),[Pe.Coalesce]:nn(yn(2,1/0),RK),[Pe.Divide]:nn(yn(2,2),si(Hn)),[Pe.Add]:nn(yn(2,1/0),si(Hn)),[Pe.Subtract]:nn(yn(2,2),si(Hn)),[Pe.Clamp]:nn(yn(3,3),si(Hn)),[Pe.Mod]:nn(yn(2,2),si(Hn)),[Pe.Pow]:nn(yn(2,2),si(Hn)),[Pe.Abs]:nn(yn(1,1),si(Hn)),[Pe.Floor]:nn(yn(1,1),si(Hn)),[Pe.Ceil]:nn(yn(1,1),si(Hn)),[Pe.Round]:nn(yn(1,1),si(Hn)),[Pe.Sin]:nn(yn(1,1),si(Hn)),[Pe.Cos]:nn(yn(1,1),si(Hn)),[Pe.Atan]:nn(yn(1,2),si(Hn)),[Pe.Sqrt]:nn(yn(1,1),si(Hn)),[Pe.Match]:nn(yn(4,1/0),TK,V_e),[Pe.Between]:nn(yn(3,3),si(Hn)),[Pe.Interpolate]:nn(yn(6,1/0),TK,H_e),[Pe.Case]:nn(yn(3,1/0),B_e,G_e),[Pe.In]:nn(yn(2,2),z_e),[Pe.Number]:nn(yn(1,1/0),si(zR)),[Pe.String]:nn(yn(1,1/0),si(zR)),[Pe.Array]:nn(yn(1,1/0),si(Hn)),[Pe.Color]:nn(yn(1,4),si(Hn)),[Pe.Band]:nn(yn(1,3),si(Hn)),[Pe.Palette]:nn(yn(2,2),U_e),[Pe.ToString]:nn(yn(1,1),si(gs|Hn|$s|Ka))}});function VL(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function yd(e,t,n){let i=Do(e,t,n);return _c(i,n)}function _c(e,t){if(e instanceof Er){if(e.type===Ka&&typeof e.value=="string"){let i=mb(e.value);return function(){return i}}return function(){return e.value}}let n=e.operator;switch(n){case Pe.Number:case Pe.String:case Pe.Coalesce:return j_e(e,t);case Pe.Get:case Pe.Var:case Pe.Has:return $_e(e,t);case Pe.Id:return i=>i.featureId;case Pe.GeometryType:return i=>i.geometryType;case Pe.Concat:{let i=e.args.map(r=>_c(r,t));return r=>"".concat(...i.map(o=>o(r).toString()))}case Pe.Resolution:return i=>i.resolution;case Pe.Any:case Pe.All:case Pe.Between:case Pe.In:case Pe.Not:return K_e(e,t);case Pe.Equal:case Pe.NotEqual:case Pe.LessThan:case Pe.LessThanOrEqualTo:case Pe.GreaterThan:case Pe.GreaterThanOrEqualTo:return q_e(e,t);case Pe.Multiply:case Pe.Divide:case Pe.Add:case Pe.Subtract:case Pe.Clamp:case Pe.Mod:case Pe.Pow:case Pe.Abs:case Pe.Floor:case Pe.Ceil:case Pe.Round:case Pe.Sin:case Pe.Cos:case Pe.Atan:case Pe.Sqrt:return X_e(e,t);case Pe.Case:return Y_e(e,t);case Pe.Match:return Z_e(e,t);case Pe.Interpolate:return Q_e(e,t);case Pe.ToString:return J_e(e,t);default:throw new Error(`Unsupported operator ${n}`)}}function j_e(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=_c(e.args[o],t);switch(n){case Pe.Coalesce:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case Pe.Number:case Pe.String:return o=>{for(let s=0;s<i;++s){let a=r[s](o);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function $_e(e,t){let i=e.args[0].value;switch(e.operator){case Pe.Get:return r=>{let o=e.args,s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let d=o[a].value;s=s[d]}return s};case Pe.Var:return r=>r.variables[i];case Pe.Has:return r=>{let o=e.args;if(!(i in r.properties))return!1;let s=r.properties[i];for(let a=1,l=o.length;a<l;++a){let d=o[a].value;if(!s||!Object.hasOwn(s,d))return!1;s=s[d]}return!0};default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function q_e(e,t){let n=e.operator,i=_c(e.args[0],t),r=_c(e.args[1],t);switch(n){case Pe.Equal:return o=>i(o)===r(o);case Pe.NotEqual:return o=>i(o)!==r(o);case Pe.LessThan:return o=>i(o)<r(o);case Pe.LessThanOrEqualTo:return o=>i(o)<=r(o);case Pe.GreaterThan:return o=>i(o)>r(o);case Pe.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function K_e(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=_c(e.args[o],t);switch(n){case Pe.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case Pe.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case Pe.Between:return o=>{let s=r[0](o),a=r[1](o),l=r[2](o);return s>=a&&s<=l};case Pe.In:return o=>{let s=r[0](o);for(let a=1;a<i;++a)if(s===r[a](o))return!0;return!1};case Pe.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function X_e(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=_c(e.args[o],t);switch(n){case Pe.Multiply:return o=>{let s=1;for(let a=0;a<i;++a)s*=r[a](o);return s};case Pe.Divide:return o=>r[0](o)/r[1](o);case Pe.Add:return o=>{let s=0;for(let a=0;a<i;++a)s+=r[a](o);return s};case Pe.Subtract:return o=>r[0](o)-r[1](o);case Pe.Clamp:return o=>{let s=r[0](o),a=r[1](o);if(s<a)return a;let l=r[2](o);return s>l?l:s};case Pe.Mod:return o=>r[0](o)%r[1](o);case Pe.Pow:return o=>Math.pow(r[0](o),r[1](o));case Pe.Abs:return o=>Math.abs(r[0](o));case Pe.Floor:return o=>Math.floor(r[0](o));case Pe.Ceil:return o=>Math.ceil(r[0](o));case Pe.Round:return o=>Math.round(r[0](o));case Pe.Sin:return o=>Math.sin(r[0](o));case Pe.Cos:return o=>Math.cos(r[0](o));case Pe.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case Pe.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function Y_e(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=_c(e.args[r],t);return r=>{for(let o=0;o<n-1;o+=2)if(i[o](r))return i[o+1](r);return i[n-1](r)}}function Z_e(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=_c(e.args[r],t);return r=>{let o=i[0](r);for(let s=1;s<n-1;s+=2)if(o===i[s](r))return i[s+1](r);return i[n-1](r)}}function Q_e(e,t){let n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=_c(e.args[r],t);return r=>{let o=i[0](r),s=i[1](r),a,l;for(let c=2;c<n;c+=2){let d=i[c](r),h=i[c+1](r),f=Array.isArray(h);if(f&&(h=xK(h)),d>=s)return c===2?h:f?exe(o,s,a,l,d,h):bb(o,s,a,l,d,h);a=d,l=h}return l}}function J_e(e,t){let n=e.operator,i=e.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=_c(e.args[o],t);switch(n){case Pe.ToString:return o=>{let s=r[0](o);return e.args[0].type===Ka?vb(s):s.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function bb(e,t,n,i,r,o){let s=r-n;if(s===0)return i;let a=t-n,l=e===1?a/s:(Math.pow(e,a)-1)/(Math.pow(e,s)-1);return i+l*(o-i)}function exe(e,t,n,i,r,o){if(r-n===0)return i;let a=FL(i),l=FL(o),c=l[2]-a[2];c>180?c-=360:c<-180&&(c+=360);let d=[bb(e,t,n,a[0],r,l[0]),bb(e,t,n,a[1],r,l[1]),a[2]+bb(e,t,n,0,r,c),bb(e,t,n,i[3],r,o[3])];return SK(d)}var IK=Oe(()=>{"use strict";bc();BL()});var Xt,Hu=Oe(()=>{"use strict";Xt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}});function MK(e,t,n){let i=e,r=!0,o=!1,s=!1,a=[$0(i,yt.LOAD,function(){s=!0,o||t()})];return i.src&&vO?(o=!0,i.decode().then(function(){r&&t()}).catch(function(l){r&&(s?t():n())})):a.push($0(i,yt.ERROR,n)),function(){r=!1,a.forEach(On)}}function txe(e,t){return new Promise((n,i)=>{function r(){s(),n(e)}function o(){s(),i(new Error("Image load error"))}function s(){e.removeEventListener("load",r),e.removeEventListener("error",o)}e.addEventListener("load",r),e.addEventListener("error",o),t&&(e.src=t)})}function FK(e,t){return t&&(e.src=t),e.src&&vO?new Promise((n,i)=>e.decode().then(()=>n(e)).catch(r=>e.complete&&e.width?n(e):i(r))):txe(e)}var HL=Oe(()=>{"use strict";dr();va();rg()});function GL(e,t,n){let i=n?yc(n):"null";return t+":"+e+":"+i}var zL,ms,_b=Oe(()=>{"use strict";Hu();bc();Eo();zL=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(let n in this.cache_){let i=this.cache_[n];(t++&3)===0&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,i){let r=GL(t,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,i){let r=GL(t,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,i,r,o){let s=GL(t,n,i),a=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===Xt.IDLE&&r.load(),r.getImageState()===Xt.LOADING?r.ready().then(()=>{this.patternCache_[s]=sv().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=sv().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}};ms=new zL});function mv(e,t,n,i,r,o){let s=t===void 0?void 0:ms.get(t,n,r);return s||(s=new UR(e,e&&"src"in e?e.src||void 0:t,n,i,r),ms.set(t,n,r,s,o)),o&&s&&!ms.getPattern(t,n,r)&&ms.set(t,n,r,s,o),s}var xb,UR,AK,Sb=Oe(()=>{"use strict";HL();Hu();bc();Eo();dr();Qy();_b();xb=null,UR=class extends lf{constructor(t,n,i,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?Xt.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Xt.LOADED){xb||(xb=ui(1,1,void 0,{willReadFrequently:!0})),xb.drawImage(this.image_,0,0);try{xb.getImageData(0,0,1,1),this.tainted_=!1}catch{xb=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(yt.CHANGE)}handleImageError_(){this.imageState_=Xt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Xt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let t=this.size_[0],n=this.size_[1],i=ui(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Xt.IDLE){this.image_||this.initializeImage_(),this.imageState_=Xt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&FK(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Xt.LOADED)return;let n=this.image_,i=ui(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=i.canvas;i.scale(t,t),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=_K(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Xt.LOADED||this.imageState_===Xt.ERROR)t();else{let n=()=>{(this.imageState_===Xt.LOADED||this.imageState_===Xt.ERROR)&&(this.removeEventListener(yt.CHANGE,n),t())};this.addEventListener(yt.CHANGE,n)}})),this.ready_}};AK=UR});function ba(e){return e?Array.isArray(e)?vb(e):typeof e=="object"&&"src"in e?nxe(e):e:null}function nxe(e){if(!e.offset||!e.size)return ms.getPattern(e.src,"anonymous",e.color);let t=e.src+":"+e.offset,n=ms.getPattern(t,void 0,e.color);if(n)return n;let i=ms.get(e.src,"anonymous",null);if(i.getImageState()!==Xt.LOADED)return null;let r=ui(e.size[0],e.size[1]);return r.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),mv(r.canvas,t,void 0,Xt.LOADED,e.color,!0),ms.getPattern(t,void 0,e.color)}var Eb=Oe(()=>{"use strict";Hu();bc();Eo();Sb();_b()});function PK(e,t){return vv||(vv=ui(1,1)),e!=UL&&(vv.font=e,UL=vv.font),vv.measureText(t)}function WR(e,t){return PK(e,t).width}function jL(e,t,n){if(t in n)return n[t];let i=t.split(`
`).reduce((r,o)=>Math.max(r,WR(e,o)),0);return n[t]=i,i}function OK(e,t){let n=[],i=[],r=[],o=0,s=0,a=0,l=0;for(let c=0,d=t.length;c<=d;c+=2){let h=t[c];if(h===`
`||c===d){o=Math.max(o,s),r.push(s),s=0,a+=l,l=0;continue}let f=t[c+1]||e.font,g=WR(f,h);n.push(g),s+=g;let m=ixe(f);i.push(m),l=Math.max(l,m)}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}function LK(e,t,n,i,r,o,s,a,l,c,d){e.save(),n!==1&&(e.globalAlpha===void 0?e.globalAlpha=h=>h.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,c),e.scale(d[0],d[1]),rxe(i,e)):d[0]<0||d[1]<0?(e.translate(l,c),e.scale(d[0],d[1]),e.drawImage(i,r,o,s,a,0,0,s,a)):e.drawImage(i,r,o,s,a,l,c,s*d[0],a*d[1]),e.restore()}function rxe(e,t){let n=e.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}var jR,co,_d,_a,xa,xd,Gu,zu,yf,ug,Uu,Wu,bd,vv,UL,WL,kK,ixe,ju=Oe(()=>{"use strict";Il();df();Eo();rg();mc();jR="10px sans-serif",co="#000",_d="round",_a=[],xa=0,xd="round",Gu=10,zu="#000",yf="center",ug="middle",Uu=[0,0,0,0],Wu=1,bd=new _r,vv=null,WL={},kK=function(){let t="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function a(c,d,h){let f=!0;for(let g=0;g<i;++g){let m=n[g];if(s=WR(c+" "+d+" "+t+m,r),h!=m){let v=WR(c+" "+d+" "+t+h+","+m,r);f=f&&v!=s}}return!!f}function l(){let c=!0,d=bd.getKeys();for(let h=0,f=d.length;h<f;++h){let g=d[h];if(bd.get(g)<100){let[m,v,C]=g.split(`
`);a(m,v,C)?(hd(WL),vv=null,UL=void 0,bd.set(g,100)):(bd.set(g,bd.get(g)+1,!0),c=!1)}}c&&(clearInterval(o),o=void 0)}return function(c){let d=dO(c);if(!d)return;let h=d.families;for(let f=0,g=h.length;f<g;++f){let m=h[f],v=d.style+`
`+d.weight+`
`+m;bd.get(v)===void 0&&(bd.set(v,100,!0),a(d.style,d.weight,m)||(bd.set(v,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),ixe=function(){let e;return function(t){let n=WL[t];if(n==null){if(mR){let i=dO(t),r=PK(t,"\u017Dg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);WL[t]=n}return n}}()});var $L,$R,qL=Oe(()=>{"use strict";wd();er();$L=class e{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Sr(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return En()}getImage(t){return En()}getHitDetectionImage(){return En()}getPixelRatio(t){return 1}getImageState(){return En()}getImageSize(){return En()}getOrigin(){return En()}getSize(){return En()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Sr(t)}listenImageChange(t){En()}load(){En()}unlistenImageChange(t){En()}ready(){return Promise.resolve()}},$R=$L});var KL,qR,XL=Oe(()=>{"use strict";Hu();bc();Eb();Eo();ju();Sb();_b();qL();KL=class e extends $R{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Xt.LOADING:Xt.LOADED,this.imageState_===Xt.LOADING&&this.ready().then(()=>this.imageState_=Xt.LOADED),this.render()}clone(){let t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){let t=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-n[0]/i[0],t[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let n=this.fill_?.getKey(),i=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(","),r=ms.get(i,null,null)?.getImage(1);if(!r){let o=this.renderOptions_,s=Math.ceil(o.size*t),a=ui(s,s);this.draw_(o,a,t),r=a.canvas,ms.set(i,null,null,new AK(r,void 0,null,Xt.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){let F=r;r=o,o=F}let s=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/s,l=o*Math.sin(a),c=Math.sqrt(o*o-l*l),d=r-c,h=Math.sqrt(l*l+d*d),f=h/l;if(t==="miter"&&f<=i)return f*n;let g=n/2/f,m=n/2*(d/h),C=Math.sqrt((r+g)*(r+g)+m*m)-r;if(this.radius2_===void 0||t==="bevel")return C*2;let y=r*Math.sin(a),x=Math.sqrt(r*r-y*y),_=o-x,I=Math.sqrt(y*y+_*_)/y;if(I<=i){let F=I*n/2-o-r;return 2*Math.max(C,F)}return C*2}createRenderOptions(){let t=_d,n=xd,i=0,r=null,o=0,s,a=0;this.stroke_&&(s=ba(this.stroke_.getColor()??zu),a=this.stroke_.getWidth()??Wu,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??xd,t=this.stroke_.getLineCap()??_d,i=this.stroke_.getMiterLimit()??Gu);let l=this.calculateLineJoinSize_(n,a,i),c=Math.max(this.radius,this.radius2_||0),d=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:a,size:d,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=co),n.fillStyle=ba(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=yc(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=ui(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_,i=this.radius;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let a=0;a<n;a++){let l=o+a*s,c=a%2===0?i:r;t.lineTo(c*Math.cos(l),c*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=co,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},qR=KL});var YL,hg,KR=Oe(()=>{"use strict";XL();YL=class e extends qR{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){let t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}},hg=YL});var ZL,qs,Cv=Oe(()=>{"use strict";Hu();bc();er();Sb();ZL=class e{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){let t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){let n=mv(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Xt.IDLE&&n.load(),n.getImageState()===Xt.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){let t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?Wt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:yc(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},qs=ZL});var BK={};Eh(BK,{default:()=>xc});function NK(e,t,n,i){return n!==void 0&&i!==void 0?[n/e,i/t]:n!==void 0?n/e:i!==void 0?i/t:1}var QL,xc,Db=Oe(()=>{"use strict";Hu();wa();bc();dr();er();Sb();qL();QL=class e extends $R{constructor(t){t=t||{};let n=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;let s=t.img!==void 0?t.img:null,a=t.src;fn(!(a!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&s&&(a=s.src||Wt(s)),fn(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),fn(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(t.src!==void 0?l=Xt.IDLE:s!==void 0&&("complete"in s?s.complete?l=s.src?Xt.LOADED:Xt.IDLE:l=Xt.LOADING:l=Xt.LOADED),this.color_=t.color!==void 0?yc(t.color):null,this.iconImage_=mv(s,a,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let c,d;if(t.size)[c,d]=t.size;else{let h=this.getImage(1);if(h.width&&h.height)c=h.width,d=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=t;let f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;let g=this.iconImage_.getSize();this.setScale(NK(g[0],g[1],t.width,t.height))};this.listenImageChange(f);return}}c!==void 0&&this.setScale(NK(c,d,t.width,t.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}let n=this.getDisplacement(),i=this.getScaleArray();return[t[0]-n[0]/i[0],t[1]+n[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){let n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Xt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){let t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Xt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(yt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(yt.CHANGE,t)}ready(){return this.iconImage_.ready()}},xc=QL});var JL,Sa,Rb=Oe(()=>{"use strict";JL=class e{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){let t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}},Sa=JL});var HK={};Eh(HK,{createDefaultStyle:()=>XR,createEditingStyle:()=>oxe,default:()=>Ea,toFunction:()=>tN});function tN(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(fn(typeof e.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}function XR(e,t){if(!eN){let n=new qs({color:"rgba(255,255,255,0.4)"}),i=new Sa({color:"#3399CC",width:1.25});eN=[new bf({image:new hg({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return eN}function oxe(){let e={},t=[255,255,255,1],n=[0,153,255,1],i=3;return e.Polygon=[new bf({fill:new qs({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new bf({stroke:new Sa({color:t,width:i+2})}),new bf({stroke:new Sa({color:n,width:i})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new bf({image:new hg({radius:i*2,fill:new qs({color:n}),stroke:new Sa({color:t,width:i/2})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function VK(e){return e.getGeometry()}var bf,eN,Ea,wv=Oe(()=>{"use strict";wa();KR();Cv();Rb();bf=class e{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=VK,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new e({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=VK,this.geometry_=t}setZIndex(t){this.zIndex_=t}};eN=null;Ea=bf});var sxe,nN,_f,YR=Oe(()=>{"use strict";wd();Cv();sxe="#333",nN=class e{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Sr(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new qs({color:sxe}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){let t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Sr(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}},_f=nN});function axe(e){return!0}function WK(e){let t=LL(),n=lxe(e,t),i=VL();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,t.featureId){let s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return t.geometryType&&(i.geometryType=NL(r.getGeometry())),n(i)}}function oN(e){let t=LL(),n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=iN(e[s],t);let r=VL(),o=new Array(n);return function(s,a){if(r.properties=s.getPropertiesInternal(),r.resolution=a,t.featureId){let c=s.getId();c!==void 0?r.featureId=c:r.featureId=null}let l=0;for(let c=0;c<n;++c){let d=i[c](r);d&&(o[l]=d,l+=1)}return o.length=l,o}}function lxe(e,t){let n=e.length,i=new Array(n);for(let r=0;r<n;++r){let o=e[r],s="filter"in o?yd(o.filter,gs,t):axe,a;if(Array.isArray(o.style)){let l=o.style.length;a=new Array(l);for(let c=0;c<l;++c)a[c]=iN(o.style[c],t)}else a=[iN(o.style,t)];i[r]={filter:s,styles:a}}return function(r){let o=[],s=!1;for(let a=0;a<n;++a){let l=i[a].filter;if(l(r)&&!(e[a].else&&s)){s=!0;for(let c of i[a].styles){let d=c(r);d&&o.push(d)}}}return o}}function iN(e,t){let n=Tb(e,"",t),i=Ib(e,"",t),r=cxe(e,t),o=dxe(e,t),s=Da(e,"z-index",t);if(!n&&!i&&!r&&!o&&!gc(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));let a=new Ea;return function(l){let c=!0;if(n){let d=n(l);d&&(c=!1),a.setFill(d)}if(i){let d=i(l);d&&(c=!1),a.setStroke(d)}if(r){let d=r(l);d&&(c=!1),a.setText(d)}if(o){let d=o(l);d&&(c=!1),a.setImage(d)}return s&&a.setZIndex(s(l)),c?null:a}}function Tb(e,t,n){let i;if(t+"fill-pattern-src"in e)i=pxe(e,t+"fill-",n);else{if(e[t+"fill-color"]==="none")return o=>null;i=sN(e,t+"fill-color",n)}if(!i)return null;let r=new qs;return function(o){let s=i(o);return s===GR?null:(r.setColor(s),r)}}function Ib(e,t,n){let i=Da(e,t+"stroke-width",n),r=sN(e,t+"stroke-color",n);if(!i&&!r)return null;let o=$u(e,t+"stroke-line-cap",n),s=$u(e,t+"stroke-line-join",n),a=jK(e,t+"stroke-line-dash",n),l=Da(e,t+"stroke-line-dash-offset",n),c=Da(e,t+"stroke-miter-limit",n),d=new Sa;return function(h){if(r){let f=r(h);if(f===GR)return null;d.setColor(f)}if(i&&d.setWidth(i(h)),o){let f=o(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");d.setLineCap(f)}if(s){let f=s(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");d.setLineJoin(f)}return a&&d.setLineDash(a(h)),l&&d.setLineDashOffset(l(h)),c&&d.setMiterLimit(c(h)),d}}function cxe(e,t){let n="text-",i=$u(e,n+"value",t);if(!i)return null;let r=Tb(e,n,t),o=Tb(e,n+"background-",t),s=Ib(e,n,t),a=Ib(e,n+"background-",t),l=$u(e,n+"font",t),c=Da(e,n+"max-angle",t),d=Da(e,n+"offset-x",t),h=Da(e,n+"offset-y",t),f=yv(e,n+"overflow",t),g=$u(e,n+"placement",t),m=Da(e,n+"repeat",t),v=JR(e,n+"scale",t),C=yv(e,n+"rotate-with-view",t),y=Da(e,n+"rotation",t),x=$u(e,n+"align",t),_=$u(e,n+"justify",t),R=$u(e,n+"baseline",t),I=yv(e,n+"keep-upright",t),F=jK(e,n+"padding",t),T=eT(e,n+"declutter-mode"),P=new _f({declutterMode:T});return function(L){if(P.setText(i(L)),r&&P.setFill(r(L)),o&&P.setBackgroundFill(o(L)),s&&P.setStroke(s(L)),a&&P.setBackgroundStroke(a(L)),l&&P.setFont(l(L)),c&&P.setMaxAngle(c(L)),d&&P.setOffsetX(d(L)),h&&P.setOffsetY(h(L)),f&&P.setOverflow(f(L)),g){let U=g(L);if(U!=="point"&&U!=="line")throw new Error("Expected point or line for text-placement");P.setPlacement(U)}if(m&&P.setRepeat(m(L)),v&&P.setScale(v(L)),C&&P.setRotateWithView(C(L)),y&&P.setRotation(y(L)),x){let U=x(L);if(U!=="left"&&U!=="center"&&U!=="right"&&U!=="end"&&U!=="start")throw new Error("Expected left, right, center, start, or end for text-align");P.setTextAlign(U)}if(_){let U=_(L);if(U!=="left"&&U!=="right"&&U!=="center")throw new Error("Expected left, right, or center for text-justify");P.setJustify(U)}if(R){let U=R(L);if(U!=="bottom"&&U!=="top"&&U!=="middle"&&U!=="alphabetic"&&U!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");P.setTextBaseline(U)}return F&&P.setPadding(F(L)),I&&P.setKeepUpright(I(L)),P}}function dxe(e,t){return"icon-src"in e?uxe(e,t):"shape-points"in e?hxe(e,t):"circle-radius"in e?fxe(e,t):null}function uxe(e,t){let n="icon-",i=n+"src",r=$K(e[i],i),o=ZR(e,n+"anchor",t),s=JR(e,n+"scale",t),a=Da(e,n+"opacity",t),l=ZR(e,n+"displacement",t),c=Da(e,n+"rotation",t),d=yv(e,n+"rotate-with-view",t),h=zK(e,n+"anchor-origin"),f=UK(e,n+"anchor-x-units"),g=UK(e,n+"anchor-y-units"),m=Cxe(e,n+"color"),v=mxe(e,n+"cross-origin"),C=vxe(e,n+"offset"),y=zK(e,n+"offset-origin"),x=QR(e,n+"width"),_=QR(e,n+"height"),R=gxe(e,n+"size"),I=eT(e,n+"declutter-mode"),F=new xc({src:r,anchorOrigin:h,anchorXUnits:f,anchorYUnits:g,color:m,crossOrigin:v,offset:C,offsetOrigin:y,height:_,width:x,size:R,declutterMode:I});return function(T){return a&&F.setOpacity(a(T)),l&&F.setDisplacement(l(T)),c&&F.setRotation(c(T)),d&&F.setRotateWithView(d(T)),s&&F.setScale(s(T)),o&&F.setAnchor(o(T)),F}}function hxe(e,t){let n="shape-",i=n+"points",r=n+"radius",o=rN(e[i],i),s=rN(e[r],r),a=Tb(e,n,t),l=Ib(e,n,t),c=JR(e,n+"scale",t),d=ZR(e,n+"displacement",t),h=Da(e,n+"rotation",t),f=yv(e,n+"rotate-with-view",t),g=QR(e,n+"radius2"),m=QR(e,n+"angle"),v=eT(e,n+"declutter-mode"),C=new qR({points:o,radius:s,radius2:g,angle:m,declutterMode:v});return function(y){return a&&C.setFill(a(y)),l&&C.setStroke(l(y)),d&&C.setDisplacement(d(y)),h&&C.setRotation(h(y)),f&&C.setRotateWithView(f(y)),c&&C.setScale(c(y)),C}}function fxe(e,t){let n="circle-",i=Tb(e,n,t),r=Ib(e,n,t),o=Da(e,n+"radius",t),s=JR(e,n+"scale",t),a=ZR(e,n+"displacement",t),l=Da(e,n+"rotation",t),c=yv(e,n+"rotate-with-view",t),d=eT(e,n+"declutter-mode"),h=new hg({radius:5,declutterMode:d});return function(f){return o&&h.setRadius(o(f)),i&&h.setFill(i(f)),r&&h.setStroke(r(f)),a&&h.setDisplacement(a(f)),l&&h.setRotation(l(f)),c&&h.setRotateWithView(c(f)),s&&h.setScale(s(f)),h}}function Da(e,t,n){if(!(t in e))return;let i=yd(e[t],Hn,n);return function(r){return rN(i(r),t)}}function $u(e,t,n){if(!(t in e))return null;let i=yd(e[t],$s,n);return function(r){return $K(i(r),t)}}function pxe(e,t,n){let i=$u(e,t+"pattern-src",n),r=GK(e,t+"pattern-offset",n),o=GK(e,t+"pattern-size",n),s=sN(e,t+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:o&&o(a),color:s&&s(a)}}}function yv(e,t,n){if(!(t in e))return null;let i=yd(e[t],gs,n);return function(r){let o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function sN(e,t,n){if(!(t in e))return null;let i=yd(e[t],Ka,n);return function(r){return qK(i(r),t)}}function jK(e,t,n){if(!(t in e))return null;let i=yd(e[t],wf,n);return function(r){return Mb(i(r),t)}}function ZR(e,t,n){if(!(t in e))return null;let i=yd(e[t],wf,n);return function(r){let o=Mb(i(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function GK(e,t,n){if(!(t in e))return null;let i=yd(e[t],wf,n);return function(r){return KK(i(r),t)}}function JR(e,t,n){if(!(t in e))return null;let i=yd(e[t],wf|Hn,n);return function(r){return wxe(i(r),t)}}function QR(e,t){let n=e[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function gxe(e,t){let n=e[t];if(n!==void 0){if(typeof n=="number")return Sr(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function mxe(e,t){let n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function zK(e,t){let n=e[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function UK(e,t){let n=e[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function vxe(e,t){let n=e[t];if(n!==void 0)return Mb(n,t)}function eT(e,t){let n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function Cxe(e,t){let n=e[t];if(n!==void 0)return qK(n,t)}function Mb(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);let n=e.length;for(let i=0;i<n;++i)if(typeof e[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return e}function $K(e,t){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}function rN(e,t){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}function qK(e,t){if(typeof e=="string")return e;let n=Mb(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function KK(e,t){let n=Mb(e,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function wxe(e,t){return typeof e=="number"?e:KK(e,t)}var XK=Oe(()=>{"use strict";bc();IK();BL();mc();wd();KR();Cv();Db();XL();Rb();wv();YR()});function yxe(e){if(e===void 0)return XR;if(!e)return null;if(typeof e=="function"||e instanceof Ea)return e;if(!Array.isArray(e))return oN([e]);if(e.length===0)return[];let t=e.length,n=e[0];if(n instanceof Ea){let r=new Array(t);for(let o=0;o<t;++o){let s=e[o];if(!(s instanceof Ea))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in n){let r=new Array(t);for(let o=0;o<t;++o){let s=e[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return WK(r)}return oN(e)}var YK,aN,tT,lN=Oe(()=>{"use strict";SL();XK();wv();uv();YK={RENDER_ORDER:"renderOrder"},aN=class extends cg{constructor(t){t=t||{};let n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(YK.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){let i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new pv(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(YK.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?XR:t;let n=yxe(t);this.styleFunction_=t===null?void 0:tN(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}};tT=aN});var cN,nT,dN=Oe(()=>{"use strict";pd();cN=class extends _o{constructor(t,n,i,r){super(t),this.inversePixelTransform=n,this.frameState=i,this.context=r}},nT=cN});var xN,cT,SN=Oe(()=>{"use strict";Eo();xN=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(sv(),{get:(t,n)=>{if(typeof sv()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,i)=>(this.push_(n,i),!0)})}push_(...t){let n=this.instructions_,i=this.zIndex+this.offset_;n[i]||(n[i]=[]),n[i].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){let o=n[i];if(typeof o=="function"){o(t);continue}let s=n[++i];if(typeof t[o]=="function")t[o](...s);else{if(typeof s=="function"){t[o]=s(t);continue}t[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},cT=xN});var Ixe,EN,uX,hX=Oe(()=>{"use strict";Hu();rO();dr();er();Ixe=5,EN=class extends uR{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=Ixe}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return En()}getData(t){return null}prepareFrame(t){return En()}renderFrame(t,n){return En()}forEachFeatureAtCoordinate(t,n,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){let n=t.target;(n.getState()===Xt.LOADED||n.getState()===Xt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Xt.LOADED&&n!=Xt.ERROR&&t.addEventListener(yt.CHANGE,this.boundHandleImageChange_),n==Xt.IDLE&&(t.load(),n=t.getState()),n==Xt.LOADED}renderIfReadyAndVisible(){let t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}},uX=EN});function Mxe(){xv=ui(1,1,void 0,{willReadFrequently:!0})}var RN,xv,DN,dT,TN=Oe(()=>{"use strict";Vr();bc();Eo();Vn();dN();dv();SN();Cc();hX();RN=[],xv=null;DN=class extends uX{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=So(),this.pixelTransform=So(),this.inversePixelTransform=So(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,i){xv||Mxe(),xv.clearRect(0,0,1,1);let r;try{xv.drawImage(t,n,i,1,1,0,0,1,1),r=xv.getImageData(0,0,1,1).data}catch{return xv=null,null}return r}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,n,i){let r=this.getLayer().getClassName(),o,s;if(t&&t.className===r&&(!i||t&&t.style.backgroundColor&&fs(yc(t.style.backgroundColor),yc(i)))){let a=t.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&gq(s.canvas.style.transform,n)?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=ui();let l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,n,i){let r=xl(i),o=z0(i),s=G0(i),a=H0(i);ur(n.coordinateToPixelTransform,r),ur(n.coordinateToPixelTransform,o),ur(n.coordinateToPixelTransform,s),ur(n.coordinateToPixelTransform,a);let l=this.inversePixelTransform;ur(l,r),ur(l,o),ur(l,s),ur(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}prepareContainer(t,n){let i=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,s=t.pixelRatio,a=Math.round(hn(i)/r*s),l=Math.round(Qi(i)/r*s);jo(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,o,-a/2,-l/2),wR(this.inversePixelTransform,this.pixelTransform);let c=pq(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(t)),!this.containerReused){let d=this.context.canvas;d.width!=a||d.height!=l?(d.width=a,d.height=l):this.context.clearRect(0,0,a,l),c!==d.style.transform&&(d.style.transform=c)}}dispatchRenderEvent_(t,n,i){let r=this.getLayer();if(r.hasListener(t)){let o=new nT(t,this.inversePixelTransform,i,n);r.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_($o.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_($o.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new cT),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_($o.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_($o.POSTRENDER,this.context,t))}getRenderTransform(t,n,i,r,o,s,a){let l=o/2,c=s/2,d=r/n,h=-d,f=-t[0]+a,g=-t[1];return jo(this.tempTransform,l,c,d,h,-i,f,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}},dT=DN});function _X(e){return e?typeof e=="function"?e:(Array.isArray(e)||(e=[e]),t=>e):null}var LN,pT,NN=Oe(()=>{"use strict";Il();br();LN=class extends _r{constructor(t){super(),this.projection=Fi(t.projection),this.attributions_=_X(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;let n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=_X(t),this.changed()}setState(t){this.state_=t,this.changed()}};pT=LN});var TX={};Eh(TX,{createStyleFunction:()=>RX,default:()=>Sf});function RX(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(fn(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}var UN,Sf,vT=Oe(()=>{"use strict";Il();wa();dr();va();UN=class e extends _r{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){let n=t;this.setGeometry(n)}else{let n=t;this.setProperties(n)}}clone(){let t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());let n=this.getGeometry();n&&t.setGeometry(n.clone());let i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(On(this.geometryChangeKey_),this.geometryChangeKey_=null);let t=this.getGeometry();t&&(this.geometryChangeKey_=tn(t,yt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?RX(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};Sf=UN});function WN(e,t,n,i,r,o,s){let a,l,c=(n-t)/i;if(c===1)a=t;else if(c===2)a=t,l=r;else if(c!==0){let d=e[t],h=e[t+1],f=0,g=[0];for(let C=t+i;C<n;C+=i){let y=e[C],x=e[C+1];f+=Math.sqrt((y-d)*(y-d)+(x-h)*(x-h)),g.push(f),d=y,h=x}let m=r*f,v=U$(g,m);v<0?(l=(m-g[-v-2])/(g[-v-1]-g[-v-2]),a=t+(-v-2)*i):a=t+v*i}s=s>1?s:2,o=o||new Array(s);for(let d=0;d<s;++d)o[d]=a===void 0?NaN:l===void 0?e[a+d]:us(e[a+d],e[a+i+d],l);return o}var IX=Oe(()=>{"use strict";Vr();Ji()});function MX(e,t,n,i){let r=e[t],o=e[t+1],s=0;for(let a=t+i;a<n;a+=i){let l=e[a],c=e[a+1];s+=Math.sqrt((l-r)*(l-r)+(c-o)*(c-o)),r=l,o=c}return s}var FX=Oe(()=>{"use strict"});var jN,CT,$N=Oe(()=>{"use strict";jN=class{drawCustom(t,n,i,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,i){}drawFeature(t,n,i){}drawGeometryCollection(t,n,i){}drawLineString(t,n,i){}drawMultiLineString(t,n,i){}drawMultiPoint(t,n,i){}drawMultiPolygon(t,n,i){}drawPoint(t,n,i){}drawPolygon(t,n,i){}drawText(t,n,i){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}},CT=jN});var qN,AX,kX=Oe(()=>{"use strict";Vr();Eb();Vn();ib();ff();Ji();Cc();$N();ju();qN=class extends CT{constructor(t,n,i,r,o,s,a){super(),this.context_=t,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?U0(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=So()}drawImages_(t,n,i,r){if(!this.image_)return;let o=ya(t,n,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let d=0,h=o.length;d<h;d+=2){let f=o[d]-this.imageAnchorX_,g=o[d+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let m=f+this.imageAnchorX_,v=g+this.imageAnchorY_;jo(a,m,v,1,1,c,-m,-v),s.save(),s.transform.apply(s,a),s.translate(m,v),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(t,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=ya(t,n,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=r){let l=o[n]+this.textOffsetX_,c=o[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(t,n,i,r,o){let s=this.context_,a=ya(t,n,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let l=a.length;o&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(a[c],a[c+1]);return o&&s.closePath(),i}drawRings_(t,n,i,r){for(let o=0,s=i.length;o<s;++o)n=this.moveToLineTo_(t,n,i[o],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=_q(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break;default:}}drawFeature(t,n){let i=n.getGeometryFunction()(t);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(t){let n=t.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){let n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let n=t.getExtent();if(cr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=t.getFlatCoordinates(),o=0,s=t.getEnds(),a=t.getStride();i.beginPath();for(let l=0,c=s.length;l<c;++l)o=this.moveToLineTo_(r,o,s[l],a,!1);i.stroke()}if(this.text_!==""){let i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!cr(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let n=this.context_,i=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),s=t.getStride();n.beginPath();for(let a=0,l=o.length;a<l;++a){let c=o[a];r=this.drawRings_(i,r,c,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){let n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){let n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){let n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),fs(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){let n=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:yf;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{let i=t.getColor();this.fillState_={fillStyle:ba(i||co)}}if(!n)this.strokeState_=null;else{let i=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),s=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),d=o||_a;this.strokeState_={lineCap:r!==void 0?r:_d,lineDash:this.pixelRatio_===1?d:d.map(h=>h*this.pixelRatio_),lineDashOffset:(s||xa)*this.pixelRatio_,lineJoin:a!==void 0?a:xd,lineWidth:(l!==void 0?l:Wu)*this.pixelRatio_,miterLimit:c!==void 0?c:Gu,strokeStyle:ba(i||zu)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}let i=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();let s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(t){if(!t)this.text_="";else{let n=t.getFill();if(!n)this.textFillState_=null;else{let g=n.getColor();this.textFillState_={fillStyle:ba(g||co)}}let i=t.getStroke();if(!i)this.textStrokeState_=null;else{let g=i.getColor(),m=i.getLineCap(),v=i.getLineDash(),C=i.getLineDashOffset(),y=i.getLineJoin(),x=i.getWidth(),_=i.getMiterLimit();this.textStrokeState_={lineCap:m!==void 0?m:_d,lineDash:v||_a,lineDashOffset:C||xa,lineJoin:y!==void 0?y:xd,lineWidth:x!==void 0?x:Wu,miterLimit:_!==void 0?_:Gu,strokeStyle:ba(g||zu)}}let r=t.getFont(),o=t.getOffsetX(),s=t.getOffsetY(),a=t.getRotateWithView(),l=t.getRotation(),c=t.getScaleArray(),d=t.getText(),h=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:r!==void 0?r:jR,textAlign:h!==void 0?h:yf,textBaseline:f!==void 0?f:ug},this.text_=d!==void 0?Array.isArray(d)?d.reduce((g,m,v)=>g+=v%2?" ":m,""):d:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}},AX=qN});function OX(e,t){return parseInt(Wt(e),10)-parseInt(Wt(t),10)}function KN(e,t){let n=XN(e,t);return n*n}function XN(e,t){return zxe*e/t}function Uxe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(o||s){let l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(o,s),l.drawCircle(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}}function YN(e,t,n,i,r,o,s,a){let l=[],c=n.getImage();if(c){let f=!0,g=c.getImageState();g==Xt.LOADED||g==Xt.ERROR?f=!1:g==Xt.IDLE&&c.load(),f&&l.push(c.ready())}let d=n.getFill();d&&d.loading()&&l.push(d.ready());let h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),Wxe(e,t,n,i,o,s,a),h}function Wxe(e,t,n,i,r,o,s){let a=n.getGeometryFunction()(t);if(!a)return;let l=a.simplifyTransformed(i,r);if(n.getRenderer())LX(e,l,n,t,s);else{let d=PX[l.getType()];d(e,l,n,t,s,o)}}function LX(e,t,n,i,r){if(t.getType()=="GeometryCollection"){let s=t.getGeometries();for(let a=0,l=s.length;a<l;++a)LX(e,s[a],n,i,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function jxe(e,t,n,i,r,o){let s=t.getGeometriesArray(),a,l;for(a=0,l=s.length;a<l;++a){let c=PX[s[a].getType()];c(e,s[a],n,i,r,o)}}function $xe(e,t,n,i,r){let o=n.getStroke();if(o){let a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawLineString(t,i,r)}let s=n.getText();if(s&&s.getText()){let a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(t,i,r)}}function qxe(e,t,n,i,r){let o=n.getStroke();if(o){let a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,i,r)}let s=n.getText();if(s&&s.getText()){let a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(s),a.drawText(t,i,r)}}function Kxe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(s||o){let l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawMultiPolygon(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}function Xxe(e,t,n,i,r,o){let s=n.getImage(),a=n.getText(),l=a&&a.getText(),c=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=Xt.LOADED)return;let d=e.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,c),d.drawPoint(t,i,r)}if(l){let d=e.getBuilder(n.getZIndex(),"Text");d.setTextStyle(a,c),d.drawText(t,i,r)}}function Yxe(e,t,n,i,r,o){let s=n.getImage(),a=s&&s.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),d=o&&a&&c?{}:void 0;if(a){if(s.getImageState()!=Xt.LOADED)return;let h=e.getBuilder(n.getZIndex(),"Image");h.setImageStyle(s,d),h.drawMultiPoint(t,i,r)}if(c){let h=e.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,d),h.drawText(t,i,r)}}function Zxe(e,t,n,i,r){let o=n.getFill(),s=n.getStroke();if(o||s){let l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(o,s),l.drawPolygon(t,i,r)}let a=n.getText();if(a&&a.getText()){let l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}var zxe,PX,NX=Oe(()=>{"use strict";Hu();er();zxe=.5,PX={Point:Xxe,LineString:$xe,Polygon:Zxe,MultiPoint:Yxe,MultiLineString:qxe,MultiPolygon:Kxe,GeometryCollection:jxe,Circle:Uxe}});function Jxe(e,t,n,i,r,o,s){let a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(n,i,r):e,!0),t.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=Qxe,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){let c=t.getType();try{let d;c=="text"||c=="json"?d=a.responseText:c=="xml"?d=a.responseXML||a.responseText:c=="arraybuffer"&&(d=a.response),d?o(t.readFeatures(d,{extent:n,featureProjection:r}),t.readProjection(d)):s()}catch{s()}}else s()},a.onerror=s,a.send()}function ZN(e,t){return function(n,i,r,o,s){Jxe(e,t,n,i,r,(a,l)=>{this.addFeatures(a),o!==void 0&&o(a)},()=>{this.changed(),s!==void 0&&s()})}}var Qxe,BX=Oe(()=>{"use strict";Qxe=!1});function VX(e,t){return[[-1/0,-1/0,1/0,1/0]]}var HX=Oe(()=>{"use strict";br()});function GX(e,t,n,i){let r=[],o=Br();for(let s=0,a=n.length;s<a;++s){let l=n[s];o=V0(e,t,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return r}var zX=Oe(()=>{"use strict";Vn()});var QN=Oe(()=>{"use strict";SR()});var UX,kb,gg,WX=Oe(()=>{"use strict";Vr();Vn();Ws();zX();OO();IX();HO();ob();ff();br();Cc();UX=So(),kb=class e{constructor(t,n,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?qD(this.flatCoordinates_):V0(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let t=_l(this.getExtent());this.flatInteriorPoints_=sb(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let t=Gq(this.flatCoordinates_,this.ends_),n=GX(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=kq(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=WN(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let t=this.flatCoordinates_,n=0,i=this.ends_;for(let r=0,o=i.length;r<o;++r){let s=i[r],a=WN(t,n,s,2,.5);Q0(this.flatMidpoints_,a),n=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=Fi(t);let n=t.getExtent(),i=t.getWorldExtent();if(n&&i){let r=Qi(i)/Qi(n);jo(UX,i[0],i[3],r,-r,0,0,0),ya(this.flatCoordinates_,0,this.flatCoordinates_.length,2,UX,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new e(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=dR((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=rb(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=Iq(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,r);break;case"Polygon":r=[],i.length=xR(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new e(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}};kb.prototype.getFlatCoordinates=kb.prototype.getOrientedFlatCoordinates;gg=kb});var JN,e4,jX=Oe(()=>{"use strict";SL();Vn();mc();er();JN=class{constructor(t){this.rbush_=new pv(t),this.items_={}}insert(t,n){let i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(i),this.items_[Wt(n)]=i}load(t,n){let i=new Array(n.length);for(let r=0,o=n.length;r<o;r++){let s=t[r],a=n[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};i[r]=l,this.items_[Wt(a)]=l}this.rbush_.load(i)}remove(t){let n=Wt(t),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(t,n){let i=this.items_[Wt(n)],r=[i.minX,i.minY,i.maxX,i.maxY];Mu(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){let n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let i;for(let r=0,o=t.length;r<o;r++)if(i=n(t[r]),i)return i;return i}isEmpty(){return gc(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){let n=this.rbush_.toJSON();return $a(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(let n in t.items_)this.items_[n]=t.items_[n]}},e4=JN});var Xa,$X=Oe(()=>{"use strict";Xa={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}});var qX={};Eh(qX,{VectorSourceEvent:()=>Sc,default:()=>Ev});var Sc,t4,Ev,wT=Oe(()=>{"use strict";nv();tb();Y0();Vr();wa();pd();dr();va();Vn();BX();Ws();HX();mc();WX();jX();er();NN();$X();Sc=class extends _o{constructor(t,n,i){super(t),this.feature=n,this.features=i}},t4=class extends pT{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Bu,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(fn(this.format_,"`format` must be set when `url` is set"),this.loader_=ZN(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:VX;let n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new e4:null,this.loadedExtentsRtree_=new e4,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(t.features)?r=t.features:t.features&&(i=t.features,r=i.getArray()),!n&&i===void 0&&(i=new js(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){let n=Wt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);let i=t.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new Sc(Xa.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof gg||(this.featureChangeKeys_[t]=[tn(n,yt.CHANGE,this.handleFeatureChange_,this),tn(n,vc.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let i=!0;if(n.getId()!==void 0){let r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof gg){let o=this.idIndex_[r];o instanceof gg?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:i=!1}else i=!1}return i&&(fn(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){let n=[],i=[],r=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=Wt(a);this.addToIndex_(l,a)&&i.push(a)}for(let o=0,s=i.length;o<s;o++){let a=i[o],l=Wt(a);this.setupChangeEvents_(l,a);let c=a.getGeometry();if(c){let d=c.getExtent();n.push(d),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Xa.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new Sc(Xa.ADDFEATURE,i[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(Xa.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(Xa.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(xo.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),t.addEventListener(xo.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(On);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(let i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let n=new Sc(Xa.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){let i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(r){let o=r.getGeometry();if(o instanceof gg||o.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(i){let r=i.getGeometry();if(r instanceof gg||r.intersectsExtent(t)){let o=n(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),gc(this.nullGeometryFeatures_)||Q0(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){let n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);let r=XD(t,n);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){let i=t[0],r=t[1],o=null,s=[NaN,NaN],a=1/0,l=[-1/0,-1/0,1/0,1/0];return n=n||Lu,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){let d=c.getGeometry(),h=a;if(a=d instanceof gg?0:d.closestPointXY(i,r,s,a),a<h){o=c;let f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){let n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){let n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){let n=t.target,i=Wt(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{let s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}let o=n.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Sc(Xa.CHANGEFEATURE,n))}hasFeature(t){let n=t.getId();return n!==void 0?n in this.idIndex_:Wt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&gc(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,i){let r=this.loadedExtentsRtree_,o=this.strategy_(t,n,i);for(let s=0,a=o.length;s<a;++s){let l=o[s];r.forEachInExtent(l,function(d){return Iu(d.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Sc(Xa.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,d=>{--this.loadingExtentsCount_,this.dispatchEvent(new Sc(Xa.FEATURESLOADEND,void 0,d))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Sc(Xa.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){let n=this.loadedExtentsRtree_,i=n.forEachInExtent(t,function(r){if(Mu(r.extent,t))return r});i&&n.remove(i)}removeFeatures(t){let n=!1;for(let i=0,r=t.length;i<r;++i)n=this.removeFeatureInternal(t[i])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){let n=Wt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(On),delete this.featureChangeKeys_[n];let r=t.getId();if(r!==void 0){let o=r.toString(),s=this.idIndex_[o];s===t?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(t),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[n],this.hasListener(Xa.REMOVEFEATURE)&&this.dispatchEvent(new Sc(Xa.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(let n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){fn(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(ZN(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}},Ev=t4});var Pb,Ob,Sd,qu,n4,kt,mg=Oe(()=>{"use strict";Pb={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ob=[Pb.FILL],Sd=[Pb.STROKE],qu=[Pb.BEGIN_PATH],n4=[Pb.CLOSE_PATH],kt=Pb});var i4,Ed,Dv=Oe(()=>{"use strict";Vr();Eb();P3();Vn();_R();$N();ju();mg();i4=class extends CT{constructor(t,n,i,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){let n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})}appendFlatPointCoordinates(t,n){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let a=0,l=t.length;a<l;a+=n)r[0]=t[a],r[1]=t[a+1],hc(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(t,n,i,r,o,s){let a=this.coordinates,l=a.length,c=this.getBufferedMaxExtent();s&&(n+=r);let d=t[n],h=t[n+1],f=this.tmpCoordinate_,g=!0,m,v,C;for(m=n+r;m<i;m+=r)f[0]=t[m],f[1]=t[m+1],C=WD(c,f),C!==v?(g&&(a[l++]=d,a[l++]=h,g=!1),a[l++]=f[0],a[l++]=f[1]):C===Yr.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],g=!1):g=!0,d=f[0],h=f[1],v=C;return(o&&g||m===n+r)&&(a[l++]=d,a[l++]=h),l}drawCustomCoordinates_(t,n,i,r,o){for(let s=0,a=i.length;s<a;++s){let l=i[s],c=this.appendFlatLineCoordinates(t,n,l,r,!1,!1);o.push(c),n=l}return n}drawCustom(t,n,i,r,o){this.beginGeometry(t,n,o);let s=t.getType(),a=t.getStride(),l=this.coordinates.length,c,d,h,f,g;switch(s){case"MultiPolygon":c=t.getOrientedFlatCoordinates(),f=[];let m=t.getEndss();g=0;for(let v=0,C=m.length;v<C;++v){let y=[];g=this.drawCustomCoordinates_(c,g,m[v],a,y),f.push(y)}this.instructions.push([kt.CUSTOM,l,f,t,i,FO,o]),this.hitDetectionInstructions.push([kt.CUSTOM,l,f,t,r||i,FO,o]);break;case"Polygon":case"MultiLineString":h=[],c=s=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),g=this.drawCustomCoordinates_(c,0,t.getEnds(),a,h),this.instructions.push([kt.CUSTOM,l,h,t,i,rv,o]),this.hitDetectionInstructions.push([kt.CUSTOM,l,h,t,r||i,rv,o]);break;case"LineString":case"Circle":c=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([kt.CUSTOM,l,d,t,i,pf,o]),this.hitDetectionInstructions.push([kt.CUSTOM,l,d,t,r||i,pf,o]);break;case"MultiPoint":c=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,a),d>l&&(this.instructions.push([kt.CUSTOM,l,d,t,i,pf,o]),this.hitDetectionInstructions.push([kt.CUSTOM,l,d,t,r||i,pf,o]));break;case"Point":c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([kt.CUSTOM,l,d,t,i,void 0,o]),this.hitDetectionInstructions.push([kt.CUSTOM,l,d,t,r||i,void 0,o]);break;default:}this.endGeometry(n)}beginGeometry(t,n,i){this.beginGeometryInstruction1_=[kt.BEGIN_GEOMETRY,n,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[kt.BEGIN_GEOMETRY,n,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let t=this.hitDetectionInstructions;t.reverse();let n,i=t.length,r,o,s=-1;for(n=0;n<i;++n)r=t[n],o=r[0],o==kt.END_GEOMETRY?s=n:o==kt.BEGIN_GEOMETRY&&(r[2]=n,j$(this.hitDetectionInstructions,s,n),s=-1)}fillStyleToState(t,n={}){if(t){let i=t.getColor();n.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,n.fillStyle=ba(i||co)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){let i=t.getColor();n.strokeStyle=ba(i||zu);let r=t.getLineCap();n.lineCap=r!==void 0?r:_d;let o=t.getLineDash();n.lineDash=o?o.slice():_a;let s=t.getLineDashOffset();n.lineDashOffset=s||xa;let a=t.getLineJoin();n.lineJoin=a!==void 0?a:xd;let l=t.getWidth();n.lineWidth=l!==void 0?l:Wu;let c=t.getMiterLimit();n.miterLimit=c!==void 0?c:Gu,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){let i=this.state;this.fillStyleToState(t,i),this.strokeStyleToState(n,i)}createFill(t){let n=t.fillStyle,i=[kt.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[kt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){let i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,n){let i=t.strokeStyle,r=t.lineCap,o=t.lineDash,s=t.lineDashOffset,a=t.lineJoin,l=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||o!=t.currentLineDash&&!fs(t.currentLineDash,o)||t.currentLineDashOffset!=s||t.currentLineJoin!=a||t.currentLineWidth!=l||t.currentMiterLimit!=c)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=s,t.currentLineJoin=a,t.currentLineWidth=l,t.currentMiterLimit=c)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let n=[kt.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=jD(this.maxExtent),this.maxLineWidth>0)){let t=this.resolution*(this.maxLineWidth+1)/2;B0(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Ed=i4});var r4,KX,XX=Oe(()=>{"use strict";Vn();Dv();mg();r4=class extends Ed{constructor(t,n,i,r){super(t,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,i){if(!this.image_||this.maxExtent&&!hc(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,i);let r=t.getFlatCoordinates(),o=t.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,o);this.instructions.push([kt.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([kt.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,i){if(!this.image_)return;this.beginGeometry(t,n,i);let r=t.getFlatCoordinates(),o=[];for(let l=0,c=r.length;l<c;l+=t.getStride())(!this.maxExtent||hc(this.maxExtent,r.slice(l,l+2)))&&o.push(r[l],r[l+1]);let s=this.coordinates.length,a=this.appendFlatPointCoordinates(o,2);this.instructions.push([kt.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([kt.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){let i=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}},KX=r4});var o4,YX,ZX=Oe(()=>{"use strict";ju();Dv();mg();o4=class extends Ed{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinates_(t,n,i,r){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,i,r,!1,!1),a=[kt.MOVE_TO_LINE_TO,o,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,n,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,_a,xa],qu);let a=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(Sd),this.endGeometry(n)}drawMultiLineString(t,n,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,_a,xa],qu);let a=t.getEnds(),l=t.getFlatCoordinates(),c=t.getStride(),d=0;for(let h=0,f=a.length;h<f;++h)d=this.drawFlatCoordinates_(l,d,a[h],c);this.hitDetectionInstructions.push(Sd),this.endGeometry(n)}finish(){let t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Sd),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Sd),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(qu)}},YX=o4});var s4,a4,QX=Oe(()=>{"use strict";ob();ju();Dv();mg();s4=class extends Ed{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinatess_(t,n,i,r){let o=this.state,s=o.fillStyle!==void 0,a=o.strokeStyle!==void 0,l=i.length;this.instructions.push(qu),this.hitDetectionInstructions.push(qu);for(let c=0;c<l;++c){let d=i[c],h=this.coordinates.length,f=this.appendFlatLineCoordinates(t,n,d,r,!0,!a),g=[kt.MOVE_TO_LINE_TO,h,f];this.instructions.push(g),this.hitDetectionInstructions.push(g),a&&(this.instructions.push(n4),this.hitDetectionInstructions.push(n4)),n=d}return s&&(this.instructions.push(Ob),this.hitDetectionInstructions.push(Ob)),a&&(this.instructions.push(Sd),this.hitDetectionInstructions.push(Sd)),n}drawCircle(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([kt.SET_FILL_STYLE,co]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,_a,xa]);let a=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);let d=[kt.CIRCLE,c];this.instructions.push(qu,d),this.hitDetectionInstructions.push(qu,d),r.fillStyle!==void 0&&(this.instructions.push(Ob),this.hitDetectionInstructions.push(Ob)),r.strokeStyle!==void 0&&(this.instructions.push(Sd),this.hitDetectionInstructions.push(Sd)),this.endGeometry(n)}drawPolygon(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([kt.SET_FILL_STYLE,co]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,_a,xa]);let a=t.getEnds(),l=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(l,0,a,c),this.endGeometry(n)}drawMultiPolygon(t,n,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([kt.SET_FILL_STYLE,co]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([kt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,_a,xa]);let a=t.getEndss(),l=t.getOrientedFlatCoordinates(),c=t.getStride(),d=0;for(let h=0,f=a.length;h<f;++h)d=this.drawFlatCoordinatess_(l,d,a[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let t=this.tolerance;if(t!==0){let n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=gf(n[i],t)}return super.finish()}setFillStrokeStyles_(){let t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}},a4=s4});function JX(e,t,n,i,r){let o=[],s=n,a=0,l=t.slice(n,2);for(;a<e&&s+r<i;){let[c,d]=l.slice(-2),h=t[s+r],f=t[s+r+1],g=Math.sqrt((h-c)*(h-c)+(f-d)*(f-d));if(a+=g,a>=e){let m=(e-a+g)/g,v=us(c,h,m),C=us(d,f,m);l.push(v,C),o.push(l),l=[v,C],a==e&&(s+=r),a=0}else if(a<e)l.push(t[s+r],t[s+r+1]),s+=r;else{let m=g-a,v=us(c,h,m/g),C=us(d,f,m/g);l.push(v,C),o.push(l),l=[v,C],a=0,s+=r}}return a>0&&o.push(l),o}var eY=Oe(()=>{"use strict";Ji()});function tY(e,t,n,i,r){let o=n,s=n,a=0,l=0,c=n,d,h,f,g,m,v,C,y,x,_;for(h=n;h<i;h+=r){let R=t[h],I=t[h+1];m!==void 0&&(x=R-m,_=I-v,g=Math.sqrt(x*x+_*_),C!==void 0&&(l+=f,d=Math.acos((C*x+y*_)/(f*g)),d>e&&(l>a&&(a=l,o=c,s=h),l=0,c=h-r)),f=g,C=x,y=_),m=R,v=I}return l+=g,l>a?[c,h]:[o,s]}var nY=Oe(()=>{"use strict"});var Lb,l4,iY,c4=Oe(()=>{"use strict";Eb();Vn();eY();nY();er();ju();Dv();mg();Lb={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},l4=class extends Ed{constructor(t,n,i,r){super(t,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[co]={fillStyle:co},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,i){let r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;let a=this.coordinates,l=a.length,c=t.getType(),d=null,h=t.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!cr(this.maxExtent,t.getExtent()))return;let f;if(d=t.getFlatCoordinates(),c=="LineString")f=[d.length];else if(c=="MultiLineString")f=t.getEnds();else if(c=="Polygon")f=t.getEnds().slice(0,1);else if(c=="MultiPolygon"){let C=t.getEndss();f=[];for(let y=0,x=C.length;y<x;++y)f.push(C[y][0])}this.beginGeometry(t,n,i);let g=s.repeat,m=g?void 0:s.textAlign,v=0;for(let C=0,y=f.length;C<y;++C){let x;g?x=JX(g*this.resolution,d,v,f[C],h):x=[d.slice(v,f[C])];for(let _=0,R=x.length;_<R;++_){let I=x[_],F=0,T=I.length;if(m==null){let L=tY(s.maxAngle,I,0,I.length,2);F=L[0],T=L[1]}for(let L=F;L<T;L+=h)a.push(I[L],I[L+1]);let P=a.length;v=f[C],this.drawChars_(l,P),l=P}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=t.getFlatCoordinates();break;case"LineString":d=t.getFlatMidpoint();break;case"Circle":d=t.getCenter();break;case"MultiLineString":d=t.getFlatMidpoints(),h=2;break;case"Polygon":d=t.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),h=3;break;case"MultiPolygon":let R=t.getFlatInteriorPoints();d=[];for(let I=0,F=R.length;I<F;I+=3)s.overflow||f.push(R[I+2]/this.resolution),d.push(R[I],R[I+1]);if(d.length===0)return;h=2;break;default:}let g=this.appendFlatPointCoordinates(d,h);if(g===l)return;if(f&&(g-l)/2!==d.length/h){let R=l/2;f=f.filter((I,F)=>{let T=a[(R+F)*2]===d[F*h]&&a[(R+F)*2+1]===d[F*h+1];return T||--R,T})}this.saveTextStates_();let m=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,v=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(t,n,i);let C=s.padding;if(C!=Uu&&(s.scale[0]<0||s.scale[1]<0)){let R=s.padding[0],I=s.padding[1],F=s.padding[2],T=s.padding[3];s.scale[0]<0&&(I=-I,T=-T),s.scale[1]<0&&(R=-R,F=-F),C=[R,I,F,T]}let y=this.pixelRatio;this.instructions.push([kt.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==Uu?Uu:C.map(function(R){return R*y}),m,v,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);let x=1/y,_=m?m.slice(0):null;_&&(_[1]=co),this.hitDetectionInstructions.push([kt.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[x,x],NaN,this.declutterMode_,this.declutterImageWithText_,C,_,v,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?co:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){let t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||yf,justify:n.justify,textBaseline:n.textBaseline||ug,scale:n.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(t,n){let i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,a=this.fillKey_;this.saveTextStates_();let l=this.pixelRatio,c=Lb[r.textBaseline],d=this.textOffsetY_*l,h=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([kt.DRAW_CHARS,t,n,c,r.overflow,a,r.maxAngle,l,d,o,f*l,h,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([kt.DRAW_CHARS,t,n,c,r.overflow,a&&co,r.maxAngle,l,d,o,f*l,h,s,1/l,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let i,r,o;if(!t)this.text_="";else{let s=t.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=ba(s.getColor()||co)):(r=null,this.textFillState_=r);let a=t.getStroke();if(!a)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let v=a.getLineDash(),C=a.getLineDashOffset(),y=a.getWidth(),x=a.getMiterLimit();o.lineCap=a.getLineCap()||_d,o.lineDash=v?v.slice():_a,o.lineDashOffset=C===void 0?xa:C,o.lineJoin=a.getLineJoin()||xd,o.lineWidth=y===void 0?Wu:y,o.miterLimit=x===void 0?Gu:x,o.strokeStyle=ba(a.getColor()||zu)}i=this.textState_;let l=t.getFont()||jR;kK(l);let c=t.getScaleArray();i.overflow=t.getOverflow(),i.font=l,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||ug,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||Uu,i.scale=c===void 0?[1,1]:c;let d=t.getOffsetX(),h=t.getOffsetY(),f=t.getRotateWithView(),g=t.getKeepUpright(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=d===void 0?0:d,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this.textKeepUpright_=g===void 0?!0:g,this.textRotation_=m===void 0?0:m,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Wt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Wt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}},iY=l4});var e1e,d4,rY,oY=Oe(()=>{"use strict";Dv();XX();ZX();QX();c4();e1e={Circle:a4,Default:Ed,Image:KX,LineString:YX,Polygon:a4,Text:iY},d4=class{constructor(t,n,i,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let t={};for(let n in this.buildersByZIndex_){t[n]=t[n]||{};let i=this.buildersByZIndex_[n];for(let r in i){let o=i[r].finish();t[n][r]=o}}return t}getBuilder(t,n){let i=t!==void 0?t.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[n];if(o===void 0){let s=e1e[n];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o}return o}},rY=d4});function sY(e,t,n,i,r,o,s,a,l,c,d,h,f=!0){let g=e[t],m=e[t+1],v=0,C=0,y=0,x=0;function _(){v=g,C=m,t+=i,g=e[t],m=e[t+1],x+=y,y=Math.sqrt((g-v)*(g-v)+(m-C)*(m-C))}do _();while(t<n-i&&x+y<o);let R=y===0?0:(o-x)/y,I=us(v,g,R),F=us(C,m,R),T=t-i,P=x,L=o+a*l(c,r,d);for(;t<n-i&&x+y<L;)_();R=y===0?0:(L-x)/y;let U=us(v,g,R),W=us(C,m,R),X=!1;if(f)if(h){let Se=[I,F,U,W];yR(Se,0,4,2,h,Se,Se),X=Se[0]>Se[2]}else X=I>U;let oe=Math.PI,Ie=[],ae=T+i===t;t=T,y=0,x=P,g=e[t],m=e[t+1];let Le;if(ae){_(),Le=Math.atan2(m-C,g-v),X&&(Le+=Le>0?-oe:oe);let Se=(U+I)/2,Ge=(W+F)/2;return Ie[0]=[Se,Ge,(L-o)/2,Le,r],Ie}r=r.replace(/\n/g," ");for(let Se=0,Ge=r.length;Se<Ge;){_();let be=Math.atan2(m-C,g-v);if(X&&(be+=be>0?-oe:oe),Le!==void 0){let Z=be-Le;if(Z+=Z>oe?-2*oe:Z<-oe?2*oe:0,Math.abs(Z)>s)return null}Le=be;let Ae=Se,he=0;for(;Se<Ge;++Se){let Z=X?Ge-Se-1:Se,le=a*l(c,r[Z],d);if(t+i<n&&x+y<o+he+le/2)break;he+=le}if(Se===Ae)continue;let N=X?r.substring(Ge-Ae,Ge-Se):r.substring(Ae,Se);R=y===0?0:(o+he/2-x)/y;let ne=us(v,g,R),Q=us(C,m,R);Ie.push([ne,Q,he/2,be,N]),o+=he}return Ie}var aY=Oe(()=>{"use strict";Ji();ff()});function lY(e){return e[3].declutterBox}function u4(e,t){return t==="start"?t=cY.test(e)?"right":"left":t==="end"&&(t=cY.test(e)?"left":"right"),Lb[t]}function t1e(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}function n1e(e,t,n){return n%2===0&&(e+=t),e}var Rv,Ef,Ku,Xu,Df,cY,h4,dY,uY=Oe(()=>{"use strict";Vr();Vn();FX();aY();ff();Cc();SN();ju();mg();c4();Rv=Br(),Ef=[],Ku=[],Xu=[],Df=[];cY=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");h4=class{constructor(t,n,i,r,o){this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=So(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new cT:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,i,r){let o=t+n+i+r;if(this.labels_[o])return this.labels_[o];let s=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],c=this.pixelRatio,d=[l.scale[0]*c,l.scale[1]*c],h=l.justify?Lb[l.justify]:u4(Array.isArray(t)?t[0]:t,l.textAlign||yf),f=r&&s.lineWidth?s.lineWidth:0,g=Array.isArray(t)?t:String(t).split(`
`).reduce(t1e,[]),{width:m,height:v,widths:C,heights:y,lineWidths:x}=OK(l,g),_=m+f,R=[],I=(_+2)*d[0],F=(v+f)*d[1],T={width:I<0?Math.floor(I):Math.ceil(I),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:R};(d[0]!=1||d[1]!=1)&&R.push("scale",d),r&&(R.push("strokeStyle",s.strokeStyle),R.push("lineWidth",f),R.push("lineCap",s.lineCap),R.push("lineJoin",s.lineJoin),R.push("miterLimit",s.miterLimit),R.push("setLineDash",[s.lineDash]),R.push("lineDashOffset",s.lineDashOffset)),i&&R.push("fillStyle",a.fillStyle),R.push("textBaseline","middle"),R.push("textAlign","center");let P=.5-h,L=h*_+P*f,U=[],W=[],X=0,oe=0,Ie=0,ae=0,Le;for(let Se=0,Ge=g.length;Se<Ge;Se+=2){let be=g[Se];if(be===`
`){oe+=X,X=0,L=h*_+P*f,++ae;continue}let Ae=g[Se+1]||l.font;Ae!==Le&&(r&&U.push("font",Ae),i&&W.push("font",Ae),Le=Ae),X=Math.max(X,y[Ie]);let he=[be,L+P*C[Ie]+h*(C[Ie]-x[ae]),.5*(f+X)+oe];L+=C[Ie],r&&U.push("strokeText",he),i&&W.push("fillText",he),++Ie}return Array.prototype.push.apply(R,U),Array.prototype.push.apply(R,W),this.labels_[o]=T,T}replayTextBackground_(t,n,i,r,o,s,a){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,n),s&&(this.alignAndScaleFill_=s[2],t.fillStyle=s[1],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())}calculateImageOrLabelDimensions_(t,n,i,r,o,s,a,l,c,d,h,f,g,m,v,C){a*=f[0],l*=f[1];let y=i-a,x=r-l,_=o+c>t?t-c:o,R=s+d>n?n-d:s,I=m[3]+_*f[0]+m[1],F=m[0]+R*f[1]+m[2],T=y-m[3],P=x-m[0];(v||h!==0)&&(Ef[0]=T,Df[0]=T,Ef[1]=P,Ku[1]=P,Ku[0]=T+I,Xu[0]=Ku[0],Xu[1]=P+F,Df[1]=Xu[1]);let L;return h!==0?(L=jo(So(),i,r,1,1,h,-i,-r),ur(L,Ef),ur(L,Ku),ur(L,Xu),ur(L,Df),$a(Math.min(Ef[0],Ku[0],Xu[0],Df[0]),Math.min(Ef[1],Ku[1],Xu[1],Df[1]),Math.max(Ef[0],Ku[0],Xu[0],Df[0]),Math.max(Ef[1],Ku[1],Xu[1],Df[1]),Rv)):$a(Math.min(T,T+I),Math.min(P,P+F),Math.max(T,T+I),Math.max(P,P+F),Rv),g&&(y=Math.round(y),x=Math.round(x)),{drawImageX:y,drawImageY:x,drawImageW:_,drawImageH:R,originX:c,originY:d,declutterBox:{minX:Rv[0],minY:Rv[1],maxX:Rv[2],maxY:Rv[3],value:C},canvasTransform:L,scale:f}}replayImageOrLabel_(t,n,i,r,o,s,a){let l=!!(s||a),c=r.declutterBox,d=a?a[2]*r.scale[0]/2:0;return c.minX-d<=n[0]&&c.maxX+d>=0&&c.minY-d<=n[1]&&c.maxY+d>=0&&(l&&this.replayTextBackground_(t,Ef,Ku,Xu,Df,s,a),LK(t,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){let n=this.alignAndScaleFill_;if(n){let i=ur(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(i[0]%r,i[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,i,r){let o=this.textStates[n],s=this.createLabel(t,n,r,i),a=this.strokeStates[i],l=this.pixelRatio,c=u4(Array.isArray(t)?t[0]:t,o.textAlign||yf),d=Lb[o.textBaseline||ug],h=a&&a.lineWidth?a.lineWidth:0,f=s.width/l-2*o.scale[0],g=c*f+2*(.5-c)*h,m=d*s.height/l+2*(.5-d)*h;return{label:s,anchorX:g,anchorY:m}}execute_(t,n,i,r,o,s,a,l){let c=this.zIndexContext_,d;this.pixelCoordinates_&&fs(i,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=ya(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),fq(this.renderedTransform_,i));let h=0,f=r.length,g=0,m,v,C,y,x,_,R,I,F,T,P,L,U,W=0,X=0,oe=this.coordinateCache_,Ie=this.viewRotation_,ae=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,Le={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Ie},Se=this.instructions!=r||this.overlaps?0:200,Ge,be,Ae,he;for(;h<f;){let N=r[h];switch(N[0]){case kt.BEGIN_GEOMETRY:Ge=N[1],he=N[3],Ge.getGeometry()?a!==void 0&&!cr(a,he.getExtent())?h=N[2]+1:++h:h=N[2],c&&(c.zIndex=N[4]);break;case kt.BEGIN_PATH:W>Se&&(this.fill_(t),W=0),X>Se&&(t.stroke(),X=0),!W&&!X&&(t.beginPath(),x=NaN,_=NaN),++h;break;case kt.CIRCLE:g=N[1];let Q=d[g],Z=d[g+1],le=d[g+2],ke=d[g+3],ze=le-Q,Be=ke-Z,ve=Math.sqrt(ze*ze+Be*Be);t.moveTo(Q+ve,Z),t.arc(Q,Z,ve,0,2*Math.PI,!0),++h;break;case kt.CLOSE_PATH:t.closePath(),++h;break;case kt.CUSTOM:g=N[1],m=N[2];let St=N[3],Y=N[4],$t=N[5];Le.geometry=St,Le.feature=Ge,h in oe||(oe[h]=[]);let At=oe[h];$t?$t(d,g,m,2,At):(At[0]=d[g],At[1]=d[g+1],At.length=2),c&&(c.zIndex=N[6]),Y(At,Le),++h;break;case kt.DRAW_IMAGE:g=N[1],m=N[2],F=N[3],v=N[4],C=N[5];let Et=N[6],Dt=N[7],Ye=N[8],vt=N[9],xn=N[10],yi=N[11],Pi=N[12],po=N[13];y=N[14]||"declutter";let An=N[15];if(!F&&N.length>=20){T=N[19],P=N[20],L=N[21],U=N[22];let Wr=this.drawLabelWithPointPlacement_(T,P,L,U);F=Wr.label,N[3]=F;let Js=N[23];v=(Wr.anchorX-Js)*this.pixelRatio,N[4]=v;let to=N[24];C=(Wr.anchorY-to)*this.pixelRatio,N[5]=C,Et=F.height,N[6]=Et,po=F.width,N[13]=po}let Oi;N.length>25&&(Oi=N[25]);let nr,rn,Xn;N.length>17?(nr=N[16],rn=N[17],Xn=N[18]):(nr=Uu,rn=null,Xn=null),xn&&ae?yi+=Ie:!xn&&!ae&&(yi-=Ie);let Gi=0;for(;g<m;g+=2){if(Oi&&Oi[Gi++]<po/this.pixelRatio)continue;let Wr=this.calculateImageOrLabelDimensions_(F.width,F.height,d[g],d[g+1],po,Et,v,C,Ye,vt,yi,Pi,o,nr,!!rn||!!Xn,Ge),Js=[t,n,F,Wr,Dt,rn,Xn];if(l){let to,ko,jr;if(An){let $n=m-g;if(!An[$n]){An[$n]={args:Js,declutterMode:y};continue}let Mr=An[$n];to=Mr.args,ko=Mr.declutterMode,delete An[$n],jr=lY(to)}let Ms,Po;if(to&&(ko!=="declutter"||!l.collides(jr))&&(Ms=!0),(y!=="declutter"||!l.collides(Wr.declutterBox))&&(Po=!0),ko==="declutter"&&y==="declutter"){let $n=Ms&&Po;Ms=$n,Po=$n}Ms&&(ko!=="none"&&l.insert(jr),this.replayImageOrLabel_.apply(this,to)),Po&&(y!=="none"&&l.insert(Wr.declutterBox),this.replayImageOrLabel_.apply(this,Js))}else this.replayImageOrLabel_.apply(this,Js)}++h;break;case kt.DRAW_CHARS:let Xi=N[1],Te=N[2],re=N[3],ce=N[4];U=N[5];let rt=N[6],Ot=N[7],cn=N[8];L=N[9];let mr=N[10];T=N[11],Array.isArray(T)&&(T=T.reduce(n1e,"")),P=N[12];let Pa=[N[13],N[13]];y=N[14]||"declutter";let es=N[15],Li=this.textStates[P],ir=Li.font,rr=[Li.scale[0]*Ot,Li.scale[1]*Ot],Zl;ir in this.widths_?Zl=this.widths_[ir]:(Zl={},this.widths_[ir]=Zl);let ts=MX(d,Xi,Te,2),fh=Math.abs(rr[0])*jL(ir,T,Zl);if(ce||fh<=ts){let Wr=this.textStates[P].textAlign,Js=(ts-fh)*u4(T,Wr),to=sY(d,Xi,Te,2,T,Js,rt,Math.abs(rr[0]),jL,ir,Zl,ae?0:this.viewRotation_,es);e:if(to){let ko=[],jr,Ms,Po,$n,Mr;if(L)for(jr=0,Ms=to.length;jr<Ms;++jr){Mr=to[jr],Po=Mr[4],$n=this.createLabel(Po,P,"",L),v=Mr[2]+(rr[0]<0?-mr:mr),C=re*$n.height+(.5-re)*2*mr*rr[1]/rr[0]-cn;let ns=this.calculateImageOrLabelDimensions_($n.width,$n.height,Mr[0],Mr[1],$n.width,$n.height,v,C,0,0,Mr[3],Pa,!1,Uu,!1,Ge);if(l&&y==="declutter"&&l.collides(ns.declutterBox))break e;ko.push([t,n,$n,ns,1,null,null])}if(U)for(jr=0,Ms=to.length;jr<Ms;++jr){Mr=to[jr],Po=Mr[4],$n=this.createLabel(Po,P,U,""),v=Mr[2],C=re*$n.height-cn;let ns=this.calculateImageOrLabelDimensions_($n.width,$n.height,Mr[0],Mr[1],$n.width,$n.height,v,C,0,0,Mr[3],Pa,!1,Uu,!1,Ge);if(l&&y==="declutter"&&l.collides(ns.declutterBox))break e;ko.push([t,n,$n,ns,1,null,null])}l&&y!=="none"&&l.load(ko.map(lY));for(let ns=0,ip=ko.length;ns<ip;++ns)this.replayImageOrLabel_.apply(this,ko[ns])}}++h;break;case kt.END_GEOMETRY:if(s!==void 0){Ge=N[1];let Wr=s(Ge,he,y);if(Wr)return Wr}++h;break;case kt.FILL:Se?W++:this.fill_(t),++h;break;case kt.MOVE_TO_LINE_TO:for(g=N[1],m=N[2],be=d[g],Ae=d[g+1],t.moveTo(be,Ae),x=be+.5|0,_=Ae+.5|0,g+=2;g<m;g+=2)be=d[g],Ae=d[g+1],R=be+.5|0,I=Ae+.5|0,(g==m-2||R!==x||I!==_)&&(t.lineTo(be,Ae),x=R,_=I);++h;break;case kt.SET_FILL_STYLE:this.alignAndScaleFill_=N[2],W&&(this.fill_(t),W=0,X&&(t.stroke(),X=0)),t.fillStyle=N[1],++h;break;case kt.SET_STROKE_STYLE:X&&(t.stroke(),X=0),this.setStrokeStyle_(t,N),++h;break;case kt.STROKE:Se?X++:t.stroke(),++h;break;default:++h;break}}W&&this.fill_(t),X&&t.stroke()}execute(t,n,i,r,o,s){this.viewRotation_=r,this.execute_(t,n,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(t,n,i,r,o){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}},dY=h4});function i1e(e){if(f4[e]!==void 0)return f4[e];let t=e*2+1,n=e*e,i=new Array(n+1);for(let o=0;o<=e;++o)for(let s=0;s<=e;++s){let a=o*o+s*s;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((e+o)*t+(e+s))*4+3),o>0&&l.push(((e-o)*t+(e+s))*4+3),s>0&&(l.push(((e+o)*t+(e-s))*4+3),o>0&&l.push(((e-o)*t+(e-s))*4+3))}let r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return f4[e]=r,r}var vg,g4,hY,p4,f4,fY,pY=Oe(()=>{"use strict";Vr();Eo();Vn();ff();mc();Cc();uY();vg=["Polygon","Circle","LineString","Image","Text","Default"],g4=["Image","Text"],hY=vg.filter(e=>!g4.includes(e)),p4=class{constructor(t,n,i,r,o,s,a){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=So(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,a)}clip(t,n){let i=this.getClipCoords(n);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,n){for(let i in t){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let o=t[i];for(let s in o){let a=o[s];r[s]=new dY(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(t){for(let n in this.executorsByZIndex_){let i=this.executorsByZIndex_[n];for(let r=0,o=t.length;r<o;++r)if(t[r]in i)return!0}return!1}forEachFeatureAtCoordinate(t,n,i,r,o,s){r=Math.round(r);let a=r*2+1,l=jo(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-t[0],-t[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=ui(a,a));let d=this.hitDetectionContext_;d.canvas.width!==a||d.canvas.height!==a?(d.canvas.width=a,d.canvas.height=a):c||d.clearRect(0,0,a,a);let h;this.renderBuffer_!==void 0&&(h=Br(),Qp(h,t),B0(h,n*(this.renderBuffer_+r),h));let f=i1e(r),g;function m(I,F,T){let P=d.getImageData(0,0,a,a).data;for(let L=0,U=f.length;L<U;L++)if(P[f[L]]>0){if(!s||T==="none"||g!=="Image"&&g!=="Text"||s.includes(I)){let W=(f[L]-3)/4,X=r-W%a,oe=r-(W/a|0),Ie=o(I,F,X*X+oe*oe);if(Ie)return Ie}d.clearRect(0,0,a,a);break}}let v=Object.keys(this.executorsByZIndex_).map(Number);v.sort(Ca);let C,y,x,_,R;for(C=v.length-1;C>=0;--C){let I=v[C].toString();for(x=this.executorsByZIndex_[I],y=vg.length-1;y>=0;--y)if(g=vg[y],_=x[g],_!==void 0&&(R=_.executeHitDetection(d,l,i,m,h),R))return R}}getClipCoords(t){let n=this.maxExtent_;if(!n)return null;let i=n[0],r=n[1],o=n[2],s=n[3],a=[i,r,i,s,o,s,o,r];return ya(a,0,8,2,t,a),a}isEmpty(){return gc(this.executorsByZIndex_)}execute(t,n,i,r,o,s,a){let l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(a?W$:Ca),s=s||vg;let c=vg.length;for(let d=0,h=l.length;d<h;++d){let f=l[d].toString(),g=this.executorsByZIndex_[f];for(let m=0,v=s.length;m<v;++m){let C=s[m],y=g[C];if(y!==void 0){let x=a===null?void 0:y.getZIndexContext(),_=x?x.getContext():t,R=this.maxExtent_&&C!=="Image"&&C!=="Text";if(R&&(_.save(),this.clip(_,i)),!x||C==="Text"||C==="Image"?y.execute(_,n,i,r,o,a):x.pushFunction(I=>y.execute(I,n,i,r,o,a)),R&&_.restore(),x){x.offset();let I=l[d]*c+m;this.deferredZIndexContexts_[I]||(this.deferredZIndexContexts_[I]=[]),this.deferredZIndexContexts_[I].push(x)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Ca);for(let i=0,r=n.length;i<r;++i)t[n[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[i]].length=0}},f4={};fY=p4});var m4=Oe(()=>{"use strict";Cv();Db();Rb();wv();YR()});function gY(e,t,n,i,r,o,s,a,l){let c=l?Ou(r,l):r,d=e[0]*Ec,h=e[1]*Ec,f=ui(d,h);f.imageSmoothingEnabled=!1;let g=f.canvas,m=new AX(f,Ec,r,null,s,a,l?Dl(fd(),l):null),v=n.length,C=Math.floor((256*256*256-1)/v),y={};for(let _=1;_<=v;++_){let R=n[_-1],I=R.getStyleFunction()||i;if(!I)continue;let F=I(R,o);if(!F)continue;Array.isArray(F)||(F=[F]);let P=(_*C).toString(16).padStart(7,"#00000");for(let L=0,U=F.length;L<U;++L){let W=F[L],X=W.getGeometryFunction()(R);if(!X||!cr(c,X.getExtent()))continue;let oe=W.clone(),Ie=oe.getFill();Ie&&Ie.setColor(P);let ae=oe.getStroke();ae&&(ae.setColor(P),ae.setLineDash(null)),oe.setText(void 0);let Le=W.getImage();if(Le){let Ae=Le.getImageSize();if(!Ae)continue;let he=ui(Ae[0],Ae[1],void 0,{alpha:!1}),N=he.canvas;he.fillStyle=P,he.fillRect(0,0,N.width,N.height),oe.setImage(new xc({img:N,anchor:Le.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Le.getOrigin(),opacity:1,size:Le.getSize(),scale:Le.getScale(),rotation:Le.getRotation(),rotateWithView:Le.getRotateWithView()}))}let Se=oe.getZIndex()||0,Ge=y[Se];Ge||(Ge={},y[Se]=Ge,Ge.Polygon=[],Ge.Circle=[],Ge.LineString=[],Ge.Point=[]);let be=X.getType();if(be==="GeometryCollection"){let Ae=X.getGeometriesArrayRecursive();for(let he=0,N=Ae.length;he<N;++he){let ne=Ae[he];Ge[ne.getType().replace("Multi","")].push(ne,oe)}}else Ge[be.replace("Multi","")].push(X,oe)}}let x=Object.keys(y).map(Number).sort(Ca);for(let _=0,R=x.length;_<R;++_){let I=y[x[_]];for(let F in I){let T=I[F];for(let P=0,L=T.length;P<L;P+=2){m.setStyle(T[P+1]);for(let U=0,W=t.length;U<W;++U)m.setTransform(t[U]),m.drawGeometry(T[P])}}}return f.getImageData(0,0,g.width,g.height)}function mY(e,t,n){let i=[];if(n){let r=Math.floor(Math.round(e[0])*Ec),o=Math.floor(Math.round(e[1])*Ec),s=(Wn(r,0,n.width-1)+Wn(o,0,n.height-1)*n.width)*4,a=n.data[s],l=n.data[s+1],d=n.data[s+2]+256*(l+256*a),h=Math.floor((256*256*256-1)/t.length);d&&d%h===0&&i.push(t[d/h-1])}return i}var Ec,vY=Oe(()=>{"use strict";Vr();Eo();Vn();Ji();br();m4();kX();Ec=.5});var v4,CY,wY=Oe(()=>{"use strict";CR();Vr();Au();Eo();Vn();br();dv();oY();pY();vY();er();NX();TN();v4=class extends dT{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Br(),this.wrappedRenderedExtent_=Br(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,i){let r=n.extent,o=n.viewState,s=o.center,a=o.resolution,l=o.projection,c=o.rotation,d=l.getExtent(),h=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),g=n.pixelRatio,m=n.viewHints,v=!(m[lo.ANIMATING]||m[lo.INTERACTING]),C=this.context,y=Math.round(hn(r)/a*g),x=Math.round(Qi(r)/a*g),_=h.getWrapX()&&l.canWrapX(),R=_?hn(d):null,I=_?Math.ceil((r[2]-d[2])/R)+1:1,F=_?Math.floor((r[0]-d[0])/R):0;do{let T=this.getRenderTransform(s,a,0,g,y,x,F*R);n.declutter&&(T=T.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],T,c,v,i===void 0?vg:i?g4:hY,i?f&&n.declutter[f]:void 0)}while(++F<I)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ui(this.context.canvas.width,this.context.canvas.height,RN))}resetDrawContext_(){if(this.opacity_!==1){let t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,og(this.context),RN.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){let i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;let r=t.viewState;this.prepareContainer(t,n);let o=this.context,s=this.replayGroup_,a=s&&!s.isEmpty();if(!a&&!(this.getLayer().hasListener($o.PRERENDER)||this.getLayer().hasListener($o.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,t);let l=r.projection;if(this.clipped_=!1,a&&i.extent&&this.clipping){let c=qa(i.extent,l);a=cr(c,t.extent),this.clipped_=a&&!Iu(c,t.extent),this.clipped_&&this.clipUnrotated(o,t,c)}return a&&this.renderWorlds(s,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),d=[],h=i[0]*Ec,f=i[1]*Ec;d.push(this.getRenderTransform(r,o,s,Ec,h,f,0).slice());let g=c.getSource(),m=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!Iu(m,l)){let C=l[0],y=hn(m),x=0,_;for(;C<m[0];)--x,_=y*x,d.push(this.getRenderTransform(r,o,s,Ec,h,f,_).slice()),C+=y;for(x=0,C=l[2];C>m[2];)++x,_=y*x,d.push(this.getRenderTransform(r,o,s,Ec,h,f,_).slice()),C-=y}let v=fd();this.hitDetectionImageData_=gY(i,d,this.renderedFeatures_,c.getStyleFunction(),l,o,s,KN(o,this.renderedPixelRatio_),v?a:null)}n(mY(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,i,r,o){if(!this.replayGroup_)return;let s=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),c={},d=function(f,g,m){let v=Wt(f),C=c[v];if(C){if(C!==!0&&m<C.distanceSq){if(m===0)return c[v]=!0,o.splice(o.lastIndexOf(C),1),r(f,l,g);C.geometry=g,C.distanceSq=m}}else{if(m===0)return c[v]=!0,r(f,l,g);o.push(c[v]={feature:f,layer:l,geometry:g,distanceSq:m,callback:r})}},h=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,i,d,h?n.declutter?.[h]?.all().map(f=>f.value):null)}handleFontsChanged(){let t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){let n=this.getLayer(),i=n.getSource();if(!i)return!1;let r=t.viewHints[lo.ANIMATING],o=t.viewHints[lo.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!s&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let l=t.extent,c=t.viewState,d=c.projection,h=c.resolution,f=t.pixelRatio,g=n.getRevision(),m=n.getRenderBuffer(),v=n.getRenderOrder();v===void 0&&(v=OX);let C=c.center.slice(),y=B0(l,m*h),x=y.slice(),_=[y.slice()],R=d.getExtent();if(i.getWrapX()&&d.canWrapX()&&!Iu(R,t.extent)){let ae=hn(R),Le=Math.max(hn(y)/2,ae);y[0]=R[0]-Le,y[2]=R[2]+Le,j0(C,d);let Se=V3(_[0],d);Se[0]<R[0]&&Se[2]<R[2]?_.push([Se[0]+ae,Se[1],Se[2]+ae,Se[3]]):Se[0]>R[0]&&Se[2]>R[2]&&_.push([Se[0]-ae,Se[1],Se[2]-ae,Se[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==g&&this.renderedRenderOrder_==v&&this.renderedFrameDeclutter_===!!t.declutter&&Iu(this.wrappedRenderedExtent_,y))return fs(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let I=new rY(XN(h,f),y,h,f),F=fd(),T;if(F){for(let ae=0,Le=_.length;ae<Le;++ae){let Se=_[ae],Ge=Ou(Se,d);i.loadFeatures(Ge,eO(h,d),F)}T=Dl(F,d)}else for(let ae=0,Le=_.length;ae<Le;++ae)i.loadFeatures(_[ae],h,d);let P=KN(h,f),L=!0,U=(ae,Le)=>{let Se,Ge=ae.getStyleFunction()||n.getStyleFunction();if(Ge&&(Se=Ge(ae,h)),Se){let be=this.renderFeature(ae,P,Se,I,T,this.getLayer().getDeclutter(),Le);L=L&&!be}},W=Ou(y,d),X=i.getFeaturesInExtent(W);v&&X.sort(v);for(let ae=0,Le=X.length;ae<Le;++ae)U(X[ae],ae);this.renderedFeatures_=X,this.ready=L;let oe=I.finish(),Ie=new fY(y,h,f,i.getOverlaps(),oe,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=h,this.renderedRevision_=g,this.renderedRenderOrder_=v,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=x,this.wrappedRenderedExtent_=y,this.renderedCenter_=C,this.renderedProjection_=d,this.renderedPixelRatio_=f,this.replayGroup_=Ie,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,i,r,o,s,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let c=0,d=i.length;c<d;++c)l=YN(r,t,i[c],n,this.boundHandleStyleImageChange_,o,s,a)||l;else l=YN(r,t,i,n,this.boundHandleStyleImageChange_,o,s,a);return l}},CY=v4});var yY={};Eh(yY,{default:()=>Cg});var C4,Cg,yT=Oe(()=>{"use strict";wY();lN();C4=class extends tT{constructor(t){super(t)}createRenderer(){return new CY(this)}},Cg=C4});var bT=rF((Iv,Nb)=>{"use strict";(function(){var e,t="4.17.21",n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",c=1,d=2,h=4,f=1,g=2,m=1,v=2,C=4,y=8,x=16,_=32,R=64,I=128,F=256,T=512,P=30,L="...",U=800,W=16,X=1,oe=2,Ie=3,ae=1/0,Le=9007199254740991,Se=17976931348623157e292,Ge=NaN,be=4294967295,Ae=be-1,he=be>>>1,N=[["ary",I],["bind",m],["bindKey",v],["curry",y],["curryRight",x],["flip",T],["partial",_],["partialRight",R],["rearg",F]],ne="[object Arguments]",Q="[object Array]",Z="[object AsyncFunction]",le="[object Boolean]",ke="[object Date]",ze="[object DOMException]",Be="[object Error]",ve="[object Function]",St="[object GeneratorFunction]",Y="[object Map]",$t="[object Number]",At="[object Null]",Et="[object Object]",Dt="[object Promise]",Ye="[object Proxy]",vt="[object RegExp]",xn="[object Set]",yi="[object String]",Pi="[object Symbol]",po="[object Undefined]",An="[object WeakMap]",Oi="[object WeakSet]",nr="[object ArrayBuffer]",rn="[object DataView]",Xn="[object Float32Array]",Gi="[object Float64Array]",Xi="[object Int8Array]",Te="[object Int16Array]",re="[object Int32Array]",ce="[object Uint8Array]",rt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",cn="[object Uint32Array]",mr=/\b__p \+= '';/g,Pa=/\b(__p \+=) '' \+/g,es=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Li=/&(?:amp|lt|gt|quot|#39);/g,ir=/[&<>"']/g,rr=RegExp(Li.source),Zl=RegExp(ir.source),ts=/<%-([\s\S]+?)%>/g,fh=/<%([\s\S]+?)%>/g,Wr=/<%=([\s\S]+?)%>/g,Js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,ko=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,Ms=RegExp(jr.source),Po=/^\s+/,$n=/\s/,Mr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ns=/\{\n\/\* \[wrapped with (.+)\] \*/,ip=/,? & /,k=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,j=/[()=,{}\[\]\/\s]/,H=/\\(\\)?/g,z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,q=/\w*$/,K=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,fe=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,ft="\\ud800-\\udfff",Qe="\\u0300-\\u036f",at="\\ufe20-\\ufe2f",Gt="\\u20d0-\\u20ff",ci=Qe+at+Gt,no="\\u2700-\\u27bf",zi="a-z\\xdf-\\xf6\\xf8-\\xff",Oo="\\xac\\xb1\\xd7\\xf7",qd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lo="\\u2000-\\u206f",ol=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ea="A-Z\\xc0-\\xd6\\xd8-\\xde",is="\\ufe0e\\ufe0f",ax=Oo+qd+Lo+ol,IC="['\u2019]",BI="["+ft+"]",lx="["+ax+"]",ph="["+ci+"]",cx="\\d+",VI="["+no+"]",MC="["+zi+"]",rp="[^"+ft+ax+cx+no+zi+ea+"]",Kd="\\ud83c[\\udffb-\\udfff]",HI="(?:"+ph+"|"+Kd+")",gh="[^"+ft+"]",FC="(?:\\ud83c[\\udde6-\\uddff]){2}",AC="[\\ud800-\\udbff][\\udc00-\\udfff]",mh="["+ea+"]",dx="\\u200d",ux="(?:"+MC+"|"+rp+")",GI="(?:"+mh+"|"+rp+")",hx="(?:"+IC+"(?:d|ll|m|re|s|t|ve))?",kC="(?:"+IC+"(?:D|LL|M|RE|S|T|VE))?",Pc=HI+"?",fx="["+is+"]?",zI="(?:"+dx+"(?:"+[gh,FC,AC].join("|")+")"+fx+Pc+")*",UI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",WI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",PC=fx+Pc+zI,jI="(?:"+[VI,FC,AC].join("|")+")"+PC,px="(?:"+[gh+ph+"?",ph,FC,AC,BI].join("|")+")",$I=RegExp(IC,"g"),qI=RegExp(ph,"g"),OC=RegExp(Kd+"(?="+Kd+")|"+px+PC,"g"),KI=RegExp([mh+"?"+MC+"+"+hx+"(?="+[lx,mh,"$"].join("|")+")",GI+"+"+kC+"(?="+[lx,mh+ux,"$"].join("|")+")",mh+"?"+ux+"+"+hx,mh+"+"+kC,WI,UI,cx,jI].join("|"),"g"),XI=RegExp("["+dx+ft+ci+is+"]"),YI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ZI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],QI=-1,Ei={};Ei[Xn]=Ei[Gi]=Ei[Xi]=Ei[Te]=Ei[re]=Ei[ce]=Ei[rt]=Ei[Ot]=Ei[cn]=!0,Ei[ne]=Ei[Q]=Ei[nr]=Ei[le]=Ei[rn]=Ei[ke]=Ei[Be]=Ei[ve]=Ei[Y]=Ei[$t]=Ei[Et]=Ei[vt]=Ei[xn]=Ei[yi]=Ei[An]=!1;var fi={};fi[ne]=fi[Q]=fi[nr]=fi[rn]=fi[le]=fi[ke]=fi[Xn]=fi[Gi]=fi[Xi]=fi[Te]=fi[re]=fi[Y]=fi[$t]=fi[Et]=fi[vt]=fi[xn]=fi[yi]=fi[Pi]=fi[ce]=fi[rt]=fi[Ot]=fi[cn]=!0,fi[Be]=fi[ve]=fi[An]=!1;var JI={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},eM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},an={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lm=parseFloat,tM=parseInt,mx=typeof global=="object"&&global&&global.Object===Object&&global,vx=typeof self=="object"&&self&&self.Object===Object&&self,$r=mx||vx||Function("return this")(),LC=typeof Iv=="object"&&Iv&&!Iv.nodeType&&Iv,Xd=LC&&typeof Nb=="object"&&Nb&&!Nb.nodeType&&Nb,Cx=Xd&&Xd.exports===LC,NC=Cx&&mx.process,Oa=function(){try{var ie=Xd&&Xd.require&&Xd.require("util").types;return ie||NC&&NC.binding&&NC.binding("util")}catch{}}(),wx=Oa&&Oa.isArrayBuffer,yx=Oa&&Oa.isDate,nM=Oa&&Oa.isMap,bx=Oa&&Oa.isRegExp,_x=Oa&&Oa.isSet,xx=Oa&&Oa.isTypedArray;function Fs(ie,Me,we){switch(we.length){case 0:return ie.call(Me);case 1:return ie.call(Me,we[0]);case 2:return ie.call(Me,we[0],we[1]);case 3:return ie.call(Me,we[0],we[1],we[2])}return ie.apply(Me,we)}function iM(ie,Me,we,gt){for(var ln=-1,ti=ie==null?0:ie.length;++ln<ti;){var io=ie[ln];Me(gt,io,we(io),ie)}return gt}function ta(ie,Me){for(var we=-1,gt=ie==null?0:ie.length;++we<gt&&Me(ie[we],we,ie)!==!1;);return ie}function rM(ie,Me){for(var we=ie==null?0:ie.length;we--&&Me(ie[we],we,ie)!==!1;);return ie}function Sx(ie,Me){for(var we=-1,gt=ie==null?0:ie.length;++we<gt;)if(!Me(ie[we],we,ie))return!1;return!0}function Oc(ie,Me){for(var we=-1,gt=ie==null?0:ie.length,ln=0,ti=[];++we<gt;){var io=ie[we];Me(io,we,ie)&&(ti[ln++]=io)}return ti}function cm(ie,Me){var we=ie==null?0:ie.length;return!!we&&G(ie,Me,0)>-1}function BC(ie,Me,we){for(var gt=-1,ln=ie==null?0:ie.length;++gt<ln;)if(we(Me,ie[gt]))return!0;return!1}function Ni(ie,Me){for(var we=-1,gt=ie==null?0:ie.length,ln=Array(gt);++we<gt;)ln[we]=Me(ie[we],we,ie);return ln}function Lc(ie,Me){for(var we=-1,gt=Me.length,ln=ie.length;++we<gt;)ie[ln+we]=Me[we];return ie}function VC(ie,Me,we,gt){var ln=-1,ti=ie==null?0:ie.length;for(gt&&ti&&(we=ie[++ln]);++ln<ti;)we=Me(we,ie[ln],ln,ie);return we}function oM(ie,Me,we,gt){var ln=ie==null?0:ie.length;for(gt&&ln&&(we=ie[--ln]);ln--;)we=Me(we,ie[ln],ln,ie);return we}function Fr(ie,Me){for(var we=-1,gt=ie==null?0:ie.length;++we<gt;)if(Me(ie[we],we,ie))return!0;return!1}var HC=wt("length");function sM(ie){return ie.split("")}function D(ie){return ie.match(k)||[]}function b(ie,Me,we){var gt;return we(ie,function(ln,ti,io){if(Me(ln,ti,io))return gt=ti,!1}),gt}function E(ie,Me,we,gt){for(var ln=ie.length,ti=we+(gt?1:-1);gt?ti--:++ti<ln;)if(Me(ie[ti],ti,ie))return ti;return-1}function G(ie,Me,we){return Me===Me?Nre(ie,Me,we):E(ie,Fe,we)}function J(ie,Me,we,gt){for(var ln=we-1,ti=ie.length;++ln<ti;)if(gt(ie[ln],Me))return ln;return-1}function Fe(ie){return ie!==ie}function Je(ie,Me){var we=ie==null?0:ie.length;return we?Yi(ie,Me)/we:Ge}function wt(ie){return function(Me){return Me==null?e:Me[ie]}}function Zt(ie){return function(Me){return ie==null?e:ie[Me]}}function zn(ie,Me,we,gt,ln){return ln(ie,function(ti,io,Di){we=gt?(gt=!1,ti):Me(we,ti,io,Di)}),we}function ei(ie,Me){var we=ie.length;for(ie.sort(Me);we--;)ie[we]=ie[we].value;return ie}function Yi(ie,Me){for(var we,gt=-1,ln=ie.length;++gt<ln;){var ti=Me(ie[gt]);ti!==e&&(we=we===e?ti:we+ti)}return we}function vh(ie,Me){for(var we=-1,gt=Array(ie);++we<ie;)gt[we]=Me(we);return gt}function aM(ie,Me){return Ni(Me,function(we){return[we,ie[we]]})}function GC(ie){return ie&&ie.slice(0,s5(ie)+1).replace(Po,"")}function As(ie){return function(Me){return ie(Me)}}function dm(ie,Me){return Ni(Me,function(we){return ie[we]})}function op(ie,Me){return ie.has(Me)}function zC(ie,Me){for(var we=-1,gt=ie.length;++we<gt&&G(Me,ie[we],0)>-1;);return we}function Ex(ie,Me){for(var we=ie.length;we--&&G(Me,ie[we],0)>-1;);return we}function lM(ie,Me){for(var we=ie.length,gt=0;we--;)ie[we]===Me&&++gt;return gt}var Dx=Zt(JI),Rx=Zt(eM);function Tx(ie){return"\\"+gx[ie]}function UC(ie,Me){return ie==null?e:ie[Me]}function Nc(ie){return XI.test(ie)}function Ix(ie){return YI.test(ie)}function cM(ie){for(var Me,we=[];!(Me=ie.next()).done;)we.push(Me.value);return we}function WC(ie){var Me=-1,we=Array(ie.size);return ie.forEach(function(gt,ln){we[++Me]=[ln,gt]}),we}function Mx(ie,Me){return function(we){return ie(Me(we))}}function Bc(ie,Me){for(var we=-1,gt=ie.length,ln=0,ti=[];++we<gt;){var io=ie[we];(io===Me||io===l)&&(ie[we]=l,ti[ln++]=we)}return ti}function sp(ie){var Me=-1,we=Array(ie.size);return ie.forEach(function(gt){we[++Me]=gt}),we}function Lre(ie){var Me=-1,we=Array(ie.size);return ie.forEach(function(gt){we[++Me]=[gt,gt]}),we}function Nre(ie,Me,we){for(var gt=we-1,ln=ie.length;++gt<ln;)if(ie[gt]===Me)return gt;return-1}function Bre(ie,Me,we){for(var gt=we+1;gt--;)if(ie[gt]===Me)return gt;return gt}function um(ie){return Nc(ie)?Hre(ie):HC(ie)}function Ql(ie){return Nc(ie)?Gre(ie):sM(ie)}function s5(ie){for(var Me=ie.length;Me--&&$n.test(ie.charAt(Me)););return Me}var Vre=Zt(an);function Hre(ie){for(var Me=OC.lastIndex=0;OC.test(ie);)++Me;return Me}function Gre(ie){return ie.match(OC)||[]}function zre(ie){return ie.match(KI)||[]}var Ure=function ie(Me){Me=Me==null?$r:Ch.defaults($r.Object(),Me,Ch.pick($r,ZI));var we=Me.Array,gt=Me.Date,ln=Me.Error,ti=Me.Function,io=Me.Math,Di=Me.Object,dM=Me.RegExp,Wre=Me.String,sl=Me.TypeError,Fx=we.prototype,jre=ti.prototype,hm=Di.prototype,Ax=Me["__core-js_shared__"],kx=jre.toString,pi=hm.hasOwnProperty,$re=0,a5=function(){var u=/[^.]+$/.exec(Ax&&Ax.keys&&Ax.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Px=hm.toString,qre=kx.call(Di),Kre=$r._,Xre=dM("^"+kx.call(pi).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ox=Cx?Me.Buffer:e,wh=Me.Symbol,Lx=Me.Uint8Array,l5=Ox?Ox.allocUnsafe:e,Nx=Mx(Di.getPrototypeOf,Di),c5=Di.create,d5=hm.propertyIsEnumerable,Bx=Fx.splice,u5=wh?wh.isConcatSpreadable:e,jC=wh?wh.iterator:e,ap=wh?wh.toStringTag:e,Vx=function(){try{var u=hp(Di,"defineProperty");return u({},"",{}),u}catch{}}(),Yre=Me.clearTimeout!==$r.clearTimeout&&Me.clearTimeout,Zre=gt&&gt.now!==$r.Date.now&&gt.now,Qre=Me.setTimeout!==$r.setTimeout&&Me.setTimeout,Hx=io.ceil,Gx=io.floor,uM=Di.getOwnPropertySymbols,Jre=Ox?Ox.isBuffer:e,h5=Me.isFinite,eoe=Fx.join,toe=Mx(Di.keys,Di),ro=io.max,rs=io.min,noe=gt.now,ioe=Me.parseInt,f5=io.random,roe=Fx.reverse,hM=hp(Me,"DataView"),$C=hp(Me,"Map"),fM=hp(Me,"Promise"),fm=hp(Me,"Set"),qC=hp(Me,"WeakMap"),KC=hp(Di,"create"),zx=qC&&new qC,pm={},ooe=fp(hM),soe=fp($C),aoe=fp(fM),loe=fp(fm),coe=fp(qC),Ux=wh?wh.prototype:e,XC=Ux?Ux.valueOf:e,p5=Ux?Ux.toString:e;function O(u){if(vr(u)&&!dn(u)&&!(u instanceof Ln)){if(u instanceof al)return u;if(pi.call(u,"__wrapped__"))return gV(u)}return new al(u)}var gm=function(){function u(){}return function(p){if(!or(p))return{};if(c5)return c5(p);u.prototype=p;var w=new u;return u.prototype=e,w}}();function Wx(){}function al(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=e}O.templateSettings={escape:ts,evaluate:fh,interpolate:Wr,variable:"",imports:{_:O}},O.prototype=Wx.prototype,O.prototype.constructor=O,al.prototype=gm(Wx.prototype),al.prototype.constructor=al;function Ln(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=be,this.__views__=[]}function doe(){var u=new Ln(this.__wrapped__);return u.__actions__=na(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=na(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=na(this.__views__),u}function uoe(){if(this.__filtered__){var u=new Ln(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function hoe(){var u=this.__wrapped__.value(),p=this.__dir__,w=dn(u),S=p<0,M=w?u.length:0,B=Sse(0,M,this.__views__),ee=B.start,te=B.end,se=te-ee,Ne=S?te:ee-1,Ve=this.__iteratees__,$e=Ve.length,dt=0,_t=rs(se,this.__takeCount__);if(!w||!S&&M==se&&_t==se)return B5(u,this.__actions__);var zt=[];e:for(;se--&&dt<_t;){Ne+=p;for(var Sn=-1,Ut=u[Ne];++Sn<$e;){var kn=Ve[Sn],Un=kn.iteratee,Ba=kn.type,Os=Un(Ut);if(Ba==oe)Ut=Os;else if(!Os){if(Ba==X)continue e;break e}}zt[dt++]=Ut}return zt}Ln.prototype=gm(Wx.prototype),Ln.prototype.constructor=Ln;function lp(u){var p=-1,w=u==null?0:u.length;for(this.clear();++p<w;){var S=u[p];this.set(S[0],S[1])}}function foe(){this.__data__=KC?KC(null):{},this.size=0}function poe(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p}function goe(u){var p=this.__data__;if(KC){var w=p[u];return w===s?e:w}return pi.call(p,u)?p[u]:e}function moe(u){var p=this.__data__;return KC?p[u]!==e:pi.call(p,u)}function voe(u,p){var w=this.__data__;return this.size+=this.has(u)?0:1,w[u]=KC&&p===e?s:p,this}lp.prototype.clear=foe,lp.prototype.delete=poe,lp.prototype.get=goe,lp.prototype.has=moe,lp.prototype.set=voe;function Yd(u){var p=-1,w=u==null?0:u.length;for(this.clear();++p<w;){var S=u[p];this.set(S[0],S[1])}}function Coe(){this.__data__=[],this.size=0}function woe(u){var p=this.__data__,w=jx(p,u);if(w<0)return!1;var S=p.length-1;return w==S?p.pop():Bx.call(p,w,1),--this.size,!0}function yoe(u){var p=this.__data__,w=jx(p,u);return w<0?e:p[w][1]}function boe(u){return jx(this.__data__,u)>-1}function _oe(u,p){var w=this.__data__,S=jx(w,u);return S<0?(++this.size,w.push([u,p])):w[S][1]=p,this}Yd.prototype.clear=Coe,Yd.prototype.delete=woe,Yd.prototype.get=yoe,Yd.prototype.has=boe,Yd.prototype.set=_oe;function Zd(u){var p=-1,w=u==null?0:u.length;for(this.clear();++p<w;){var S=u[p];this.set(S[0],S[1])}}function xoe(){this.size=0,this.__data__={hash:new lp,map:new($C||Yd),string:new lp}}function Soe(u){var p=i1(this,u).delete(u);return this.size-=p?1:0,p}function Eoe(u){return i1(this,u).get(u)}function Doe(u){return i1(this,u).has(u)}function Roe(u,p){var w=i1(this,u),S=w.size;return w.set(u,p),this.size+=w.size==S?0:1,this}Zd.prototype.clear=xoe,Zd.prototype.delete=Soe,Zd.prototype.get=Eoe,Zd.prototype.has=Doe,Zd.prototype.set=Roe;function cp(u){var p=-1,w=u==null?0:u.length;for(this.__data__=new Zd;++p<w;)this.add(u[p])}function Toe(u){return this.__data__.set(u,s),this}function Ioe(u){return this.__data__.has(u)}cp.prototype.add=cp.prototype.push=Toe,cp.prototype.has=Ioe;function Jl(u){var p=this.__data__=new Yd(u);this.size=p.size}function Moe(){this.__data__=new Yd,this.size=0}function Foe(u){var p=this.__data__,w=p.delete(u);return this.size=p.size,w}function Aoe(u){return this.__data__.get(u)}function koe(u){return this.__data__.has(u)}function Poe(u,p){var w=this.__data__;if(w instanceof Yd){var S=w.__data__;if(!$C||S.length<n-1)return S.push([u,p]),this.size=++w.size,this;w=this.__data__=new Zd(S)}return w.set(u,p),this.size=w.size,this}Jl.prototype.clear=Moe,Jl.prototype.delete=Foe,Jl.prototype.get=Aoe,Jl.prototype.has=koe,Jl.prototype.set=Poe;function g5(u,p){var w=dn(u),S=!w&&pp(u),M=!w&&!S&&Sh(u),B=!w&&!S&&!M&&wm(u),ee=w||S||M||B,te=ee?vh(u.length,Wre):[],se=te.length;for(var Ne in u)(p||pi.call(u,Ne))&&!(ee&&(Ne=="length"||M&&(Ne=="offset"||Ne=="parent")||B&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||tu(Ne,se)))&&te.push(Ne);return te}function m5(u){var p=u.length;return p?u[SM(0,p-1)]:e}function Ooe(u,p){return r1(na(u),dp(p,0,u.length))}function Loe(u){return r1(na(u))}function pM(u,p,w){(w!==e&&!ec(u[p],w)||w===e&&!(p in u))&&Qd(u,p,w)}function YC(u,p,w){var S=u[p];(!(pi.call(u,p)&&ec(S,w))||w===e&&!(p in u))&&Qd(u,p,w)}function jx(u,p){for(var w=u.length;w--;)if(ec(u[w][0],p))return w;return-1}function Noe(u,p,w,S){return yh(u,function(M,B,ee){p(S,M,w(M),ee)}),S}function v5(u,p){return u&&Hc(p,go(p),u)}function Boe(u,p){return u&&Hc(p,ra(p),u)}function Qd(u,p,w){p=="__proto__"&&Vx?Vx(u,p,{configurable:!0,enumerable:!0,value:w,writable:!0}):u[p]=w}function gM(u,p){for(var w=-1,S=p.length,M=we(S),B=u==null;++w<S;)M[w]=B?e:XM(u,p[w]);return M}function dp(u,p,w){return u===u&&(w!==e&&(u=u<=w?u:w),p!==e&&(u=u>=p?u:p)),u}function ll(u,p,w,S,M,B){var ee,te=p&c,se=p&d,Ne=p&h;if(w&&(ee=M?w(u,S,M,B):w(u)),ee!==e)return ee;if(!or(u))return u;var Ve=dn(u);if(Ve){if(ee=Dse(u),!te)return na(u,ee)}else{var $e=os(u),dt=$e==ve||$e==St;if(Sh(u))return G5(u,te);if($e==Et||$e==ne||dt&&!M){if(ee=se||dt?{}:sV(u),!te)return se?gse(u,Boe(ee,u)):pse(u,v5(ee,u))}else{if(!fi[$e])return M?u:{};ee=Rse(u,$e,te)}}B||(B=new Jl);var _t=B.get(u);if(_t)return _t;B.set(u,ee),OV(u)?u.forEach(function(Ut){ee.add(ll(Ut,p,w,Ut,u,B))}):kV(u)&&u.forEach(function(Ut,kn){ee.set(kn,ll(Ut,p,w,kn,u,B))});var zt=Ne?se?OM:PM:se?ra:go,Sn=Ve?e:zt(u);return ta(Sn||u,function(Ut,kn){Sn&&(kn=Ut,Ut=u[kn]),YC(ee,kn,ll(Ut,p,w,kn,u,B))}),ee}function Voe(u){var p=go(u);return function(w){return C5(w,u,p)}}function C5(u,p,w){var S=w.length;if(u==null)return!S;for(u=Di(u);S--;){var M=w[S],B=p[M],ee=u[M];if(ee===e&&!(M in u)||!B(ee))return!1}return!0}function w5(u,p,w){if(typeof u!="function")throw new sl(r);return iw(function(){u.apply(e,w)},p)}function ZC(u,p,w,S){var M=-1,B=cm,ee=!0,te=u.length,se=[],Ne=p.length;if(!te)return se;w&&(p=Ni(p,As(w))),S?(B=BC,ee=!1):p.length>=n&&(B=op,ee=!1,p=new cp(p));e:for(;++M<te;){var Ve=u[M],$e=w==null?Ve:w(Ve);if(Ve=S||Ve!==0?Ve:0,ee&&$e===$e){for(var dt=Ne;dt--;)if(p[dt]===$e)continue e;se.push(Ve)}else B(p,$e,S)||se.push(Ve)}return se}var yh=$5(Vc),y5=$5(vM,!0);function Hoe(u,p){var w=!0;return yh(u,function(S,M,B){return w=!!p(S,M,B),w}),w}function $x(u,p,w){for(var S=-1,M=u.length;++S<M;){var B=u[S],ee=p(B);if(ee!=null&&(te===e?ee===ee&&!Na(ee):w(ee,te)))var te=ee,se=B}return se}function Goe(u,p,w,S){var M=u.length;for(w=mn(w),w<0&&(w=-w>M?0:M+w),S=S===e||S>M?M:mn(S),S<0&&(S+=M),S=w>S?0:NV(S);w<S;)u[w++]=p;return u}function b5(u,p){var w=[];return yh(u,function(S,M,B){p(S,M,B)&&w.push(S)}),w}function No(u,p,w,S,M){var B=-1,ee=u.length;for(w||(w=Ise),M||(M=[]);++B<ee;){var te=u[B];p>0&&w(te)?p>1?No(te,p-1,w,S,M):Lc(M,te):S||(M[M.length]=te)}return M}var mM=q5(),_5=q5(!0);function Vc(u,p){return u&&mM(u,p,go)}function vM(u,p){return u&&_5(u,p,go)}function qx(u,p){return Oc(p,function(w){return nu(u[w])})}function up(u,p){p=_h(p,u);for(var w=0,S=p.length;u!=null&&w<S;)u=u[Gc(p[w++])];return w&&w==S?u:e}function x5(u,p,w){var S=p(u);return dn(u)?S:Lc(S,w(u))}function ks(u){return u==null?u===e?po:At:ap&&ap in Di(u)?xse(u):Lse(u)}function CM(u,p){return u>p}function zoe(u,p){return u!=null&&pi.call(u,p)}function Uoe(u,p){return u!=null&&p in Di(u)}function Woe(u,p,w){return u>=rs(p,w)&&u<ro(p,w)}function wM(u,p,w){for(var S=w?BC:cm,M=u[0].length,B=u.length,ee=B,te=we(B),se=1/0,Ne=[];ee--;){var Ve=u[ee];ee&&p&&(Ve=Ni(Ve,As(p))),se=rs(Ve.length,se),te[ee]=!w&&(p||M>=120&&Ve.length>=120)?new cp(ee&&Ve):e}Ve=u[0];var $e=-1,dt=te[0];e:for(;++$e<M&&Ne.length<se;){var _t=Ve[$e],zt=p?p(_t):_t;if(_t=w||_t!==0?_t:0,!(dt?op(dt,zt):S(Ne,zt,w))){for(ee=B;--ee;){var Sn=te[ee];if(!(Sn?op(Sn,zt):S(u[ee],zt,w)))continue e}dt&&dt.push(zt),Ne.push(_t)}}return Ne}function joe(u,p,w,S){return Vc(u,function(M,B,ee){p(S,w(M),B,ee)}),S}function QC(u,p,w){p=_h(p,u),u=dV(u,p);var S=u==null?u:u[Gc(dl(p))];return S==null?e:Fs(S,u,w)}function S5(u){return vr(u)&&ks(u)==ne}function $oe(u){return vr(u)&&ks(u)==nr}function qoe(u){return vr(u)&&ks(u)==ke}function JC(u,p,w,S,M){return u===p?!0:u==null||p==null||!vr(u)&&!vr(p)?u!==u&&p!==p:Koe(u,p,w,S,JC,M)}function Koe(u,p,w,S,M,B){var ee=dn(u),te=dn(p),se=ee?Q:os(u),Ne=te?Q:os(p);se=se==ne?Et:se,Ne=Ne==ne?Et:Ne;var Ve=se==Et,$e=Ne==Et,dt=se==Ne;if(dt&&Sh(u)){if(!Sh(p))return!1;ee=!0,Ve=!1}if(dt&&!Ve)return B||(B=new Jl),ee||wm(u)?iV(u,p,w,S,M,B):bse(u,p,se,w,S,M,B);if(!(w&f)){var _t=Ve&&pi.call(u,"__wrapped__"),zt=$e&&pi.call(p,"__wrapped__");if(_t||zt){var Sn=_t?u.value():u,Ut=zt?p.value():p;return B||(B=new Jl),M(Sn,Ut,w,S,B)}}return dt?(B||(B=new Jl),_se(u,p,w,S,M,B)):!1}function Xoe(u){return vr(u)&&os(u)==Y}function yM(u,p,w,S){var M=w.length,B=M,ee=!S;if(u==null)return!B;for(u=Di(u);M--;){var te=w[M];if(ee&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++M<B;){te=w[M];var se=te[0],Ne=u[se],Ve=te[1];if(ee&&te[2]){if(Ne===e&&!(se in u))return!1}else{var $e=new Jl;if(S)var dt=S(Ne,Ve,se,u,p,$e);if(!(dt===e?JC(Ve,Ne,f|g,S,$e):dt))return!1}}return!0}function E5(u){if(!or(u)||Fse(u))return!1;var p=nu(u)?Xre:Ee;return p.test(fp(u))}function Yoe(u){return vr(u)&&ks(u)==vt}function Zoe(u){return vr(u)&&os(u)==xn}function Qoe(u){return vr(u)&&d1(u.length)&&!!Ei[ks(u)]}function D5(u){return typeof u=="function"?u:u==null?oa:typeof u=="object"?dn(u)?I5(u[0],u[1]):T5(u):KV(u)}function bM(u){if(!nw(u))return toe(u);var p=[];for(var w in Di(u))pi.call(u,w)&&w!="constructor"&&p.push(w);return p}function Joe(u){if(!or(u))return Ose(u);var p=nw(u),w=[];for(var S in u)S=="constructor"&&(p||!pi.call(u,S))||w.push(S);return w}function _M(u,p){return u<p}function R5(u,p){var w=-1,S=ia(u)?we(u.length):[];return yh(u,function(M,B,ee){S[++w]=p(M,B,ee)}),S}function T5(u){var p=NM(u);return p.length==1&&p[0][2]?lV(p[0][0],p[0][1]):function(w){return w===u||yM(w,u,p)}}function I5(u,p){return VM(u)&&aV(p)?lV(Gc(u),p):function(w){var S=XM(w,u);return S===e&&S===p?YM(w,u):JC(p,S,f|g)}}function Kx(u,p,w,S,M){u!==p&&mM(p,function(B,ee){if(M||(M=new Jl),or(B))ese(u,p,ee,w,Kx,S,M);else{var te=S?S(GM(u,ee),B,ee+"",u,p,M):e;te===e&&(te=B),pM(u,ee,te)}},ra)}function ese(u,p,w,S,M,B,ee){var te=GM(u,w),se=GM(p,w),Ne=ee.get(se);if(Ne){pM(u,w,Ne);return}var Ve=B?B(te,se,w+"",u,p,ee):e,$e=Ve===e;if($e){var dt=dn(se),_t=!dt&&Sh(se),zt=!dt&&!_t&&wm(se);Ve=se,dt||_t||zt?dn(te)?Ve=te:Ar(te)?Ve=na(te):_t?($e=!1,Ve=G5(se,!0)):zt?($e=!1,Ve=z5(se,!0)):Ve=[]:rw(se)||pp(se)?(Ve=te,pp(te)?Ve=BV(te):(!or(te)||nu(te))&&(Ve=sV(se))):$e=!1}$e&&(ee.set(se,Ve),M(Ve,se,S,B,ee),ee.delete(se)),pM(u,w,Ve)}function M5(u,p){var w=u.length;if(w)return p+=p<0?w:0,tu(p,w)?u[p]:e}function F5(u,p,w){p.length?p=Ni(p,function(B){return dn(B)?function(ee){return up(ee,B.length===1?B[0]:B)}:B}):p=[oa];var S=-1;p=Ni(p,As(Vt()));var M=R5(u,function(B,ee,te){var se=Ni(p,function(Ne){return Ne(B)});return{criteria:se,index:++S,value:B}});return ei(M,function(B,ee){return fse(B,ee,w)})}function tse(u,p){return A5(u,p,function(w,S){return YM(u,S)})}function A5(u,p,w){for(var S=-1,M=p.length,B={};++S<M;){var ee=p[S],te=up(u,ee);w(te,ee)&&ew(B,_h(ee,u),te)}return B}function nse(u){return function(p){return up(p,u)}}function xM(u,p,w,S){var M=S?J:G,B=-1,ee=p.length,te=u;for(u===p&&(p=na(p)),w&&(te=Ni(u,As(w)));++B<ee;)for(var se=0,Ne=p[B],Ve=w?w(Ne):Ne;(se=M(te,Ve,se,S))>-1;)te!==u&&Bx.call(te,se,1),Bx.call(u,se,1);return u}function k5(u,p){for(var w=u?p.length:0,S=w-1;w--;){var M=p[w];if(w==S||M!==B){var B=M;tu(M)?Bx.call(u,M,1):RM(u,M)}}return u}function SM(u,p){return u+Gx(f5()*(p-u+1))}function ise(u,p,w,S){for(var M=-1,B=ro(Hx((p-u)/(w||1)),0),ee=we(B);B--;)ee[S?B:++M]=u,u+=w;return ee}function EM(u,p){var w="";if(!u||p<1||p>Le)return w;do p%2&&(w+=u),p=Gx(p/2),p&&(u+=u);while(p);return w}function Dn(u,p){return zM(cV(u,p,oa),u+"")}function rse(u){return m5(ym(u))}function ose(u,p){var w=ym(u);return r1(w,dp(p,0,w.length))}function ew(u,p,w,S){if(!or(u))return u;p=_h(p,u);for(var M=-1,B=p.length,ee=B-1,te=u;te!=null&&++M<B;){var se=Gc(p[M]),Ne=w;if(se==="__proto__"||se==="constructor"||se==="prototype")return u;if(M!=ee){var Ve=te[se];Ne=S?S(Ve,se,te):e,Ne===e&&(Ne=or(Ve)?Ve:tu(p[M+1])?[]:{})}YC(te,se,Ne),te=te[se]}return u}var P5=zx?function(u,p){return zx.set(u,p),u}:oa,sse=Vx?function(u,p){return Vx(u,"toString",{configurable:!0,enumerable:!1,value:QM(p),writable:!0})}:oa;function ase(u){return r1(ym(u))}function cl(u,p,w){var S=-1,M=u.length;p<0&&(p=-p>M?0:M+p),w=w>M?M:w,w<0&&(w+=M),M=p>w?0:w-p>>>0,p>>>=0;for(var B=we(M);++S<M;)B[S]=u[S+p];return B}function lse(u,p){var w;return yh(u,function(S,M,B){return w=p(S,M,B),!w}),!!w}function Xx(u,p,w){var S=0,M=u==null?S:u.length;if(typeof p=="number"&&p===p&&M<=he){for(;S<M;){var B=S+M>>>1,ee=u[B];ee!==null&&!Na(ee)&&(w?ee<=p:ee<p)?S=B+1:M=B}return M}return DM(u,p,oa,w)}function DM(u,p,w,S){var M=0,B=u==null?0:u.length;if(B===0)return 0;p=w(p);for(var ee=p!==p,te=p===null,se=Na(p),Ne=p===e;M<B;){var Ve=Gx((M+B)/2),$e=w(u[Ve]),dt=$e!==e,_t=$e===null,zt=$e===$e,Sn=Na($e);if(ee)var Ut=S||zt;else Ne?Ut=zt&&(S||dt):te?Ut=zt&&dt&&(S||!_t):se?Ut=zt&&dt&&!_t&&(S||!Sn):_t||Sn?Ut=!1:Ut=S?$e<=p:$e<p;Ut?M=Ve+1:B=Ve}return rs(B,Ae)}function O5(u,p){for(var w=-1,S=u.length,M=0,B=[];++w<S;){var ee=u[w],te=p?p(ee):ee;if(!w||!ec(te,se)){var se=te;B[M++]=ee===0?0:ee}}return B}function L5(u){return typeof u=="number"?u:Na(u)?Ge:+u}function La(u){if(typeof u=="string")return u;if(dn(u))return Ni(u,La)+"";if(Na(u))return p5?p5.call(u):"";var p=u+"";return p=="0"&&1/u==-ae?"-0":p}function bh(u,p,w){var S=-1,M=cm,B=u.length,ee=!0,te=[],se=te;if(w)ee=!1,M=BC;else if(B>=n){var Ne=p?null:wse(u);if(Ne)return sp(Ne);ee=!1,M=op,se=new cp}else se=p?[]:te;e:for(;++S<B;){var Ve=u[S],$e=p?p(Ve):Ve;if(Ve=w||Ve!==0?Ve:0,ee&&$e===$e){for(var dt=se.length;dt--;)if(se[dt]===$e)continue e;p&&se.push($e),te.push(Ve)}else M(se,$e,w)||(se!==te&&se.push($e),te.push(Ve))}return te}function RM(u,p){return p=_h(p,u),u=dV(u,p),u==null||delete u[Gc(dl(p))]}function N5(u,p,w,S){return ew(u,p,w(up(u,p)),S)}function Yx(u,p,w,S){for(var M=u.length,B=S?M:-1;(S?B--:++B<M)&&p(u[B],B,u););return w?cl(u,S?0:B,S?B+1:M):cl(u,S?B+1:0,S?M:B)}function B5(u,p){var w=u;return w instanceof Ln&&(w=w.value()),VC(p,function(S,M){return M.func.apply(M.thisArg,Lc([S],M.args))},w)}function TM(u,p,w){var S=u.length;if(S<2)return S?bh(u[0]):[];for(var M=-1,B=we(S);++M<S;)for(var ee=u[M],te=-1;++te<S;)te!=M&&(B[M]=ZC(B[M]||ee,u[te],p,w));return bh(No(B,1),p,w)}function V5(u,p,w){for(var S=-1,M=u.length,B=p.length,ee={};++S<M;){var te=S<B?p[S]:e;w(ee,u[S],te)}return ee}function IM(u){return Ar(u)?u:[]}function MM(u){return typeof u=="function"?u:oa}function _h(u,p){return dn(u)?u:VM(u,p)?[u]:pV(di(u))}var cse=Dn;function xh(u,p,w){var S=u.length;return w=w===e?S:w,!p&&w>=S?u:cl(u,p,w)}var H5=Yre||function(u){return $r.clearTimeout(u)};function G5(u,p){if(p)return u.slice();var w=u.length,S=l5?l5(w):new u.constructor(w);return u.copy(S),S}function FM(u){var p=new u.constructor(u.byteLength);return new Lx(p).set(new Lx(u)),p}function dse(u,p){var w=p?FM(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.byteLength)}function use(u){var p=new u.constructor(u.source,q.exec(u));return p.lastIndex=u.lastIndex,p}function hse(u){return XC?Di(XC.call(u)):{}}function z5(u,p){var w=p?FM(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.length)}function U5(u,p){if(u!==p){var w=u!==e,S=u===null,M=u===u,B=Na(u),ee=p!==e,te=p===null,se=p===p,Ne=Na(p);if(!te&&!Ne&&!B&&u>p||B&&ee&&se&&!te&&!Ne||S&&ee&&se||!w&&se||!M)return 1;if(!S&&!B&&!Ne&&u<p||Ne&&w&&M&&!S&&!B||te&&w&&M||!ee&&M||!se)return-1}return 0}function fse(u,p,w){for(var S=-1,M=u.criteria,B=p.criteria,ee=M.length,te=w.length;++S<ee;){var se=U5(M[S],B[S]);if(se){if(S>=te)return se;var Ne=w[S];return se*(Ne=="desc"?-1:1)}}return u.index-p.index}function W5(u,p,w,S){for(var M=-1,B=u.length,ee=w.length,te=-1,se=p.length,Ne=ro(B-ee,0),Ve=we(se+Ne),$e=!S;++te<se;)Ve[te]=p[te];for(;++M<ee;)($e||M<B)&&(Ve[w[M]]=u[M]);for(;Ne--;)Ve[te++]=u[M++];return Ve}function j5(u,p,w,S){for(var M=-1,B=u.length,ee=-1,te=w.length,se=-1,Ne=p.length,Ve=ro(B-te,0),$e=we(Ve+Ne),dt=!S;++M<Ve;)$e[M]=u[M];for(var _t=M;++se<Ne;)$e[_t+se]=p[se];for(;++ee<te;)(dt||M<B)&&($e[_t+w[ee]]=u[M++]);return $e}function na(u,p){var w=-1,S=u.length;for(p||(p=we(S));++w<S;)p[w]=u[w];return p}function Hc(u,p,w,S){var M=!w;w||(w={});for(var B=-1,ee=p.length;++B<ee;){var te=p[B],se=S?S(w[te],u[te],te,w,u):e;se===e&&(se=u[te]),M?Qd(w,te,se):YC(w,te,se)}return w}function pse(u,p){return Hc(u,BM(u),p)}function gse(u,p){return Hc(u,rV(u),p)}function Zx(u,p){return function(w,S){var M=dn(w)?iM:Noe,B=p?p():{};return M(w,u,Vt(S,2),B)}}function mm(u){return Dn(function(p,w){var S=-1,M=w.length,B=M>1?w[M-1]:e,ee=M>2?w[2]:e;for(B=u.length>3&&typeof B=="function"?(M--,B):e,ee&&Ps(w[0],w[1],ee)&&(B=M<3?e:B,M=1),p=Di(p);++S<M;){var te=w[S];te&&u(p,te,S,B)}return p})}function $5(u,p){return function(w,S){if(w==null)return w;if(!ia(w))return u(w,S);for(var M=w.length,B=p?M:-1,ee=Di(w);(p?B--:++B<M)&&S(ee[B],B,ee)!==!1;);return w}}function q5(u){return function(p,w,S){for(var M=-1,B=Di(p),ee=S(p),te=ee.length;te--;){var se=ee[u?te:++M];if(w(B[se],se,B)===!1)break}return p}}function mse(u,p,w){var S=p&m,M=tw(u);function B(){var ee=this&&this!==$r&&this instanceof B?M:u;return ee.apply(S?w:this,arguments)}return B}function K5(u){return function(p){p=di(p);var w=Nc(p)?Ql(p):e,S=w?w[0]:p.charAt(0),M=w?xh(w,1).join(""):p.slice(1);return S[u]()+M}}function vm(u){return function(p){return VC($V(jV(p).replace($I,"")),u,"")}}function tw(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var w=gm(u.prototype),S=u.apply(w,p);return or(S)?S:w}}function vse(u,p,w){var S=tw(u);function M(){for(var B=arguments.length,ee=we(B),te=B,se=Cm(M);te--;)ee[te]=arguments[te];var Ne=B<3&&ee[0]!==se&&ee[B-1]!==se?[]:Bc(ee,se);if(B-=Ne.length,B<w)return J5(u,p,Qx,M.placeholder,e,ee,Ne,e,e,w-B);var Ve=this&&this!==$r&&this instanceof M?S:u;return Fs(Ve,this,ee)}return M}function X5(u){return function(p,w,S){var M=Di(p);if(!ia(p)){var B=Vt(w,3);p=go(p),w=function(te){return B(M[te],te,M)}}var ee=u(p,w,S);return ee>-1?M[B?p[ee]:ee]:e}}function Y5(u){return eu(function(p){var w=p.length,S=w,M=al.prototype.thru;for(u&&p.reverse();S--;){var B=p[S];if(typeof B!="function")throw new sl(r);if(M&&!ee&&n1(B)=="wrapper")var ee=new al([],!0)}for(S=ee?S:w;++S<w;){B=p[S];var te=n1(B),se=te=="wrapper"?LM(B):e;se&&HM(se[0])&&se[1]==(I|y|_|F)&&!se[4].length&&se[9]==1?ee=ee[n1(se[0])].apply(ee,se[3]):ee=B.length==1&&HM(B)?ee[te]():ee.thru(B)}return function(){var Ne=arguments,Ve=Ne[0];if(ee&&Ne.length==1&&dn(Ve))return ee.plant(Ve).value();for(var $e=0,dt=w?p[$e].apply(this,Ne):Ve;++$e<w;)dt=p[$e].call(this,dt);return dt}})}function Qx(u,p,w,S,M,B,ee,te,se,Ne){var Ve=p&I,$e=p&m,dt=p&v,_t=p&(y|x),zt=p&T,Sn=dt?e:tw(u);function Ut(){for(var kn=arguments.length,Un=we(kn),Ba=kn;Ba--;)Un[Ba]=arguments[Ba];if(_t)var Os=Cm(Ut),Va=lM(Un,Os);if(S&&(Un=W5(Un,S,M,_t)),B&&(Un=j5(Un,B,ee,_t)),kn-=Va,_t&&kn<Ne){var kr=Bc(Un,Os);return J5(u,p,Qx,Ut.placeholder,w,Un,kr,te,se,Ne-kn)}var tc=$e?w:this,ru=dt?tc[u]:u;return kn=Un.length,te?Un=Nse(Un,te):zt&&kn>1&&Un.reverse(),Ve&&se<kn&&(Un.length=se),this&&this!==$r&&this instanceof Ut&&(ru=Sn||tw(ru)),ru.apply(tc,Un)}return Ut}function Z5(u,p){return function(w,S){return joe(w,u,p(S),{})}}function Jx(u,p){return function(w,S){var M;if(w===e&&S===e)return p;if(w!==e&&(M=w),S!==e){if(M===e)return S;typeof w=="string"||typeof S=="string"?(w=La(w),S=La(S)):(w=L5(w),S=L5(S)),M=u(w,S)}return M}}function AM(u){return eu(function(p){return p=Ni(p,As(Vt())),Dn(function(w){var S=this;return u(p,function(M){return Fs(M,S,w)})})})}function e1(u,p){p=p===e?" ":La(p);var w=p.length;if(w<2)return w?EM(p,u):p;var S=EM(p,Hx(u/um(p)));return Nc(p)?xh(Ql(S),0,u).join(""):S.slice(0,u)}function Cse(u,p,w,S){var M=p&m,B=tw(u);function ee(){for(var te=-1,se=arguments.length,Ne=-1,Ve=S.length,$e=we(Ve+se),dt=this&&this!==$r&&this instanceof ee?B:u;++Ne<Ve;)$e[Ne]=S[Ne];for(;se--;)$e[Ne++]=arguments[++te];return Fs(dt,M?w:this,$e)}return ee}function Q5(u){return function(p,w,S){return S&&typeof S!="number"&&Ps(p,w,S)&&(w=S=e),p=iu(p),w===e?(w=p,p=0):w=iu(w),S=S===e?p<w?1:-1:iu(S),ise(p,w,S,u)}}function t1(u){return function(p,w){return typeof p=="string"&&typeof w=="string"||(p=ul(p),w=ul(w)),u(p,w)}}function J5(u,p,w,S,M,B,ee,te,se,Ne){var Ve=p&y,$e=Ve?ee:e,dt=Ve?e:ee,_t=Ve?B:e,zt=Ve?e:B;p|=Ve?_:R,p&=~(Ve?R:_),p&C||(p&=~(m|v));var Sn=[u,p,M,_t,$e,zt,dt,te,se,Ne],Ut=w.apply(e,Sn);return HM(u)&&uV(Ut,Sn),Ut.placeholder=S,hV(Ut,u,p)}function kM(u){var p=io[u];return function(w,S){if(w=ul(w),S=S==null?0:rs(mn(S),292),S&&h5(w)){var M=(di(w)+"e").split("e"),B=p(M[0]+"e"+(+M[1]+S));return M=(di(B)+"e").split("e"),+(M[0]+"e"+(+M[1]-S))}return p(w)}}var wse=fm&&1/sp(new fm([,-0]))[1]==ae?function(u){return new fm(u)}:tF;function eV(u){return function(p){var w=os(p);return w==Y?WC(p):w==xn?Lre(p):aM(p,u(p))}}function Jd(u,p,w,S,M,B,ee,te){var se=p&v;if(!se&&typeof u!="function")throw new sl(r);var Ne=S?S.length:0;if(Ne||(p&=~(_|R),S=M=e),ee=ee===e?ee:ro(mn(ee),0),te=te===e?te:mn(te),Ne-=M?M.length:0,p&R){var Ve=S,$e=M;S=M=e}var dt=se?e:LM(u),_t=[u,p,w,S,M,Ve,$e,B,ee,te];if(dt&&Pse(_t,dt),u=_t[0],p=_t[1],w=_t[2],S=_t[3],M=_t[4],te=_t[9]=_t[9]===e?se?0:u.length:ro(_t[9]-Ne,0),!te&&p&(y|x)&&(p&=~(y|x)),!p||p==m)var zt=mse(u,p,w);else p==y||p==x?zt=vse(u,p,te):(p==_||p==(m|_))&&!M.length?zt=Cse(u,p,w,S):zt=Qx.apply(e,_t);var Sn=dt?P5:uV;return hV(Sn(zt,_t),u,p)}function tV(u,p,w,S){return u===e||ec(u,hm[w])&&!pi.call(S,w)?p:u}function nV(u,p,w,S,M,B){return or(u)&&or(p)&&(B.set(p,u),Kx(u,p,e,nV,B),B.delete(p)),u}function yse(u){return rw(u)?e:u}function iV(u,p,w,S,M,B){var ee=w&f,te=u.length,se=p.length;if(te!=se&&!(ee&&se>te))return!1;var Ne=B.get(u),Ve=B.get(p);if(Ne&&Ve)return Ne==p&&Ve==u;var $e=-1,dt=!0,_t=w&g?new cp:e;for(B.set(u,p),B.set(p,u);++$e<te;){var zt=u[$e],Sn=p[$e];if(S)var Ut=ee?S(Sn,zt,$e,p,u,B):S(zt,Sn,$e,u,p,B);if(Ut!==e){if(Ut)continue;dt=!1;break}if(_t){if(!Fr(p,function(kn,Un){if(!op(_t,Un)&&(zt===kn||M(zt,kn,w,S,B)))return _t.push(Un)})){dt=!1;break}}else if(!(zt===Sn||M(zt,Sn,w,S,B))){dt=!1;break}}return B.delete(u),B.delete(p),dt}function bse(u,p,w,S,M,B,ee){switch(w){case rn:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case nr:return!(u.byteLength!=p.byteLength||!B(new Lx(u),new Lx(p)));case le:case ke:case $t:return ec(+u,+p);case Be:return u.name==p.name&&u.message==p.message;case vt:case yi:return u==p+"";case Y:var te=WC;case xn:var se=S&f;if(te||(te=sp),u.size!=p.size&&!se)return!1;var Ne=ee.get(u);if(Ne)return Ne==p;S|=g,ee.set(u,p);var Ve=iV(te(u),te(p),S,M,B,ee);return ee.delete(u),Ve;case Pi:if(XC)return XC.call(u)==XC.call(p)}return!1}function _se(u,p,w,S,M,B){var ee=w&f,te=PM(u),se=te.length,Ne=PM(p),Ve=Ne.length;if(se!=Ve&&!ee)return!1;for(var $e=se;$e--;){var dt=te[$e];if(!(ee?dt in p:pi.call(p,dt)))return!1}var _t=B.get(u),zt=B.get(p);if(_t&&zt)return _t==p&&zt==u;var Sn=!0;B.set(u,p),B.set(p,u);for(var Ut=ee;++$e<se;){dt=te[$e];var kn=u[dt],Un=p[dt];if(S)var Ba=ee?S(Un,kn,dt,p,u,B):S(kn,Un,dt,u,p,B);if(!(Ba===e?kn===Un||M(kn,Un,w,S,B):Ba)){Sn=!1;break}Ut||(Ut=dt=="constructor")}if(Sn&&!Ut){var Os=u.constructor,Va=p.constructor;Os!=Va&&"constructor"in u&&"constructor"in p&&!(typeof Os=="function"&&Os instanceof Os&&typeof Va=="function"&&Va instanceof Va)&&(Sn=!1)}return B.delete(u),B.delete(p),Sn}function eu(u){return zM(cV(u,e,CV),u+"")}function PM(u){return x5(u,go,BM)}function OM(u){return x5(u,ra,rV)}var LM=zx?function(u){return zx.get(u)}:tF;function n1(u){for(var p=u.name+"",w=pm[p],S=pi.call(pm,p)?w.length:0;S--;){var M=w[S],B=M.func;if(B==null||B==u)return M.name}return p}function Cm(u){var p=pi.call(O,"placeholder")?O:u;return p.placeholder}function Vt(){var u=O.iteratee||JM;return u=u===JM?D5:u,arguments.length?u(arguments[0],arguments[1]):u}function i1(u,p){var w=u.__data__;return Mse(p)?w[typeof p=="string"?"string":"hash"]:w.map}function NM(u){for(var p=go(u),w=p.length;w--;){var S=p[w],M=u[S];p[w]=[S,M,aV(M)]}return p}function hp(u,p){var w=UC(u,p);return E5(w)?w:e}function xse(u){var p=pi.call(u,ap),w=u[ap];try{u[ap]=e;var S=!0}catch{}var M=Px.call(u);return S&&(p?u[ap]=w:delete u[ap]),M}var BM=uM?function(u){return u==null?[]:(u=Di(u),Oc(uM(u),function(p){return d5.call(u,p)}))}:nF,rV=uM?function(u){for(var p=[];u;)Lc(p,BM(u)),u=Nx(u);return p}:nF,os=ks;(hM&&os(new hM(new ArrayBuffer(1)))!=rn||$C&&os(new $C)!=Y||fM&&os(fM.resolve())!=Dt||fm&&os(new fm)!=xn||qC&&os(new qC)!=An)&&(os=function(u){var p=ks(u),w=p==Et?u.constructor:e,S=w?fp(w):"";if(S)switch(S){case ooe:return rn;case soe:return Y;case aoe:return Dt;case loe:return xn;case coe:return An}return p});function Sse(u,p,w){for(var S=-1,M=w.length;++S<M;){var B=w[S],ee=B.size;switch(B.type){case"drop":u+=ee;break;case"dropRight":p-=ee;break;case"take":p=rs(p,u+ee);break;case"takeRight":u=ro(u,p-ee);break}}return{start:u,end:p}}function Ese(u){var p=u.match(ns);return p?p[1].split(ip):[]}function oV(u,p,w){p=_h(p,u);for(var S=-1,M=p.length,B=!1;++S<M;){var ee=Gc(p[S]);if(!(B=u!=null&&w(u,ee)))break;u=u[ee]}return B||++S!=M?B:(M=u==null?0:u.length,!!M&&d1(M)&&tu(ee,M)&&(dn(u)||pp(u)))}function Dse(u){var p=u.length,w=new u.constructor(p);return p&&typeof u[0]=="string"&&pi.call(u,"index")&&(w.index=u.index,w.input=u.input),w}function sV(u){return typeof u.constructor=="function"&&!nw(u)?gm(Nx(u)):{}}function Rse(u,p,w){var S=u.constructor;switch(p){case nr:return FM(u);case le:case ke:return new S(+u);case rn:return dse(u,w);case Xn:case Gi:case Xi:case Te:case re:case ce:case rt:case Ot:case cn:return z5(u,w);case Y:return new S;case $t:case yi:return new S(u);case vt:return use(u);case xn:return new S;case Pi:return hse(u)}}function Tse(u,p){var w=p.length;if(!w)return u;var S=w-1;return p[S]=(w>1?"& ":"")+p[S],p=p.join(w>2?", ":" "),u.replace(Mr,`{
/* [wrapped with `+p+`] */
`)}function Ise(u){return dn(u)||pp(u)||!!(u5&&u&&u[u5])}function tu(u,p){var w=typeof u;return p=p??Le,!!p&&(w=="number"||w!="symbol"&&fe.test(u))&&u>-1&&u%1==0&&u<p}function Ps(u,p,w){if(!or(w))return!1;var S=typeof p;return(S=="number"?ia(w)&&tu(p,w.length):S=="string"&&p in w)?ec(w[p],u):!1}function VM(u,p){if(dn(u))return!1;var w=typeof u;return w=="number"||w=="symbol"||w=="boolean"||u==null||Na(u)?!0:to.test(u)||!Js.test(u)||p!=null&&u in Di(p)}function Mse(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function HM(u){var p=n1(u),w=O[p];if(typeof w!="function"||!(p in Ln.prototype))return!1;if(u===w)return!0;var S=LM(w);return!!S&&u===S[0]}function Fse(u){return!!a5&&a5 in u}var Ase=Ax?nu:iF;function nw(u){var p=u&&u.constructor,w=typeof p=="function"&&p.prototype||hm;return u===w}function aV(u){return u===u&&!or(u)}function lV(u,p){return function(w){return w==null?!1:w[u]===p&&(p!==e||u in Di(w))}}function kse(u){var p=l1(u,function(S){return w.size===a&&w.clear(),S}),w=p.cache;return p}function Pse(u,p){var w=u[1],S=p[1],M=w|S,B=M<(m|v|I),ee=S==I&&w==y||S==I&&w==F&&u[7].length<=p[8]||S==(I|F)&&p[7].length<=p[8]&&w==y;if(!(B||ee))return u;S&m&&(u[2]=p[2],M|=w&m?0:C);var te=p[3];if(te){var se=u[3];u[3]=se?W5(se,te,p[4]):te,u[4]=se?Bc(u[3],l):p[4]}return te=p[5],te&&(se=u[5],u[5]=se?j5(se,te,p[6]):te,u[6]=se?Bc(u[5],l):p[6]),te=p[7],te&&(u[7]=te),S&I&&(u[8]=u[8]==null?p[8]:rs(u[8],p[8])),u[9]==null&&(u[9]=p[9]),u[0]=p[0],u[1]=M,u}function Ose(u){var p=[];if(u!=null)for(var w in Di(u))p.push(w);return p}function Lse(u){return Px.call(u)}function cV(u,p,w){return p=ro(p===e?u.length-1:p,0),function(){for(var S=arguments,M=-1,B=ro(S.length-p,0),ee=we(B);++M<B;)ee[M]=S[p+M];M=-1;for(var te=we(p+1);++M<p;)te[M]=S[M];return te[p]=w(ee),Fs(u,this,te)}}function dV(u,p){return p.length<2?u:up(u,cl(p,0,-1))}function Nse(u,p){for(var w=u.length,S=rs(p.length,w),M=na(u);S--;){var B=p[S];u[S]=tu(B,w)?M[B]:e}return u}function GM(u,p){if(!(p==="constructor"&&typeof u[p]=="function")&&p!="__proto__")return u[p]}var uV=fV(P5),iw=Qre||function(u,p){return $r.setTimeout(u,p)},zM=fV(sse);function hV(u,p,w){var S=p+"";return zM(u,Tse(S,Bse(Ese(S),w)))}function fV(u){var p=0,w=0;return function(){var S=noe(),M=W-(S-w);if(w=S,M>0){if(++p>=U)return arguments[0]}else p=0;return u.apply(e,arguments)}}function r1(u,p){var w=-1,S=u.length,M=S-1;for(p=p===e?S:p;++w<p;){var B=SM(w,M),ee=u[B];u[B]=u[w],u[w]=ee}return u.length=p,u}var pV=kse(function(u){var p=[];return u.charCodeAt(0)===46&&p.push(""),u.replace(ko,function(w,S,M,B){p.push(M?B.replace(H,"$1"):S||w)}),p});function Gc(u){if(typeof u=="string"||Na(u))return u;var p=u+"";return p=="0"&&1/u==-ae?"-0":p}function fp(u){if(u!=null){try{return kx.call(u)}catch{}try{return u+""}catch{}}return""}function Bse(u,p){return ta(N,function(w){var S="_."+w[0];p&w[1]&&!cm(u,S)&&u.push(S)}),u.sort()}function gV(u){if(u instanceof Ln)return u.clone();var p=new al(u.__wrapped__,u.__chain__);return p.__actions__=na(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}function Vse(u,p,w){(w?Ps(u,p,w):p===e)?p=1:p=ro(mn(p),0);var S=u==null?0:u.length;if(!S||p<1)return[];for(var M=0,B=0,ee=we(Hx(S/p));M<S;)ee[B++]=cl(u,M,M+=p);return ee}function Hse(u){for(var p=-1,w=u==null?0:u.length,S=0,M=[];++p<w;){var B=u[p];B&&(M[S++]=B)}return M}function Gse(){var u=arguments.length;if(!u)return[];for(var p=we(u-1),w=arguments[0],S=u;S--;)p[S-1]=arguments[S];return Lc(dn(w)?na(w):[w],No(p,1))}var zse=Dn(function(u,p){return Ar(u)?ZC(u,No(p,1,Ar,!0)):[]}),Use=Dn(function(u,p){var w=dl(p);return Ar(w)&&(w=e),Ar(u)?ZC(u,No(p,1,Ar,!0),Vt(w,2)):[]}),Wse=Dn(function(u,p){var w=dl(p);return Ar(w)&&(w=e),Ar(u)?ZC(u,No(p,1,Ar,!0),e,w):[]});function jse(u,p,w){var S=u==null?0:u.length;return S?(p=w||p===e?1:mn(p),cl(u,p<0?0:p,S)):[]}function $se(u,p,w){var S=u==null?0:u.length;return S?(p=w||p===e?1:mn(p),p=S-p,cl(u,0,p<0?0:p)):[]}function qse(u,p){return u&&u.length?Yx(u,Vt(p,3),!0,!0):[]}function Kse(u,p){return u&&u.length?Yx(u,Vt(p,3),!0):[]}function Xse(u,p,w,S){var M=u==null?0:u.length;return M?(w&&typeof w!="number"&&Ps(u,p,w)&&(w=0,S=M),Goe(u,p,w,S)):[]}function mV(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var M=w==null?0:mn(w);return M<0&&(M=ro(S+M,0)),E(u,Vt(p,3),M)}function vV(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var M=S-1;return w!==e&&(M=mn(w),M=w<0?ro(S+M,0):rs(M,S-1)),E(u,Vt(p,3),M,!0)}function CV(u){var p=u==null?0:u.length;return p?No(u,1):[]}function Yse(u){var p=u==null?0:u.length;return p?No(u,ae):[]}function Zse(u,p){var w=u==null?0:u.length;return w?(p=p===e?1:mn(p),No(u,p)):[]}function Qse(u){for(var p=-1,w=u==null?0:u.length,S={};++p<w;){var M=u[p];S[M[0]]=M[1]}return S}function wV(u){return u&&u.length?u[0]:e}function Jse(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var M=w==null?0:mn(w);return M<0&&(M=ro(S+M,0)),G(u,p,M)}function eae(u){var p=u==null?0:u.length;return p?cl(u,0,-1):[]}var tae=Dn(function(u){var p=Ni(u,IM);return p.length&&p[0]===u[0]?wM(p):[]}),nae=Dn(function(u){var p=dl(u),w=Ni(u,IM);return p===dl(w)?p=e:w.pop(),w.length&&w[0]===u[0]?wM(w,Vt(p,2)):[]}),iae=Dn(function(u){var p=dl(u),w=Ni(u,IM);return p=typeof p=="function"?p:e,p&&w.pop(),w.length&&w[0]===u[0]?wM(w,e,p):[]});function rae(u,p){return u==null?"":eoe.call(u,p)}function dl(u){var p=u==null?0:u.length;return p?u[p-1]:e}function oae(u,p,w){var S=u==null?0:u.length;if(!S)return-1;var M=S;return w!==e&&(M=mn(w),M=M<0?ro(S+M,0):rs(M,S-1)),p===p?Bre(u,p,M):E(u,Fe,M,!0)}function sae(u,p){return u&&u.length?M5(u,mn(p)):e}var aae=Dn(yV);function yV(u,p){return u&&u.length&&p&&p.length?xM(u,p):u}function lae(u,p,w){return u&&u.length&&p&&p.length?xM(u,p,Vt(w,2)):u}function cae(u,p,w){return u&&u.length&&p&&p.length?xM(u,p,e,w):u}var dae=eu(function(u,p){var w=u==null?0:u.length,S=gM(u,p);return k5(u,Ni(p,function(M){return tu(M,w)?+M:M}).sort(U5)),S});function uae(u,p){var w=[];if(!(u&&u.length))return w;var S=-1,M=[],B=u.length;for(p=Vt(p,3);++S<B;){var ee=u[S];p(ee,S,u)&&(w.push(ee),M.push(S))}return k5(u,M),w}function UM(u){return u==null?u:roe.call(u)}function hae(u,p,w){var S=u==null?0:u.length;return S?(w&&typeof w!="number"&&Ps(u,p,w)?(p=0,w=S):(p=p==null?0:mn(p),w=w===e?S:mn(w)),cl(u,p,w)):[]}function fae(u,p){return Xx(u,p)}function pae(u,p,w){return DM(u,p,Vt(w,2))}function gae(u,p){var w=u==null?0:u.length;if(w){var S=Xx(u,p);if(S<w&&ec(u[S],p))return S}return-1}function mae(u,p){return Xx(u,p,!0)}function vae(u,p,w){return DM(u,p,Vt(w,2),!0)}function Cae(u,p){var w=u==null?0:u.length;if(w){var S=Xx(u,p,!0)-1;if(ec(u[S],p))return S}return-1}function wae(u){return u&&u.length?O5(u):[]}function yae(u,p){return u&&u.length?O5(u,Vt(p,2)):[]}function bae(u){var p=u==null?0:u.length;return p?cl(u,1,p):[]}function _ae(u,p,w){return u&&u.length?(p=w||p===e?1:mn(p),cl(u,0,p<0?0:p)):[]}function xae(u,p,w){var S=u==null?0:u.length;return S?(p=w||p===e?1:mn(p),p=S-p,cl(u,p<0?0:p,S)):[]}function Sae(u,p){return u&&u.length?Yx(u,Vt(p,3),!1,!0):[]}function Eae(u,p){return u&&u.length?Yx(u,Vt(p,3)):[]}var Dae=Dn(function(u){return bh(No(u,1,Ar,!0))}),Rae=Dn(function(u){var p=dl(u);return Ar(p)&&(p=e),bh(No(u,1,Ar,!0),Vt(p,2))}),Tae=Dn(function(u){var p=dl(u);return p=typeof p=="function"?p:e,bh(No(u,1,Ar,!0),e,p)});function Iae(u){return u&&u.length?bh(u):[]}function Mae(u,p){return u&&u.length?bh(u,Vt(p,2)):[]}function Fae(u,p){return p=typeof p=="function"?p:e,u&&u.length?bh(u,e,p):[]}function WM(u){if(!(u&&u.length))return[];var p=0;return u=Oc(u,function(w){if(Ar(w))return p=ro(w.length,p),!0}),vh(p,function(w){return Ni(u,wt(w))})}function bV(u,p){if(!(u&&u.length))return[];var w=WM(u);return p==null?w:Ni(w,function(S){return Fs(p,e,S)})}var Aae=Dn(function(u,p){return Ar(u)?ZC(u,p):[]}),kae=Dn(function(u){return TM(Oc(u,Ar))}),Pae=Dn(function(u){var p=dl(u);return Ar(p)&&(p=e),TM(Oc(u,Ar),Vt(p,2))}),Oae=Dn(function(u){var p=dl(u);return p=typeof p=="function"?p:e,TM(Oc(u,Ar),e,p)}),Lae=Dn(WM);function Nae(u,p){return V5(u||[],p||[],YC)}function Bae(u,p){return V5(u||[],p||[],ew)}var Vae=Dn(function(u){var p=u.length,w=p>1?u[p-1]:e;return w=typeof w=="function"?(u.pop(),w):e,bV(u,w)});function _V(u){var p=O(u);return p.__chain__=!0,p}function Hae(u,p){return p(u),u}function o1(u,p){return p(u)}var Gae=eu(function(u){var p=u.length,w=p?u[0]:0,S=this.__wrapped__,M=function(B){return gM(B,u)};return p>1||this.__actions__.length||!(S instanceof Ln)||!tu(w)?this.thru(M):(S=S.slice(w,+w+(p?1:0)),S.__actions__.push({func:o1,args:[M],thisArg:e}),new al(S,this.__chain__).thru(function(B){return p&&!B.length&&B.push(e),B}))});function zae(){return _V(this)}function Uae(){return new al(this.value(),this.__chain__)}function Wae(){this.__values__===e&&(this.__values__=LV(this.value()));var u=this.__index__>=this.__values__.length,p=u?e:this.__values__[this.__index__++];return{done:u,value:p}}function jae(){return this}function $ae(u){for(var p,w=this;w instanceof Wx;){var S=gV(w);S.__index__=0,S.__values__=e,p?M.__wrapped__=S:p=S;var M=S;w=w.__wrapped__}return M.__wrapped__=u,p}function qae(){var u=this.__wrapped__;if(u instanceof Ln){var p=u;return this.__actions__.length&&(p=new Ln(this)),p=p.reverse(),p.__actions__.push({func:o1,args:[UM],thisArg:e}),new al(p,this.__chain__)}return this.thru(UM)}function Kae(){return B5(this.__wrapped__,this.__actions__)}var Xae=Zx(function(u,p,w){pi.call(u,w)?++u[w]:Qd(u,w,1)});function Yae(u,p,w){var S=dn(u)?Sx:Hoe;return w&&Ps(u,p,w)&&(p=e),S(u,Vt(p,3))}function Zae(u,p){var w=dn(u)?Oc:b5;return w(u,Vt(p,3))}var Qae=X5(mV),Jae=X5(vV);function ele(u,p){return No(s1(u,p),1)}function tle(u,p){return No(s1(u,p),ae)}function nle(u,p,w){return w=w===e?1:mn(w),No(s1(u,p),w)}function xV(u,p){var w=dn(u)?ta:yh;return w(u,Vt(p,3))}function SV(u,p){var w=dn(u)?rM:y5;return w(u,Vt(p,3))}var ile=Zx(function(u,p,w){pi.call(u,w)?u[w].push(p):Qd(u,w,[p])});function rle(u,p,w,S){u=ia(u)?u:ym(u),w=w&&!S?mn(w):0;var M=u.length;return w<0&&(w=ro(M+w,0)),u1(u)?w<=M&&u.indexOf(p,w)>-1:!!M&&G(u,p,w)>-1}var ole=Dn(function(u,p,w){var S=-1,M=typeof p=="function",B=ia(u)?we(u.length):[];return yh(u,function(ee){B[++S]=M?Fs(p,ee,w):QC(ee,p,w)}),B}),sle=Zx(function(u,p,w){Qd(u,w,p)});function s1(u,p){var w=dn(u)?Ni:R5;return w(u,Vt(p,3))}function ale(u,p,w,S){return u==null?[]:(dn(p)||(p=p==null?[]:[p]),w=S?e:w,dn(w)||(w=w==null?[]:[w]),F5(u,p,w))}var lle=Zx(function(u,p,w){u[w?0:1].push(p)},function(){return[[],[]]});function cle(u,p,w){var S=dn(u)?VC:zn,M=arguments.length<3;return S(u,Vt(p,4),w,M,yh)}function dle(u,p,w){var S=dn(u)?oM:zn,M=arguments.length<3;return S(u,Vt(p,4),w,M,y5)}function ule(u,p){var w=dn(u)?Oc:b5;return w(u,c1(Vt(p,3)))}function hle(u){var p=dn(u)?m5:rse;return p(u)}function fle(u,p,w){(w?Ps(u,p,w):p===e)?p=1:p=mn(p);var S=dn(u)?Ooe:ose;return S(u,p)}function ple(u){var p=dn(u)?Loe:ase;return p(u)}function gle(u){if(u==null)return 0;if(ia(u))return u1(u)?um(u):u.length;var p=os(u);return p==Y||p==xn?u.size:bM(u).length}function mle(u,p,w){var S=dn(u)?Fr:lse;return w&&Ps(u,p,w)&&(p=e),S(u,Vt(p,3))}var vle=Dn(function(u,p){if(u==null)return[];var w=p.length;return w>1&&Ps(u,p[0],p[1])?p=[]:w>2&&Ps(p[0],p[1],p[2])&&(p=[p[0]]),F5(u,No(p,1),[])}),a1=Zre||function(){return $r.Date.now()};function Cle(u,p){if(typeof p!="function")throw new sl(r);return u=mn(u),function(){if(--u<1)return p.apply(this,arguments)}}function EV(u,p,w){return p=w?e:p,p=u&&p==null?u.length:p,Jd(u,I,e,e,e,e,p)}function DV(u,p){var w;if(typeof p!="function")throw new sl(r);return u=mn(u),function(){return--u>0&&(w=p.apply(this,arguments)),u<=1&&(p=e),w}}var jM=Dn(function(u,p,w){var S=m;if(w.length){var M=Bc(w,Cm(jM));S|=_}return Jd(u,S,p,w,M)}),RV=Dn(function(u,p,w){var S=m|v;if(w.length){var M=Bc(w,Cm(RV));S|=_}return Jd(p,S,u,w,M)});function TV(u,p,w){p=w?e:p;var S=Jd(u,y,e,e,e,e,e,p);return S.placeholder=TV.placeholder,S}function IV(u,p,w){p=w?e:p;var S=Jd(u,x,e,e,e,e,e,p);return S.placeholder=IV.placeholder,S}function MV(u,p,w){var S,M,B,ee,te,se,Ne=0,Ve=!1,$e=!1,dt=!0;if(typeof u!="function")throw new sl(r);p=ul(p)||0,or(w)&&(Ve=!!w.leading,$e="maxWait"in w,B=$e?ro(ul(w.maxWait)||0,p):B,dt="trailing"in w?!!w.trailing:dt);function _t(kr){var tc=S,ru=M;return S=M=e,Ne=kr,ee=u.apply(ru,tc),ee}function zt(kr){return Ne=kr,te=iw(kn,p),Ve?_t(kr):ee}function Sn(kr){var tc=kr-se,ru=kr-Ne,XV=p-tc;return $e?rs(XV,B-ru):XV}function Ut(kr){var tc=kr-se,ru=kr-Ne;return se===e||tc>=p||tc<0||$e&&ru>=B}function kn(){var kr=a1();if(Ut(kr))return Un(kr);te=iw(kn,Sn(kr))}function Un(kr){return te=e,dt&&S?_t(kr):(S=M=e,ee)}function Ba(){te!==e&&H5(te),Ne=0,S=se=M=te=e}function Os(){return te===e?ee:Un(a1())}function Va(){var kr=a1(),tc=Ut(kr);if(S=arguments,M=this,se=kr,tc){if(te===e)return zt(se);if($e)return H5(te),te=iw(kn,p),_t(se)}return te===e&&(te=iw(kn,p)),ee}return Va.cancel=Ba,Va.flush=Os,Va}var wle=Dn(function(u,p){return w5(u,1,p)}),yle=Dn(function(u,p,w){return w5(u,ul(p)||0,w)});function ble(u){return Jd(u,T)}function l1(u,p){if(typeof u!="function"||p!=null&&typeof p!="function")throw new sl(r);var w=function(){var S=arguments,M=p?p.apply(this,S):S[0],B=w.cache;if(B.has(M))return B.get(M);var ee=u.apply(this,S);return w.cache=B.set(M,ee)||B,ee};return w.cache=new(l1.Cache||Zd),w}l1.Cache=Zd;function c1(u){if(typeof u!="function")throw new sl(r);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}function _le(u){return DV(2,u)}var xle=cse(function(u,p){p=p.length==1&&dn(p[0])?Ni(p[0],As(Vt())):Ni(No(p,1),As(Vt()));var w=p.length;return Dn(function(S){for(var M=-1,B=rs(S.length,w);++M<B;)S[M]=p[M].call(this,S[M]);return Fs(u,this,S)})}),$M=Dn(function(u,p){var w=Bc(p,Cm($M));return Jd(u,_,e,p,w)}),FV=Dn(function(u,p){var w=Bc(p,Cm(FV));return Jd(u,R,e,p,w)}),Sle=eu(function(u,p){return Jd(u,F,e,e,e,p)});function Ele(u,p){if(typeof u!="function")throw new sl(r);return p=p===e?p:mn(p),Dn(u,p)}function Dle(u,p){if(typeof u!="function")throw new sl(r);return p=p==null?0:ro(mn(p),0),Dn(function(w){var S=w[p],M=xh(w,0,p);return S&&Lc(M,S),Fs(u,this,M)})}function Rle(u,p,w){var S=!0,M=!0;if(typeof u!="function")throw new sl(r);return or(w)&&(S="leading"in w?!!w.leading:S,M="trailing"in w?!!w.trailing:M),MV(u,p,{leading:S,maxWait:p,trailing:M})}function Tle(u){return EV(u,1)}function Ile(u,p){return $M(MM(p),u)}function Mle(){if(!arguments.length)return[];var u=arguments[0];return dn(u)?u:[u]}function Fle(u){return ll(u,h)}function Ale(u,p){return p=typeof p=="function"?p:e,ll(u,h,p)}function kle(u){return ll(u,c|h)}function Ple(u,p){return p=typeof p=="function"?p:e,ll(u,c|h,p)}function Ole(u,p){return p==null||C5(u,p,go(p))}function ec(u,p){return u===p||u!==u&&p!==p}var Lle=t1(CM),Nle=t1(function(u,p){return u>=p}),pp=S5(function(){return arguments}())?S5:function(u){return vr(u)&&pi.call(u,"callee")&&!d5.call(u,"callee")},dn=we.isArray,Ble=wx?As(wx):$oe;function ia(u){return u!=null&&d1(u.length)&&!nu(u)}function Ar(u){return vr(u)&&ia(u)}function Vle(u){return u===!0||u===!1||vr(u)&&ks(u)==le}var Sh=Jre||iF,Hle=yx?As(yx):qoe;function Gle(u){return vr(u)&&u.nodeType===1&&!rw(u)}function zle(u){if(u==null)return!0;if(ia(u)&&(dn(u)||typeof u=="string"||typeof u.splice=="function"||Sh(u)||wm(u)||pp(u)))return!u.length;var p=os(u);if(p==Y||p==xn)return!u.size;if(nw(u))return!bM(u).length;for(var w in u)if(pi.call(u,w))return!1;return!0}function Ule(u,p){return JC(u,p)}function Wle(u,p,w){w=typeof w=="function"?w:e;var S=w?w(u,p):e;return S===e?JC(u,p,e,w):!!S}function qM(u){if(!vr(u))return!1;var p=ks(u);return p==Be||p==ze||typeof u.message=="string"&&typeof u.name=="string"&&!rw(u)}function jle(u){return typeof u=="number"&&h5(u)}function nu(u){if(!or(u))return!1;var p=ks(u);return p==ve||p==St||p==Z||p==Ye}function AV(u){return typeof u=="number"&&u==mn(u)}function d1(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Le}function or(u){var p=typeof u;return u!=null&&(p=="object"||p=="function")}function vr(u){return u!=null&&typeof u=="object"}var kV=nM?As(nM):Xoe;function $le(u,p){return u===p||yM(u,p,NM(p))}function qle(u,p,w){return w=typeof w=="function"?w:e,yM(u,p,NM(p),w)}function Kle(u){return PV(u)&&u!=+u}function Xle(u){if(Ase(u))throw new ln(i);return E5(u)}function Yle(u){return u===null}function Zle(u){return u==null}function PV(u){return typeof u=="number"||vr(u)&&ks(u)==$t}function rw(u){if(!vr(u)||ks(u)!=Et)return!1;var p=Nx(u);if(p===null)return!0;var w=pi.call(p,"constructor")&&p.constructor;return typeof w=="function"&&w instanceof w&&kx.call(w)==qre}var KM=bx?As(bx):Yoe;function Qle(u){return AV(u)&&u>=-Le&&u<=Le}var OV=_x?As(_x):Zoe;function u1(u){return typeof u=="string"||!dn(u)&&vr(u)&&ks(u)==yi}function Na(u){return typeof u=="symbol"||vr(u)&&ks(u)==Pi}var wm=xx?As(xx):Qoe;function Jle(u){return u===e}function ece(u){return vr(u)&&os(u)==An}function tce(u){return vr(u)&&ks(u)==Oi}var nce=t1(_M),ice=t1(function(u,p){return u<=p});function LV(u){if(!u)return[];if(ia(u))return u1(u)?Ql(u):na(u);if(jC&&u[jC])return cM(u[jC]());var p=os(u),w=p==Y?WC:p==xn?sp:ym;return w(u)}function iu(u){if(!u)return u===0?u:0;if(u=ul(u),u===ae||u===-ae){var p=u<0?-1:1;return p*Se}return u===u?u:0}function mn(u){var p=iu(u),w=p%1;return p===p?w?p-w:p:0}function NV(u){return u?dp(mn(u),0,be):0}function ul(u){if(typeof u=="number")return u;if(Na(u))return Ge;if(or(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=or(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=GC(u);var w=de.test(u);return w||pe.test(u)?tM(u.slice(2),w?2:8):K.test(u)?Ge:+u}function BV(u){return Hc(u,ra(u))}function rce(u){return u?dp(mn(u),-Le,Le):u===0?u:0}function di(u){return u==null?"":La(u)}var oce=mm(function(u,p){if(nw(p)||ia(p)){Hc(p,go(p),u);return}for(var w in p)pi.call(p,w)&&YC(u,w,p[w])}),VV=mm(function(u,p){Hc(p,ra(p),u)}),h1=mm(function(u,p,w,S){Hc(p,ra(p),u,S)}),sce=mm(function(u,p,w,S){Hc(p,go(p),u,S)}),ace=eu(gM);function lce(u,p){var w=gm(u);return p==null?w:v5(w,p)}var cce=Dn(function(u,p){u=Di(u);var w=-1,S=p.length,M=S>2?p[2]:e;for(M&&Ps(p[0],p[1],M)&&(S=1);++w<S;)for(var B=p[w],ee=ra(B),te=-1,se=ee.length;++te<se;){var Ne=ee[te],Ve=u[Ne];(Ve===e||ec(Ve,hm[Ne])&&!pi.call(u,Ne))&&(u[Ne]=B[Ne])}return u}),dce=Dn(function(u){return u.push(e,nV),Fs(HV,e,u)});function uce(u,p){return b(u,Vt(p,3),Vc)}function hce(u,p){return b(u,Vt(p,3),vM)}function fce(u,p){return u==null?u:mM(u,Vt(p,3),ra)}function pce(u,p){return u==null?u:_5(u,Vt(p,3),ra)}function gce(u,p){return u&&Vc(u,Vt(p,3))}function mce(u,p){return u&&vM(u,Vt(p,3))}function vce(u){return u==null?[]:qx(u,go(u))}function Cce(u){return u==null?[]:qx(u,ra(u))}function XM(u,p,w){var S=u==null?e:up(u,p);return S===e?w:S}function wce(u,p){return u!=null&&oV(u,p,zoe)}function YM(u,p){return u!=null&&oV(u,p,Uoe)}var yce=Z5(function(u,p,w){p!=null&&typeof p.toString!="function"&&(p=Px.call(p)),u[p]=w},QM(oa)),bce=Z5(function(u,p,w){p!=null&&typeof p.toString!="function"&&(p=Px.call(p)),pi.call(u,p)?u[p].push(w):u[p]=[w]},Vt),_ce=Dn(QC);function go(u){return ia(u)?g5(u):bM(u)}function ra(u){return ia(u)?g5(u,!0):Joe(u)}function xce(u,p){var w={};return p=Vt(p,3),Vc(u,function(S,M,B){Qd(w,p(S,M,B),S)}),w}function Sce(u,p){var w={};return p=Vt(p,3),Vc(u,function(S,M,B){Qd(w,M,p(S,M,B))}),w}var Ece=mm(function(u,p,w){Kx(u,p,w)}),HV=mm(function(u,p,w,S){Kx(u,p,w,S)}),Dce=eu(function(u,p){var w={};if(u==null)return w;var S=!1;p=Ni(p,function(B){return B=_h(B,u),S||(S=B.length>1),B}),Hc(u,OM(u),w),S&&(w=ll(w,c|d|h,yse));for(var M=p.length;M--;)RM(w,p[M]);return w});function Rce(u,p){return GV(u,c1(Vt(p)))}var Tce=eu(function(u,p){return u==null?{}:tse(u,p)});function GV(u,p){if(u==null)return{};var w=Ni(OM(u),function(S){return[S]});return p=Vt(p),A5(u,w,function(S,M){return p(S,M[0])})}function Ice(u,p,w){p=_h(p,u);var S=-1,M=p.length;for(M||(M=1,u=e);++S<M;){var B=u==null?e:u[Gc(p[S])];B===e&&(S=M,B=w),u=nu(B)?B.call(u):B}return u}function Mce(u,p,w){return u==null?u:ew(u,p,w)}function Fce(u,p,w,S){return S=typeof S=="function"?S:e,u==null?u:ew(u,p,w,S)}var zV=eV(go),UV=eV(ra);function Ace(u,p,w){var S=dn(u),M=S||Sh(u)||wm(u);if(p=Vt(p,4),w==null){var B=u&&u.constructor;M?w=S?new B:[]:or(u)?w=nu(B)?gm(Nx(u)):{}:w={}}return(M?ta:Vc)(u,function(ee,te,se){return p(w,ee,te,se)}),w}function kce(u,p){return u==null?!0:RM(u,p)}function Pce(u,p,w){return u==null?u:N5(u,p,MM(w))}function Oce(u,p,w,S){return S=typeof S=="function"?S:e,u==null?u:N5(u,p,MM(w),S)}function ym(u){return u==null?[]:dm(u,go(u))}function Lce(u){return u==null?[]:dm(u,ra(u))}function Nce(u,p,w){return w===e&&(w=p,p=e),w!==e&&(w=ul(w),w=w===w?w:0),p!==e&&(p=ul(p),p=p===p?p:0),dp(ul(u),p,w)}function Bce(u,p,w){return p=iu(p),w===e?(w=p,p=0):w=iu(w),u=ul(u),Woe(u,p,w)}function Vce(u,p,w){if(w&&typeof w!="boolean"&&Ps(u,p,w)&&(p=w=e),w===e&&(typeof p=="boolean"?(w=p,p=e):typeof u=="boolean"&&(w=u,u=e)),u===e&&p===e?(u=0,p=1):(u=iu(u),p===e?(p=u,u=0):p=iu(p)),u>p){var S=u;u=p,p=S}if(w||u%1||p%1){var M=f5();return rs(u+M*(p-u+lm("1e-"+((M+"").length-1))),p)}return SM(u,p)}var Hce=vm(function(u,p,w){return p=p.toLowerCase(),u+(w?WV(p):p)});function WV(u){return ZM(di(u).toLowerCase())}function jV(u){return u=di(u),u&&u.replace(ge,Dx).replace(qI,"")}function Gce(u,p,w){u=di(u),p=La(p);var S=u.length;w=w===e?S:dp(mn(w),0,S);var M=w;return w-=p.length,w>=0&&u.slice(w,M)==p}function zce(u){return u=di(u),u&&Zl.test(u)?u.replace(ir,Rx):u}function Uce(u){return u=di(u),u&&Ms.test(u)?u.replace(jr,"\\$&"):u}var Wce=vm(function(u,p,w){return u+(w?"-":"")+p.toLowerCase()}),jce=vm(function(u,p,w){return u+(w?" ":"")+p.toLowerCase()}),$ce=K5("toLowerCase");function qce(u,p,w){u=di(u),p=mn(p);var S=p?um(u):0;if(!p||S>=p)return u;var M=(p-S)/2;return e1(Gx(M),w)+u+e1(Hx(M),w)}function Kce(u,p,w){u=di(u),p=mn(p);var S=p?um(u):0;return p&&S<p?u+e1(p-S,w):u}function Xce(u,p,w){u=di(u),p=mn(p);var S=p?um(u):0;return p&&S<p?e1(p-S,w)+u:u}function Yce(u,p,w){return w||p==null?p=0:p&&(p=+p),ioe(di(u).replace(Po,""),p||0)}function Zce(u,p,w){return(w?Ps(u,p,w):p===e)?p=1:p=mn(p),EM(di(u),p)}function Qce(){var u=arguments,p=di(u[0]);return u.length<3?p:p.replace(u[1],u[2])}var Jce=vm(function(u,p,w){return u+(w?"_":"")+p.toLowerCase()});function ede(u,p,w){return w&&typeof w!="number"&&Ps(u,p,w)&&(p=w=e),w=w===e?be:w>>>0,w?(u=di(u),u&&(typeof p=="string"||p!=null&&!KM(p))&&(p=La(p),!p&&Nc(u))?xh(Ql(u),0,w):u.split(p,w)):[]}var tde=vm(function(u,p,w){return u+(w?" ":"")+ZM(p)});function nde(u,p,w){return u=di(u),w=w==null?0:dp(mn(w),0,u.length),p=La(p),u.slice(w,w+p.length)==p}function ide(u,p,w){var S=O.templateSettings;w&&Ps(u,p,w)&&(p=e),u=di(u),p=h1({},p,S,tV);var M=h1({},p.imports,S.imports,tV),B=go(M),ee=dm(M,B),te,se,Ne=0,Ve=p.interpolate||qe,$e="__p += '",dt=dM((p.escape||qe).source+"|"+Ve.source+"|"+(Ve===Wr?z:qe).source+"|"+(p.evaluate||qe).source+"|$","g"),_t="//# sourceURL="+(pi.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++QI+"]")+`
`;u.replace(dt,function(Ut,kn,Un,Ba,Os,Va){return Un||(Un=Ba),$e+=u.slice(Ne,Va).replace(Ze,Tx),kn&&(te=!0,$e+=`' +
__e(`+kn+`) +
'`),Os&&(se=!0,$e+=`';
`+Os+`;
__p += '`),Un&&($e+=`' +
((__t = (`+Un+`)) == null ? '' : __t) +
'`),Ne=Va+Ut.length,Ut}),$e+=`';
`;var zt=pi.call(p,"variable")&&p.variable;if(!zt)$e=`with (obj) {
`+$e+`
}
`;else if(j.test(zt))throw new ln(o);$e=(se?$e.replace(mr,""):$e).replace(Pa,"$1").replace(es,"$1;"),$e="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var Sn=qV(function(){return ti(B,_t+"return "+$e).apply(e,ee)});if(Sn.source=$e,qM(Sn))throw Sn;return Sn}function rde(u){return di(u).toLowerCase()}function ode(u){return di(u).toUpperCase()}function sde(u,p,w){if(u=di(u),u&&(w||p===e))return GC(u);if(!u||!(p=La(p)))return u;var S=Ql(u),M=Ql(p),B=zC(S,M),ee=Ex(S,M)+1;return xh(S,B,ee).join("")}function ade(u,p,w){if(u=di(u),u&&(w||p===e))return u.slice(0,s5(u)+1);if(!u||!(p=La(p)))return u;var S=Ql(u),M=Ex(S,Ql(p))+1;return xh(S,0,M).join("")}function lde(u,p,w){if(u=di(u),u&&(w||p===e))return u.replace(Po,"");if(!u||!(p=La(p)))return u;var S=Ql(u),M=zC(S,Ql(p));return xh(S,M).join("")}function cde(u,p){var w=P,S=L;if(or(p)){var M="separator"in p?p.separator:M;w="length"in p?mn(p.length):w,S="omission"in p?La(p.omission):S}u=di(u);var B=u.length;if(Nc(u)){var ee=Ql(u);B=ee.length}if(w>=B)return u;var te=w-um(S);if(te<1)return S;var se=ee?xh(ee,0,te).join(""):u.slice(0,te);if(M===e)return se+S;if(ee&&(te+=se.length-te),KM(M)){if(u.slice(te).search(M)){var Ne,Ve=se;for(M.global||(M=dM(M.source,di(q.exec(M))+"g")),M.lastIndex=0;Ne=M.exec(Ve);)var $e=Ne.index;se=se.slice(0,$e===e?te:$e)}}else if(u.indexOf(La(M),te)!=te){var dt=se.lastIndexOf(M);dt>-1&&(se=se.slice(0,dt))}return se+S}function dde(u){return u=di(u),u&&rr.test(u)?u.replace(Li,Vre):u}var ude=vm(function(u,p,w){return u+(w?" ":"")+p.toUpperCase()}),ZM=K5("toUpperCase");function $V(u,p,w){return u=di(u),p=w?e:p,p===e?Ix(u)?zre(u):D(u):u.match(p)||[]}var qV=Dn(function(u,p){try{return Fs(u,e,p)}catch(w){return qM(w)?w:new ln(w)}}),hde=eu(function(u,p){return ta(p,function(w){w=Gc(w),Qd(u,w,jM(u[w],u))}),u});function fde(u){var p=u==null?0:u.length,w=Vt();return u=p?Ni(u,function(S){if(typeof S[1]!="function")throw new sl(r);return[w(S[0]),S[1]]}):[],Dn(function(S){for(var M=-1;++M<p;){var B=u[M];if(Fs(B[0],this,S))return Fs(B[1],this,S)}})}function pde(u){return Voe(ll(u,c))}function QM(u){return function(){return u}}function gde(u,p){return u==null||u!==u?p:u}var mde=Y5(),vde=Y5(!0);function oa(u){return u}function JM(u){return D5(typeof u=="function"?u:ll(u,c))}function Cde(u){return T5(ll(u,c))}function wde(u,p){return I5(u,ll(p,c))}var yde=Dn(function(u,p){return function(w){return QC(w,u,p)}}),bde=Dn(function(u,p){return function(w){return QC(u,w,p)}});function eF(u,p,w){var S=go(p),M=qx(p,S);w==null&&!(or(p)&&(M.length||!S.length))&&(w=p,p=u,u=this,M=qx(p,go(p)));var B=!(or(w)&&"chain"in w)||!!w.chain,ee=nu(u);return ta(M,function(te){var se=p[te];u[te]=se,ee&&(u.prototype[te]=function(){var Ne=this.__chain__;if(B||Ne){var Ve=u(this.__wrapped__),$e=Ve.__actions__=na(this.__actions__);return $e.push({func:se,args:arguments,thisArg:u}),Ve.__chain__=Ne,Ve}return se.apply(u,Lc([this.value()],arguments))})}),u}function _de(){return $r._===this&&($r._=Kre),this}function tF(){}function xde(u){return u=mn(u),Dn(function(p){return M5(p,u)})}var Sde=AM(Ni),Ede=AM(Sx),Dde=AM(Fr);function KV(u){return VM(u)?wt(Gc(u)):nse(u)}function Rde(u){return function(p){return u==null?e:up(u,p)}}var Tde=Q5(),Ide=Q5(!0);function nF(){return[]}function iF(){return!1}function Mde(){return{}}function Fde(){return""}function Ade(){return!0}function kde(u,p){if(u=mn(u),u<1||u>Le)return[];var w=be,S=rs(u,be);p=Vt(p),u-=be;for(var M=vh(S,p);++w<u;)p(w);return M}function Pde(u){return dn(u)?Ni(u,Gc):Na(u)?[u]:na(pV(di(u)))}function Ode(u){var p=++$re;return di(u)+p}var Lde=Jx(function(u,p){return u+p},0),Nde=kM("ceil"),Bde=Jx(function(u,p){return u/p},1),Vde=kM("floor");function Hde(u){return u&&u.length?$x(u,oa,CM):e}function Gde(u,p){return u&&u.length?$x(u,Vt(p,2),CM):e}function zde(u){return Je(u,oa)}function Ude(u,p){return Je(u,Vt(p,2))}function Wde(u){return u&&u.length?$x(u,oa,_M):e}function jde(u,p){return u&&u.length?$x(u,Vt(p,2),_M):e}var $de=Jx(function(u,p){return u*p},1),qde=kM("round"),Kde=Jx(function(u,p){return u-p},0);function Xde(u){return u&&u.length?Yi(u,oa):0}function Yde(u,p){return u&&u.length?Yi(u,Vt(p,2)):0}return O.after=Cle,O.ary=EV,O.assign=oce,O.assignIn=VV,O.assignInWith=h1,O.assignWith=sce,O.at=ace,O.before=DV,O.bind=jM,O.bindAll=hde,O.bindKey=RV,O.castArray=Mle,O.chain=_V,O.chunk=Vse,O.compact=Hse,O.concat=Gse,O.cond=fde,O.conforms=pde,O.constant=QM,O.countBy=Xae,O.create=lce,O.curry=TV,O.curryRight=IV,O.debounce=MV,O.defaults=cce,O.defaultsDeep=dce,O.defer=wle,O.delay=yle,O.difference=zse,O.differenceBy=Use,O.differenceWith=Wse,O.drop=jse,O.dropRight=$se,O.dropRightWhile=qse,O.dropWhile=Kse,O.fill=Xse,O.filter=Zae,O.flatMap=ele,O.flatMapDeep=tle,O.flatMapDepth=nle,O.flatten=CV,O.flattenDeep=Yse,O.flattenDepth=Zse,O.flip=ble,O.flow=mde,O.flowRight=vde,O.fromPairs=Qse,O.functions=vce,O.functionsIn=Cce,O.groupBy=ile,O.initial=eae,O.intersection=tae,O.intersectionBy=nae,O.intersectionWith=iae,O.invert=yce,O.invertBy=bce,O.invokeMap=ole,O.iteratee=JM,O.keyBy=sle,O.keys=go,O.keysIn=ra,O.map=s1,O.mapKeys=xce,O.mapValues=Sce,O.matches=Cde,O.matchesProperty=wde,O.memoize=l1,O.merge=Ece,O.mergeWith=HV,O.method=yde,O.methodOf=bde,O.mixin=eF,O.negate=c1,O.nthArg=xde,O.omit=Dce,O.omitBy=Rce,O.once=_le,O.orderBy=ale,O.over=Sde,O.overArgs=xle,O.overEvery=Ede,O.overSome=Dde,O.partial=$M,O.partialRight=FV,O.partition=lle,O.pick=Tce,O.pickBy=GV,O.property=KV,O.propertyOf=Rde,O.pull=aae,O.pullAll=yV,O.pullAllBy=lae,O.pullAllWith=cae,O.pullAt=dae,O.range=Tde,O.rangeRight=Ide,O.rearg=Sle,O.reject=ule,O.remove=uae,O.rest=Ele,O.reverse=UM,O.sampleSize=fle,O.set=Mce,O.setWith=Fce,O.shuffle=ple,O.slice=hae,O.sortBy=vle,O.sortedUniq=wae,O.sortedUniqBy=yae,O.split=ede,O.spread=Dle,O.tail=bae,O.take=_ae,O.takeRight=xae,O.takeRightWhile=Sae,O.takeWhile=Eae,O.tap=Hae,O.throttle=Rle,O.thru=o1,O.toArray=LV,O.toPairs=zV,O.toPairsIn=UV,O.toPath=Pde,O.toPlainObject=BV,O.transform=Ace,O.unary=Tle,O.union=Dae,O.unionBy=Rae,O.unionWith=Tae,O.uniq=Iae,O.uniqBy=Mae,O.uniqWith=Fae,O.unset=kce,O.unzip=WM,O.unzipWith=bV,O.update=Pce,O.updateWith=Oce,O.values=ym,O.valuesIn=Lce,O.without=Aae,O.words=$V,O.wrap=Ile,O.xor=kae,O.xorBy=Pae,O.xorWith=Oae,O.zip=Lae,O.zipObject=Nae,O.zipObjectDeep=Bae,O.zipWith=Vae,O.entries=zV,O.entriesIn=UV,O.extend=VV,O.extendWith=h1,eF(O,O),O.add=Lde,O.attempt=qV,O.camelCase=Hce,O.capitalize=WV,O.ceil=Nde,O.clamp=Nce,O.clone=Fle,O.cloneDeep=kle,O.cloneDeepWith=Ple,O.cloneWith=Ale,O.conformsTo=Ole,O.deburr=jV,O.defaultTo=gde,O.divide=Bde,O.endsWith=Gce,O.eq=ec,O.escape=zce,O.escapeRegExp=Uce,O.every=Yae,O.find=Qae,O.findIndex=mV,O.findKey=uce,O.findLast=Jae,O.findLastIndex=vV,O.findLastKey=hce,O.floor=Vde,O.forEach=xV,O.forEachRight=SV,O.forIn=fce,O.forInRight=pce,O.forOwn=gce,O.forOwnRight=mce,O.get=XM,O.gt=Lle,O.gte=Nle,O.has=wce,O.hasIn=YM,O.head=wV,O.identity=oa,O.includes=rle,O.indexOf=Jse,O.inRange=Bce,O.invoke=_ce,O.isArguments=pp,O.isArray=dn,O.isArrayBuffer=Ble,O.isArrayLike=ia,O.isArrayLikeObject=Ar,O.isBoolean=Vle,O.isBuffer=Sh,O.isDate=Hle,O.isElement=Gle,O.isEmpty=zle,O.isEqual=Ule,O.isEqualWith=Wle,O.isError=qM,O.isFinite=jle,O.isFunction=nu,O.isInteger=AV,O.isLength=d1,O.isMap=kV,O.isMatch=$le,O.isMatchWith=qle,O.isNaN=Kle,O.isNative=Xle,O.isNil=Zle,O.isNull=Yle,O.isNumber=PV,O.isObject=or,O.isObjectLike=vr,O.isPlainObject=rw,O.isRegExp=KM,O.isSafeInteger=Qle,O.isSet=OV,O.isString=u1,O.isSymbol=Na,O.isTypedArray=wm,O.isUndefined=Jle,O.isWeakMap=ece,O.isWeakSet=tce,O.join=rae,O.kebabCase=Wce,O.last=dl,O.lastIndexOf=oae,O.lowerCase=jce,O.lowerFirst=$ce,O.lt=nce,O.lte=ice,O.max=Hde,O.maxBy=Gde,O.mean=zde,O.meanBy=Ude,O.min=Wde,O.minBy=jde,O.stubArray=nF,O.stubFalse=iF,O.stubObject=Mde,O.stubString=Fde,O.stubTrue=Ade,O.multiply=$de,O.nth=sae,O.noConflict=_de,O.noop=tF,O.now=a1,O.pad=qce,O.padEnd=Kce,O.padStart=Xce,O.parseInt=Yce,O.random=Vce,O.reduce=cle,O.reduceRight=dle,O.repeat=Zce,O.replace=Qce,O.result=Ice,O.round=qde,O.runInContext=ie,O.sample=hle,O.size=gle,O.snakeCase=Jce,O.some=mle,O.sortedIndex=fae,O.sortedIndexBy=pae,O.sortedIndexOf=gae,O.sortedLastIndex=mae,O.sortedLastIndexBy=vae,O.sortedLastIndexOf=Cae,O.startCase=tde,O.startsWith=nde,O.subtract=Kde,O.sum=Xde,O.sumBy=Yde,O.template=ide,O.times=kde,O.toFinite=iu,O.toInteger=mn,O.toLength=NV,O.toLower=rde,O.toNumber=ul,O.toSafeInteger=rce,O.toString=di,O.toUpper=ode,O.trim=sde,O.trimEnd=ade,O.trimStart=lde,O.truncate=cde,O.unescape=dde,O.uniqueId=Ode,O.upperCase=ude,O.upperFirst=ZM,O.each=xV,O.eachRight=SV,O.first=wV,eF(O,function(){var u={};return Vc(O,function(p,w){pi.call(O.prototype,w)||(u[w]=p)}),u}(),{chain:!1}),O.VERSION=t,ta(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){O[u].placeholder=O}),ta(["drop","take"],function(u,p){Ln.prototype[u]=function(w){w=w===e?1:ro(mn(w),0);var S=this.__filtered__&&!p?new Ln(this):this.clone();return S.__filtered__?S.__takeCount__=rs(w,S.__takeCount__):S.__views__.push({size:rs(w,be),type:u+(S.__dir__<0?"Right":"")}),S},Ln.prototype[u+"Right"]=function(w){return this.reverse()[u](w).reverse()}}),ta(["filter","map","takeWhile"],function(u,p){var w=p+1,S=w==X||w==Ie;Ln.prototype[u]=function(M){var B=this.clone();return B.__iteratees__.push({iteratee:Vt(M,3),type:w}),B.__filtered__=B.__filtered__||S,B}}),ta(["head","last"],function(u,p){var w="take"+(p?"Right":"");Ln.prototype[u]=function(){return this[w](1).value()[0]}}),ta(["initial","tail"],function(u,p){var w="drop"+(p?"":"Right");Ln.prototype[u]=function(){return this.__filtered__?new Ln(this):this[w](1)}}),Ln.prototype.compact=function(){return this.filter(oa)},Ln.prototype.find=function(u){return this.filter(u).head()},Ln.prototype.findLast=function(u){return this.reverse().find(u)},Ln.prototype.invokeMap=Dn(function(u,p){return typeof u=="function"?new Ln(this):this.map(function(w){return QC(w,u,p)})}),Ln.prototype.reject=function(u){return this.filter(c1(Vt(u)))},Ln.prototype.slice=function(u,p){u=mn(u);var w=this;return w.__filtered__&&(u>0||p<0)?new Ln(w):(u<0?w=w.takeRight(-u):u&&(w=w.drop(u)),p!==e&&(p=mn(p),w=p<0?w.dropRight(-p):w.take(p-u)),w)},Ln.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ln.prototype.toArray=function(){return this.take(be)},Vc(Ln.prototype,function(u,p){var w=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),M=O[S?"take"+(p=="last"?"Right":""):p],B=S||/^find/.test(p);M&&(O.prototype[p]=function(){var ee=this.__wrapped__,te=S?[1]:arguments,se=ee instanceof Ln,Ne=te[0],Ve=se||dn(ee),$e=function(kn){var Un=M.apply(O,Lc([kn],te));return S&&dt?Un[0]:Un};Ve&&w&&typeof Ne=="function"&&Ne.length!=1&&(se=Ve=!1);var dt=this.__chain__,_t=!!this.__actions__.length,zt=B&&!dt,Sn=se&&!_t;if(!B&&Ve){ee=Sn?ee:new Ln(this);var Ut=u.apply(ee,te);return Ut.__actions__.push({func:o1,args:[$e],thisArg:e}),new al(Ut,dt)}return zt&&Sn?u.apply(this,te):(Ut=this.thru($e),zt?S?Ut.value()[0]:Ut.value():Ut)})}),ta(["pop","push","shift","sort","splice","unshift"],function(u){var p=Fx[u],w=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",S=/^(?:pop|shift)$/.test(u);O.prototype[u]=function(){var M=arguments;if(S&&!this.__chain__){var B=this.value();return p.apply(dn(B)?B:[],M)}return this[w](function(ee){return p.apply(dn(ee)?ee:[],M)})}}),Vc(Ln.prototype,function(u,p){var w=O[p];if(w){var S=w.name+"";pi.call(pm,S)||(pm[S]=[]),pm[S].push({name:p,func:w})}}),pm[Qx(e,v).name]=[{name:"wrapper",func:e}],Ln.prototype.clone=doe,Ln.prototype.reverse=uoe,Ln.prototype.value=hoe,O.prototype.at=Gae,O.prototype.chain=zae,O.prototype.commit=Uae,O.prototype.next=Wae,O.prototype.plant=$ae,O.prototype.reverse=qae,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=Kae,O.prototype.first=O.prototype.head,jC&&(O.prototype[jC]=jae),O},Ch=Ure();typeof define=="function"&&typeof define.amd=="object"&&define.amd?($r._=Ch,define(function(){return Ch})):Xd?((Xd.exports=Ch)._=Ch,LC._=Ch):$r._=Ch}).call(Iv)});var MY=rF((ST,S4)=>{"use strict";(function(t,n){typeof ST=="object"&&typeof S4=="object"?S4.exports=n():typeof define=="function"&&define.amd?define([],n):typeof ST=="object"?ST.Pusher=n():t.Pusher=n()})(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(i,r,o){n.o(i,r)||Object.defineProperty(i,r,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,r){if(r&1&&(i=n(i)),r&8||r&4&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),r&2&&typeof i!="string")for(var s in i)n.d(o,s,function(a){return i[a]}.bind(null,s));return o},n.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(r,"a",r),r},n.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var g=function(m,v){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var x in y)y.hasOwnProperty(x)&&(C[x]=y[x])},g(m,v)};return function(m,v){g(m,v);function C(){this.constructor=m}m.prototype=v===null?Object.create(v):(C.prototype=v.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=256,o=function(){function g(m){m===void 0&&(m="="),this._paddingCharacter=m}return g.prototype.encodedLength=function(m){return this._paddingCharacter?(m+2)/3*4|0:(m*8+5)/6|0},g.prototype.encode=function(m){for(var v="",C=0;C<m.length-2;C+=3){var y=m[C]<<16|m[C+1]<<8|m[C+2];v+=this._encodeByte(y>>>3*6&63),v+=this._encodeByte(y>>>2*6&63),v+=this._encodeByte(y>>>1*6&63),v+=this._encodeByte(y>>>0*6&63)}var x=m.length-C;if(x>0){var y=m[C]<<16|(x===2?m[C+1]<<8:0);v+=this._encodeByte(y>>>3*6&63),v+=this._encodeByte(y>>>2*6&63),x===2?v+=this._encodeByte(y>>>1*6&63):v+=this._paddingCharacter||"",v+=this._paddingCharacter||""}return v},g.prototype.maxDecodedLength=function(m){return this._paddingCharacter?m/4*3|0:(m*6+7)/8|0},g.prototype.decodedLength=function(m){return this.maxDecodedLength(m.length-this._getPaddingLength(m))},g.prototype.decode=function(m){if(m.length===0)return new Uint8Array(0);for(var v=this._getPaddingLength(m),C=m.length-v,y=new Uint8Array(this.maxDecodedLength(C)),x=0,_=0,R=0,I=0,F=0,T=0,P=0;_<C-4;_+=4)I=this._decodeChar(m.charCodeAt(_+0)),F=this._decodeChar(m.charCodeAt(_+1)),T=this._decodeChar(m.charCodeAt(_+2)),P=this._decodeChar(m.charCodeAt(_+3)),y[x++]=I<<2|F>>>4,y[x++]=F<<4|T>>>2,y[x++]=T<<6|P,R|=I&r,R|=F&r,R|=T&r,R|=P&r;if(_<C-1&&(I=this._decodeChar(m.charCodeAt(_)),F=this._decodeChar(m.charCodeAt(_+1)),y[x++]=I<<2|F>>>4,R|=I&r,R|=F&r),_<C-2&&(T=this._decodeChar(m.charCodeAt(_+2)),y[x++]=F<<4|T>>>2,R|=T&r),_<C-3&&(P=this._decodeChar(m.charCodeAt(_+3)),y[x++]=T<<6|P,R|=P&r),R!==0)throw new Error("Base64Coder: incorrect characters for decoding");return y},g.prototype._encodeByte=function(m){var v=m;return v+=65,v+=25-m>>>8&6,v+=51-m>>>8&-75,v+=61-m>>>8&-15,v+=62-m>>>8&3,String.fromCharCode(v)},g.prototype._decodeChar=function(m){var v=r;return v+=(42-m&m-44)>>>8&-r+m-43+62,v+=(46-m&m-48)>>>8&-r+m-47+63,v+=(47-m&m-58)>>>8&-r+m-48+52,v+=(64-m&m-91)>>>8&-r+m-65+0,v+=(96-m&m-123)>>>8&-r+m-97+26,v},g.prototype._getPaddingLength=function(m){var v=0;if(this._paddingCharacter){for(var C=m.length-1;C>=0&&m[C]===this._paddingCharacter;C--)v++;if(m.length<4||v>2)throw new Error("Base64Coder: incorrect padding")}return v},g}();t.Coder=o;var s=new o;function a(g){return s.encode(g)}t.encode=a;function l(g){return s.decode(g)}t.decode=l;var c=function(g){i(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.prototype._encodeByte=function(v){var C=v;return C+=65,C+=25-v>>>8&6,C+=51-v>>>8&-75,C+=61-v>>>8&-13,C+=62-v>>>8&49,String.fromCharCode(C)},m.prototype._decodeChar=function(v){var C=r;return C+=(44-v&v-46)>>>8&-r+v-45+62,C+=(94-v&v-96)>>>8&-r+v-95+63,C+=(47-v&v-58)>>>8&-r+v-48+52,C+=(64-v&v-91)>>>8&-r+v-65+0,C+=(96-v&v-123)>>>8&-r+v-97+26,C},m}(o);t.URLSafeCoder=c;var d=new c;function h(g){return d.encode(g)}t.encodeURLSafe=h;function f(g){return d.decode(g)}t.decodeURLSafe=f,t.encodedLength=function(g){return s.encodedLength(g)},t.maxDecodedLength=function(g){return s.maxDecodedLength(g)},t.decodedLength=function(g){return s.decodedLength(g)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="utf8: invalid string",r="utf8: invalid source encoding";function o(l){for(var c=new Uint8Array(s(l)),d=0,h=0;h<l.length;h++){var f=l.charCodeAt(h);f<128?c[d++]=f:f<2048?(c[d++]=192|f>>6,c[d++]=128|f&63):f<55296?(c[d++]=224|f>>12,c[d++]=128|f>>6&63,c[d++]=128|f&63):(h++,f=(f&1023)<<10,f|=l.charCodeAt(h)&1023,f+=65536,c[d++]=240|f>>18,c[d++]=128|f>>12&63,c[d++]=128|f>>6&63,c[d++]=128|f&63)}return c}t.encode=o;function s(l){for(var c=0,d=0;d<l.length;d++){var h=l.charCodeAt(d);if(h<128)c+=1;else if(h<2048)c+=2;else if(h<55296)c+=3;else if(h<=57343){if(d>=l.length-1)throw new Error(i);d++,c+=4}else throw new Error(i)}return c}t.encodedLength=s;function a(l){for(var c=[],d=0;d<l.length;d++){var h=l[d];if(h&128){var f=void 0;if(h<224){if(d>=l.length)throw new Error(r);var g=l[++d];if((g&192)!==128)throw new Error(r);h=(h&31)<<6|g&63,f=128}else if(h<240){if(d>=l.length-1)throw new Error(r);var g=l[++d],m=l[++d];if((g&192)!==128||(m&192)!==128)throw new Error(r);h=(h&15)<<12|(g&63)<<6|m&63,f=2048}else if(h<248){if(d>=l.length-2)throw new Error(r);var g=l[++d],m=l[++d],v=l[++d];if((g&192)!==128||(m&192)!==128||(v&192)!==128)throw new Error(r);h=(h&15)<<18|(g&63)<<12|(m&63)<<6|v&63,f=65536}else throw new Error(r);if(h<f||h>=55296&&h<=57343)throw new Error(r);if(h>=65536){if(h>1114111)throw new Error(r);h-=65536,c.push(String.fromCharCode(55296|h>>10)),h=56320|h&1023}}c.push(String.fromCharCode(h))}return c.join("")}t.decode=a},function(e,t,n){e.exports=n(3).default},function(e,t,n){"use strict";n.r(t);class i{constructor(b,E){this.lastId=0,this.prefix=b,this.name=E}create(b){this.lastId++;var E=this.lastId,G=this.prefix+E,J=this.name+"["+E+"]",Fe=!1,Je=function(){Fe||(b.apply(null,arguments),Fe=!0)};return this[E]=Je,{number:E,id:G,name:J,callback:Je}}remove(b){delete this[b.number]}}var r=new i("_pusher_script_","Pusher.ScriptReceivers"),o={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},s=o;class a{constructor(b){this.options=b,this.receivers=b.receivers||r,this.loading={}}load(b,E,G){var J=this;if(J.loading[b]&&J.loading[b].length>0)J.loading[b].push(G);else{J.loading[b]=[G];var Fe=an.createScriptRequest(J.getPath(b,E)),Je=J.receivers.create(function(wt){if(J.receivers.remove(Je),J.loading[b]){var Zt=J.loading[b];delete J.loading[b];for(var zn=function(Yi){Yi||Fe.cleanup()},ei=0;ei<Zt.length;ei++)Zt[ei](wt,zn)}});Fe.send(Je)}}getRoot(b){var E,G=an.getDocument().location.protocol;return b&&b.useTLS||G==="https:"?E=this.options.cdn_https:E=this.options.cdn_http,E.replace(/\/*$/,"")+"/"+this.options.version}getPath(b,E){return this.getRoot(E)+"/"+b+this.options.suffix+".js"}}var l=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),c=new a({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:l});let d={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var f={buildLogSuffix:function(D){let b="See:",E=d.urls[D];if(!E)return"";let G;return E.fullUrl?G=E.fullUrl:E.path&&(G=d.baseUrl+E.path),G?`${b} ${G}`:""}},g=function(D){return D.UserAuthentication="user-authentication",D.ChannelAuthorization="channel-authorization",D}(g||{});class m extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class I extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(b,E){super(E),this.status=b,Object.setPrototypeOf(this,new.target.prototype)}}var P=function(D,b,E,G,J){let Fe=an.createXHR();Fe.open("POST",E.endpoint,!0),Fe.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Je in E.headers)Fe.setRequestHeader(Je,E.headers[Je]);if(E.headersProvider!=null){let wt=E.headersProvider();for(var Je in wt)Fe.setRequestHeader(Je,wt[Je])}return Fe.onreadystatechange=function(){if(Fe.readyState===4)if(Fe.status===200){let wt,Zt=!1;try{wt=JSON.parse(Fe.responseText),Zt=!0}catch{J(new F(200,`JSON returned from ${G.toString()} endpoint was invalid, yet status code was 200. Data was: ${Fe.responseText}`),null)}Zt&&J(null,wt)}else{let wt="";switch(G){case g.UserAuthentication:wt=f.buildLogSuffix("authenticationEndpoint");break;case g.ChannelAuthorization:wt=`Clients must be authorized to join private or presence channels. ${f.buildLogSuffix("authorizationEndpoint")}`;break}J(new F(Fe.status,`Unable to retrieve auth string from ${G.toString()} endpoint - received status: ${Fe.status} from ${E.endpoint}. ${wt}`),null)}},Fe.send(b),Fe};function L(D){return Ge(Le(D))}for(var U=String.fromCharCode,W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X={},oe=0,Ie=W.length;oe<Ie;oe++)X[W.charAt(oe)]=oe;var ae=function(D){var b=D.charCodeAt(0);return b<128?D:b<2048?U(192|b>>>6)+U(128|b&63):U(224|b>>>12&15)+U(128|b>>>6&63)+U(128|b&63)},Le=function(D){return D.replace(/[^\x00-\x7F]/g,ae)},Se=function(D){var b=[0,2,1][D.length%3],E=D.charCodeAt(0)<<16|(D.length>1?D.charCodeAt(1):0)<<8|(D.length>2?D.charCodeAt(2):0),G=[W.charAt(E>>>18),W.charAt(E>>>12&63),b>=2?"=":W.charAt(E>>>6&63),b>=1?"=":W.charAt(E&63)];return G.join("")},Ge=window.btoa||function(D){return D.replace(/[\s\S]{1,3}/g,Se)};class be{constructor(b,E,G,J){this.clear=E,this.timer=b(()=>{this.timer&&(this.timer=J(this.timer))},G)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Ae=be;function he(D){window.clearTimeout(D)}function N(D){window.clearInterval(D)}class ne extends Ae{constructor(b,E){super(setTimeout,he,b,function(G){return E(),null})}}class Q extends Ae{constructor(b,E){super(setInterval,N,b,function(G){return E(),G})}}var Z={now(){return Date.now?Date.now():new Date().valueOf()},defer(D){return new ne(0,D)},method(D,...b){var E=Array.prototype.slice.call(arguments,1);return function(G){return G[D].apply(G,E.concat(arguments))}}},le=Z;function ke(D,...b){for(var E=0;E<b.length;E++){var G=b[E];for(var J in G)G[J]&&G[J].constructor&&G[J].constructor===Object?D[J]=ke(D[J]||{},G[J]):D[J]=G[J]}return D}function ze(){for(var D=["Pusher"],b=0;b<arguments.length;b++)typeof arguments[b]=="string"?D.push(arguments[b]):D.push(Oi(arguments[b]));return D.join(" : ")}function Be(D,b){var E=Array.prototype.indexOf;if(D===null)return-1;if(E&&D.indexOf===E)return D.indexOf(b);for(var G=0,J=D.length;G<J;G++)if(D[G]===b)return G;return-1}function ve(D,b){for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&b(D[E],E,D)}function St(D){var b=[];return ve(D,function(E,G){b.push(G)}),b}function Y(D){var b=[];return ve(D,function(E){b.push(E)}),b}function $t(D,b,E){for(var G=0;G<D.length;G++)b.call(E||window,D[G],G,D)}function At(D,b){for(var E=[],G=0;G<D.length;G++)E.push(b(D[G],G,D,E));return E}function Et(D,b){var E={};return ve(D,function(G,J){E[J]=b(G)}),E}function Dt(D,b){b=b||function(J){return!!J};for(var E=[],G=0;G<D.length;G++)b(D[G],G,D,E)&&E.push(D[G]);return E}function Ye(D,b){var E={};return ve(D,function(G,J){(b&&b(G,J,D,E)||G)&&(E[J]=G)}),E}function vt(D){var b=[];return ve(D,function(E,G){b.push([G,E])}),b}function xn(D,b){for(var E=0;E<D.length;E++)if(b(D[E],E,D))return!0;return!1}function yi(D,b){for(var E=0;E<D.length;E++)if(!b(D[E],E,D))return!1;return!0}function Pi(D){return Et(D,function(b){return typeof b=="object"&&(b=Oi(b)),encodeURIComponent(L(b.toString()))})}function po(D){var b=Ye(D,function(G){return G!==void 0}),E=At(vt(Pi(b)),le.method("join","=")).join("&");return E}function An(D){var b=[],E=[];return function G(J,Fe){var Je,wt,Zt;switch(typeof J){case"object":if(!J)return null;for(Je=0;Je<b.length;Je+=1)if(b[Je]===J)return{$ref:E[Je]};if(b.push(J),E.push(Fe),Object.prototype.toString.apply(J)==="[object Array]")for(Zt=[],Je=0;Je<J.length;Je+=1)Zt[Je]=G(J[Je],Fe+"["+Je+"]");else{Zt={};for(wt in J)Object.prototype.hasOwnProperty.call(J,wt)&&(Zt[wt]=G(J[wt],Fe+"["+JSON.stringify(wt)+"]"))}return Zt;case"number":case"string":case"boolean":return J}}(D,"$")}function Oi(D){try{return JSON.stringify(D)}catch{return JSON.stringify(An(D))}}class nr{constructor(){this.globalLog=b=>{window.console&&window.console.log&&window.console.log(b)}}debug(...b){this.log(this.globalLog,b)}warn(...b){this.log(this.globalLogWarn,b)}error(...b){this.log(this.globalLogError,b)}globalLogWarn(b){window.console&&window.console.warn?window.console.warn(b):this.globalLog(b)}globalLogError(b){window.console&&window.console.error?window.console.error(b):this.globalLogWarn(b)}log(b,...E){var G=ze.apply(this,arguments);HC.log?HC.log(G):HC.logToConsole&&b.bind(this)(G)}}var rn=new nr,Xn=function(D,b,E,G,J){(E.headers!==void 0||E.headersProvider!=null)&&rn.warn(`To send headers with the ${G.toString()} request, you must use AJAX, rather than JSONP.`);var Fe=D.nextAuthCallbackID.toString();D.nextAuthCallbackID++;var Je=D.getDocument(),wt=Je.createElement("script");D.auth_callbacks[Fe]=function(ei){J(null,ei)};var Zt="Pusher.auth_callbacks['"+Fe+"']";wt.src=E.endpoint+"?callback="+encodeURIComponent(Zt)+"&"+b;var zn=Je.getElementsByTagName("head")[0]||Je.documentElement;zn.insertBefore(wt,zn.firstChild)},Gi=Xn;class Xi{constructor(b){this.src=b}send(b){var E=this,G="Error loading "+E.src;E.script=document.createElement("script"),E.script.id=b.id,E.script.src=E.src,E.script.type="text/javascript",E.script.charset="UTF-8",E.script.addEventListener?(E.script.onerror=function(){b.callback(G)},E.script.onload=function(){b.callback(null)}):E.script.onreadystatechange=function(){(E.script.readyState==="loaded"||E.script.readyState==="complete")&&b.callback(null)},E.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(E.errorScript=document.createElement("script"),E.errorScript.id=b.id+"_error",E.errorScript.text=b.name+"('"+G+"');",E.script.async=E.errorScript.async=!1):E.script.async=!0;var J=document.getElementsByTagName("head")[0];J.insertBefore(E.script,J.firstChild),E.errorScript&&J.insertBefore(E.errorScript,E.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Te{constructor(b,E){this.url=b,this.data=E}send(b){if(!this.request){var E=po(this.data),G=this.url+"/"+b.number+"?"+E;this.request=an.createScriptRequest(G),this.request.send(b)}}cleanup(){this.request&&this.request.cleanup()}}var re=function(D,b){return function(E,G){var J="http"+(b?"s":"")+"://",Fe=J+(D.host||D.options.host)+D.options.path,Je=an.createJSONPRequest(Fe,E),wt=an.ScriptReceivers.create(function(Zt,zn){r.remove(wt),Je.cleanup(),zn&&zn.host&&(D.host=zn.host),G&&G(Zt,zn)});Je.send(wt)}},ce={name:"jsonp",getAgent:re},rt=ce;function Ot(D,b,E){var G=D+(b.useTLS?"s":""),J=b.useTLS?b.hostTLS:b.hostNonTLS;return G+"://"+J+E}function cn(D,b){var E="/app/"+D,G="?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+(b?"&"+b:"");return E+G}var mr={getInitial:function(D,b){var E=(b.httpPath||"")+cn(D,"flash=false");return Ot("ws",b,E)}},Pa={getInitial:function(D,b){var E=(b.httpPath||"/pusher")+cn(D);return Ot("http",b,E)}},es={getInitial:function(D,b){return Ot("http",b,b.httpPath||"/pusher")},getPath:function(D,b){return cn(D)}};class Li{constructor(){this._callbacks={}}get(b){return this._callbacks[ir(b)]}add(b,E,G){var J=ir(b);this._callbacks[J]=this._callbacks[J]||[],this._callbacks[J].push({fn:E,context:G})}remove(b,E,G){if(!b&&!E&&!G){this._callbacks={};return}var J=b?[ir(b)]:St(this._callbacks);E||G?this.removeCallback(J,E,G):this.removeAllCallbacks(J)}removeCallback(b,E,G){$t(b,function(J){this._callbacks[J]=Dt(this._callbacks[J]||[],function(Fe){return E&&E!==Fe.fn||G&&G!==Fe.context}),this._callbacks[J].length===0&&delete this._callbacks[J]},this)}removeAllCallbacks(b){$t(b,function(E){delete this._callbacks[E]},this)}}function ir(D){return"_"+D}class rr{constructor(b){this.callbacks=new Li,this.global_callbacks=[],this.failThrough=b}bind(b,E,G){return this.callbacks.add(b,E,G),this}bind_global(b){return this.global_callbacks.push(b),this}unbind(b,E,G){return this.callbacks.remove(b,E,G),this}unbind_global(b){return b?(this.global_callbacks=Dt(this.global_callbacks||[],E=>E!==b),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(b,E,G){for(var J=0;J<this.global_callbacks.length;J++)this.global_callbacks[J](b,E);var Fe=this.callbacks.get(b),Je=[];if(G?Je.push(E,G):E&&Je.push(E),Fe&&Fe.length>0)for(var J=0;J<Fe.length;J++)Fe[J].fn.apply(Fe[J].context||window,Je);else this.failThrough&&this.failThrough(b,E);return this}}class Zl extends rr{constructor(b,E,G,J,Fe){super(),this.initialize=an.transportConnectionInitializer,this.hooks=b,this.name=E,this.priority=G,this.key=J,this.options=Fe,this.state="new",this.timeline=Fe.timeline,this.activityTimeout=Fe.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var b=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(b,this.options)}catch(E){return le.defer(()=>{this.onError(E),this.changeState("closed")}),!1}return this.bindListeners(),rn.debug("Connecting",{transport:this.name,url:b}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(b){return this.state==="open"?(le.defer(()=>{this.socket&&this.socket.send(b)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(b){this.emit("error",{type:"WebSocketError",error:b}),this.timeline.error(this.buildTimelineMessage({error:b.toString()}))}onClose(b){b?this.changeState("closed",{code:b.code,reason:b.reason,wasClean:b.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(b){this.emit("message",b)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=b=>{this.onError(b)},this.socket.onclose=b=>{this.onClose(b)},this.socket.onmessage=b=>{this.onMessage(b)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(b,E){this.state=b,this.timeline.info(this.buildTimelineMessage({state:b,params:E})),this.emit(b,E)}buildTimelineMessage(b){return ke({cid:this.id},b)}}class ts{constructor(b){this.hooks=b}isSupported(b){return this.hooks.isSupported(b)}createConnection(b,E,G,J){return new Zl(this.hooks,b,E,G,J)}}var fh=new ts({urls:mr,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!an.getWebSocketAPI()},isSupported:function(){return!!an.getWebSocketAPI()},getSocket:function(D){return an.createWebSocket(D)}}),Wr={urls:Pa,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Js=ke({getSocket:function(D){return an.HTTPFactory.createStreamingSocket(D)}},Wr),to=ke({getSocket:function(D){return an.HTTPFactory.createPollingSocket(D)}},Wr),ko={isSupported:function(){return an.isXHRSupported()}},jr=new ts(ke({},Js,ko)),Ms=new ts(ke({},to,ko)),Po={ws:fh,xhr_streaming:jr,xhr_polling:Ms},$n=Po,Mr=new ts({file:"sockjs",urls:es,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(D,b){return new window.SockJS(D,null,{js_path:c.getPath("sockjs",{useTLS:b.useTLS}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(D,b){D.send(JSON.stringify({path:b}))}}),ns={isSupported:function(D){var b=an.isXDRSupported(D.useTLS);return b}},ip=new ts(ke({},Js,ns)),k=new ts(ke({},to,ns));$n.xdr_streaming=ip,$n.xdr_polling=k,$n.sockjs=Mr;var j=$n;class H extends rr{constructor(){super();var b=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){b.emit("online")},!1),window.addEventListener("offline",function(){b.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var z=new H;class q{constructor(b,E,G){this.manager=b,this.transport=E,this.minPingDelay=G.minPingDelay,this.maxPingDelay=G.maxPingDelay,this.pingDelay=void 0}createConnection(b,E,G,J){J=ke({},J,{activityTimeout:this.pingDelay});var Fe=this.transport.createConnection(b,E,G,J),Je=null,wt=function(){Fe.unbind("open",wt),Fe.bind("closed",Zt),Je=le.now()},Zt=zn=>{if(Fe.unbind("closed",Zt),zn.code===1002||zn.code===1003)this.manager.reportDeath();else if(!zn.wasClean&&Je){var ei=le.now()-Je;ei<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ei/2,this.minPingDelay))}};return Fe.bind("open",wt),Fe}isSupported(b){return this.manager.isAlive()&&this.transport.isSupported(b)}}let K={decodeMessage:function(D){try{var b=JSON.parse(D.data),E=b.data;if(typeof E=="string")try{E=JSON.parse(b.data)}catch{}var G={event:b.event,channel:b.channel,data:E};return b.user_id&&(G.user_id=b.user_id),G}catch(J){throw{type:"MessageParseError",error:J,data:D.data}}},encodeMessage:function(D){return JSON.stringify(D)},processHandshake:function(D){var b=K.decodeMessage(D);if(b.event==="pusher:connection_established"){if(!b.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:b.data.socket_id,activityTimeout:b.data.activity_timeout*1e3}}else{if(b.event==="pusher:error")return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw"Invalid handshake"}},getCloseAction:function(D){return D.code<4e3?D.code>=1002&&D.code<=1004?"backoff":null:D.code===4e3?"tls_only":D.code<4100?"refused":D.code<4200?"backoff":D.code<4300?"retry":"refused"},getCloseError:function(D){return D.code!==1e3&&D.code!==1001?{type:"PusherError",data:{code:D.code,message:D.reason||D.message}}:null}};var de=K;class Ee extends rr{constructor(b,E){super(),this.id=b,this.transport=E,this.activityTimeout=E.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(b){return this.transport.send(b)}send_event(b,E,G){var J={event:b,data:E};return G&&(J.channel=G),rn.debug("Event sent",J),this.send(de.encodeMessage(J))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var b={message:G=>{var J;try{J=de.decodeMessage(G)}catch(Fe){this.emit("error",{type:"MessageParseError",error:Fe,data:G.data})}if(J!==void 0){switch(rn.debug("Event recd",J),J.event){case"pusher:error":this.emit("error",{type:"PusherError",data:J.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",J)}},activity:()=>{this.emit("activity")},error:G=>{this.emit("error",G)},closed:G=>{E(),G&&G.code&&this.handleCloseEvent(G),this.transport=null,this.emit("closed")}},E=()=>{ve(b,(G,J)=>{this.transport.unbind(J,G)})};ve(b,(G,J)=>{this.transport.bind(J,G)})}handleCloseEvent(b){var E=de.getCloseAction(b),G=de.getCloseError(b);G&&this.emit("error",G),E&&this.emit(E,{action:E,error:G})}}class pe{constructor(b,E){this.transport=b,this.callback=E,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=b=>{this.unbindListeners();var E;try{E=de.processHandshake(b)}catch(G){this.finish("error",{error:G}),this.transport.close();return}E.action==="connected"?this.finish("connected",{connection:new Ee(E.id,this.transport),activityTimeout:E.activityTimeout}):(this.finish(E.action,{error:E.error}),this.transport.close())},this.onClosed=b=>{this.unbindListeners();var E=de.getCloseAction(b)||"backoff",G=de.getCloseError(b);this.finish(E,{error:G})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(b,E){this.callback(ke({transport:this.transport,action:b},E))}}class fe{constructor(b,E){this.timeline=b,this.options=E||{}}send(b,E){this.timeline.isEmpty()||this.timeline.send(an.TimelineTransport.getAgent(this,b),E)}}class ge extends rr{constructor(b,E){super(function(G,J){rn.debug("No callbacks on "+b+" for "+G)}),this.name=b,this.pusher=E,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(b,E){return E(null,{auth:""})}trigger(b,E){if(b.indexOf("client-")!==0)throw new m("Event '"+b+"' does not start with 'client-'");if(!this.subscribed){var G=f.buildLogSuffix("triggeringClientEvents");rn.warn(`Client event triggered before channel 'subscription_succeeded' event . ${G}`)}return this.pusher.send_event(b,E,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(b){var E=b.event,G=b.data;if(E==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(b);else if(E==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(b);else if(E.indexOf("pusher_internal:")!==0){var J={};this.emit(E,G,J)}}handleSubscriptionSucceededEvent(b){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",b.data)}handleSubscriptionCountEvent(b){b.data.subscription_count&&(this.subscriptionCount=b.data.subscription_count),this.emit("pusher:subscription_count",b.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(b,E)=>{b?(this.subscriptionPending=!1,rn.error(b.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:b.message},b instanceof F?{status:b.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:E.auth,channel_data:E.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class qe extends ge{authorize(b,E){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:b},E)}}class Ze{constructor(){this.reset()}get(b){return Object.prototype.hasOwnProperty.call(this.members,b)?{id:b,info:this.members[b]}:null}each(b){ve(this.members,(E,G)=>{b(this.get(G))})}setMyID(b){this.myID=b}onSubscription(b){this.members=b.presence.hash,this.count=b.presence.count,this.me=this.get(this.myID)}addMember(b){return this.get(b.user_id)===null&&this.count++,this.members[b.user_id]=b.user_info,this.get(b.user_id)}removeMember(b){var E=this.get(b.user_id);return E&&(delete this.members[b.user_id],this.count--),E}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var ft=function(D,b,E,G){function J(Fe){return Fe instanceof E?Fe:new E(function(Je){Je(Fe)})}return new(E||(E=Promise))(function(Fe,Je){function wt(ei){try{zn(G.next(ei))}catch(Yi){Je(Yi)}}function Zt(ei){try{zn(G.throw(ei))}catch(Yi){Je(Yi)}}function zn(ei){ei.done?Fe(ei.value):J(ei.value).then(wt,Zt)}zn((G=G.apply(D,b||[])).next())})};class Qe extends qe{constructor(b,E){super(b,E),this.members=new Ze}authorize(b,E){super.authorize(b,(G,J)=>ft(this,void 0,void 0,function*(){if(!G)if(J=J,J.channel_data!=null){var Fe=JSON.parse(J.channel_data);this.members.setMyID(Fe.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Je=f.buildLogSuffix("authorizationEndpoint");rn.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Je}, or the user should be signed in.`),E("Invalid auth response");return}E(G,J)}))}handleEvent(b){var E=b.event;if(E.indexOf("pusher_internal:")===0)this.handleInternalEvent(b);else{var G=b.data,J={};b.user_id&&(J.user_id=b.user_id),this.emit(E,G,J)}}handleInternalEvent(b){var E=b.event,G=b.data;switch(E){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(b);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(b);break;case"pusher_internal:member_added":var J=this.members.addMember(G);this.emit("pusher:member_added",J);break;case"pusher_internal:member_removed":var Fe=this.members.removeMember(G);Fe&&this.emit("pusher:member_removed",Fe);break}}handleSubscriptionSucceededEvent(b){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(b.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var at=n(1),Gt=n(0);class ci extends qe{constructor(b,E,G){super(b,E),this.key=null,this.nacl=G}authorize(b,E){super.authorize(b,(G,J)=>{if(G){E(G,J);return}let Fe=J.shared_secret;if(!Fe){E(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Gt.decode)(Fe),delete J.shared_secret,E(null,J)})}trigger(b,E){throw new _("Client events are not currently supported for encrypted channels")}handleEvent(b){var E=b.event,G=b.data;if(E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0){super.handleEvent(b);return}this.handleEncryptedEvent(E,G)}handleEncryptedEvent(b,E){if(!this.key){rn.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!E.ciphertext||!E.nonce){rn.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+E);return}let G=Object(Gt.decode)(E.ciphertext);if(G.length<this.nacl.secretbox.overheadLength){rn.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${G.length}`);return}let J=Object(Gt.decode)(E.nonce);if(J.length<this.nacl.secretbox.nonceLength){rn.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${J.length}`);return}let Fe=this.nacl.secretbox.open(G,J,this.key);if(Fe===null){rn.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Je,wt)=>{if(Je){rn.error(`Failed to make a request to the authEndpoint: ${wt}. Unable to fetch new key, so dropping encrypted event`);return}if(Fe=this.nacl.secretbox.open(G,J,this.key),Fe===null){rn.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(b,this.getDataToEmit(Fe))});return}this.emit(b,this.getDataToEmit(Fe))}getDataToEmit(b){let E=Object(at.decode)(b);try{return JSON.parse(E)}catch{return E}}}class no extends rr{constructor(b,E){super(),this.state="initialized",this.connection=null,this.key=b,this.options=E,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var G=an.getNetwork();G.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),G.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(b){return this.connection?this.connection.send(b):!1}send_event(b,E,G){return this.connection?this.connection.send_event(b,E,G):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var b=(E,G)=>{E?this.runner=this.strategy.connect(0,b):G.action==="error"?(this.emit("error",{type:"HandshakeError",error:G.error}),this.timeline.error({handshakeError:G.error})):(this.abortConnecting(),this.handshakeCallbacks[G.action](G))};this.runner=this.strategy.connect(0,b)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var b=this.abandonConnection();b.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(b){this.timeline.info({action:"retry",delay:b}),b>0&&this.emit("connecting_in",Math.round(b/1e3)),this.retryTimer=new ne(b||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ne(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ne(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ne(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(b){return ke({},b,{message:E=>{this.resetActivityCheck(),this.emit("message",E)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:E=>{this.emit("error",E)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(b){return ke({},b,{connected:E=>{this.activityTimeout=Math.min(this.options.activityTimeout,E.activityTimeout,E.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(E.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let b=E=>G=>{G.error&&this.emit("error",{type:"WebSocketError",error:G.error}),E(G)};return{tls_only:b(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:b(()=>{this.disconnect()}),backoff:b(()=>{this.retryIn(1e3)}),retry:b(()=>{this.retryIn(0)})}}setConnection(b){this.connection=b;for(var E in this.connectionCallbacks)this.connection.bind(E,this.connectionCallbacks[E]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var b in this.connectionCallbacks)this.connection.unbind(b,this.connectionCallbacks[b]);var E=this.connection;return this.connection=null,E}}updateState(b,E){var G=this.state;if(this.state=b,G!==b){var J=b;J==="connected"&&(J+=" with new socket ID "+E.socket_id),rn.debug("State changed",G+" -> "+J),this.timeline.info({state:b,params:E}),this.emit("state_change",{previous:G,current:b}),this.emit(b,E)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class zi{constructor(){this.channels={}}add(b,E){return this.channels[b]||(this.channels[b]=Oo(b,E)),this.channels[b]}all(){return Y(this.channels)}find(b){return this.channels[b]}remove(b){var E=this.channels[b];return delete this.channels[b],E}disconnect(){ve(this.channels,function(b){b.disconnect()})}}function Oo(D,b){if(D.indexOf("private-encrypted-")===0){if(b.config.nacl)return Lo.createEncryptedChannel(D,b,b.config.nacl);let E="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",G=f.buildLogSuffix("encryptedChannelSupport");throw new _(`${E}. ${G}`)}else{if(D.indexOf("private-")===0)return Lo.createPrivateChannel(D,b);if(D.indexOf("presence-")===0)return Lo.createPresenceChannel(D,b);if(D.indexOf("#")===0)throw new v('Cannot create a channel with name "'+D+'".');return Lo.createChannel(D,b)}}var qd={createChannels(){return new zi},createConnectionManager(D,b){return new no(D,b)},createChannel(D,b){return new ge(D,b)},createPrivateChannel(D,b){return new qe(D,b)},createPresenceChannel(D,b){return new Qe(D,b)},createEncryptedChannel(D,b,E){return new ci(D,b,E)},createTimelineSender(D,b){return new fe(D,b)},createHandshake(D,b){return new pe(D,b)},createAssistantToTheTransportManager(D,b,E){return new q(D,b,E)}},Lo=qd;class ol{constructor(b){this.options=b||{},this.livesLeft=this.options.lives||1/0}getAssistant(b){return Lo.createAssistantToTheTransportManager(this,b,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ea{constructor(b,E){this.strategies=b,this.loop=!!E.loop,this.failFast=!!E.failFast,this.timeout=E.timeout,this.timeoutLimit=E.timeoutLimit}isSupported(){return xn(this.strategies,le.method("isSupported"))}connect(b,E){var G=this.strategies,J=0,Fe=this.timeout,Je=null,wt=(Zt,zn)=>{zn?E(null,zn):(J=J+1,this.loop&&(J=J%G.length),J<G.length?(Fe&&(Fe=Fe*2,this.timeoutLimit&&(Fe=Math.min(Fe,this.timeoutLimit))),Je=this.tryStrategy(G[J],b,{timeout:Fe,failFast:this.failFast},wt)):E(!0))};return Je=this.tryStrategy(G[J],b,{timeout:Fe,failFast:this.failFast},wt),{abort:function(){Je.abort()},forceMinPriority:function(Zt){b=Zt,Je&&Je.forceMinPriority(Zt)}}}tryStrategy(b,E,G,J){var Fe=null,Je=null;return G.timeout>0&&(Fe=new ne(G.timeout,function(){Je.abort(),J(!0)})),Je=b.connect(E,function(wt,Zt){wt&&Fe&&Fe.isRunning()&&!G.failFast||(Fe&&Fe.ensureAborted(),J(wt,Zt))}),{abort:function(){Fe&&Fe.ensureAborted(),Je.abort()},forceMinPriority:function(wt){Je.forceMinPriority(wt)}}}}class is{constructor(b){this.strategies=b}isSupported(){return xn(this.strategies,le.method("isSupported"))}connect(b,E){return ax(this.strategies,b,function(G,J){return function(Fe,Je){if(J[G].error=Fe,Fe){IC(J)&&E(!0);return}$t(J,function(wt){wt.forceMinPriority(Je.transport.priority)}),E(null,Je)}})}}function ax(D,b,E){var G=At(D,function(J,Fe,Je,wt){return J.connect(b,E(Fe,wt))});return{abort:function(){$t(G,BI)},forceMinPriority:function(J){$t(G,function(Fe){Fe.forceMinPriority(J)})}}}function IC(D){return yi(D,function(b){return!!b.error})}function BI(D){!D.error&&!D.aborted&&(D.abort(),D.aborted=!0)}class lx{constructor(b,E,G){this.strategy=b,this.transports=E,this.ttl=G.ttl||1800*1e3,this.usingTLS=G.useTLS,this.timeline=G.timeline}isSupported(){return this.strategy.isSupported()}connect(b,E){var G=this.usingTLS,J=cx(G),Fe=J&&J.cacheSkipCount?J.cacheSkipCount:0,Je=[this.strategy];if(J&&J.timestamp+this.ttl>=le.now()){var wt=this.transports[J.transport];wt&&(["ws","wss"].includes(J.transport)||Fe>3?(this.timeline.info({cached:!0,transport:J.transport,latency:J.latency}),Je.push(new ea([wt],{timeout:J.latency*2+1e3,failFast:!0}))):Fe++)}var Zt=le.now(),zn=Je.pop().connect(b,function ei(Yi,vh){Yi?(MC(G),Je.length>0?(Zt=le.now(),zn=Je.pop().connect(b,ei)):E(Yi)):(VI(G,vh.transport.name,le.now()-Zt,Fe),E(null,vh))});return{abort:function(){zn.abort()},forceMinPriority:function(ei){b=ei,zn&&zn.forceMinPriority(ei)}}}}function ph(D){return"pusherTransport"+(D?"TLS":"NonTLS")}function cx(D){var b=an.getLocalStorage();if(b)try{var E=b[ph(D)];if(E)return JSON.parse(E)}catch{MC(D)}return null}function VI(D,b,E,G){var J=an.getLocalStorage();if(J)try{J[ph(D)]=Oi({timestamp:le.now(),transport:b,latency:E,cacheSkipCount:G})}catch{}}function MC(D){var b=an.getLocalStorage();if(b)try{delete b[ph(D)]}catch{}}class rp{constructor(b,{delay:E}){this.strategy=b,this.options={delay:E}}isSupported(){return this.strategy.isSupported()}connect(b,E){var G=this.strategy,J,Fe=new ne(this.options.delay,function(){J=G.connect(b,E)});return{abort:function(){Fe.ensureAborted(),J&&J.abort()},forceMinPriority:function(Je){b=Je,J&&J.forceMinPriority(Je)}}}}class Kd{constructor(b,E,G){this.test=b,this.trueBranch=E,this.falseBranch=G}isSupported(){var b=this.test()?this.trueBranch:this.falseBranch;return b.isSupported()}connect(b,E){var G=this.test()?this.trueBranch:this.falseBranch;return G.connect(b,E)}}class HI{constructor(b){this.strategy=b}isSupported(){return this.strategy.isSupported()}connect(b,E){var G=this.strategy.connect(b,function(J,Fe){Fe&&G.abort(),E(J,Fe)});return G}}function gh(D){return function(){return D.isSupported()}}var FC=function(D,b,E){var G={};function J(Ix,cM,WC,Mx,Bc){var sp=E(D,Ix,cM,WC,Mx,Bc);return G[Ix]=sp,sp}var Fe=Object.assign({},b,{hostNonTLS:D.wsHost+":"+D.wsPort,hostTLS:D.wsHost+":"+D.wssPort,httpPath:D.wsPath}),Je=Object.assign({},Fe,{useTLS:!0}),wt=Object.assign({},b,{hostNonTLS:D.httpHost+":"+D.httpPort,hostTLS:D.httpHost+":"+D.httpsPort,httpPath:D.httpPath}),Zt={loop:!0,timeout:15e3,timeoutLimit:6e4},zn=new ol({minPingDelay:1e4,maxPingDelay:D.activityTimeout}),ei=new ol({lives:2,minPingDelay:1e4,maxPingDelay:D.activityTimeout}),Yi=J("ws","ws",3,Fe,zn),vh=J("wss","ws",3,Je,zn),aM=J("sockjs","sockjs",1,wt),GC=J("xhr_streaming","xhr_streaming",1,wt,ei),As=J("xdr_streaming","xdr_streaming",1,wt,ei),dm=J("xhr_polling","xhr_polling",1,wt),op=J("xdr_polling","xdr_polling",1,wt),zC=new ea([Yi],Zt),Ex=new ea([vh],Zt),lM=new ea([aM],Zt),Dx=new ea([new Kd(gh(GC),GC,As)],Zt),Rx=new ea([new Kd(gh(dm),dm,op)],Zt),Tx=new ea([new Kd(gh(Dx),new is([Dx,new rp(Rx,{delay:4e3})]),Rx)],Zt),UC=new Kd(gh(Tx),Tx,lM),Nc;return b.useTLS?Nc=new is([zC,new rp(UC,{delay:2e3})]):Nc=new is([zC,new rp(Ex,{delay:2e3}),new rp(UC,{delay:5e3})]),new lx(new HI(new Kd(gh(Yi),Nc,UC)),G,{ttl:18e5,timeline:b.timeline,useTLS:b.useTLS})},AC=FC,mh=function(){var D=this;D.timeline.info(D.buildTimelineMessage({transport:D.name+(D.options.useTLS?"s":"")})),D.hooks.isInitialized()?D.changeState("initialized"):D.hooks.file?(D.changeState("initializing"),c.load(D.hooks.file,{useTLS:D.options.useTLS},function(b,E){D.hooks.isInitialized()?(D.changeState("initialized"),E(!0)):(b&&D.onError(b),D.onClose(),E(!1))})):D.onClose()},dx={getRequest:function(D){var b=new window.XDomainRequest;return b.ontimeout=function(){D.emit("error",new C),D.close()},b.onerror=function(E){D.emit("error",E),D.close()},b.onprogress=function(){b.responseText&&b.responseText.length>0&&D.onChunk(200,b.responseText)},b.onload=function(){b.responseText&&b.responseText.length>0&&D.onChunk(200,b.responseText),D.emit("finished",200),D.close()},b},abortRequest:function(D){D.ontimeout=D.onerror=D.onprogress=D.onload=null,D.abort()}},ux=dx;let GI=256*1024;class hx extends rr{constructor(b,E,G){super(),this.hooks=b,this.method=E,this.url=G}start(b){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},an.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(b)}close(){this.unloader&&(an.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(b,E){for(;;){var G=this.advanceBuffer(E);if(G)this.emit("chunk",{status:b,data:G});else break}this.isBufferTooLong(E)&&this.emit("buffer_too_long")}advanceBuffer(b){var E=b.slice(this.position),G=E.indexOf(`
`);return G!==-1?(this.position+=G+1,E.slice(0,G)):null}isBufferTooLong(b){return this.position===b.length&&b.length>GI}}var kC=function(D){return D[D.CONNECTING=0]="CONNECTING",D[D.OPEN=1]="OPEN",D[D.CLOSED=3]="CLOSED",D}(kC||{}),Pc=kC,fx=1;class zI{constructor(b,E){this.hooks=b,this.session=px(1e3)+"/"+$I(8),this.location=UI(E),this.readyState=Pc.CONNECTING,this.openStream()}send(b){return this.sendRaw(JSON.stringify([b]))}ping(){this.hooks.sendHeartbeat(this)}close(b,E){this.onClose(b,E,!0)}sendRaw(b){if(this.readyState===Pc.OPEN)try{return an.createSocketRequest("POST",PC(WI(this.location,this.session))).start(b),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(b,E,G){this.closeStream(),this.readyState=Pc.CLOSED,this.onclose&&this.onclose({code:b,reason:E,wasClean:G})}onChunk(b){if(b.status===200){this.readyState===Pc.OPEN&&this.onActivity();var E,G=b.data.slice(0,1);switch(G){case"o":E=JSON.parse(b.data.slice(1)||"{}"),this.onOpen(E);break;case"a":E=JSON.parse(b.data.slice(1)||"[]");for(var J=0;J<E.length;J++)this.onEvent(E[J]);break;case"m":E=JSON.parse(b.data.slice(1)||"null"),this.onEvent(E);break;case"h":this.hooks.onHeartbeat(this);break;case"c":E=JSON.parse(b.data.slice(1)||"[]"),this.onClose(E[0],E[1],!0);break}}}onOpen(b){this.readyState===Pc.CONNECTING?(b&&b.hostname&&(this.location.base=jI(this.location.base,b.hostname)),this.readyState=Pc.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(b){this.readyState===Pc.OPEN&&this.onmessage&&this.onmessage({data:b})}onActivity(){this.onactivity&&this.onactivity()}onError(b){this.onerror&&this.onerror(b)}openStream(){this.stream=an.createSocketRequest("POST",PC(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",b=>{this.onChunk(b)}),this.stream.bind("finished",b=>{this.hooks.onFinished(this,b)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(b){le.defer(()=>{this.onError(b),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function UI(D){var b=/([^\?]*)\/*(\??.*)/.exec(D);return{base:b[1],queryString:b[2]}}function WI(D,b){return D.base+"/"+b+"/xhr_send"}function PC(D){var b=D.indexOf("?")===-1?"?":"&";return D+b+"t="+ +new Date+"&n="+fx++}function jI(D,b){var E=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(D);return E[1]+b+E[3]}function px(D){return an.randomInt(D)}function $I(D){for(var b=[],E=0;E<D;E++)b.push(px(32).toString(32));return b.join("")}var qI=zI,OC={getReceiveURL:function(D,b){return D.base+"/"+b+"/xhr_streaming"+D.queryString},onHeartbeat:function(D){D.sendRaw("[]")},sendHeartbeat:function(D){D.sendRaw("[]")},onFinished:function(D,b){D.onClose(1006,"Connection interrupted ("+b+")",!1)}},KI=OC,XI={getReceiveURL:function(D,b){return D.base+"/"+b+"/xhr"+D.queryString},onHeartbeat:function(){},sendHeartbeat:function(D){D.sendRaw("[]")},onFinished:function(D,b){b===200?D.reconnect():D.onClose(1006,"Connection interrupted ("+b+")",!1)}},YI=XI,ZI={getRequest:function(D){var b=an.getXHRAPI(),E=new b;return E.onreadystatechange=E.onprogress=function(){switch(E.readyState){case 3:E.responseText&&E.responseText.length>0&&D.onChunk(E.status,E.responseText);break;case 4:E.responseText&&E.responseText.length>0&&D.onChunk(E.status,E.responseText),D.emit("finished",E.status),D.close();break}},E},abortRequest:function(D){D.onreadystatechange=null,D.abort()}},QI=ZI,Ei={createStreamingSocket(D){return this.createSocket(KI,D)},createPollingSocket(D){return this.createSocket(YI,D)},createSocket(D,b){return new qI(D,b)},createXHR(D,b){return this.createRequest(QI,D,b)},createRequest(D,b,E){return new hx(D,b,E)}},fi=Ei;fi.createXDR=function(D,b){return this.createRequest(ux,D,b)};var JI=fi,eM={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:l,getDefaultStrategy:AC,Transports:j,transportConnectionInitializer:mh,HTTPFactory:JI,TimelineTransport:rt,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(D){window.Pusher=D;var b=()=>{this.onDocumentBody(D.ready)};window.JSON?b():c.load("json2",{},b)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:P,jsonp:Gi}},onDocumentBody(D){document.body?D():setTimeout(()=>{this.onDocumentBody(D)},0)},createJSONPRequest(D,b){return new Te(D,b)},createScriptRequest(D){return new Xi(D)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var D=this.getXHRAPI();return new D},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return z},createWebSocket(D){var b=this.getWebSocketAPI();return new b(D)},createSocketRequest(D,b){if(this.isXHRSupported())return this.HTTPFactory.createXHR(D,b);if(this.isXDRSupported(b.indexOf("https:")===0))return this.HTTPFactory.createXDR(D,b);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var D=this.getXHRAPI();return!!D&&new D().withCredentials!==void 0},isXDRSupported(D){var b=D?"https:":"http:",E=this.getProtocol();return!!window.XDomainRequest&&E===b},addUnloadListener(D){window.addEventListener!==void 0?window.addEventListener("unload",D,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",D)},removeUnloadListener(D){window.addEventListener!==void 0?window.removeEventListener("unload",D,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",D)},randomInt(D){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*D)}},an=eM,gx=function(D){return D[D.ERROR=3]="ERROR",D[D.INFO=6]="INFO",D[D.DEBUG=7]="DEBUG",D}(gx||{}),lm=gx;class tM{constructor(b,E,G){this.key=b,this.session=E,this.events=[],this.options=G||{},this.sent=0,this.uniqueID=0}log(b,E){b<=this.options.level&&(this.events.push(ke({},E,{timestamp:le.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(b){this.log(lm.ERROR,b)}info(b){this.log(lm.INFO,b)}debug(b){this.log(lm.DEBUG,b)}isEmpty(){return this.events.length===0}send(b,E){var G=ke({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],b(G,(J,Fe)=>{J||this.sent++,E&&E(J,Fe)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class mx{constructor(b,E,G,J){this.name=b,this.priority=E,this.transport=G,this.options=J||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(b,E){if(this.isSupported()){if(this.priority<b)return vx(new y,E)}else return vx(new I,E);var G=!1,J=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Fe=null,Je=function(){J.unbind("initialized",Je),J.connect()},wt=function(){Fe=Lo.createHandshake(J,function(Yi){G=!0,ei(),E(null,Yi)})},Zt=function(Yi){ei(),E(Yi)},zn=function(){ei();var Yi;Yi=Oi(J),E(new x(Yi))},ei=function(){J.unbind("initialized",Je),J.unbind("open",wt),J.unbind("error",Zt),J.unbind("closed",zn)};return J.bind("initialized",Je),J.bind("open",wt),J.bind("error",Zt),J.bind("closed",zn),J.initialize(),{abort:()=>{G||(ei(),Fe?Fe.close():J.close())},forceMinPriority:Yi=>{G||this.priority<Yi&&(Fe?Fe.close():J.close())}}}}function vx(D,b){return le.defer(function(){b(D)}),{abort:function(){},forceMinPriority:function(){}}}let{Transports:$r}=an;var LC=function(D,b,E,G,J,Fe){var Je=$r[E];if(!Je)throw new R(E);var wt=(!D.enabledTransports||Be(D.enabledTransports,b)!==-1)&&(!D.disabledTransports||Be(D.disabledTransports,b)===-1),Zt;return wt?(J=Object.assign({ignoreNullOrigin:D.ignoreNullOrigin},J),Zt=new mx(b,G,Fe?Fe.getAssistant(Je):Je,J)):Zt=Xd,Zt},Xd={isSupported:function(){return!1},connect:function(D,b){var E=le.defer(function(){b(new I)});return{abort:function(){E.ensureAborted()},forceMinPriority:function(){}}}};function Cx(D){if(D==null)throw"You must pass an options object";if(D.cluster==null)throw"Options object must provide a cluster";"disableStats"in D&&rn.warn("The disableStats option is deprecated in favor of enableStats")}let NC=(D,b)=>{var E="socket_id="+encodeURIComponent(D.socketId);for(var G in b.params)E+="&"+encodeURIComponent(G)+"="+encodeURIComponent(b.params[G]);if(b.paramsProvider!=null){let J=b.paramsProvider();for(var G in J)E+="&"+encodeURIComponent(G)+"="+encodeURIComponent(J[G])}return E};var wx=D=>{if(typeof an.getAuthorizers()[D.transport]>"u")throw`'${D.transport}' is not a recognized auth transport`;return(b,E)=>{let G=NC(b,D);an.getAuthorizers()[D.transport](an,G,D,g.UserAuthentication,E)}};let yx=(D,b)=>{var E="socket_id="+encodeURIComponent(D.socketId);E+="&channel_name="+encodeURIComponent(D.channelName);for(var G in b.params)E+="&"+encodeURIComponent(G)+"="+encodeURIComponent(b.params[G]);if(b.paramsProvider!=null){let J=b.paramsProvider();for(var G in J)E+="&"+encodeURIComponent(G)+"="+encodeURIComponent(J[G])}return E};var bx=D=>{if(typeof an.getAuthorizers()[D.transport]>"u")throw`'${D.transport}' is not a recognized auth transport`;return(b,E)=>{let G=yx(b,D);an.getAuthorizers()[D.transport](an,G,D,g.ChannelAuthorization,E)}};let _x=(D,b,E)=>{let G={authTransport:b.transport,authEndpoint:b.endpoint,auth:{params:b.params,headers:b.headers}};return(J,Fe)=>{let Je=D.channel(J.channelName);E(Je,G).authorize(J.socketId,Fe)}};function xx(D,b){let E={activityTimeout:D.activityTimeout||s.activityTimeout,cluster:D.cluster,httpPath:D.httpPath||s.httpPath,httpPort:D.httpPort||s.httpPort,httpsPort:D.httpsPort||s.httpsPort,pongTimeout:D.pongTimeout||s.pongTimeout,statsHost:D.statsHost||s.stats_host,unavailableTimeout:D.unavailableTimeout||s.unavailableTimeout,wsPath:D.wsPath||s.wsPath,wsPort:D.wsPort||s.wsPort,wssPort:D.wssPort||s.wssPort,enableStats:Sx(D),httpHost:Fs(D),useTLS:rM(D),wsHost:iM(D),userAuthenticator:Oc(D),channelAuthorizer:BC(D,b)};return"disabledTransports"in D&&(E.disabledTransports=D.disabledTransports),"enabledTransports"in D&&(E.enabledTransports=D.enabledTransports),"ignoreNullOrigin"in D&&(E.ignoreNullOrigin=D.ignoreNullOrigin),"timelineParams"in D&&(E.timelineParams=D.timelineParams),"nacl"in D&&(E.nacl=D.nacl),E}function Fs(D){return D.httpHost?D.httpHost:D.cluster?`sockjs-${D.cluster}.pusher.com`:s.httpHost}function iM(D){return D.wsHost?D.wsHost:ta(D.cluster)}function ta(D){return`ws-${D}.pusher.com`}function rM(D){return an.getProtocol()==="https:"?!0:D.forceTLS!==!1}function Sx(D){return"enableStats"in D?D.enableStats:"disableStats"in D?!D.disableStats:!1}function Oc(D){let b=Object.assign(Object.assign({},s.userAuthentication),D.userAuthentication);return"customHandler"in b&&b.customHandler!=null?b.customHandler:wx(b)}function cm(D,b){let E;return"channelAuthorization"in D?E=Object.assign(Object.assign({},s.channelAuthorization),D.channelAuthorization):(E={transport:D.authTransport||s.authTransport,endpoint:D.authEndpoint||s.authEndpoint},"auth"in D&&("params"in D.auth&&(E.params=D.auth.params),"headers"in D.auth&&(E.headers=D.auth.headers)),"authorizer"in D&&(E.customHandler=_x(b,E,D.authorizer))),E}function BC(D,b){let E=cm(D,b);return"customHandler"in E&&E.customHandler!=null?E.customHandler:bx(E)}class Ni extends rr{constructor(b){super(function(E,G){rn.debug(`No callbacks on watchlist events for ${E}`)}),this.pusher=b,this.bindWatchlistInternalEvent()}handleEvent(b){b.data.events.forEach(E=>{this.emit(E.name,E)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",b=>{var E=b.event;E==="pusher_internal:watchlist_events"&&this.handleEvent(b)})}}function Lc(){let D,b;return{promise:new Promise((G,J)=>{D=G,b=J}),resolve:D,reject:b}}var VC=Lc;class oM extends rr{constructor(b){super(function(E,G){rn.debug("No callbacks on user for "+E)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(E,G)=>{if(E){rn.warn(`Error during signin: ${E}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:G.auth,user_data:G.user_data})},this.pusher=b,this.pusher.connection.bind("state_change",({previous:E,current:G})=>{E!=="connected"&&G==="connected"&&this._signin(),E==="connected"&&G!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Ni(b),this.pusher.connection.bind("message",E=>{var G=E.event;G==="pusher:signin_success"&&this._onSigninSuccess(E.data),this.serverToUserChannel&&this.serverToUserChannel.name===E.channel&&this.serverToUserChannel.handleEvent(E)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(b){try{this.user_data=JSON.parse(b.user_data)}catch{rn.error(`Failed parsing user data after signin: ${b.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){rn.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){let b=E=>{E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.pusher.connection.state==="connected"&&E.subscribe()};this.serverToUserChannel=new ge(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((E,G)=>{E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0||this.emit(E,G)}),b(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;let{promise:b,resolve:E,reject:G}=VC();b.done=!1;let J=()=>{b.done=!0};b.then(J).catch(J),this.signinDonePromise=b,this._signinDoneResolve=E}}class Fr{static ready(){Fr.isReady=!0;for(var b=0,E=Fr.instances.length;b<E;b++)Fr.instances[b].connect()}static getClientFeatures(){return St(Ye({ws:an.Transports.ws},function(b){return b.isSupported({})}))}constructor(b,E){sM(b),Cx(E),this.key=b,this.config=xx(E,this),this.channels=Lo.createChannels(),this.global_emitter=new rr,this.sessionID=an.randomInt(1e9),this.timeline=new tM(this.key,this.sessionID,{cluster:this.config.cluster,features:Fr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:lm.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=Lo.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+an.TimelineTransport.name}));var G=J=>an.getDefaultStrategy(this.config,J,LC);this.connection=Lo.createConnectionManager(this.key,{getStrategy:G,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",J=>{var Fe=J.event,Je=Fe.indexOf("pusher_internal:")===0;if(J.channel){var wt=this.channel(J.channel);wt&&wt.handleEvent(J)}Je||this.global_emitter.emit(J.event,J.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",J=>{rn.warn(J)}),Fr.instances.push(this),this.timeline.info({instances:Fr.instances.length}),this.user=new oM(this),Fr.isReady&&this.connect()}channel(b){return this.channels.find(b)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var b=this.connection.isUsingTLS(),E=this.timelineSender;this.timelineSenderTimer=new Q(6e4,function(){E.send(b)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(b,E,G){return this.global_emitter.bind(b,E,G),this}unbind(b,E,G){return this.global_emitter.unbind(b,E,G),this}bind_global(b){return this.global_emitter.bind_global(b),this}unbind_global(b){return this.global_emitter.unbind_global(b),this}unbind_all(b){return this.global_emitter.unbind_all(),this}subscribeAll(){var b;for(b in this.channels.channels)this.channels.channels.hasOwnProperty(b)&&this.subscribe(b)}subscribe(b){var E=this.channels.add(b,this);return E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.connection.state==="connected"&&E.subscribe(),E}unsubscribe(b){var E=this.channels.find(b);E&&E.subscriptionPending?E.cancelSubscription():(E=this.channels.remove(b),E&&E.subscribed&&E.unsubscribe())}send_event(b,E,G){return this.connection.send_event(b,E,G)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Fr.instances=[],Fr.isReady=!1,Fr.logToConsole=!1,Fr.Runtime=an,Fr.ScriptReceivers=an.ScriptReceivers,Fr.DependenciesReceivers=an.DependenciesReceivers,Fr.auth_callbacks=an.auth_callbacks;var HC=t.default=Fr;function sM(D){if(D==null)throw"You must pass your app key when you instantiate Pusher."}an.setup(Fr)}])})});var vee=rF((Q6,J6)=>{"use strict";(function(e,t){typeof Q6=="object"&&typeof J6<"u"?J6.exports=t((cf(),Dh(K$)),(wv(),Dh(HK)),(Db(),Dh(BK)),(yT(),Dh(yY)),(wT(),Dh(qX)),(SR(),Dh(Fq)),(vT(),Dh(TX)),(br(),Dh(z$))):typeof define=="function"&&define.amd?define(["ol/control/Control","ol/style/Style","ol/style/Icon","ol/layer/Vector","ol/source/Vector","ol/geom/Point","ol/Feature","ol/proj"],t):(e=typeof globalThis<"u"?globalThis:e||self).Geocoder=t(e.ol.control.Control,e.ol.style.Style,e.ol.style.Icon,e.ol.layer.Vector,e.ol.source.Vector,e.ol.geom.Point,e.ol.Feature,e.ol.proj)})(Q6,function(e,t,n,i,r,o,s,a){"use strict";function l(Te){return Te&&typeof Te=="object"&&"default"in Te?Te:{default:Te}}function c(Te){if(Te&&Te.__esModule)return Te;var re=Object.create(null);return Te&&Object.keys(Te).forEach(function(ce){if(ce!=="default"){var rt=Object.getOwnPropertyDescriptor(Te,ce);Object.defineProperty(re,ce,rt.get?rt:{enumerable:!0,get:function(){return Te[ce]}})}}),re.default=Te,Object.freeze(re)}var d=l(e),h=l(t),f=l(n),g=l(i),m=l(r),v=l(o),C=l(s),y=c(a),x="gcd-container",_="gcd-button-control",R="gcd-input-query",I="gcd-input-label",F="gcd-input-search",T={namespace:"ol-geocoder",spin:"gcd-pseudo-rotate",hidden:"gcd-hidden",address:"gcd-address",country:"gcd-country",city:"gcd-city",road:"gcd-road",olControl:"ol-control",glass:{container:"gcd-gl-container",control:"gcd-gl-control",button:"gcd-gl-btn",input:"gcd-gl-input",expanded:"gcd-gl-expanded",search:"gcd-gl-search",result:"gcd-gl-result"},inputText:{container:"gcd-txt-container",control:"gcd-txt-control",label:"gcd-txt-label",input:"gcd-txt-input",search:"gcd-txt-search",icon:"gcd-txt-glass",result:"gcd-txt-result"}},P={containerId:x,buttonControlId:_,inputQueryId:R,inputLabelId:I,inputSearchId:F,cssClasses:T};let L=Object.freeze({__proto__:null,containerId:x,buttonControlId:_,inputQueryId:R,inputLabelId:I,inputSearchId:F,cssClasses:T,default:P}),U="addresschosen",W="nominatim",X="reverse",oe="glass-button",Ie="text-input",ae="bing",Le="mapquest",Se="opencage",Ge="osm",be="photon",Ae="https://dev.virtualearth.net/REST/v1/Locations",he="https://nominatim.openstreetmap.org/search",N="https://api.opencagedata.com/geocode/v1/json?",ne="https://nominatim.openstreetmap.org/search",Q="https://photon.komoot.io/api/",Z={provider:Ge,label:"",placeholder:"Search for an address",featureStyle:null,targetType:oe,lang:"en-US",limit:5,keepOpen:!1,preventDefault:!1,preventPanning:!1,preventMarker:!1,defaultFlyResolution:10,debug:!1};function le(Te,re="Assertion failed"){if(!Te)throw typeof Error<"u"?new Error(re):re}function ke(Te){let re=function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){let ce=Date.now();performance.timing&&performance.timing.navigationStart&&(ce=performance.timing.navigationStart),window.performance.now=()=>Date.now()-ce}return window.performance.now()}().toString(36);return Te?Te+re:re}function ze(Te){return/^\d+$/u.test(Te)}function Be(Te,re,ce){if(Array.isArray(Te))return void Te.forEach(cn=>Be(cn,re));let rt=Array.isArray(re)?re:re.split(/\s+/u),Ot=rt.length;for(;Ot--;)St(Te,rt[Ot])||Dt(Te,rt[Ot],ce)}function ve(Te,re,ce){if(Array.isArray(Te))return void Te.forEach(cn=>ve(cn,re,ce));let rt=Array.isArray(re)?re:re.split(/\s+/u),Ot=rt.length;for(;Ot--;)St(Te,rt[Ot])&&Ye(Te,rt[Ot],ce)}function St(Te,re){return Te.classList?Te.classList.contains(re):Et(re).test(Te.className)}function Y(Te){for(;Te.firstChild;)Te.firstChild.remove()}function $t(Te,re){return Te.replace(/\{\s*([\w-]+)\s*\}/gu,(ce,rt)=>{let Ot=re[rt]===void 0?"":re[rt];return String(Ot).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")})}function At(Te,re){let ce;if(Array.isArray(Te)){if(ce=document.createElement(Te[0]),Te[1].id&&(ce.id=Te[1].id),Te[1].classname&&(ce.className=Te[1].classname),Te[1].attr){let{attr:Ot}=Te[1];if(Array.isArray(Ot)){let cn=-1;for(;++cn<Ot.length;)ce.setAttribute(Ot[cn].name,Ot[cn].value)}else ce.setAttribute(Ot.name,Ot.value)}}else ce=document.createElement(Te);ce.innerHTML=re;let rt=document.createDocumentFragment();for(;ce.childNodes[0];)rt.append(ce.childNodes[0]);return ce.append(rt),ce}function Et(Te){return new RegExp(`(^|\\s+) ${Te} (\\s+|$)`,"u")}function Dt(Te,re,ce){Te.classList?Te.classList.add(re):Te.className=`${Te.className} ${re}`.trim(),ce&&ze(ce)&&window.setTimeout(()=>Ye(Te,re),ce)}function Ye(Te,re,ce){Te.classList?Te.classList.remove(re):Te.className=Te.className.replace(Et(re)," ").trim(),ce&&ze(ce)&&window.setTimeout(()=>Dt(Te,re),ce)}let vt=L.cssClasses;class xn{constructor(re){this.options=re,this.els=this.createControl()}createControl(){let re,ce,rt;return this.options.targetType===Ie?(ce=`${vt.namespace} ${vt.inputText.container}`,re=At(["div",{id:L.containerId,classname:ce}],xn.input),rt={container:re,control:re.querySelector(`.${vt.inputText.control}`),label:re.querySelector(`.${vt.inputText.label}`),input:re.querySelector(`.${vt.inputText.input}`),search:re.querySelector(`.${vt.inputText.search}`),result:re.querySelector(`.${vt.inputText.result}`)},rt.label.innerHTML=this.options.label):(ce=`${vt.namespace} ${vt.glass.container}`,re=At(["div",{id:L.containerId,classname:ce}],xn.glass),rt={container:re,control:re.querySelector(`.${vt.glass.control}`),button:re.querySelector(`.${vt.glass.button}`),input:re.querySelector(`.${vt.glass.input}`),search:re.querySelector(`.${vt.glass.search}`),result:re.querySelector(`.${vt.glass.result}`)}),rt.input.placeholder=this.options.placeholder,rt}}function yi(Te){return new Promise((re,ce)=>{let rt=function(cn,mr){return mr&&typeof mr=="object"&&(cn+=(/\?/u.test(cn)?"&":"?")+Pi(mr)),cn}(Te.url,Te.data),Ot={method:"GET",mode:"cors",credentials:"same-origin"};Te.jsonp?function(cn,mr,Pa){let{head:es}=document,Li=document.createElement("script"),ir=`f${Math.round(Math.random()*Date.now())}`;Li.setAttribute("src",`${cn+(cn.indexOf("?")>0?"&":"?")+mr}=${ir}`),window[ir]=rr=>{window[ir]=void 0,setTimeout(()=>es.removeChild(Li),0),Pa(rr)},es.append(Li)}(rt,Te.callbackName,re):fetch(rt,Ot).then(cn=>cn.json()).then(re).catch(ce)})}function Pi(Te){return Object.keys(Te).reduce((re,ce)=>(re.push(typeof Te[ce]=="object"?Pi(Te[ce]):`${encodeURIComponent(ce)}=${encodeURIComponent(Te[ce])}`),re),[]).join("&")}xn.glass=`
  <div class="${vt.glass.control} ${vt.olControl}">
    <button type="button" id="${L.buttonControlId}" class="${vt.glass.button}"></button>
    <input type="text" id="${L.inputQueryId}" class="${vt.glass.input}" autocomplete="off" placeholder="Search ...">
    <a id="${L.inputSearchId}" class="${vt.glass.search} ${vt.hidden}"></a>
  </div>
  <ul class="${vt.glass.result}"></ul>
`,xn.input=`
  <div class="${vt.inputText.control}">
    <label type="button" id="${L.inputSearchId}" class="${vt.inputText.label}"></label>
    <input type="text" id="${L.inputQueryId}" class="${vt.inputText.input}" autocomplete="off" placeholder="Search ...">
    <span class="${vt.inputText.icon}"></span>
    <button type="button" id="${L.inputSearchId}" class="${vt.inputText.search} ${vt.hidden}"></button>
  </div>
  <ul class="${vt.inputText.result}"></ul>
`;class po{constructor(){this.settings={url:Q,params:{q:"",limit:10,lang:"en"},langs:["de","it","fr","en"]}}getParameters(re){return re.lang=re.lang.toLowerCase(),{url:this.settings.url,params:{q:re.query,limit:re.limit||this.settings.params.limit,lang:this.settings.langs.includes(re.lang)?re.lang:this.settings.params.lang}}}handleResponse(re){return re.features.length===0?[]:re.features.map(ce=>({lon:ce.geometry.coordinates[0],lat:ce.geometry.coordinates[1],address:{name:ce.properties.name,postcode:ce.properties.postcode,city:ce.properties.city,state:ce.properties.state,country:ce.properties.country},original:{formatted:ce.properties.name,details:ce.properties}}))}}class An{constructor(re){this.settings=De(V({url:ne},re),{params:{q:"",format:"json",addressdetails:1,limit:10,countrycodes:"",viewbox:"","accept-language":"en-US"}})}getParameters(re){return{url:this.settings.url,params:{q:re.query,format:this.settings.params.format,addressdetails:this.settings.params.addressdetails,limit:re.limit||this.settings.params.limit,countrycodes:re.countrycodes||this.settings.params.countrycodes,viewbox:re.viewbox||this.settings.params.viewbox,"accept-language":re.lang||this.settings.params["accept-language"]}}}handleResponse(re){return re.length===0?[]:re.map(ce=>({lon:ce.lon,lat:ce.lat,bbox:ce.boundingbox,address:{name:ce.display_name,road:ce.address.road||"",houseNumber:ce.address.house_number||"",postcode:ce.address.postcode,city:ce.address.city||ce.address.town,state:ce.address.state,country:ce.address.country},original:{formatted:ce.display_name,details:ce.address}}))}}class Oi{constructor(){this.settings={url:he,params:{q:"",key:"",format:"json",addressdetails:1,limit:10,countrycodes:"","accept-language":"en-US"}}}getParameters(re){return{url:this.settings.url,params:{q:re.query,key:re.key,format:"json",addressdetails:1,limit:re.limit||this.settings.params.limit,countrycodes:re.countrycodes||this.settings.params.countrycodes,"accept-language":re.lang||this.settings.params["accept-language"]}}}handleResponse(re){return re.length===0?[]:re.map(ce=>({lon:ce.lon,lat:ce.lat,address:{name:ce.address.neighbourhood||"",road:ce.address.road||"",postcode:ce.address.postcode,city:ce.address.city||ce.address.town,state:ce.address.state,country:ce.address.country},original:{formatted:ce.display_name,details:ce.address}}))}}class nr{constructor(){this.settings={url:Ae,callbackName:"jsonp",params:{query:"",key:"",includeNeighborhood:0,maxResults:10}}}getParameters(re){return{url:this.settings.url,callbackName:this.settings.callbackName,params:{query:re.query,key:re.key,includeNeighborhood:re.includeNeighborhood||this.settings.params.includeNeighborhood,maxResults:re.maxResults||this.settings.params.maxResults}}}handleResponse(re){let{resources:ce}=re.resourceSets[0];return ce.length===0?[]:ce.map(rt=>({lon:rt.point.coordinates[1],lat:rt.point.coordinates[0],address:{name:rt.name},original:{formatted:rt.address.formattedAddress,details:rt.address}}))}}class rn{constructor(){this.settings={url:N,params:{q:"",key:"",limit:10,countrycode:"",pretty:1,no_annotations:1}}}getParameters(re){return{url:this.settings.url,params:{q:re.query,key:re.key,limit:re.limit||this.settings.params.limit,countrycode:re.countrycodes||this.settings.params.countrycodes}}}handleResponse(re){return re.results.length===0?[]:re.results.map(ce=>({lon:ce.geometry.lng,lat:ce.geometry.lat,address:{name:ce.components.house_number||"",road:ce.components.road||"",postcode:ce.components.postcode,city:ce.components.city||ce.components.town,state:ce.components.state,country:ce.components.country},original:{formatted:ce.formatted,details:ce.components}}))}}let Xn=L.cssClasses;class Gi{constructor(re,ce){this.Base=re,this.layerName=ke("geocoder-layer-"),this.layer=new g.default({background:"transparent",name:this.layerName,source:new m.default,displayInLayerSwitcher:!1}),this.options=re.options,this.options.provider=typeof this.options.provider=="string"?this.options.provider.toLowerCase():this.options.provider,this.provider=this.newProvider(),this.els=ce,this.container=this.els.container,this.registeredListeners={mapClick:!1},this.setListeners()}setListeners(){let re=ce=>{ce.stopPropagation(),St(this.els.control,Xn.glass.expanded)?this.collapse():this.expand()};this.els.input.addEventListener("keypress",ce=>{let rt=ce.target.value.trim();(ce.key?ce.key==="Enter":ce.which?ce.which===13:ce.keyCode&&ce.keyCode===13)&&(ce.preventDefault(),this.query(rt))},!1),this.els.input.addEventListener("click",ce=>ce.stopPropagation(),!1),this.els.input.addEventListener("input",ce=>{ce.target.value.trim().length!==0?ve(this.els.search,Xn.hidden):Be(this.els.search,Xn.hidden)},!1),this.els.search.addEventListener("click",()=>{this.els.input.focus(),this.query(this.els.input.value)},!1),this.options.targetType===oe&&this.els.button.addEventListener("click",re,!1)}query(re){this.provider||(this.provider=this.newProvider());let ce=this.provider.getParameters({query:re,key:this.options.key,lang:this.options.lang,countrycodes:this.options.countrycodes,viewbox:this.options.viewbox,limit:this.options.limit});this.clearResults(this.options.keepOpen===!1),Be(this.els.search,Xn.spin);let rt={url:ce.url,data:ce.params};ce.callbackName&&(rt.jsonp=!0,rt.callbackName=ce.callbackName),yi(rt).then(Ot=>{this.options.debug&&console.info(Ot),ve(this.els.search,Xn.spin);let cn=this.provider.handleResponse(Ot);cn&&(this.createList(cn),this.listenMapClick())}).catch(()=>{ve(this.els.search,Xn.spin);let Ot=At("li","<h5>Error! No internet connection?</h5>");this.els.result.append(Ot)})}createList(re){let ce=this.els.result;re.forEach(rt=>{let Ot;if(this.options.provider===Ge?Ot=`<span class="${Xn.road}">${rt.address.name}</span>`:Ot=this.addressTemplate(rt.address),re.length==1)this.chosen(rt,Ot,rt.address,rt.original);else{let cn=At("li",`<a href="#">${Ot}</a>`);cn.addEventListener("click",mr=>{mr.preventDefault(),this.chosen(rt,Ot,rt.address,rt.original)},!1),ce.append(cn)}})}chosen(re,ce,rt,Ot){let cn=this.Base.getMap(),mr=[Number.parseFloat(re.lon),Number.parseFloat(re.lat)],Pa=cn.getView().getProjection(),es=y.transform(mr,"EPSG:4326",Pa),{bbox:Li}=re;Li&&(Li=y.transformExtent([parseFloat(Li[2]),parseFloat(Li[0]),parseFloat(Li[3]),parseFloat(Li[1])],"EPSG:4326",Pa));let ir={formatted:ce,details:rt,original:Ot};if(this.clearResults(!0),this.options.preventDefault===!0||this.options.preventMarker===!0)this.Base.dispatchEvent({type:U,address:ir,coordinate:es,bbox:Li,place:re});else{let rr=this.createFeature(es,ir);this.Base.dispatchEvent({type:U,address:ir,feature:rr,coordinate:es,bbox:Li,place:re})}this.options.preventDefault!==!0&&this.options.preventPanning!==!0&&(Li?cn.getView().fit(Li,{duration:500}):cn.getView().animate({center:es,resolution:this.options.defaultFlyResolution,duration:500}))}createFeature(re){let ce=new C.default(new v.default(re));return this.addLayer(),ce.setStyle(this.options.featureStyle),ce.setId(ke("geocoder-ft-")),this.getSource().addFeature(ce),ce}addressTemplate(re){let ce=[];return re.name&&ce.push(['<span class="',Xn.road,'">{name}</span>'].join("")),(re.road||re.building||re.house_number)&&ce.push(['<span class="',Xn.road,'">{building} {road} {house_number}</span>'].join("")),(re.city||re.town||re.village)&&ce.push(['<span class="',Xn.city,'">{postcode} {city} {town} {village}</span>'].join("")),(re.state||re.country)&&ce.push(['<span class="',Xn.country,'">{state} {country}</span>'].join("")),$t(ce.join("<br>"),re)}newProvider(){switch(this.options.provider){case Ge:return new An(this.options);case Le:return new Oi;case be:return new po;case ae:return new nr;case Se:return new rn;default:return this.options.provider}}expand(){ve(this.els.input,Xn.spin),Be(this.els.control,Xn.glass.expanded),window.setTimeout(()=>this.els.input.focus(),100),this.listenMapClick()}collapse(){this.els.input.value="",this.els.input.blur(),Be(this.els.search,Xn.hidden),ve(this.els.control,Xn.glass.expanded),Y(this.els.result)}listenMapClick(){if(this.registeredListeners.mapClick)return;let re=this,ce=this.Base.getMap().getTargetElement();this.registeredListeners.mapClick=!0,ce.addEventListener("click",{handleEvent(rt){ce.removeEventListener(rt.type,this,!1),re.registeredListeners.mapClick=!1}},!1)}clearResults(re){re&&this.options.targetType===oe?this.collapse():Y(this.els.result)}getSource(){return this.layer.getSource()}addLayer(){let re=!1,ce=this.Base.getMap();ce.getLayers().forEach(rt=>{rt===this.layer&&(re=!0)}),re||ce.addLayer(this.layer)}}class Xi extends d.default{constructor(re=W,ce){le(typeof re=="string","@param `type` should be string!"),le(re===W||re===X,`@param 'type' should be '${W}'
      or '${X}'!`);let rt=V(De(V({},Z),{featureStyle:[new h.default({image:new f.default({anchor:[.5,1],src:'data:image/svg+xml;charset=utf-8,<svg width="26" height="42" viewBox="0 0 26 42" xmlns="http://www.w3.org/2000/svg"><polygon points="1,18 14,42 25,18" fill="rgb(75,75,75)" /><ellipse cx="13" cy="13" rx="13" ry="13" fill="rgb(75,75,75)" /><ellipse cx="13" cy="14" rx="6" ry="6" fill="yellow" /></svg>'})})]}),ce),Ot,cn,mr=new xn(rt);if(re===W&&(Ot=mr.els.container),super(V({element:Ot},rt)),!(this instanceof Xi))return new Xi;this.options=rt,this.container=Ot,re===W&&(cn=new Gi(this,mr.els),this.layer=cn.layer)}getLayer(){return this.layer}getSource(){return this.getLayer().getSource()}setProvider(re){this.options.provider=re}setProviderKey(re){this.options.key=re}}return Xi})});function lF(e,t){return Object.is(e,t)}var oo=null,f1=!1,cF=1,sa=Symbol("SIGNAL");function Fn(e){let t=oo;return oo=e,t}function dF(){return oo}var bm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function aw(e){if(f1)throw new Error("");if(oo===null)return;oo.consumerOnSignalRead(e);let t=oo.nextProducerIndex++;if(C1(oo),t<oo.producerNode.length&&oo.producerNode[t]!==e&&sw(oo)){let n=oo.producerNode[t];v1(n,oo.producerIndexOfThis[t])}oo.producerNode[t]!==e&&(oo.producerNode[t]=e,oo.producerIndexOfThis[t]=sw(oo)?ZV(e,oo,t):0),oo.producerLastReadVersion[t]=e.version}function YV(){cF++}function uF(e){if(!(sw(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===cF)){if(!e.producerMustRecompute(e)&&!m1(e)){aF(e);return}e.producerRecomputeValue(e),aF(e)}}function hF(e){if(e.liveConsumerNode===void 0)return;let t=f1;f1=!0;try{for(let n of e.liveConsumerNode)n.dirty||Zde(n)}finally{f1=t}}function fF(){return oo?.consumerAllowSignalWrites!==!1}function Zde(e){e.dirty=!0,hF(e),e.consumerMarkedDirty?.(e)}function aF(e){e.dirty=!1,e.lastCleanEpoch=cF}function lw(e){return e&&(e.nextProducerIndex=0),Fn(e)}function g1(e,t){if(Fn(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(sw(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)v1(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function m1(e){C1(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(uF(n),i!==n.version))return!0}return!1}function cw(e){if(C1(e),sw(e))for(let t=0;t<e.producerNode.length;t++)v1(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ZV(e,t,n){if(QV(e),e.liveConsumerNode.length===0&&JV(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=ZV(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function v1(e,t){if(QV(e),e.liveConsumerNode.length===1&&JV(e))for(let i=0;i<e.producerNode.length;i++)v1(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];C1(r),r.producerIndexOfThis[i]=t}}function sw(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function C1(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function QV(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function JV(e){return e.producerNode!==void 0}function w1(e,t){let n=Object.create(Qde);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(uF(n),aw(n),n.value===p1)throw n.error;return n.value};return i[sa]=n,i}var oF=Symbol("UNSET"),sF=Symbol("COMPUTING"),p1=Symbol("ERRORED"),Qde=De(V({},bm),{value:oF,dirty:!0,error:null,equal:lF,kind:"computed",producerMustRecompute(e){return e.value===oF||e.value===sF},producerRecomputeValue(e){if(e.value===sF)throw new Error("Detected cycle in computations.");let t=e.value;e.value=sF;let n=lw(e),i,r=!1;try{i=e.computation(),Fn(null),r=t!==oF&&t!==p1&&i!==p1&&e.equal(t,i)}catch(o){i=p1,e.error=o}finally{g1(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function Jde(){throw new Error}var eH=Jde;function tH(e){eH(e)}function pF(e){eH=e}var eue=null;function gF(e,t){let n=Object.create(y1);n.value=e,t!==void 0&&(n.equal=t);let i=()=>(aw(n),n.value);return i[sa]=n,i}function dw(e,t){fF()||tH(e),e.equal(e.value,t)||(e.value=t,tue(e))}function mF(e,t){fF()||tH(e),dw(e,t(e.value))}var y1=De(V({},bm),{equal:lF,value:void 0,kind:"signal"});function tue(e){e.version++,YV(),hF(e),eue?.()}function vF(e){let t=Fn(null);try{return e()}finally{Fn(t)}}var CF;function uw(){return CF}function ou(e){let t=CF;return CF=e,t}var b1=Symbol("NotFound");function Ht(e){return typeof e=="function"}function _m(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _1=_m(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gp(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Nn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Ht(i))try{i()}catch(o){t=o instanceof _1?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{nH(o)}catch(s){t=t??[],s instanceof _1?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _1(t)}}add(t){var n;if(t&&t!==this)if(this.closed)nH(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&gp(n,t)}remove(t){let{_finalizers:n}=this;n&&gp(n,t),t instanceof e&&t._removeParent(this)}};Nn.EMPTY=(()=>{let e=new Nn;return e.closed=!0,e})();var wF=Nn.EMPTY;function x1(e){return e instanceof Nn||e&&"closed"in e&&Ht(e.remove)&&Ht(e.add)&&Ht(e.unsubscribe)}function nH(e){Ht(e)?e():e.unsubscribe()}var nc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xm={setTimeout(e,t,...n){let{delegate:i}=xm;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=xm;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function S1(e){xm.setTimeout(()=>{let{onUnhandledError:t}=nc;if(t)t(e);else throw e})}function hw(){}var iH=yF("C",void 0,void 0);function rH(e){return yF("E",void 0,e)}function oH(e){return yF("N",e,void 0)}function yF(e,t,n){return{kind:e,value:t,error:n}}var mp=null;function Sm(e){if(nc.useDeprecatedSynchronousErrorHandling){let t=!mp;if(t&&(mp={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=mp;if(mp=null,n)throw i}}else e()}function sH(e){nc.useDeprecatedSynchronousErrorHandling&&mp&&(mp.errorThrown=!0,mp.error=e)}var vp=class extends Nn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,x1(t)&&t.add(this)):this.destination=aue}static create(t,n,i){return new su(t,n,i)}next(t){this.isStopped?_F(oH(t),this):this._next(t)}error(t){this.isStopped?_F(rH(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_F(iH,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oue=Function.prototype.bind;function bF(e,t){return oue.call(e,t)}var xF=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){E1(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){E1(i)}else E1(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){E1(n)}}},su=class extends vp{constructor(t,n,i){super();let r;if(Ht(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&nc.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&bF(t.next,o),error:t.error&&bF(t.error,o),complete:t.complete&&bF(t.complete,o)}):r=t}this.destination=new xF(r)}};function E1(e){nc.useDeprecatedSynchronousErrorHandling?sH(e):S1(e)}function sue(e){throw e}function _F(e,t){let{onStoppedNotification:n}=nc;n&&xm.setTimeout(()=>n(e,t))}var aue={closed:!0,next:hw,error:sue,complete:hw};var Em=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ls(e){return e}function SF(...e){return EF(e)}function EF(e){return e.length===0?Ls:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var Nt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=cue(n)?n:new su(n,i,r);return Sm(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=aH(i),new i((r,o)=>{let s=new su({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Em](){return this}pipe(...n){return EF(n)(this)}toPromise(n){return n=aH(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function aH(e){var t;return(t=e??nc.Promise)!==null&&t!==void 0?t:Promise}function lue(e){return e&&Ht(e.next)&&Ht(e.error)&&Ht(e.complete)}function cue(e){return e&&e instanceof vp||lue(e)&&x1(e)}function DF(e){return Ht(e?.lift)}function on(e){return t=>{if(DF(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qt(e,t,n,i,r){return new RF(e,t,n,i,r)}var RF=class extends vp{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Dm(){return on((e,t)=>{let n=null;e._refCount++;let i=Qt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Rm=class extends Nt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,DF(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Nn;let n=this.getSubject();t.add(this.source.subscribe(Qt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Nn.EMPTY)}return t}refCount(){return Dm()(this)}};var lH=_m(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class e extends Nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new D1(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new lH}next(n){Sm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Sm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Sm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?wF:(this.currentObservers=null,o.push(n),new Nn(()=>{this.currentObservers=null,gp(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Nt;return n.source=this,n}}return e.create=(t,n)=>new D1(t,n),e})(),D1=class extends ut{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:wF}};var Yn=class extends ut{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var fw={now(){return(fw.delegate||Date).now()},delegate:void 0};var pw=class extends ut{constructor(t=1/0,n=1/0,i=fw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var R1=class extends Nn{constructor(t,n){super()}schedule(t,n=0){return this}};var gw={setInterval(e,t,...n){let{delegate:i}=gw;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=gw;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var T1=class extends R1{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return gw.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&gw.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,gp(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Tm=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Tm.now=fw.now;var I1=class extends Tm{constructor(t,n=Tm.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var mw=new I1(T1),cH=mw;var mo=new Nt(e=>e.complete());function M1(e){return e&&Ht(e.schedule)}function TF(e){return e[e.length-1]}function F1(e){return Ht(TF(e))?e.pop():void 0}function zc(e){return M1(TF(e))?e.pop():void 0}function dH(e,t){return typeof TF(e)=="number"?e.pop():t}function hH(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function uH(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cp(e){return this instanceof Cp?(this.v=e,this):new Cp(e)}function fH(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(m){return Promise.resolve(m).then(g,h)}}function a(g,m){i[g]&&(r[g]=function(v){return new Promise(function(C,y){o.push([g,v,C,y])>1||l(g,v)})},m&&(r[g]=m(r[g])))}function l(g,m){try{c(i[g](m))}catch(v){f(o[0][3],v)}}function c(g){g.value instanceof Cp?Promise.resolve(g.value.v).then(d,h):f(o[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function f(g,m){g(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function pH(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof uH=="function"?uH(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Im=e=>e&&typeof e.length=="number"&&typeof e!="function";function A1(e){return Ht(e?.then)}function k1(e){return Ht(e[Em])}function P1(e){return Symbol.asyncIterator&&Ht(e?.[Symbol.asyncIterator])}function O1(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function due(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var L1=due();function N1(e){return Ht(e?.[L1])}function B1(e){return fH(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Cp(n.read());if(r)return yield Cp(void 0);yield yield Cp(i)}}finally{n.releaseLock()}})}function V1(e){return Ht(e?.getReader)}function gi(e){if(e instanceof Nt)return e;if(e!=null){if(k1(e))return uue(e);if(Im(e))return hue(e);if(A1(e))return fue(e);if(P1(e))return gH(e);if(N1(e))return pue(e);if(V1(e))return gue(e)}throw O1(e)}function uue(e){return new Nt(t=>{let n=e[Em]();if(Ht(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hue(e){return new Nt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function fue(e){return new Nt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,S1)})}function pue(e){return new Nt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function gH(e){return new Nt(t=>{mue(e,t).catch(n=>t.error(n))})}function gue(e){return gH(B1(e))}function mue(e,t){var n,i,r,o;return hH(this,void 0,void 0,function*(){try{for(n=pH(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function aa(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function H1(e,t=0){return on((n,i)=>{n.subscribe(Qt(i,r=>aa(i,e,()=>i.next(r),t),()=>aa(i,e,()=>i.complete(),t),r=>aa(i,e,()=>i.error(r),t)))})}function G1(e,t=0){return on((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function mH(e,t){return gi(e).pipe(G1(t),H1(t))}function vH(e,t){return gi(e).pipe(G1(t),H1(t))}function CH(e,t){return new Nt(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function wH(e,t){return new Nt(n=>{let i;return aa(n,t,()=>{i=e[L1](),aa(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>Ht(i?.return)&&i.return()})}function z1(e,t){if(!e)throw new Error("Iterable cannot be null");return new Nt(n=>{aa(n,t,()=>{let i=e[Symbol.asyncIterator]();aa(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function yH(e,t){return z1(B1(e),t)}function bH(e,t){if(e!=null){if(k1(e))return mH(e,t);if(Im(e))return CH(e,t);if(A1(e))return vH(e,t);if(P1(e))return z1(e,t);if(N1(e))return wH(e,t);if(V1(e))return yH(e,t)}throw O1(e)}function Bi(e,t){return t?bH(e,t):gi(e)}function bt(...e){let t=zc(e);return Bi(e,t)}function Rh(e,t){let n=Ht(e)?e:()=>e,i=r=>r.error(n());return new Nt(t?r=>t.schedule(i,0,r):i)}function U1(e){return!!e&&(e instanceof Nt||Ht(e.lift)&&Ht(e.subscribe))}var au=_m(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _H(e){return e instanceof Date&&!isNaN(e)}function Tt(e,t){return on((n,i)=>{let r=0;n.subscribe(Qt(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:vue}=Array;function Cue(e,t){return vue(t)?e(...t):e(t)}function Mm(e){return Tt(t=>Cue(e,t))}var{isArray:wue}=Array,{getPrototypeOf:yue,prototype:bue,keys:_ue}=Object;function W1(e){if(e.length===1){let t=e[0];if(wue(t))return{args:t,keys:null};if(xue(t)){let n=_ue(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function xue(e){return e&&typeof e=="object"&&yue(e)===bue}function j1(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Fm(...e){let t=zc(e),n=F1(e),{args:i,keys:r}=W1(e);if(i.length===0)return Bi([],t);let o=new Nt(Sue(i,t,r?s=>j1(r,s):Ls));return n?o.pipe(Mm(n)):o}function Sue(e,t,n=Ls){return i=>{xH(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)xH(t,()=>{let c=Bi(e[l],t),d=!1;c.subscribe(Qt(i,h=>{o[l]=h,d||(d=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function xH(e,t,n){e?aa(n,e,t):t()}function SH(e,t,n,i,r,o,s,a){let l=[],c=0,d=0,h=!1,f=()=>{h&&!l.length&&!c&&t.complete()},g=v=>c<i?m(v):l.push(v),m=v=>{o&&t.next(v),c++;let C=!1;gi(n(v,d++)).subscribe(Qt(t,y=>{r?.(y),o?g(y):t.next(y)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){let y=l.shift();s?aa(t,s,()=>m(y)):m(y)}f()}catch(y){t.error(y)}}))};return e.subscribe(Qt(t,g,()=>{h=!0,f()})),()=>{a?.()}}function Or(e,t,n=1/0){return Ht(t)?Or((i,r)=>Tt((o,s)=>t(i,o,r,s))(gi(e(i,r))),n):(typeof t=="number"&&(n=t),on((i,r)=>SH(i,r,e,n)))}function $1(e=1/0){return Or(Ls,e)}function EH(){return $1(1)}function Th(...e){return EH()(Bi(e,zc(e)))}function Am(e){return new Nt(t=>{gi(e()).subscribe(t)})}function vw(...e){let t=F1(e),{args:n,keys:i}=W1(e),r=new Nt(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let h=!1;gi(n[d]).subscribe(Qt(o,f=>{h||(h=!0,c--),a[d]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?j1(i,a):a),o.complete())}))}});return t?r.pipe(Mm(t)):r}var Eue=["addListener","removeListener"],Due=["addEventListener","removeEventListener"],Rue=["on","off"];function wp(e,t,n,i){if(Ht(n)&&(i=n,n=void 0),i)return wp(e,t,n).pipe(Mm(i));let[r,o]=Mue(e)?Due.map(s=>a=>e[s](t,a,n)):Tue(e)?Eue.map(DH(e,t)):Iue(e)?Rue.map(DH(e,t)):[];if(!r&&Im(e))return Or(s=>wp(s,t,n))(gi(e));if(!r)throw new TypeError("Invalid event target");return new Nt(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function DH(e,t){return n=>i=>e[n](t,i)}function Tue(e){return Ht(e.addListener)&&Ht(e.removeListener)}function Iue(e){return Ht(e.on)&&Ht(e.off)}function Mue(e){return Ht(e.addEventListener)&&Ht(e.removeEventListener)}function RH(e=0,t,n=cH){let i=-1;return t!=null&&(M1(t)?n=t:i=t),new Nt(r=>{let o=_H(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function ic(...e){let t=zc(e),n=dH(e,1/0),i=e;return i.length?i.length===1?gi(i[0]):$1(n)(Bi(i,t)):mo}function un(e,t){return on((n,i)=>{let r=0;n.subscribe(Qt(i,o=>e.call(t,o,r++)&&i.next(o)))})}function TH(e){return on((t,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,n.next(c)}s&&n.complete()},l=()=>{o=null,s&&n.complete()};t.subscribe(Qt(n,c=>{i=!0,r=c,o||gi(e(c)).subscribe(o=Qt(n,a,l))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function q1(e,t=mw){return TH(()=>RH(e,t))}function Uc(e){return on((t,n)=>{let i=null,r=!1,o;i=t.subscribe(Qt(n,void 0,void 0,s=>{o=gi(e(s,Uc(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function IH(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(Qt(s,d=>{let h=c++;l=a?e(l,d,h):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Ih(e,t){return Ht(t)?Or(e,t,1):Or(e,1)}function Wc(e,t=mw){return on((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+e,d=t.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}n.subscribe(Qt(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Mh(e){return on((t,n)=>{let i=!1;t.subscribe(Qt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Cr(e){return e<=0?()=>mo:on((t,n)=>{let i=0;t.subscribe(Qt(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function yp(e,t=Ls){return e=e??Fue,on((n,i)=>{let r,o=!0;n.subscribe(Qt(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function Fue(e,t){return e===t}function K1(e=Aue){return on((t,n)=>{let i=!1;t.subscribe(Qt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function Aue(){return new au}function rc(e){return on((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function fl(e,t){let n=arguments.length>=2;return i=>i.pipe(e?un((r,o)=>e(r,o,i)):Ls,Cr(1),n?Mh(t):K1(()=>new au))}function km(e){return e<=0?()=>mo:on((t,n)=>{let i=[];t.subscribe(Qt(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function IF(e,t){let n=arguments.length>=2;return i=>i.pipe(e?un((r,o)=>e(r,o,i)):Ls,km(1),n?Mh(t):K1(()=>new au))}function X1(){return on((e,t)=>{let n,i=!1;e.subscribe(Qt(t,r=>{let o=n;n=r,i&&t.next([o,r]),i=!0}))})}function MF(e,t){return on(IH(e,t,arguments.length>=2,!0))}function Fh(e={}){let{connector:t=()=>new ut,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,d=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},g=()=>{f(),s=l=void 0,d=h=!1},m=()=>{let v=s;g(),v?.unsubscribe()};return on((v,C)=>{c++,!h&&!d&&f();let y=l=l??t();C.add(()=>{c--,c===0&&!h&&!d&&(a=FF(m,r))}),y.subscribe(C),!s&&c>0&&(s=new su({next:x=>y.next(x),error:x=>{h=!0,f(),a=FF(g,n,x),y.error(x)},complete:()=>{d=!0,f(),a=FF(g,i),y.complete()}}),gi(v).subscribe(s))})(o)}}function FF(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new su({next:()=>{i.unsubscribe(),e()}});return gi(t(...n)).subscribe(i)}function lu(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Fh({connector:()=>new pw(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Cw(e){return un((t,n)=>e<=n)}function Bo(...e){let t=zc(e);return on((n,i)=>{(t?Th(e,n,t):Th(e,n)).subscribe(i)})}function Vo(e,t){return on((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(Qt(i,l=>{r?.unsubscribe();let c=0,d=o++;gi(e(l,d)).subscribe(r=Qt(i,h=>i.next(t?t(l,h,d,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ri(e){return on((t,n)=>{gi(e).subscribe(Qt(n,()=>n.complete(),hw)),!n.closed&&t.subscribe(n)})}function Y1(e,t=!1){return on((n,i)=>{let r=0;n.subscribe(Qt(i,o=>{let s=e(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}function sr(e,t,n){let i=Ht(e)||t||n?{next:e,error:t,complete:n}:e;return i?on((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Qt(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Ls}var w7="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ht=class extends Error{code;constructor(t,n){super(y7(t,n)),this.code=t}};function kue(e){return`NG0${Math.abs(e)}`}function y7(e,t){return`${kue(e)}${t?": "+t:""}`}var b7=Symbol("InputSignalNode#UNSET"),Pue=De(V({},y1),{transformFn:void 0,applyValueToInputSignal(e,t){dw(e,t)}});function _7(e,t){let n=Object.create(Pue);n.value=e,n.transformFn=t?.transform;function i(){if(aw(n),n.value===b7){let r=null;throw new ht(-950,r)}return n.value}return i[sa]=n,i}function Fw(e){return{toString:e}.toString()}var Z1="__parameters__";function Oue(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function x7(e,t,n){return Fw(()=>{let i=Oue(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let h=l.hasOwnProperty(Z1)?l[Z1]:Object.defineProperty(l,Z1,{value:[]})[Z1];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),l}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Hm=globalThis;function Ti(e){for(let t in e)if(e[t]===Ti)return t;throw Error("Could not find renamed property on target object.")}function Lue(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ca(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ca).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function jF(e,t){return e?t?`${e} ${t}`:e:t||""}var Nue=Ti({__forward_ref__:Ti});function Oh(e){return e.__forward_ref__=Oh,e.toString=function(){return ca(this())},e}function Ho(e){return S7(e)?e():e}function S7(e){return typeof e=="function"&&e.hasOwnProperty(Nue)&&e.__forward_ref__===Oh}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function OS(e){return MH(e,D7)||MH(e,R7)}function E7(e){return OS(e)!==null}function MH(e,t){return e.hasOwnProperty(t)?e[t]:null}function Bue(e){let t=e&&(e[D7]||e[R7]);return t||null}function FH(e){return e&&(e.hasOwnProperty(AH)||e.hasOwnProperty(Vue))?e[AH]:null}var D7=Ti({\u0275prov:Ti}),AH=Ti({\u0275inj:Ti}),R7=Ti({ngInjectableDef:Ti}),Vue=Ti({ngInjectorDef:Ti}),xe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function T7(e){return e&&!!e.\u0275providers}var Hue=Ti({\u0275cmp:Ti}),Gue=Ti({\u0275dir:Ti}),zue=Ti({\u0275pipe:Ti}),Uue=Ti({\u0275mod:Ti}),lS=Ti({\u0275fac:Ti}),_w=Ti({__NG_ELEMENT_ID__:Ti}),kH=Ti({__NG_ENV_ID__:Ti});function Aw(e){return typeof e=="string"?e:e==null?"":String(e)}function Wue(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Aw(e)}function I7(e,t){throw new ht(-200,e)}function KA(e,t){throw new ht(-201,!1)}var Rn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Rn||{}),$F;function M7(){return $F}function la(e){let t=$F;return $F=e,t}function F7(e,t,n){let i=OS(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Rn.Optional)return null;if(t!==void 0)return t;KA(e,"Injector")}var jue={},bp=jue,qF="__NG_DI_FLAG__",cS=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=n;return this.injector.get(t,i.optional?b1:bp,i)}},dS="ngTempTokenPath",$ue="ngTokenPath",que=/\n/gm,Kue="\u0275",PH="__source";function Xue(e,t=Rn.Default){if(uw()===void 0)throw new ht(-203,!1);if(uw()===null)return F7(e,void 0,t);{let n=uw(),i;return n instanceof cS?i=n.injector:i=n,i.get(e,t&Rn.Optional?null:void 0,t)}}function lt(e,t=Rn.Default){return(M7()||Xue)(Ho(e),t)}function A(e,t=Rn.Default){return lt(e,LS(t))}function LS(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function KF(e){let t=[];for(let n=0;n<e.length;n++){let i=Ho(e[n]);if(Array.isArray(i)){if(i.length===0)throw new ht(900,!1);let r,o=Rn.Default;for(let s=0;s<i.length;s++){let a=i[s],l=Yue(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(lt(r,o))}else t.push(lt(i))}return t}function A7(e,t){return e[qF]=t,e.prototype[qF]=t,e}function Yue(e){return e[qF]}function Zue(e,t,n,i){let r=e[dS];throw t[PH]&&r.unshift(t[PH]),e.message=Que(`
`+e.message,r,n,i),e[$ue]=r,e[dS]=null,e}function Que(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Kue?e.slice(2):e;let r=ca(t);if(Array.isArray(t))r=t.map(ca).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ca(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(que,`
  `)}`}var NS=A7(x7("Optional"),8);var k7=A7(x7("SkipSelf"),4);function xp(e,t){let n=e.hasOwnProperty(lS);return n?e[lS]:null}function Jue(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function ehe(e){return e.flat(Number.POSITIVE_INFINITY)}function XA(e,t){e.forEach(n=>Array.isArray(n)?XA(n,t):t(n))}function P7(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function uS(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function the(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function nhe(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function BS(e,t,n){let i=kw(e,t);return i>=0?e[i|1]=n:(i=~i,nhe(e,i,t,n)),i}function AF(e,t){let n=kw(e,t);if(n>=0)return e[n|1]}function kw(e,t){return ihe(e,t,1)}function ihe(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var $c={},Ns=[],Gm=new xe(""),O7=new xe("",-1),L7=new xe(""),hS=class{get(t,n=bp){if(n===bp){let i=new Error(`NullInjectorError: No provider for ${ca(t)}!`);throw i.name="NullInjectorError",i}return n}};function N7(e,t){let n=e[Uue]||null;if(!n&&t===!0)throw new Error(`Type ${ca(e)} does not have '\u0275mod' property.`);return n}function Sp(e){return e[Hue]||null}function B7(e){return e[Gue]||null}function rhe(e){return e[zue]||null}function Xm(e){return{\u0275providers:e}}function ohe(...e){return{\u0275providers:V7(!0,e),\u0275fromNgModule:!0}}function V7(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return XA(t,s=>{let a=s;XF(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&H7(r,o),n}function H7(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];YA(r,o=>{t(o,i)})}}function XF(e,t,n,i){if(e=Ho(e),!e)return!1;let r=null,o=FH(e),s=!o&&Sp(e);if(!o&&!s){let l=e.ngModule;if(o=FH(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)XF(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{XA(o.imports,d=>{XF(d,t,n,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&H7(c,t)}if(!a){let c=xp(r)||(()=>new r);t({provide:r,useFactory:c,deps:Ns},r),t({provide:L7,useValue:r,multi:!0},r),t({provide:Gm,useValue:()=>lt(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;YA(l,d=>{t(d,c)})}}else return!1;return r!==e&&e.providers!==void 0}function YA(e,t){for(let n of e)T7(n)&&(n=n.\u0275providers),Array.isArray(n)?YA(n,t):t(n)}var she=Ti({provide:String,useValue:Ti});function G7(e){return e!==null&&typeof e=="object"&&she in e}function ahe(e){return!!(e&&e.useExisting)}function lhe(e){return!!(e&&e.useFactory)}function zm(e){return typeof e=="function"}function che(e){return!!e.useClass}var VS=new xe(""),nS={},OH={},kF;function HS(){return kF===void 0&&(kF=new hS),kF}var qr=class{},xw=class extends qr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,ZF(t,s=>this.processProvider(s)),this.records.set(O7,Pm(void 0,this)),r.has("environment")&&this.records.set(qr,Pm(void 0,this));let o=this.records.get(VS);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(L7,Ns,Rn.Self))}retrieve(t,n){let i=n;return this.get(t,i.optional?b1:bp,i)}destroy(){yw(this),this._destroyed=!0;let t=Fn(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Fn(t)}}onDestroy(t){return yw(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){yw(this);let n=ou(this),i=la(void 0),r;try{return t()}finally{ou(n),la(i)}}get(t,n=bp,i=Rn.Default){if(yw(this),t.hasOwnProperty(kH))return t[kH](this);i=LS(i);let r,o=ou(this),s=la(void 0);try{if(!(i&Rn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=phe(t)&&OS(t);c&&this.injectableDefInScope(c)?l=Pm(YF(t),nS):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Rn.Self?HS():this.parent;return n=i&Rn.Optional&&n===bp?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[dS]=a[dS]||[]).unshift(ca(t)),o)throw a;return Zue(a,t,"R3InjectorError",this.source)}else throw a}finally{la(s),ou(o)}}resolveInjectorInitializers(){let t=Fn(null),n=ou(this),i=la(void 0),r;try{let o=this.get(Gm,Ns,Rn.Self);for(let s of o)s()}finally{ou(n),la(i),Fn(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(ca(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ho(t);let n=zm(t)?t:Ho(t&&t.provide),i=uhe(t);if(!zm(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Pm(void 0,nS,!0),r.factory=()=>KF(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Fn(null);try{return n.value===OH?I7(ca(t)):n.value===nS&&(n.value=OH,n.value=n.factory()),typeof n.value=="object"&&n.value&&fhe(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Fn(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ho(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function YF(e){let t=OS(e),n=t!==null?t.factory:xp(e);if(n!==null)return n;if(e instanceof xe)throw new ht(204,!1);if(e instanceof Function)return dhe(e);throw new ht(204,!1)}function dhe(e){if(e.length>0)throw new ht(204,!1);let n=Bue(e);return n!==null?()=>n.factory(e):()=>new e}function uhe(e){if(G7(e))return Pm(void 0,e.useValue);{let t=z7(e);return Pm(t,nS)}}function z7(e,t,n){let i;if(zm(e)){let r=Ho(e);return xp(r)||YF(r)}else if(G7(e))i=()=>Ho(e.useValue);else if(lhe(e))i=()=>e.useFactory(...KF(e.deps||[]));else if(ahe(e))i=()=>lt(Ho(e.useExisting));else{let r=Ho(e&&(e.useClass||e.provide));if(hhe(e))i=()=>new r(...KF(e.deps));else return xp(r)||YF(r)}return i}function yw(e){if(e.destroyed)throw new ht(205,!1)}function Pm(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function hhe(e){return!!e.deps}function fhe(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function phe(e){return typeof e=="function"||typeof e=="object"&&e instanceof xe}function ZF(e,t){for(let n of e)Array.isArray(n)?ZF(n,t):n&&T7(n)?ZF(n.\u0275providers,t):t(n)}function Ga(e,t){let n;e instanceof xw?(yw(e),n=e):n=new cS(e);let i,r=ou(n),o=la(void 0);try{return t()}finally{ou(r),la(o)}}function U7(){return M7()!==void 0||uw()!=null}function Pw(e){if(!U7())throw new ht(-203,!1)}function ghe(e){return typeof e=="function"}var pu=0,vn=1,sn=2,ss=3,ac=4,ha=5,Sw=6,fS=7,Bs=8,Um=9,cu=10,ar=11,Ew=12,LH=13,Ym=14,gl=15,Ep=16,Om=17,du=18,GS=19,W7=20,Ah=21,PF=22,Dp=23,pl=24,Bm=25,vo=26,j7=1;var Rp=7,pS=8,Wm=9,da=10;function kh(e){return Array.isArray(e)&&typeof e[j7]=="object"}function gu(e){return Array.isArray(e)&&e[j7]===!0}function ZA(e){return(e.flags&4)!==0}function Zm(e){return e.componentOffset>-1}function zS(e){return(e.flags&1)===1}function qc(e){return!!e.template}function gS(e){return(e[sn]&512)!==0}function Ow(e){return(e[sn]&256)===256}var QF=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function $7(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var Hs=(()=>{let e=()=>q7;return e.ngInherit=!0,e})();function q7(e){return e.type.prototype.ngOnChanges&&(e.setInput=vhe),mhe}function mhe(){let e=X7(this),t=e?.current;if(t){let n=e.previous;if(n===$c)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function vhe(e,t,n,i,r){let o=this.declaredInputs[i],s=X7(e)||Che(e,{previous:$c,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new QF(c&&c.currentValue,n,l===$c),$7(e,t,r,n)}var K7="__ngSimpleChanges__";function X7(e){return e[K7]||null}function Che(e,t){return e[K7]=t}var NH=null;var bi=function(e,t=null,n){NH?.(e,t,n)},Y7="svg",whe="math";function Kc(e){for(;Array.isArray(e);)e=e[pu];return e}function Z7(e,t){return Kc(t[e])}function Zc(e,t){return Kc(t[e.index])}function QA(e,t){return e.data[t]}function Q7(e,t){return e[t]}function Xc(e,t){let n=t[e];return kh(n)?n:n[pu]}function yhe(e){return(e[sn]&4)===4}function JA(e){return(e[sn]&128)===128}function bhe(e){return gu(e[ss])}function jm(e,t){return t==null?null:e[t]}function J7(e){e[Om]=0}function eG(e){e[sn]&1024||(e[sn]|=1024,JA(e)&&Qm(e))}function _he(e,t){for(;e>0;)t=t[Ym],e--;return t}function US(e){return!!(e[sn]&9216||e[pl]?.dirty)}function JF(e){e[cu].changeDetectionScheduler?.notify(8),e[sn]&64&&(e[sn]|=1024),US(e)&&Qm(e)}function Qm(e){e[cu].changeDetectionScheduler?.notify(0);let t=Tp(e);for(;t!==null&&!(t[sn]&8192||(t[sn]|=8192,!JA(t)));)t=Tp(t)}function tG(e,t){if(Ow(e))throw new ht(911,!1);e[Ah]===null&&(e[Ah]=[]),e[Ah].push(t)}function xhe(e,t){if(e[Ah]===null)return;let n=e[Ah].indexOf(t);n!==-1&&e[Ah].splice(n,1)}function Tp(e){let t=e[ss];return gu(t)?t[ss]:t}function ek(e){return e[fS]??=[]}function tk(e){return e.cleanup??=[]}function She(e,t,n,i){let r=ek(t);r.push(n),e.firstCreatePass&&tk(e).push(i,r.length-1)}var Cn={lFrame:cG(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eA=!1;function Ehe(){return Cn.lFrame.elementDepthCount}function Dhe(){Cn.lFrame.elementDepthCount++}function Rhe(){Cn.lFrame.elementDepthCount--}function nk(){return Cn.bindingsEnabled}function nG(){return Cn.skipHydrationRootTNode!==null}function The(e){return Cn.skipHydrationRootTNode===e}function Ihe(){Cn.skipHydrationRootTNode=null}function wn(){return Cn.lFrame.lView}function lr(){return Cn.lFrame.tView}function Ui(e){return Cn.lFrame.contextLView=e,e[Bs]}function Wi(e){return Cn.lFrame.contextLView=null,e}function as(){let e=iG();for(;e!==null&&e.type===64;)e=e.parent;return e}function iG(){return Cn.lFrame.currentTNode}function Mhe(){let e=Cn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Lh(e,t){let n=Cn.lFrame;n.currentTNode=e,n.isParent=t}function ik(){return Cn.lFrame.isParent}function rk(){Cn.lFrame.isParent=!1}function Fhe(){return Cn.lFrame.contextLView}function rG(){return eA}function mS(e){let t=eA;return eA=e,t}function oG(){let e=Cn.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ahe(e){return Cn.lFrame.bindingIndex=e}function Jm(){return Cn.lFrame.bindingIndex++}function sG(e){let t=Cn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function khe(){return Cn.lFrame.inI18n}function Phe(e,t){let n=Cn.lFrame;n.bindingIndex=n.bindingRootIndex=e,tA(t)}function Ohe(){return Cn.lFrame.currentDirectiveIndex}function tA(e){Cn.lFrame.currentDirectiveIndex=e}function Lhe(e){let t=Cn.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function ok(){return Cn.lFrame.currentQueryIndex}function WS(e){Cn.lFrame.currentQueryIndex=e}function Nhe(e){let t=e[vn];return t.type===2?t.declTNode:t.type===1?e[ha]:null}function aG(e,t,n){if(n&Rn.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&Rn.Host);)if(r=Nhe(o),r===null||(o=o[Ym],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=Cn.lFrame=lG();return i.currentTNode=t,i.lView=e,!0}function sk(e){let t=lG(),n=e[vn];Cn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lG(){let e=Cn.lFrame,t=e===null?null:e.child;return t===null?cG(e):t}function cG(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function dG(){let e=Cn.lFrame;return Cn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var uG=dG;function ak(){let e=dG();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Bhe(e){return(Cn.lFrame.contextLView=_he(e,Cn.lFrame.contextLView))[Bs]}function kp(){return Cn.lFrame.selectedIndex}function Ip(e){Cn.lFrame.selectedIndex=e}function jS(){let e=Cn.lFrame;return QA(e.tView,e.selectedIndex)}function Lw(){Cn.lFrame.currentNamespace=Y7}function lk(){Vhe()}function Vhe(){Cn.lFrame.currentNamespace=null}function Hhe(){return Cn.lFrame.currentNamespace}var hG=!0;function $S(){return hG}function qS(e){hG=e}function Ghe(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=q7(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function ck(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function iS(e,t,n){fG(e,t,3,n)}function rS(e,t,n,i){(e[sn]&3)===n&&fG(e,t,n,i)}function OF(e,t){let n=e[sn];(n&3)===t&&(n&=16383,n+=1,e[sn]=n)}function fG(e,t,n,i){let r=i!==void 0?e[Om]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Om]+=65536),(a<o||o==-1)&&(zhe(e,n,t,l),e[Om]=(e[Om]&4294901760)+l+2),l++}function BH(e,t){bi(4,e,t);let n=Fn(null);try{t.call(e)}finally{Fn(n),bi(5,e,t)}}function zhe(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[sn]>>14<e[Om]>>16&&(e[sn]&3)===t&&(e[sn]+=16384,BH(a,o)):BH(a,o)}var Vm=-1,Mp=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i}};function Uhe(e){return(e.flags&8)!==0}function Whe(e){return(e.flags&16)!==0}function jhe(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];$he(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function pG(e){return e===3||e===4||e===6}function $he(e){return e.charCodeAt(0)===64}function $m(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?VH(e,n,r,null,t[++i]):VH(e,n,r,null,null))}}return e}function VH(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function gG(e){return e!==Vm}function vS(e){return e&32767}function qhe(e){return e>>16}function CS(e,t){let n=qhe(e),i=t;for(;n>0;)i=i[Ym],n--;return i}var nA=!0;function wS(e){let t=nA;return nA=e,t}var Khe=256,mG=Khe-1,vG=5,Xhe=0,jc={};function Yhe(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(_w)&&(i=n[_w]),i==null&&(i=n[_w]=Xhe++);let r=i&mG,o=1<<r;t.data[e+(r>>vG)]|=o}function yS(e,t){let n=CG(e,t);if(n!==-1)return n;let i=t[vn];i.firstCreatePass&&(e.injectorIndex=t.length,LF(i.data,e),LF(t,null),LF(i.blueprint,null));let r=dk(e,t),o=e.injectorIndex;if(gG(r)){let s=vS(r),a=CS(r,t),l=a[vn].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function LF(e,t){e.push(0,0,0,0,0,0,0,0,t)}function CG(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function dk(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=xG(r),i===null)return Vm;if(n++,r=r[Ym],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Vm}function iA(e,t,n){Yhe(e,t,n)}function Zhe(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(pG(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function wG(e,t,n){if(n&Rn.Optional||e!==void 0)return e;KA(t,"NodeInjector")}function yG(e,t,n,i){if(n&Rn.Optional&&i===void 0&&(i=null),(n&(Rn.Self|Rn.Host))===0){let r=e[Um],o=la(void 0);try{return r?r.get(t,i,n&Rn.Optional):F7(t,i,n&Rn.Optional)}finally{la(o)}}return wG(i,t,n)}function bG(e,t,n,i=Rn.Default,r){if(e!==null){if(t[sn]&2048&&!(i&Rn.Self)){let s=tfe(e,t,n,i,jc);if(s!==jc)return s}let o=_G(e,t,n,i,jc);if(o!==jc)return o}return yG(t,n,i,r)}function _G(e,t,n,i,r){let o=Jhe(n);if(typeof o=="function"){if(!aG(t,e,i))return i&Rn.Host?wG(r,n,i):yG(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Rn.Optional))KA(n);else return s}finally{uG()}}else if(typeof o=="number"){let s=null,a=CG(e,t),l=Vm,c=i&Rn.Host?t[gl][ha]:null;for((a===-1||i&Rn.SkipSelf)&&(l=a===-1?dk(e,t):t[a+8],l===Vm||!GH(i,!1)?a=-1:(s=t[vn],a=vS(l),t=CS(l,t)));a!==-1;){let d=t[vn];if(HH(o,a,d.data)){let h=Qhe(a,t,n,s,i,c);if(h!==jc)return h}l=t[a+8],l!==Vm&&GH(i,t[vn].data[a+8]===c)&&HH(o,a,t)?(s=d,a=vS(l),t=CS(l,t)):a=-1}}return r}function Qhe(e,t,n,i,r,o){let s=t[vn],a=s.data[e+8],l=i==null?Zm(a)&&nA:i!=s&&(a.type&3)!==0,c=r&Rn.Host&&o===a,d=oS(a,s,n,l,c);return d!==null?Dw(t,s,d,a):jc}function oS(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,d=o>>20,h=i?a:a+d,f=r?a+d:c;for(let g=h;g<f;g++){let m=s[g];if(g<l&&n===m||g>=l&&m.type===n)return g}if(r){let g=s[l];if(g&&qc(g)&&g.type===n)return l}return null}function Dw(e,t,n,i){let r=e[n],o=t.data;if(r instanceof Mp){let s=r;s.resolving&&I7(Wue(o[n]));let a=wS(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?la(s.injectImpl):null,d=aG(e,i,Rn.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&Ghe(n,o[n],t)}finally{c!==null&&la(c),wS(a),s.resolving=!1,uG()}}return r}function Jhe(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(_w)?e[_w]:void 0;return typeof t=="number"?t>=0?t&mG:efe:t}function HH(e,t,n){let i=1<<e;return!!(n[t+(e>>vG)]&i)}function GH(e,t){return!(e&Rn.Self)&&!(e&Rn.Host&&t)}var _p=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return bG(this._tNode,this._lView,t,LS(i),n)}};function efe(){return new _p(as(),wn())}function fa(e){return Fw(()=>{let t=e.prototype.constructor,n=t[lS]||rA(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[lS]||rA(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function rA(e){return S7(e)?()=>{let t=rA(Ho(e));return t&&t()}:xp(e)}function tfe(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[sn]&2048&&!gS(s);){let a=_G(o,s,n,i|Rn.Self,jc);if(a!==jc)return a;let l=o.parent;if(!l){let c=s[W7];if(c){let d=c.get(n,jc,i);if(d!==jc)return d}l=xG(s),s=s[Ym]}o=l}return r}function xG(e){let t=e[vn],n=t.type;return n===2?t.declTNode:n===1?e[ha]:null}function SG(e){return Zhe(as(),e)}function zH(e,t=null,n=null,i){let r=EG(e,t,n,i);return r.resolveInjectorInitializers(),r}function EG(e,t=null,n=null,i,r=new Set){let o=[n||Ns,ohe(e)];return i=i||(typeof e=="object"?void 0:ca(e)),new xw(o,t||HS(),i||null,r)}var Tn=class e{static THROW_IF_NOT_FOUND=bp;static NULL=new hS;static create(t,n){if(Array.isArray(t))return zH({name:""},n,t,"");{let i=t.name??"";return zH({name:i},t.parent,t.providers,i)}}static \u0275prov=Ce({token:e,providedIn:"any",factory:()=>lt(O7)});static __NG_ELEMENT_ID__=-1};var bS=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>SG(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},nfe=new xe("");nfe.__NG_ELEMENT_ID__=e=>{let t=as();if(t===null)throw new ht(204,!1);if(t.type&2)return t.value;if(e&Rn.Optional)return null;throw new ht(204,!1)};var DG=!1,Zi=(()=>{class e{static __NG_ELEMENT_ID__=ife;static __NG_ENV_ID__=n=>n}return e})(),_S=class extends Zi{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return tG(this._lView,t),()=>xhe(this._lView,t)}};function ife(){return new _S(wn())}var Fp=class{},KS=new xe("",{providedIn:"root",factory:()=>!1});var RG=new xe(""),TG=new xe(""),Nh=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Yn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})();var oA=class extends ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,U7()&&(this.destroyRef=A(Zi,{optional:!0})??void 0,this.pendingTasks=A(Nh,{optional:!0})??void 0)}emit(t){let n=Fn(null);try{super.next(t)}finally{Fn(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof Nn&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ye=oA;function Rw(...e){}function IG(e){let t,n;function i(){e=Rw;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function UH(e){return queueMicrotask(()=>e()),()=>{e=Rw}}var uk="isAngularZone",xS=uk+"_ID",rfe=0,pt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ye(!1);onMicrotaskEmpty=new ye(!1);onStable=new ye(!1);onError=new ye(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=DG}=t;if(typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,afe(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(uk)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ht(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,ofe,Rw,Rw);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},ofe={};function hk(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sfe(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){IG(()=>{e.callbackScheduled=!1,sA(e),e.isCheckStableRunning=!0,hk(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),sA(e)}function afe(e){let t=()=>{sfe(e)},n=rfe++;e._inner=e._inner.fork({name:"angular",properties:{[uk]:!0,[xS]:n,[xS+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(lfe(l))return i.invokeTask(o,s,a,l);try{return WH(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),jH(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return WH(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!cfe(l)&&t(),jH(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,sA(e),hk(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function sA(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function WH(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function jH(e){e._nesting--,hk(e)}var aA=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ye;onMicrotaskEmpty=new ye;onStable=new ye;onError=new ye;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function lfe(e){return MG(e,"__ignore_ng_zone__")}function cfe(e){return MG(e,"__scheduler_tick__")}function MG(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Vs=class{_console=console;handleError(t){this._console.error("ERROR",t)}},dfe=new xe("",{providedIn:"root",factory:()=>{let e=A(pt),t=A(Vs);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function $H(e,t){return _7(e,t)}function ufe(e){return _7(b7,e)}var FG=($H.required=ufe,$H);function hfe(){return e0(as(),wn())}function e0(e,t){return new Mt(Zc(e,t))}var Mt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=hfe}return e})();function AG(e){return e instanceof Mt?e.nativeElement:e}function t0(e){return typeof e=="function"&&e[sa]!==void 0}function Qc(e,t){let n=gF(e,t?.equal),i=n[sa];return n.set=r=>dw(i,r),n.update=r=>mF(i,r),n.asReadonly=ffe.bind(n),n}function ffe(){let e=this[sa];if(e.readonlyFn===void 0){let t=()=>this();t[sa]=e,e.readonlyFn=t}return e.readonlyFn}function kG(e){return t0(e)&&typeof e.set=="function"}function pfe(){return this._results[Symbol.iterator]()}var Ph=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ut}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=ehe(t);(this._changesDetected=!Jue(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=pfe};function PG(e){return(e.flags&128)===128}var OG=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(OG||{}),LG=new Map,gfe=0;function mfe(){return gfe++}function vfe(e){LG.set(e[GS],e)}function lA(e){LG.delete(e[GS])}var qH="__ngContext__";function n0(e,t){kh(t)?(e[qH]=t[GS],vfe(t)):e[qH]=t}function NG(e){return VG(e[Ew])}function BG(e){return VG(e[ac])}function VG(e){for(;e!==null&&!gu(e);)e=e[ac];return e}var cA;function HG(e){cA=e}function GG(){if(cA!==void 0)return cA;if(typeof document<"u")return document;throw new ht(210,!1)}var Pp=new xe("",{providedIn:"root",factory:()=>Cfe}),Cfe="ng",fk=new xe(""),mu=new xe("",{providedIn:"platform",factory:()=>"unknown"});var Co=new xe(""),Nw=new xe("",{providedIn:"root",factory:()=>GG().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wfe="h",yfe="b";var zG=!1,bfe=new xe("",{providedIn:"root",factory:()=>zG});var pk=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(pk||{}),i0=new xe(""),KH=new Set;function Bw(e){KH.has(e)||(KH.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var gk=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=_fe}return e})();function _fe(){return new gk(wn(),as())}var Lm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Lm||{}),UG=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})(),xfe=[Lm.EarlyRead,Lm.Write,Lm.MixedReadWrite,Lm.Read],Sfe=(()=>{class e{ngZone=A(pt);scheduler=A(Fp);errorHandler=A(Vs,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){A(i0,{optional:!0})}execute(){let n=this.sequences.size>0;n&&bi(16),this.executing=!0;for(let i of xfe)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&bi(17)}register(n){let{view:i}=n;i!==void 0?((i[Bm]??=[]).push(n),Qm(i),i[sn]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(pk.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new e})}return e})(),dA=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o,s=null){this.impl=t,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Bm];t&&(this.view[Bm]=t.filter(n=>n!==this))}};function Vw(e,t){!t?.injector&&Pw(Vw);let n=t?.injector??A(Tn);return Bw("NgAfterRender"),WG(e,n,t,!1)}function pa(e,t){!t?.injector&&Pw(pa);let n=t?.injector??A(Tn);return Bw("NgAfterNextRender"),WG(e,n,t,!0)}function Efe(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function WG(e,t,n,i){let r=t.get(UG);r.impl??=t.get(Sfe);let o=t.get(i0,null,{optional:!0}),s=n?.phase??Lm.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Zi):null,l=t.get(gk,null,{optional:!0}),c=new dA(r.impl,Efe(e,s),l?.view,i,a,o?.snapshot(null));return r.impl.register(c),c}var Dfe=()=>null;function jG(e,t,n=!1){return Dfe(e,t,n)}function $G(e,t){let n=e.contentQueries;if(n!==null){let i=Fn(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];WS(o),a.contentQueries(2,t[s],s)}}}finally{Fn(i)}}}function uA(e,t,n){WS(0);let i=Fn(null);try{t(e,n)}finally{Fn(i)}}function mk(e,t,n){if(ZA(t)){let i=Fn(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Fn(i)}}}var Yc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yc||{}),Q1;function Rfe(){if(Q1===void 0&&(Q1=null,Hm.trustedTypes))try{Q1=Hm.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Q1}function XS(e){return Rfe()?.createHTML(e)||e}var J1;function Tfe(){if(J1===void 0&&(J1=null,Hm.trustedTypes))try{J1=Hm.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return J1}function XH(e){return Tfe()?.createHTML(e)||e}var uu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w7})`}},hA=class extends uu{getTypeName(){return"HTML"}},fA=class extends uu{getTypeName(){return"Style"}},pA=class extends uu{getTypeName(){return"Script"}},gA=class extends uu{getTypeName(){return"URL"}},mA=class extends uu{getTypeName(){return"ResourceURL"}};function Jc(e){return e instanceof uu?e.changingThisBreaksApplicationSecurity:e}function Bh(e,t){let n=Ife(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${w7})`)}return n===t}function Ife(e){return e instanceof uu&&e.getTypeName()||null}function qG(e){return new hA(e)}function KG(e){return new fA(e)}function XG(e){return new pA(e)}function YG(e){return new gA(e)}function ZG(e){return new mA(e)}function Mfe(e){let t=new CA(e);return Ffe()?new vA(t):t}var vA=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(XS(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},CA=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=XS(t),n}};function Ffe(){try{return!!new window.DOMParser().parseFromString(XS(""),"text/html")}catch{return!1}}var Afe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YS(e){return e=String(e),e.match(Afe)?e:"unsafe:"+e}function vu(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Hw(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var QG=vu("area,br,col,hr,img,wbr"),JG=vu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ez=vu("rp,rt"),kfe=Hw(ez,JG),Pfe=Hw(JG,vu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ofe=Hw(ez,vu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),YH=Hw(QG,Pfe,Ofe,kfe),tz=vu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lfe=vu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nfe=vu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Bfe=Hw(tz,Lfe,Nfe),Vfe=vu("script,style,template"),wA=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=zfe(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=Gfe(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=ZH(t).toLowerCase();if(!YH.hasOwnProperty(n))return this.sanitizedSomething=!0,!Vfe.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Bfe.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;tz[a]&&(l=YS(l)),this.buf.push(" ",s,'="',QH(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=ZH(t).toLowerCase();YH.hasOwnProperty(n)&&!QG.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(QH(t))}};function Hfe(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Gfe(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw nz(t);return t}function zfe(e){let t=e.firstChild;if(t&&Hfe(e,t))throw nz(t);return t}function ZH(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function nz(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var Ufe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wfe=/([^\#-~ |!])/g;function QH(e){return e.replace(/&/g,"&amp;").replace(Ufe,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(Wfe,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var eS;function vk(e,t){let n=null;try{eS=eS||Mfe(e);let i=t?String(t):"";n=eS.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=eS.getInertBodyElement(i)}while(i!==o);let a=new wA().sanitizeChildren(JH(n)||n);return XS(a)}finally{if(n){let i=JH(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function JH(e){return"content"in e&&jfe(e)?e.content:null}function jfe(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var ls=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ls||{});function iz(e){let t=oz();return t?XH(t.sanitize(ls.HTML,e)||""):Bh(e,"HTML")?XH(Jc(e)):vk(GG(),Aw(e))}function rz(e){let t=oz();return t?t.sanitize(ls.URL,e)||"":Bh(e,"URL")?Jc(e):YS(Aw(e))}function oz(){let e=wn();return e&&e[cu].sanitizer}var $fe=/^>|^->|<!--|-->|--!>|<!-$/g,qfe=/(<|>)/g,Kfe="\u200B$1\u200B";function Xfe(e){return e.replace($fe,t=>t.replace(qfe,Kfe))}function sz(e){return e.ownerDocument}function az(e){return e instanceof Function?e():e}function Yfe(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var lz="ng-template";function Zfe(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Yfe(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Ck(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ck(e){return e.type===4&&e.value!==lz}function Qfe(e,t,n){let i=e.type===4&&!n?lz:e.value;return t===i}function Jfe(e,t,n){let i=4,r=e.attrs,o=r!==null?npe(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!oc(i)&&!oc(l))return!1;if(s&&oc(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Qfe(e,l,n)||l===""&&t.length===1){if(oc(i))return!1;s=!0}}else if(i&8){if(r===null||!Zfe(e,r,l,n)){if(oc(i))return!1;s=!0}}else{let c=t[++a],d=epe(l,r,Ck(e),n);if(d===-1){if(oc(i))return!1;s=!0;continue}if(c!==""){let h;if(d>o?h="":h=r[d+1].toLowerCase(),i&2&&c!==h){if(oc(i))return!1;s=!0}}}}return oc(i)||s}function oc(e){return(e&1)===0}function epe(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return ipe(t,e)}function cz(e,t,n=!1){for(let i=0;i<t.length;i++)if(Jfe(e,t[i],n))return!0;return!1}function tpe(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function npe(e){for(let t=0;t<e.length;t++){let n=e[t];if(pG(n))return t}return e.length}function ipe(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function rpe(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function e7(e,t){return e?":not("+t.trim()+")":t}function ope(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!oc(s)&&(t+=e7(o,r),r=""),i=s,o=o||!oc(i);n++}return r!==""&&(t+=e7(o,r)),t}function spe(e){return e.map(ope).join(",")}function ape(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!oc(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var ed={};function lpe(e,t){return e.createText(t)}function cpe(e,t,n){e.setValue(t,n)}function dpe(e,t){return e.createComment(Xfe(t))}function dz(e,t,n){return e.createElement(t,n)}function SS(e,t,n,i,r){e.insertBefore(t,n,i,r)}function uz(e,t,n){e.appendChild(t,n)}function t7(e,t,n,i,r){i!==null?SS(e,t,n,i,r):uz(e,t,n)}function upe(e,t,n){e.removeChild(null,t,n)}function hpe(e,t,n){e.setAttribute(t,"style",n)}function fpe(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function hz(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&jhe(e,t,i),r!==null&&fpe(e,t,r),o!==null&&hpe(e,t,o)}function wk(e,t,n,i,r,o,s,a,l,c,d){let h=vo+i,f=h+r,g=ppe(h,f),m=typeof c=="function"?c():c;return g[vn]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:d}}function ppe(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:ed);return n}function gpe(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=wk(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function yk(e,t,n,i,r,o,s,a,l,c,d){let h=t.blueprint.slice();return h[pu]=r,h[sn]=i|4|128|8|64|1024,(c!==null||e&&e[sn]&2048)&&(h[sn]|=2048),J7(h),h[ss]=h[Ym]=e,h[Bs]=n,h[cu]=s||e&&e[cu],h[ar]=a||e&&e[ar],h[Um]=l||e&&e[Um]||null,h[ha]=o,h[GS]=mfe(),h[Sw]=d,h[W7]=c,h[gl]=t.type==2?e[gl]:h,h}function mpe(e,t,n){let i=Zc(t,e),r=gpe(n),o=e[cu].rendererFactory,s=bk(e,yk(e,r,null,fz(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function fz(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function pz(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function bk(e,t){return e[Ew]?e[LH][ac]=t:e[Ew]=t,e[LH]=t,t}function tt(e=1){gz(lr(),wn(),kp()+e,!1)}function gz(e,t,n,i){if(!i)if((t[sn]&3)===3){let o=e.preOrderCheckHooks;o!==null&&iS(t,o,n)}else{let o=e.preOrderHooks;o!==null&&rS(t,o,0,n)}Ip(n)}var ZS=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ZS||{});function yA(e,t,n,i){let r=Fn(null);try{let[o,s,a]=e.inputs[n],l=null;(s&ZS.SignalBased)!==0&&(l=t[o][sa]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,l,i,n,o):$7(t,l,o,i)}finally{Fn(r)}}function mz(e,t,n,i,r){let o=kp(),s=i&2;try{Ip(-1),s&&t.length>vo&&gz(e,t,vo,!1),bi(s?2:0,r),n(i,r)}finally{Ip(o),bi(s?3:1,r)}}function QS(e,t,n){_pe(e,t,n),(n.flags&64)===64&&xpe(e,t,n)}function _k(e,t,n=Zc){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function vpe(e,t,n,i){let o=i.get(bfe,zG)||n===Yc.ShadowDom,s=e.selectRootElement(t,o);return Cpe(s),s}function Cpe(e){wpe(e)}var wpe=()=>null;function ype(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function xk(e,t,n,i,r,o,s,a){if(!a&&Ek(t,e,n,i,r)){Zm(t)&&bpe(n,t.index);return}if(t.type&3){let l=Zc(t,n);i=ype(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)}else t.type&12}function bpe(e,t){let n=Xc(t,e);n[sn]&16||(n[sn]|=64)}function _pe(e,t,n){let i=n.directiveStart,r=n.directiveEnd;Zm(n)&&mpe(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||yS(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],l=Dw(t,e,s,n);if(n0(l,t),o!==null&&Rpe(t,s-i,l,a,n,o),qc(a)){let c=Xc(n.index,t);c[Bs]=Dw(t,e,s,n)}}}function xpe(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Ohe();try{Ip(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];tA(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Spe(l,c)}}finally{Ip(-1),tA(s)}}function Spe(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Sk(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];cz(t,o.selectors,!1)&&(i??=[],qc(o)?i.unshift(o):i.push(o))}return i}function Epe(e,t,n,i,r,o){let s=Zc(e,t);Dpe(t[ar],s,o,e.value,n,i,r)}function Dpe(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Aw(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function Rpe(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];yA(i,n,l,c)}}function Tpe(e,t){let n=e[Um],i=n?n.get(Vs,null):null;i&&i.handleError(t)}function Ek(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],h=t.data[c];yA(h,n[c],d,r),a=!0}if(o)for(let l of o){let c=n[l],d=t.data[l];yA(d,c,i,r),a=!0}return a}function Ipe(e,t){let n=Xc(t,e),i=n[vn];Mpe(i,n);let r=n[pu];r!==null&&n[Sw]===null&&(n[Sw]=jG(r,n[Um])),bi(18),Dk(i,n,n[Bs]),bi(19,n[Bs])}function Mpe(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Dk(e,t,n){sk(t);try{let i=e.viewQuery;i!==null&&uA(1,i,n);let r=e.template;r!==null&&mz(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[du]?.finishViewCreation(e),e.staticContentQueries&&$G(e,t),e.staticViewQueries&&uA(2,e.viewQuery,n);let o=e.components;o!==null&&Fpe(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[sn]&=-5,ak()}}function Fpe(e,t){for(let n=0;n<t.length;n++)Ipe(e,t[n])}function Rk(e,t,n,i){let r=Fn(null);try{let o=t.tView,a=e[sn]&4096?4096:16,l=yk(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[Ep]=c;let d=e[du];return d!==null&&(l[du]=d.createEmbeddedView(o)),Dk(o,l,n),l}finally{Fn(r)}}function ES(e,t){return!t||t.firstChild===null||PG(e)}var Ape;function Tk(e,t){return Ape(e,t)}var hu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(hu||{});function Ik(e){return(e.flags&32)===32}function Nm(e,t,n,i,r){if(i!=null){let o,s=!1;gu(i)?o=i:kh(i)&&(s=!0,i=i[pu]);let a=Kc(i);e===0&&n!==null?r==null?uz(t,n,a):SS(t,n,a,r||null,!0):e===1&&n!==null?SS(t,n,a,r||null,!0):e===2?upe(t,a,s):e===3&&t.destroyNode(a),o!=null&&zpe(t,e,o,n,r)}}function kpe(e,t){vz(e,t),t[pu]=null,t[ha]=null}function Ppe(e,t,n,i,r,o){i[pu]=r,i[ha]=t,eE(e,i,n,1,r,o)}function vz(e,t){t[cu].changeDetectionScheduler?.notify(9),eE(e,t,t[ar],2,null,null)}function Ope(e){let t=e[Ew];if(!t)return NF(e[vn],e);for(;t;){let n=null;if(kh(t))n=t[Ew];else{let i=t[da];i&&(n=i)}if(!n){for(;t&&!t[ac]&&t!==e;)kh(t)&&NF(t[vn],t),t=t[ss];t===null&&(t=e),kh(t)&&NF(t[vn],t),n=t&&t[ac]}t=n}}function Mk(e,t){let n=e[Wm],i=n.indexOf(t);n.splice(i,1)}function Fk(e,t){if(Ow(t))return;let n=t[ar];n.destroyNode&&eE(e,t,n,3,null,null),Ope(t)}function NF(e,t){if(Ow(t))return;let n=Fn(null);try{t[sn]&=-129,t[sn]|=256,t[pl]&&cw(t[pl]),Npe(e,t),Lpe(e,t),t[vn].type===1&&t[ar].destroy();let i=t[Ep];if(i!==null&&gu(t[ss])){i!==t[ss]&&Mk(i,t);let r=t[du];r!==null&&r.detachView(e)}lA(t)}finally{Fn(n)}}function Lpe(e,t){let n=e.cleanup,i=t[fS];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[fS]=null);let r=t[Ah];if(r!==null){t[Ah]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[Dp];if(o!==null){t[Dp]=null;for(let s of o)s.destroy()}}function Npe(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Mp)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];bi(4,a,l);try{l.call(a)}finally{bi(5,a,l)}}else{bi(4,r,o);try{o.call(r)}finally{bi(5,r,o)}}}}}function Cz(e,t,n){return Bpe(e,t.parent,n)}function Bpe(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[pu];if(Zm(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===Yc.None||r===Yc.Emulated)return null}return Zc(i,n)}function wz(e,t,n){return Hpe(e,t,n)}function Vpe(e,t,n){return e.type&40?Zc(e,n):null}var Hpe=Vpe,n7;function JS(e,t,n,i){let r=Cz(e,i,t),o=t[ar],s=i.parent||t[ha],a=wz(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)t7(o,r,n[l],a,!1);else t7(o,r,n,a,!1);n7!==void 0&&n7(o,i,t,n,r)}function bw(e,t){if(t!==null){let n=t.type;if(n&3)return Zc(t,e);if(n&4)return bA(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return bw(e,i);{let r=e[t.index];return gu(r)?bA(-1,r):Kc(r)}}else{if(n&128)return bw(e,t.next);if(n&32)return Tk(t,e)()||Kc(e[t.index]);{let i=yz(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Tp(e[gl]);return bw(r,i)}else return bw(e,t.next)}}}return null}function yz(e,t){if(t!==null){let i=e[gl][ha],r=t.projection;return i.projection[r]}return null}function bA(e,t){let n=da+e+1;if(n<t.length){let i=t[n],r=i[vn].firstChild;if(r!==null)return bw(i,r)}return t[Rp]}function Ak(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&n0(Kc(a),i),n.flags|=2),!Ik(n))if(l&8)Ak(e,t,n.child,i,r,o,!1),Nm(t,e,r,a,o);else if(l&32){let c=Tk(n,i),d;for(;d=c();)Nm(t,e,r,d,o);Nm(t,e,r,a,o)}else l&16?bz(e,t,i,n,r,o):Nm(t,e,r,a,o);n=s?n.projectionNext:n.next}}function eE(e,t,n,i,r,o){Ak(n,i,e.firstChild,t,r,o,!1)}function Gpe(e,t,n){let i=t[ar],r=Cz(e,n,t),o=n.parent||t[ha],s=wz(o,n,t);bz(i,0,t,n,r,s)}function bz(e,t,n,i,r,o){let s=n[gl],l=s[ha].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Nm(t,e,r,d,o)}else{let c=l,d=s[ss];PG(i)&&(c.flags|=128),Ak(e,t,c,d,r,o,!0)}}function zpe(e,t,n,i,r){let o=n[Rp],s=Kc(n);o!==s&&Nm(t,e,i,o,r);for(let a=da;a<n.length;a++){let l=n[a];eE(l[vn],l,e,t,i,o)}}function Upe(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:hu.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=hu.Important),e.setStyle(n,i,r,o))}}function DS(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Kc(o)),gu(o)&&Wpe(o,i);let s=n.type;if(s&8)DS(e,t,n.child,i);else if(s&32){let a=Tk(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=yz(t,n);if(Array.isArray(a))i.push(...a);else{let l=Tp(t[gl]);DS(l[vn],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Wpe(e,t){for(let n=da;n<e.length;n++){let i=e[n],r=i[vn].firstChild;r!==null&&DS(i[vn],i,r,t)}e[Rp]!==e[pu]&&t.push(e[Rp])}function _z(e){if(e[Bm]!==null){for(let t of e[Bm])t.impl.addSequence(t);e[Bm].length=0}}var xz=[];function jpe(e){return e[pl]??$pe(e)}function $pe(e){let t=xz.pop()??Object.create(Kpe);return t.lView=e,t}function qpe(e){e.lView[pl]!==e&&(e.lView=null,xz.push(e))}var Kpe=De(V({},bm),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Qm(e.lView)},consumerOnSignalRead(){this.lView[pl]=this}});function Xpe(e){let t=e[pl]??Object.create(Ype);return t.lView=e,t}var Ype=De(V({},bm),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Tp(e.lView);for(;t&&!Sz(t[vn]);)t=Tp(t);t&&eG(t)},consumerOnSignalRead(){this.lView[pl]=this}});function Sz(e){return e.type!==2}function Ez(e){if(e[Dp]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[Dp])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[sn]&8192)}}var Zpe=100;function Dz(e,t=!0,n=0){let r=e[cu].rendererFactory,o=!1;o||r.begin?.();try{Qpe(e,n)}catch(s){throw t&&Tpe(e,s),s}finally{o||r.end?.()}}function Qpe(e,t){let n=rG();try{mS(!0),_A(e,t);let i=0;for(;US(e);){if(i===Zpe)throw new ht(103,!1);i++,_A(e,1)}}finally{mS(n)}}function Jpe(e,t,n,i){if(Ow(t))return;let r=t[sn],o=!1,s=!1;sk(t);let a=!0,l=null,c=null;o||(Sz(e)?(c=jpe(t),l=lw(c)):dF()===null?(a=!1,c=Xpe(t),l=lw(c)):t[pl]&&(cw(t[pl]),t[pl]=null));try{J7(t),Ahe(e.bindingStartIndex),n!==null&&mz(e,t,n,2,i);let d=(r&3)===3;if(!o)if(d){let g=e.preOrderCheckHooks;g!==null&&iS(t,g,null)}else{let g=e.preOrderHooks;g!==null&&rS(t,g,0,null),OF(t,0)}if(s||ege(t),Ez(t),Rz(t,0),e.contentQueries!==null&&$G(e,t),!o)if(d){let g=e.contentCheckHooks;g!==null&&iS(t,g)}else{let g=e.contentHooks;g!==null&&rS(t,g,1),OF(t,1)}nge(e,t);let h=e.components;h!==null&&Iz(t,h,0);let f=e.viewQuery;if(f!==null&&uA(2,f,i),!o)if(d){let g=e.viewCheckHooks;g!==null&&iS(t,g)}else{let g=e.viewHooks;g!==null&&rS(t,g,2),OF(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[PF]){for(let g of t[PF])g();t[PF]=null}o||(_z(t),t[sn]&=-73)}catch(d){throw o||Qm(t),d}finally{c!==null&&(g1(c,l),a&&qpe(c)),ak()}}function Rz(e,t){for(let n=NG(e);n!==null;n=BG(n))for(let i=da;i<n.length;i++){let r=n[i];Tz(r,t)}}function ege(e){for(let t=NG(e);t!==null;t=BG(t)){if(!(t[sn]&2))continue;let n=t[Wm];for(let i=0;i<n.length;i++){let r=n[i];eG(r)}}}function tge(e,t,n){bi(18);let i=Xc(t,e);Tz(i,n),bi(19,i[Bs])}function Tz(e,t){JA(e)&&_A(e,t)}function _A(e,t){let i=e[vn],r=e[sn],o=e[pl],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&m1(o)),s||=!1,o&&(o.dirty=!1),e[sn]&=-9217,s)Jpe(i,e,i.template,e[Bs]);else if(r&8192){Ez(e),Rz(e,1);let a=i.components;a!==null&&Iz(e,a,1),_z(e)}}function Iz(e,t,n){for(let i=0;i<t.length;i++)tge(e,t[i],n)}function nge(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ip(~r);else{let o=r,s=n[++i],a=n[++i];Phe(s,o);let l=t[o];bi(24,l),a(2,l),bi(25,l)}}}finally{Ip(-1)}}function kk(e,t){let n=rG()?64:1088;for(e[cu].changeDetectionScheduler?.notify(t);e;){e[sn]|=n;let i=Tp(e);if(gS(e)&&!i)return e;e=i}return null}function Mz(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function ige(e,t){let n=da+t;if(n<e.length)return e[n]}function Pk(e,t,n,i=!0){let r=t[vn];if(oge(r,t,e,n),i){let s=bA(n,e),a=t[ar],l=a.parentNode(e[Rp]);l!==null&&Ppe(r,e[ha],a,t,l,s)}let o=t[Sw];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rge(e,t){let n=RS(e,t);return n!==void 0&&Fk(n[vn],n),n}function RS(e,t){if(e.length<=da)return;let n=da+t,i=e[n];if(i){let r=i[Ep];r!==null&&r!==e&&Mk(r,i),t>0&&(e[n-1][ac]=i[ac]);let o=uS(e,da+t);kpe(i[vn],i);let s=o[du];s!==null&&s.detachView(o[vn]),i[ss]=null,i[ac]=null,i[sn]&=-129}return i}function oge(e,t,n,i){let r=da+i,o=n.length;i>0&&(n[r-1][ac]=t),i<o-da?(t[ac]=n[r],P7(n,da+i,t)):(n.push(t),t[ac]=null),t[ss]=n;let s=t[Ep];s!==null&&n!==s&&Fz(s,t);let a=t[du];a!==null&&a.insertView(e),JF(t),t[sn]|=128}function Fz(e,t){let n=e[Wm],i=t[ss];if(kh(i))e[sn]|=2;else{let r=i[ss][gl];t[gl]!==r&&(e[sn]|=2)}n===null?e[Wm]=[t]:n.push(t)}var Tw=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[vn];return DS(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[Bs]}set context(t){this._lView[Bs]=t}get destroyed(){return Ow(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ss];if(gu(t)){let n=t[pS],i=n?n.indexOf(this):-1;i>-1&&(RS(t,i),uS(n,i))}this._attachedToViewContainer=!1}Fk(this._lView[vn],this._lView)}onDestroy(t){tG(this._lView,t)}markForCheck(){kk(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[sn]&=-129}reattach(){JF(this._lView),this._lView[sn]|=128}detectChanges(){this._lView[sn]|=1024,Dz(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=gS(this._lView),n=this._lView[Ep];n!==null&&!t&&Mk(n,this._lView),vz(this._lView[vn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=t;let n=gS(this._lView),i=this._lView[Ep];i!==null&&!n&&Fz(i,this._lView),JF(this._lView)}};var ua=(()=>{class e{static __NG_ELEMENT_ID__=lge}return e})(),sge=ua,age=class extends sge{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=Rk(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Tw(r)}};function lge(){return tE(as(),wn())}function tE(e,t){return e.type&4?new age(t,e,e0(e,t)):null}function r0(e,t,n,i,r){let o=e.data[t];if(o===null)o=cge(e,t,n,i,r),khe()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Mhe();o.injectorIndex=s===null?-1:s.injectorIndex}return Lh(o,!0),o}function cge(e,t,n,i,r){let o=iG(),s=ik(),a=s?o:o&&o.parent,l=e.data[t]=uge(e,a,n,t,i,r);return dge(e,l,o,s),l}function dge(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function uge(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return nG()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var oQe=new RegExp(`^(\\d+)*(${yfe}|${wfe})*(.*)`);var hge=()=>null;function TS(e,t){return hge(e,t)}var fge=class{},Az=class{},xA=class{resolveComponentFactory(t){throw Error(`No component factory found for ${ca(t)}.`)}},nE=class{static NULL=new xA},so=class{},Kr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>pge()}return e})();function pge(){let e=wn(),t=as(),n=Xc(t.index,e);return(kh(n)?n:e)[ar]}var gge=(()=>{class e{static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>null})}return e})();var BF={},SA=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=LS(i);let r=this.injector.get(t,BF,i);return r!==BF||n===BF?r:this.parentInjector.get(t,n,i)}};function EA(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=jF(r,a);else if(o==2){let l=a,c=t[++s];i=jF(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function We(e,t=Rn.Default){let n=wn();if(n===null)return lt(e,t);let i=as();return bG(i,n,Ho(e),t)}function Ok(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a,l=null,c=null,d=vge(s);d===null?a=s:[a,l,c]=d,yge(e,t,n,a,o,l,c)}o!==null&&i!==null&&mge(n,i,o)}function mge(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new ht(-301,!1);i.push(t[r],o)}}function vge(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&qc(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,Cge(s,i,o,r)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?e:e.slice(1)),[i,r,o]):null}function Cge(e,t,n,i){let r=t.length;e.findHostDirectiveDefs(e,t,i),n.set(e,[r,t.length-1])}function wge(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function yge(e,t,n,i,r,o,s){let a=i.length,l=!1;for(let f=0;f<a;f++){let g=i[f];!l&&qc(g)&&(l=!0,wge(e,n,f)),iA(yS(n,t),e,g.type)}Dge(n,e.data.length,a);for(let f=0;f<a;f++){let g=i[f];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,h=pz(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let g=i[f];if(n.mergedAttrs=$m(n.mergedAttrs,g.hostAttrs),_ge(e,n,t,h,g),Ege(h,g,r),s!==null&&s.has(g)){let[v,C]=s.get(g);n.directiveToIndex.set(g.type,[h,v+n.directiveStart,C+n.directiveStart])}else(o===null||!o.has(g))&&n.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!c&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}bge(e,n,o)}function bge(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))i7(0,t,r,i),i7(1,t,r,i),o7(t,i,!1);else{let o=n.get(r);r7(0,t,o,i),r7(1,t,o,i),o7(t,i,!0)}}}function i7(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),kz(t,o)}}function r7(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),kz(t,s)}}function kz(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function o7(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||Ck(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===t){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function _ge(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=xp(r.type,!0)),s=new Mp(o,qc(r),We);e.blueprint[i]=s,n[i]=s,xge(e,t,i,pz(e,n,r.hostVars,ed),r)}function xge(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Sge(s)!=a&&s.push(a),s.push(n,i,o)}}function Sge(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Ege(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;qc(t)&&(n[""]=e)}}function Dge(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Pz(e,t,n,i,r,o,s,a){let l=t.consts,c=jm(l,s),d=r0(t,e,2,i,c);return o&&Ok(t,n,d,jm(l,a),r),d.mergedAttrs=$m(d.mergedAttrs,d.attrs),d.attrs!==null&&EA(d,d.attrs,!1),d.mergedAttrs!==null&&EA(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function Oz(e,t){ck(e,t),ZA(t)&&e.queries.elementEnd(t)}var IS=class extends nE{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Sp(t);return new qm(n,this.ngModule)}};function Rge(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&ZS.SignalBased)!==0};return r&&(o.transform=r),o})}function Tge(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Ige(e,t,n){let i=t instanceof qr?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new SA(n,i):n}function Mge(e){let t=e.get(so,null);if(t===null)throw new ht(407,!1);let n=e.get(gge,null),i=e.get(Fp,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i}}function Fge(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return dz(t,n,n==="svg"?Y7:n==="math"?whe:null)}var qm=class extends Az{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Rge(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Tge(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=spe(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r){bi(22);let o=Fn(null);try{let s=this.componentDef,a=i?["ng-version","19.2.5"]:ape(this.componentDef.selectors[0]),l=wk(0,null,null,1,0,null,null,null,null,[a],null),c=Ige(s,r||this.ngModule,t),d=Mge(c),h=d.rendererFactory.createRenderer(null,s),f=i?vpe(h,i,s.encapsulation,c):Fge(s,h),g=yk(null,l,null,512|fz(s),null,null,d,h,c,null,jG(f,c,!0));g[vo]=f,sk(g);let m=null;try{let v=Pz(vo,l,g,"#host",()=>[this.componentDef],!0,0);f&&(hz(h,f,v),n0(f,g)),QS(l,g,v),mk(l,v,g),Oz(l,v),n!==void 0&&Age(v,this.ngContentSelectors,n),m=Xc(v.index,g),g[Bs]=m[Bs],Dk(l,g,null)}catch(v){throw m!==null&&lA(m),lA(g),v}finally{bi(23),ak()}return new DA(this.componentType,g)}finally{Fn(o)}}},DA=class extends fge{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=QA(n[vn],vo),this.location=e0(this._tNode,n),this.instance=Xc(this._tNode.index,n)[Bs],this.hostView=this.changeDetectorRef=new Tw(n,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=Ek(i,r[vn],r,t,n);this.previousInputValues.set(t,n);let s=Xc(i.index,r);kk(s,1)}get injector(){return new _p(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Age(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Lr=(()=>{class e{static __NG_ELEMENT_ID__=kge}return e})();function kge(){let e=as();return Nz(e,wn())}var Pge=Lr,Lz=class extends Pge{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return e0(this._hostTNode,this._hostLView)}get injector(){return new _p(this._hostTNode,this._hostLView)}get parentInjector(){let t=dk(this._hostTNode,this._hostLView);if(gG(t)){let n=CS(t,this._hostLView),i=vS(t),r=n[vn].data[i+8];return new _p(r,n)}else return new _p(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=s7(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-da}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=TS(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,ES(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!ghe(t),a;if(s)a=n;else{let m=n||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?t:new qm(Sp(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(qr,null);v&&(o=v)}let d=Sp(l.componentType??{}),h=TS(this._lContainer,d?.id??null),f=h?.firstChild??null,g=l.create(c,r,f,o);return this.insertImpl(g.hostView,a,ES(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(bhe(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[ss],c=new Lz(l,l[ha],l[ss]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Pk(s,r,o,i),t.attachToViewContainerRef(),P7(VF(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=s7(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=RS(this._lContainer,n);i&&(uS(VF(this._lContainer),n),Fk(i[vn],i))}detach(t){let n=this._adjustIndex(t,-1),i=RS(this._lContainer,n);return i&&uS(VF(this._lContainer),n)!=null?new Tw(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function s7(e){return e[pS]}function VF(e){return e[pS]||(e[pS]=[])}function Nz(e,t){let n,i=t[e.index];return gu(i)?n=i:(n=Mz(i,t,null,e),t[e.index]=n,bk(t,n)),Lge(n,t,e,i),new Lz(n,e,t)}function Oge(e,t){let n=e[ar],i=n.createComment(""),r=Zc(t,e),o=n.parentNode(r);return SS(n,o,i,n.nextSibling(r),!1),i}var Lge=Vge,Nge=()=>!1;function Bge(e,t,n){return Nge(e,t,n)}function Vge(e,t,n,i){if(e[Rp])return;let r;n.type&8?r=Kc(i):r=Oge(t,n),e[Rp]=r}var RA=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},TA=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Nk(t,n).matches!==null&&this.queries[n].setDirty()}},MS=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=jge(t):this.predicate=t}},IA=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},MA=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,Hge(n,o)),this.matchTNodeWithReadOption(t,n,oS(n,t,o,!1,!1))}else i===ua?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,oS(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Mt||r===Lr||r===ua&&n.type&4)this.addMatch(n.index,-2);else{let o=oS(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Hge(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function Gge(e,t){return e.type&11?e0(e,t):e.type&4?tE(e,t):null}function zge(e,t,n,i){return n===-1?Gge(t,e):n===-2?Uge(e,t,i):Dw(e,e[vn],n,t)}function Uge(e,t,n){if(n===Mt)return e0(t,e);if(n===ua)return tE(t,e);if(n===Lr)return Nz(t,e)}function Bz(e,t,n,i){let r=t[du].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(zge(t,d,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function FA(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=Bz(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=t[-l];for(let h=da;h<d.length;h++){let f=d[h];f[Ep]===f[ss]&&FA(f[vn],f,c,i)}if(d[Wm]!==null){let h=d[Wm];for(let f=0;f<h.length;f++){let g=h[f];FA(g[vn],g,c,i)}}}}}return i}function Lk(e,t){return e[du].queries[t].queryList}function Vz(e,t,n){let i=new Ph((n&4)===4);return She(e,t,i,i.destroy),(t[du]??=new TA).queries.push(new RA(i))-1}function Wge(e,t,n){let i=lr();return i.firstCreatePass&&(Gz(i,new MS(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Vz(i,wn(),t)}function Hz(e,t,n,i){let r=lr();if(r.firstCreatePass){let o=as();Gz(r,new MS(t,n,i),o.index),$ge(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return Vz(r,wn(),n)}function jge(e){return e.split(",").map(t=>t.trim())}function Gz(e,t,n){e.queries===null&&(e.queries=new IA),e.queries.track(new MA(t,n))}function $ge(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function Nk(e,t){return e.queries.getByIndex(t)}function zz(e,t){let n=e[vn],i=Nk(n,t);return i.crossesNgTemplate?FA(n,e,t,[]):Bz(n,e,i,t)}function Uz(e,t,n){let i,r=w1(()=>{i._dirtyCounter();let o=Yge(i,e);if(t&&o===void 0)throw new ht(-951,!1);return o});return i=r[sa],i._dirtyCounter=Qc(0),i._flatValue=void 0,r}function qge(e){return Uz(!0,!1,e)}function Kge(e){return Uz(!0,!0,e)}function Xge(e,t){let n=e[sa];n._lView=wn(),n._queryIndex=t,n._queryList=Lk(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function Yge(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[sn]&4)return t?void 0:Ns;let r=Lk(n,i),o=zz(n,i);return r.reset(o,AG),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}function a7(e,t){return qge(t)}function Zge(e,t){return Kge(t)}var Wz=(a7.required=Zge,a7);var fu=class{},Bk=class{};var AA=class extends fu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new IS(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=N7(t);this._bootstrapComponents=az(o.bootstrap),this._r3Injector=EG(t,n,[{provide:fu,useValue:this},{provide:nE,useValue:this.componentFactoryResolver},...i],ca(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},kA=class extends Bk{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new AA(this.moduleType,t,[])}};var FS=class extends fu{injector;componentFactoryResolver=new IS(this);instance=null;constructor(t){super();let n=new xw([...t.providers,{provide:fu,useValue:this},{provide:nE,useValue:this.componentFactoryResolver}],t.parent||HS(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function iE(e,t,n=null){return new FS({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Qge=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=V7(!1,n.type),r=i.length>0?iE([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ce({token:e,providedIn:"environment",factory:()=>new e(lt(qr))})}return e})();function et(e){return Fw(()=>{let t=$z(e),n=De(V({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===OG.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(Qge).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yc.Emulated,styles:e.styles||Ns,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Bw("NgStandalone"),qz(n);let i=e.dependencies;return n.directiveDefs=l7(i,!1),n.pipeDefs=l7(i,!0),n.id=ime(n),n})}function Jge(e){return Sp(e)||B7(e)}function eme(e){return e!==null}function Ft(e){return Fw(()=>({type:e.type,bootstrap:e.bootstrap||Ns,declarations:e.declarations||Ns,imports:e.imports||Ns,exports:e.exports||Ns,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function tme(e,t){if(e==null)return $c;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=ZS.None,l=null),n[o]=[i,a,l],t[o]=s}return n}function nme(e){if(e==null)return $c;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Bt(e){return Fw(()=>{let t=$z(e);return qz(t),t})}function jz(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function $z(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||$c,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ns,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tme(e.inputs,t),outputs:nme(e.outputs),debugInfo:null}}function qz(e){e.features?.forEach(t=>t(e))}function l7(e,t){if(!e)return null;let n=t?rhe:Jge;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(eme)}function ime(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function rme(e){return Object.getPrototypeOf(e.prototype).constructor}function Xr(e){let t=rme(e.type),n=!0,i=[e];for(;t;){let r;if(qc(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ht(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=HF(e.inputs),s.declaredInputs=HF(e.declaredInputs),s.outputs=HF(e.outputs);let a=r.hostBindings;a&&cme(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&ame(e,l),c&&lme(e,c),ome(e,r),Lue(e.outputs,r.outputs),qc(r)&&r.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Xr&&(n=!1)}}t=Object.getPrototypeOf(t)}sme(i)}function ome(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function sme(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=$m(r.hostAttrs,n=$m(n,r.hostAttrs))}}function HF(e){return e===$c?{}:e===Ns?[]:e}function ame(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function lme(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function cme(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Kz(e){let t=n=>{let i=Array.isArray(e);n.hostDirectives===null?(n.findHostDirectiveDefs=Xz,n.hostDirectives=i?e.map(PA):[e]):i?n.hostDirectives.unshift(...e.map(PA)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function Xz(e,t,n){if(e.hostDirectives!==null)for(let i of e.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)c7(PA(o),t,n)}else c7(i,t,n)}function c7(e,t,n){let i=B7(e.directive);dme(i.declaredInputs,e.inputs),Xz(i,t,n),n.set(i,e),t.push(i)}function PA(e){return typeof e=="function"?{directive:Ho(e),inputs:$c,outputs:$c}:{directive:Ho(e.directive),inputs:d7(e.inputs),outputs:d7(e.outputs)}}function d7(e){if(e===void 0||e.length===0)return $c;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function dme(e,t){for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],r=e[n];e[i]=r}}function Yz(e){return hme(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function ume(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function hme(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Zz(e,t,n){return e[t]=n}function ml(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function fme(e,t,n,i){let r=ml(e,t,n);return ml(e,t+1,i)||r}function pme(e,t,n,i,r){let o=fme(e,t,n,i);return ml(e,t+2,r)||o}function gme(e,t,n,i,r,o,s,a,l){let c=t.consts,d=r0(t,e,4,s||null,a||null);nk()&&Ok(t,n,d,jm(c,l),Sk),d.mergedAttrs=$m(d.mergedAttrs,d.attrs),ck(t,d);let h=d.tView=wk(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),h.queries=t.queries.embeddedTView(d)),d}function Qz(e,t,n,i,r,o,s,a,l,c){let d=n+vo,h=t.firstCreatePass?gme(d,t,e,i,r,o,s,a,l):t.data[d];Lh(h,!1);let f=mme(t,e,h,n);$S()&&JS(t,e,f,h),n0(f,e);let g=Mz(f,e,f,h);return e[d]=g,bk(e,g),Bge(g,h,e),zS(h)&&QS(t,e,h),l!=null&&_k(e,h,c),h}function Jt(e,t,n,i,r,o,s,a){let l=wn(),c=lr(),d=jm(c.consts,o);return Qz(l,c,e,t,n,i,r,d,s,a),Jt}var mme=vme;function vme(e,t,n,i){return qS(!0),t[ar].createComment("")}var Vk=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Jz=new xe("");var eU=(()=>{class e{static \u0275prov=Ce({token:e,providedIn:"root",factory:()=>new OA})}return e})(),OA=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Vh(e){return!!e&&typeof e.then=="function"}function Hk(e){return!!e&&typeof e.subscribe=="function"}var tU=new xe("");var nU=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=A(tU,{optional:!0})??[];injector=A(Tn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Ga(this.injector,r);if(Vh(o))n.push(o);else if(Hk(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gk=new xe("");function Cme(){pF(()=>{throw new ht(600,!1)})}function wme(e){return e.isBoundToModule}var yme=10;var Ha=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(dfe);afterRenderManager=A(UG);zonelessEnabled=A(KS);rootEffectScheduler=A(eU);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ut;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=A(Nh).hasPendingTasks.pipe(Tt(n=>!n));constructor(){A(i0,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=A(qr);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){bi(10);let r=n instanceof Az;if(!this._injector.get(nU).done){let f="";throw new ht(405,f)}let s;r?s=n:s=this._injector.get(nE).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=wme(s)?void 0:this._injector.get(fu),l=i||s.selector,c=s.create(Tn.NULL,[],l,a),d=c.location.nativeElement,h=c.injector.get(Jz,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),sS(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),bi(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){bi(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(pk.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ht(101,!1);let n=Fn(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Fn(n),this.afterTick.next(),bi(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(so,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<yme;)bi(14),this.synchronizeOnce(),bi(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)bme(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>US(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;sS(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Gk,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sS(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ht(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sS(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function bme(e,t,n,i){if(!n&&!US(e))return;Dz(e,t,n&&!i?0:1)}function Ii(e,t,n,i){let r=wn(),o=Jm();if(ml(r,o,t)){let s=lr(),a=jS();Epe(a,r,e,t,n,i)}return Ii}function iU(e,t,n,i){return ml(e,Jm(),n)?t+Aw(n)+i:ed}function tS(e,t){return e<<17|t<<2}function Ap(e){return e>>17&32767}function _me(e){return(e&2)==2}function xme(e,t){return e&131071|t<<17}function LA(e){return e|2}function Km(e){return(e&131068)>>2}function GF(e,t){return e&-131069|t<<2}function Sme(e){return(e&1)===1}function NA(e){return e|1}function Eme(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ap(s),l=Km(s);e[i]=n;let c=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||kw(h,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let f=Ap(e[a+1]);e[i+1]=tS(f,a),f!==0&&(e[f+1]=GF(e[f+1],i)),e[a+1]=xme(e[a+1],i)}else e[i+1]=tS(a,0),a!==0&&(e[a+1]=GF(e[a+1],i)),a=i;else e[i+1]=tS(l,0),a===0?a=i:e[l+1]=GF(e[l+1],i),l=i;c&&(e[i+1]=LA(e[i+1])),u7(e,d,i,!0),u7(e,d,i,!1),Dme(t,d,e,i,o),s=tS(a,l),o?t.classBindings=s:t.styleBindings=s}function Dme(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&kw(o,t)>=0&&(n[i+1]=NA(n[i+1]))}function u7(e,t,n,i){let r=e[n+1],o=t===null,s=i?Ap(r):Km(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];Rme(l,t)&&(a=!0,e[s+1]=i?NA(c):LA(c)),s=i?Ap(c):Km(c)}a&&(e[n+1]=i?LA(r):NA(r))}function Rme(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?kw(e,t)>=0:!1}var sc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tme(e){return e.substring(sc.key,sc.keyEnd)}function Ime(e){return Mme(e),rU(e,oU(e,0,sc.textEnd))}function rU(e,t){let n=sc.textEnd;return n===t?-1:(t=sc.keyEnd=Fme(e,sc.key=t,n),oU(e,t,n))}function Mme(e){sc.key=0,sc.keyEnd=0,sc.value=0,sc.valueEnd=0,sc.textEnd=e.length}function oU(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Fme(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function mt(e,t,n){let i=wn(),r=Jm();if(ml(i,r,t)){let o=lr(),s=jS();xk(o,s,i,e,t,i[ar],n,!1)}return mt}function BA(e,t,n,i,r){Ek(t,e,n,r?"class":"style",i)}function lc(e,t,n){return aU(e,t,n,!1),lc}function Bn(e,t){return aU(e,t,null,!0),Bn}function cc(e){lU(Nme,sU,e,!0)}function sU(e,t){for(let n=Ime(t);n>=0;n=rU(t,n))BS(e,Tme(t),!0)}function aU(e,t,n,i){let r=wn(),o=lr(),s=sG(2);if(o.firstUpdatePass&&dU(o,e,s,i),t!==ed&&ml(r,s,t)){let a=o.data[kp()];uU(o,a,r,r[ar],e,r[s+1]=Vme(t,n),i,s)}}function lU(e,t,n,i){let r=lr(),o=sG(2);r.firstUpdatePass&&dU(r,null,o,i);let s=wn();if(n!==ed&&ml(s,o,n)){let a=r.data[kp()];if(hU(a,i)&&!cU(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=jF(l,n||"")),BA(r,a,s,n,i)}else Bme(r,a,s,s[ar],s[o+1],s[o+1]=Lme(e,t,n),i,o)}}function cU(e,t){return t>=e.expandoStartIndex}function dU(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[kp()],s=cU(e,n);hU(o,i)&&t===null&&!s&&(t=!1),t=Ame(r,o,t,i),Eme(r,o,t,n,s,i)}}function Ame(e,t,n,i){let r=Lhe(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=zF(null,e,t,n,i),n=Iw(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=zF(r,e,t,n,i),o===null){let l=kme(e,t,i);l!==void 0&&Array.isArray(l)&&(l=zF(null,e,t,l[1],i),l=Iw(l,t.attrs,i),Pme(e,t,i,l))}else o=Ome(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function kme(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Km(i)!==0)return e[Ap(i)]}function Pme(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Ap(r)]=i}function Ome(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Iw(i,s,n)}return Iw(i,t.attrs,n)}function zF(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Iw(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Iw(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),BS(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Lme(e,t,n){if(n==null||n==="")return Ns;let i=[],r=Jc(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Nme(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&BS(e,i,n)}function Bme(e,t,n,i,r,o,s,a){r===ed&&(r=Ns);let l=0,c=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;d!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,g=c<o.length?o[c+1]:void 0,m=null,v;d===h?(l+=2,c+=2,f!==g&&(m=h,v=g)):h===null||d!==null&&d<h?(l+=2,m=d):(c+=2,m=h,v=g),m!==null&&uU(e,t,n,i,m,v,s,a),d=l<r.length?r[l]:null,h=c<o.length?o[c]:null}}function uU(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],d=Sme(c)?h7(l,t,n,r,Km(c),s):void 0;if(!AS(d)){AS(o)||_me(c)&&(o=h7(l,null,n,r,a,s));let h=Z7(kp(),n);Upe(i,s,h,r,o)}}function h7(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),d=c?l[1]:l,h=d===null,f=n[r+1];f===ed&&(f=h?Ns:void 0);let g=h?AF(f,i):d===i?f:void 0;if(c&&!AS(g)&&(g=AF(l,i)),AS(g)&&(a=g,s))return a;let m=e[r+1];r=s?Ap(m):Km(m)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=AF(l,i))}return a}function AS(e){return e!==void 0}function Vme(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ca(Jc(e)))),e}function hU(e,t){return(e.flags&(t?8:16))!==0}function fU(e,t,n){let i=wn(),r=iU(i,e,t,n);lU(BS,sU,r,!0)}function ao(e,t){Bw("NgControlFlow");let n=wn(),i=Jm(),r=n[i]!==ed?n[i]:-1,o=r!==-1?f7(n,vo+r):void 0,s=0;if(ml(n,i,e)){let a=Fn(null);try{if(o!==void 0&&rge(o,s),e!==-1){let l=vo+e,c=f7(n,l),d=Hme(n[vn],l),h=TS(c,d.tView.ssrId),f=Rk(n,d,t,{dehydratedView:h});Pk(c,f,s,ES(d,h))}}finally{Fn(a)}}else if(o!==void 0){let a=ige(o,s);a!==void 0&&(a[Bs]=t)}}function f7(e,t){return e[t]}function Hme(e,t){return QA(e,t)}function He(e,t,n,i){let r=wn(),o=lr(),s=vo+e,a=r[ar],l=o.firstCreatePass?Pz(s,o,r,t,Sk,nk(),n,i):o.data[s],c=Gme(o,r,l,a,t,e);r[s]=c;let d=zS(l);return Lh(l,!0),hz(a,c,l),!Ik(l)&&$S()&&JS(o,r,c,l),(Ehe()===0||d)&&n0(c,r),Dhe(),d&&(QS(o,r,l),mk(o,l,r)),i!==null&&_k(r,l),He}function Ke(){let e=as();ik()?rk():(e=e.parent,Lh(e,!1));let t=e;The(t)&&Ihe(),Rhe();let n=lr();return n.firstCreatePass&&Oz(n,t),t.classesWithoutHost!=null&&Uhe(t)&&BA(n,t,wn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Whe(t)&&BA(n,t,wn(),t.stylesWithoutHost,!1),Ke}function Ct(e,t,n,i){return He(e,t,n,i),Ke(),Ct}var Gme=(e,t,n,i,r,o)=>(qS(!0),dz(i,r,Hhe()));function zme(e,t,n,i,r){let o=t.consts,s=jm(o,i),a=r0(t,e,8,"ng-container",s);s!==null&&EA(a,s,!0);let l=jm(o,r);return nk()&&Ok(t,n,a,l,Sk),a.mergedAttrs=$m(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function pU(e,t,n){let i=wn(),r=lr(),o=e+vo,s=r.firstCreatePass?zme(o,r,i,t,n):r.data[o];Lh(s,!0);let a=Ume(r,i,s,e);return i[o]=a,$S()&&JS(r,i,a,s),n0(a,i),zS(s)&&(QS(r,i,s),mk(r,s,i)),n!=null&&_k(i,s),pU}function gU(){let e=as(),t=lr();return ik()?rk():(e=e.parent,Lh(e,!1)),t.firstCreatePass&&(ck(t,e),ZA(e)&&t.queries.elementEnd(e)),gU}function zk(e,t,n){return pU(e,t,n),gU(),zk}var Ume=(e,t,n,i)=>(qS(!0),dpe(t[ar],""));function wo(){return wn()}function Gw(e,t,n){let i=wn(),r=Jm();if(ml(i,r,t)){let o=lr(),s=jS();xk(o,s,i,e,t,i[ar],n,!0)}return Gw}var kS="en-US";var Wme=kS;function jme(e){typeof e=="string"&&(Wme=e.toLowerCase().replace(/_/g,"-"))}function p7(e,t,n){return function i(r){if(r===Function)return n;let o=Zm(e)?Xc(e.index,t):t;kk(o,5);let s=t[Bs],a=g7(t,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=g7(t,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function g7(e,t,n,i){let r=Fn(null);try{return bi(6,t,n),n(i)!==!1}catch(o){return $me(e,o),!1}finally{bi(7,t,n),Fn(r)}}function $me(e,t){let n=e[Um],i=n?n.get(Vs,null):null;i&&i.handleError(t)}function m7(e,t,n,i,r,o){let s=t[n],a=t[vn],c=a.data[n].outputs[i],d=s[c],h=a.firstCreatePass?tk(a):null,f=ek(t),g=d.subscribe(o),m=f.length;f.push(o,g),h&&h.push(r,e.index,m,-(m+1))}var qme=(e,t,n)=>{};function en(e,t,n,i){let r=wn(),o=lr(),s=as();return mU(o,r,r[ar],s,e,t,i),en}function Kme(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[fS],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function mU(e,t,n,i,r,o,s){let a=zS(i),c=e.firstCreatePass?tk(e):null,d=ek(t),h=!0;if(i.type&3||s){let f=Zc(i,t),g=s?s(f):f,m=d.length,v=s?y=>s(Kc(y[i.index])):i.index,C=null;if(!s&&a&&(C=Kme(e,t,r,i.index)),C!==null){let y=C.__ngLastListenerFn__||C;y.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=p7(i,t,o),qme(g,r,o);let y=n.listen(g,r,o);d.push(o,y),c&&c.push(r,v,m,m+1)}}else o=p7(i,t,o);if(h){let f=i.outputs?.[r],g=i.hostDirectiveOutputs?.[r];if(g&&g.length)for(let m=0;m<g.length;m+=2){let v=g[m],C=g[m+1];m7(i,t,v,C,r,o)}if(f&&f.length)for(let m of f)m7(i,t,m,r,r,o)}}function jn(e=1){return Bhe(e)}function Xme(e,t){let n=null,i=tpe(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?cz(e,o,!0):rpe(i,o))return r}return n}function Go(e){let t=wn()[gl][ha];if(!t.projection){let n=e?e.length:1,i=t.projection=the(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?Xme(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function _i(e,t=0,n,i,r,o){let s=wn(),a=lr(),l=i?e+1:null;l!==null&&Qz(s,a,l,i,r,o,null,n);let c=r0(a,vo+e,16,null,n||null);c.projection===null&&(c.projection=t),rk();let h=!s[Sw]||nG();s[gl][ha].projection[c.projection]===null&&l!==null?Yme(s,a,l):h&&!Ik(c)&&Gpe(a,s,c)}function Yme(e,t,n){let i=vo+n,r=t.data[i],o=e[i],s=TS(o,r.tView.ssrId),a=Rk(e,r,void 0,{dehydratedView:s});Pk(o,a,0,ES(r,s))}function vl(e,t,n,i){Hz(e,t,n,i)}function wr(e,t,n){Wge(e,t,n)}function ni(e){let t=wn(),n=lr(),i=ok();WS(i+1);let r=Nk(n,i);if(e.dirty&&yhe(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=zz(t,i);e.reset(o,AG),e.notifyOnChanges()}return!0}return!1}function ii(){return Lk(wn(),ok())}function vU(e,t,n,i,r){Xge(t,Hz(e,n,i,r))}function CU(e=1){WS(ok()+e)}function wU(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function Gs(e){let t=Fhe();return Q7(t,vo+e)}function Pn(e,t=""){let n=wn(),i=lr(),r=e+vo,o=i.firstCreatePass?r0(i,r,1,t,null):i.data[r],s=Zme(i,n,o,t,e);n[r]=s,$S()&&JS(i,n,s,o),Lh(o,!1)}var Zme=(e,t,n,i,r)=>(qS(!0),lpe(t[ar],i));function yo(e){return zw("",e,""),yo}function zw(e,t,n){let i=wn(),r=iU(i,e,t,n);return r!==ed&&Qme(i,kp(),r),zw}function Qme(e,t,n){let i=Z7(t,e);cpe(e[ar],i,n)}function Uk(e,t,n){kG(t)&&(t=t());let i=wn(),r=Jm();if(ml(i,r,t)){let o=lr(),s=jS();xk(o,s,i,e,t,i[ar],n,!1)}return Uk}function yU(e,t){let n=kG(e);return n&&e.set(t),n}function Wk(e,t){let n=wn(),i=lr(),r=as();return mU(i,n,n[ar],r,e,t),Wk}var Jme={};function jk(e){let t=lr(),n=wn(),i=e+vo,r=r0(t,i,128,null,null);return Lh(r,!1),wU(t,n,i,Jme),jk}function e0e(e,t,n){let i=lr();if(i.firstCreatePass){let r=qc(e);VA(n,i.data,i.blueprint,r,!0),VA(t,i.data,i.blueprint,r,!1)}}function VA(e,t,n,i,r){if(e=Ho(e),Array.isArray(e))for(let o=0;o<e.length;o++)VA(e[o],t,n,i,r);else{let o=lr(),s=wn(),a=as(),l=zm(e)?e:Ho(e.provide),c=z7(e),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(zm(e)||!e.multi){let g=new Mp(c,r,We),m=WF(l,t,r?d:d+f,h);m===-1?(iA(yS(a,s),o,l),UF(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[m]=g,s[m]=g)}else{let g=WF(l,t,d+f,h),m=WF(l,t,d,d+f),v=g>=0&&n[g],C=m>=0&&n[m];if(r&&!C||!r&&!v){iA(yS(a,s),o,l);let y=i0e(r?n0e:t0e,n.length,r,i,c);!r&&C&&(n[m].providerFactory=y),UF(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=bU(n[r?m:g],c,!r&&i);UF(o,e,g>-1?g:m,y)}!r&&i&&C&&n[m].componentProviders++}}}function UF(e,t,n,i){let r=zm(t),o=che(t);if(r||o){let l=(o?Ho(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let d=c.indexOf(n);d===-1?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function bU(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function WF(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function t0e(e,t,n,i){return HA(this.multi,[])}function n0e(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Dw(n,n[vn],this.providerFactory.index,i);o=a.slice(0,s),HA(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],HA(r,o);return o}function HA(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function i0e(e,t,n,i,r){let o=new Mp(e,n,We);return o.multi=[],o.index=t,o.componentProviders=0,bU(o,r,i&&!n),o}function mi(e,t=[]){return n=>{n.providersResolver=(i,r)=>e0e(i,r?r(e):e,t)}}function _U(e,t,n,i,r,o){return o0e(wn(),oG(),e,t,n,i,r,o)}function xU(e,t){let n=e[t];return n===ed?void 0:n}function r0e(e,t,n,i,r,o){let s=t+n;return ml(e,s,r)?Zz(e,s+1,o?i.call(o,r):i(r)):xU(e,s+1)}function o0e(e,t,n,i,r,o,s,a){let l=t+n;return pme(e,l,r,o,s)?Zz(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):xU(e,l+3)}function rE(e,t){let n=lr(),i,r=e+vo;n.firstCreatePass?(i=s0e(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=xp(i.type,!0)),s,a=la(We);try{let l=wS(!1),c=o();return wS(l),wU(n,wn(),r,c),c}finally{la(a)}}function s0e(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function oE(e,t,n){let i=e+vo,r=wn(),o=Q7(r,i);return a0e(r,i)?r0e(r,oG(),t,o.transform,n,o):o.transform(n)}function a0e(e,t){return e[vn].data[t].pure}function Hh(e,t){return tE(e,t)}var Mw=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$k=new Mw("19.2.5"),GA=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},SU=(()=>{class e{compileModuleSync(n){return new kA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=N7(n),o=az(r.declarations).reduce((s,a)=>{let l=Sp(a);return l&&s.push(new qm(l)),s},[]);return new GA(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var l0e=(()=>{class e{zone=A(pt);changeDetectionScheduler=A(Fp);applicationRef=A(Ha);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),c0e=new xe("",{factory:()=>!1});function EU({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new pt(De(V({},RU()),{scheduleInRootZone:n})),[{provide:pt,useFactory:e},{provide:Gm,multi:!0,useFactory:()=>{let i=A(l0e,{optional:!0});return()=>i.initialize()}},{provide:Gm,multi:!0,useFactory:()=>{let i=A(d0e);return()=>{i.initialize()}}},t===!0?{provide:RG,useValue:!0}:[],{provide:TG,useValue:n??DG}]}function DU(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,i=EU({ngZoneFactory:()=>{let r=RU(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Bw("NgZone_CoalesceEvent"),new pt(r)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Xm([{provide:c0e,useValue:!0},{provide:KS,useValue:!1},i])}function RU(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var d0e=(()=>{class e{subscription=new Nn;initialized=!1;zone=A(pt);pendingTasks=A(Nh);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u0e=(()=>{class e{appRef=A(Ha);taskService=A(Nh);ngZone=A(pt);zonelessEnabled=A(KS);tracing=A(i0,{optional:!0});disableScheduling=A(RG,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Nn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xS):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(TG,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof aA||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?UH:IG;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xS+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UH(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function h0e(){return typeof $localize<"u"&&$localize.locale||kS}var qk=new xe("",{providedIn:"root",factory:()=>A(qk,Rn.Optional|Rn.SkipSelf)||h0e()});var zA=new xe(""),f0e=new xe("");function ww(e){return!e.moduleRef}function p0e(e){let t=ww(e)?e.r3Injector:e.moduleRef.injector,n=t.get(pt);return n.run(()=>{ww(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Vs,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),ww(e)){let o=()=>t.destroy(),s=e.platformInjector.get(zA);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(zA);s.add(o),e.moduleRef.onDestroy(()=>{sS(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return m0e(i,n,()=>{let o=t.get(nU);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(qk,kS);if(jme(s||kS),!t.get(f0e,!0))return ww(e)?t.get(Ha):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ww(e)){let l=t.get(Ha);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return g0e(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function g0e(e,t){let n=e.injector.get(Ha);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new ht(-403,!1);t.push(e)}function m0e(e,t,n){try{let i=n();return Vh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var aS=null;function v0e(e=[],t){return Tn.create({name:t,providers:[{provide:VS,useValue:"platform"},{provide:zA,useValue:new Set([()=>aS=null])},...e]})}function C0e(e=[]){if(aS)return aS;let t=v0e(e);return aS=t,Cme(),w0e(t),t}function w0e(e){let t=e.get(fk,null);Ga(e,()=>{t?.forEach(n=>n())})}var Mi=(()=>{class e{static __NG_ELEMENT_ID__=y0e}return e})();function y0e(e){return b0e(as(),wn(),(e&16)===16)}function b0e(e,t,n){if(Zm(e)&&!n){let i=Xc(e.index,t);return new Tw(i,i)}else if(e.type&175){let i=t[gl];return new Tw(i,t)}return null}var UA=class{constructor(){}supports(t){return Yz(t)}create(t){return new WA(t)}},_0e=(e,t)=>t,WA=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||_0e}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<v7(i,r,o)?n:i,a=v7(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let f=0;f<c;f++){let g=f<o.length?o[f]:o[f]=0,m=g+f;d<=m&&m<c&&(o[f]=g+1)}let h=s.previousIndex;o[h]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Yz(t))throw new ht(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,ume(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new jA(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new PS),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new PS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},jA=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},$A=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},PS=class{map=new Map;put(t){let n=t.trackById,i=this.map.get(n);i||(i=new $A,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function v7(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function C7(){return new sE([new UA])}var sE=(()=>{class e{factories;static \u0275prov=Ce({token:e,providedIn:"root",factory:C7});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||C7()),deps:[[e,new k7,new NS]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new ht(901,!1)}}return e})();function TU(e){bi(8);try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=C0e(i),o=[EU({}),{provide:Fp,useExisting:u0e},...n||[]],s=new FS({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return p0e({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{bi(9)}}function ue(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function aE(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function zs(e){return vF(e)}function td(e,t){return w1(e,t?.equal)}var qA=class{[sa];constructor(t){this[sa]=t}destroy(){this[sa].destroy()}};function Gh(e,t){!t?.injector&&Pw(Gh);let n=t?.injector??A(Tn),i=t?.manualCleanup!==!0?n.get(Zi):null,r,o=n.get(gk,null,{optional:!0}),s=n.get(Fp);return o!==null&&!t?.forceRoot?(r=E0e(o.view,s,e),i instanceof _S&&i._lView===o.view&&(i=null)):r=D0e(e,n.get(eU),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new qA(r)}var IU=De(V({},bm),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Rw,run(){if(this.dirty=!1,this.hasRun&&!m1(this))return;this.hasRun=!0;let e=i=>(this.cleanupFns??=[]).push(i),t=lw(this),n=mS(!1);try{this.maybeCleanup(),this.fn(e)}finally{mS(n),g1(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),x0e=De(V({},IU),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){cw(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),S0e=De(V({},IU),{consumerMarkedDirty(){this.view[sn]|=8192,Qm(this.view),this.notifier.notify(13)},destroy(){cw(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Dp]?.delete(this)}});function E0e(e,t,n){let i=Object.create(S0e);return i.view=e,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=t,i.fn=n,e[Dp]??=new Set,e[Dp].add(i),i.consumerMarkedDirty(i),i}function D0e(e,t,n){let i=Object.create(x0e);return i.fn=e,i.scheduler=t,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function lE(e,t){let n=Sp(e),i=t.elementInjector||HS();return new qm(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}var Lt=new xe("");var AU=null;function Cl(){return AU}function Kk(e){AU??=e}var Uw=class{},Xk=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>A(kU),providedIn:"platform"})}return e})();var kU=(()=>{class e extends Xk{_location;_history;_doc=A(Lt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cl().getBaseHref(this._doc)}onPopState(n){let i=Cl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Cl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function PU(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function MU(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function zh(e){return e&&e[0]!=="?"?`?${e}`:e}var cE=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>A(LU),providedIn:"root"})}return e})(),OU=new xe(""),LU=(()=>{class e extends cE{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??A(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return PU(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+zh(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+zh(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+zh(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(lt(Xk),lt(OU,8))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uh=(()=>{class e{_subject=new ut;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=I0e(MU(FU(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+zh(i))}normalize(n){return e.stripTrailingSlash(T0e(this._basePath,FU(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zh(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zh(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=zh;static joinWithSlash=PU;static stripTrailingSlash=MU;static \u0275fac=function(i){return new(i||e)(lt(cE))};static \u0275prov=Ce({token:e,factory:()=>R0e(),providedIn:"root"})}return e})();function R0e(){return new Uh(lt(cE))}function T0e(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function FU(e){return e.replace(/\/index.html$/,"")}function I0e(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Yk=/\s+/,NU=[],o0=(()=>{class e{_ngEl;_renderer;initialClasses=NU;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(Yk):NU}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Yk):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(Yk).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(We(Mt),We(Kr))};static \u0275dir=Bt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var dE=class{$implicit;ngForOf;index;count;constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nd=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new dE(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),BU(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);BU(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(We(Lr),We(ua),We(sE))};static \u0275dir=Bt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function BU(e,t){e.context.$implicit=t.item}var za=(()=>{class e{_viewContainer;_context=new uE;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VU(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VU(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(We(Lr),We(ua))};static \u0275dir=Bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),uE=class{$implicit=null;ngIf=null};function VU(e,t){if(e&&!e.createEmbeddedView)throw new ht(2020,!1)}var Jk=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||e)(We(Lr))};static \u0275dir=Bt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Hs]})}return e})();function M0e(e,t){return new ht(2100,!1)}var Zk=class{createSubscription(t,n){return zs(()=>t.subscribe({next:n,error:i=>{throw i}}))}dispose(t){zs(()=>t.unsubscribe())}},Qk=class{createSubscription(t,n){return t.then(n,i=>{throw i})}dispose(t){}},F0e=new Qk,A0e=new Zk,Ww=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Vh(n))return F0e;if(Hk(n))return A0e;throw M0e(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||e)(We(Mi,16))};static \u0275pipe=jz({name:"async",type:e,pure:!1})}return e})();var Zn=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({})}return e})();function jw(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var hE="browser",HU="server";function eP(e){return e===hE}function fE(e){return e===HU}var Op=class{};var mE=new xe(""),rP=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new ht(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(lt(mE),lt(pt))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),$w=class{_doc;constructor(t){this._doc=t}manager},pE="ng-app-id";function GU(e){for(let t of e)t.remove()}function zU(e,t){let n=t.createElement("style");return n.textContent=e,n}function k0e(e,t,n,i){let r=e.head?.querySelectorAll(`style[${pE}="${t}"],link[${pE}="${t}"]`);if(r)for(let o of r)o.removeAttribute(pE),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function nP(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var oP=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=fE(o),k0e(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,zU);i?.forEach(r=>this.addUsage(r,this.external,nP))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(GU(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])GU(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,zU(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,nP(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(pE,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(lt(Lt),lt(Pp),lt(Nw,8),lt(mu))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),tP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sP=/%COMP%/g;var WU="%COMP%",P0e=`_nghost-${WU}`,O0e=`_ngcontent-${WU}`,L0e=!0,N0e=new xe("",{providedIn:"root",factory:()=>L0e});function B0e(e){return O0e.replace(sP,e)}function V0e(e){return P0e.replace(sP,e)}function jU(e,t){return t.map(n=>n.replace(sP,e))}var aP=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=fE(a),this.defaultRenderer=new qw(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yc.ShadowDom&&(i=De(V({},i),{encapsulation:Yc.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof gE?r.applyToHost(n):r instanceof Kw&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case Yc.Emulated:o=new gE(l,c,i,this.appId,d,s,a,h,f);break;case Yc.ShadowDom:return new iP(l,c,n,i,s,a,this.nonce,h,f);default:o=new Kw(l,c,i,d,s,a,h,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(lt(rP),lt(oP),lt(Pp),lt(N0e),lt(Lt),lt(mu),lt(pt),lt(Nw),lt(i0,8))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),qw=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(tP[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(UU(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(UU(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new ht(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=tP[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=tP[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(hu.DashCase|hu.Important)?t.style.setProperty(n,i,r&hu.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&hu.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=Cl().getGlobalEventTarget(this.doc,t),!t))throw new ht(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function UU(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var iP=class extends qw{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=jU(r.id,d);for(let f of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let f of h){let g=nP(f,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kw=class extends qw{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?jU(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gE=class extends Kw{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,l,c){let d=r+"-"+i.id;super(t,n,i,o,s,a,l,c,d),this.contentAttr=B0e(d),this.hostAttr=V0e(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var lP=class extends Uw{supportsDOMEvents=!0},vE=class e extends lP{static makeCurrent(){Kk(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=H0e();return n==null?null:G0e(n)}resetBaseElement(){Xw=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jw(document.cookie,t)}},Xw=null;function H0e(){return Xw=Xw||document.querySelector("base"),Xw?Xw.getAttribute("href"):null}function G0e(e){return new URL(e,document.baseURI).pathname}var z0e=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),qU=(()=>{class e extends $w{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(lt(Lt))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),$U=["alt","control","meta","shift"],U0e={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W0e={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},KU=(()=>{class e extends $w{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cl().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),$U.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=U0e[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),$U.forEach(s=>{if(s!==r){let a=W0e[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(lt(Lt))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function cP(e,t){return TU(V({rootComponent:e},j0e(t)))}function j0e(e){return{appProviders:[...Y0e,...e?.providers??[]],platformProviders:X0e}}function $0e(){vE.makeCurrent()}function q0e(){return new Vs}function K0e(){return HG(document),document}var X0e=[{provide:mu,useValue:hE},{provide:fk,useValue:$0e,multi:!0},{provide:Lt,useFactory:K0e}];var Y0e=[{provide:VS,useValue:"root"},{provide:Vs,useFactory:q0e},{provide:mE,useClass:qU,multi:!0,deps:[Lt]},{provide:mE,useClass:KU,multi:!0,deps:[Lt]},aP,oP,rP,{provide:so,useExisting:aP},{provide:Op,useClass:z0e},[]];var a0=class{},l0=class{},rd=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=n.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var yE=class{encodeKey(t){return XU(t)}encodeValue(t){return XU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Z0e(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var Q0e=/%(\d[a-f0-9])/gi,J0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XU(e){return encodeURIComponent(e).replace(Q0e,(t,n)=>J0e[n]??t)}function CE(e){return`${e}`}var wu=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new yE,t.fromString){if(t.fromObject)throw new ht(2805,!1);this.map=Z0e(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(CE):[CE(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(CE(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(CE(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var bE=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function eve(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function YU(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ZU(e){return typeof Blob<"u"&&e instanceof Blob}function QU(e){return typeof FormData<"u"&&e instanceof FormData}function tve(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Yw="Content-Type",_E="Accept",pP="X-Request-URL",e9="text/plain",t9="application/json",n9=`${t9}, ${e9}, */*`,s0=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,i,r){this.url=n,this.method=t.toUpperCase();let o;if(eve(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new rd,this.context??=new bE,!this.params)this.params=new wu,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||YU(this.body)||ZU(this.body)||QU(this.body)||tve(this.body)?this.body:this.body instanceof wu?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||QU(this.body)?null:ZU(this.body)?this.body.type||null:YU(this.body)?null:typeof this.body=="string"?e9:this.body instanceof wu?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?t9:null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,g)=>f.set(g,t.setHeaders[g]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,g)=>f.set(g,t.setParams[g]),d)),new e(n,i,s,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},yu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(yu||{}),c0=class{headers;status;statusText;url;ok;type;constructor(t,n=200,i="OK"){this.headers=t.headers||new rd,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Zw=class e extends c0{constructor(t={}){super(t)}type=yu.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},d0=class e extends c0{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=yu.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Cu=class extends c0{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},i9=200,nve=204;function dP(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var u0=(()=>{class e{handler;constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof s0)o=n;else{let l;r.headers instanceof rd?l=r.headers:l=new rd(r.headers);let c;r.params&&(r.params instanceof wu?c=r.params:c=new wu({fromObject:r.params})),o=new s0(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=bt(o).pipe(Ih(l=>this.handler.handle(l)));if(n instanceof s0||r.observe==="events")return s;let a=s.pipe(un(l=>l instanceof d0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Tt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ht(2806,!1);return l.body}));case"blob":return a.pipe(Tt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ht(2807,!1);return l.body}));case"text":return a.pipe(Tt(l=>{if(l.body!==null&&typeof l.body!="string")throw new ht(2808,!1);return l.body}));case"json":default:return a.pipe(Tt(l=>l.body))}case"response":return a;default:throw new ht(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new wu().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,dP(r,i))}post(n,i,r={}){return this.request("POST",n,dP(r,i))}put(n,i,r={}){return this.request("PUT",n,dP(r,i))}static \u0275fac=function(i){return new(i||e)(lt(a0))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),ive=/^\)\]\}',?\n/;function JU(e){if(e.url)return e.url;let t=pP.toLocaleLowerCase();return e.headers.get(t)}var r9=new xe(""),wE=(()=>{class e{fetchImpl=A(uP,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=A(pt);handle(n){return new Nt(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(hP,o=>i.error(new Cu({error:o}))),()=>r.abort()})}doRequest(n,i,r){return Pr(this,null,function*(){let o=this.createRequestInit(n),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,V({signal:i},o)));rve(g),r.next({type:yu.Sent}),s=yield g}catch(g){r.error(new Cu({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let a=new rd(s.headers),l=s.statusText,c=JU(s)??n.urlWithParams,d=s.status,h=null;if(n.reportProgress&&r.next(new Zw({headers:a,status:d,statusText:l,url:c})),s.body){let g=s.headers.get("content-length"),m=[],v=s.body.getReader(),C=0,y,x,_=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Pr(this,null,function*(){for(;;){let{done:I,value:F}=yield v.read();if(I)break;if(m.push(F),C+=F.length,n.reportProgress){x=n.responseType==="text"?(x??"")+(y??=new TextDecoder).decode(F,{stream:!0}):void 0;let T=()=>r.next({type:yu.DownloadProgress,total:g?+g:void 0,loaded:C,partialText:x});_?_.run(T):T()}}}));let R=this.concatChunks(m,C);try{let I=s.headers.get(Yw)??"";h=this.parseBody(n,R,I)}catch(I){r.error(new Cu({error:I,headers:new rd(s.headers),status:s.status,statusText:s.statusText,url:JU(s)??n.urlWithParams}));return}}d===0&&(d=h?i9:0),d>=200&&d<300?(r.next(new d0({body:h,headers:a,status:d,statusText:l,url:c})),r.complete()):r.error(new Cu({error:h,headers:a,status:d,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(ive,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has(_E)||(i[_E]=n9),!n.headers.has(Yw)){let o=n.detectContentTypeHeader();o!==null&&(i[Yw]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),uP=class{};function hP(){}function rve(e){e.then(hP,hP)}function ove(e,t){return t(e)}function sve(e,t,n){return(i,r)=>Ga(n,()=>t(i,o=>e(o,r)))}var o9=new xe(""),s9=new xe(""),a9=new xe("",{providedIn:"root",factory:()=>!0});var xE=(()=>{class e extends a0{backend;injector;chain=null;pendingTasks=A(Nh);contributeToStability=A(a9);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(o9),...this.injector.get(s9,[])]));this.chain=i.reduceRight((r,o)=>sve(r,o,this.injector),ove)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(rc(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(lt(l0),lt(qr))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();var ave=/^\)\]\}',?\n/,lve=RegExp(`^${pP}:`,"m");function cve(e){return"responseURL"in e&&e.responseURL?e.responseURL:lve.test(e.getAllResponseHeaders())?e.getResponseHeader(pP):null}var fP=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ht(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Bi(i.\u0275loadImpl()):bt(null)).pipe(Vo(()=>new Nt(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,C)=>s.setRequestHeader(v,C.join(","))),n.headers.has(_E)||s.setRequestHeader(_E,n9),!n.headers.has(Yw)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(Yw,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",C=new rd(s.getAllResponseHeaders()),y=cve(s)||n.url;return l=new Zw({headers:C,status:s.status,statusText:v,url:y}),l},d=()=>{let{headers:v,status:C,statusText:y,url:x}=c(),_=null;C!==nve&&(_=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=_?i9:0);let R=C>=200&&C<300;if(n.responseType==="json"&&typeof _=="string"){let I=_;_=_.replace(ave,"");try{_=_!==""?JSON.parse(_):null}catch(F){_=I,R&&(R=!1,_={error:F,text:_})}}R?(o.next(new d0({body:_,headers:v,status:C,statusText:y,url:x||void 0})),o.complete()):o.error(new Cu({error:_,headers:v,status:C,statusText:y,url:x||void 0}))},h=v=>{let{url:C}=c(),y=new Cu({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(y)},f=!1,g=v=>{f||(o.next(c()),f=!0);let C={type:yu.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},m=v=>{let C={type:yu.UploadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),o.next(C)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:yu.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||e)(lt(Op))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})(),l9=new xe(""),dve="XSRF-TOKEN",uve=new xe("",{providedIn:"root",factory:()=>dve}),hve="X-XSRF-TOKEN",fve=new xe("",{providedIn:"root",factory:()=>hve}),Qw=class{},pve=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=jw(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||e)(lt(Lt),lt(mu),lt(uve))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})}return e})();function gve(e,t){let n=e.url.toLowerCase();if(!A(l9)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=A(Qw).getToken(),r=A(fve);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var gP=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(gP||{});function mve(e,t){return{\u0275kind:e,\u0275providers:t}}function mP(...e){let t=[u0,fP,xE,{provide:a0,useExisting:xE},{provide:l0,useFactory:()=>A(r9,{optional:!0})??A(fP)},{provide:o9,useValue:gve,multi:!0},{provide:l9,useValue:!0},{provide:Qw,useClass:pve}];for(let n of e)t.push(...n.\u0275providers);return Xm(t)}function vP(){return mve(gP.Fetch,[wE,{provide:r9,useExisting:wE},{provide:l0,useExisting:wE}])}var d9=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(lt(Lt))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jw=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=lt(vve),r},providedIn:"root"})}return e})(),vve=(()=>{class e extends Jw{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case ls.NONE:return i;case ls.HTML:return Bh(i,"HTML")?Jc(i):vk(this._doc,String(i)).toString();case ls.STYLE:return Bh(i,"Style")?Jc(i):i;case ls.SCRIPT:if(Bh(i,"Script"))return Jc(i);throw new ht(5200,!1);case ls.URL:return Bh(i,"URL")?Jc(i):YS(String(i));case ls.RESOURCE_URL:if(Bh(i,"ResourceURL"))return Jc(i);throw new ht(5201,!1);default:throw new ht(5202,!1)}}bypassSecurityTrustHtml(n){return qG(n)}bypassSecurityTrustStyle(n){return KG(n)}bypassSecurityTrustScript(n){return XG(n)}bypassSecurityTrustUrl(n){return YG(n)}bypassSecurityTrustResourceUrl(n){return ZG(n)}static \u0275fac=function(i){return new(i||e)(lt(Lt))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var pn="primary",fy=Symbol("RouteTitle"),_P=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bp(e){return new _P(e)}function w9(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Cve(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!od(e[n],t[n]))return!1;return!0}function od(e,t){let n=e?xP(e):void 0,i=t?xP(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!y9(e[r],t[r]))return!1;return!0}function xP(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function y9(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function b9(e){return e.length>0?e[e.length-1]:null}function jh(e){return U1(e)?e:Vh(e)?Bi(Promise.resolve(e)):bt(e)}var wve={exact:x9,subset:S9},_9={exact:yve,subset:bve,ignored:()=>!0};function h9(e,t,n){return wve[n.paths](e.root,t.root,n.matrixParams)&&_9[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function yve(e,t){return od(e,t)}function x9(e,t,n){if(!Lp(e.segments,t.segments)||!DE(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!x9(e.children[i],t.children[i],n))return!1;return!0}function bve(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>y9(e[n],t[n]))}function S9(e,t,n){return E9(e,t,t.segments,n)}function E9(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Lp(r,n)||t.hasChildren()||!DE(r,n,i))}else if(e.segments.length===n.length){if(!Lp(e.segments,n)||!DE(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!S9(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Lp(e.segments,r)||!DE(e.segments,r,i)||!e.children[pn]?!1:E9(e.children[pn],t,o,i)}}function DE(e,t,n){return t.every((i,r)=>_9[n](e[r].parameters,i.parameters))}var ad=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ri([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Bp(this.queryParams),this._queryParamMap}toString(){return Sve.serialize(this)}},ri=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return RE(this)}},Wh=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Bp(this.parameters),this._parameterMap}toString(){return R9(this)}};function _ve(e,t){return Lp(e,t)&&e.every((n,i)=>od(n.parameters,t[i].parameters))}function Lp(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function xve(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===pn&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==pn&&(n=n.concat(t(r,i)))}),n}var py=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>new Vp,providedIn:"root"})}return e})(),Vp=class{parse(t){let n=new EP(t);return new ad(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ey(t.root,!0)}`,i=Rve(t.queryParams),r=typeof t.fragment=="string"?`#${Eve(t.fragment)}`:"";return`${n}${i}${r}`}},Sve=new Vp;function RE(e){return e.segments.map(t=>R9(t)).join("/")}function ey(e,t){if(!e.hasChildren())return RE(e);if(t){let n=e.children[pn]?ey(e.children[pn],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==pn&&i.push(`${r}:${ey(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=xve(e,(i,r)=>r===pn?[ey(e.children[pn],!1)]:[`${r}:${ey(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[pn]!=null?`${RE(e)}/${n[0]}`:`${RE(e)}/(${n.join("//")})`}}function D9(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function SE(e){return D9(e).replace(/%3B/gi,";")}function Eve(e){return encodeURI(e)}function SP(e){return D9(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function TE(e){return decodeURIComponent(e)}function f9(e){return TE(e.replace(/\+/g,"%20"))}function R9(e){return`${SP(e.path)}${Dve(e.parameters)}`}function Dve(e){return Object.entries(e).map(([t,n])=>`;${SP(t)}=${SP(n)}`).join("")}function Rve(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${SE(n)}=${SE(r)}`).join("&"):`${SE(n)}=${SE(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Tve=/^[^\/()?;#]+/;function CP(e){let t=e.match(Tve);return t?t[0]:""}var Ive=/^[^\/()?;=#]+/;function Mve(e){let t=e.match(Ive);return t?t[0]:""}var Fve=/^[^=?&#]+/;function Ave(e){let t=e.match(Fve);return t?t[0]:""}var kve=/^[^&#]+/;function Pve(e){let t=e.match(kve);return t?t[0]:""}var EP=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ri([],{}):new ri([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[pn]=new ri(t,n)),i}parseSegment(){let t=CP(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ht(4009,!1);return this.capture(t),new Wh(TE(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=Mve(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=CP(this.remaining);r&&(i=r,this.capture(i))}t[TE(n)]=TE(i)}parseQueryParam(t){let n=Ave(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=Pve(this.remaining);s&&(i=s,this.capture(i))}let r=f9(n),o=f9(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=CP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ht(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pn);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pn]:new ri([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ht(4011,!1)}};function T9(e){return e.segments.length>0?new ri([],{[pn]:e}):e}function I9(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=I9(r);if(i===pn&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new ri(e.segments,t);return Ove(n)}function Ove(e){if(e.numberOfChildren===1&&e.children[pn]){let t=e.children[pn];return new ri(e.segments.concat(t.segments),t.children)}return e}function m0(e){return e instanceof ad}function M9(e,t,n=null,i=null){let r=F9(e);return A9(r,t,n,i)}function F9(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ri(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=T9(i);return t??r}function A9(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return wP(r,r,r,n,i);let o=Lve(t);if(o.toRoot())return wP(r,r,new ri([],{}),n,i);let s=Nve(o,r,e),a=s.processChildren?ny(s.segmentGroup,s.index,o.commands):P9(s.segmentGroup,s.index,o.commands);return wP(r,s.segmentGroup,a,n,i)}function ME(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ry(e){return typeof e=="object"&&e!=null&&e.outlets}function wP(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=n:s=k9(e,t,n);let a=T9(I9(s));return new ad(a,o,r)}function k9(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=k9(o,t,n)}),new ri(e.segments,i)}var FE=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ME(i[0]))throw new ht(4003,!1);let r=i.find(ry);if(r&&r!==b9(i))throw new ht(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Lve(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new FE(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new FE(n,t,i)}var p0=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function Nve(e,t,n){if(e.isAbsolute)return new p0(t,!0,0);if(!n)return new p0(t,!1,NaN);if(n.parent===null)return new p0(n,!0,0);let i=ME(e.commands[0])?0:1,r=n.segments.length-1+i;return Bve(n,r,e.numberOfDoubleDots)}function Bve(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ht(4005,!1);r=i.segments.length}return new p0(i,!1,r-o)}function Vve(e){return ry(e[0])?e[0].outlets:{[pn]:e}}function P9(e,t,n){if(e??=new ri([],{}),e.segments.length===0&&e.hasChildren())return ny(e,t,n);let i=Hve(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ri(e.segments.slice(0,i.pathIndex),{});return o.children[pn]=new ri(e.segments.slice(i.pathIndex),e.children),ny(o,0,r)}else return i.match&&r.length===0?new ri(e.segments,{}):i.match&&!e.hasChildren()?DP(e,t,n):i.match?ny(e,0,r):DP(e,t,n)}function ny(e,t,n){if(n.length===0)return new ri(e.segments,{});{let i=Vve(n),r={};if(Object.keys(i).some(o=>o!==pn)&&e.children[pn]&&e.numberOfChildren===1&&e.children[pn].segments.length===0){let o=ny(e.children[pn],t,n);return new ri(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=P9(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ri(e.segments,r)}}function Hve(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(ry(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!g9(l,c,s))return o;i+=2}else{if(!g9(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function DP(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(ry(o)){let l=Gve(o.outlets);return new ri(i,l)}if(r===0&&ME(n[0])){let l=e.segments[t];i.push(new Wh(l.path,p9(n[0]))),r++;continue}let s=ry(o)?o.outlets[pn]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&ME(a)?(i.push(new Wh(s,p9(a))),r+=2):(i.push(new Wh(s,{})),r++)}return new ri(i,{})}function Gve(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=DP(new ri([],{}),0,i))}),t}function p9(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function g9(e,t,n){return e==n.path&&od(t,n.parameters)}var IE="imperative",bo=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(bo||{}),Wa=class{id;url;constructor(t,n){this.id=t,this.url=n}},Hp=class extends Wa{type=bo.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bu=class extends Wa{urlAfterRedirects;type=bo.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ga=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ga||{}),oy=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(oy||{}),sd=class extends Wa{reason;code;type=bo.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_u=class extends Wa{reason;code;type=bo.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},v0=class extends Wa{error;target;type=bo.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sy=class extends Wa{urlAfterRedirects;state;type=bo.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AE=class extends Wa{urlAfterRedirects;state;type=bo.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kE=class extends Wa{urlAfterRedirects;state;shouldActivate;type=bo.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},PE=class extends Wa{urlAfterRedirects;state;type=bo.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},OE=class extends Wa{urlAfterRedirects;state;type=bo.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LE=class{route;type=bo.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},NE=class{route;type=bo.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},BE=class{snapshot;type=bo.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},VE=class{snapshot;type=bo.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HE=class{snapshot;type=bo.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},GE=class{snapshot;type=bo.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ay=class{},C0=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function zve(e,t){return e.providers&&!e._injector&&(e._injector=iE(e.providers,t,`Route: ${e.path}`)),e._injector??t}function dc(e){return e.outlet||pn}function Uve(e,t){let n=e.filter(i=>dc(i)===t);return n.push(...e.filter(i=>dc(i)!==t)),n}function gy(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zE=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gy(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new b0(this.rootInjector)}},b0=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new zE(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(lt(qr))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UE=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=RP(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=RP(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=TP(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return TP(t,this._root).map(n=>n.value)}};function RP(e,t){if(e===t.value)return t;for(let n of t.children){let i=RP(e,n);if(i)return i}return null}function TP(e,t){if(e===t.value)return[t];for(let n of t.children){let i=TP(e,n);if(i.length)return i.unshift(t),i}return[]}var Ua=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function f0(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ly=class extends UE{snapshot;constructor(t,n){super(t),this.snapshot=n,LP(this,t)}toString(){return this.snapshot.toString()}};function O9(e){let t=Wve(e),n=new Yn([new Wh("",{})]),i=new Yn({}),r=new Yn({}),o=new Yn({}),s=new Yn(""),a=new ld(n,i,o,s,r,pn,e,t.root);return a.snapshot=t.root,new ly(new Ua(a,[]),t)}function Wve(e){let t={},n={},i={},r="",o=new Np([],t,i,r,n,pn,e,null,{});return new cy("",new Ua(o,[]))}var ld=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Tt(c=>c[fy]))??bt(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Tt(t=>Bp(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Tt(t=>Bp(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function WE(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:V(V({},t.params),e.params),data:V(V({},t.data),e.data),resolve:V(V(V(V({},e.data),t.data),r?.data),e._resolvedData)}:i={params:V({},e.params),data:V({},e.data),resolve:V(V({},e.data),e._resolvedData??{})},r&&N9(r)&&(i.resolve[fy]=r.title),i}var Np=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fy]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bp(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},cy=class extends UE{url;constructor(t,n){super(n),this.url=t,LP(this,n)}toString(){return L9(this._root)}};function LP(e,t){t.value._routerState=e,t.children.forEach(n=>LP(e,n))}function L9(e){let t=e.children.length>0?` { ${e.children.map(L9).join(", ")} } `:"";return`${e.value}${t}`}function yP(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,od(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),od(t.params,n.params)||e.paramsSubject.next(n.params),Cve(t.url,n.url)||e.urlSubject.next(n.url),od(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function IP(e,t){let n=od(e.params,t.params)&&_ve(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||IP(e.parent,t.parent))}function N9(e){return typeof e.title=="string"||e.title===null}var B9=new xe(""),my=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pn;activateEvents=new ye;deactivateEvents=new ye;attachEvents=new ye;detachEvents=new ye;routerOutletData=FG(void 0);parentContexts=A(b0);location=A(Lr);changeDetector=A(Mi);inputBinder=A(KE,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ht(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ht(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ht(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ht(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new MP(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Hs]})}return e})(),MP=class{route;childContexts;parent;outletData;constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===ld?this.route:t===b0?this.childContexts:t===B9?this.outletData:this.parent.get(t,n)}},KE=new xe("");function jve(e,t,n){let i=dy(e,t._root,n?n._root:void 0);return new ly(i,t)}function dy(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=$ve(e,t,n);return new Ua(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>dy(e,a)),s}}let i=qve(t.value),r=t.children.map(o=>dy(e,o));return new Ua(i,r)}}function $ve(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return dy(e,i,r);return dy(e,i)})}function qve(e){return new ld(new Yn(e.url),new Yn(e.params),new Yn(e.queryParams),new Yn(e.fragment),new Yn(e.data),e.outlet,e.component,e)}var w0=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},V9="ngNavigationCancelingError";function jE(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=m0(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=H9(!1,ga.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function H9(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[V9]=!0,n.cancellationCode=t,n}function Kve(e){return G9(e)&&m0(e.url)}function G9(e){return!!e&&e[V9]}var Xve=(e,t,n,i)=>Tt(r=>(new FP(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),FP=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),yP(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=f0(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=f0(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=f0(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=f0(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new GE(o.value.snapshot))}),t.children.length&&this.forwardEvent(new VE(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(yP(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yP(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},$E=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},g0=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Yve(e,t,n){let i=e._root,r=t?t._root:null;return ty(i,r,n,[i.value])}function Zve(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function _0(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!E7(e)?e:t.get(e):i}function ty(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=f0(t);return e.children.forEach(s=>{Qve(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>iy(a,n.getContext(s),r)),r}function Qve(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Jve(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new $E(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ty(e,t,a?a.children:null,i,r):ty(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new g0(a.outlet.component,s))}else s&&iy(t,a,r),r.canActivateChecks.push(new $E(i)),o.component?ty(e,null,a?a.children:null,i,r):ty(e,null,n,i,r);return r}function Jve(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Lp(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Lp(e.url,t.url)||!od(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IP(e,t)||!od(e.queryParams,t.queryParams);case"paramsChange":default:return!IP(e,t)}}function iy(e,t,n){let i=f0(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?iy(s,t.children.getContext(o),n):iy(s,null,n):iy(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new g0(t.outlet.component,r)):n.canDeactivateChecks.push(new g0(null,r)):n.canDeactivateChecks.push(new g0(null,r))}function vy(e){return typeof e=="function"}function eCe(e){return typeof e=="boolean"}function tCe(e){return e&&vy(e.canLoad)}function nCe(e){return e&&vy(e.canActivate)}function iCe(e){return e&&vy(e.canActivateChild)}function rCe(e){return e&&vy(e.canDeactivate)}function oCe(e){return e&&vy(e.canMatch)}function z9(e){return e instanceof au||e?.name==="EmptyError"}var EE=Symbol("INITIAL_VALUE");function y0(){return Vo(e=>Fm(e.map(t=>t.pipe(Cr(1),Bo(EE)))).pipe(Tt(t=>{for(let n of t)if(n!==!0){if(n===EE)return EE;if(n===!1||sCe(n))return n}return!0}),un(t=>t!==EE),Cr(1)))}function sCe(e){return m0(e)||e instanceof w0}function aCe(e,t){return Or(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?bt(De(V({},n),{guardsResult:!0})):lCe(s,i,r,e).pipe(Or(a=>a&&eCe(a)?cCe(i,o,e,t):bt(a)),Tt(a=>De(V({},n),{guardsResult:a})))})}function lCe(e,t,n,i){return Bi(e).pipe(Or(r=>pCe(r.component,r.route,n,t,i)),fl(r=>r!==!0,!0))}function cCe(e,t,n,i){return Bi(t).pipe(Ih(r=>Th(uCe(r.route.parent,i),dCe(r.route,i),fCe(e,r.path,n),hCe(e,r.route,n))),fl(r=>r!==!0,!0))}function dCe(e,t){return e!==null&&t&&t(new HE(e)),bt(!0)}function uCe(e,t){return e!==null&&t&&t(new BE(e)),bt(!0)}function hCe(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return bt(!0);let r=i.map(o=>Am(()=>{let s=gy(t)??n,a=_0(o,s),l=nCe(a)?a.canActivate(t,e):Ga(s,()=>a(t,e));return jh(l).pipe(fl())}));return bt(r).pipe(y0())}function fCe(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Zve(s)).filter(s=>s!==null).map(s=>Am(()=>{let a=s.guards.map(l=>{let c=gy(s.node)??n,d=_0(l,c),h=iCe(d)?d.canActivateChild(i,e):Ga(c,()=>d(i,e));return jh(h).pipe(fl())});return bt(a).pipe(y0())}));return bt(o).pipe(y0())}function pCe(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return bt(!0);let s=o.map(a=>{let l=gy(t)??r,c=_0(a,l),d=rCe(c)?c.canDeactivate(e,t,n,i):Ga(l,()=>c(e,t,n,i));return jh(d).pipe(fl())});return bt(s).pipe(y0())}function gCe(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return bt(!0);let o=r.map(s=>{let a=_0(s,e),l=tCe(a)?a.canLoad(t,n):Ga(e,()=>a(t,n));return jh(l)});return bt(o).pipe(y0(),U9(i))}function U9(e){return SF(sr(t=>{if(typeof t!="boolean")throw jE(e,t)}),Tt(t=>t===!0))}function mCe(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return bt(!0);let o=r.map(s=>{let a=_0(s,e),l=oCe(a)?a.canMatch(t,n):Ga(e,()=>a(t,n));return jh(l)});return bt(o).pipe(y0(),U9(i))}var uy=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},hy=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function h0(e){return Rh(new uy(e))}function vCe(e){return Rh(new ht(4e3,!1))}function CCe(e){return Rh(H9(!1,ga.GuardRejected))}var AP=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return bt(i);if(r.numberOfChildren>1||!r.children[pn])return vCe(`${t.redirectTo}`);r=r.children[pn]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:f,params:g,data:m,title:v}=r,C=Ga(o,()=>a({params:g,data:m,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:f,title:v}));if(C instanceof ad)throw new hy(C);n=C}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new hy(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new ad(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new ri(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new ht(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},kP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wCe(e,t,n,i,r){let o=W9(e,t,n);return o.matched?(i=zve(t,i),mCe(i,t,n,r).pipe(Tt(s=>s===!0?o:V({},kP)))):bt(o)}function W9(e,t,n){if(t.path==="**")return yCe(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?V({},kP):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||w9)(n,e,t);if(!r)return V({},kP);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?V(V({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function yCe(e){return{matched:!0,parameters:e.length>0?b9(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function m9(e,t,n,i){return n.length>0&&xCe(e,n,i)?{segmentGroup:new ri(t,_Ce(i,new ri(n,e.children))),slicedSegments:[]}:n.length===0&&SCe(e,n,i)?{segmentGroup:new ri(e.segments,bCe(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new ri(e.segments,e.children),slicedSegments:n}}function bCe(e,t,n,i){let r={};for(let o of n)if(XE(e,t,o)&&!i[dc(o)]){let s=new ri([],{});r[dc(o)]=s}return V(V({},i),r)}function _Ce(e,t){let n={};n[pn]=t;for(let i of e)if(i.path===""&&dc(i)!==pn){let r=new ri([],{});n[dc(i)]=r}return n}function xCe(e,t,n){return n.some(i=>XE(e,t,i)&&dc(i)!==pn)}function SCe(e,t,n){return n.some(i=>XE(e,t,i))}function XE(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ECe(e,t,n){return t.length===0&&!e.children[n]}var PP=class{};function DCe(e,t,n,i,r,o,s="emptyOnly"){return new OP(e,t,n,i,r,s,o).recognize()}var RCe=31,OP=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new AP(this.urlSerializer,this.urlTree)}noMatchError(t){return new ht(4002,`'${t.segmentGroup}'`)}recognize(){let t=m9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Tt(({children:n,rootSnapshot:i})=>{let r=new Ua(i,n),o=new cy("",r),s=M9(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Np([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,pn,n).pipe(Tt(i=>({children:i,rootSnapshot:n})),Uc(i=>{if(i instanceof hy)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof uy?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(Tt(s=>s instanceof Ua?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Bi(o).pipe(Ih(s=>{let a=i.children[s],l=Uve(n,s);return this.processSegmentGroup(t,l,a,s,r)}),MF((s,a)=>(s.push(...a),s)),Mh(null),IF(),Or(s=>{if(s===null)return h0(i);let a=j9(s);return TCe(a),bt(a)}))}processSegment(t,n,i,r,o,s,a){return Bi(n).pipe(Ih(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Uc(c=>{if(c instanceof uy)return bt(null);throw c}))),fl(l=>!!l),Uc(l=>{if(z9(l))return ECe(i,r,o)?bt(new PP):h0(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return dc(i)!==s&&(s===pn||!XE(r,o,i))?h0(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):h0(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=W9(n,r,o);if(!l)return h0(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RCe&&(this.allowRedirects=!1));let g=new Np(o,c,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,v9(r),dc(r),r.component??r._loadedComponent??null,r,C9(r)),m=WE(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,g,t);return this.applyRedirects.lineralizeSegments(r,v).pipe(Or(C=>this.processSegment(t,i,n,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=wCe(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Vo(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Vo(({routes:c})=>{let d=i._loadedInjector??t,{parameters:h,consumedSegments:f,remainingSegments:g}=l,m=new Np(f,h,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,v9(i),dc(i),i.component??i._loadedComponent??null,i,C9(i)),v=WE(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(v.params),m.data=Object.freeze(v.data);let{segmentGroup:C,slicedSegments:y}=m9(n,f,g,c);if(y.length===0&&C.hasChildren())return this.processChildren(d,c,C,m).pipe(Tt(_=>new Ua(m,_)));if(c.length===0&&y.length===0)return bt(new Ua(m,[]));let x=dc(i)===o;return this.processSegment(d,c,C,y,x?pn:o,!0,m).pipe(Tt(_=>new Ua(m,_ instanceof Ua?[_]:[])))}))):h0(n)))}getChildConfig(t,n,i){return n.children?bt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?bt({routes:n._loadedRoutes,injector:n._loadedInjector}):gCe(t,n,i,this.urlSerializer).pipe(Or(r=>r?this.configLoader.loadChildren(t,n).pipe(sr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):CCe(n))):bt({routes:[],injector:t})}};function TCe(e){e.sort((t,n)=>t.value.outlet===pn?-1:n.value.outlet===pn?1:t.value.outlet.localeCompare(n.value.outlet))}function ICe(e){let t=e.value.routeConfig;return t&&t.path===""}function j9(e){let t=[],n=new Set;for(let i of e){if(!ICe(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=j9(i.children);t.push(new Ua(i.value,r))}return t.filter(i=>!n.has(i))}function v9(e){return e.data||{}}function C9(e){return e.resolve||{}}function MCe(e,t,n,i,r,o){return Or(s=>DCe(e,t,n,i,s.extractedUrl,r,o).pipe(Tt(({state:a,tree:l})=>De(V({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function FCe(e,t){return Or(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return bt(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of $9(l))s.add(c);let a=0;return Bi(s).pipe(Ih(l=>o.has(l)?ACe(l,i,e,t):(l.data=WE(l,l.parent,e).resolve,bt(void 0))),sr(()=>a++),km(1),Or(l=>a===s.size?bt(n):mo))})}function $9(e){let t=e.children.map(n=>$9(n)).flat();return[e,...t]}function ACe(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!N9(r)&&(o[fy]=r.title),kCe(o,e,t,i).pipe(Tt(s=>(e._resolvedData=s,e.data=WE(e,e.parent,n).resolve,null)))}function kCe(e,t,n,i){let r=xP(e);if(r.length===0)return bt({});let o={};return Bi(r).pipe(Or(s=>PCe(e[s],t,n,i).pipe(fl(),sr(a=>{if(a instanceof w0)throw jE(new Vp,a);o[s]=a}))),km(1),Tt(()=>o),Uc(s=>z9(s)?mo:Rh(s)))}function PCe(e,t,n,i){let r=gy(t)??i,o=_0(e,r),s=o.resolve?o.resolve(t,n):Ga(r,()=>o(t,n));return jh(s)}function bP(e){return Vo(t=>{let n=e(t);return n?Bi(n).pipe(Tt(()=>t)):bt(t)})}var NP=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pn);return i}getResolvedTitleForRoute(n){return n.data[fy]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>A(q9),providedIn:"root"})}return e})(),q9=(()=>{class e extends NP{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(lt(d9))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cy=new xe("",{providedIn:"root",factory:()=>({})}),BP=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Ct(0,"router-outlet")},dependencies:[my],encapsulation:2})}return e})();function VP(e){let t=e.children&&e.children.map(VP),n=t?De(V({},e),{children:t}):V({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==pn&&(n.component=BP),n}var wy=new xe(""),K9=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(SU);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return bt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=jh(n.loadComponent()).pipe(Tt(Y9),sr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),rc(()=>{this.componentLoaders.delete(n)})),r=new Rm(i,()=>new ut).pipe(Dm());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=X9(i,this.compiler,n,this.onLoadEndListener).pipe(rc(()=>{this.childrenLoaders.delete(i)})),s=new Rm(o,()=>new ut).pipe(Dm());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function X9(e,t,n,i){return jh(e.loadChildren()).pipe(Tt(Y9),Or(r=>r instanceof Bk||Array.isArray(r)?bt(r):Bi(t.compileModuleAsync(r))),Tt(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(wy,[],{optional:!0,self:!0}).flat()),{routes:s.map(VP),injector:o}}))}function OCe(e){return e&&typeof e=="object"&&"default"in e}function Y9(e){return OCe(e)?e.default:e}var YE=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>A(LCe),providedIn:"root"})}return e})(),LCe=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Z9=new xe("");var Q9=new xe(""),J9=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ut;transitionAbortSubject=new ut;configLoader=A(K9);environmentInjector=A(qr);destroyRef=A(Zi);urlSerializer=A(py);rootContexts=A(b0);location=A(Uh);inputBindingEnabled=A(KE,{optional:!0})!==null;titleStrategy=A(NP);options=A(Cy,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(YE);createViewTransition=A(Z9,{optional:!0});navigationErrorHandler=A(Q9,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>bt(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new LE(r)),i=r=>this.events.next(new NE(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(De(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new Yn(null),this.transitions.pipe(un(i=>i!==null),Vo(i=>{let r=!1,o=!1;return bt(i).pipe(Vo(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",ga.SupersededByNewNavigation),mo;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?De(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new _u(s.id,this.urlSerializer.serialize(s.rawUrl),c,oy.IgnoredSameUrlNavigation)),s.resolve(!1),mo}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return bt(s).pipe(Vo(c=>(this.events.next(new Hp(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?mo:Promise.resolve(c))),MCe(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),sr(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=De(V({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new sy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:h,restoredState:f,extras:g}=s,m=new Hp(c,this.urlSerializer.serialize(d),h,f);this.events.next(m);let v=O9(this.rootComponentType).snapshot;return this.currentTransition=i=De(V({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:De(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,bt(i)}else{let c="";return this.events.next(new _u(s.id,this.urlSerializer.serialize(s.extractedUrl),c,oy.IgnoredByUrlHandlingStrategy)),s.resolve(!1),mo}}),sr(s=>{let a=new AE(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Tt(s=>(this.currentTransition=i=De(V({},s),{guards:Yve(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),aCe(this.environmentInjector,s=>this.events.next(s)),sr(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw jE(this.urlSerializer,s.guardsResult);let a=new kE(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),un(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ga.GuardRejected),!1)),bP(s=>{if(s.guards.canActivateChecks.length!==0)return bt(s).pipe(sr(a=>{let l=new PE(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Vo(a=>{let l=!1;return bt(a).pipe(FCe(this.paramsInheritanceStrategy,this.environmentInjector),sr({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ga.NoDataFromResolver)}}))}),sr(a=>{let l=new OE(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),bP(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(sr(d=>{l.component=d}),Tt(()=>{})));for(let d of l.children)c.push(...a(d));return c};return Fm(a(s.targetSnapshot.root)).pipe(Mh(null),Cr(1))}),bP(()=>this.afterPreactivation()),Vo(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Bi(l).pipe(Tt(()=>i)):bt(i)}),Tt(s=>{let a=jve(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=De(V({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),sr(()=>{this.events.next(new ay)}),Xve(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Cr(1),sr({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Ri(this.transitionAbortSubject.pipe(sr(s=>{throw s}))),rc(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",ga.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Uc(s=>{if(this.destroyed)return i.resolve(!1),mo;if(o=!0,G9(s))this.events.next(new sd(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Kve(s)?this.events.next(new C0(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new v0(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Ga(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof w0){let{message:c,cancellationCode:d}=jE(this.urlSerializer,l);this.events.next(new sd(i.id,this.urlSerializer.serialize(i.extractedUrl),c,d)),this.events.next(new C0(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return mo}))}))}cancelNavigationTransition(n,i,r){let o=new sd(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NCe(e){return e!==IE}var eW=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>A(BCe),providedIn:"root"})}return e})(),qE=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},BCe=(()=>{class e extends qE{static \u0275fac=(()=>{let n;return function(r){return(n||(n=fa(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tW=(()=>{class e{urlSerializer=A(py);options=A(Cy,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A(Uh);urlHandlingStrategy=A(YE);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ad;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof ad?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=O9(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:()=>A(VCe),providedIn:"root"})}return e})(),VCe=(()=>{class e extends tW{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof Hp?this.updateStateMemento():n instanceof _u?this.commitTransition(i):n instanceof sy?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof ay?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof sd&&(n.code===ga.GuardRejected||n.code===ga.NoDataFromResolver)?this.restoreHistory(i):n instanceof v0?this.restoreHistory(i,!0):n instanceof bu&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=V(V({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",l)}else{let a=V(V({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=fa(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HP(e,t){e.events.pipe(un(n=>n instanceof bu||n instanceof sd||n instanceof v0||n instanceof _u),Tt(n=>n instanceof bu||n instanceof _u?0:(n instanceof sd?n.code===ga.Redirect||n.code===ga.SupersededByNewNavigation:!1)?2:1),un(n=>n!==2),Cr(1)).subscribe(()=>{t()})}var HCe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GCe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$h=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(Vk);stateManager=A(tW);options=A(Cy,{optional:!0})||{};pendingTasks=A(Nh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(J9);urlSerializer=A(py);location=A(Uh);urlHandlingStrategy=A(YE);_events=new ut;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(eW);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(wy,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(KE,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Nn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof sd&&i.code!==ga.Redirect&&i.code!==ga.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof bu)this.navigated=!0;else if(i instanceof C0){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=V({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NCe(r.source)},s);this.scheduleNavigation(a,IE,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}UCe(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),IE,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=V({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(VP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=F9(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return A9(h,n,d,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=m0(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,IE,null,i)}navigate(n,i={skipLocationChange:!1}){return zCe(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=V({},HCe):i===!1?r=V({},GCe):r=i,m0(n))return h9(this.currentUrlTree,n,r);let o=this.parseUrl(n);return h9(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});let d=this.pendingTasks.add();return HP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zCe(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ht(4008,!1)}function UCe(e){return!(e instanceof ay)&&!(e instanceof C0)}var jCe=new xe("");function GP(e,...t){return Xm([{provide:wy,multi:!0,useValue:e},[],{provide:ld,useFactory:$Ce,deps:[$h]},{provide:Gk,multi:!0,useFactory:qCe},t.map(n=>n.\u0275providers)])}function $Ce(e){return e.routerState.root}function qCe(){let e=A(Tn);return t=>{let n=e.get(Ha);if(t!==n.components[0])return;let i=e.get($h),r=e.get(KCe);e.get(XCe)===1&&i.initialNavigation(),e.get(YCe,null,Rn.Optional)?.setUpPreloading(),e.get(jCe,null,Rn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var KCe=new xe("",{factory:()=>new ut}),XCe=new xe("",{providedIn:"root",factory:()=>1});var YCe=new xe("");var dW=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(We(Kr),We(Mt))};static \u0275dir=Bt({type:e})}return e})(),QCe=(()=>{class e extends dW{static \u0275fac=(()=>{let n;return function(r){return(n||(n=fa(e)))(r||e)}})();static \u0275dir=Bt({type:e,features:[Xr]})}return e})(),uW=new xe("");var JCe={provide:uW,useExisting:Oh(()=>lD),multi:!0};function ewe(){let e=Cl()?Cl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var twe=new xe(""),lD=(()=>{class e extends dW{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!ewe())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(We(Kr),We(Mt),We(twe,8))};static \u0275dir=Bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&en("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[mi([JCe]),Xr]})}return e})();function jP(e){return e==null||$P(e)===0}function $P(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var qP=new xe(""),KP=new xe(""),nwe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,QE=class{static min(t){return iwe(t)}static max(t){return rwe(t)}static required(t){return owe(t)}static requiredTrue(t){return swe(t)}static email(t){return awe(t)}static minLength(t){return lwe(t)}static maxLength(t){return cwe(t)}static pattern(t){return dwe(t)}static nullValidator(t){return hW()}static compose(t){return CW(t)}static composeAsync(t){return wW(t)}};function iwe(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function rwe(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function owe(e){return jP(e.value)?{required:!0}:null}function swe(e){return e.value===!0?null:{required:!0}}function awe(e){return jP(e.value)||nwe.test(e.value)?null:{email:!0}}function lwe(e){return t=>{let n=t.value?.length??$P(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function cwe(e){return t=>{let n=t.value?.length??$P(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function dwe(e){if(!e)return hW;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(jP(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function hW(e){return null}function fW(e){return e!=null}function pW(e){return Vh(e)?Bi(e):e}function gW(e){let t={};return e.forEach(n=>{t=n!=null?V(V({},t),n):t}),Object.keys(t).length===0?null:t}function mW(e,t){return t.map(n=>n(e))}function uwe(e){return!e.validate}function vW(e){return e.map(t=>uwe(t)?t:n=>t.validate(n))}function CW(e){if(!e)return null;let t=e.filter(fW);return t.length==0?null:function(n){return gW(mW(n,t))}}function XP(e){return e!=null?CW(vW(e)):null}function wW(e){if(!e)return null;let t=e.filter(fW);return t.length==0?null:function(n){let i=mW(n,t).map(pW);return vw(i).pipe(Tt(gW))}}function YP(e){return e!=null?wW(vW(e)):null}function iW(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function yW(e){return e._rawValidators}function bW(e){return e._rawAsyncValidators}function zP(e){return e?Array.isArray(e)?e:[e]:[]}function JE(e,t){return Array.isArray(e)?e.includes(t):e===t}function rW(e,t){let n=zP(t);return zP(e).forEach(r=>{JE(n,r)||n.push(r)}),n}function oW(e,t){return zP(t).filter(n=>!JE(e,n))}var eD=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=XP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},qh=class extends eD{name;get formDirective(){return null}get path(){return null}},Gp=class extends eD{_parent=null;name=null;valueAccessor=null},tD=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hwe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fnt=De(V({},hwe),{"[class.ng-submitted]":"isSubmitted"}),_W=(()=>{class e extends tD{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(We(Gp,2))};static \u0275dir=Bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Bn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Xr]})}return e})(),xW=(()=>{class e extends tD{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(We(qh,10))};static \u0275dir=Bt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Bn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Xr]})}return e})();var yy="VALID",ZE="INVALID",x0="PENDING",by="DISABLED",Kh=class{},nD=class extends Kh{value;source;constructor(t,n){super(),this.value=t,this.source=n}},xy=class extends Kh{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Sy=class extends Kh{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},S0=class extends Kh{status;source;constructor(t,n){super(),this.status=t,this.source=n}},UP=class extends Kh{source;constructor(t){super(),this.source=t}},WP=class extends Kh{source;constructor(t){super(),this.source=t}};function SW(e){return(cD(e)?e.validators:e)||null}function fwe(e){return Array.isArray(e)?XP(e):e||null}function EW(e,t){return(cD(t)?t.asyncValidators:e)||null}function pwe(e){return Array.isArray(e)?YP(e):e||null}function cD(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function gwe(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new ht(1e3,"");if(!i[n])throw new ht(1001,"")}function mwe(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new ht(1002,"")})}var iD=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return zs(this.statusReactive)}set status(t){zs(()=>this.statusReactive.set(t))}_status=td(()=>this.statusReactive());statusReactive=Qc(void 0);get valid(){return this.status===yy}get invalid(){return this.status===ZE}get pending(){return this.status==x0}get disabled(){return this.status===by}get enabled(){return this.status!==by}errors;get pristine(){return zs(this.pristineReactive)}set pristine(t){zs(()=>this.pristineReactive.set(t))}_pristine=td(()=>this.pristineReactive());pristineReactive=Qc(!0);get dirty(){return!this.pristine}get touched(){return zs(this.touchedReactive)}set touched(t){zs(()=>this.touchedReactive.set(t))}_touched=td(()=>this.touchedReactive());touchedReactive=Qc(!1);get untouched(){return!this.touched}_events=new ut;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(rW(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rW(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oW(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oW(t,this._rawAsyncValidators))}hasValidator(t){return JE(this._rawValidators,t)}hasAsyncValidator(t){return JE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(De(V({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Sy(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Sy(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(De(V({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new xy(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new xy(!0,i))}markAsPending(t={}){this.status=x0;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new S0(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(De(V({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=by,this.errors=null,this._forEachChild(r=>{r.disable(De(V({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new nD(this.value,i)),this._events.next(new S0(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(V({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=yy,this._forEachChild(i=>{i.enable(De(V({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(De(V({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yy||this.status===x0)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new nD(this.value,n)),this._events.next(new S0(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(De(V({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?by:yy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=x0,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=pW(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new S0(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?by:this.errors?ZE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(x0)?x0:this._anyControlsHaveStatus(ZE)?ZE:yy}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new xy(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Sy(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cD(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=fwe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=pwe(this._rawAsyncValidators)}},rD=class extends iD{constructor(t,n,i){super(SW(n),EW(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){mwe(this,!0,t),Object.keys(t).forEach(i=>{gwe(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var dD=new xe("",{providedIn:"root",factory:()=>ZP}),ZP="always";function vwe(e,t){return[...t.path,e]}function oD(e,t,n=ZP){QP(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),wwe(e,t),bwe(e,t),ywe(e,t),Cwe(e,t)}function sW(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),aD(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function sD(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Cwe(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function QP(e,t){let n=yW(e);t.validator!==null?e.setValidators(iW(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=bW(e);t.asyncValidator!==null?e.setAsyncValidators(iW(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();sD(t._rawValidators,r),sD(t._rawAsyncValidators,r)}function aD(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=yW(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=bW(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let i=()=>{};return sD(t._rawValidators,i),sD(t._rawAsyncValidators,i),n}function wwe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&DW(e,t)})}function ywe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&DW(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function DW(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function bwe(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function RW(e,t){e==null,QP(e,t)}function _we(e,t){return aD(e,t)}function xwe(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Swe(e){return Object.getPrototypeOf(e.constructor)===QCe}function TW(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ewe(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===lD?n=o:Swe(o)?i=o:r=o}),r||i||n||null}function Dwe(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Rwe={provide:qh,useExisting:Oh(()=>Ey)},_y=Promise.resolve(),Ey=(()=>{class e extends qh{callSetDisabledState;get submitted(){return zs(this.submittedReactive)}_submitted=td(()=>this.submittedReactive());submittedReactive=Qc(!1);_directives=new Set;form;ngSubmit=new ye;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new rD({},XP(n),YP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){_y.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),oD(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){_y.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){_y.then(()=>{let i=this._findContainer(n.path),r=new rD({});RW(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){_y.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){_y.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),TW(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||e)(We(qP,10),We(KP,10),We(dD,8))};static \u0275dir=Bt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&en("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mi([Rwe]),Xr]})}return e})();function aW(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function lW(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var IW=class extends iD{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(SW(n),EW(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cD(n)&&(n.nonNullable||n.initialValueIsDefault)&&(lW(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){aW(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){aW(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){lW(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Twe=e=>e instanceof IW;var Iwe={provide:Gp,useExisting:Oh(()=>JP)},cW=Promise.resolve(),JP=(()=>{class e extends Gp{_changeDetectorRef;callSetDisabledState;control=new IW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ye;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ewe(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),xwe(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){cW.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&ue(i);cW.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?vwe(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(We(qh,9),We(qP,10),We(KP,10),We(uW,10),We(Mi,8),We(dD,8))};static \u0275dir=Bt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mi([Iwe]),Xr,Hs]})}return e})();var MW=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var Mwe={provide:qh,useExisting:Oh(()=>e3)},e3=(()=>{class e extends qh{callSetDisabledState;get submitted(){return zs(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=td(()=>this._submittedReactive());_submittedReactive=Qc(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ye;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(aD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return oD(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){sW(n.control||null,n,!1),Dwe(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),TW(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new UP(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new WP(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(sW(i||null,n),Twe(r)&&(oD(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);RW(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&_we(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QP(this.form,this),this._oldForm&&aD(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(We(qP,10),We(KP,10),We(dD,8))};static \u0275dir=Bt({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&en("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mi([Mwe]),Xr,Hs]})}return e})();var Fwe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({})}return e})();var FW=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:dD,useValue:n.callSetDisabledState??ZP}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[Fwe]})}return e})();var zo=[];for(let e=0;e<256;++e)zo.push((e+256).toString(16).slice(1));function AW(e,t=0){return(zo[e[t+0]]+zo[e[t+1]]+zo[e[t+2]]+zo[e[t+3]]+"-"+zo[e[t+4]]+zo[e[t+5]]+"-"+zo[e[t+6]]+zo[e[t+7]]+"-"+zo[e[t+8]]+zo[e[t+9]]+"-"+zo[e[t+10]]+zo[e[t+11]]+zo[e[t+12]]+zo[e[t+13]]+zo[e[t+14]]+zo[e[t+15]]).toLowerCase()}var t3,kwe=new Uint8Array(16);function n3(){if(!t3){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t3=crypto.getRandomValues.bind(crypto)}return t3(kwe)}var Pwe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i3={randomUUID:Pwe};function Owe(e,t,n){if(i3.randomUUID&&!t&&!e)return i3.randomUUID();e=e||{};let i=e.random??e.rng?.()??n3();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let r=0;r<16;++r)t[n+r]=i[r];return t}return AW(i)}var Dy=Owe;function zp(e){return e.buttons===0||e.detail===0}function Up(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var r3;function kW(){if(r3==null){let e=typeof document<"u"?document.head:null;r3=!!(e&&(e.createShadowRoot||e.attachShadow))}return r3}function o3(e){if(kW()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ry(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function ma(e){return e.composedPath?e.composedPath()[0]:e.target}function cs(e,t,n,i,r){let o=parseInt($k.major),s=parseInt($k.minor);return o>19||o===19&&s>0||o===0&&s===0?e.listen(t,n,i,r):(t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)})}var s3;try{s3=typeof Intl<"u"&&Intl.v8BreakIterator}catch{s3=!1}var Qn=(()=>{class e{_platformId=A(mu);isBrowser=this._platformId?eP(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||s3)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ty;function PW(){if(Ty==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ty=!0}))}finally{Ty=Ty||!1}return Ty}function Xh(e){return PW()?e:!!e.capture}function E0(e,t=0){return OW(e)?Number(e):arguments.length===2?t:0}function OW(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function ja(e){return e instanceof Mt?e.nativeElement:e}var LW=new xe("cdk-input-modality-detector-options"),NW={ignoreKeys:[18,17,224,91,16]},BW=650,a3={passive:!0,capture:!0},VW=(()=>{class e{_platform=A(Qn);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Yn(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(i=>i===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ma(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<BW||(this._modality.next(zp(n)?"keyboard":"mouse"),this._mostRecentTarget=ma(n))};_onTouchstart=n=>{if(Up(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ma(n)};constructor(){let n=A(pt),i=A(Lt),r=A(LW,{optional:!0});if(this._options=V(V({},NW),r),this.modalityDetected=this._modality.pipe(Cw(1)),this.modalityChanged=this.modalityDetected.pipe(yp()),this._platform.isBrowser){let o=A(so).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[cs(o,i,"keydown",this._onKeydown,a3),cs(o,i,"mousedown",this._onMousedown,a3),cs(o,i,"touchstart",this._onTouchstart,a3)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iy=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Iy||{}),HW=new xe("cdk-focus-monitor-default-options"),uD=Xh({passive:!0,capture:!0}),cd=(()=>{class e{_ngZone=A(pt);_platform=A(Qn);_inputModalityDetector=A(VW);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=A(Lt,{optional:!0});_stopInputModalityDetector=new ut;constructor(){let n=A(HW,{optional:!0});this._detectionMode=n?.detectionMode||Iy.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let i=ma(n);for(let r=i;r;r=r.parentElement)n.type==="focus"?this._onFocus(n,r):this._onBlur(n,r)};monitor(n,i=!1){let r=ja(n);if(!this._platform.isBrowser||r.nodeType!==1)return bt();let o=o3(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new ut,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let i=ja(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){let o=ja(n),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Iy.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===Iy.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?BW:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,i){let r=this._elementInfo.get(i),o=ma(n);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(n,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,uD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,uD)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ri(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,uD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,uD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((r,o)=>{(o===n||r.checkChildren&&o.contains(n))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hD=new WeakMap,ds=(()=>{class e{_appRef;_injector=A(Tn);_environmentInjector=A(qr);load(n){let i=this._appRef=this._appRef||this._injector.get(Ha),r=hD.get(i);r||(r={loaders:new Set,refs:[]},hD.set(i,r),i.onDestroy(()=>{hD.get(i)?.refs.forEach(o=>o.destroy()),hD.delete(i)})),r.loaders.has(n)||(r.loaders.add(n),r.refs.push(lE(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return e})();function D0(e){return Array.isArray(e)?e:[e]}var GW=new Set,Wp,UW=(()=>{class e{_platform=A(Qn);_nonce=A(Nw,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Nwe}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Lwe(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lwe(e,t){if(!GW.has(e))try{Wp||(Wp=document.createElement("style"),t&&Wp.setAttribute("nonce",t),Wp.setAttribute("type","text/css"),document.head.appendChild(Wp)),Wp.sheet&&(Wp.sheet.insertRule(`@media ${e} {body{ }}`,0),GW.add(e))}catch(n){console.error(n)}}function Nwe(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var jp=(()=>{class e{_mediaMatcher=A(UW);_zone=A(pt);_queries=new Map;_destroySubject=new ut;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return zW(D0(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=zW(D0(n)).map(s=>this._registerQuery(s).observable),o=Fm(r);return o=Th(o.pipe(Cr(1)),o.pipe(Cw(1),Wc(0))),o.pipe(Tt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),o={observable:new Nt(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Bo(i),Tt(({matches:s})=>({query:n,matches:s})),Ri(this._destroySubject)),mql:i};return this._queries.set(n,o),o}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zW(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var WW=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $p=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({providers:[WW]})}return e})();var gD=(()=>{class e{_platform=A(Qn);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return Hwe(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let i=Vwe(Kwe(n));if(i&&(jW(i)===-1||!this.isVisible(i)))return!1;let r=n.nodeName.toLowerCase(),o=jW(n);return n.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!$we(n)?!1:r==="audio"?n.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,i){return qwe(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Vwe(e){try{return e.frameElement}catch{return null}}function Hwe(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function Gwe(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function zwe(e){return Wwe(e)&&e.type=="hidden"}function Uwe(e){return jwe(e)&&e.hasAttribute("href")}function Wwe(e){return e.nodeName.toLowerCase()=="input"}function jwe(e){return e.nodeName.toLowerCase()=="a"}function KW(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function jW(e){if(!KW(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function $we(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function qwe(e){return zwe(e)?!1:Gwe(e)||Uwe(e)||e.hasAttribute("contenteditable")||KW(e)}function Kwe(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var pD=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,n,i,r,o=!1,s){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?pa(t,{injector:this._injector}):setTimeout(t)}},c3=(()=>{class e{_checker=A(gD);_ngZone=A(pt);_document=A(Lt);_injector=A(Tn);constructor(){A(ds).load(fD)}create(n,i=!1){return new pD(n,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Yh=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Yh||{}),$W="cdk-high-contrast-black-on-white",qW="cdk-high-contrast-white-on-black",l3="cdk-high-contrast-active",mD=(()=>{class e{_platform=A(Qn);_hasCheckedHighContrastMode;_document=A(Lt);_breakpointSubscription;constructor(){this._breakpointSubscription=A(jp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Yh.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Yh.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Yh.BLACK_ON_WHITE}return Yh.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(l3,$W,qW),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Yh.BLACK_ON_WHITE?n.add(l3,$W):i===Yh.WHITE_ON_BLACK&&n.add(l3,qW)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vD=(()=>{class e{constructor(){A(mD)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[$p]})}return e})();var d3={},wl=(()=>{class e{_appId=A(Pp);getId(n){return this._appId!=="ng"&&(n+=this._appId),d3.hasOwnProperty(n)||(d3[n]=0),`${n}${d3[n]++}`}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xwe=200,CD=class{_letterKeyStream=new ut;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ut;selectedItem=this._selectedItem;constructor(t,n){let i=typeof n?.debounceInterval=="number"?n.debounceInterval:Xwe;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let n=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(sr(n=>this._pressedLetters.push(n)),Wc(t),un(()=>this._pressedLetters.length>0),Tt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function uc(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var wD=class{_items;_activeItemIndex=-1;_activeItem=Qc(null);_wrap=!1;_typeaheadSubscription=Nn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,n){this._items=t,t instanceof Ph?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):t0(t)&&(this._effectRef=Gh(()=>this._itemsChanged(t()),{injector:n}))}tabOut=new ut;change=new ut;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new CD(n,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,n=10){return this._pageUpAndDown={enabled:t,delta:n},this}setActiveItem(t){let n=this._activeItem();this.updateActiveItem(t),this._activeItem()!==n&&this.change.next(this._activeItemIndex)}onKeydown(t){let n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||uc(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let n=this._getItemsArray(),i=typeof t=="number"?t:n.indexOf(t),r=n[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+t*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,n){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=n,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return t0(this._items)?this._items():this._items instanceof Ph?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let n=this._activeItem();if(n){let i=t.indexOf(n);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var My=class extends wD{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var QW=" ";function Ywe(e,t,n){let i=bD(e,t);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),e.setAttribute(t,i.join(QW)))}function Zwe(e,t,n){let i=bD(e,t);n=n.trim();let r=i.filter(o=>o!==n);r.length?e.setAttribute(t,r.join(QW)):e.removeAttribute(t)}function bD(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var JW="cdk-describedby-message",yD="cdk-describedby-host",p3=0,ej=(()=>{class e{_platform=A(Qn);_document=A(Lt);_messageRegistry=new Map;_messagesContainer=null;_id=`${p3++}`;constructor(){A(ds).load(fD),this._id=A(Pp)+"-"+p3++}describe(n,i,r){if(!this._canBeDescribed(n,i))return;let o=f3(i,r);typeof i!="string"?(ZW(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(n,o)||this._addMessageReference(n,o)}removeDescription(n,i,r){if(!i||!this._isElementNode(n))return;let o=f3(i,r);if(this._isElementDescribedByMessage(n,o)&&this._removeMessageReference(n,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${yD}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(yD);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){let r=this._document.createElement("div");ZW(r,this._id),r.textContent=n,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(f3(n,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){let i=bD(n,"aria-describedby").filter(r=>r.indexOf(JW)!=0);n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){let r=this._messageRegistry.get(i);Ywe(n,"aria-describedby",r.messageElement.id),n.setAttribute(yD,this._id),r.referenceCount++}_removeMessageReference(n,i){let r=this._messageRegistry.get(i);r.referenceCount--,Zwe(n,"aria-describedby",r.messageElement.id),n.removeAttribute(yD)}_isElementDescribedByMessage(n,i){let r=bD(n,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=n.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function f3(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function ZW(e,t){e.id||(e.id=`${JW}-${t}-${p3++}`)}var _D=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return e})();var qp;function tj(){if(qp==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return qp=!1,qp;if("scrollBehavior"in document.documentElement.style)qp=!0;else{let e=Element.prototype.scrollTo;e?qp=!/\{\s*\[native code\]\s*\}/.test(e.toString()):qp=!1}}return qp}function g3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var R0,nj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function m3(){if(R0)return R0;if(typeof document!="object"||!document)return R0=new Set(nj),R0;let e=document.createElement("input");return R0=new Set(nj.filter(t=>(e.setAttribute("type",t),e.type===t))),R0}function dd(e){return e!=null&&`${e}`!="false"}function Nr(e){return e==null?"":typeof e=="string"?e:`${e}px`}var yl=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(yl||{}),v3=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=yl.HIDDEN;constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},ij=Xh({passive:!0,capture:!0}),C3=class{_events=new Map;addHandler(t,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,ij)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,ij)))}_delegateEventHandler=t=>{let n=ma(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(t))})}},Fy={enterDuration:225,exitDuration:150},Qwe=800,rj=Xh({passive:!0,capture:!0}),oj=["mousedown","touchstart"],sj=["mouseup","mouseleave","touchend","touchcancel"],Jwe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return e})(),Ay=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new C3;constructor(t,n,i,r,o){this._target=t,this._ngZone=n,this._platform=r,r.isBrowser&&(this._containerElement=ja(i)),o&&o.get(ds).load(Jwe)}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=V(V({},Fy),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||eye(t,n,r),a=t-r.left,l=n-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),f=h.transitionProperty,g=h.transitionDuration,m=f==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,v=new v3(this,d,i,m);d.style.transform="scale3d(1, 1, 1)",v.state=yl.FADING_IN,i.persistent||(this._mostRecentTransientRipple=v);let C=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>{C&&(C.fallbackTimer=null),clearTimeout(_),this._finishRippleTransition(v)},x=()=>this._destroyRipple(v),_=setTimeout(x,c+100);d.addEventListener("transitionend",y),d.addEventListener("transitioncancel",x),C={onTransitionEnd:y,onTransitionCancel:x,fallbackTimer:_}}),this._activeRipples.set(v,C),(m||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(t.state===yl.FADING_OUT||t.state===yl.HIDDEN)return;let n=t.element,i=V(V({},Fy),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=yl.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=ja(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,oj.forEach(i=>{e._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sj.forEach(n=>{this._triggerElement.addEventListener(n,this,rj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===yl.FADING_IN?this._startFadeOutTransition(t):t.state===yl.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=yl.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=yl.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=zp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Qwe;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Up(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===yl.VISIBLE||t.config.terminateOnPointerUp&&t.state===yl.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(oj.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(sj.forEach(n=>t.removeEventListener(n,this,rj)),this._pointerUpEventsRegistered=!1))}};function eye(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var w3=new xe("mat-ripple-global-options"),aj=(()=>{class e{_elementRef=A(Mt);_animationMode=A(Co,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let n=A(pt),i=A(Qn),r=A(w3,{optional:!0}),o=A(Tn);this._globalOptions=r||{},this._rippleRenderer=new Ay(this,n,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:V(V(V({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,i,V(V({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,V(V({},this.rippleConfig),n))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Bn("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();var T0=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},xu=class extends T0{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,n,i,r,o){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.projectableNodes=o}},Su=class extends T0{templateRef;viewContainerRef;context;injector;constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},xD=class extends T0{element;constructor(t){super(),this.element=t instanceof Mt?t.nativeElement:t}},Kp=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof xu)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Su)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof xD)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var I0=class extends Kp{outletElement;_appRef;_defaultInjector;_document;constructor(t,n,i,r,o){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let n;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(fu,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,r=t.injector||this._defaultInjector||Tn.NULL,o=r.get(qr,i.injector);n=lE(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let n=t.element;n.parentNode;let i=this._document.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var M0=(()=>{class e extends Kp{_moduleRef=A(fu,{optional:!0});_document=A(Lt);_viewContainerRef=A(Lr);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new ye;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let i=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=i.createComponent(n.component,{index:i.length,injector:n.injector||i.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(n){n.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=n=>{let i=n.element;i.parentNode;let r=this._document.createComment("dom-portal");n.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=n,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Xr]})}return e})();var ky=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({})}return e})();var lj=new xe("cdk-dir-doc",{providedIn:"root",factory:tye});function tye(){return A(Lt)}var nye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function iye(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?nye.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var bl=(()=>{class e{value="ltr";change=new ye;constructor(){let n=A(lj,{optional:!0});if(n){let i=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=iye(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Eu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({})}return e})();var cj=20,F0=(()=>{class e{_ngZone=A(pt);_platform=A(Qn);_renderer=A(so).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ut;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=cj){return this._platform.isBrowser?new Nt(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=n>0?this._scrolled.pipe(q1(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):bt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){let r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(un(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(n){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_scrollableContainsElement(n,i){let r=ja(i),o=n.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dj=20,Py=(()=>{class e{_platform=A(Qn);_listeners;_viewportSize;_change=new ut;_document=A(Lt,{optional:!0});constructor(){let n=A(pt),i=A(so).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),r=n.documentElement,o=r.getBoundingClientRect(),s=-o.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(n=dj){return n>0?this._change.pipe(q1(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zh=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({})}return e})(),SD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[Eu,Zh,Eu,Zh]})}return e})();var uj=tj(),ED=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,n){this._viewportRuler=t,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Nr(-this._previousScrollPosition.left),t.style.top=Nr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,i=t.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),uj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uj&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var DD=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,n,i,r){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(un(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Oy=class{enable(){}disable(){}attach(){}};function y3(e,t){return t.some(n=>{let i=e.bottom<n.top,r=e.top>n.bottom,o=e.right<n.left,s=e.left>n.right;return i||r||o||s})}function hj(e,t){return t.some(n=>{let i=e.top<n.top,r=e.bottom>n.bottom,o=e.left<n.left,s=e.right>n.right;return i||r||o||s})}var RD=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,n,i,r){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();y3(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Cj=(()=>{class e{_scrollDispatcher=A(F0);_viewportRuler=A(Py);_ngZone=A(pt);_document=A(Lt);constructor(){}noop=()=>new Oy;close=n=>new DD(this._scrollDispatcher,this._ngZone,this._viewportRuler,n);block=()=>new ED(this._viewportRuler,this._document);reposition=n=>new RD(this._scrollDispatcher,this._viewportRuler,this._ngZone,n);static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qh=class{positionStrategy;scrollStrategy=new Oy;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let n=Object.keys(t);for(let i of n)t[i]!==void 0&&(this[i]=t[i])}}};var TD=class{connectionPair;scrollableViewProperties;constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var wj=(()=>{class e{_attachedOverlays=[];_document=A(Lt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yj=(()=>{class e extends wj{_ngZone=A(pt);_renderer=A(so).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=fa(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bj=(()=>{class e extends wj{_platform=A(Qn);_ngZone=A(pt);_renderer=A(so).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[cs(this._renderer,i,"pointerdown",this._pointerDownListener,r),cs(this._renderer,i,"click",this._clickListener,r),cs(this._renderer,i,"auxclick",this._clickListener,r),cs(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=ma(n)};_clickListener=n=>{let i=ma(n),r=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(fj(a.overlayElement,i)||fj(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n)}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=fa(e)))(r||e)}})();static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fj(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===e)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var _j=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return e})(),Ly=(()=>{class e{_platform=A(Qn);_containerElement;_document=A(Lt);_styleLoader=A(ds);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||g3()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(n),g3()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(_j)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),b3=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,i,r){this._renderer=n,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Yp=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ut;_attachments=new ut;_detachments=new ut;_positionStrategy;_scrollStrategy;_locationChanges=Nn.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new ut;_outsidePointerEvents=new ut;_renders=new ut;_afterRenderRef;_afterNextRenderRef;constructor(t,n,i,r,o,s,a,l,c,d=!1,h,f){this._portalOutlet=t,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=h,this._renderer=f,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=zs(()=>Vw(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=pa(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=V(V({},this._config),t),this._updateElementSize()}setDirection(t){this._config=De(V({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Nr(this._config.width),t.height=Nr(this._config.height),t.minWidth=Nr(this._config.minWidth),t.minHeight=Nr(this._config.minHeight),t.maxWidth=Nr(this._config.maxWidth),t.maxHeight=Nr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new b3(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,i){let r=D0(n||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ri(ic(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},pj="cdk-overlay-connected-position-bounding-box",rye=/([A-Za-z%]+)$/,ID=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ut;_resizeSubscription=Nn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(pj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,n,a),d=this._getOverlayFit(c,n,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(t,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,n,i,r){let o=mj(n),{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,h=s+o.width-i.width,f=0-a,g=a+o.height-i.height,m=this._subtractOverflows(o.width,d,h),v=this._subtractOverflows(o.height,f,g),C=m*v;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=gj(this._overlayRef.getConfig().minHeight),a=gj(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=mj(n),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),d=0,h=0;return r.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?h=l||-a:h=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!oye(this._lastScrollVisibility,i)){let r=new TD(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=g*2,s=t.y-g,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,c=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,d,h,f;if(c)f=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)h=t.x,d=i.right-t.x;else{let g=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;d=g*2,h=t.x-g,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-m/2)}return{top:s,left:h,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(t,n){let i=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Nr(i.height),r.top=Nr(i.top),r.bottom=Nr(i.bottom),r.width=Nr(i.width),r.left=Nr(i.left),r.right=Nr(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Nr(o)),s&&(r.maxWidth=Nr(s))}this._lastBoundingBoxSize=i,Xp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Xp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Xp(i,this._getExactOverlayY(n,t,d)),Xp(i,this._getExactOverlayX(n,t,d))}else i.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Nr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Nr(s.maxWidth):o&&(i.maxWidth="")),Xp(this._pane.style,i)}_getExactOverlayY(t,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Nr(o.y);return r}_getExactOverlayX(t,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Nr(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hj(t,i),isOriginOutsideView:y3(t,i),isOverlayClipped:hj(n,i),isOverlayOutsideView:y3(n,i)}}_subtractOverflows(t,...n){return n.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&D0(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Mt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+n,height:i,width:n}}};function Xp(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function gj(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(rye);return!n||n==="px"?parseFloat(t):null}return e||null}function mj(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function oye(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var vj="cdk-global-overlay-wrapper",MD=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,h=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",g="",m="",v="";l?v="flex-start":d==="center"?(v="center",f?m=h:g=h):f?d==="left"||d==="end"?(v="flex-end",g=h):(d==="right"||d==="start")&&(v="flex-start",m=h):d==="left"||d==="start"?(v="flex-start",g=h):(d==="right"||d==="end")&&(v="flex-end",m=h),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,n.justifyContent=v,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(vj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},xj=(()=>{class e{_viewportRuler=A(Py);_document=A(Lt);_platform=A(Qn);_overlayContainer=A(Ly);constructor(){}global(){return new MD}flexibleConnectedTo(n){return new ID(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uo=(()=>{class e{scrollStrategies=A(Cj);_overlayContainer=A(Ly);_positionBuilder=A(xj);_keyboardDispatcher=A(yj);_injector=A(Tn);_ngZone=A(pt);_document=A(Lt);_directionality=A(bl);_location=A(Uh);_outsideClickDispatcher=A(bj);_animationsModuleType=A(Co,{optional:!0});_idGenerator=A(wl);_renderer=A(so).createRenderer(null,null);_appRef;_styleLoader=A(ds);constructor(){}create(n){this._styleLoader.load(_j);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Qh(n);return s.direction=s.direction||this._directionality.value,new Yp(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(qr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(n){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Ha)),new I0(n,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sye=new xe("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=A(Uo);return()=>e.scrollStrategies.reposition()}});function aye(e){return()=>e.scrollStrategies.reposition()}var lye={provide:sye,deps:[Uo],useFactory:aye},A0=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({providers:[Uo,lye],imports:[Eu,ky,SD,SD]})}return e})();var In=(()=>{class e{constructor(){A(mD)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[Eu,Eu]})}return e})();var k0=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,In]})}return e})();var vye=["mat-menu-item",""],Cye=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],wye=["mat-icon, [matMenuItemIcon]","*"];function yye(e,t){e&1&&(Lw(),He(0,"svg",2),Ct(1,"polygon",3),Ke())}var bye=["*"];function _ye(e,t){if(e&1){let n=wo();He(0,"div",0),en("click",function(){Ui(n);let r=jn();return Wi(r.closed.emit("click"))})("animationstart",function(r){Ui(n);let o=jn();return Wi(o._onAnimationStart(r.animationName))})("animationend",function(r){Ui(n);let o=jn();return Wi(o._onAnimationDone(r.animationName))})("animationcancel",function(r){Ui(n);let o=jn();return Wi(o._onAnimationDone(r.animationName))}),He(1,"div",1),_i(2),Ke()()}if(e&2){let n=jn();cc(n._classList),Bn("mat-menu-panel-animations-disabled",n._animationsDisabled)("mat-menu-panel-exit-animation",n._panelAnimationState==="void")("mat-menu-panel-animating",n._isAnimating),mt("id",n.panelId),Ii("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null)("aria-describedby",n.ariaDescribedby||null)}}var x3=new xe("MAT_MENU_PANEL"),By=(()=>{class e{_elementRef=A(Mt);_document=A(Lt);_focusMonitor=A(cd);_parentMenu=A(x3,{optional:!0});_changeDetectorRef=A(Mi);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new ut;_focused=new ut;_highlighted=!1;_triggersSubmenu=!1;constructor(){A(ds).load(_D),this._parentMenu?.addItem?.(this)}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&en("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(Ii("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Bn("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ue],disableRipple:[2,"disableRipple","disableRipple",ue]},exportAs:["matMenuItem"],attrs:vye,ngContentSelectors:wye,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(Go(Cye),_i(0),He(1,"span",0),_i(2,1),Ke(),Ct(3,"div",1),Jt(4,yye,2,0,":svg:svg",2)),i&2&&(tt(3),mt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),tt(),ao(r._triggersSubmenu?4:-1))},dependencies:[aj],encapsulation:2,changeDetection:0})}return e})();var xye=new xe("MatMenuContent");var Sye=new xe("mat-menu-default-options",{providedIn:"root",factory:Eye});function Eye(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var _3="_mat-menu-enter",FD="_mat-menu-exit",P0=(()=>{class e{_elementRef=A(Mt);_changeDetectorRef=A(Mi);_injector=A(Tn);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Ph;_classList={};_panelAnimationState="void";_animationDone=new ut;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(n){let i=this._previousPanelClass,r=V({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(n){this.panelClass=n}closed=new ye;close=this.closed;panelId=A(wl).getId("mat-menu-panel-");constructor(){let n=A(Sye);this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this.overlapTrigger=n.overlapTrigger,this.hasBackdrop=n.hasBackdrop,this._animationsDisabled=A(Co,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new My(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Bo(this._directDescendantItems),Vo(n=>ic(...n.map(i=>i._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=n.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Bo(this._directDescendantItems),Vo(i=>ic(...i.map(r=>r._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){let i=n.keyCode,r=this._keyManager;switch(i){case 27:uc(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(n);return}}focusFirstItem(n="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=pa(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(n).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){}setPositionClasses(n=this.xPosition,i=this.yPosition){this._classList=De(V({},this._classList),{"mat-menu-before":n==="before","mat-menu-after":n==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(n){let i=n===FD;(i||n===_3)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(n){(n===_3||n===FD)&&(this._isAnimating=!0)}_setIsOpen(n){if(this._panelAnimationState=n?"enter":"void",n){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(FD),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(n?_3:FD)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Bo(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let n=null;return this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),n}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(vl(o,xye,5),vl(o,By,5),vl(o,By,4)),i&2){let s;ni(s=ii())&&(r.lazyContent=s.first),ni(s=ii())&&(r._allItems=s),ni(s=ii())&&(r.items=s)}},viewQuery:function(i,r){if(i&1&&wr(ua,5),i&2){let o;ni(o=ii())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&Ii("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ue],hasBackdrop:[2,"hasBackdrop","hasBackdrop",n=>n==null?null:ue(n)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[mi([{provide:x3,useExisting:e}])],ngContentSelectors:bye,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(Go(),Jt(0,_ye,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return e})(),Sj=new xe("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=A(Uo);return()=>e.scrollStrategies.reposition()}});function Dye(e){return()=>e.scrollStrategies.reposition()}var Rye={provide:Sj,deps:[Uo],useFactory:Dye},Tye={passive:!0};var Ny=new WeakMap,AD=(()=>{class e{_overlay=A(Uo);_element=A(Mt);_viewContainerRef=A(Lr);_menuItemInstance=A(By,{optional:!0,self:!0});_dir=A(bl,{optional:!0});_focusMonitor=A(cd);_ngZone=A(pt);_scrollStrategy=A(Sj);_changeDetectorRef=A(Mi);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Nn.EMPTY;_hoverSubscription=Nn.EMPTY;_menuCloseSubscription=Nn.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._parentMaterialMenu,this._menuCloseSubscription=n.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new ye;onMenuOpen=this.menuOpened;menuClosed=new ye;onMenuClose=this.menuClosed;constructor(){let n=A(x3,{optional:!0}),i=A(Kr);this._parentMaterialMenu=n instanceof P0?n:void 0,this._cleanupTouchstart=cs(i,this._element.nativeElement,"touchstart",r=>{Up(r)||(this._openedBy="touch")},Tye)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Ny.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let n=this.menu;if(this._menuOpen||!n)return;this._pendingRemoval?.unsubscribe();let i=Ny.get(n);Ny.set(n,this),i&&i!==this&&i.closeMenu();let r=this._createOverlay(n),o=r.getConfig(),s=o.positionStrategy;this._setPosition(n,s),o.hasBackdrop=n.hasBackdrop==null?!this.triggersSubmenu():n.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(n)),n.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),n instanceof P0&&(n._setIsOpen(!0),n._directDescendantItems.changes.pipe(Ri(n.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof P0&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Cr(1)).subscribe(()=>{i.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&Ny.delete(r),this.restoreFocus&&(n==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){let i=this._getOverlayConfig(n);this._subscribeToPositions(n,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof P0&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(n){return new Qh({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(n,i){n.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";n.setPositionClasses(o,s)})})}_setPosition(n,i){let[r,o]=n.xPosition==="before"?["end","start"]:["start","end"],[s,a]=n.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[d,h]=[r,o],f=0;if(this.triggersSubmenu()){if(h=r=n.xPosition==="before"?"start":"end",o=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let g=this._parentMaterialMenu.items.first;this._parentInnerPadding=g?g._getHostElement().offsetTop:0}f=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:f},{originX:o,originY:l,overlayX:h,overlayY:s,offsetY:f},{originX:r,originY:c,overlayX:d,overlayY:a,offsetY:-f},{originX:o,originY:c,overlayX:h,overlayY:a,offsetY:-f}])}_menuClosingActions(){let n=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:bt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(un(s=>this._menuOpen&&s!==this._menuItemInstance)):bt();return ic(n,r,o,i)}_handleMousedown(n){zp(n)||(this._openedBy=n.button===0?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){let i=n.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(n=>{n===this._menuItemInstance&&!n.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new Su(n.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(n){return Ny.get(n)===this}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&en("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),i&2&&Ii("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return e})(),Ej=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({providers:[Rye],imports:[k0,In,A0,Zh,In]})}return e})(),Dj={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},_at=Dj.fadeInItems,xat=Dj.transformMenu;var kD;function Mye(){if(kD===void 0&&(kD=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(kD=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return kD}function Vy(e){return Mye()?.createHTML(e)||e}function S3(e){return Error(`Unable to find icon with the name "${e}"`)}function Tj(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function E3(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function D3(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Du=class{url;svgText;options;svgElement;constructor(t,n,i){this.url=t,this.svgText=n,this.options=i}},Hy=(()=>{class e{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(n,i,r,o){this._httpClient=n,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(n,i,r){return this.addSvgIconInNamespace("",n,i,r)}addSvgIconLiteral(n,i,r){return this.addSvgIconLiteralInNamespace("",n,i,r)}addSvgIconInNamespace(n,i,r,o){return this._addSvgIconConfig(n,i,new Du(r,null,o))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,r,o){let s=this._sanitizer.sanitize(ls.HTML,r);if(!s)throw D3(r);let a=Vy(s);return this._addSvgIconConfig(n,i,new Du("",a,o))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,r){return this._addSvgIconSetConfig(n,new Du(i,null,r))}addSvgIconSetLiteralInNamespace(n,i,r){let o=this._sanitizer.sanitize(ls.HTML,i);if(!o)throw D3(i);let s=Vy(o);return this._addSvgIconSetConfig(n,new Du("",s,r))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let i=this._sanitizer.sanitize(ls.RESOURCE_URL,n);if(!i)throw E3(n);let r=this._cachedIconsByUrl.get(i);return r?bt(PD(r)):this._loadSvgIconFromConfig(new Du(n,null)).pipe(sr(o=>this._cachedIconsByUrl.set(i,o)),Tt(o=>PD(o)))}getNamedSvgIcon(n,i=""){let r=Rj(i,n),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,n),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(n,s):Rh(S3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?bt(PD(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Tt(i=>PD(i)))}_getSvgFromIconSetConfigs(n,i){let r=this._extractIconWithNameFromAnySet(n,i);if(r)return bt(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Uc(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(ls.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),bt(null)})));return vw(o).pipe(Tt(()=>{let s=this._extractIconWithNameFromAnySet(n,i);if(!s)throw S3(n);return s}))}_extractIconWithNameFromAnySet(n,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(n)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,n,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(sr(i=>n.svgText=i),Tt(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?bt(null):this._fetchIcon(n).pipe(sr(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,r){let o=n.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(Vy("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(n){let i=this._document.createElement("DIV");i.innerHTML=n;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){let i=this._svgElementFromString(Vy("<svg></svg>")),r=n.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&i.setAttribute(s,a)}for(let o=0;o<n.childNodes.length;o++)n.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){let{url:i,options:r}=n,o=r?.withCredentials??!1;if(!this._httpClient)throw Tj();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(ls.RESOURCE_URL,i);if(!s)throw E3(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Tt(c=>Vy(c)),rc(()=>this._inProgressUrlFetches.delete(s)),Fh());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(n,i,r){return this._svgIconConfigs.set(Rj(n,i),r),this}_addSvgIconSetConfig(n,i){let r=this._iconSetConfigs.get(n);return r?r.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){let i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,n);if(o)return Fye(o)?new Du(o.url,null,o.options):new Du(o,null)}}static \u0275fac=function(i){return new(i||e)(lt(u0,8),lt(Jw),lt(Lt,8),lt(Vs))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PD(e){return e.cloneNode(!0)}function Rj(e,t){return e+":"+t}function Fye(e){return!!(e.url&&e.options)}var Aye=["*"],Ij=new xe("MAT_ICON_DEFAULT_OPTIONS"),Mj=new xe("mat-icon-location",{providedIn:"root",factory:Fj});function Fj(){let e=A(Lt),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Aj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kye=Aj.map(e=>`[${e}]`).join(", "),Pye=/^url\(['"]?#(.*?)['"]?\)$/,Ru=(()=>{class e{_elementRef=A(Mt);_iconRegistry=A(Hy);_location=A(Mj);_errorHandler=A(Vs);_defaultColor;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(n){let i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(n){let i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Nn.EMPTY;constructor(){let n=A(new bS("aria-hidden"),{optional:!0}),i=A(Ij,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),n||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=n.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),i.forEach(r=>n.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${n}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(n){let i=n.querySelectorAll(kye),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Aj.forEach(s=>{let a=i[o],l=a.getAttribute(s),c=l?l.match(Pye):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[i,r]=this._splitIconName(n);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Cr(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Ii("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),cc(r.color?"mat-"+r.color:""),Bn("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ue],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Aye,decls:1,vars:0,template:function(i,r){i&1&&(Go(),_i(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),Tu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,In]})}return e})();var Oye=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return e})(),Lye={passive:!0},kj=(()=>{class e{_platform=A(Qn);_ngZone=A(pt);_renderer=A(so).createRenderer(null,null);_styleLoader=A(ds);_monitoredElements=new Map;constructor(){}monitor(n){if(!this._platform.isBrowser)return mo;this._styleLoader.load(Oye);let i=ja(n),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new ut,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),cs(this._renderer,i,"animationstart",a,Lye)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(n){let i=ja(n),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({})}return e})();var Oj=new xe("MAT_INPUT_VALUE_ACCESSOR");var T3=class{_box;_destroyed=new ut;_resizeSubject=new ut;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Nt(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(un(n=>n.some(i=>i.target===t)),lu({bufferSize:1,refCount:!0}),Ri(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Lj=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=A(pt);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(n,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new T3(r)),this._observers.get(r).observe(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Nye=["notch"],Bye=["matFormFieldNotchedOutline",""],Vye=["*"],Hye=["textField"],Gye=["iconPrefixContainer"],zye=["textPrefixContainer"],Uye=["iconSuffixContainer"],Wye=["textSuffixContainer"],jye=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$ye=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function qye(e,t){e&1&&Ct(0,"span",20)}function Kye(e,t){if(e&1&&(He(0,"label",19),_i(1,1),Jt(2,qye,1,0,"span",20),Ke()),e&2){let n=jn(2);mt("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),Ii("for",n._control.disableAutomaticLabeling?null:n._control.id),tt(2),ao(!n.hideRequiredMarker&&n._control.required?2:-1)}}function Xye(e,t){if(e&1&&Jt(0,Kye,3,5,"label",19),e&2){let n=jn();ao(n._hasFloatingLabel()?0:-1)}}function Yye(e,t){e&1&&Ct(0,"div",7)}function Zye(e,t){}function Qye(e,t){if(e&1&&Jt(0,Zye,0,0,"ng-template",13),e&2){jn(2);let n=Gs(1);mt("ngTemplateOutlet",n)}}function Jye(e,t){if(e&1&&(He(0,"div",9),Jt(1,Qye,1,1,null,13),Ke()),e&2){let n=jn();mt("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),tt(),ao(n._forceDisplayInfixLabel()?-1:1)}}function ebe(e,t){e&1&&(He(0,"div",10,2),_i(2,2),Ke())}function tbe(e,t){e&1&&(He(0,"div",11,3),_i(2,3),Ke())}function nbe(e,t){}function ibe(e,t){if(e&1&&Jt(0,nbe,0,0,"ng-template",13),e&2){jn();let n=Gs(1);mt("ngTemplateOutlet",n)}}function rbe(e,t){e&1&&(He(0,"div",14,4),_i(2,4),Ke())}function obe(e,t){e&1&&(He(0,"div",15,5),_i(2,5),Ke())}function sbe(e,t){e&1&&Ct(0,"div",16)}function abe(e,t){e&1&&_i(0,6)}function lbe(e,t){if(e&1&&(He(0,"mat-hint",21),Pn(1),Ke()),e&2){let n=jn(2);mt("id",n._hintLabelId),tt(),yo(n.hintLabel)}}function cbe(e,t){if(e&1&&(Jt(0,lbe,2,2,"mat-hint",21),_i(1,7),Ct(2,"div",22),_i(3,8)),e&2){let n=jn();ao(n.hintLabel?0:-1)}}var LD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["mat-label"]]})}return e})(),Uj=new xe("MatError");var ND=(()=>{class e{align="start";id=A(wl).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Gw("id",r.id),Ii("align",null),Bn("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return e})(),Wj=new xe("MatPrefix");var I3=new xe("MatSuffix"),BD=(()=>{class e{set _isTextSelector(n){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[mi([{provide:I3,useExisting:e}])]})}return e})(),jj=new xe("FloatingLabelParent"),Nj=(()=>{class e{_elementRef=A(Mt);get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=A(Lj);_ngZone=A(pt);_parent=A(jj);_resizeSubscription=new Nn;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return dbe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Bn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return e})();function dbe(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var Bj="mdc-line-ripple--active",OD="mdc-line-ripple--deactivating",Vj=(()=>{class e{_elementRef=A(Mt);_cleanupTransitionEnd;constructor(){let n=A(pt),i=A(Kr);n.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(OD),n.add(Bj)}deactivate(){this._elementRef.nativeElement.classList.add(OD)}_handleTransitionEnd=n=>{let i=this._elementRef.nativeElement.classList,r=i.contains(OD);n.propertyName==="opacity"&&r&&i.remove(Bj,OD)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return e})(),Hj=(()=>{class e{_elementRef=A(Mt);_ngZone=A(pt);open=!1;_notch;constructor(){}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&wr(Nye,5),i&2){let o;ni(o=ii())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Bn("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Bye,ngContentSelectors:Vye,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Go(),Ct(0,"div",1),He(1,"div",2,0),_i(3),Ke(),Ct(4,"div",3))},encapsulation:2,changeDetection:0})}return e})(),VD=(()=>{class e{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e})}return e})();var HD=new xe("MatFormField"),GD=new xe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Gj="fill",ube="auto",zj="fixed",hbe="translateY(-50%)",zD=(()=>{class e{_elementRef=A(Mt);_changeDetectorRef=A(Mi);_dir=A(bl);_platform=A(Qn);_idGenerator=A(wl);_ngZone=A(pt);_injector=A(Tn);_defaults=A(GD,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Wz(LD);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=dd(n)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||ube}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(n){let i=this._appearance,r=n||this._defaults?.appearance||Gj;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=Gj;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||zj}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||zj}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}_destroyed=new ut;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let n=this._defaults;n&&(n.appearance&&(this.appearance=n.appearance),this._hideRequiredMarker=!!n?.hideRequiredMarker,n.color&&(this.color=n.color)),this._animationsDisabled=A(Co,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=td(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let i=this._control,r="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(r+n.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Bo([void 0,void 0]),Tt(()=>[i.errorState,i.userAriaDescribedBy]),X1(),un(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ri(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ic(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Vw(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ri(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=td(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let i=this._control?this._control.ngControl:null;return i&&i[n]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,h=this._dir.value==="rtl"?"-1":"1",f=`${a+l}px`,m=`calc(${h} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${hbe} translateX(${m})
    )`;let v=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${v}px)`)}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(vU(o,r._labelChild,LD,5),vl(o,VD,5),vl(o,Wj,5),vl(o,I3,5),vl(o,Uj,5),vl(o,ND,5)),i&2){CU();let s;ni(s=ii())&&(r._formFieldControl=s.first),ni(s=ii())&&(r._prefixChildren=s),ni(s=ii())&&(r._suffixChildren=s),ni(s=ii())&&(r._errorChildren=s),ni(s=ii())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(wr(Hye,5),wr(Gye,5),wr(zye,5),wr(Uye,5),wr(Wye,5),wr(Nj,5),wr(Hj,5),wr(Vj,5)),i&2){let o;ni(o=ii())&&(r._textField=o.first),ni(o=ii())&&(r._iconPrefixContainer=o.first),ni(o=ii())&&(r._textPrefixContainer=o.first),ni(o=ii())&&(r._iconSuffixContainer=o.first),ni(o=ii())&&(r._textSuffixContainer=o.first),ni(o=ii())&&(r._floatingLabel=o.first),ni(o=ii())&&(r._notchedOutline=o.first),ni(o=ii())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&Bn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[mi([{provide:HD,useExisting:e},{provide:jj,useExisting:e}])],ngContentSelectors:$ye,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=wo();Go(jye),Jt(0,Xye,1,1,"ng-template",null,0,Hh),He(2,"div",6,1),en("click",function(a){return Ui(o),Wi(r._control.onContainerClick(a))}),Jt(4,Yye,1,0,"div",7),He(5,"div",8),Jt(6,Jye,2,2,"div",9)(7,ebe,3,0,"div",10)(8,tbe,3,0,"div",11),He(9,"div",12),Jt(10,ibe,1,1,null,13),_i(11),Ke(),Jt(12,rbe,3,0,"div",14)(13,obe,3,0,"div",15),Ke(),Jt(14,sbe,1,0,"div",16),Ke(),He(15,"div",17),jk(16),He(17,"div",18),Jt(18,abe,1,0)(19,cbe,4,1),Ke()()}if(i&2){let o;tt(2),Bn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),tt(2),ao(!r._hasOutline()&&!r._control.disabled?4:-1),tt(2),ao(r._hasOutline()?6:-1),tt(),ao(r._hasIconPrefix?7:-1),tt(),ao(r._hasTextPrefix?8:-1),tt(2),ao(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),tt(2),ao(r._hasTextSuffix?12:-1),tt(),ao(r._hasIconSuffix?13:-1),tt(),ao(r._hasOutline()?-1:14),tt(),Bn("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();tt(2),Bn("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),tt(),ao((o=s)==="error"?18:o==="hint"?19:-1)}},dependencies:[Nj,Hj,Jk,Vj,ND],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,changeDetection:0})}return e})();var $j=(()=>{class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var UD=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,n,i,r,o){this._defaultMatcher=t,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var L0=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,$p,In]})}return e})();var mbe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],vbe=new xe("MAT_INPUT_CONFIG"),qj=(()=>{class e{_elementRef=A(Mt);_platform=A(Qn);ngControl=A(Gp,{optional:!0,self:!0});_autofillMonitor=A(kj);_ngZone=A(pt);_formField=A(HD,{optional:!0});_renderer=A(Kr);_uid=A(wl).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=A(vbe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ut;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=dd(n),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(n){this._id=n||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(QE.required)??!1}set required(n){this._required=dd(n)}_required;get type(){return this._type}set type(n){let i=this._type;this._type=n||"text",this._validateType(),!this._isTextarea&&m3().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(n){n!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(n):this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=dd(n)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(n=>m3().has(n));constructor(){let n=A(Ey,{optional:!0}),i=A(e3,{optional:!0}),r=A($j),o=A(Oj,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?t0(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new UD(r,this.ngControl,i,n,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Gh(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){if(n!==this.focused){if(!this._isNativeSelect&&n&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=n,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){mbe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(n){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||n;o=n.concat(r.split(" ").filter(a=>a&&!s.includes(a)))}else o=n;this._formFieldDescribedBy=n,o.length?i.setAttribute("aria-describedby",o.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_iOSKeyupListener=n=>{let i=n.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&en("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Gw("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ii("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Bn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue]},exportAs:["matInput"],features:[mi([{provide:VD,useExisting:e}]),Hs]})}return e})(),Kj=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,L0,L0,Pj,In]})}return e})();var wbe=["tooltip"],M3=20;var F3=new xe("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=A(Uo);return()=>e.scrollStrategies.reposition({scrollThrottle:M3})}});function Zj(e){return()=>e.scrollStrategies.reposition({scrollThrottle:M3})}var Qj={provide:F3,deps:[Uo],useFactory:Zj};function Jj(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var e$=new xe("mat-tooltip-default-options",{providedIn:"root",factory:Jj});var Xj="tooltip-panel",Yj=Xh({passive:!0}),ybe=8,bbe=8,_be=24,xbe=200,A3=(()=>{class e{_elementRef=A(Mt);_ngZone=A(pt);_platform=A(Qn);_ariaDescriber=A(ej);_focusMonitor=A(cd);_dir=A(bl);_injector=A(Tn);_viewContainerRef=A(Lr);_defaultOptions=A(e$,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=t$;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=dd(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){let i=dd(n);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=E0(n)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=E0(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(n){let i=this._message;this._message=n!=null?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new ut;_isDestroyed=!1;constructor(){let n=this._defaultOptions;n&&(this._showDelay=n.showDelay,this._hideDelay=n.hideDelay,n.position&&(this.position=n.position),n.positionAtOrigin&&(this.positionAtOrigin=n.positionAtOrigin),n.touchGestures&&(this.touchGestures=n.touchGestures),n.tooltipClass&&(this.tooltipClass=n.tooltipClass)),this._viewportMargin=ybe}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ri(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let n=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{n.removeEventListener(i,r,Yj)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new xu(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ri(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(n)}hide(n=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof Mt)return this._overlayRef;this._detach()}let i=this._injector.get(F0).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Uo),o=r.position().flexibleConnectedTo(this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Ri(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Xj}`,scrollStrategy:this._injector.get(F3)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ri(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ri(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ri(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!uc(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ri(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){let i=n.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(V(V({},r.main),o.main)),this._addOffset(V(V({},r.fallback),o.fallback))])}_addOffset(n){let i=bbe,r=!this._dir||this._dir.value=="ltr";return n.originY==="top"?n.offsetY=-i:n.originY==="bottom"?n.offsetY=i:n.originX==="start"?n.offsetX=r?-i:i:n.originX==="end"&&(n.offsetX=r?i:-i),n}_getOrigin(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),pa(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){let{overlayY:i,originX:r,originY:o}=n,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${Xj}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let i;n.x!==void 0&&n.y!==void 0&&(i=n),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{let i=n.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,Yj)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){let i=this._injector.get(Lt).elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let n=this.touchGestures;if(n!=="off"){let i=this._elementRef.nativeElement,r=i.style;(n==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(n==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(n){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,n,"tooltip"),this._isDestroyed||pa({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&Bn("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return e})(),t$=(()=>{class e{_changeDetectorRef=A(Mi);_elementRef=A(Mt);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new ut;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let n=A(Co,{optional:!0});this._animationsDisabled=n==="NoopAnimations"}show(n){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>_be&&n.width>=xbe}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(n?o:r),i.classList.add(n?r:o),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&wr(wbe,7),i&2){let o;ni(o=ii())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&en("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=wo();He(0,"div",1,0),en("animationend",function(a){return Ui(o),Wi(r._handleAnimationEnd(a))}),He(2,"div",2),Pn(3),Ke()()}i&2&&(Bn("mdc-tooltip--multiline",r._isMultiline),mt("ngClass",r.tooltipClass),tt(3),yo(r.message))},dependencies:[o0],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return e})(),Gy=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({providers:[Qj],imports:[vD,A0,In,In,Zh]})}return e})();function xi(e){e||(Pw(xi),e=A(Zi));let t=new Nt(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe(Ri(t))}var Jh=class e{userStore$=new Yn(null);user$=this.userStore$.asObservable();isLogged(){return!!this.userStore$.getValue()?.id}setUserName(t){this.userStore$.next(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};function Ebe(e,t){e&1&&zk(0)}function Dbe(e,t){if(e&1){let n=wo();He(0,"button",14),en("click",function(r){Ui(n);let o=jn();return Wi(o.logout(r))}),Pn(1," Logout "),Ke()}}function Rbe(e,t){if(e&1&&(He(0,"button",15),Pn(1,"login"),Ke()),e&2){jn();let n=Gs(15);mt("matMenuTriggerFor",n)}}var N0=class e{constructor(t){this.authService$=t}trigger=null;destroyRef=A(Zi);userName="";isLoggedIn=!1;ngOnInit(){let t=this.authService$.user$.pipe(xi(this.destroyRef)).subscribe(n=>{n?(this.isLoggedIn=!0,this.userName=n.name):this.isLoggedIn=!1});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}usernameChangeWithEvent(){this.userName&&(this.authService$.setUserName({name:this.userName,id:Dy()}),this.trigger?.closeMenu())}logout(t){this.authService$.setUserName(null),t.stopPropagation(),setTimeout(()=>this.trigger?.closeMenu(),60)}static \u0275fac=function(n){return new(n||e)(We(Jh))};static \u0275cmp=et({type:e,selectors:[["app-header"]],viewQuery:function(n,i){if(n&1&&wr(AD,5),n&2){let r;ni(r=ii())&&(i.trigger=r.first)}},decls:22,vars:6,consts:[["menu","matMenu"],["loggedIn",""],["loggedOut",""],["login","matMenu"],[1,"brand"],[1,"menu"],["matTooltipPosition","left","matTooltipClass","tooltip","mat-icon-button","","aria-label","Account icon-button with a menu",3,"matTooltip","matMenuTriggerFor"],["src","assets/icons8-login-50.png","alt","avatar"],[4,"ngIf","ngIfThen","ngIfElse"],["mat-menu-item","",1,"login-form",3,"click"],[1,"full-width"],["type","text","name","userName","matInput","","placeholder","Please enter username",3,"ngModelChange","ngModel"],["matTooltip","Submit username","matTooltipPosition","above","matSuffix","","mat-icon-button","","aria-label","Submit",3,"click"],["matIconSuffix",""],["mat-menu-item","",1,"logout-button",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"]],template:function(n,i){if(n&1){let r=wo();He(0,"header")(1,"div",4)(2,"h5"),Pn(3,"The Hangout"),Ke()(),He(4,"div",5)(5,"button",6),Ct(6,"img",7),Ke(),He(7,"mat-menu",null,0),Jt(9,Ebe,1,0,"ng-container",8)(10,Dbe,2,0,"ng-template",null,1,Hh)(12,Rbe,2,1,"ng-template",null,2,Hh),Ke(),He(14,"mat-menu",null,3)(16,"form",9),en("click",function(s){return Ui(r),Wi(s.stopPropagation())}),He(17,"mat-form-field",10)(18,"input",11),Wk("ngModelChange",function(s){return Ui(r),yU(i.userName,s)||(i.userName=s),Wi(s)}),Ke(),He(19,"button",12),en("click",function(){return Ui(r),Wi(i.usernameChangeWithEvent())}),He(20,"mat-icon",13),Pn(21,"recommend"),Ke()()()()()()()}if(n&2){let r=Gs(8),o=Gs(11),s=Gs(13);tt(5),mt("matTooltip",i.isLoggedIn?"Logout menu":"Login menu")("matMenuTriggerFor",r),tt(4),mt("ngIf",i.isLoggedIn)("ngIfThen",o)("ngIfElse",s),tt(9),Uk("ngModel",i.userName)}},dependencies:[FW,MW,lD,_W,xW,JP,Ey,Zn,za,Ej,P0,By,AD,Tu,Ru,Kj,qj,zD,BD,L0,Gy,A3],styles:[".mat-mdc-menu-content{padding:0 10px!important}  .mat-mdc-menu-item{padding:0!important}  .mat-mdc-text-field-wrapper, button[mat-icon-button][_ngcontent-%COMP%]{background-color:transparent!important}  .mat-mdc-menu-trigger{background-color:transparent!important;border-style:none!important}  .mdc-line-ripple{display:none!important}  .mat-mdc-form-field-icon-suffix>button{border-style:none!important;margin-left:10px I!important}  .mdc-tooltip__surface{color:#fff!important;background:gray!important;background-color:gray!important}  .mat-mdc-menu-panel{min-width:fit-content!important}header[_ngcontent-%COMP%]{display:flex;background:#020024;background:linear-gradient(90deg,#020024,#090979 35%,#00d4ff);margin:0;padding:5px 40px;color:#f5f5f5;box-shadow:0 2px 4px #0000001a}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{height:60px}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px;margin:0;letter-spacing:1px}header[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{padding:5px}"]})};Au();va();var tf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};br();cf();var aO="projection",X$="coordinateFormat",lO=class extends xr{constructor(t){t=t||{};let n=document.createElement("div");n.className=t.className!==void 0?t.className:"ol-mouse-position",super({element:n,render:t.render,target:t.target}),this.on,this.once,this.un,this.addChangeListener(aO,this.handleProjectionChanged_),t.coordinateFormat&&this.setCoordinateFormat(t.coordinateFormat),t.projection&&this.setProjection(t.projection),this.renderOnMouseOut_=t.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?t.placeholder:"&#160;",this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=t.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(X$)}getProjection(){return this.get(aO)}handleMouseMove(t){let n=this.getMap();this.updateHTML_(n.getEventPixel(t))}handleMouseOut(t){this.updateHTML_(null)}setMap(t){if(super.setMap(t),t){let n=t.getViewport();this.listenerKeys.push(tn(n,tf.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(tn(n,tf.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(t){this.set(X$,t)}setProjection(t){this.set(aO,Fi(t))}updateHTML_(t){let n=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){let o=this.getProjection();o?this.transform_=Dl(this.mapProjection_,o):this.transform_=Q3}let r=this.getMap().getCoordinateFromPixelInternal(t);if(r){let o=fd();if(o&&(this.transform_=Dl(this.mapProjection_,o)),this.transform_(r,r),this.wrapX_){let a=o||this.getProjection()||this.mapProjection_;j0(r,a)}let s=this.getCoordinateFormat();s?n=s(r):n=r.toString()}}(!this.renderedHTML_||n!==this.renderedHTML_)&&(this.element.innerHTML=n,this.renderedHTML_=n)}render(t){let n=t.frameState;n?this.mapProjection_!=n.viewState.projection&&(this.mapProjection_=n.viewState.projection,this.transform_=null):this.mapProjection_=null}},Y$=lO;Au();var fR=class e{numberCoordinates(t=[0,0],n=0){return u$(t,n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var pR=class e{constructor(t,n){this.element=t;this.coordinateFormatter=n}map=null;control=null;ngOnInit(){this.control=new Y$({className:"mouseposition-control",coordinateFormat:t=>this.coordinateFormatter.numberCoordinates(t,4),target:this.element.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(n){return new(n||e)(We(Mt),We(fR))};static \u0275cmp=et({type:e,selectors:[["app-mouse-position"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:[".ol-scale-line{position:relative}  .ol-scale-line,   .ol-scale-line-inner{background-color:transparent;border-color:var(--text-color);color:var(--text-color);font-size:inherit;bottom:auto}"],changeDetection:0})};df();br();cf();var uO="units",l_e=[1,2,5],eb=25.4/.28,hO=class extends xr{constructor(t){t=t||{};let n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:t.render,target:t.target}),this.on,this.once,this.un;let i=t.className!==void 0?t.className:t.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+gd,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=t.minWidth!==void 0?t.minWidth:64,this.maxWidth_=t.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(uO,this.handleUnitsChanged_),this.setUnits(t.units||"metric"),this.scaleBar_=t.bar||!1,this.scaleBarSteps_=t.steps||4,this.scaleBarText_=t.text||!1,this.dpi_=t.dpi||void 0}getUnits(){return this.get(uO)}handleUnitsChanged_(){this.updateElement_()}setUnits(t){this.set(uO,t)}setDpi(t){this.dpi_=t}updateElement_(){let t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=t.center,i=t.projection,r=this.getUnits(),o=r=="degrees"?"degrees":"m",s=ng(i,t.resolution,n,o),a=this.minWidth_*(this.dpi_||eb)/eb,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||eb)/eb:void 0,c=a*s,d="";if(r=="degrees"){let _=Sl.degrees;c*=_,c<_/60?(d="\u2033",s*=3600):c<_?(d="\u2032",s*=60):d="\xB0"}else if(r=="imperial")c<.9144?(d="in",s/=.0254):c<1609.344?(d="ft",s/=.3048):(d="mi",s/=1609.344);else if(r=="nautical")s/=1852,d="NM";else if(r=="metric")c<1e-6?(d="nm",s*=1e9):c<.001?(d="\u03BCm",s*=1e6):c<1?(d="mm",s*=1e3):c<1e3?d="m":(d="km",s/=1e3);else if(r=="us")c<.9144?(d="in",s*=39.37):c<1609.344?(d="ft",s/=.30480061):(d="mi",s/=1609.3472);else throw new Error("Invalid units");let h=3*Math.floor(Math.log(a*s)/Math.log(10)),f,g,m,v=0,C,y;for(;;){m=Math.floor(h/3);let _=Math.pow(10,m);if(f=l_e[(h%3+3)%3]*_,g=Math.round(f/s),isNaN(g)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&g>=l){f=v,g=C,m=y;break}else if(g>=a)break;v=f,C=g,y=m,++h}let x=this.scaleBar_?this.createScaleBar(g,f,d):f.toFixed(m<0?-m:0)+" "+d;this.renderedHTML_!=x&&(this.innerElement_.innerHTML=x,this.renderedHTML_=x),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(t,n,i){let r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,a=t/s,l=[this.createMarker("absolute")];for(let d=0;d<s;++d){let h=d%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${h}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(d%2===0||s===2?this.createStepText(d,t,!1,n,i):"")+"</div>")}return l.push(this.createStepText(s,t,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${t}px;">`+o+"</div>":"")+l.join("")}createMarker(t){return`<div class="ol-scale-step-marker" style="position: ${t}; top: ${t==="absolute"?3:-10}px;"></div>`}createStepText(t,n,i,r,o){let a=(t===0?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(t===0?"":" "+o),l=t===0?-3:n/this.scaleBarSteps_*-1,c=t===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${t===0?"left":"center"};min-width: ${c}px;left: ${i?n+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){let t=ng(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||eb,i=1e3/25.4;return t*i*n}render(t){let n=t.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}},J$=hO;var gR=class e{constructor(t){this.elementRef=t}map=null;control=null;ngOnInit(){this.control=new J$({target:this.elementRef.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(n){return new(n||e)(We(Mt))};static \u0275cmp=et({type:e,selectors:[["app-scale-line"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},encapsulation:2,changeDetection:0})};nv();tb();pd();var pO=class extends _o{constructor(t,n,i){super(t),this.map=n,this.frameState=i!==void 0?i:null}},uf=pO;var gO=class extends uf{constructor(t,n,i,r,o,s){super(t,n,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},md=gO;dr();var Vi={SINGLECLICK:"singleclick",CLICK:yt.CLICK,DBLCLICK:yt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};dr();Qy();va();rg();var CO=class extends lf{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=tn(i,tf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=tn(i,tf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(yt.TOUCHMOVE,this.boundHandleTouchMove_,vR?{passive:!1}:!1)}emulateClick_(t){let n=new md(Vi.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new md(Vi.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new md(Vi.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){let n=t,i=n.pointerId;if(n.type==Vi.POINTERUP||n.type==Vi.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Vi.POINTERDOWN||n.type==Vi.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);let n=new md(Vi.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(On),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);let n=new md(Vi.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(tn(i,Vi.POINTERMOVE,this.handlePointerMove_,this),tn(i,Vi.POINTERUP,this.handlePointerUp_,this),tn(this.element_,Vi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(tn(this.element_.getRootNode(),Vi.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;let n=new md(Vi.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;let n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new md(Vi.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){let n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(On(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(yt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(On(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(On),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},iq=CO;cR();var Wo={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};Il();Y0();var xt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};dr();wa();mc();var nb=1/0,wO=class{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,hd(this.queuedElements_)}dequeue(){let t=this.elements_,n=this.priorities_,i=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(t){fn(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let n=this.priorityFunction_(t);return n!=nb?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){let n=this.elements_,i=this.priorities_,r=n.length,o=n[t],s=i[t],a=t;for(;t<r>>1;){let l=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),d=c<r&&i[c]<i[l]?c:l;n[t]=n[d],i[t]=i[d],t=d}n[t]=o,i[t]=s,this.siftDown_(a,t)}siftDown_(t,n){let i=this.elements_,r=this.priorities_,o=i[n],s=r[n];for(;n>t;){let a=this.getParentIndex_(n);if(r[a]>s)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=o,r[n]=s}reprioritize(){let t=this.priorityFunction_,n=this.elements_,i=this.priorities_,r=0,o=n.length,s,a,l;for(a=0;a<o;++a)s=n[a],l=t(s),l==nb?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=l,n[r++]=s);n.length=r,i.length=r,this.heapify_()}},rq=wO;var yO=class extends rq{constructor(t,n){super(i=>t.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){let n=super.enqueue(t);return n&&t[0].addEventListener(yt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){let n=t.target,i=n.getState();if(i===xt.LOADED||i===xt.ERROR||i===xt.EMPTY){i!==xt.ERROR&&n.removeEventListener(yt.CHANGE,this.boundHandleTileChange_);let r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let i=0;for(;this.tilesLoading_<t&&i<n&&this.getCount()>0;){let r=this.dequeue()[0],o=r.getKey();r.getState()===xt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}},oq=yO;function sq(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return nb;if(!e.wantedTiles[n][t.getKey()])return nb;let o=e.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}ab();CR();Vr();wa();G3();nv();Vr();df();Eo();dr();Ws();cf();var QO=class extends xr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;let n=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"\u203A",s=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let a=t.label!==void 0?t.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;let l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(yt.CLICK,this.handleClick_.bind(this),!1);let c=n+" "+gd+" "+ev+(this.collapsed_&&this.collapsible_?" "+cO:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=c,d.appendChild(this.toggleButton_),d.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){let n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){let r=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}updateElement_(t){return Pr(this,null,function*(){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let n=yield Promise.all(this.collectSourceAttributions_(t).map(r=>q$(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!fs(n,this.renderedAttributions_)){MR(this.ulElement_);for(let r=0,o=n.length;r<o;++r){let s=document.createElement("li");s.innerHTML=n[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}})}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(cO),this.collapsed_?ZO(this.collapseLabel_,this.label_):ZO(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}},sg=QO;df();hf();dr();cf();var JO=class extends xr{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});let n=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"\u21E7",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let o=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(yt.CLICK,this.handleClick_.bind(this),!1);let a=n+" "+gd+" "+ev,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Jy)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let n=this.getMap().getView();if(!n)return;let i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Fl}):n.setRotation(0))}render(t){let n=t.frameState;if(!n)return;let i=n.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let o=this.element.classList.contains(Jy);!o&&i===0?this.element.classList.add(Jy):o&&i!==0&&this.element.classList.remove(Jy)}this.label_.style.transform=r}this.rotation_=i}},Qq=JO;df();hf();dr();cf();var eL=class extends xr{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});let n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",s=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2013",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",c=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=r,d.setAttribute("type","button"),d.title=l,d.appendChild(typeof s=="string"?document.createTextNode(s):s),d.addEventListener(yt.CLICK,this.handleClick_.bind(this,i),!1);let h=document.createElement("button");h.className=o,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(yt.CLICK,this.handleClick_.bind(this,-i),!1);let f=n+" "+gd+" "+ev,g=this.element;g.className=f,g.appendChild(d),g.appendChild(h),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let o=i.getConstrainedZoom(r+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Fl})):i.setZoom(o)}}},Jq=eL;function ag(e){e=e||{};let t=new js;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new Jq(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new Qq(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new sg(e.attributionOptions)),t}dr();va();Vn();Ws();rg();nv();var tL=class{constructor(t,n,i){this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;let t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>t;)i-=3;let r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;let o=this.points_[n]-this.points_[i],s=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},eK=tL;Il();hf();var nL={ACTIVE:"active"};var iL=class extends _r{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(nL.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(nL.ACTIVE,t)}setMap(t){this.map_=t}};function tK(e,t,n){let i=e.getCenterInternal();if(i){let r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:uq,center:e.getConstrainedCenter(r)})}}function av(e,t,n,i){let r=e.getZoom();if(r===void 0)return;let o=e.getConstrainedZoom(r+t),s=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:i!==void 0?i:250,easing:Fl})}var vd=iL;var rL=class extends vd{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==Vi.DBLCLICK){let i=t.originalEvent,r=t.map,o=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,a=r.getView();av(a,s,o,this.duration_),i.preventDefault(),n=!0}return!n}},nK=rL;Au();hf();Ws();rg();function lb(e){let t=arguments;return function(n){let i=!0;for(let r=0,o=t.length;r<o&&(i=i&&t[r](n),!!i);++r);return i}}var iK=function(e){let t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},w_e=function(e){let t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)},FR=function(e){let t=e.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?w_e(e):!0},rK=Lu;var AR=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.button==0&&!(tq&&mO&&t.ctrlKey)};var kR=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};var oK=function(e){let t=e.originalEvent;return mO?t.metaKey:t.ctrlKey},sK=function(e){let t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},PR=function(e){let t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},OR=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.pointerType=="mouse"};var aK=function(e){let t=e.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&t.button===0};Ws();var oL=class extends vd{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Vi.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Vi.POINTERUP){let i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Vi.POINTERDOWN){let i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==Vi.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function lv(e){let t=e.length,n=0,i=0;for(let r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var Cd=oL;var sL=class extends Cd{constructor(t){super({stopDown:Nu}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let n=t.condition?t.condition:lb(kR,aK);this.condition_=t.onFocusOnly?lb(FR,n):n,this.noKinetic_=!1}handleDragEvent(t){let n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());let i=this.targetPointers,r=n.getEventPixel(lv(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();d$(o,a.getResolution()),W0(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){let n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Fl})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){let i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},lK=sL;Ws();TR();var aL=class extends Cd{constructor(t){t=t||{},super({stopDown:Nu}),this.condition_=t.condition?t.condition:iK,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!OR(t))return;let n=t.map,i=n.getView();if(i.getConstraints().rotation===ov)return;let r=n.getSize(),o=t.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){let a=s-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=s}handleUpEvent(t){return OR(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return OR(t)&&AR(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},cK=aL;hf();pd();Zy();zO();var lL=class extends af{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let t=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+i,r.top=Math.min(t[1],n[1])+i,r.width=Math.abs(n[0]-t[0])+i,r.height=Math.abs(n[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new zq([r])}getGeometry(){return this.geometry_}},dK=lL;var cv={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},lg=class extends _o{constructor(t,n,i){super(t),this.coordinate=n,this.mapBrowserEvent=i}},cL=class extends Cd{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new dK(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??AR,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,i){let r=i[0]-n[0],o=i[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new lg(cv.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;let n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new lg(n?cv.BOXEND:cv.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new lg(cv.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new lg(cv.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new lg(cv.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}},uK=cL;var dL=class extends uK{constructor(t){t=t||{};let n=t.condition?t.condition:sK;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),a=i.getResolution()/s;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Fl})}},hK=dL;Au();dr();var vf={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var uL=class extends vd{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return kR(n)&&PR(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==yt.KEYDOWN){let i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==vf.DOWN||r==vf.LEFT||r==vf.RIGHT||r==vf.UP)){let s=t.map.getView(),a=s.getResolution()*this.pixelDelta_,l=0,c=0;r==vf.DOWN?c=-a:r==vf.LEFT?l=-a:r==vf.RIGHT?l=a:c=a;let d=[l,c];W0(d,s.getRotation()),tK(s,d,this.duration_),i.preventDefault(),n=!0}}return!n}},fK=uL;dr();var hL=class extends vd{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!oK(n)&&PR(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==yt.KEYDOWN||t.type==yt.KEYPRESS){let i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==="+"||r==="-")){let o=t.map,s=r==="+"?this.delta_:-this.delta_,a=o.getView();av(a,s,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}},pK=hL;dr();Ji();var fL=class extends vd{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;let n=t.condition?t.condition:rK;this.condition_=t.onFocusOnly?lb(FR,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==yt.WHEEL)return!0;let i=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==yt.WHEEL&&(o=r.deltaY,r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(t){let n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-Wn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),av(n,i,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}},gK=fL;Ws();TR();var pL=class extends Cd{constructor(t){t=t||{};let n=t;n.stopDown||(n.stopDown=Nu),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0,i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;let s=t.map,a=s.getView();a.getConstraints().rotation!==ov&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(lv(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){let n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},mK=pL;Ws();var gL=class extends Cd{constructor(t){t=t||{};let n=t;n.stopDown||(n.stopDown=Nu),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1,i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,a=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;let l=t.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(lv(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){let i=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){let n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},vK=gL;function CK(e){e=e||{};let t=new js,n=new eK(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new cK),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new nK({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new lK({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new mK),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new vK({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new fK),t.push(new pK({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new gK({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new hK({duration:e.zoomDuration})),t}nv();tb();Y0();wa();pd();dr();va();Vn();mc();er();CL();var wc=class extends _o{constructor(t,n){super(t),this.layer=n}},wL={LAYERS:"layers"},yL=class e extends LR{constructor(t){t=t||{};let n=Object.assign({},t);delete n.layers;let i=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(wL.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new js(i.slice(),{unique:!0}):fn(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new js(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(On),this.layersListenerKeys_.length=0;let t=this.getLayers();this.layersListenerKeys_.push(tn(t,xo.ADD,this.handleLayersAdd_,this),tn(t,xo.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(On);hd(this.listenerKeys_);let n=t.getArray();for(let i=0,r=n.length;i<r;i++){let o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new wc("addlayer",o))}this.changed()}registerLayerListeners_(t){let n=[tn(t,vc.PROPERTYCHANGE,this.handleLayerChange_,this),tn(t,yt.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push(tn(t,"addlayer",this.handleLayerGroupAdd_,this),tn(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Wt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new wc("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new wc("removelayer",t.layer))}handleLayersAdd_(t){let n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new wc("addlayer",n)),this.changed()}handleLayersRemove_(t){let n=t.element,i=Wt(n);this.listenerKeys_[i].forEach(On),delete this.listenerKeys_[i],this.dispatchEvent(new wc("removelayer",n)),this.changed()}getLayers(){return this.get(wL.LAYERS)}setLayers(t){let n=this.getLayers();if(n){let i=n.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new wc("removelayer",i[r]))}this.set(wL.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){let n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});let r=this.getLayerState(),o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let s=i,a=n.length;s<a;s++){let l=n[s];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=ud(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=o)}return n}getSourceState(){return"ready"}},cb=yL;uv();br();dv();Y0();df();Eo();va();lN();uv();dN();dv();ju();Zy();Au();Vn();Ws();uv();_b();Cc();er();var uN=class extends af{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){En()}calculateMatrices2D(t){let n=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;jo(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),wR(r,i)}forEachFeatureAtCoordinate(t,n,i,r,o,s,a,l){let c,d=n.viewState;function h(R,I,F,T){return o.call(s,I,R?F:null,T)}let f=d.projection,g=j0(t.slice(),f),m=[[0,0]];if(f.canWrapX()&&r){let R=f.getExtent(),I=hn(R);m.push([-I,0],[I,0])}let v=n.layerStatesArray,C=v.length,y=[],x=[];for(let R=0;R<m.length;R++)for(let I=C-1;I>=0;--I){let F=v[I],T=F.layer;if(T.hasRenderer()&&db(F,d)&&a.call(l,T)){let P=T.getRenderer(),L=T.getSource();if(P&&L){let U=L.getWrapX()?g:t,W=h.bind(null,F.managed);x[0]=U[0]+m[R][0],x[1]=U[1]+m[R][1],c=P.forEachFeatureAtCoordinate(x,n,i,W,y)}if(c)return c}}if(y.length===0)return;let _=1/y.length;return y.forEach((R,I)=>R.distanceSq+=I*_),y.sort((R,I)=>R.distanceSq-I.distanceSq),y.some(R=>c=R.callback(R.feature,R.layer,R.geometry)),c}hasFeatureAtCoordinate(t,n,i,r,o,s){return this.forEachFeatureAtCoordinate(t,n,i,r,Lu,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(t){En()}scheduleExpireIconCache(t){ms.canExpireCache()&&t.postRenderFunctions.push(bxe)}};function bxe(e,t){ms.expire()}var ZK=uN;var hN=class extends ZK{constructor(t){super(t),this.fontChangeListenerKey_=tn(bd,vc.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");let n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=gd+" ol-layers";let i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){let i=this.getMap();if(i.hasListener(t)){let r=new nT(t,void 0,n);i.dispatchEvent(r)}}disposeInternal(){On(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent($o.PRECOMPOSE,t);let n=t.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof tT&&a.layer.getDeclutter())&&(t.declutter={});let r=t.viewState;this.children_.length=0;let o=[],s=null;for(let a=0,l=n.length;a<l;++a){let c=n[a];t.layerIndex=a;let d=c.layer,h=d.getSourceState();if(!db(c,r)||h!="ready"&&h!="undefined"){d.unrender();continue}let f=d.render(t,s);f&&(f!==s&&(this.children_.push(f),s=f),o.push(c))}this.declutter(t,o),Zq(this.element_,this.children_),this.dispatchRenderEvent($o.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let i=n.length-1;i>=0;--i){let r=n[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}n.forEach(i=>i.layer.renderDeferred(t))}}},QK=hN;wd();Cc();er();function JK(e){if(e instanceof cg){e.setMapInternal(null);return}e instanceof cb&&e.getLayers().forEach(JK)}function eX(e,t){if(e instanceof cg){e.setMapInternal(t);return}if(e instanceof cb){let n=e.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)eX(n[i],t)}}var fN=class extends _r{constructor(t){super(),t=t||{},this.on,this.once,this.un;let n=_xe(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:nq,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=So(),this.pixelToCoordinateTransform_=So(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||ag(),this.interactions=n.interactions||CK({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new oq(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Wo.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Wo.VIEW,this.handleViewChanged_),this.addChangeListener(Wo.SIZE,this.handleSizeChanged_),this.addChangeListener(Wo.TARGET,this.handleTargetChanged_),this.setProperties(n.values);let i=this;t.view&&!(t.view instanceof ps)&&t.view.then(function(r){i.setView(new ps(r))}),this.controls.addEventListener(xo.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(xo.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(xo.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(xo.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(xo.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(xo.REMOVE,r=>{let o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){eX(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){let n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};let o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Lu,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,n,null,s,null)}getFeaturesAtPixel(t,n){let i=[];return this.forEachFeatureAtPixel(t,function(r){i.push(r)},n),i}getAllLayers(){let t=[];function n(i){i.forEach(function(r){r instanceof cb?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};let r=n.layerFilter!==void 0?n.layerFilter:Lu,o=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-i.left)/o,(a.clientY-i.top)/s]}getTarget(){return this.get(Wo.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return X0(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){let n=this.frameState_;return n?ur(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){let n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Wo.LAYERGROUP)}setLayers(t){let n=this.getLayerGroup();if(t instanceof js){n.setLayers(t);return}let i=n.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){let r=t[n];if(!r.visible)continue;let o=r.layer.getRenderer();if(o&&!o.ready)return!0;let s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){let n=Rl(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){let n=this.frameState_;return n?ur(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Wo.SIZE)}getView(){return this.get(Wo.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,i,r){return sq(this.frameState_,t,n,i,r)}handleBrowserEvent(t,n){n=n||t.type;let i=new md(n,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;let n=t.originalEvent,i=n.type;if(i===tf.POINTERDOWN||i===yt.WHEEL||i===yt.KEYDOWN){let r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=n.target,a=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!a.contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){let r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){let t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){let s=t.viewHints;if(s[lo.ANIMATING]||s[lo.INTERACTING]){let a=Date.now()-t.time>8;r=a?0:8,o=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener($o.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent($o.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new uf(Tl.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new uf(Tl.LOADSTART,this,t))));let i=this.postRenderFunctions_;if(t)for(let r=0,o=i.length;r<o;++r)i[r](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)On(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(yt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(yt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new QK(this)),this.mapBrowserEventHandler_=new iq(this,this.moveTolerance_);for(let o in Vi)this.mapBrowserEventHandler_.addEventListener(Vi[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(yt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(yt.WHEEL,this.boundHandleBrowserEvent_,vR?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{let o=n.getRootNode();i=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[tn(i,yt.KEYDOWN,this.handleBrowserEvent,this),tn(i,yt.KEYPRESS,this.handleBrowserEvent,this)];let r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(On(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(On(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=tn(t,vc.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=tn(t,yt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(On),this.layerGroupPropertyListenerKeys_=null);let t=this.getLayerGroup();t&&(this.handleLayerAdd_(new wc("addlayer",t)),this.layerGroupPropertyListenerKeys_=[tn(t,vc.PROPERTYCHANGE,this.render,this),tn(t,yt.CHANGE,this.render,this),tn(t,"addlayer",this.handleLayerAdd_,this),tn(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){let r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){JK(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){let n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(n!==void 0&&AL(n)&&i&&i.isDef()){let s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Uy(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:Wt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){let l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=Uy(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!ef(this.previousExtent_)&&!Mu(o.extent,this.previousExtent_))&&(this.dispatchEvent(new uf(Tl.MOVESTART,this,r)),this.previousExtent_=Zp(this.previousExtent_)),this.previousExtent_&&!o.viewHints[lo.ANIMATING]&&!o.viewHints[lo.INTERACTING]&&!Mu(o.extent,this.previousExtent_)&&(this.dispatchEvent(new uf(Tl.MOVEEND,this,o)),jD(o.extent,this.previousExtent_))),this.dispatchEvent(new uf(Tl.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Tl.LOADSTART)||this.hasListener(Tl.LOADEND)||this.hasListener($o.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){let n=this.getLayerGroup();n&&this.handleLayerRemove_(new wc("removelayer",n)),this.set(Wo.LAYERGROUP,t)}setSize(t){this.set(Wo.SIZE,t)}setTarget(t){this.set(Wo.TARGET,t)}setView(t){if(!t||t instanceof ps){this.set(Wo.VIEW,t);return}this.set(Wo.VIEW,new ps);let n=this;t.then(function(i){n.setView(new ps(i))})}updateSize(){let t=this.getTargetElement(),n;if(t){let r=getComputedStyle(t),o=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(n=[Math.max(0,o),Math.max(0,s)],!AL(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&QD("No map visible because the map container's width or height are 0."))}let i=this.getSize();n&&(!i||!fs(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){let n=this.getView();n&&n.setViewportSize(t)}};function _xe(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);let n={},i=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new cb({layers:e.layers});n[Wo.LAYERGROUP]=i,n[Wo.TARGET]=e.target,n[Wo.VIEW]=e.view instanceof ps?e.view:new ps;let r;e.controls!==void 0&&(Array.isArray(e.controls)?r=new js(e.controls.slice()):(fn(typeof e.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=e.controls));let o;e.interactions!==void 0&&(Array.isArray(e.interactions)?o=new js(e.interactions.slice()):(fn(typeof e.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=e.interactions));let s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new js(e.overlays.slice()):(fn(typeof e.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=e.overlays):s=new js,{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}var iT=fN;ab();hf();dr();Qy();er();var pN=class extends lf{constructor(t,n,i){super(),i=i||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(yt.CHANGE)}release(){this.setState(xt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==xt.EMPTY){if(this.state!==xt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){En()}getAlpha(t,n){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;let r=n-i+1e3/60;return r>=this.transition_?1:_O(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},bv=pN;function rT(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}var xxe=new Error("disposed");var Sxe=[256,256],gN=class extends bv{constructor(t){let n=xt.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;let t=rT(this.data_);return t?[t.width,t.height]:Sxe}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==xt.IDLE&&this.state!==xt.ERROR)return;this.state=xt.LOADING,this.changed();let t=this;this.loader_().then(function(n){t.data_=n,t.state=xt.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=xt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(xxe),this.controller_=null),super.disposeInternal()}},mN=gN;HL();Eo();var vN=class extends bv{constructor(t,n,i,r,o,s){super(t,n,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=xt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=xt.ERROR,this.unlistenImage_(),this.image_=Exe(),this.changed()}handleImageLoad_(){let t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=xt.LOADED:this.state=xt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==xt.ERROR&&(this.state=xt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==xt.IDLE&&(this.state=xt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=MK(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function Exe(){let e=ui(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var oT=vN;var sT=class{constructor(t,n,i,r){this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}};function fg(e,t,n,i,r){return r!==void 0?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new sT(e,t,n,i)}var aT=sT;Vr();Vn();br();Eo();dr();va();Vn();Ji();Eo();Vn();Ji();br();var CN,pg=[];function tX(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function wN(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function Dxe(){if(CN===void 0){let e=ui(6,6,pg);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",tX(e,4,5,4,0),tX(e,4,5,0,5);let t=e.getImageData(0,0,3,3).data;CN=wN(t,0)||wN(t,4)||wN(t,8),og(e),pg.push(e.canvas)}return CN}function nX(e,t,n,i){let r=Pu(n,t,e),o=ng(t,i,n),s=t.getMetersPerUnit();s!==void 0&&(o*=s);let a=e.getMetersPerUnit();a!==void 0&&(o/=a);let l=e.getExtent();if(!l||hc(l,r)){let c=ng(e,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}function iX(e,t,n,i){let r=_l(n),o=nX(e,t,r,i);return(!isFinite(o)||o<=0)&&KD(n,function(s){return o=nX(e,t,s,i),isFinite(o)&&o>0}),o}function rX(e,t,n,i,r,o,s,a,l,c,d,h,f,g){let m=ui(Math.round(n*e),Math.round(n*t),pg);if(h||(m.imageSmoothingEnabled=!1),l.length===0)return m.canvas;m.scale(n,n);function v(I){return Math.round(I*n)/n}m.globalCompositeOperation="lighter";let C=Br();l.forEach(function(I,F,T){n$(C,I.extent)});let y,x=n/i,_=(h?1:1+Math.pow(2,-24))/x;if(!f||l.length!==1||c!==0){if(y=ui(Math.round(hn(C)*x),Math.round(Qi(C)*x),pg),h||(y.imageSmoothingEnabled=!1),r&&g){let I=(r[0]-C[0])*x,F=-(r[3]-C[3])*x,T=hn(r)*x,P=Qi(r)*x;y.rect(I,F,T,P),y.clip()}l.forEach(function(I,F,T){if(I.image.width>0&&I.image.height>0){if(I.clipExtent){y.save();let X=(I.clipExtent[0]-C[0])*x,oe=-(I.clipExtent[3]-C[3])*x,Ie=hn(I.clipExtent)*x,ae=Qi(I.clipExtent)*x;y.rect(h?X:Math.round(X),h?oe:Math.round(oe),h?Ie:Math.round(X+Ie)-Math.round(X),h?ae:Math.round(oe+ae)-Math.round(oe)),y.clip()}let P=(I.extent[0]-C[0])*x,L=-(I.extent[3]-C[3])*x,U=hn(I.extent)*x,W=Qi(I.extent)*x;y.drawImage(I.image,c,c,I.image.width-2*c,I.image.height-2*c,h?P:Math.round(P),h?L:Math.round(L),h?U:Math.round(P+U)-Math.round(P),h?W:Math.round(L+W)-Math.round(L)),I.clipExtent&&y.restore()}})}let R=xl(s);return a.getTriangles().forEach(function(I,F,T){let P=I.source,L=I.target,U=P[0][0],W=P[0][1],X=P[1][0],oe=P[1][1],Ie=P[2][0],ae=P[2][1],Le=v((L[0][0]-R[0])/o),Se=v(-(L[0][1]-R[1])/o),Ge=v((L[1][0]-R[0])/o),be=v(-(L[1][1]-R[1])/o),Ae=v((L[2][0]-R[0])/o),he=v(-(L[2][1]-R[1])/o),N=U,ne=W;U=0,W=0,X-=N,oe-=ne,Ie-=N,ae-=ne;let Q=[[X,oe,0,0,Ge-Le],[Ie,ae,0,0,Ae-Le],[0,0,X,oe,be-Se],[0,0,Ie,ae,he-Se]],Z=l$(Q);if(!Z)return;if(m.save(),m.beginPath(),Dxe()||!h){m.moveTo(Ge,be);let ke=4,ze=Le-Ge,Be=Se-be;for(let ve=0;ve<ke;ve++)m.lineTo(Ge+v((ve+1)*ze/ke),be+v(ve*Be/(ke-1))),ve!=ke-1&&m.lineTo(Ge+v((ve+1)*ze/ke),be+v((ve+1)*Be/(ke-1)));m.lineTo(Ae,he)}else m.moveTo(Ge,be),m.lineTo(Le,Se),m.lineTo(Ae,he);m.clip(),m.transform(Z[0],Z[2],Z[1],Z[3],Le,Se),m.translate(C[0]-N,C[3]-ne);let le;if(y)le=y.canvas,m.scale(_,-_);else{let ke=l[0],ze=ke.extent;le=ke.image,m.scale(hn(ze)/le.width,-Qi(ze)/le.height)}m.drawImage(le,0,0),m.restore()}),y&&(og(y),pg.push(y.canvas)),d&&(m.save(),m.globalCompositeOperation="source-over",m.strokeStyle="black",m.lineWidth=1,a.getTriangles().forEach(function(I,F,T){let P=I.target,L=(P[0][0]-R[0])/o,U=-(P[0][1]-R[1])/o,W=(P[1][0]-R[0])/o,X=-(P[1][1]-R[1])/o,oe=(P[2][0]-R[0])/o,Ie=-(P[2][1]-R[1])/o;m.beginPath(),m.moveTo(W,X),m.lineTo(L,U),m.lineTo(oe,Ie),m.closePath(),m.stroke()}),m.restore()),m.canvas}Vn();Ji();br();Cc();var Rxe=10,oX=.25,yN=class{constructor(t,n,i,r,o,s,a){this.sourceProj_=t,this.targetProj_=n;let l={},c=a?Ky(_=>ur(a,Pu(_,this.targetProj_,this.sourceProj_))):sf(this.targetProj_,this.sourceProj_);this.transformInv_=function(_){let R=_[0]+"/"+_[1];return l[R]||(l[R]=c(_)),l[R]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&hn(r)>=hn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?hn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?hn(this.targetProj_.getExtent()):null;let d=xl(i),h=z0(i),f=G0(i),g=H0(i),m=this.transformInv_(d),v=this.transformInv_(h),C=this.transformInv_(f),y=this.transformInv_(g),x=Rxe+(s?Math.max(0,Math.ceil(Math.log2(zy(i)/(s*s*256*256)))):0);if(this.addQuad_(d,h,f,g,m,v,C,y,x),this.wrapsXInSource_){let _=1/0;this.triangles_.forEach(function(R,I,F){_=Math.min(_,R.source[0][0],R.source[1][0],R.source[2][0])}),this.triangles_.forEach(R=>{if(Math.max(R.source[0][0],R.source[1][0],R.source[2][0])-_>this.sourceWorldWidth_/2){let I=[[R.source[0][0],R.source[0][1]],[R.source[1][0],R.source[1][1]],[R.source[2][0],R.source[2][1]]];I[0][0]-_>this.sourceWorldWidth_/2&&(I[0][0]-=this.sourceWorldWidth_),I[1][0]-_>this.sourceWorldWidth_/2&&(I[1][0]-=this.sourceWorldWidth_),I[2][0]-_>this.sourceWorldWidth_/2&&(I[2][0]-=this.sourceWorldWidth_);let F=Math.min(I[0][0],I[1][0],I[2][0]);Math.max(I[0][0],I[1][0],I[2][0])-F<this.sourceWorldWidth_/2&&(R.source=I)}})}l={}}addTriangle_(t,n,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[t,n,i]})}addQuad_(t,n,i,r,o,s,a,l,c){let d=O3([o,s,a,l]),h=this.sourceWorldWidth_?hn(d)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&h>.5&&h<1,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let C=O3([t,n,i,r]);m=hn(C)/this.targetWorldWidth_>oX||m}!g&&this.sourceProj_.isGlobal()&&h&&(m=h>oX||m)}if(!m&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!cr(d,this.maxSourceExtent_))return;let v=0;if(!m&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)m=!0;else if(v=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),v!=1&&v!=2&&v!=4&&v!=8)return}if(c>0){if(!m){let C=[(t[0]+i[0])/2,(t[1]+i[1])/2],y=this.transformInv_(C),x;g?x=(pc(o[0],f)+pc(a[0],f))/2-pc(y[0],f):x=(o[0]+a[0])/2-y[0];let _=(o[1]+a[1])/2-y[1];m=x*x+_*_>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){let C=[(n[0]+i[0])/2,(n[1]+i[1])/2],y=this.transformInv_(C),x=[(r[0]+t[0])/2,(r[1]+t[1])/2],_=this.transformInv_(x);this.addQuad_(t,n,C,x,o,s,y,_,c-1),this.addQuad_(x,C,i,r,_,y,a,l,c-1)}else{let C=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(C),x=[(i[0]+r[0])/2,(i[1]+r[1])/2],_=this.transformInv_(x);this.addQuad_(t,C,x,r,o,y,_,l,c-1),this.addQuad_(C,n,i,x,y,s,a,_,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(v&11)==0&&this.addTriangle_(t,i,r,o,a,l),(v&14)==0&&this.addTriangle_(t,i,n,o,a,s),v&&((v&13)==0&&this.addTriangle_(n,r,t,s,l,o),(v&7)==0&&this.addTriangle_(n,r,i,s,l,a))}calculateSourceExtent(){let t=Br();return this.triangles_.forEach(function(n,i,r){let o=n.source;Qp(t,o[0]),Qp(t,o[1]),Qp(t,o[2])}),t}getTriangles(){return this.triangles_}},sX=yN;var bN=class extends bv{constructor(t,n,i,r,o,s,a,l,c,d,h,f){super(o,xt.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;let g=r.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent(),v=this.sourceTileGrid_.getExtent(),C=m?ud(g,m):g;if(zy(C)===0){this.state=xt.EMPTY;return}let y=t.getExtent();y&&(v?v=ud(v,y):v=y);let x=r.getResolution(this.wrappedTileCoord_[0]),_=iX(t,i,C,x);if(!isFinite(_)||_<=0){this.state=xt.EMPTY;return}let R=d!==void 0?d:.5;if(this.triangulation_=new sX(t,i,C,v,_*R,x),this.triangulation_.getTriangles().length===0){this.state=xt.EMPTY;return}this.sourceZ_=n.getZForResolution(_);let I=this.triangulation_.calculateSourceExtent();if(v&&(t.canWrapX()?(I[1]=Wn(I[1],v[1],v[3]),I[3]=Wn(I[3],v[1],v[3])):I=ud(I,v)),!zy(I))this.state=xt.EMPTY;else{let F=0,T=0;t.canWrapX()&&(F=hn(y),T=Math.floor((I[0]-y[0])/F)),XD(I.slice(),t,!0).forEach(L=>{let U=n.getTileRangeForExtentAndZ(L,this.sourceZ_);for(let W=U.minX;W<=U.maxX;W++)for(let X=U.minY;X<=U.maxY;X++){let oe=c(this.sourceZ_,W,X,a);if(oe){let Ie=T*F;this.sourceTiles_.push({tile:oe,offset:Ie})}}++T}),this.sourceTiles_.length===0&&(this.state=xt.EMPTY)}}getImage(){return this.canvas_}reproject_(){let t=[];if(this.sourceTiles_.forEach(n=>{let i=n.tile;if(i&&i.getState()==xt.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=xt.ERROR;else{let n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=rX(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=xt.LOADED}this.changed()}load(){if(this.state==xt.IDLE){this.state=xt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{let i=n.getState();if(i==xt.IDLE||i==xt.LOADING){t++;let r=tn(n,yt.CHANGE,o=>{let s=n.getState();(s==xt.LOADED||s==xt.ERROR||s==xt.EMPTY)&&(On(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==xt.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(On),this.sourcesListenerKeys_=null}release(){this.canvas_&&(og(this.canvas_.getContext("2d")),pg.push(this.canvas_),this.canvas_=null),super.release()}},lT=bN;wd();Zy();wa();var _N=class{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let t=this.pop();t instanceof af&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){let i=this.entries_[t];return fn(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){let n=this.entries_[t];return fn(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){let t=new Array(this.count_),n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.key_;return t}getValues(){let t=new Array(this.count_),n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){let t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){fn(!(t in this.entries_),"Tried to set a value for a key that is used already");let i={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}},aX=_N;function _v(e,t,n,i){return i!==void 0?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function lX(e,t,n){return e+"/"+t+"/"+n}function cX(e){return Txe(e[0],e[1],e[2])}function Txe(e,t,n){return(t<<e)+n}function dX(e,t){let n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;let o=t.getFullTileRange(n);return o?o.containsXY(i,r):!0}Cc();er();TN();function IN(e,t,n,i){return`${e},${lX(t,n,i)}`}function MN(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;let i=e[n],r=i.has(t);return r||i.add(t),!r}function Fxe(e,t,n){let i=e[n];return i?i.delete(t):!1}function fX(e,t){let n=e.layerStatesArray[e.layerIndex];n.extent&&(t=ud(t,qa(n.extent,e.viewState.projection)));let i=n.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(e.viewState.projection).getExtent();r&&(t=ud(t,r))}return t}var FN=class extends dT{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Br(),this.tempTileRange_=new aT(0,0,0,0),this.tempTileCoord_=_v(0,0,0);let i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new aX(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,i,r){let o=this.tileCache_,a=this.getLayer().getSource(),l=IN(a.getKey(),t,n,i),c;if(o.containsKey(l))c=o.get(l);else{if(c=a.getTile(t,n,i,r.pixelRatio,r.viewState.projection),!c)return null;o.set(l,c)}return c}getTile(t,n,i,r){let o=this.getOrCreateTile(t,n,i,r);return o||null}getData(t){let n=this.frameState;if(!n)return null;let i=this.getLayer(),r=ur(n.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!hc(o,r))return null;let s=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(s.projection),c=a.getTilePixelRatio(n.pixelRatio);for(let d=l.getZForResolution(s.resolution);d>=l.getMinZoom();--d){let h=l.getTileCoordForCoordAndZ(r,d),f=this.getTile(d,h[1],h[2],n);if(!f||f.getState()!==xt.LOADED)continue;let g=l.getOrigin(d),m=Sr(l.getTileSize(d)),v=l.getResolution(d),C;if(f instanceof oT||f instanceof lT)C=f.getImage();else if(f instanceof mN){if(C=rT(f.getData()),!C)continue}else continue;let y=Math.floor(c*((r[0]-g[0])/v-h[1]*m[0])),x=Math.floor(c*((g[1]-r[1])/v-h[2]*m[1])),_=Math.round(c*a.getGutterForProjection(s.projection));return this.getImageData(C,y+_,x+_)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;let n=this.getLayer().getSource();if(!n)return!1;let i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(t,n,i,r,o){let s=t.viewState,a=this.getLayer(),l=a.getRenderSource(),c=l.getTileGridForProjection(s.projection),d=Wt(l);d in t.wantedTiles||(t.wantedTiles[d]={});let h=t.wantedTiles[d],f=a.getMapInternal(),g=Math.max(i-o,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),l.zDirection)),m=s.rotation,v=m?B3(s.center,s.resolution,m,t.size):void 0;for(let C=i;C>=g;--C){let y=c.getTileRangeForExtentAndZ(n,C,this.tempTileRange_),x=c.getResolution(C);for(let _=y.minX;_<=y.maxX;++_)for(let R=y.minY;R<=y.maxY;++R){if(m&&!c.tileCoordIntersectsViewport([C,_,R],v))continue;let I=this.getTile(C,_,R,t);if(!I||!MN(r,I,C))continue;let T=I.getKey();if(h[T]=!0,I.getState()===xt.IDLE&&!t.tileQueue.isKeyQueued(T)){let P=_v(C,_,R,this.tempTileCoord_);t.tileQueue.enqueue([I,d,c.getTileCoordCenter(P),x])}}}}findStaleTile_(t,n){let i=this.tileCache_,r=t[0],o=t[1],s=t[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){let c=IN(a[l],r,o,s);if(i.containsKey(c)){let d=i.peek(c);if(d.getState()===xt.LOADED)return d.endTransition(Wt(this)),MN(n,d,r),!0}}return!1}findAltTiles_(t,n,i,r){let o=t.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!o)return!1;let s=!0,a=this.tileCache_,c=this.getLayer().getRenderSource().getKey();for(let d=o.minX;d<=o.maxX;++d)for(let h=o.minY;h<=o.maxY;++h){let f=IN(c,i,d,h),g=!1;if(a.containsKey(f)){let m=a.peek(f);m.getState()===xt.LOADED&&(MN(r,m,i),g=!0)}g||(s=!1)}return s}renderFrame(t,n){this.renderComplete=!0;let i=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,s=r.resolution,a=r.center,l=t.pixelRatio,c=this.getLayer(),d=c.getSource(),h=d.getTileGridForProjection(o),f=h.getZForResolution(s,d.zDirection),g=h.getResolution(f),m=d.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;let v=t.extent,C=d.getTilePixelRatio(l);this.prepareContainer(t,n);let y=this.context.canvas.width,x=this.context.canvas.height,_=i.extent&&qa(i.extent,o);_&&(v=ud(v,qa(i.extent,o)));let R=g*y/2/C,I=g*x/2/C,F=[a[0]-R,a[1]-I,a[0]+R,a[1]+I],T={};this.renderedTiles.length=0;let P=c.getPreload();if(t.nextExtent){let Ge=h.getZForResolution(r.nextResolution,d.zDirection),be=fX(t,t.nextExtent);this.enqueueTiles(t,be,Ge,T,P)}let L=fX(t,v);if(this.enqueueTiles(t,L,f,T,0),P>0&&setTimeout(()=>{this.enqueueTiles(t,L,f-1,T,P-1)},0),!(f in T))return this.container;let U=Wt(this),W=t.time;for(let Ge of T[f]){let be=Ge.getState();if(be===xt.EMPTY)continue;let Ae=Ge.tileCoord;if(be===xt.LOADED&&Ge.getAlpha(U,W)===1){Ge.endTransition(U);continue}if(be!==xt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(Ae,T)){Fxe(T,Ge,f),t.animate=!0;continue}if(this.findAltTiles_(h,Ae,f+1,T))continue;let ne=h.getMinZoom();for(let Q=f-1;Q>=ne&&!this.findAltTiles_(h,Ae,Q,T);--Q);}let X=g/s*l/C,oe=this.getRenderContext(t);jo(this.tempTransform,y/2,x/2,X,X,0,-y/2,-x/2),i.extent&&this.clipUnrotated(oe,t,_),d.getInterpolate()||(oe.imageSmoothingEnabled=!1),this.preRender(oe,t);let Ie=Object.keys(T).map(Number);Ie.sort(Ca);let ae,Le=[],Se=[];for(let Ge=Ie.length-1;Ge>=0;--Ge){let be=Ie[Ge],Ae=d.getTilePixelSize(be,l,o),N=h.getResolution(be)/g,ne=Ae[0]*N*X,Q=Ae[1]*N*X,Z=h.getTileCoordForCoordAndZ(xl(F),be),le=h.getTileCoordExtent(Z),ke=ur(this.tempTransform,[C*(le[0]-F[0])/g,C*(F[3]-le[3])/g]),ze=C*d.getGutterForProjection(o);for(let Be of T[be]){if(Be.getState()!==xt.LOADED)continue;let ve=Be.tileCoord,St=Z[1]-ve[1],Y=Math.round(ke[0]-(St-1)*ne),$t=Z[2]-ve[2],At=Math.round(ke[1]-($t-1)*Q),Et=Math.round(ke[0]-St*ne),Dt=Math.round(ke[1]-$t*Q),Ye=Y-Et,vt=At-Dt,xn=Ie.length===1,yi=!1;ae=[Et,Dt,Et+Ye,Dt,Et+Ye,Dt+vt,Et,Dt+vt];for(let Pi=0,po=Le.length;Pi<po;++Pi)if(!xn&&be<Se[Pi]){let An=Le[Pi];cr([Et,Dt,Et+Ye,Dt+vt],[An[0],An[3],An[4],An[7]])&&(yi||(oe.save(),yi=!0),oe.beginPath(),oe.moveTo(ae[0],ae[1]),oe.lineTo(ae[2],ae[3]),oe.lineTo(ae[4],ae[5]),oe.lineTo(ae[6],ae[7]),oe.moveTo(An[6],An[7]),oe.lineTo(An[4],An[5]),oe.lineTo(An[2],An[3]),oe.lineTo(An[0],An[1]),oe.clip())}Le.push(ae),Se.push(be),this.drawTile(Be,t,Et,Dt,Ye,vt,ze,xn),yi&&oe.restore(),this.renderedTiles.unshift(Be),this.updateUsedTiles(t.usedTiles,d,Be)}}if(this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!Mu(this.renderedExtent_,F),this.renderedExtent_=F,this.renderedPixelRatio=l,this.postRender(this.context,t),i.extent&&oe.restore(),oe.imageSmoothingEnabled=!0,this.renderComplete){let Ge=(be,Ae)=>{let he=Wt(d),N=Ae.wantedTiles[he],ne=N?Object.keys(N).length:0;this.updateCacheSize(ne),this.tileCache_.expireCache()};t.postRenderFunctions.push(Ge)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,i,r,o,s,a,l){let c;if(t instanceof mN){if(c=rT(t.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(t);if(!c)return;let d=this.getRenderContext(n),h=Wt(this),f=n.layerStatesArray[n.layerIndex],g=f.opacity*(l?t.getAlpha(h,n.time):1),m=g!==d.globalAlpha;m&&(d.save(),d.globalAlpha=g),d.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,o,s),m&&d.restore(),g!==f.opacity?n.animate=!0:l&&t.endTransition(h)}getImage(){let t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,i){let r=Wt(n);r in t||(t[r]={}),t[r][i.getKey()]=!0}},pX=FN;uv();var Fb={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var AN=class extends cg{constructor(t){t=t||{};let n=Object.assign({},t),i=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Fb.PRELOAD)}setPreload(t){this.set(Fb.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Fb.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Fb.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}},gX=AN;var kN=class extends gX{constructor(t){super(t)}createRenderer(){return new pX(this,{cacheSize:this.getCacheSize()})}},uT=kN;Vn();br();wd();Vr();wa();Vn();NO();Ji();wd();var Sv=[0,0,0],xf=5,PN=class{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,fn($$(this.resolutions_,(r,o)=>o-r,!0),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,fn(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=xl(i)),fn(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,fn(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:256,fn(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{let s=new aT(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let a=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,n,i){let r=this.getTileRangeForExtentAndZ(t,n);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,o,a])}forEachTileCoordParentTileRange(t,n,i,r){let o,s,a,l=null,c=t[0]-1;for(this.zoomFactor_===2?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(s!==void 0&&a!==void 0?(s=Math.floor(s/2),a=Math.floor(a/2),o=fg(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,c,i),n(c,o))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){let o=t[1]*2,s=t[2]*2;return fg(o,o+1,s,s+1,n)}let r=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,i){if(n>this.maxZoom||n<this.minZoom)return null;let r=t[0],o=t[1],s=t[2];if(n===r)return fg(o,s,o,s,i);if(this.zoomFactor_){let l=Math.pow(this.zoomFactor_,n-r),c=Math.floor(o*l),d=Math.floor(s*l);if(n<r)return fg(c,c,d,d,i);let h=Math.floor(l*(o+1))-1,f=Math.floor(l*(s+1))-1;return fg(c,h,d,f,i)}let a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(t,n,i){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Sv);let r=Sv[1],o=Sv[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Sv);let s=Sv[1],a=Sv[2];return fg(r,s,o,a,i)}getTileCoordCenter(t){let n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Sr(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*i,n[1]-(t[2]+.5)*r[1]*i]}getTileCoordExtent(t,n){let i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Sr(this.getTileSize(t[0]),this.tmpSize_),s=i[0]+t[1]*o[0]*r,a=i[1]-(t[2]+1)*o[1]*r,l=s+o[0]*r,c=a+o[1]*r;return $a(s,a,l,c,n)}getTileCoordForCoordAndResolution(t,n,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,i)}getTileCoordForXYAndResolution_(t,n,i,r,o){let s=this.getZForResolution(i),a=i/this.getResolution(s),l=this.getOrigin(s),c=Sr(this.getTileSize(s),this.tmpSize_),d=a*(t-l[0])/i/c[0],h=a*(l[1]-n)/i/c[1];return r?(d=jy(d,xf)-1,h=jy(h,xf)-1):(d=Wy(d,xf),h=Wy(h,xf)),_v(s,d,h,o)}getTileCoordForXYAndZ_(t,n,i,r,o){let s=this.getOrigin(i),a=this.getResolution(i),l=Sr(this.getTileSize(i),this.tmpSize_),c=(t-s[0])/a/l[0],d=(s[1]-n)/a/l[1];return r?(c=jy(c,xf)-1,d=jy(d,xf)-1):(c=Wy(c,xf),d=Wy(d,xf)),_v(i,c,d,o)}getTileCoordForCoordAndZ(t,n,i){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){let i=Z0(this.resolutions_,t,n||0);return Wn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return LO(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){let n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i}},ON=PN;function hT(e){let t=e.getDefaultTileGrid();return t||(t=kxe(e),e.setDefaultTileGrid(t)),t}function mX(e,t,n){let i=t[0],r=e.getTileCoordCenter(t),o=fT(n);if(!hc(o,r)){let s=hn(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,e.getTileCoordForCoordAndZ(r,i)}return t}function Axe(e,t,n,i){i=i!==void 0?i:"top-left";let r=CX(e,t,n);return new ON({extent:e,origin:i$(e,i),resolutions:r,tileSize:n})}function vX(e){let t=e||{},n=t.extent||Fi("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:CX(n,t.maxZoom,t.tileSize,t.maxResolution)};return new ON(i)}function CX(e,t,n,i){t=t!==void 0?t:42,n=Sr(n!==void 0?n:256);let r=Qi(e),o=hn(e);i=i>0?i:Math.max(o/n[0],r/n[1]);let s=t+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=i/Math.pow(2,l);return a}function kxe(e,t,n,i){let r=fT(e);return Axe(r,t,n,i)}function fT(e){e=Fi(e);let t=e.getExtent();if(!t){let n=180*Sl.degrees/e.getMetersPerUnit();t=$a(-n,-n,n,n)}return t}dr();br();er();Ji();var Pxe=/\{z\}/g,Oxe=/\{x\}/g,Lxe=/\{y\}/g,Nxe=/\{-y\}/g;function wX(e,t,n,i,r){return e.replace(Pxe,t.toString()).replace(Oxe,n.toString()).replace(Lxe,i.toString()).replace(Nxe,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function yX(e){let t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){let i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),o;for(o=i;o<=r;++o)t.push(e.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){let i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)t.push(e.replace(n[0],r.toString()));return t}return t.push(e),t}function Bxe(e,t){return function(n,i,r){if(!n)return;let o,s=n[0];if(t){let a=t.getFullTileRange(s);a&&(o=a.getHeight()-1)}return wX(e,s,n[1],n[2],o)}}function bX(e,t){let n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Bxe(e[r],t);return Vxe(i)}function Vxe(e){return e.length===1?e[0]:function(t,n,i){if(!t)return;let r=cX(t),o=pc(r,e.length);return e[o](t,n,i)}}er();pd();wd();er();NN();var BN=class extends pT{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;let n=[256,256];this.tileGrid&&Sr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||Wt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){let n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,i,r,o){return En()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:hT(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,i){let r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(n),s=Sr(r.getTileSize(t),this.tmpSize);return o==1?s:EK(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){let i=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=mX(r,t,i)),dX(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}},gT=class extends _o{constructor(t,n){super(t),this.tile=n}},xX=BN;var mT={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var VN=class e extends xX{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===e.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){let n=t.target,i=Wt(n),r=n.getState(),o;r==xt.LOADING?(this.tileLoadingKeys_[i]=!0,o=mT.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==xt.ERROR?mT.TILELOADERROR:r==xt.LOADED?mT.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new gT(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){let n=yX(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;let n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(bX(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,i){}},SX=VN;var HN=class extends SX{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Hxe,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:oT,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!Yy(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){let n=this.getProjection();if(this.tileGrid&&(!n||Yy(n,t)))return this.tileGrid;let i=Wt(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=hT(t)),this.tileGridForProjection[i]}createTile_(t,n,i,r,o,s){let a=[t,n,i],l=this.getTileCoordForTileUrlFunction(a,o),c=l?this.tileUrlFunction(l,r,o):void 0,d=new this.tileClass(a,c!==void 0?xt.IDLE:xt.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=s,d.addEventListener(yt.CHANGE,this.handleTileChange.bind(this)),d}getTile(t,n,i,r,o){let s=this.getProjection();if(!s||!o||Yy(s,o))return this.getTileInternal(t,n,i,r,s||o);let a=[t,n,i],l=this.getKey(),c=this.getTileGridForProjection(s),d=this.getTileGridForProjection(o),h=this.getTileCoordForTileUrlFunction(a,o),f=new lT(s,c,o,d,a,h,this.getTilePixelRatio(r),this.getGutter(),(g,m,v,C)=>this.getTileInternal(g,m,v,C,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(t,n,i,r,o){let s=this.getKey();return this.createTile_(t,n,i,r,o,s)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){let i=Fi(t);if(i){let r=Wt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}};function Hxe(e,t){e.getImage().src=t}var EX=HN;var GN=class extends EX{constructor(t){t=t||{};let n=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:vX({extent:fT(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}},DX=GN;var Gxe='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',zN=class extends DX{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[Gxe];let i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}},Ab=zN;vT();cR();Il();df();Eo();va();Vn();var vs={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},w4=class extends _r{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+Q$,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(vs.ELEMENT,this.handleElementChanged),this.addChangeListener(vs.MAP,this.handleMapChanged),this.addChangeListener(vs.OFFSET,this.handleOffsetChanged),this.addChangeListener(vs.POSITION,this.handlePositionChanged),this.addChangeListener(vs.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(vs.ELEMENT)}getId(){return this.id}getMap(){return this.get(vs.MAP)||null}getOffset(){return this.get(vs.OFFSET)}getPosition(){return this.get(vs.POSITION)}getPositioning(){return this.get(vs.POSITIONING)}handleElementChanged(){MR(this.element);let t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),On(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let t=this.getMap();if(t){this.mapPostrenderListenerKey=tn(t,Tl.POSTRENDER,this.render,this),this.updatePixelPosition();let n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(vs.ELEMENT,t)}setMap(t){this.set(vs.MAP,t)}setOffset(t){this.set(vs.OFFSET,t)}setPosition(t){this.set(vs.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){let n=this.getMap();if(!n||!n.getTargetElement()||!this.get(vs.POSITION))return;let i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),o=this.getRect(r,[Xq(r),Yq(r)]);t=t||{};let s=t.margin===void 0?20:t.margin;if(!Iu(i,o)){let a=o[0]-i[0],l=i[2]-o[2],c=o[1]-i[1],d=i[3]-o[3],h=[0,0];if(a<0?h[0]=a-s:l<0&&(h[0]=Math.abs(l)+s),c<0?h[1]=c-s:d<0&&(h[1]=Math.abs(d)+s),h[0]!==0||h[1]!==0){let f=n.getView().getCenterInternal(),g=n.getPixelFromCoordinateInternal(f);if(!g)return;let m=[g[0]+h[0],g[1]+h[1]],v=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}getRect(t,n){let i=t.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+n[0],o+n[1]]}setPositioning(t){this.set(vs.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){let t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}let i=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(t,n){let i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);let s=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",l="0%",c="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?c="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(c="-50%");let d=`translate(${l}, ${c}) translate(${s}, ${a})`;this.rendered.transform_!=d&&(this.rendered.transform_=d,i.transform=d)}getOptions(){return this.options}},y4=w4;ab();er();yT();wT();br();var Tv=class e{constructor(t){this.elementRef=t}map=null;ngOnInit(){this.map?.setTarget(this.elementRef.nativeElement)}static \u0275fac=function(n){return new(n||e)(We(Mt))};static \u0275cmp=et({type:e,selectors:[["app-ol-map"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"],changeDetection:0})};wv();Db();YR();cf();QN();Cv();Rb();var DY=ow(bT());function _T(e){return/^(data:image\/)/i.test(e)}function b4(e){let[t,n,i,r,o]=Dd(e);if(!e||!e[o]||!e[i]||!e[r]){if(!e||!e[t])throw new Error("Item has no valid address fields");return e[t]}else return e[o]+e[i]+e[n]+e[r]}function Bb(e,t){let n=new Map;return t.forEach(i=>n.set(b4(i),i)),e.forEach(i=>n.set(b4(i),V(V({},n.get(b4(i))),i))),Array.from(n.values())}var bY=ow(bT());var wg="postcode",Rd="city",Al="housenumber",Vb="geoPositionInfo",Rf="street",Tf="longitude",If="latitude",xT="firstName",Hb="sheetName",_Y=[Tf,If],_4=["adres","Adres","address","Address"],r1e=["postcode","Postcode","zipCode","ZipCode","zip code","Zip code"],o1e=["city","City","plaats","Plaats","woonplaats","Woonplaats"],s1e=["street","Street","straat","Straat"],a1e=["housenumber","Housenumber","houseNummer","HouseNumber","house number","House number","Huis Nummer","huis nummer","Huis nummer","huis nr","Huis nr","huisnr","Huisnr"],xY=/(\s\d+[\s,-]?\d*[A-Za-z]?[,]?)+\s/;function Mv(e,t,n){return Object.keys(e).find(i=>t.includes(i))||n}var Gb=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),Dd=e=>[Mv(e,_4,""),Mv(e,s1e,Rf),Mv(e,r1e,wg),Mv(e,a1e,Al),Mv(e,o1e,Rd)],Td=e=>{let[t,n,i,r,o]=Dd(e);if(t){let[s,a,l]=e[t].split(xY);return i?[s.trim(),a.trim(),l.trim(),e[i].replaceAll(" ","")]:[s.trim(),a.trim(),l.trim(),""]}else return[e[n]||"".trim(),e[r].toString().trim(),e[o].trim(),e[i].replaceAll(" ","")]},Yu=e=>{let t=Mv(e,_4,"");if(e[t]){let[n,i,r]=e[t].split(xY);return[`${n.trim()} ${i.trim()} ${r.trim()}.jpg`.toLowerCase()]}return Object.values(e).filter(n=>Gb(n))},x4=e=>Object.values(e).filter(t=>_T(t));function SY(e){return!!(e&&(x4(e).length>0||Yu(e).length>0))}var EY=e=>e.reduce((t,n)=>(Object.keys(n).forEach(r=>{t.includes(r)||t.push(r)}),t),[]),Cs=class e{dataStore;lastNumberOfDataRecordsAdded=0;selectedData;editMode$=new ut;dataStore$=new ut;constructor(){this.dataStore=[]}setEditMode(t){this.editMode$.next(t)}isInEditMode(){return this.editMode$.observed}setSelectedData(t){this.selectedData=t}getSelectedData(){return this.selectedData}getIncreasedDataStoreSize(){return console.log("Increased data store size",this.lastNumberOfDataRecordsAdded),this.lastNumberOfDataRecordsAdded}getNumberOfAddedLocationRecords(){return this.dataStore.slice(-this.lastNumberOfDataRecordsAdded).filter(t=>{let n=Object.keys(t);return n.includes(Tf)&&n.includes(If)&&n.includes(Vb)}).length}getStore(){return[...this.dataStore]}getMergedDataAndNewUniqueData(t){return[Bb(t,this.dataStore),t.filter(i=>!this.dataStore.length||this.dataStore.some(r=>!(0,bY.isEqual)(r,i)))]}store(t){let[n,i]=this.getMergedDataAndNewUniqueData(t);console.log("New data added",i),console.log("Merged data added",n),this.lastNumberOfDataRecordsAdded=n.length-this.dataStore.length,this.dataStore=n,this.dataStore$.next(i)}updateData(t){let r=t,{id:n}=r,i=hl(r,["id"]);this.dataStore[Number(n)]=Bb([i],[this.dataStore[Number(n)]])[0],this.dataStore$.next([this.dataStore[Number(n)]])}get(t){let n=Object.keys(t),i=this.dataStore.find(r=>{let o=Object.keys(r);return n.every(s=>o.includes(s))&&n.every(s=>(t[s]+"").replace(/[,\s].*/g,"").toLowerCase()===(r[s]+"").replace(/[,\s].*/g,"").toLowerCase())});if(i)return Object.assign({},i)}getByAddr(t){let n=this.dataStore.find(i=>{let r=_4.find(o=>Object.keys(i).includes(o));return r&&(i[r]+"").replaceAll(/(,|-|\s)/g,"").toLowerCase()===t.replaceAll(/(,|-|\s)/g,"").toLowerCase()});if(n)return Object.assign({},n)}findByApproach(t,n,i,r,o){let s="",a=this.get({[wg]:t,[Al]:n,[Rd]:r});return a||(a=this.get({[Rf]:i,[Al]:n,[Rd]:r}),a?(s=`Please fix postcode in "${i} ${n}, ${r}" and change ${a[wg]} to ${t} in your excel sheet.`,a[wg]=t):(a=this.get({[Rf]:i,[Al]:n.replace(/[^0-9,\s].*/g,""),[Rd]:r}),a?(s=`Please fix house number in "${i} ${n}, ${r}" and change ${a[Al]} to ${n} in your excel sheet.`,a[Al]=n):(a=this.get({[wg]:t,[Rf]:i,[Al]:n.replace(/[^0-9].*/g,"")}),a?(s=`Please fix City in "${i} ${n}, ${r}" and change ${a[Rd]} to ${r} in your excel sheet.`,a[Rd]=r,a[Al]=n):(a=this.getByAddr(`${i} ${n} ${r}`),a||(s=`Looking for ${o} but found address "${i} ${n}, ${r}, ${t}". Please verify address in the excel sheet.`))))),console.log("street map found",t,n,r,i,o),[a,s]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Zr=class e{geoPositions=[];mapIdToUuid=[];removedGeoPosition$=new Yn(null);geoPositions$=new Yn([]);getNumberOfGeoPositions(){return this.geoPositions.length}setGeoPositionIdUid(t,n){let i=this.mapIdToUuid.find(r=>r.id===t);i?i.uid=n:this.mapIdToUuid.push({id:t,uid:n})}getGeoPositionByAddress(t,n,i,r){return this.geoPositions.find(o=>{let s=JSON.parse(o.geoPositionInfo),a=s.housenumber.split("-").at(-1),l=s.city.toLowerCase()===t.toLowerCase()&&s.postcode.replaceAll(" ","").toLowerCase()===n.replaceAll(" ","").toLowerCase()&&a.toLowerCase()===a.toLowerCase();return!l&&r&&(l=s.street.toLowerCase()===r.toLowerCase()&&s.city.toLowerCase()===t.toLowerCase()&&s.street.toLowerCase()===r.toLowerCase()&&a.toLowerCase()===a.toLowerCase()),l})}findNearestByAddress(t,n,i,r){return this.geoPositions.find(o=>{let s=new RegExp("^\\d+"),a=JSON.parse(o.geoPositionInfo);return!r&&a.city.toLowerCase()===t.toLowerCase()&&a.postcode.replaceAll(" ","").toLowerCase()===n.replaceAll(" ","").toLowerCase()&&a.housenumber.toLowerCase().match(s)?.[0]===i.toLowerCase().match(s)?.[0]||a.street.toLowerCase()===r?.toLowerCase()&&a.city.toLowerCase()===t.toLowerCase()&&a.housenumber.toLowerCase().match(s)?.[0]===i.toLowerCase().match(s)?.[0]})}getIdByUid(t){return this.mapIdToUuid.find(n=>n.uid===t)?.id}hasGeoPositions(){return!!this.geoPositions.length}clearGeoPositions(){this.geoPositions.forEach(t=>this.removeGeoPosition(t.id))}addGeoPositions(t){t.forEach(n=>{this.geoPositions.push(n)}),this.geoPositions$.next(t)}updateGeoPosition(t,n,i="Unknown",r,o){let s={coords:{altitude:0,longitude:t,accuracy:0,altitudeAccuracy:null,heading:null,latitude:n,speed:null,toJSON:function(){throw new Error("Function not implemented.")}},id:Dy(),userName:i,geoPositionInfo:o,zoom:0,details:r};if(r){let[a,l,c,d]=Td(r),h=this.getGeoPositionByAddress(c,d,l,a);if(h){h.details=r,h.coords=De(V({},h.coords),{longitude:t||h.coords.longitude,latitude:n||h.coords.latitude}),h.geoPositionInfo=o;return}}this.geoPositions.push(s),this.geoPositions$.next([s])}setGeoCoordinatesAndOrZoom(t,n,i){let r=this.getGeoPosition(t);r&&(!(0,DY.isEqual)(r.coords,n)||r.zoom!==i)&&(r.coords=n,i&&(r.zoom=i),this.geoPositions$.next([r]))}getGeoPosition(t){let n=this.geoPositions.find(i=>i.id===t);if(n)return n}getGeoPositions(){return this.geoPositions}getGeoPositionByCoordinates(t){return this.geoPositions.find(n=>n.coords.altitude===t[1]&&n.coords.longitude===t[0])}removeGeoPosition(t){let n=this.geoPositions.findIndex(i=>i.id===t);if(n>=0){let i=this.geoPositions.splice(n,1)[0];return this.removedGeoPosition$.next(i),i}}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};function l1e(e,t){if(e&1&&(He(0,"div",3)(1,"textarea",4),Pn(2),Ke(),He(3,"footer"),Ct(4,"app-scale-line",1)(5,"app-mouse-position",5),Ke()()),e&2){let n=jn();tt(2),yo(n.logMessage),tt(2),mt("map",n.map),tt(),mt("map",n.map)}}var Av=class e{constructor(t){this.geoPositionService=t;this.zoomInput.pipe(xi()).pipe(Wc(300)).subscribe(()=>{this.onViewChanged()})}extendedView=!0;userId;set coordinatesChange(t){let n=this.geoPositionService.getGeoPosition(t.id);n&&t.coords.latitude&&t.coords.longitude&&(this.geoPositionService.setGeoCoordinatesAndOrZoom(n.id,t.coords,this.zoomLevelSingleMarker),this.logMessage=this.logMessage.concat(`coordinates changes for user "${n.userName}" to ${t.coords.latitude}/${t.coords.longitude}
`))}map=null;logMessage="";canvasStyleIsSet=!1;zoomLevelSingleMarker=11;userMarkers={};destroyRef=A(Zi);zoomInput=new ut;markersVectorLayer=new Cg;ngOnInit(){this.map||this.initializeMap()}ngAfterViewInit(){let t=this.geoPositionService.geoPositions$.pipe(xi(this.destroyRef)).subscribe(i=>{i&&this.setupMap(i)}),n=this.geoPositionService.removedGeoPosition$.pipe(xi(this.destroyRef)).subscribe(i=>{i&&this.updateMap(i)});this.destroyRef.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}ngAfterViewChecked(){if(!this.extendedView&&!this.canvasStyleIsSet){let t=this.map?.getViewport().querySelector("canvas");t&&(t.style.borderRadius="50%",this.canvasStyleIsSet=!0)}}onViewChanged=()=>{let t=this.map?.getView();this.zoomLevelSingleMarker=t?.getZoom()||11};onCenterChanged=t=>{let n=this.geoPositionService.getGeoPosition(this.userId);n&&n.id===this.userId&&(n.center=t.target.getCenter())};refreshVectorLayer(){let t=this.markersVectorLayer.getSource();t&&(t.clear(!0),t.addFeatures(Object.values(this.userMarkers)))}styleUser=(t,n)=>{t&&t.setStyle(new Ea({image:new xc({src:"assets/position_marker.png",size:[60,60],anchor:[.5,1],opacity:.7,scale:.5}),text:new _f({text:n,font:"bold 12px Calibri,sans-serif",offsetY:-40,fill:new qs({color:"blue"}),stroke:new Sa({color:"white",width:2})})}))};setupMap(t){let n=this.map?.getView();n?.setZoom(this.zoomLevelSingleMarker),t.forEach(i=>{Object.keys(this.userMarkers).includes(i.id)||(this.userMarkers[i.id]=new Sf);let r=[i.coords.longitude,i.coords.latitude];this.userMarkers[i.id].setGeometry(new Vu(hs(r))),this.styleUser(this.userMarkers[i.id],i.userName),i.id===this.userId&&i.coords.latitude&&i.coords.longitude&&n?.setCenter(hs(r))}),this.refreshVectorLayer()}updateMap(t){Object.keys(this.userMarkers).includes(t.id)&&delete this.userMarkers[t.id],this.refreshVectorLayer()}initializeMap=()=>{this.userMarkers[this.userId]=new Sf;let t=new sg({target:"attribution"});this.markersVectorLayer=new Cg({source:new Ev({features:Object.values(this.userMarkers)})}),this.map=new iT({controls:ag({attribution:!1}).extend([t]),target:"map",view:new ps({center:hs([0,0]),zoom:this.zoomLevelSingleMarker}),layers:[new uT({source:new Ab}),this.markersVectorLayer]}),this.map.getView().on("change:resolution",n=>this.zoomInput.next(n)),this.map.getView().once("change:center",n=>this.onCenterChanged(n))};static \u0275fac=function(n){return new(n||e)(We(Zr))};static \u0275cmp=et({type:e,selectors:[["app-map"]],inputs:{extendedView:"extendedView",userId:"userId",coordinatesChange:"coordinatesChange"},decls:4,vars:2,consts:[[1,"map-container"],[3,"map"],["class","extended-view",4,"ngIf"],[1,"extended-view"],["rows","10",1,"log-messages"],["positionTemplate","{x}, {y} m",3,"map"]],template:function(n,i){n&1&&(He(0,"main")(1,"div",0),Ct(2,"app-ol-map",1),Ke()(),Jt(3,l1e,6,3,"div",2)),n&2&&(tt(2),mt("map",i.map),tt(),mt("ngIf",i.extendedView))},dependencies:[Zn,za,pR,gR,Tv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}main[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:400px;min-width:400px}.map-container[_ngcontent-%COMP%], .log-messages[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{display:flex;background-color:var(--header-color);padding:1em;justify-content:space-between}.extended-view[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column}"]})};var RY="http://localhost:4000";function TY(e,t){e.post(`${RY}/ping`,t).subscribe(n=>{console.log("ping response:",n)})}function IY(e,t){e.post(`${RY}/remove`,t).subscribe(n=>{console.log("ping response:",n)})}var FY=ow(MY());var ET=class e{constructor(){let t=new FY.default("409287850efe9b9b147c",{cluster:"eu"});this.channel=t.subscribe("location")}channel;init(){return this.channel}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var d1e=new xe("[WA_WINDOW]",{factory:()=>{let{defaultView:e}=A(Lt);if(!e)throw new Error("Window is not available");return e}}),Ya=d1e,P1t=new xe("[WA_ANIMATION_FRAME]",{factory:()=>{let{requestAnimationFrame:e,cancelAnimationFrame:t}=A(Ya);return new Nt(i=>{let r=NaN,o=s=>{i.next(s),r=e(o)};return r=e(o),()=>{t(r)}}).pipe(Fh())}});var O1t=new xe("[WA_CACHES]",{factory:()=>A(Ya).caches});var L1t=new xe("[WA_CRYPTO]",{factory:()=>A(Ya).crypto});var N1t=new xe("[WA_CSS]",{factory:()=>A(Ya).CSS??{escape:e=>e,supports:()=>!1}});var B1t=new xe("[WA_HISTORY]",{factory:()=>A(Ya).history});var V1t=new xe("[WA_LOCAL_STORAGE]",{factory:()=>A(Ya).localStorage});var H1t=new xe("[WA_LOCATION]",{factory:()=>A(Ya).location});var DT=new xe("[WA_NAVIGATOR]",{factory:()=>A(Ya).navigator}),AY=DT,G1t=new xe("[WA_MEDIA_DEVICES]",{factory:()=>A(AY).mediaDevices});var z1t=new xe("[WA_NETWORK_INFORMATION]",{factory:()=>A(DT).connection||null});var U1t=new xe("[WA_PAGE_VISIBILITY]",{factory:()=>{let e=A(Lt);return wp(e,"visibilitychange").pipe(Bo(0),Tt(()=>e.visibilityState!=="hidden"),yp(),lu({refCount:!1,bufferSize:1}))}});var W1t=new xe("[WA_PERFORMANCE]",{factory:()=>A(Ya).performance});var j1t=new xe("[WA_SCREEN]",{factory:()=>A(Ya).screen});var $1t=new xe("[WA_SESSION_STORAGE]",{factory:()=>A(Ya).sessionStorage});var q1t=new xe("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{let e=A(Ya);return e.speechRecognition||e.webkitSpeechRecognition||null}});var K1t=new xe("[WA_SPEECH_SYNTHESIS]",{factory:()=>A(Ya).speechSynthesis});var X1t=new xe("[WA_USER_AGENT]",{factory:()=>A(AY).userAgent});var RT=new xe("An abstraction over window.navigator.geolocation object",{factory:()=>A(DT).geolocation});var kY=new xe("Token for an additional position options",{factory:()=>({})});var PY=new xe("Is Geolocation API supported?",{factory:()=>!!A(RT)});var kv=class e extends Nt{constructor(t,n,i){let r=0;return super(o=>{n||o.error("Geolocation is not supported in your browser"),r=t.watchPosition(s=>o.next(s),s=>o.error(s),i)}),this.pipe(rc(()=>t.clearWatch(r)),lu({bufferSize:1,refCount:!0}))}static \u0275fac=function(n){return new(n||e)(lt(RT),lt(PY),lt(kY))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};function u1e(e,t){if(e&1&&(He(0,"div"),Ct(1,"app-map",4),Ke()),e&2){let n=t.ngIf,i=jn();tt(),mt("coordinatesChange",n[0])("userId",i.geoPositionId)}}var TT=class e{constructor(t,n,i,r,o,s,a,l){this.http=t;this.route=n;this.pusher=i;this.changeDetectorRef=r;this.geoPositions=o;this.authService=s;this.router=a;this.geolocation$=l}destroyRef=A(Zi);geoPosition$;username="";geoPositionId="";message="";showAlert=!1;showLocationUpdate=!1;pingMyPosition(t,n){t&&TY(this.http,{userId:this.geoPositionId,lat:t.coords.latitude,lng:t.coords.longitude,username:this.username,info:n})}ngOnInit(){if(this.route.snapshot.paramMap.has("userId")&&this.route.snapshot.paramMap.has("username")){this.geoPositionId=this.route.snapshot.paramMap.get("userId"),this.username=this.route.snapshot.paramMap.get("username");let t=this.geoPositions.getGeoPosition(this.geoPositionId);if(!t)this.logout();else{this.geoPosition$=this.geoPositions.geoPositions$.asObservable();let n=this.authService.user$.pipe(xi(this.destroyRef)).subscribe(r=>{r?.id||this.logout()});this.destroyRef.onDestroy(()=>{n.unsubscribe()}),this.geoPositions.geoPositions$.next([t]);let i=this.pusher.init();i.bind("ping",r=>{let o=this.geoPositions.getGeoPosition(r.userId);if(o)this.geoPositions.setGeoCoordinatesAndOrZoom(r.userId,De(V({},o.coords),{latitude:r.lat,longitude:r.lng}));else{o={id:r.userId,userName:r.username,geoPositionInfo:"Todo ?",coords:{latitude:r.lat,longitude:r.lng},center:[0,0],zoom:14},this.geoPositions.addGeoPositions([o]);let s=this.geoPositions.getGeoPosition(this.geoPositionId);setTimeout(()=>{this.pingMyPosition(s,`Welcome ${r.username} to the Hangout`)},1e3)}this.geoPositions.geoPositions$.next([o]),this.showLocationUpdate=!0,this.message=`User "${o.userName}" says '${r.info}'`,this.changeDetectorRef.markForCheck()}),i.bind("remove",r=>{let o=this.geoPositions.removeGeoPosition(r.userId);o&&(this.showLocationUpdate=!0,this.message=`User "${o.userName}" says goodbye`,this.changeDetectorRef.markForCheck())})}}}ngAfterContentInit(){let t=this.geoPositions.getGeoPosition(this.geoPositionId);t&&this.pingMyPosition(t,`Hello, I'm ${this.username} and I just joined the Hangout`)}logout(){this.geoPositions.clearGeoPositions(),this.navigateHome()}navigateHome(){this.router.navigate(["/home"])}ngOnDestroy(){IY(this.http,{userId:this.geoPositionId}),this.geoPositionId="",this.username=""}static \u0275fac=function(n){return new(n||e)(We(u0),We(ld),We(ET),We(Mi),We(Zr),We(Jh),We($h),We(kv))};static \u0275cmp=et({type:e,selectors:[["app-hangout"]],decls:12,vars:6,consts:[[1,"main"],[4,"ngIf"],[1,"alert",3,"hidden"],[1,"location","alert",3,"hidden"],[3,"coordinatesChange","userId"]],template:function(n,i){n&1&&(Ct(0,"app-header"),He(1,"div",0),Jt(2,u1e,2,2,"div",1),rE(3,"async"),He(4,"h4"),Pn(5,"Location Alerts"),Ke(),He(6,"div",2)(7,"p"),Pn(8,"This user has left"),Ke()(),He(9,"div",3)(10,"p"),Pn(11),Ke()()()),n&2&&(tt(2),mt("ngIf",oE(3,4,i.geoPosition$)),tt(4),mt("hidden",!i.showAlert),tt(3),mt("hidden",!i.showLocationUpdate),tt(2),yo(i.message))},dependencies:[N0,Av,Zn,za,Ww],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:40px 2px}.main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-transform:uppercase;margin-bottom:15px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#f14343;color:#fff;padding:15px;border-radius:5px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.main[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{background:green;margin-top:20px}agm-map[_ngcontent-%COMP%]{height:400px;width:600px}"]})};function h1e(e,t){if(e&1&&(He(0,"div"),Pn(1),Ke()),e&2){let n=jn();tt(),zw(" Sorry, position is not available: ",n.error.message," ")}}function f1e(e,t){e&1&&(He(0,"div"),Pn(1," This is the place to be and hangout with your friends "),Ke())}function p1e(e,t){if(e&1){let n=wo();He(0,"div"),Ct(1,"app-map",4),He(2,"button",5),en("click",function(){Ui(n);let r=jn(2);return Wi(r.navigateToHangout())}),Pn(3,' Enter the "Hangout" '),Ke()()}if(e&2){let n=jn(2);tt(),mt("coordinatesChange",n.geoPosition)("userId",n.userId)("extendedView",!1)}}function g1e(e,t){if(e&1&&Jt(0,p1e,4,3,"div",2),e&2){let n=jn();mt("ngIf",!!n.geoPosition&&!!n.geoPosition.userName)}}var zb=class e{constructor(t,n,i,r,o){this.router=t;this.changeDetectorRef=n;this.authService=i;this.geoPositions$=r;this.geolocation$=o}error=null;geoPosition;destroyRef=A(Zi);username="";userId="";ngOnInit(){let t=this.authService.user$.pipe(xi(this.destroyRef)).subscribe(n=>{n?.id?(this.userId&&this.userId!==n.id&&this.geoPositions$.removeGeoPosition(this.userId),this.username=n.name,this.userId=n.id,this.showMap()):(this.userId="",this.username="",this.geoPosition=void 0,this.geoPositions$.clearGeoPositions())});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}navigateToHangout(){this.router.navigate(["/hangout",this.userId,this.username])}showMap(){this.geolocation$.pipe(fl()).subscribe({next:t=>{this.error=null,this.geoPosition={id:this.userId,userName:this.username,geoPositionInfo:"Just created user",coords:t.coords,center:[0,0],zoom:14},this.geoPositions$.addGeoPositions([this.geoPosition]),this.changeDetectorRef.markForCheck()},error:t=>{this.error=t}})}static \u0275fac=function(n){return new(n||e)(We($h),We(Mi),We(Jh),We(Zr),We(kv))};static \u0275cmp=et({type:e,selectors:[["app-home"]],decls:8,vars:4,consts:[["elseBlock",""],[1,"content"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"coordinatesChange","userId","extendedView"],[1,"primary-button",3,"click"]],template:function(n,i){if(n&1&&(Ct(0,"app-header"),He(1,"div",1)(2,"h2"),Pn(3),Ke(),Jt(4,h1e,2,1,"div",2)(5,f1e,2,0,"div",3)(6,g1e,1,1,"ng-template",null,0,Hh),Ke()),n&2){let r=Gs(7);tt(3),zw(" ",i.userId?`Welcome ${i.username} to "Hangout"`:'Welcome to "Hangout" make yourself known by logging in'," "),tt(),mt("ngIf",!!i.error),tt(),mt("ngIf",!i.username)("ngIfElse",r)}},dependencies:[N0,Zn,za,Av],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 0}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;opacity:.6}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{width:100%;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:40px 2px;transition:.3s;display:inline-block;text-decoration:none;cursor:pointer;border-radius:4px}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}"]})};br();var m1e=["*"];var v1e=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],C1e=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],w1e=new xe("MAT_CARD_CONFIG"),LY=(()=>{class e{appearance;constructor(){let n=A(w1e,{optional:!0});this.appearance=n?.appearance||"raised"}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){i&2&&Bn("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:m1e,decls:1,vars:0,template:function(i,r){i&1&&(Go(),_i(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),NY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var BY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();var VY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:C1e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){i&1&&(Go(v1e),_i(0),He(1,"div",0),_i(2,1),Ke(),_i(3,2))},encapsulation:2,changeDetection:0})}return e})(),HY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return e})();var IT=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,In]})}return e})();var y1e={capture:!0},b1e=["focus","mousedown","mouseenter","touchstart"],E4="mat-ripple-loader-uninitialized",D4="mat-ripple-loader-class-name",zY="mat-ripple-loader-centered",MT="mat-ripple-loader-disabled",UY=(()=>{class e{_document=A(Lt);_animationMode=A(Co,{optional:!0});_globalRippleOptions=A(w3,{optional:!0});_platform=A(Qn);_ngZone=A(pt);_injector=A(Tn);_eventCleanups;_hosts=new Map;constructor(){let n=A(so).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>b1e.map(i=>cs(n,this._document,i,this._onInteraction,y1e)))}ngOnDestroy(){let n=this._hosts.keys();for(let i of n)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(n,i){n.setAttribute(E4,this._globalRippleOptions?.namespace??""),(i.className||!n.hasAttribute(D4))&&n.setAttribute(D4,i.className||""),i.centered&&n.setAttribute(zY,""),i.disabled&&n.setAttribute(MT,"")}setDisabled(n,i){let r=this._hosts.get(n);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(n))):i?n.setAttribute(MT,""):n.removeAttribute(MT)}_onInteraction=n=>{let i=ma(n);if(i instanceof HTMLElement){let r=i.closest(`[${E4}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(D4)),n.append(i);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??Fy.enterDuration,a=r?0:o?.animation?.exitDuration??Fy.exitDuration,l={rippleDisabled:r||o?.disabled||n.hasAttribute(MT),rippleConfig:{centered:n.hasAttribute(zY),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new Ay(l,this._ngZone,i,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(n),this._hosts.set(n,{target:l,renderer:c,hasSetUpEvents:d}),n.removeAttribute(E4)}destroyRipple(n){let i=this._hosts.get(n);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _1e=["mat-icon-button",""],x1e=["*"];var WY=new xe("MAT_BUTTON_CONFIG");var S1e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],E1e=(()=>{class e{_elementRef=A(Mt);_ngZone=A(pt);_animationMode=A(Co,{optional:!0});_focusMonitor=A(cd);_rippleLoader=A(UY);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){A(ds).load(_D);let n=A(WY,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=n?.disabledInteractive??!1,this.color=n?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of S1e)i.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Bt({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ue],disabled:[2,"disabled","disabled",ue],ariaDisabled:[2,"aria-disabled","ariaDisabled",ue],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue]}})}return e})();var R4=(()=>{class e extends E1e{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Ii("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),cc(r.color?"mat-"+r.color:""),Bn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Xr],attrs:_1e,ngContentSelectors:x1e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Go(),Ct(0,"span",0),_i(1),Ct(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return e})();var Ub=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,k0,In]})}return e})();var T4=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,In]})}return e})();var jY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[T4,In,T4,In]})}return e})();var $Y=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In,In]})}return e})();var qY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In]})}return e})();var KY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[$p,In,k0,qY,$Y]})}return e})();var qo={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Ff=class e{constructor(t){this.responsive=t;this.responsive.observe([qo.Handset,qo.Tablet,qo.Web]).pipe(xi()).subscribe(n=>{let i=n.breakpoints;i[qo.TabletPortrait]||i[qo.HandsetLandscape]?this.fontSize$.next(2):i[qo.HandsetPortrait]||i[qo.HandsetLandscape]?this.fontSize$.next(1):(i[qo.WebLandscape]||i[qo.WebPortrait])&&this.fontSize$.next(3)})}fontSize$=new Yn(3);static \u0275fac=function(n){return new(n||e)(lt(jp))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ra=class e{constructor(t,n){this.geoPositionService=t;this.fontSizeService=n}map;currentFeature;currentCoordinates;info;overlay;tooltipSwitchedOn=!0;onClickHandler=null;assignTooltipHandlers(t,n){n&&(this.info=n),t&&!this.map&&(this.map=t),t.on("loadstart",()=>{t.getTargetElement().classList.add("spinner")}),t.on("loadend",()=>{t.getTargetElement().classList.remove("spinner")}),t.on("pointermove",this.pointerMove),t.getTargetElement().addEventListener("pointerleave",()=>this.reset())}assignClickHandler(t,n,i){t&&!this.map&&(this.map=t),t&&n&&(this.onClickHandler=n,this.overlay=new y4({element:i,autoPan:!0,id:"popup-house-card-overlay"}),this.overlay.panIntoView({animation:{duration:1e3},margin:100}),this.overlay.on("propertychange",this.switchTooltipOnOff.bind(this)),t.on("click",this.showPopUp.bind(this)))}closePopup(){this.overlay&&(this.overlay.setPosition(void 0),this.tooltipSwitchedOn=!1,this.switchTooltipOnOff(),this.map.removeOverlay(this.overlay))}showPopUp(t){if(this.map&&this.overlay&&this.onClickHandler)if(this.currentFeature)this.handleFeature(this.currentFeature,this.currentCoordinates);else{let n=this.map.getEventPixel(t.originalEvent);n&&this.map.forEachFeatureAtPixel(n,i=>{this.handleFeature(i,t.coordinate)},{hitTolerance:this.fontSizeService.fontSize$.value<3?10:0})}}handleFeature(t,n){let i=Wt(t),r=this.geoPositionService.getIdByUid(i);if(r&&this.onClickHandler){let o=this.geoPositionService.getGeoPosition(r);if(o?.details)this.onClickHandler(o.details);else{let s=JSON.parse(o?o.geoPositionInfo:`{
                  "postcode": "column 'postcode' not found",
                  "city": "column 'city' not found",
                  "housenumber": "column 'housenumber' not found"
                }`),a=o?`Address "${s.street} ${s.housenumber}, ${s.postcode} ${s.city}" not found`:"No address found";this.onClickHandler({Error:`${a}. Please verify address in excel sheet.`,[wg]:s.postcode,[Rd]:s.city,[Al]:s.housenumber,[Rf]:s.street})}this.overlay&&this.map&&(this.overlay.setPosition(n),this.map.addOverlay(this.overlay),this.reset())}}handlePointerMove(t){if(t.dragging&&this.info){this.info.style.visibility="hidden",this.currentFeature=void 0,this.currentCoordinates=void 0;return}let n=this.map.getEventPixel(t.originalEvent);this.displayFeatureInfo(n,t.originalEvent.target),this.currentCoordinates=t.coordinate}displayFeatureInfo(t,n){if(this.info&&this.map&&n){let i=this.map.forEachFeatureAtPixel(t,function(r){return r},{hitTolerance:this.fontSizeService.fontSize$.value<3?10:0});i?(this.info.style.left=t[0]+"px",this.info.style.top=t[1]+"px",i!==this.currentFeature&&(this.info.style.visibility="visible",this.info.innerText=i.get("Address"))):this.info.style.visibility="hidden",this.currentFeature=i}}reset(){this.info&&(this.currentFeature=void 0,this.currentCoordinates=void 0,this.info.style.visibility="hidden")}pointerMove=t=>this.handlePointerMove(t);switchTooltipOnOff(){setTimeout(()=>{document.getElementsByClassName("house-card").length===0||this.overlay.getElement()?.parentElement?.style.display==="none"?this.tooltipSwitchedOn||(this.map.on("pointermove",this.pointerMove),this.tooltipSwitchedOn=!0):this.tooltipSwitchedOn&&(this.map.un("pointermove",this.pointerMove),this.tooltipSwitchedOn=!1)},1)}static \u0275fac=function(n){return new(n||e)(lt(Zr),lt(Ff))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ai=class e extends Ra{constructor(t,n){super(t,n)}static \u0275fac=function(n){return new(n||e)(lt(Zr),lt(Ff))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var FT=class e{constructor(t){this.mapEventHandlers=t}details;map;address(){if(this.details){let[t,n,i,r,o]=Dd(this.details);return t?this.details[t]:`${this.details[o]} ${this.details[i]} ${this.details[n]?this.details[n]+" ":""}${this.details[r]}`}return""}closePopup(t){t.stopPropagation(),this.mapEventHandlers.closePopup()}static \u0275fac=function(n){return new(n||e)(We(Ai))};static \u0275cmp=et({type:e,selectors:[["app-card-header"]],inputs:{details:"details",map:"map"},features:[mi([Ai,{provide:Ai,useExisting:Ra}])],decls:8,vars:3,consts:[[1,"header"],[1,"table"],[1,"row"],["mat-icon-button","","aria-label","close icon",3,"click"],[1,"close-icon"]],template:function(n,i){n&1&&(He(0,"mat-card-header",0)(1,"div",1)(2,"div",2)(3,"mat-card-title"),Pn(4),Ke(),He(5,"button",3),en("click",function(o){return i.closePopup(o)}),He(6,"mat-icon",4),Pn(7,"close"),Ke()()()()()),n&2&&(tt(4),yo(i.address()),tt(),lc("flex",1))},dependencies:[IT,VY,NY,Tu,Ru],styles:[".header[_ngcontent-%COMP%]{padding:6px 0 6px 16px!important}.close-icon[_ngcontent-%COMP%]{color:red;float:right;cursor:pointer}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-wrap:anywhere}.row[_ngcontent-%COMP%]{display:flex}button[_ngcontent-%COMP%]{border-style:hidden;background-color:transparent}"]})};function T1e(e,t){if(e&1&&(He(0,"div",4)(1,"div",5),Pn(2),Ke(),Ct(3,"div",6),Ke()),e&2){let n=t.$implicit;tt(2),yo(n[0]),tt(),mt("innerHTML",n[1],iz)}}var AT=class e{details;isUrlItem(t){try{return new URL(t),!0}catch{return!1}}extraInformation(t){if(t){let[n,i,,r,o]=Dd(this.details);return Object.entries(t).filter(s=>![n,o,r,Vb,i,Tf,If,Hb].includes(s[0])&&!Gb(s[1])&&!_T(s[1])).map(s=>this.isUrlItem(s[1])?[s[0],`<a href="${s[1]}" target="_blank">${s[1]}</a>`]:s)}return[]}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["app-excel-content"]],inputs:{details:"details"},decls:4,vars:3,consts:[[1,"leftColumn"],[1,"info-table"],[1,"table"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"cellLeft"],[1,"cellRight",3,"innerHTML"]],template:function(n,i){n&1&&(He(0,"div",0)(1,"div",1)(2,"div",2),Jt(3,T1e,4,2,"div",3),Ke()()()),n&2&&(tt(2),lc("flex",2),tt(),mt("ngForOf",i.extraInformation(i.details)))},dependencies:[Zn,nd],styles:["app-excel-content{display:flex;flex:1}.leftColumn[_ngcontent-%COMP%]{float:left;flex:1 1 0}.info-table0[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-wrap:anywhere}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{display:flex;flex:1 1 0;justify-content:start;align-items:center;text-wrap:balance}.cellLeft[_ngcontent-%COMP%]{display:flex;flex:1 1 0;text-wrap:nowrap}.cellRight[_ngcontent-%COMP%]{display:flex;flex:1 1 0;text-wrap:balance}"]})};var kl=class e{subject;toast$;constructor(){this.subject=new Yn(null),this.toast$=this.subject.asObservable().pipe(un(t=>t!==null))}show(t,n,i,r){this.subject.next({type:t,title:n,body:i,delay:r})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var M4=32*1024,XY=500,I1e=.5,M1e=.5,kT=class e{constructor(t){this.toaster=t}compress(t){let n=t.type||"image/jpeg",i=new FileReader;return i.readAsDataURL(t),new Nt(r=>{i.onload=o=>{let s=this.createImage(o),a=s.width>s.height?s.width:s.height,l=a>XY?XY/a:I1e,c=t.size>M4?M4/t.size:M1e;s.onload=()=>{let d=document.createElement("canvas");d.width=s.width*l,d.height=s.height*l;let h=d.getContext("2d");h.drawImage(s,0,0,d.width,d.height);let f=h.canvas.toDataURL(n,c);f&&r.next(f),f.length>M4&&this.toaster.show("warning","Picture size too large (>32k), this picture can't be exported into the excel sheet")}},i.onerror=o=>r.error(o)})}createImage(t){let n=new Image;if(t.target?.result){let i=t.target.result;n.src=i}return n}static \u0275fac=function(n){return new(n||e)(lt(kl))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pl=class e{constructor(t){this.compressImage=t}pictureStore={};pictureStore$=new Yn({});loadPicture(t,n){let i=new FileReader;i.onload=r=>{if(r.target?.result)if(t.type.toLowerCase()==="application/json"){let o=JSON.parse(r.target?.result);Object.keys(o).forEach(s=>{this.storePicture(o[s.toLowerCase()],s.toLowerCase())})}else this.storePicture(r.target?.result,n.toLowerCase())},t.type.toLowerCase()==="application/json"?i.readAsText(t):this.compressImage.compress(t).pipe(Cr(1)).subscribe(r=>{this.storePicture(r,n.toLowerCase())})}storePicture(t,n){this.pictureStore[n.toLowerCase()]=t,this.pictureStore$.next({[n.toLowerCase()]:t})}getPicture(t){return Object.keys(this.pictureStore).includes(t)?this.pictureStore[t]:t}hasNoBlobs(t){return this.getPicture(t)===t}getPicturesStore(){return this.pictureStore}static \u0275fac=function(n){return new(n||e)(lt(kT))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};function A1e(e,t){if(e&1&&(He(0,"div",3)(1,"div",4),Ct(2,"img",5),Ke()()),e&2){let n=t.$implicit;tt(2),mt("src",n,rz)("alt",`Picture ${n} not found`)}}var OT=class e{constructor(t,n){this.pictureService=t;this.changeDetectorRef=n}details;ngOnInit(){this.pictureService.pictureStore$.subscribe(()=>{this.details=V({},this.details),this.changeDetectorRef.markForCheck()})}pictures(t){if(t){let n=x4(t);return Yu(t).forEach(i=>{let r=this.pictureService.getPicture(i.replace(/^.*[\\\/]/,""));n.includes(r)||n.push(this.pictureService.getPicture(i.replace(/^.*[\\\/]/,"")))}),n}return[]}static \u0275fac=function(n){return new(n||e)(We(Pl),We(Mi))};static \u0275cmp=et({type:e,selectors:[["app-pictures-content"]],inputs:{details:"details"},decls:3,vars:1,consts:[[1,"rightColumn"],[1,"rowWrap"],["class","cell",4,"ngFor","ngForOf"],[1,"cell"],[1,"picture-image"],["mat-card-image","",3,"src","alt"]],template:function(n,i){n&1&&(He(0,"div",0)(1,"div",1),Jt(2,A1e,3,2,"div",2),Ke()()),n&2&&(tt(2),mt("ngForOf",i.pictures(i.details)))},dependencies:[Zn,nd],styles:["app-pictures-content{display:flex;flex:1}.rightColumn[_ngcontent-%COMP%]{float:left;display:flex;flex:1 1 0;padding-left:20px}.rowWrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.cell[_ngcontent-%COMP%]{flex:1 1 49%}.picture-image[_ngcontent-%COMP%]{flex:1;padding:5px 2px 0}img[_ngcontent-%COMP%]{max-width:100%;height:auto;object-fit:cover;flex:initial}"]})};var k1e=`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="20px"
    viewBox="0 -960 960 960"
    width="20px"
    fill="#BD4C31"
  >
    <path
      d="M432-433ZM120-144q-29 0-50.5-21.5T48-216v-432q0-29 21.5-50.5T120-720h120l72-96h288v72H348l-72 96H120v432h624v-384h72v384q0 29-21.15 50.5T744-144H120Zm624-528v-72h-72v-72h72v-72h72v72h72v72h-72v72h-72ZM432-264q72 0 120-49t48-119q0-69-48-118.5T432-600q-72 0-120 49.5t-48 119q0 69.5 48 118.5t120 49Zm0-72q-42 0-69-28.13T336-433q0-39.9 27-67.45Q390-528 432-528t69 27.55q27 27.55 27 67.45 0 40.74-27 68.87Q474-336 432-336Z"
    />
  </svg>
`,P1e=`
  <svg xmlns="http://www.w3.org/2000/svg"
    height="24px"
    viewBox="0 -960 960 960"
    width="24px"
    fill="#BD4C31"
  >
    <path
      d="M560-80v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T903-300L683-80H560Zm300-263-37-37 37 37ZM620-140h38l121-122-18-19-19-18-122 121v38ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v120h-80v-80H520v-200H240v640h240v80H240Zm280-400Zm241 199-19-18 37 37-18-19Z"
    />
  </svg>`,LT=class e{constructor(t,n,i){this.pictureService=t;this.dataStoreService=n;this.mapEventHandlers=i;let r=A(Hy),o=A(Jw);r.addSvgIconLiteral("add-photo",o.bypassSecurityTrustHtml(k1e)),r.addSvgIconLiteral("edit-mode",o.bypassSecurityTrustHtml(P1e))}details;location(t){return t?`longitude: ${t[Tf]} / latitude: ${t[If]}`:"longitude: unknown} / latitude: unknown"}uploadPicture(){document.querySelector("#uploadPicture").click()}editMode(t,n){t.stopPropagation(),this.dataStoreService.setSelectedData(n),this.dataStoreService.setEditMode(!0),this.mapEventHandlers.closePopup()}selectPicture(t){let n=Yu(t),i=document.querySelector("#uploadPicture");i.files&&n.length&&this.pictureService.loadPicture(i.files[0],n[0])}static \u0275fac=function(n){return new(n||e)(We(Pl),We(Cs),We(Ai))};static \u0275cmp=et({type:e,selectors:[["app-card-footer"]],inputs:{details:"details"},features:[mi([Ai,{provide:Ai,useExisting:Ra}])],decls:12,vars:1,consts:[[1,"footer","row"],[1,"cellLeft"],["xmlns","http://www.w3.org/2000/svg","height","18px","viewBox","0 -960 960 960","width","18px","fill","#BD4C31"],["d","M360-440h80v-110h80v110h80v-190l-120-80-120 80v190Zm120 254q122-112 181-203.5T720-552q0-109-69.5-178.5T480-800q-101 0-170.5 69.5T240-552q0 71 59 162.5T480-186Zm0 106Q319-217 239.5-334.5T160-552q0-150 96.5-239T480-880q127 0 223.5 89T800-552q0 100-79.5 217.5T480-80Zm0-480Z"],[1,"cellRight"],["matIconButton","","aria-label","Photo icon",1,"upload-button",3,"click"],["svgIcon","edit-mode","aria-hidden","false","aria-label","Edit excel data"],["id","uploadPicture","type","file","accept","image/jpg",2,"display","none",3,"change"],["svgIcon","add-photo","aria-hidden","false","aria-label","Add photo SVG icon"]],template:function(n,i){n&1&&(He(0,"div",0)(1,"div",1),Lw(),He(2,"svg",2),Ct(3,"path",3),Ke(),lk(),He(4,"span"),Pn(5),Ke()(),He(6,"div",4)(7,"button",5),en("click",function(o){return i.editMode(o,i.details)}),Ct(8,"mat-icon",6),Ke(),He(9,"button",5),en("click",function(){return i.uploadPicture()}),He(10,"input",7),en("change",function(){return i.selectPicture(i.details)}),Ke(),Ct(11,"mat-icon",8),Ke()()()),n&2&&(tt(5),yo(i.location(i.details)))},dependencies:[Zn,Ru],styles:[".footer[_ngcontent-%COMP%]{font-size:x-small;padding:15px 0 5px;gap:10px;display:flex}.upload-button[_ngcontent-%COMP%]{padding:2px 1px 0 2px;cursor:pointer}.upload-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{max-height:14px;max-width:14px}.cellLeft[_ngcontent-%COMP%]{display:flex;flex:1 1 0;margin-left:10px;text-wrap:nowrap}.cellRight[_ngcontent-%COMP%]{display:flex;flex:1 1 0;flex-flow:row-reverse;margin-right:10px}"]})};var O1e=(e,t,n)=>({small:e,medium:t,big:n});function L1e(e,t){if(e&1&&Ct(0,"app-pictures-content",5),e&2){let n=jn(2);mt("details",n.details)}}function N1e(e,t){if(e&1&&(He(0,"mat-card",1),Ct(1,"app-card-header",2),He(2,"mat-card-content",3)(3,"div",4),Ct(4,"app-excel-content",5),Jt(5,L1e,1,1,"app-pictures-content",6),Ke()(),He(6,"mat-card-footer"),Ct(7,"app-card-footer",5),Ke()()),e&2){let n=t.ngIf,i=jn();mt("ngClass",_U(6,O1e,n===1,n===2,n===3)),tt(),mt("details",i.details)("map",i.map),tt(3),mt("details",i.details),tt(),mt("ngIf",i.checkIfItHasPictures()),tt(2),mt("details",i.details)}}var NT=class e{constructor(t,n,i,r){this.ref=t;this.mapEventHandlers=n;this.changeDetectorRef=i;this.fontSizeService=r}map;details;checkIfItHasPictures(){return SY(this.details)}callback=t=>{this.details=t,this.changeDetectorRef.markForCheck()};ngOnInit(){this.map&&this.mapEventHandlers.assignClickHandler(this.map,this.callback,this.ref.nativeElement)}static \u0275fac=function(n){return new(n||e)(We(Mt),We(Ai),We(Mi),We(Ff))};static \u0275cmp=et({type:e,selectors:[["app-popup-house-card"]],inputs:{map:"map"},features:[mi([Ai,{provide:Ai,useExisting:Ra}]),Kz([o0])],decls:2,vars:3,consts:[["class","house-card","appearance","raised",3,"ngClass",4,"ngIf"],["appearance","raised",1,"house-card",3,"ngClass"],[3,"details","map"],[1,"card-content"],[1,"columnsContainer"],[3,"details"],[3,"details",4,"ngIf"]],template:function(n,i){n&1&&(Jt(0,N1e,8,10,"mat-card",0),rE(1,"async")),n&2&&mt("ngIf",oE(1,1,i.details&&i.fontSizeService.fontSize$))},dependencies:[IT,LY,BY,HY,Ub,KY,jY,Tu,Zn,o0,za,Ww,FT,AT,OT,LT],styles:[".house-card[_ngcontent-%COMP%]{display:flex}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.small[_ngcontent-%COMP%]{font-size:10px;max-width:400px}.small[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:column}.medium[_ngcontent-%COMP%]{font-size:12px;max-width:500px}.medium[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:column}.big[_ngcontent-%COMP%]{font-size:16px;max-width:600px}.big[_ngcontent-%COMP%]   .info-table[_ngcontent-%COMP%]{flex-direction:row}.columnsContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1 1 50%}"],changeDetection:0})};function B1e(e,t){}var Pv=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var A4=(()=>{class e extends Kp{_elementRef=A(Mt);_focusTrapFactory=A(c3);_config;_interactivityChecker=A(gD);_ngZone=A(pt);_overlayRef=A(Yp);_focusMonitor=A(cd);_renderer=A(Kr);_platform=A(Qn);_document=A(Lt,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=A(Mi);_injector=A(Tn);_isDestroyed=!1;constructor(){super(),this._config=A(Pv,{optional:!0})||new Pv,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let i=this._ariaLabelledByQueue.indexOf(n);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),i}attachTemplatePortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),i}attachDomPortal=n=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,i){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",r),s=this._renderer.listen(n,"mousedown",r)})),n.focus(i)}_focusByCssSelector(n,i){let r=this._elementRef.nativeElement.querySelector(n);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||pa(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,i=null;if(typeof n=="string"?i=this._document.querySelector(n):typeof n=="boolean"?i=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(i=n),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=Ry(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,i=Ry();return n===i||n.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ry()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&wr(M0,7),i&2){let o;ni(o=ii())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&Ii("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Xr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&Jt(0,B1e,0,0,"ng-template",0)},dependencies:[M0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})(),$b=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ut;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,n){this.overlayRef=t,this.config=n,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!uc(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},V1e=new xe("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=A(Uo);return()=>e.scrollStrategies.block()}}),H1e=new xe("DialogData"),G1e=new xe("DefaultDialogConfig");var YY=(()=>{class e{_overlay=A(Uo);_injector=A(Tn);_defaultOptions=A(G1e,{optional:!0});_parentDialog=A(e,{optional:!0,skipSelf:!0});_overlayContainer=A(Ly);_idGenerator=A(wl);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ut;_afterOpenedAtThisLevel=new ut;_ariaHiddenElements=new Map;_scrollStrategy=A(V1e);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Am(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Bo(void 0)));constructor(){}open(n,i){let r=this._defaultOptions||new Pv;i=V(V({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new $b(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(n,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){F4(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(i=>i.id===n)}ngOnDestroy(){F4(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),F4(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let i=new Qh({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(i.backdropClass=n.backdropClass),i}_attachContainer(n,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:Pv,useValue:r},{provide:$b,useValue:i},{provide:Yp,useValue:n}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=A4;let l=new xu(a,r.viewContainerRef,Tn.create({parent:o||this._injector,providers:s}));return n.attach(l).instance}_attachDialogContent(n,i,r,o){if(n instanceof ua){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=V(V({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Su(n,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new xu(n,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(n,i,r,o){let s=n.injector||n.viewContainerRef?.injector,a=[{provide:H1e,useValue:n.data},{provide:$b,useValue:i}];return n.providers&&(typeof n.providers=="function"?a.push(...n.providers(i,n,r)):a.push(...n.providers)),n.direction&&(!s||!s.get(bl,null,{optional:!0}))&&a.push({provide:bl,useValue:{value:n.direction,change:bt()}}),Tn.create({parent:s||o,providers:a})}_removeOpenDialog(n,i){let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let i=n.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function F4(e,t){let n=e.length;for(;n--;)t(e[n])}function z1e(e,t){}var ZY="_mat-bottom-sheet-enter",QY="_mat-bottom-sheet-exit",U1e=(()=>{class e extends A4{_breakpointSubscription;_animationsDisabled=A(Co,{optional:!0})==="NoopAnimations";_animationState="void";_animationStateChanged=new ye;_destroyed;constructor(){super();let n=A(jp);this._breakpointSubscription=n.observe([qo.Medium,qo.Large,qo.XLarge]).subscribe(()=>{let i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",n.isMatched(qo.Medium)),i.toggle("mat-bottom-sheet-container-large",n.isMatched(qo.Large)),i.toggle("mat-bottom-sheet-container-xlarge",n.isMatched(qo.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(ZY))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(QY))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(n){this._ngZone.run(()=>{this._handleAnimationEvent(!0,n),setTimeout(()=>this._handleAnimationEvent(!1,n))})}_handleAnimationEvent(n,i){let r=i===ZY;(r||i===QY)&&this._animationStateChanged.emit({toState:r?"visible":"hidden",phase:n?"start":"done"})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(i,r){i&1&&en("animationstart",function(s){return r._handleAnimationEvent(!0,s.animationName)})("animationend",function(s){return r._handleAnimationEvent(!1,s.animationName)})("animationcancel",function(s){return r._handleAnimationEvent(!1,s.animationName)}),i&2&&(Ii("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),Bn("mat-bottom-sheet-container-animations-enabled",!r._animationsDisabled)("mat-bottom-sheet-container-enter",r._animationState==="visible")("mat-bottom-sheet-container-exit",r._animationState==="hidden"))},features:[Xr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&Jt(0,z1e,0,0,"ng-template",0)},dependencies:[M0],styles:["@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2})}return e})(),W1e=new xe("MatBottomSheetData"),k4=class{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},Ov=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new ut;_result;_closeFallbackTimeout;constructor(t,n,i){this._ref=t,this.containerInstance=i,this.disableClose=n.disableClose,i._animationStateChanged.pipe(un(r=>r.phase==="done"&&r.toState==="visible"),Cr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(un(r=>r.phase==="done"&&r.toState==="hidden"),Cr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),ic(this.backdropClick(),this.keydownEvents().pipe(un(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!uc(r))&&(r.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(un(n=>n.phase==="start"),Cr(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},j1e=new xe("mat-bottom-sheet-default-options"),JY=(()=>{class e{_overlay=A(Uo);_parentBottomSheet=A(e,{optional:!0,skipSelf:!0});_defaultOptions=A(j1e,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=A(YY);get _openedBottomSheetRef(){let n=this._parentBottomSheet;return n?n._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(n){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=n:this._bottomSheetRefAtThisLevel=n}constructor(){}open(n,i){let r=V(V({},this._defaultOptions||new k4),i),o;return this._dialog.open(n,De(V({},r),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:U1e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,l)=>(o=new Ov(s,r,l),[{provide:Ov,useValue:o},{provide:W1e,useValue:r.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(n){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(n)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $1e(e,t){e&1&&Ct(0,"div",2)}var q1e=new xe("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var tZ=(()=>{class e{_elementRef=A(Mt);_ngZone=A(pt);_changeDetectorRef=A(Mi);_renderer=A(Kr);_cleanupTransitionEnd;_animationMode=A(Co,{optional:!0});constructor(){let n=A(q1e,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",n&&(n.color&&(this.color=this._defaultColor=n.color),this.mode=n.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";get value(){return this._value}set value(n){this._value=eZ(n||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(n){this._bufferValue=eZ(n||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new ye;get mode(){return this._mode}set mode(n){this._mode=n,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=n=>{this.animationEnd.observers.length===0||!n.target||!n.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=et({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(Ii("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),cc("mat-"+r.color),Bn("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",aE],bufferValue:[2,"bufferValue","bufferValue",aE],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(He(0,"div",0),Ct(1,"div",1),Jt(2,$1e,1,0,"div",2),Ke(),He(3,"div",3),Ct(4,"span",4),Ke(),He(5,"div",5),Ct(6,"span",4),Ke()),i&2&&(tt(),lc("flex-basis",r._getBufferBarFlexBasis()),tt(),ao(r.mode==="buffer"?2:-1),tt(),lc("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return e})();function eZ(e,t=0,n=100){return Math.max(t,Math.min(n,e))}var BT=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ft({type:e});static \u0275inj=It({imports:[In]})}return e})();var Ko="xsl-import-progress",yg="pictures-import-progress",Ol=class e{progressSubject=new Yn({});isRunning={};increaseProgressByStep(t){return Pr(this,null,function*(){return new Promise(n=>{setTimeout(()=>{n(this.increaseProgressByStepAsync(t))},0)})})}getProgress(){return this.progressSubject}isProgressRunning(t){return this.isRunning[t]}setProgress(t,n){console.log("Set progress",t,n);let i=this.progressSubject.value,r=i[t]?.max??100;this.progressSubject.next(De(V({},i),{[t]:{value:n,max:r,count:0}}))}setMaxCount(t,n){console.log("Set max count",t,n),this.isRunning[t]=n>1;let i=this.progressSubject.value;this.progressSubject.next(De(V({},i),{[t]:{value:0,max:n,count:0}}))}increaseProgressByStepAsync(t){return Pr(this,null,function*(){let n=this.progressSubject.value,i=n[t];if(!i||i.max===0)return;let r=100/i.max,o=Math.min(i.value+Number.EPSILON*i.max+r,100);console.log("Increase progress",t,o,i.count+1),this.isRunning[t]=o<100,this.progressSubject.next(De(V({},n),{[t]:{value:o,max:i.max,count:i.count+1}}))})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};function X1e(e,t){if(e&1&&(He(0,"section"),Ct(1,"mat-progress-bar",1),Ke()),e&2){let n=jn();tt(),mt("mode","determinate")("value",n.progress)}}var Lv=class e{constructor(t){this.progressService=t}destroyRef=A(Zi);progress=0;progressId;ngOnInit(){if(this.progressId){let t=this.progressService.getProgress().pipe(xi(this.destroyRef),un(n=>Object.keys(n).length>0&&!!n[this.progressId])).subscribe(n=>{console.log(`Progress for ${this.progressId}`,n[this.progressId]),this.progress=n[this.progressId].value});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}}static \u0275fac=function(n){return new(n||e)(We(Ol))};static \u0275cmp=et({type:e,selectors:[["app-import-progress-bar"]],inputs:{progressId:"progressId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"mode","value"]],template:function(n,i){n&1&&Jt(0,X1e,2,2,"section",0),n&2&&mt("ngIf",i.progress)},dependencies:[BT,tZ,Zn,za],encapsulation:2})};var VT=class e{constructor(t,n){this.pictureService=t;this.progressService=n}progressId=yg;uploadFiles(t){return Pr(this,null,function*(){let n=Array.from(t.target.files);this.progressService.setMaxCount(yg,n.length);for(let i=0;i<n.length;i++){let r=n[i];this.pictureService.loadPicture(r,r.name),yield this.progressService.increaseProgressByStep(yg)}})}static \u0275fac=function(n){return new(n||e)(We(Pl),We(Ol))};static \u0275cmp=et({type:e,selectors:[["app-upload-multiple-files"]],decls:4,vars:1,consts:[["fileInput",""],[1,"upload-button"],["id","multipleFileInput","type","file","accept","image/png, image/jpeg, application/JSON","multiple","",3,"change","click"],[3,"progressId"]],template:function(n,i){if(n&1){let r=wo();He(0,"div",1)(1,"input",2,0),en("change",function(s){return Ui(r),Wi(i.uploadFiles(s))})("click",function(){Ui(r);let s=Gs(2);return Wi(s.value="")}),Ke(),Ct(3,"app-import-progress-bar",3),Ke()}n&2&&(tt(3),mt("progressId",i.progressId))},dependencies:[BT,Lv,Zn],styles:[".upload-button[_ngcontent-%COMP%]{width:auto;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:8px 0 0;transition:.3s;display:inline-block;text-decoration:none;cursor:pointer;border-radius:4px}.upload-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}"]})};var a_={};a_.version="0.18.5";var kd=1200,qv=1252,Y1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s6={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},a6=function(e){Y1e.indexOf(e)!=-1&&(qv=s6[0]=e)};function Z1e(){a6(1252)}var Rc=function(e){kd=e,a6(e)};function l6(){Rc(1200),Z1e()}function K4(e){for(var t=[],n=0,i=e.length;n<i;++n)t[n]=e.charCodeAt(n);return t}function Q1e(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function dQ(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Yb=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?Q1e(e.slice(2)):t==254&&n==255?dQ(e.slice(2)):t==65279?e.slice(1):e},HT=function(t){return String.fromCharCode(t)},nZ=function(t){return String.fromCharCode(t)},hi;var Tr=null,Kb=!0,kf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l_(e){for(var t="",n=0,i=0,r=0,o=0,s=0,a=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),o=n>>2,i=e.charCodeAt(c++),s=(n&3)<<4|i>>4,r=e.charCodeAt(c++),a=(i&15)<<2|r>>6,l=r&63,isNaN(i)?a=l=64:isNaN(r)&&(l=64),t+=kf.charAt(o)+kf.charAt(s)+kf.charAt(a)+kf.charAt(l);return t}function el(e){var t="",n=0,i=0,r=0,o=0,s=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)o=kf.indexOf(e.charAt(c++)),s=kf.indexOf(e.charAt(c++)),n=o<<2|s>>4,t+=String.fromCharCode(n),a=kf.indexOf(e.charAt(c++)),i=(s&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(i)),l=kf.indexOf(e.charAt(c++)),r=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(r));return t}var Mn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Of(e){return Mn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function iZ(e){return Mn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Qa=function(t){return Mn?nh(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function d2(e){if(typeof ArrayBuffer>"u")return Qa(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i!=e.length;++i)n[i]=e.charCodeAt(i)&255;return t}function Vf(e){if(Array.isArray(e))return e.map(function(i){return String.fromCharCode(i)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function J1e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function c6(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return c6(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Io=Mn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:nh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var i=new Uint8Array(n),r=0;for(t=0,n=0;t<e.length;n+=r,++t)if(r=e[t].length,e[t]instanceof Uint8Array)i.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";i.set(new Uint8Array(e[t]),n)}return i}return[].concat.apply([],e.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function eSe(e){for(var t=[],n=0,i=e.length+250,r=Of(e.length+255),o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s<128)r[n++]=s;else if(s<2048)r[n++]=192|s>>6&31,r[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var a=e.charCodeAt(++o)&1023;r[n++]=240|s>>8&7,r[n++]=128|s>>2&63,r[n++]=128|a>>6&15|(s&3)<<4,r[n++]=128|a&63}else r[n++]=224|s>>12&15,r[n++]=128|s>>6&63,r[n++]=128|s&63;n>i&&(t.push(r.slice(0,n)),n=0,r=Of(65535),i=65530)}return t.push(r.slice(0,n)),Io(t)}var Ss=/\u0000/g,Zb=/[\u0001-\u0006]/g;function Uv(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Tc(e,t){var n=""+e;return n.length>=t?n:Dr("0",t-n.length)+n}function d6(e,t){var n=""+e;return n.length>=t?n:Dr(" ",t-n.length)+n}function ZT(e,t){var n=""+e;return n.length>=t?n:n+Dr(" ",t-n.length)}function tSe(e,t){var n=""+Math.round(e);return n.length>=t?n:Dr("0",t-n.length)+n}function nSe(e,t){var n=""+e;return n.length>=t?n:Dr("0",t-n.length)+n}var rZ=Math.pow(2,32);function Nv(e,t){if(e>rZ||e<-rZ)return tSe(e,t);var n=Math.round(e);return nSe(n,t)}function QT(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var oZ=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],P4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iSe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',e}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},sZ={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rSe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function JT(e,t,n){for(var i=e<0?-1:1,r=e*i,o=0,s=1,a=0,l=1,c=0,d=0,h=Math.floor(r);c<t&&(h=Math.floor(r),a=h*s+o,d=h*c+l,!(r-h<5e-8));)r=1/(r-h),o=s,s=a,l=c,c=d;if(d>t&&(c>t?(d=l,a=o):(d=c,a=s)),!n)return[0,i*a,d];var f=Math.floor(i*a/d);return[f,i*a-f*d,d]}function _g(e,t,n){if(e>2958465||e<0)return null;var i=e|0,r=Math.floor(86400*(e-i)),o=0,s=[],a={D:i,T:r,u:86400*(e-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(i+=1462),a.u>.9999&&(a.u=0,++r==86400&&(a.T=r=0,++i,++a.D)),i===60)s=n?[1317,10,29]:[1900,2,29],o=3;else if(i===0)s=n?[1317,8,29]:[1900,1,0],o=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),i<60&&(o=(o+6)%7),n&&(o=dSe(l,s))}return a.y=s[0],a.m=s[1],a.d=s[2],a.S=r%60,r=Math.floor(r/60),a.M=r%60,r=Math.floor(r/60),a.H=r,a.q=o,a}var uQ=new Date(1899,11,31,0,0,0),oSe=uQ.getTime(),sSe=new Date(1900,2,1,0,0,0);function hQ(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=sSe&&(n+=24*60*60*1e3),(n-(oSe+(e.getTimezoneOffset()-uQ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function u6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function aSe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lSe(e){var t=e<0?12:11,n=u6(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function cSe(e){var t=u6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function c_(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=lSe(e):t===10?n=e.toFixed(10).substr(0,12):n=cSe(e),u6(aSe(n.toUpperCase()))}function Rg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):c_(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ul(14,hQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dSe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function uSe(e,t,n,i){var r="",o=0,s=0,a=n.y,l,c=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return P4[n.m-1][1];case 5:return P4[n.m-1][0];default:return P4[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return oZ[n.q][0];default:return oZ[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Tc(n.S,t.length):(i>=2?s=i===3?1e3:100:s=i===1?10:1,o=Math.round(s*(n.S+n.u)),o>=60*s&&(o=0),t==="s"?o===0?"0":""+o/s:(r=Tc(o,2+i),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var d=c>0?Tc(l,c):"";return d}function Pf(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,i=e.substr(0,n);n!=e.length;n+=t)i+=(i.length>0?",":"")+e.substr(n,t);return i}var fQ=/%/g;function hSe(e,t,n){var i=t.replace(fQ,""),r=t.length-i.length;return Qu(e,i,n*Math.pow(10,2*r))+Dr("%",r)}function fSe(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return Qu(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function pQ(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+pQ(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%r;if(o<0&&(o+=r),n=(t/Math.pow(10,o)).toPrecision(i+1+(r+o)%r),n.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+o):n+="E+"+(s-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,r)+"."+n.substr(2+r),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(r+o)%r)+"."+d.substr(o)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var gQ=/# (\?+)( ?)\/( ?)(\d+)/;function pSe(e,t,n){var i=parseInt(e[4],10),r=Math.round(t*i),o=Math.floor(r/i),s=r-o*i,a=i;return n+(o===0?"":""+o)+" "+(s===0?Dr(" ",e[1].length+1+e[4].length):d6(s,e[1].length)+e[2]+"/"+e[3]+Tc(a,e[4].length))}function gSe(e,t,n){return n+(t===0?"":""+t)+Dr(" ",e[1].length+2+e[4].length)}var mQ=/^#*0*\.([0#]+)/,vQ=/\).*[0#]/,CQ=/\(###\) ###\\?-####/;function Ks(e){for(var t="",n,i=0;i!=e.length;++i)switch(n=e.charCodeAt(i)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function aZ(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function lZ(e,t){var n=e-Math.floor(e),i=Math.pow(10,t);return t<(""+Math.round(n*i)).length?0:Math.round(n*i)}function mSe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function vSe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Nl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(vQ)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Nl("n",i,n):"("+Nl("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return fSe(e,t,n);if(t.indexOf("%")!==-1)return hSe(e,t,n);if(t.indexOf("E")!==-1)return pQ(t,n);if(t.charCodeAt(0)===36)return"$"+Nl(e,t.substr(t.charAt(1)==" "?2:1),n);var r,o,s,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Nv(l,t.length);if(t.match(/^[#?]+$/))return r=Nv(n,0),r==="0"&&(r=""),r.length>t.length?r:Ks(t.substr(0,t.length-r.length))+r;if(o=t.match(gQ))return pSe(o,l,c);if(t.match(/^#+0+$/))return c+Nv(l,t.length-t.indexOf("0"));if(o=t.match(mQ))return r=aZ(n,o[1].length).replace(/^([^\.]+)$/,"$1."+Ks(o[1])).replace(/\.$/,"."+Ks(o[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+Dr("0",Ks(o[1]).length-v.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+aZ(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+Pf(Nv(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Nl(e,t,-n):Pf(""+(Math.floor(n)+mSe(n,o[1].length)))+"."+Tc(lZ(n,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return Nl(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Uv(Nl(e,t.replace(/[\\-]/g,""),n)),s=0,Uv(Uv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<r.length?r.charAt(s++):m==="0"?"0":""}));if(t.match(CQ))return r=Nl(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=JT(l,Math.pow(10,s)-1,!1),r=""+c,d=Qu("n",o[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),r+=d+o[2]+"/"+o[3],d=ZT(a[2],s),d.length<o[4].length&&(d=Ks(o[4].substr(o[4].length-d.length))+d),r+=d,r;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),a=JT(l,Math.pow(10,s)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?d6(a[1],s)+o[2]+"/"+o[3]+ZT(a[2],s):Dr(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return r=Nv(n,0),t.length<=r.length?r:Ks(t.substr(0,t.length-r.length))+r;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=r.indexOf(".");var h=t.indexOf(".")-s,f=t.length-r.length-h;return Ks(t.substr(0,h)+r+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return s=lZ(n,o[1].length),n<0?"-"+Nl(e,t,-n):Pf(vSe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Tc(0,3-m.length):"")+m})+"."+Tc(s,o[1].length);switch(t){case"###,##0.00":return Nl(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Pf(Nv(l,0));return g!=="0"?c+g:"";case"###,###.00":return Nl(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Nl(e,"#,##0.00",n).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function CSe(e,t,n){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return Qu(e,t.substr(0,i),n/Math.pow(10,3*(t.length-i)))}function wSe(e,t,n){var i=t.replace(fQ,""),r=t.length-i.length;return Qu(e,i,n*Math.pow(10,2*r))+Dr("%",r)}function wQ(e,t){var n,i=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wQ(e,-t);var r=e.indexOf(".");r===-1&&(r=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%r;if(o<0&&(o+=r),n=(t/Math.pow(10,o)).toPrecision(i+1+(r+o)%r),!n.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+o):n+="E+"+(s-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,d){return l+c+d.substr(0,(r+o)%r)+"."+d.substr(o)+"E"})}else n=t.toExponential(i);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Md(e,t,n){if(e.charCodeAt(0)===40&&!t.match(vQ)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Md("n",i,n):"("+Md("n",i,-n)+")"}if(t.charCodeAt(t.length-1)===44)return CSe(e,t,n);if(t.indexOf("%")!==-1)return wSe(e,t,n);if(t.indexOf("E")!==-1)return wQ(t,n);if(t.charCodeAt(0)===36)return"$"+Md(e,t.substr(t.charAt(1)==" "?2:1),n);var r,o,s,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Tc(l,t.length);if(t.match(/^[#?]+$/))return r=""+n,n===0&&(r=""),r.length>t.length?r:Ks(t.substr(0,t.length-r.length))+r;if(o=t.match(gQ))return gSe(o,l,c);if(t.match(/^#+0+$/))return c+Tc(l,t.length-t.indexOf("0"));if(o=t.match(mQ))return r=(""+n).replace(/^([^\.]+)$/,"$1."+Ks(o[1])).replace(/\.$/,"."+Ks(o[1])),r=r.replace(/\.(\d*)$/,function(m,v){return"."+v+Dr("0",Ks(o[1]).length-v.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+Pf(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Md(e,t,-n):Pf(""+n)+"."+Dr("0",o[1].length);if(o=t.match(/^#,#*,#0/))return Md(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Uv(Md(e,t.replace(/[\\-]/g,""),n)),s=0,Uv(Uv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<r.length?r.charAt(s++):m==="0"?"0":""}));if(t.match(CQ))return r=Md(e,"##########",n),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var d="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=JT(l,Math.pow(10,s)-1,!1),r=""+c,d=Qu("n",o[1],a[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),r+=d+o[2]+"/"+o[3],d=ZT(a[2],s),d.length<o[4].length&&(d=Ks(o[4].substr(o[4].length-d.length))+d),r+=d,r;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),a=JT(l,Math.pow(10,s)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?d6(a[1],s)+o[2]+"/"+o[3]+ZT(a[2],s):Dr(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return r=""+n,t.length<=r.length?r:Ks(t.substr(0,t.length-r.length))+r;if(o=t.match(/^([#0]+)\.([#0]+)$/)){r=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=r.indexOf(".");var h=t.indexOf(".")-s,f=t.length-r.length-h;return Ks(t.substr(0,h)+r+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Md(e,t,-n):Pf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Tc(0,3-m.length):"")+m})+"."+Tc(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Pf(""+l);return g!=="0"?c+g:"";default:if(t.match(/\.[0#?]*$/))return Md(e,t.slice(0,t.lastIndexOf(".")),n)+Ks(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Qu(e,t,n){return(n|0)===n?Md(e,t,n):Nl(e,t,n)}function ySe(e){for(var t=[],n=!1,i=0,r=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(r,i-r),r=i+1}if(t[t.length]=e.substr(r),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var yQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zv(e){for(var t=0,n="",i="";t<e.length;)switch(n=e.charAt(t)){case"G":QT(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(i=n;e.charAt(t++)!=="]"&&t<e.length;)i+=e.charAt(t);if(i.match(yQ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function bSe(e,t,n,i){for(var r=[],o="",s=0,a="",l="t",c,d,h,f="H";s<e.length;)switch(a=e.charAt(s)){case"G":if(!QT(e,s))throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"G",v:"General"},s+=7;break;case'"':for(o="";(h=e.charCodeAt(++s))!==34&&s<e.length;)o+=String.fromCharCode(h);r[r.length]={t:"t",v:o},++s;break;case"\\":var g=e.charAt(++s),m=g==="("||g===")"?g:"t";r[r.length]={t:m,v:g},++s;break;case"_":r[r.length]={t:"t",v:" "},s+=2;break;case"@":r[r.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=_g(t,n,e.charAt(s+1)==="2"),c==null))return"";r[r.length]={t:"X",v:e.substr(s,2)},l=a,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=_g(t,n),c==null))return"";for(o=a;++s<e.length&&e.charAt(s).toLowerCase()===a;)o+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=f),r[r.length]={t:a,v:o},l=a;break;case"A":case"a":case"\u4E0A":var v={t:a,v:a};if(c==null&&(c=_g(t,n)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",f="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,f="h"):e.substr(s,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(c!=null&&(v.v=c.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),v.t="T",s+=5,f="h"):(v.t="t",++s),c==null&&v.t==="T")return"";r[r.length]=v,l=a;break;case"[":for(o=a;e.charAt(s++)!=="]"&&s<e.length;)o+=e.charAt(s);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(yQ)){if(c==null&&(c=_g(t,n),c==null))return"";r[r.length]={t:"Z",v:o.toLowerCase()},l=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zv(e)||(r[r.length]={t:"t",v:o}));break;case".":if(c!=null){for(o=a;++s<e.length&&(a=e.charAt(s))==="0";)o+=a;r[r.length]={t:"s",v:o};break}case"0":case"#":for(o=a;++s<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(s))>-1;)o+=a;r[r.length]={t:"n",v:o};break;case"?":for(o=a;e.charAt(++s)===a;)o+=a;r[r.length]={t:a,v:o},l=a;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":r[r.length]={t:i===1?"t":a,v:a},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=a;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)o+=e.charAt(s);r[r.length]={t:"D",v:o};break;case" ":r[r.length]={t:a,v:a},++s;break;case"$":r[r.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);r[r.length]={t:"t",v:a},++s;break}var C=0,y=0,x;for(s=r.length-1,l="t";s>=0;--s)switch(r[s].t){case"h":case"H":r[s].t=f,l="h",C<1&&(C=1);break;case"s":(x=r[s].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":l=r[s].t;break;case"m":l==="s"&&(r[s].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&r[s].v.match(/[Hh]/)&&(C=1),C<2&&r[s].v.match(/[Mm]/)&&(C=2),C<3&&r[s].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",R;for(s=0;s<r.length;++s)switch(r[s].t){case"t":case"T":case" ":case"D":break;case"X":r[s].v="",r[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[s].v=uSe(r[s].t.charCodeAt(0),r[s].v,c,y),r[s].t="t";break;case"n":case"?":for(R=s+1;r[R]!=null&&((a=r[R].t)==="?"||a==="D"||(a===" "||a==="t")&&r[R+1]!=null&&(r[R+1].t==="?"||r[R+1].t==="t"&&r[R+1].v==="/")||r[s].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(r[R].v==="/"||r[R].v===" "&&r[R+1]!=null&&r[R+1].t=="?"));)r[s].v+=r[R].v,r[R]={v:"",t:";"},++R;_+=r[s].v,s=R-1;break;case"G":r[s].t="t",r[s].v=Rg(t,n);break}var I="",F,T;if(_.length>0){_.charCodeAt(0)==40?(F=t<0&&_.charCodeAt(0)===45?-t:t,T=Qu("n",_,F)):(F=t<0&&i>1?-t:t,T=Qu("n",_,F),F<0&&r[0]&&r[0].t=="t"&&(T=T.substr(1),r[0].v="-"+r[0].v)),R=T.length-1;var P=r.length;for(s=0;s<r.length;++s)if(r[s]!=null&&r[s].t!="t"&&r[s].v.indexOf(".")>-1){P=s;break}var L=r.length;if(P===r.length&&T.indexOf("E")===-1){for(s=r.length-1;s>=0;--s)r[s]==null||"n?".indexOf(r[s].t)===-1||(R>=r[s].v.length-1?(R-=r[s].v.length,r[s].v=T.substr(R+1,r[s].v.length)):R<0?r[s].v="":(r[s].v=T.substr(0,R+1),R=-1),r[s].t="t",L=s);R>=0&&L<r.length&&(r[L].v=T.substr(0,R+1)+r[L].v)}else if(P!==r.length&&T.indexOf("E")===-1){for(R=T.indexOf(".")-1,s=P;s>=0;--s)if(!(r[s]==null||"n?".indexOf(r[s].t)===-1)){for(d=r[s].v.indexOf(".")>-1&&s===P?r[s].v.indexOf(".")-1:r[s].v.length-1,I=r[s].v.substr(d+1);d>=0;--d)R>=0&&(r[s].v.charAt(d)==="0"||r[s].v.charAt(d)==="#")&&(I=T.charAt(R--)+I);r[s].v=I,r[s].t="t",L=s}for(R>=0&&L<r.length&&(r[L].v=T.substr(0,R+1)+r[L].v),R=T.indexOf(".")+1,s=P;s<r.length;++s)if(!(r[s]==null||"n?(".indexOf(r[s].t)===-1&&s!==P)){for(d=r[s].v.indexOf(".")>-1&&s===P?r[s].v.indexOf(".")+1:0,I=r[s].v.substr(0,d);d<r[s].v.length;++d)R<T.length&&(I+=T.charAt(R++));r[s].v=I,r[s].t="t",L=s}}}for(s=0;s<r.length;++s)r[s]!=null&&"n?".indexOf(r[s].t)>-1&&(F=i>1&&t<0&&s>0&&r[s-1].v==="-"?-t:t,r[s].v=Qu(r[s].t,r[s].v,F),r[s].t="t");var U="";for(s=0;s!==r.length;++s)r[s]!=null&&(U+=r[s].v);return U}var cZ=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dZ(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function _Se(e,t){var n=ySe(e),i=n.length,r=n[i-1].indexOf("@");if(i<4&&r>-1&&--i,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||r>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=r>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=r>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=r>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var o=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[i,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(cZ),a=n[1].match(cZ);return dZ(t,s)?[i,n[0]]:dZ(t,a)?[i,n[1]]:[i,n[s!=null&&a!=null?2:1]]}return[i,o]}function Ul(e,t,n){n==null&&(n={});var i="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?i=n.dateNF:i=e;break;case"number":e==14&&n.dateNF?i=n.dateNF:i=(n.table!=null?n.table:jt)[e],i==null&&(i=n.table&&n.table[sZ[e]]||jt[sZ[e]]),i==null&&(i=rSe[e]||"General");break}if(QT(i,0))return Rg(t,n);t instanceof Date&&(t=hQ(t,n.date1904));var r=_Se(i,t);if(QT(r[1]))return Rg(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return bSe(r[1],t,n,r[0])}function Ju(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(jt[n]==null){t<0&&(t=n);continue}if(jt[n]==e){t=n;break}}t<0&&(t=391)}return jt[t]=e,t}function u2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Ju(e[t],t)}function Qv(){jt=iSe()}var xSe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function SSe(e){var t=typeof e=="number"?jt[e]:e;return t=t.replace(bQ,"(\\d+)"),new RegExp("^"+t+"$")}function ESe(e,t,n){var i=-1,r=-1,o=-1,s=-1,a=-1,l=-1;(t.match(bQ)||[]).forEach(function(h,f){var g=parseInt(n[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":i=g;break;case"d":o=g;break;case"h":s=g;break;case"s":l=g;break;case"m":s>=0?a=g:r=g;break}}),l>=0&&a==-1&&r>=0&&(a=r,r=-1);var c=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&a==-1&&l==-1?c:i==-1&&r==-1&&o==-1?d:c+"T"+d}var DSe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,P=new Array(256),L=0;L!=256;++L)T=L,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,P[L]=T;return typeof Int32Array<"u"?new Int32Array(P):P}var n=t();function i(T){var P=0,L=0,U=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)W[U]=T[U];for(U=0;U!=256;++U)for(L=T[U],P=256+U;P<4096;P+=256)L=W[P]=L>>>8^T[L&255];var X=[];for(U=1;U!=16;++U)X[U-1]=typeof Int32Array<"u"?W.subarray(U*256,U*256+256):W.slice(U*256,U*256+256);return X}var r=i(n),o=r[0],s=r[1],a=r[2],l=r[3],c=r[4],d=r[5],h=r[6],f=r[7],g=r[8],m=r[9],v=r[10],C=r[11],y=r[12],x=r[13],_=r[14];function R(T,P){for(var L=P^-1,U=0,W=T.length;U<W;)L=L>>>8^n[(L^T.charCodeAt(U++))&255];return~L}function I(T,P){for(var L=P^-1,U=T.length-15,W=0;W<U;)L=_[T[W++]^L&255]^x[T[W++]^L>>8&255]^y[T[W++]^L>>16&255]^C[T[W++]^L>>>24]^v[T[W++]]^m[T[W++]]^g[T[W++]]^f[T[W++]]^h[T[W++]]^d[T[W++]]^c[T[W++]]^l[T[W++]]^a[T[W++]]^s[T[W++]]^o[T[W++]]^n[T[W++]];for(U+=15;W<U;)L=L>>>8^n[(L^T[W++])&255];return~L}function F(T,P){for(var L=P^-1,U=0,W=T.length,X=0,oe=0;U<W;)X=T.charCodeAt(U++),X<128?L=L>>>8^n[(L^X)&255]:X<2048?(L=L>>>8^n[(L^(192|X>>6&31))&255],L=L>>>8^n[(L^(128|X&63))&255]):X>=55296&&X<57344?(X=(X&1023)+64,oe=T.charCodeAt(U++)&1023,L=L>>>8^n[(L^(240|X>>8&7))&255],L=L>>>8^n[(L^(128|X>>2&63))&255],L=L>>>8^n[(L^(128|oe>>6&15|(X&3)<<4))&255],L=L>>>8^n[(L^(128|oe&63))&255]):(L=L>>>8^n[(L^(224|X>>12&15))&255],L=L>>>8^n[(L^(128|X>>6&63))&255],L=L>>>8^n[(L^(128|X&63))&255]);return~L}return e.table=n,e.bstr=R,e.buf=I,e.str=F,e}(),Pt=function(){var t={};t.version="1.2.1";function n(k,j){for(var H=k.split("/"),z=j.split("/"),q=0,K=0,de=Math.min(H.length,z.length);q<de;++q){if(K=H[q].length-z[q].length)return K;if(H[q]!=z[q])return H[q]<z[q]?-1:1}return H.length-z.length}function i(k){if(k.charAt(k.length-1)=="/")return k.slice(0,-1).indexOf("/")===-1?k:i(k.slice(0,-1));var j=k.lastIndexOf("/");return j===-1?k:k.slice(0,j+1)}function r(k){if(k.charAt(k.length-1)=="/")return r(k.slice(0,-1));var j=k.lastIndexOf("/");return j===-1?k:k.slice(j+1)}function o(k,j){typeof j=="string"&&(j=new Date(j));var H=j.getHours();H=H<<6|j.getMinutes(),H=H<<5|j.getSeconds()>>>1,k.write_shift(2,H);var z=j.getFullYear()-1980;z=z<<4|j.getMonth()+1,z=z<<5|j.getDate(),k.write_shift(2,z)}function s(k){var j=k.read_shift(2)&65535,H=k.read_shift(2)&65535,z=new Date,q=H&31;H>>>=5;var K=H&15;H>>>=4,z.setMilliseconds(0),z.setFullYear(H+1980),z.setMonth(K-1),z.setDate(q);var de=j&31;j>>>=5;var Ee=j&63;return j>>>=6,z.setHours(j),z.setMinutes(Ee),z.setSeconds(de<<1),z}function a(k){Yo(k,0);for(var j={},H=0;k.l<=k.length-4;){var z=k.read_shift(2),q=k.read_shift(2),K=k.l+q,de={};switch(z){case 21589:H=k.read_shift(1),H&1&&(de.mtime=k.read_shift(4)),q>5&&(H&2&&(de.atime=k.read_shift(4)),H&4&&(de.ctime=k.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}k.l=K,j[z]=de}return j}var l;function c(){return l||(l={})}function d(k,j){if(k[0]==80&&k[1]==75)return ir(k,j);if((k[0]|32)==109&&(k[1]|32)==105)return jr(k,j);if(k.length<512)throw new Error("CFB file size "+k.length+" < 512");var H=3,z=512,q=0,K=0,de=0,Ee=0,pe=0,fe=[],ge=k.slice(0,512);Yo(ge,0);var qe=h(ge);switch(H=qe[0],H){case 3:z=512;break;case 4:z=4096;break;case 0:if(qe[1]==0)return ir(k,j);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}z!==512&&(ge=k.slice(0,z),Yo(ge,28));var Ze=k.slice(0,z);f(ge,H);var ft=ge.read_shift(4,"i");if(H===3&&ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ft);ge.l+=4,de=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),Ee=ge.read_shift(4,"i"),q=ge.read_shift(4,"i"),pe=ge.read_shift(4,"i"),K=ge.read_shift(4,"i");for(var Qe=-1,at=0;at<109&&(Qe=ge.read_shift(4,"i"),!(Qe<0));++at)fe[at]=Qe;var Gt=g(k,z);C(pe,K,Gt,z,fe);var ci=x(Gt,de,fe,z);ci[de].name="!Directory",q>0&&Ee!==oe&&(ci[Ee].name="!MiniFAT"),ci[fe[0]].name="!FAT",ci.fat_addrs=fe,ci.ssz=z;var no={},zi=[],Oo=[],qd=[];_(de,ci,Gt,zi,q,no,Oo,Ee),m(Oo,qd,zi),zi.shift();var Lo={FileIndex:Oo,FullPaths:qd};return j&&j.raw&&(Lo.raw={header:Ze,sectors:Gt}),Lo}function h(k){if(k[k.l]==80&&k[k.l+1]==75)return[0,0];k.chk(Ie,"Header Signature: "),k.l+=16;var j=k.read_shift(2,"u");return[k.read_shift(2,"u"),j]}function f(k,j){var H=9;switch(k.l+=2,H=k.read_shift(2)){case 9:if(j!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(j!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}k.chk("0600","Mini Sector Shift: "),k.chk("000000000000","Reserved: ")}function g(k,j){for(var H=Math.ceil(k.length/j)-1,z=[],q=1;q<H;++q)z[q-1]=k.slice(q*j,(q+1)*j);return z[H-1]=k.slice(H*j),z}function m(k,j,H){for(var z=0,q=0,K=0,de=0,Ee=0,pe=H.length,fe=[],ge=[];z<pe;++z)fe[z]=ge[z]=z,j[z]=H[z];for(;Ee<ge.length;++Ee)z=ge[Ee],q=k[z].L,K=k[z].R,de=k[z].C,fe[z]===z&&(q!==-1&&fe[q]!==q&&(fe[z]=fe[q]),K!==-1&&fe[K]!==K&&(fe[z]=fe[K])),de!==-1&&(fe[de]=z),q!==-1&&z!=fe[z]&&(fe[q]=fe[z],ge.lastIndexOf(q)<Ee&&ge.push(q)),K!==-1&&z!=fe[z]&&(fe[K]=fe[z],ge.lastIndexOf(K)<Ee&&ge.push(K));for(z=1;z<pe;++z)fe[z]===z&&(K!==-1&&fe[K]!==K?fe[z]=fe[K]:q!==-1&&fe[q]!==q&&(fe[z]=fe[q]));for(z=1;z<pe;++z)if(k[z].type!==0){if(Ee=z,Ee!=fe[Ee])do Ee=fe[Ee],j[z]=j[Ee]+"/"+j[z];while(Ee!==0&&fe[Ee]!==-1&&Ee!=fe[Ee]);fe[z]=-1}for(j[0]+="/",z=1;z<pe;++z)k[z].type!==2&&(j[z]+="/")}function v(k,j,H){for(var z=k.start,q=k.size,K=[],de=z;H&&q>0&&de>=0;)K.push(j.slice(de*X,de*X+X)),q-=X,de=bg(H,de*4);return K.length===0?Re(0):Io(K).slice(0,k.size)}function C(k,j,H,z,q){var K=oe;if(k===oe){if(j!==0)throw new Error("DIFAT chain shorter than expected")}else if(k!==-1){var de=H[k],Ee=(z>>>2)-1;if(!de)return;for(var pe=0;pe<Ee&&(K=bg(de,pe*4))!==oe;++pe)q.push(K);C(bg(de,z-4),j-1,H,z,q)}}function y(k,j,H,z,q){var K=[],de=[];q||(q=[]);var Ee=z-1,pe=0,fe=0;for(pe=j;pe>=0;){q[pe]=!0,K[K.length]=pe,de.push(k[pe]);var ge=H[Math.floor(pe*4/z)];if(fe=pe*4&Ee,z<4+fe)throw new Error("FAT boundary crossed: "+pe+" 4 "+z);if(!k[ge])break;pe=bg(k[ge],fe)}return{nodes:K,data:_Z([de])}}function x(k,j,H,z){var q=k.length,K=[],de=[],Ee=[],pe=[],fe=z-1,ge=0,qe=0,Ze=0,ft=0;for(ge=0;ge<q;++ge)if(Ee=[],Ze=ge+j,Ze>=q&&(Ze-=q),!de[Ze]){pe=[];var Qe=[];for(qe=Ze;qe>=0;){Qe[qe]=!0,de[qe]=!0,Ee[Ee.length]=qe,pe.push(k[qe]);var at=H[Math.floor(qe*4/z)];if(ft=qe*4&fe,z<4+ft)throw new Error("FAT boundary crossed: "+qe+" 4 "+z);if(!k[at]||(qe=bg(k[at],ft),Qe[qe]))break}K[Ze]={nodes:Ee,data:_Z([pe])}}return K}function _(k,j,H,z,q,K,de,Ee){for(var pe=0,fe=z.length?2:0,ge=j[k].data,qe=0,Ze=0,ft;qe<ge.length;qe+=128){var Qe=ge.slice(qe,qe+128);Yo(Qe,64),Ze=Qe.read_shift(2),ft=g2(Qe,0,Ze-fe),z.push(ft);var at={name:ft,type:Qe.read_shift(1),color:Qe.read_shift(1),L:Qe.read_shift(4,"i"),R:Qe.read_shift(4,"i"),C:Qe.read_shift(4,"i"),clsid:Qe.read_shift(16),state:Qe.read_shift(4,"i"),start:0,size:0},Gt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);Gt!==0&&(at.ct=R(Qe,Qe.l-8));var ci=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);ci!==0&&(at.mt=R(Qe,Qe.l-8)),at.start=Qe.read_shift(4,"i"),at.size=Qe.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=oe,at.name=""),at.type===5?(pe=at.start,q>0&&pe!==oe&&(j[pe].name="!StreamData")):at.size>=4096?(at.storage="fat",j[at.start]===void 0&&(j[at.start]=y(H,at.start,j.fat_addrs,j.ssz)),j[at.start].name=at.name,at.content=j[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:pe!==oe&&at.start!==oe&&j[pe]&&(at.content=v(at,j[pe].data,(j[Ee]||{}).data))),at.content&&Yo(at.content,0),K[ft]=at,de.push(at)}}function R(k,j){return new Date((To(k,j+4)/1e7*Math.pow(2,32)+To(k,j)/1e7-11644473600)*1e3)}function I(k,j){return c(),d(l.readFileSync(k),j)}function F(k,j){var H=j&&j.type;switch(H||Mn&&Buffer.isBuffer(k)&&(H="buffer"),H||"base64"){case"file":return I(k,j);case"base64":return d(Qa(el(k)),j);case"binary":return d(Qa(k),j)}return d(k,j)}function T(k,j){var H=j||{},z=H.root||"Root Entry";if(k.FullPaths||(k.FullPaths=[]),k.FileIndex||(k.FileIndex=[]),k.FullPaths.length!==k.FileIndex.length)throw new Error("inconsistent CFB structure");k.FullPaths.length===0&&(k.FullPaths[0]=z+"/",k.FileIndex[0]={name:z,type:5}),H.CLSID&&(k.FileIndex[0].clsid=H.CLSID),P(k)}function P(k){var j="Sh33tJ5";if(!Pt.find(k,"/"+j)){var H=Re(4);H[0]=55,H[1]=H[3]=50,H[2]=54,k.FileIndex.push({name:j,type:2,content:H,size:4,L:69,R:69,C:69}),k.FullPaths.push(k.FullPaths[0]+j),L(k)}}function L(k,j){T(k);for(var H=!1,z=!1,q=k.FullPaths.length-1;q>=0;--q){var K=k.FileIndex[q];switch(K.type){case 0:z?H=!0:(k.FileIndex.pop(),k.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(K.R*K.L*K.C)&&(H=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!j)){var de=new Date(1987,1,19),Ee=0,pe=Object.create?Object.create(null):{},fe=[];for(q=0;q<k.FullPaths.length;++q)pe[k.FullPaths[q]]=!0,k.FileIndex[q].type!==0&&fe.push([k.FullPaths[q],k.FileIndex[q]]);for(q=0;q<fe.length;++q){var ge=i(fe[q][0]);z=pe[ge],z||(fe.push([ge,{name:r(ge).replace("/",""),type:1,clsid:Le,ct:de,mt:de,content:null}]),pe[ge]=!0)}for(fe.sort(function(ft,Qe){return n(ft[0],Qe[0])}),k.FullPaths=[],k.FileIndex=[],q=0;q<fe.length;++q)k.FullPaths[q]=fe[q][0],k.FileIndex[q]=fe[q][1];for(q=0;q<fe.length;++q){var qe=k.FileIndex[q],Ze=k.FullPaths[q];if(qe.name=r(Ze).replace("/",""),qe.L=qe.R=qe.C=-(qe.color=1),qe.size=qe.content?qe.content.length:0,qe.start=0,qe.clsid=qe.clsid||Le,q===0)qe.C=fe.length>1?1:-1,qe.size=0,qe.type=5;else if(Ze.slice(-1)=="/"){for(Ee=q+1;Ee<fe.length&&i(k.FullPaths[Ee])!=Ze;++Ee);for(qe.C=Ee>=fe.length?-1:Ee,Ee=q+1;Ee<fe.length&&i(k.FullPaths[Ee])!=i(Ze);++Ee);qe.R=Ee>=fe.length?-1:Ee,qe.type=1}else i(k.FullPaths[q+1]||"")==i(Ze)&&(qe.R=q+1),qe.type=2}}}function U(k,j){var H=j||{};if(H.fileType=="mad")return Ms(k,H);switch(L(k),H.fileType){case"zip":return Zl(k,H)}var z=function(ft){for(var Qe=0,at=0,Gt=0;Gt<ft.FileIndex.length;++Gt){var ci=ft.FileIndex[Gt];if(ci.content){var no=ci.content.length;no>0&&(no<4096?Qe+=no+63>>6:at+=no+511>>9)}}for(var zi=ft.FullPaths.length+3>>2,Oo=Qe+7>>3,qd=Qe+127>>7,Lo=Oo+at+zi+qd,ol=Lo+127>>7,ea=ol<=109?0:Math.ceil((ol-109)/127);Lo+ol+ea+127>>7>ol;)ea=++ol<=109?0:Math.ceil((ol-109)/127);var is=[1,ea,ol,qd,zi,at,Qe,0];return ft.FileIndex[0].size=Qe<<6,is[7]=(ft.FileIndex[0].start=is[0]+is[1]+is[2]+is[3]+is[4]+is[5])+(is[6]+7>>3),is}(k),q=Re(z[7]<<9),K=0,de=0;{for(K=0;K<8;++K)q.write_shift(1,ae[K]);for(K=0;K<8;++K)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),K=0;K<3;++K)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,z[2]),q.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:oe),q.write_shift(4,z[3]),q.write_shift(-4,z[1]?z[0]-1:oe),q.write_shift(4,z[1]),K=0;K<109;++K)q.write_shift(-4,K<z[2]?z[1]+K:-1)}if(z[1])for(de=0;de<z[1];++de){for(;K<236+de*127;++K)q.write_shift(-4,K<z[2]?z[1]+K:-1);q.write_shift(-4,de===z[1]-1?oe:de+1)}var Ee=function(ft){for(de+=ft;K<de-1;++K)q.write_shift(-4,K+1);ft&&(++K,q.write_shift(-4,oe))};for(de=K=0,de+=z[1];K<de;++K)q.write_shift(-4,Se.DIFSECT);for(de+=z[2];K<de;++K)q.write_shift(-4,Se.FATSECT);Ee(z[3]),Ee(z[4]);for(var pe=0,fe=0,ge=k.FileIndex[0];pe<k.FileIndex.length;++pe)ge=k.FileIndex[pe],ge.content&&(fe=ge.content.length,!(fe<4096)&&(ge.start=de,Ee(fe+511>>9)));for(Ee(z[6]+7>>3);q.l&511;)q.write_shift(-4,Se.ENDOFCHAIN);for(de=K=0,pe=0;pe<k.FileIndex.length;++pe)ge=k.FileIndex[pe],ge.content&&(fe=ge.content.length,!(!fe||fe>=4096)&&(ge.start=de,Ee(fe+63>>6)));for(;q.l&511;)q.write_shift(-4,Se.ENDOFCHAIN);for(K=0;K<z[4]<<2;++K){var qe=k.FullPaths[K];if(!qe||qe.length===0){for(pe=0;pe<17;++pe)q.write_shift(4,0);for(pe=0;pe<3;++pe)q.write_shift(4,-1);for(pe=0;pe<12;++pe)q.write_shift(4,0);continue}ge=k.FileIndex[K],K===0&&(ge.start=ge.size?ge.start-1:oe);var Ze=K===0&&H.root||ge.name;if(fe=2*(Ze.length+1),q.write_shift(64,Ze,"utf16le"),q.write_shift(2,fe),q.write_shift(1,ge.type),q.write_shift(1,ge.color),q.write_shift(-4,ge.L),q.write_shift(-4,ge.R),q.write_shift(-4,ge.C),ge.clsid)q.write_shift(16,ge.clsid,"hex");else for(pe=0;pe<4;++pe)q.write_shift(4,0);q.write_shift(4,ge.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,ge.start),q.write_shift(4,ge.size),q.write_shift(4,0)}for(K=1;K<k.FileIndex.length;++K)if(ge=k.FileIndex[K],ge.size>=4096)if(q.l=ge.start+1<<9,Mn&&Buffer.isBuffer(ge.content))ge.content.copy(q,q.l,0,ge.size),q.l+=ge.size+511&-512;else{for(pe=0;pe<ge.size;++pe)q.write_shift(1,ge.content[pe]);for(;pe&511;++pe)q.write_shift(1,0)}for(K=1;K<k.FileIndex.length;++K)if(ge=k.FileIndex[K],ge.size>0&&ge.size<4096)if(Mn&&Buffer.isBuffer(ge.content))ge.content.copy(q,q.l,0,ge.size),q.l+=ge.size+63&-64;else{for(pe=0;pe<ge.size;++pe)q.write_shift(1,ge.content[pe]);for(;pe&63;++pe)q.write_shift(1,0)}if(Mn)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function W(k,j){var H=k.FullPaths.map(function(pe){return pe.toUpperCase()}),z=H.map(function(pe){var fe=pe.split("/");return fe[fe.length-(pe.slice(-1)=="/"?2:1)]}),q=!1;j.charCodeAt(0)===47?(q=!0,j=H[0].slice(0,-1)+j):q=j.indexOf("/")!==-1;var K=j.toUpperCase(),de=q===!0?H.indexOf(K):z.indexOf(K);if(de!==-1)return k.FileIndex[de];var Ee=!K.match(Zb);for(K=K.replace(Ss,""),Ee&&(K=K.replace(Zb,"!")),de=0;de<H.length;++de)if((Ee?H[de].replace(Zb,"!"):H[de]).replace(Ss,"")==K||(Ee?z[de].replace(Zb,"!"):z[de]).replace(Ss,"")==K)return k.FileIndex[de];return null}var X=64,oe=-2,Ie="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],Le="00000000000000000000000000000000",Se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:oe,FREESECT:-1,HEADER_SIGNATURE:Ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Le,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ge(k,j,H){c();var z=U(k,H);l.writeFileSync(j,z)}function be(k){for(var j=new Array(k.length),H=0;H<k.length;++H)j[H]=String.fromCharCode(k[H]);return j.join("")}function Ae(k,j){var H=U(k,j);switch(j&&j.type||"buffer"){case"file":return c(),l.writeFileSync(j.filename,H),H;case"binary":return typeof H=="string"?H:be(H);case"base64":return l_(typeof H=="string"?H:be(H));case"buffer":if(Mn)return Buffer.isBuffer(H)?H:nh(H);case"array":return typeof H=="string"?Qa(H):H}return H}var he;function N(k){try{var j=k.InflateRaw,H=new j;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)he=k;else throw new Error("zlib does not expose bytesRead")}catch(z){console.error("cannot use native zlib: "+(z.message||z))}}function ne(k,j){if(!he)return es(k,j);var H=he.InflateRaw,z=new H,q=z._processChunk(k.slice(k.l),z._finishFlushFlag);return k.l+=z.bytesRead,q}function Q(k){return he?he.deflateRawSync(k):Te(k)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ke=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ze(k){var j=(k<<1|k<<11)&139536|(k<<5|k<<15)&558144;return(j>>16|j>>8|j)&255}for(var Be=typeof Uint8Array<"u",ve=Be?new Uint8Array(256):[],St=0;St<256;++St)ve[St]=ze(St);function Y(k,j){var H=ve[k&255];return j<=8?H>>>8-j:(H=H<<8|ve[k>>8&255],j<=16?H>>>16-j:(H=H<<8|ve[k>>16&255],H>>>24-j))}function $t(k,j){var H=j&7,z=j>>>3;return(k[z]|(H<=6?0:k[z+1]<<8))>>>H&3}function At(k,j){var H=j&7,z=j>>>3;return(k[z]|(H<=5?0:k[z+1]<<8))>>>H&7}function Et(k,j){var H=j&7,z=j>>>3;return(k[z]|(H<=4?0:k[z+1]<<8))>>>H&15}function Dt(k,j){var H=j&7,z=j>>>3;return(k[z]|(H<=3?0:k[z+1]<<8))>>>H&31}function Ye(k,j){var H=j&7,z=j>>>3;return(k[z]|(H<=1?0:k[z+1]<<8))>>>H&127}function vt(k,j,H){var z=j&7,q=j>>>3,K=(1<<H)-1,de=k[q]>>>z;return H<8-z||(de|=k[q+1]<<8-z,H<16-z)||(de|=k[q+2]<<16-z,H<24-z)||(de|=k[q+3]<<24-z),de&K}function xn(k,j,H){var z=j&7,q=j>>>3;return z<=5?k[q]|=(H&7)<<z:(k[q]|=H<<z&255,k[q+1]=(H&7)>>8-z),j+3}function yi(k,j,H){var z=j&7,q=j>>>3;return H=(H&1)<<z,k[q]|=H,j+1}function Pi(k,j,H){var z=j&7,q=j>>>3;return H<<=z,k[q]|=H&255,H>>>=8,k[q+1]=H,j+8}function po(k,j,H){var z=j&7,q=j>>>3;return H<<=z,k[q]|=H&255,H>>>=8,k[q+1]=H&255,k[q+2]=H>>>8,j+16}function An(k,j){var H=k.length,z=2*H>j?2*H:j+5,q=0;if(H>=j)return k;if(Mn){var K=iZ(z);if(k.copy)k.copy(K);else for(;q<k.length;++q)K[q]=k[q];return K}else if(Be){var de=new Uint8Array(z);if(de.set)de.set(k);else for(;q<H;++q)de[q]=k[q];return de}return k.length=z,k}function Oi(k){for(var j=new Array(k),H=0;H<k;++H)j[H]=0;return j}function nr(k,j,H){var z=1,q=0,K=0,de=0,Ee=0,pe=k.length,fe=Be?new Uint16Array(32):Oi(32);for(K=0;K<32;++K)fe[K]=0;for(K=pe;K<H;++K)k[K]=0;pe=k.length;var ge=Be?new Uint16Array(pe):Oi(pe);for(K=0;K<pe;++K)fe[q=k[K]]++,z<q&&(z=q),ge[K]=0;for(fe[0]=0,K=1;K<=z;++K)fe[K+16]=Ee=Ee+fe[K-1]<<1;for(K=0;K<pe;++K)Ee=k[K],Ee!=0&&(ge[K]=fe[Ee+16]++);var qe=0;for(K=0;K<pe;++K)if(qe=k[K],qe!=0)for(Ee=Y(ge[K],z)>>z-qe,de=(1<<z+4-qe)-1;de>=0;--de)j[Ee|de<<qe]=qe&15|K<<4;return z}var rn=Be?new Uint16Array(512):Oi(512),Xn=Be?new Uint16Array(32):Oi(32);if(!Be){for(var Gi=0;Gi<512;++Gi)rn[Gi]=0;for(Gi=0;Gi<32;++Gi)Xn[Gi]=0}(function(){for(var k=[],j=0;j<32;j++)k.push(5);nr(k,Xn,32);var H=[];for(j=0;j<=143;j++)H.push(8);for(;j<=255;j++)H.push(9);for(;j<=279;j++)H.push(7);for(;j<=287;j++)H.push(8);nr(H,rn,288)})();var Xi=function(){for(var j=Be?new Uint8Array(32768):[],H=0,z=0;H<ke.length-1;++H)for(;z<ke[H+1];++z)j[z]=H;for(;z<32768;++z)j[z]=29;var q=Be?new Uint8Array(259):[];for(H=0,z=0;H<le.length-1;++H)for(;z<le[H+1];++z)q[z]=H;function K(Ee,pe){for(var fe=0;fe<Ee.length;){var ge=Math.min(65535,Ee.length-fe),qe=fe+ge==Ee.length;for(pe.write_shift(1,+qe),pe.write_shift(2,ge),pe.write_shift(2,~ge&65535);ge-- >0;)pe[pe.l++]=Ee[fe++]}return pe.l}function de(Ee,pe){for(var fe=0,ge=0,qe=Be?new Uint16Array(32768):[];ge<Ee.length;){var Ze=Math.min(65535,Ee.length-ge);if(Ze<10){for(fe=xn(pe,fe,+(ge+Ze==Ee.length)),fe&7&&(fe+=8-(fe&7)),pe.l=fe/8|0,pe.write_shift(2,Ze),pe.write_shift(2,~Ze&65535);Ze-- >0;)pe[pe.l++]=Ee[ge++];fe=pe.l*8;continue}fe=xn(pe,fe,+(ge+Ze==Ee.length)+2);for(var ft=0;Ze-- >0;){var Qe=Ee[ge];ft=(ft<<5^Qe)&32767;var at=-1,Gt=0;if((at=qe[ft])&&(at|=ge&-32768,at>ge&&(at-=32768),at<ge))for(;Ee[at+Gt]==Ee[ge+Gt]&&Gt<250;)++Gt;if(Gt>2){Qe=q[Gt],Qe<=22?fe=Pi(pe,fe,ve[Qe+1]>>1)-1:(Pi(pe,fe,3),fe+=5,Pi(pe,fe,ve[Qe-23]>>5),fe+=3);var ci=Qe<8?0:Qe-4>>2;ci>0&&(po(pe,fe,Gt-le[Qe]),fe+=ci),Qe=j[ge-at],fe=Pi(pe,fe,ve[Qe]>>3),fe-=3;var no=Qe<4?0:Qe-2>>1;no>0&&(po(pe,fe,ge-at-ke[Qe]),fe+=no);for(var zi=0;zi<Gt;++zi)qe[ft]=ge&32767,ft=(ft<<5^Ee[ge])&32767,++ge;Ze-=Gt-1}else Qe<=143?Qe=Qe+48:fe=yi(pe,fe,1),fe=Pi(pe,fe,ve[Qe]),qe[ft]=ge&32767,++ge}fe=Pi(pe,fe,0)-1}return pe.l=(fe+7)/8|0,pe.l}return function(pe,fe){return pe.length<8?K(pe,fe):de(pe,fe)}}();function Te(k){var j=Re(50+Math.floor(k.length*1.1)),H=Xi(k,j);return j.slice(0,H)}var re=Be?new Uint16Array(32768):Oi(32768),ce=Be?new Uint16Array(32768):Oi(32768),rt=Be?new Uint16Array(128):Oi(128),Ot=1,cn=1;function mr(k,j){var H=Dt(k,j)+257;j+=5;var z=Dt(k,j)+1;j+=5;var q=Et(k,j)+4;j+=4;for(var K=0,de=Be?new Uint8Array(19):Oi(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,fe=Be?new Uint8Array(8):Oi(8),ge=Be?new Uint8Array(8):Oi(8),qe=de.length,Ze=0;Ze<q;++Ze)de[Z[Ze]]=K=At(k,j),pe<K&&(pe=K),fe[K]++,j+=3;var ft=0;for(fe[0]=0,Ze=1;Ze<=pe;++Ze)ge[Ze]=ft=ft+fe[Ze-1]<<1;for(Ze=0;Ze<qe;++Ze)(ft=de[Ze])!=0&&(Ee[Ze]=ge[ft]++);var Qe=0;for(Ze=0;Ze<qe;++Ze)if(Qe=de[Ze],Qe!=0){ft=ve[Ee[Ze]]>>8-Qe;for(var at=(1<<7-Qe)-1;at>=0;--at)rt[ft|at<<Qe]=Qe&7|Ze<<3}var Gt=[];for(pe=1;Gt.length<H+z;)switch(ft=rt[Ye(k,j)],j+=ft&7,ft>>>=3){case 16:for(K=3+$t(k,j),j+=2,ft=Gt[Gt.length-1];K-- >0;)Gt.push(ft);break;case 17:for(K=3+At(k,j),j+=3;K-- >0;)Gt.push(0);break;case 18:for(K=11+Ye(k,j),j+=7;K-- >0;)Gt.push(0);break;default:Gt.push(ft),pe<ft&&(pe=ft);break}var ci=Gt.slice(0,H),no=Gt.slice(H);for(Ze=H;Ze<286;++Ze)ci[Ze]=0;for(Ze=z;Ze<30;++Ze)no[Ze]=0;return Ot=nr(ci,re,286),cn=nr(no,ce,30),j}function Pa(k,j){if(k[0]==3&&!(k[1]&3))return[Of(j),2];for(var H=0,z=0,q=iZ(j||1<<18),K=0,de=q.length>>>0,Ee=0,pe=0;(z&1)==0;){if(z=At(k,H),H+=3,z>>>1)z>>1==1?(Ee=9,pe=5):(H=mr(k,H),Ee=Ot,pe=cn);else{H&7&&(H+=8-(H&7));var fe=k[H>>>3]|k[(H>>>3)+1]<<8;if(H+=32,fe>0)for(!j&&de<K+fe&&(q=An(q,K+fe),de=q.length);fe-- >0;)q[K++]=k[H>>>3],H+=8;continue}for(;;){!j&&de<K+32767&&(q=An(q,K+32767),de=q.length);var ge=vt(k,H,Ee),qe=z>>>1==1?rn[ge]:re[ge];if(H+=qe&15,qe>>>=4,(qe>>>8&255)===0)q[K++]=qe;else{if(qe==256)break;qe-=257;var Ze=qe<8?0:qe-4>>2;Ze>5&&(Ze=0);var ft=K+le[qe];Ze>0&&(ft+=vt(k,H,Ze),H+=Ze),ge=vt(k,H,pe),qe=z>>>1==1?Xn[ge]:ce[ge],H+=qe&15,qe>>>=4;var Qe=qe<4?0:qe-2>>1,at=ke[qe];for(Qe>0&&(at+=vt(k,H,Qe),H+=Qe),!j&&de<ft&&(q=An(q,ft+100),de=q.length);K<ft;)q[K]=q[K-at],++K}}}return j?[q,H+7>>>3]:[q.slice(0,K),H+7>>>3]}function es(k,j){var H=k.slice(k.l||0),z=Pa(H,j);return k.l+=z[1],z[0]}function Li(k,j){if(k)typeof console<"u"&&console.error(j);else throw new Error(j)}function ir(k,j){var H=k;Yo(H,0);var z=[],q=[],K={FileIndex:z,FullPaths:q};T(K,{root:j.root});for(var de=H.length-4;(H[de]!=80||H[de+1]!=75||H[de+2]!=5||H[de+3]!=6)&&de>=0;)--de;H.l=de+4,H.l+=4;var Ee=H.read_shift(2);H.l+=6;var pe=H.read_shift(4);for(H.l=pe,de=0;de<Ee;++de){H.l+=20;var fe=H.read_shift(4),ge=H.read_shift(4),qe=H.read_shift(2),Ze=H.read_shift(2),ft=H.read_shift(2);H.l+=8;var Qe=H.read_shift(4),at=a(H.slice(H.l+qe,H.l+qe+Ze));H.l+=qe+Ze+ft;var Gt=H.l;H.l=Qe+4,rr(H,fe,ge,K,at),H.l=Gt}return K}function rr(k,j,H,z,q){k.l+=2;var K=k.read_shift(2),de=k.read_shift(2),Ee=s(k);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var pe=k.read_shift(4),fe=k.read_shift(4),ge=k.read_shift(4),qe=k.read_shift(2),Ze=k.read_shift(2),ft="",Qe=0;Qe<qe;++Qe)ft+=String.fromCharCode(k[k.l++]);if(Ze){var at=a(k.slice(k.l,k.l+Ze));(at[21589]||{}).mt&&(Ee=at[21589].mt),((q||{})[21589]||{}).mt&&(Ee=q[21589].mt)}k.l+=Ze;var Gt=k.slice(k.l,k.l+fe);switch(de){case 8:Gt=ne(k,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var ci=!1;K&8&&(pe=k.read_shift(4),pe==134695760&&(pe=k.read_shift(4),ci=!0),fe=k.read_shift(4),ge=k.read_shift(4)),fe!=j&&Li(ci,"Bad compressed size: "+j+" != "+fe),ge!=H&&Li(ci,"Bad uncompressed size: "+H+" != "+ge),$n(z,ft,Gt,{unsafe:!0,mt:Ee})}function Zl(k,j){var H=j||{},z=[],q=[],K=Re(1),de=H.compression?8:0,Ee=0,pe=!1;pe&&(Ee|=8);var fe=0,ge=0,qe=0,Ze=0,ft=k.FullPaths[0],Qe=ft,at=k.FileIndex[0],Gt=[],ci=0;for(fe=1;fe<k.FullPaths.length;++fe)if(Qe=k.FullPaths[fe].slice(ft.length),at=k.FileIndex[fe],!(!at.size||!at.content||Qe=="Sh33tJ5")){var no=qe,zi=Re(Qe.length);for(ge=0;ge<Qe.length;++ge)zi.write_shift(1,Qe.charCodeAt(ge)&127);zi=zi.slice(0,zi.l),Gt[Ze]=DSe.buf(at.content,0);var Oo=at.content;de==8&&(Oo=Q(Oo)),K=Re(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,Ee),K.write_shift(2,de),at.mt?o(K,at.mt):K.write_shift(4,0),K.write_shift(-4,Ee&8?0:Gt[Ze]),K.write_shift(4,Ee&8?0:Oo.length),K.write_shift(4,Ee&8?0:at.content.length),K.write_shift(2,zi.length),K.write_shift(2,0),qe+=K.length,z.push(K),qe+=zi.length,z.push(zi),qe+=Oo.length,z.push(Oo),Ee&8&&(K=Re(12),K.write_shift(-4,Gt[Ze]),K.write_shift(4,Oo.length),K.write_shift(4,at.content.length),qe+=K.l,z.push(K)),K=Re(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,Ee),K.write_shift(2,de),K.write_shift(4,0),K.write_shift(-4,Gt[Ze]),K.write_shift(4,Oo.length),K.write_shift(4,at.content.length),K.write_shift(2,zi.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,no),ci+=K.l,q.push(K),ci+=zi.length,q.push(zi),++Ze}return K=Re(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,Ze),K.write_shift(2,Ze),K.write_shift(4,ci),K.write_shift(4,qe),K.write_shift(2,0),Io([Io(z),Io(q),K])}var ts={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function fh(k,j){if(k.ctype)return k.ctype;var H=k.name||"",z=H.match(/\.([^\.]+)$/);return z&&ts[z[1]]||j&&(z=(H=j).match(/[\.\\]([^\.\\])+$/),z&&ts[z[1]])?ts[z[1]]:"application/octet-stream"}function Wr(k){for(var j=l_(k),H=[],z=0;z<j.length;z+=76)H.push(j.slice(z,z+76));return H.join(`\r
`)+`\r
`}function Js(k){var j=k.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var ge=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});j=j.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),j.charAt(0)==`
`&&(j="=0D"+j.slice(1)),j=j.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],z=j.split(`\r
`),q=0;q<z.length;++q){var K=z[q];if(K.length==0){H.push("");continue}for(var de=0;de<K.length;){var Ee=76,pe=K.slice(de,de+Ee);pe.charAt(Ee-1)=="="?Ee--:pe.charAt(Ee-2)=="="?Ee-=2:pe.charAt(Ee-3)=="="&&(Ee-=3),pe=K.slice(de,de+Ee),de+=Ee,de<K.length&&(pe+="="),H.push(pe)}}return H.join(`\r
`)}function to(k){for(var j=[],H=0;H<k.length;++H){for(var z=k[H];H<=k.length&&z.charAt(z.length-1)=="=";)z=z.slice(0,z.length-1)+k[++H];j.push(z)}for(var q=0;q<j.length;++q)j[q]=j[q].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return Qa(j.join(`\r
`))}function ko(k,j,H){for(var z="",q="",K="",de,Ee=0;Ee<10;++Ee){var pe=j[Ee];if(!pe||pe.match(/^\s*$/))break;var fe=pe.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":z=fe[2].trim();break;case"content-type":K=fe[2].trim();break;case"content-transfer-encoding":q=fe[2].trim();break}}switch(++Ee,q.toLowerCase()){case"base64":de=Qa(el(j.slice(Ee).join("")));break;case"quoted-printable":de=to(j.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var ge=$n(k,z.slice(H.length),de,{unsafe:!0});K&&(ge.ctype=K)}function jr(k,j){if(be(k.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=j&&j.root||"",z=(Mn&&Buffer.isBuffer(k)?k.toString("binary"):be(k)).split(`\r
`),q=0,K="";for(q=0;q<z.length;++q)if(K=z[q],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),H||(H=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),K.slice(0,H.length)!=H););var de=(z[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var Ee="--"+(de[1]||""),pe=[],fe=[],ge={FileIndex:pe,FullPaths:fe};T(ge);var qe,Ze=0;for(q=0;q<z.length;++q){var ft=z[q];ft!==Ee&&ft!==Ee+"--"||(Ze++&&ko(ge,z.slice(qe,q),H),qe=q)}return ge}function Ms(k,j){var H=j||{},z=H.boundary||"SheetJS";z="------="+z;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+z.slice(2)+'"',"","",""],K=k.FullPaths[0],de=K,Ee=k.FileIndex[0],pe=1;pe<k.FullPaths.length;++pe)if(de=k.FullPaths[pe].slice(K.length),Ee=k.FileIndex[pe],!(!Ee.size||!Ee.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var fe=Ee.content,ge=Mn&&Buffer.isBuffer(fe)?fe.toString("binary"):be(fe),qe=0,Ze=Math.min(1024,ge.length),ft=0,Qe=0;Qe<=Ze;++Qe)(ft=ge.charCodeAt(Qe))>=32&&ft<128&&++qe;var at=qe>=Ze*4/5;q.push(z),q.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+de),q.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),q.push("Content-Type: "+fh(Ee,de)),q.push(""),q.push(at?Js(ge):Wr(ge))}return q.push(z+`--\r
`),q.join(`\r
`)}function Po(k){var j={};return T(j,k),j}function $n(k,j,H,z){var q=z&&z.unsafe;q||T(k);var K=!q&&Pt.find(k,j);if(!K){var de=k.FullPaths[0];j.slice(0,de.length)==de?de=j:(de.slice(-1)!="/"&&(de+="/"),de=(de+j).replace("//","/")),K={name:r(j),type:2},k.FileIndex.push(K),k.FullPaths.push(de),q||Pt.utils.cfb_gc(k)}return K.content=H,K.size=H?H.length:0,z&&(z.CLSID&&(K.clsid=z.CLSID),z.mt&&(K.mt=z.mt),z.ct&&(K.ct=z.ct)),K}function Mr(k,j){T(k);var H=Pt.find(k,j);if(H){for(var z=0;z<k.FileIndex.length;++z)if(k.FileIndex[z]==H)return k.FileIndex.splice(z,1),k.FullPaths.splice(z,1),!0}return!1}function ns(k,j,H){T(k);var z=Pt.find(k,j);if(z){for(var q=0;q<k.FileIndex.length;++q)if(k.FileIndex[q]==z)return k.FileIndex[q].name=r(H),k.FullPaths[q]=H,!0}return!1}function ip(k){L(k,!0)}return t.find=W,t.read=F,t.parse=d,t.write=Ae,t.writeFile=Ge,t.utils={cfb_new:Po,cfb_add:$n,cfb_del:Mr,cfb_mov:ns,cfb_gc:ip,ReadShift:Jb,CheckField:VQ,prep_blob:Yo,bconcat:Io,use_zlib:N,_deflateRaw:Te,_inflateRaw:es,consts:Se},t}(),Gv;function RSe(e){return typeof e=="string"?d2(e):Array.isArray(e)?J1e(e):e}function b_(e,t,n){if(typeof Gv<"u"&&Gv.writeFileSync)return n?Gv.writeFileSync(e,t,n):Gv.writeFileSync(e,t);if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=d2(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var i=n=="utf8"?Ad(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,e);if(typeof Blob<"u"){var r=new Blob([RSe(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(typeof saveAs<"u")return saveAs(r,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=o,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=Vf(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function TSe(e){if(typeof Gv<"u")return Gv.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(i){if(!i.message||!i.message.match(/onstruct/))throw i}throw new Error("Cannot access file "+e)}function Ir(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(e,t[i])&&n.push(t[i]);return n}function uZ(e,t){for(var n=[],i=Ir(e),r=0;r!==i.length;++r)n[e[i[r]][t]]==null&&(n[e[i[r]][t]]=i[r]);return n}function h2(e){for(var t=[],n=Ir(e),i=0;i!==n.length;++i)t[e[n[i]]]=n[i];return t}function f2(e){for(var t=[],n=Ir(e),i=0;i!==n.length;++i)t[e[n[i]]]=parseInt(n[i],10);return t}function ISe(e){for(var t=[],n=Ir(e),i=0;i!==n.length;++i)t[e[n[i]]]==null&&(t[e[n[i]]]=[]),t[e[n[i]]].push(n[i]);return t}var e2=new Date(1899,11,30,0,0,0);function ho(e,t){var n=e.getTime();t&&(n-=1462*24*60*60*1e3);var i=e2.getTime()+(e.getTimezoneOffset()-e2.getTimezoneOffset())*6e4;return(n-i)/(24*60*60*1e3)}var _Q=new Date,MSe=e2.getTime()+(_Q.getTimezoneOffset()-e2.getTimezoneOffset())*6e4,hZ=_Q.getTimezoneOffset();function p2(e){var t=new Date;return t.setTime(e*24*60*60*1e3+MSe),t.getTimezoneOffset()!==hZ&&t.setTime(t.getTime()+(t.getTimezoneOffset()-hZ)*6e4),t}function FSe(e){var t=0,n=0,i=!1,r=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var o=1;o!=r.length;++o)if(r[o]){switch(n=1,o>3&&(i=!0),r[o].slice(r[o].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[o].slice(r[o].length-1));case"D":n*=24;case"H":n*=60;case"M":if(i)n*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}t+=n*parseInt(r[o],10)}return t}var fZ=new Date("2017-02-19T19:06:09.000Z"),xQ=isNaN(fZ.getFullYear())?new Date("2/19/17"):fZ,ASe=xQ.getFullYear()==2017;function $i(e,t){var n=new Date(e);if(ASe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(xQ.getFullYear()==1917&&!isNaN(n.getFullYear())){var i=n.getFullYear();return e.indexOf(""+i)>-1||n.setFullYear(n.getFullYear()+100),n}var r=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Tg(e,t){if(Mn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Ad(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Ad(dQ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Ad(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Ad(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(o){return n[o]||o})}catch{}for(var i=[],r=0;r!=e.length;++r)i.push(String.fromCharCode(e[r]));return i.join("")}function qi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=qi(e[n]));return t}function Dr(e,t){for(var n="";n.length<t;)n+=e;return n}function Ic(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,i=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,o){return n=-n,o}),!isNaN(t=Number(i)))?t/n:t}var kSe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Kv(e){var t=new Date(e),n=new Date(NaN),i=t.getYear(),r=t.getMonth(),o=t.getDate();if(isNaN(o))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&kSe.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return i<0||i>8099?n:(r>0||o>1)&&i!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var PSe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,i,r){if(e||typeof i=="string")return n.split(i);for(var o=n.split(i),s=[o[0]],a=1;a<o.length;++a)s.push(r),s.push(o[a]);return s}}();function SQ(e){return e?e.content&&e.type?Tg(e.content,!0):e.data?Yb(e.data):e.asNodeBuffer&&Mn?Yb(e.asNodeBuffer().toString("binary")):e.asBinary?Yb(e.asBinary()):e._data&&e._data.getContent?Yb(Tg(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function EQ(e){if(!e)return null;if(e.data)return K4(e.data);if(e.asNodeBuffer&&Mn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?K4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function OSe(e){return e&&e.name.slice(-4)===".bin"?EQ(e):SQ(e)}function Hl(e,t){for(var n=e.FullPaths||Ir(e.files),i=t.toLowerCase().replace(/[\/]/g,"\\"),r=i.replace(/\\/g,"/"),o=0;o<n.length;++o){var s=n[o].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==s||r==s)return e.files?e.files[n[o]]:e.FileIndex[o]}return null}function h6(e,t){var n=Hl(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Jr(e,t,n){if(!n)return OSe(h6(e,t));if(!t)return null;try{return Jr(e,t)}catch{return null}}function Ja(e,t,n){if(!n)return SQ(h6(e,t));if(!t)return null;try{return Ja(e,t)}catch{return null}}function DQ(e,t,n){if(!n)return EQ(h6(e,t));if(!t)return null;try{return DQ(e,t)}catch{return null}}function pZ(e){for(var t=e.FullPaths||Ir(e.files),n=[],i=0;i<t.length;++i)t[i].slice(-1)!="/"&&n.push(t[i].replace(/^Root Entry[\/]/,""));return n.sort()}function bn(e,t,n){if(e.FullPaths){if(typeof n=="string"){var i;return Mn?i=nh(n):i=eSe(n),Pt.utils.cfb_add(e,t,i)}Pt.utils.cfb_add(e,t,n)}else e.file(t,n)}function f6(){return Pt.utils.cfb_new()}function RQ(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Qb(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var i=e.split("/");i.length!==0;){var r=i.shift();r===".."?n.pop():r!=="."&&n.push(r)}return n.join("/")}var zr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,LSe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,gZ=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,NSe=/<[^>]*>/g,Rs=zr.match(gZ)?gZ:NSe,BSe=/<\w*:/,VSe=/<(\/?)\w+:/;function Yt(e,t,n){for(var i={},r=0,o=0;r!==e.length&&!((o=e.charCodeAt(r))===32||o===10||o===13);++r);if(t||(i[0]=e.slice(0,r)),r===e.length)return i;var s=e.match(LSe),a=0,l="",c=0,d="",h="",f=1;if(s)for(c=0;c!=s.length;++c){for(h=s[c],o=0;o!=h.length&&h.charCodeAt(o)!==61;++o);for(d=h.slice(0,o).trim();h.charCodeAt(o+1)==32;)++o;for(f=(r=h.charCodeAt(o+1))==34||r==39?1:0,l=h.slice(o+1+f,h.length-f),a=0;a!=d.length&&d.charCodeAt(a)!==58;++a);if(a===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),i[d]=l,n||(i[d.toLowerCase()]=l);else{var g=(a===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(a+1);if(i[g]&&d.slice(a-3,a)=="ext")continue;i[g]=l,n||(i[g.toLowerCase()]=l)}}return i}function Pd(e){return e.replace(VSe,"<$1")}var TQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},p6=h2(TQ),qn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(i){var r=i+"",o=r.indexOf("<![CDATA[");if(o==-1)return r.replace(e,function(a,l){return TQ[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var s=r.indexOf("]]>");return n(r.slice(0,o))+r.slice(o+9,s)+n(r.slice(s+3))}}(),g6=/[&<>'"]/g,HSe=/[\u0000-\u0008\u000b-\u001f]/g;function wi(e){var t=e+"";return t.replace(g6,function(n){return p6[n]}).replace(HSe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function mZ(e){return wi(e).replace(/ /g,"_x0020_")}var IQ=/[\u0000-\u001f]/g;function m6(e){var t=e+"";return t.replace(g6,function(n){return p6[n]}).replace(/\n/g,"<br/>").replace(IQ,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function GSe(e){var t=e+"";return t.replace(g6,function(n){return p6[n]}).replace(IQ,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var vZ=function(){var e=/&#(\d+);/g;function t(n,i){return String.fromCharCode(parseInt(i,10))}return function(i){return i.replace(e,t)}}();function zSe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ji(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function O4(e){for(var t="",n=0,i=0,r=0,o=0,s=0,a=0;n<e.length;){if(i=e.charCodeAt(n++),i<128){t+=String.fromCharCode(i);continue}if(r=e.charCodeAt(n++),i>191&&i<224){s=(i&31)<<6,s|=r&63,t+=String.fromCharCode(s);continue}if(o=e.charCodeAt(n++),i<240){t+=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63);continue}s=e.charCodeAt(n++),a=((i&7)<<18|(r&63)<<12|(o&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function CZ(e){var t=Of(2*e.length),n,i,r=1,o=0,s=0,a;for(i=0;i<e.length;i+=r)r=1,(a=e.charCodeAt(i))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(i+1)&63),r=2):a<240?(n=(a&15)*4096+(e.charCodeAt(i+1)&63)*64+(e.charCodeAt(i+2)&63),r=3):(r=4,n=(a&7)*262144+(e.charCodeAt(i+1)&63)*4096+(e.charCodeAt(i+2)&63)*64+(e.charCodeAt(i+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(t[o++]=s&255,t[o++]=s>>>8,s=0),t[o++]=n%256,t[o++]=n>>>8;return t.slice(0,o).toString("ucs2")}function wZ(e){return nh(e,"binary").toString("utf8")}var GT="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",Si=Mn&&(wZ(GT)==O4(GT)&&wZ||CZ(GT)==O4(GT)&&CZ)||O4,Ad=Mn?function(e){return nh(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,i=0,r=0;n<e.length;)switch(i=e.charCodeAt(n++),!0){case i<128:t.push(String.fromCharCode(i));break;case i<2048:t.push(String.fromCharCode(192+(i>>6))),t.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=e.charCodeAt(n++)-56320+(i<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(i>>12))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)))}return t.join("")},d_=function(){var e={};return function(n,i){var r=n+"|"+(i||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",i||"")}}(),MQ=function(){var e=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var i=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<e.length;++r)i=i.replace(e[r][0],e[r][1]);return i}}(),USe=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),WSe=/<\/?(?:vt:)?variant>/g,jSe=/<(?:vt:)([^>]*)>([\s\S]*)</;function yZ(e,t){var n=Yt(e),i=e.match(USe(n.baseType))||[],r=[];if(i.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+i.length+" != "+n.size);return r}return i.forEach(function(o){var s=o.replace(WSe,"").match(jSe);s&&r.push({v:Si(s[2]),t:s[1]})}),r}var FQ=/(^\s|\s$|\n)/;function Zo(e,t){return"<"+e+(t.match(FQ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function u_(e){return Ir(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function it(e,t,n){return"<"+e+(n!=null?u_(n):"")+(t!=null?(t.match(FQ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function X4(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function $Se(e,t){switch(typeof e){case"string":var n=it("vt:lpwstr",wi(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return it((e|0)==e?"vt:i4":"vt:r8",wi(String(e)));case"boolean":return it("vt:bool",e?"true":"false")}if(e instanceof Date)return it("vt:filetime",X4(e));throw new Error("Unable to serialize "+e)}function v6(e){if(Mn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Si(Vf(c6(e)));throw new Error("Bad input format: expected Buffer or string")}var h_=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,uo={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},kg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Za={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qSe(e,t){for(var n=1-2*(e[t+7]>>>7),i=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),r=e[t+6]&15,o=5;o>=0;--o)r=r*256+e[t+o];return i==2047?r==0?n*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),n*Math.pow(2,i-52)*r)}function KSe(e,t,n){var i=(t<0||1/t==-1/0?1:0)<<7,r=0,o=0,s=i?-t:t;isFinite(s)?s==0?r=o=0:(r=Math.floor(Math.log(s)/Math.LN2),o=s*Math.pow(2,52-r),r<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?r=-1022:(o-=Math.pow(2,52),r+=1023)):(r=2047,o=isNaN(t)?26985:0);for(var a=0;a<=5;++a,o/=256)e[n+a]=o&255;e[n+6]=(r&15)<<4|o&15,e[n+7]=r>>4|i}var bZ=function(e){for(var t=[],n=10240,i=0;i<e[0].length;++i)if(e[0][i])for(var r=0,o=e[0][i].length;r<o;r+=n)t.push.apply(t,e[0][i].slice(r,r+n));return t},_Z=Mn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:nh(t)})):bZ(e)}:bZ,xZ=function(e,t,n){for(var i=[],r=t;r<n;r+=2)i.push(String.fromCharCode(Zu(e,r)));return i.join("").replace(Ss,"")},g2=Mn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ss,""):xZ(e,t,n)}:xZ,SZ=function(e,t,n){for(var i=[],r=t;r<t+n;++r)i.push(("0"+e[r].toString(16)).slice(-2));return i.join("")},AQ=Mn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):SZ(e,t,n)}:SZ,EZ=function(e,t,n){for(var i=[],r=t;r<n;r++)i.push(String.fromCharCode(Hv(e,r)));return i.join("")},Jv=Mn?function(t,n,i){return Buffer.isBuffer(t)?t.toString("utf8",n,i):EZ(t,n,i)}:EZ,kQ=function(e,t){var n=To(e,t);return n>0?Jv(e,t+4,t+4+n-1):""},C6=kQ,PQ=function(e,t){var n=To(e,t);return n>0?Jv(e,t+4,t+4+n-1):""},w6=PQ,OQ=function(e,t){var n=2*To(e,t);return n>0?Jv(e,t+4,t+4+n-1):""},y6=OQ,LQ=function(t,n){var i=To(t,n);return i>0?g2(t,n+4,n+4+i):""},b6=LQ,NQ=function(e,t){var n=To(e,t);return n>0?Jv(e,t+4,t+4+n):""},_6=NQ,BQ=function(e,t){return qSe(e,t)},t2=BQ,x6=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Mn&&(C6=function(t,n){if(!Buffer.isBuffer(t))return kQ(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},w6=function(t,n){if(!Buffer.isBuffer(t))return PQ(t,n);var i=t.readUInt32LE(n);return i>0?t.toString("utf8",n+4,n+4+i-1):""},y6=function(t,n){if(!Buffer.isBuffer(t))return OQ(t,n);var i=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i-1)},b6=function(t,n){if(!Buffer.isBuffer(t))return LQ(t,n);var i=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+i)},_6=function(t,n){if(!Buffer.isBuffer(t))return NQ(t,n);var i=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+i)},t2=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):BQ(t,n)},x6=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function XSe(){g2=function(e,t,n){return hi.utils.decode(1200,e.slice(t,n)).replace(Ss,"")},Jv=function(e,t,n){return hi.utils.decode(65001,e.slice(t,n))},C6=function(e,t){var n=To(e,t);return n>0?hi.utils.decode(qv,e.slice(t+4,t+4+n-1)):""},w6=function(e,t){var n=To(e,t);return n>0?hi.utils.decode(kd,e.slice(t+4,t+4+n-1)):""},y6=function(e,t){var n=2*To(e,t);return n>0?hi.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},b6=function(e,t){var n=To(e,t);return n>0?hi.utils.decode(1200,e.slice(t+4,t+4+n)):""},_6=function(e,t){var n=To(e,t);return n>0?hi.utils.decode(65001,e.slice(t+4,t+4+n)):""}}typeof hi<"u"&&XSe();var Hv=function(e,t){return e[t]},Zu=function(e,t){return e[t+1]*256+e[t]},YSe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},To=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},bg=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZSe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Jb(e,t){var n="",i,r,o=[],s,a,l,c;switch(t){case"dbcs":if(c=this.l,Mn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Zu(this,c)),c+=2;e*=2;break;case"utf8":n=Jv(this,this.l,this.l+e);break;case"utf16le":e*=2,n=g2(this,this.l,this.l+e);break;case"wstr":if(typeof hi<"u")n=hi.utils.decode(kd,this.slice(this.l,this.l+2*e));else return Jb.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":n=C6(this,this.l),e=4+To(this,this.l);break;case"lpstr-cp":n=w6(this,this.l),e=4+To(this,this.l);break;case"lpwstr":n=y6(this,this.l),e=4+2*To(this,this.l);break;case"lpp4":e=4+To(this,this.l),n=b6(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+To(this,this.l),n=_6(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(s=Hv(this,this.l+e++))!==0;)o.push(HT(s));n=o.join("");break;case"_wstr":for(e=0,n="";(s=Zu(this,this.l+e))!==0;)o.push(HT(s)),e+=2;e+=2,n=o.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Hv(this,c),this.l=c+1,a=Jb.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),o.join("")+a;o.push(HT(Zu(this,c))),c+=2}n=o.join(""),e*=2;break;case"cpstr":if(typeof hi<"u"){n=hi.utils.decode(kd,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Hv(this,c),this.l=c+1,a=Jb.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),o.join("")+a;o.push(HT(Hv(this,c))),c+=1}n=o.join("");break;default:switch(e){case 1:return i=Hv(this,this.l),this.l++,i;case 2:return i=(t==="i"?YSe:Zu)(this,this.l),this.l+=2,i;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(i=(e>0?bg:ZSe)(this,this.l),this.l+=4,i):(r=To(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return e==8?r=t2(this,this.l):r=t2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:n=AQ(this,this.l,e);break}}return this.l+=e,n}var QSe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},JSe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},eEe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function tEe(e,t,n){var i=0,r=0;if(n==="dbcs"){for(r=0;r!=t.length;++r)eEe(this,t.charCodeAt(r),this.l+2*r);i=2*t.length}else if(n==="sbcs"){if(typeof hi<"u"&&qv==874)for(r=0;r!=t.length;++r){var o=hi.utils.encode(qv,t.charAt(r));this[this.l+r]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;i=t.length}else if(n==="hex"){for(;r<e;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(r=0;r<Math.min(t.length,e);++r){var a=t.charCodeAt(r);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:i=1,this[this.l]=t&255;break;case 2:i=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:i=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:i=4,QSe(this,t,this.l);break;case 8:if(i=8,n==="f"){KSe(this,t,this.l);break}case 16:break;case-4:i=4,JSe(this,t,this.l);break}return this.l+=i,this}function VQ(e,t){var n=AQ(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Yo(e,t){e.l=t,e.read_shift=Jb,e.chk=VQ,e.write_shift=tEe}function Ds(e,t){e.l+=t}function Re(e){var t=Of(e);return Yo(t,0),t}function ih(e,t,n){if(e){var i,r,o;Yo(e,e.l||0);for(var s=e.length,a=0,l=0;e.l<s;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=C_[a]||C_[65535];for(i=e.read_shift(1),o=i&127,r=1;r<4&&i&128;++r)o+=((i=e.read_shift(1))&127)<<7*r;l=e.l+o;var d=c.f&&c.f(e,o,n);if(e.l=l,t(d,c,a))return}}}function Ia(){var e=[],t=Mn?256:2048,n=function(c){var d=Re(c);return Yo(d,0),d},i=n(t),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&e.push(i),i=null)},o=function(c){return i&&c<i.length-i.l?i:(r(),i=n(Math.max(c+1,t)))},s=function(){return r(),Io(e)},a=function(c){r(),i=c,i.l==null&&(i.l=i.length),o(t)};return{next:o,push:a,end:s,_bufs:e}}function Ue(e,t,n,i){var r=+t,o;if(!isNaN(r)){i||(i=C_[r].p||(n||[]).length||0),o=1+(r>=128?1:0)+1,i>=128&&++o,i>=16384&&++o,i>=2097152&&++o;var s=e.next(o);r<=127?s.write_shift(1,r):(s.write_shift(1,(r&127)+128),s.write_shift(1,r>>7));for(var a=0;a!=4;++a)if(i>=128)s.write_shift(1,(i&127)+128),i>>=7;else{s.write_shift(1,i);break}i>0&&x6(n)&&e.push(n)}}function e_(e,t,n){var i=qi(e);if(t.s?(i.cRel&&(i.c+=t.s.c),i.rRel&&(i.r+=t.s.r)):(i.cRel&&(i.c+=t.c),i.rRel&&(i.r+=t.r)),!n||n.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function DZ(e,t,n){var i=qi(e);return i.s=e_(i.s,t.s,n),i.e=e_(i.e,t.s,n),i}function t_(e,t){if(e.cRel&&e.c<0)for(e=qi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=qi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=qt(e);return!e.cRel&&e.cRel!=null&&(n=rEe(n)),!e.rRel&&e.rRel!=null&&(n=nEe(n)),n}function L4(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hr(e.s.c)+":"+(e.e.cRel?"":"$")+hr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Gr(e.s.r)+":"+(e.e.rRel?"":"$")+Gr(e.e.r):t_(e.s,t.biff)+":"+t_(e.e,t.biff)}function S6(e){return parseInt(iEe(e),10)-1}function Gr(e){return""+(e+1)}function nEe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function iEe(e){return e.replace(/\$(\d+)$/,"$1")}function E6(e){for(var t=oEe(e),n=0,i=0;i!==t.length;++i)n=26*n+t.charCodeAt(i)-64;return n-1}function hr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function rEe(e){return e.replace(/^([A-Z])/,"$$$1")}function oEe(e){return e.replace(/^\$([A-Z])/,"$1")}function sEe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fr(e){for(var t=0,n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(n=26*n+(r-64))}return{c:n-1,r:t-1}}function qt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Ma(e){var t=e.indexOf(":");return t==-1?{s:fr(e),e:fr(e)}:{s:fr(e.slice(0,t)),e:fr(e.slice(t+1))}}function gn(e,t){return typeof t>"u"||typeof t=="number"?gn(e.s,e.e):(typeof e!="string"&&(e=qt(e)),typeof t!="string"&&(t=qt(t)),e==t?e:e+":"+t)}function Kn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,i=0,r=0,o=e.length;for(n=0;i<o&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.s.c=--n,n=0;i<o&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;if(t.s.r=--n,i===o||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,n=0;i!=o&&!((r=e.charCodeAt(i)-64)<1||r>26);++i)n=26*n+r;for(t.e.c=--n,n=0;i!=o&&!((r=e.charCodeAt(i)-48)<0||r>9);++i)n=10*n+r;return t.e.r=--n,t}function RZ(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ul(e.z,n?ho(t):t)}catch{}try{return e.w=Ul((e.XF||{}).numFmtId||(n?14:0),n?ho(t):t)}catch{return""+t}}function th(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?rh[e.v]||e.v:t==null?RZ(e,e.v):RZ(e,t))}function Hf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",i={};return i[n]=e,{SheetNames:[n],Sheets:i}}function HQ(e,t,n){var i=n||{},r=e?Array.isArray(e):i.dense;Tr!=null&&r==null&&(r=Tr);var o=e||(r?[]:{}),s=0,a=0;if(o&&i.origin!=null){if(typeof i.origin=="number")s=i.origin;else{var l=typeof i.origin=="string"?fr(i.origin):i.origin;s=l.r,a=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var d=Kn(o["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),s==-1&&(c.e.r=s=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(!(typeof t[h][f]>"u")){var g={v:t[h][f]},m=s+h,v=a+f;if(c.s.r>m&&(c.s.r=m),c.s.c>v&&(c.s.c=v),c.e.r<m&&(c.e.r=m),c.e.c<v&&(c.e.c=v),t[h][f]&&typeof t[h][f]=="object"&&!Array.isArray(t[h][f])&&!(t[h][f]instanceof Date))g=t[h][f];else if(Array.isArray(g.v)&&(g.f=t[h][f][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(i.nullError)g.t="e",g.v=0;else if(i.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=i.dateNF||jt[14],i.cellDates?(g.t="d",g.w=Ul(g.z,ho(g.v))):(g.t="n",g.v=ho(g.v),g.w=Ul(g.z,g.v))):g.t="s";if(r)o[m]||(o[m]=[]),o[m][v]&&o[m][v].z&&(g.z=o[m][v].z),o[m][v]=g;else{var C=qt({c:v,r:m});o[C]&&o[C].z&&(g.z=o[C].z),o[C]=g}}}return c.s.c<1e7&&(o["!ref"]=gn(c)),o}function eC(e,t){return HQ(null,e,t)}function aEe(e){return e.read_shift(4,"i")}function Mc(e,t){return t||(t=Re(4)),t.write_shift(4,e),t}function Es(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Mo(e,t){var n=!1;return t==null&&(n=!0,t=Re(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function lEe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function cEe(e,t){return t||(t=Re(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function D6(e,t){var n=e.l,i=e.read_shift(1),r=Es(e),o=[],s={t:r,h:r};if((i&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)o.push(lEe(e));s.r=o}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}function dEe(e,t){var n=!1;return t==null&&(n=!0,t=Re(15+4*e.t.length)),t.write_shift(1,0),Mo(e.t,t),n?t.slice(0,t.l):t}var uEe=D6;function hEe(e,t){var n=!1;return t==null&&(n=!0,t=Re(23+4*e.t.length)),t.write_shift(1,1),Mo(e.t,t),t.write_shift(4,1),cEe({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function Wl(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Pg(e,t){return t==null&&(t=Re(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Og(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Lg(e,t){return t==null&&(t=Re(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var fEe=Es,GQ=Mo;function R6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function n2(e,t){var n=!1;return t==null&&(n=!0,t=Re(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var pEe=Es,Y4=R6,T6=n2;function I6(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,i=t[0]&2;e.l+=4;var r=i===0?t2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):bg(t,0)>>2;return n?r/100:r}function zQ(e,t){t==null&&(t=Re(4));var n=0,i=0,r=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?i=1:r==(r|0)&&r>=-(1<<29)&&r<1<<29&&(i=1,n=1),i)t.write_shift(-4,((n?r:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function UQ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function gEe(e,t){return t||(t=Re(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Ng=UQ,tC=gEe;function xs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ig(e,t){return(t||Re(8)).write_shift(8,e,"f")}function mEe(e){var t={},n=e.read_shift(1),i=n>>>1,r=e.read_shift(1),o=e.read_shift(2,"i"),s=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,i){case 0:t.auto=1;break;case 1:t.index=r;var c=xg[r];c&&(t.rgb=p_(c));break;case 2:t.rgb=p_([s,a,l]);break;case 3:t.theme=r;break}return o!=0&&(t.tint=o>0?o/32767:o/32768),t}function i2(e,t){if(t||(t=Re(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var i=e.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),t.write_shift(1,parseInt(i.slice(0,2),16)),t.write_shift(1,parseInt(i.slice(2,4),16)),t.write_shift(1,parseInt(i.slice(4,6),16)),t.write_shift(1,255)}return t}function vEe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function CEe(e,t){t||(t=Re(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function WQ(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},i=e.read_shift(4);switch(i){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function wEe(e){return WQ(e,1)}function yEe(e){return WQ(e,2)}var M6=2,Ta=3,zT=11,TZ=12,r2=19;var UT=64,bEe=65,_Ee=71;var xEe=4108,SEe=4126,Ro=80,jQ=81,EEe=[Ro,jQ],Z4={1:{n:"CodePage",t:M6},2:{n:"Category",t:Ro},3:{n:"PresentationFormat",t:Ro},4:{n:"ByteCount",t:Ta},5:{n:"LineCount",t:Ta},6:{n:"ParagraphCount",t:Ta},7:{n:"SlideCount",t:Ta},8:{n:"NoteCount",t:Ta},9:{n:"HiddenCount",t:Ta},10:{n:"MultimediaClipCount",t:Ta},11:{n:"ScaleCrop",t:zT},12:{n:"HeadingPairs",t:xEe},13:{n:"TitlesOfParts",t:SEe},14:{n:"Manager",t:Ro},15:{n:"Company",t:Ro},16:{n:"LinksUpToDate",t:zT},17:{n:"CharacterCount",t:Ta},19:{n:"SharedDoc",t:zT},22:{n:"HyperlinksChanged",t:zT},23:{n:"AppVersion",t:Ta,p:"version"},24:{n:"DigSig",t:bEe},26:{n:"ContentType",t:Ro},27:{n:"ContentStatus",t:Ro},28:{n:"Language",t:Ro},29:{n:"Version",t:Ro},255:{},2147483648:{n:"Locale",t:r2},2147483651:{n:"Behavior",t:r2},1919054434:{}},Q4={1:{n:"CodePage",t:M6},2:{n:"Title",t:Ro},3:{n:"Subject",t:Ro},4:{n:"Author",t:Ro},5:{n:"Keywords",t:Ro},6:{n:"Comments",t:Ro},7:{n:"Template",t:Ro},8:{n:"LastAuthor",t:Ro},9:{n:"RevNumber",t:Ro},10:{n:"EditTime",t:UT},11:{n:"LastPrinted",t:UT},12:{n:"CreatedDate",t:UT},13:{n:"ModifiedDate",t:UT},14:{n:"PageCount",t:Ta},15:{n:"WordCount",t:Ta},16:{n:"CharCount",t:Ta},17:{n:"Thumbnail",t:_Ee},18:{n:"Application",t:Ro},19:{n:"DocSecurity",t:Ta},255:{},2147483648:{n:"Locale",t:r2},2147483651:{n:"Behavior",t:r2},1919054434:{}},IZ={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},DEe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function REe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var TEe=REe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xg=qi(TEe),rh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$Q={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},J4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},WT={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function F6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function IEe(e){var t=F6();if(!e||!e.match)return t;var n={};if((e.match(Rs)||[]).forEach(function(i){var r=Yt(i);switch(r[0].replace(BSe,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":t[J4[r.ContentType]]!==void 0&&t[J4[r.ContentType]].push(r.PartName);break}}),t.xmlns!==uo.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function qQ(e,t){var n=ISe(J4),i=[],r;i[i.length]=zr,i[i.length]=it("Types",null,{xmlns:uo.CT,"xmlns:xsd":uo.xsd,"xmlns:xsi":uo.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return it("Default",null,{Extension:l[0],ContentType:l[1]})}));var o=function(l){e[l]&&e[l].length>0&&(r=e[l][0],i[i.length]=it("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:WT[l][t.bookType]||WT[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){i[i.length]=it("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:WT[l][t.bookType]||WT[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){i[i.length]=it("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return o("workbooks"),s("sheets"),s("charts"),a("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),s("metadata"),a("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var _n={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function f_(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function n_(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var i={};return(e.match(Rs)||[]).forEach(function(r){var o=Yt(r);if(o[0]==="<Relationship"){var s={};s.Type=o.Type,s.Target=o.Target,s.Id=o.Id,o.TargetMode&&(s.TargetMode=o.TargetMode);var a=o.TargetMode==="External"?o.Target:Qb(o.Target,t);n[a]=s,i[o.Id]=s}}),n["!id"]=i,n}function Wv(e){var t=[zr,it("Relationships",null,{xmlns:uo.RELS})];return Ir(e["!id"]).forEach(function(n){t[t.length]=it("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ci(e,t,n,i,r,o){if(r||(r={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,r.Id="rId"+t,r.Type=i,r.Target=n,o?r.TargetMode=o:[_n.HLINK,_n.XPATH,_n.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),e["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][r.Id]=r,e[("/"+r.Target).replace("//","/")]=r,t}var MEe="application/vnd.oasis.opendocument.spreadsheet";function FEe(e,t){for(var n=v6(e),i,r;i=h_.exec(n);)switch(i[3]){case"manifest":break;case"file-entry":if(r=Yt(i[0],!1),r.path=="/"&&r.type!==MEe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw i}}function AEe(e){var t=[zr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function MZ(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function kEe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function PEe(e){var t=[zr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(MZ(e[n][0],e[n][1])),t.push(kEe("",e[n][0]));return t.push(MZ("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function KQ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+a_.version+"</meta:generator></office:meta></office:document-meta>"}var zl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],OEe=function(){for(var e=new Array(zl.length),t=0;t<zl.length;++t){var n=zl[t],i="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}return e}();function XQ(e){var t={};e=Si(e);for(var n=0;n<zl.length;++n){var i=zl[n],r=e.match(OEe[n]);r!=null&&r.length>0&&(t[i[1]]=qn(r[1])),i[2]==="date"&&t[i[1]]&&(t[i[1]]=$i(t[i[1]]))}return t}function N4(e,t,n,i,r){r[e]!=null||t==null||t===""||(r[e]=t,t=wi(t),i[i.length]=n?it(e,t,n):Zo(e,t))}function YQ(e,t){var n=t||{},i=[zr,it("cp:coreProperties",null,{"xmlns:cp":uo.CORE_PROPS,"xmlns:dc":uo.dc,"xmlns:dcterms":uo.dcterms,"xmlns:dcmitype":uo.dcmitype,"xmlns:xsi":uo.xsi})],r={};if(!e&&!n.Props)return i.join("");e&&(e.CreatedDate!=null&&N4("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:X4(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),e.ModifiedDate!=null&&N4("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:X4(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var o=0;o!=zl.length;++o){var s=zl[o],a=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:e?e[s[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&N4(s[0],a,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var Sg=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ZQ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function QQ(e,t,n,i){var r=[];if(typeof e=="string")r=yZ(e,i);else for(var o=0;o<e.length;++o)r=r.concat(e[o].map(function(d){return{v:d}}));var s=typeof t=="string"?yZ(t,i).map(function(d){return d.v}):t,a=0,l=0;if(s.length>0)for(var c=0;c!==r.length;c+=2){switch(l=+r[c+1].v,r[c].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=s.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":n.NamedRanges=l,n.DefinedNames=s.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=s.slice(a,a+l);break}a+=l}}function LEe(e,t,n){var i={};return t||(t={}),e=Si(e),Sg.forEach(function(r){var o=(e.match(d_(r[0]))||[])[1];switch(r[2]){case"string":o&&(t[r[1]]=qn(o));break;case"bool":t[r[1]]=o==="true";break;case"raw":var s=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));s&&s.length>0&&(i[r[1]]=s[1]);break}}),i.HeadingPairs&&i.TitlesOfParts&&QQ(i.HeadingPairs,i.TitlesOfParts,t,n),t}function JQ(e){var t=[],n=it;return e||(e={}),e.Application="SheetJS",t[t.length]=zr,t[t.length]=it("Properties",null,{xmlns:uo.EXT_PROPS,"xmlns:vt":uo.vt}),Sg.forEach(function(i){if(e[i[1]]!==void 0){var r;switch(i[2]){case"string":r=wi(String(e[i[1]]));break;case"bool":r=e[i[1]]?"true":"false";break}r!==void 0&&(t[t.length]=n(i[0],r))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(i){return"<vt:lpstr>"+wi(i)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var NEe=/<[^>]+>[^<]*/g;function BEe(e,t){var n={},i="",r=e.match(NEe);if(r)for(var o=0;o!=r.length;++o){var s=r[o],a=Yt(s);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":i=qn(a.name);break;case"</property>":i=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[i]=qn(d);break;case"bool":n[i]=ji(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[i]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[i]=parseFloat(d);break;case"filetime":case"date":n[i]=$i(d);break;case"cy":case"error":n[i]=qn(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return n}function eJ(e){var t=[zr,it("Properties",null,{xmlns:uo.CUST_PROPS,"xmlns:vt":uo.vt})];if(!e)return t.join("");var n=1;return Ir(e).forEach(function(r){++n,t[t.length]=it("property",$Se(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:wi(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var e6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},B4;function VEe(e,t,n){B4||(B4=h2(e6)),t=B4[t]||t,e[t]=n}function HEe(e,t){var n=[];return Ir(e6).map(function(i){for(var r=0;r<zl.length;++r)if(zl[r][1]==i)return zl[r];for(r=0;r<Sg.length;++r)if(Sg[r][1]==i)return Sg[r];throw i}).forEach(function(i){if(e[i[1]]!=null){var r=t&&t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:e[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),n.push(Zo(e6[i[1]]||i[1],r))}}),it("DocumentProperties",n.join(""),{xmlns:Za.o})}function GEe(e,t){var n=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return e&&Ir(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)){for(var s=0;s<zl.length;++s)if(o==zl[s][1])return;for(s=0;s<Sg.length;++s)if(o==Sg[s][1])return;for(s=0;s<n.length;++s)if(o==n[s])return;var a=e[o],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),r.push(it(mZ(o),a,{"dt:dt":l}))}}),t&&Ir(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)&&!(e&&Object.prototype.hasOwnProperty.call(e,o))){var s=t[o],a="string";typeof s=="number"?(a="float",s=String(s)):s===!0||s===!1?(a="boolean",s=s?"1":"0"):s instanceof Date?(a="dateTime.tz",s=s.toISOString()):s=String(s),r.push(it(mZ(o),s,{"dt:dt":a}))}}),"<"+i+' xmlns="'+Za.o+'">'+r.join("")+"</"+i+">"}function A6(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function zEe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,i=n%Math.pow(2,32),r=(n-i)/Math.pow(2,32);i*=1e7,r*=1e7;var o=i/Math.pow(2,32)|0;o>0&&(i=i%Math.pow(2,32),r+=o);var s=Re(8);return s.write_shift(4,i),s.write_shift(4,r),s}function tJ(e,t,n){var i=e.l,r=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-i&3;)++e.l;return r}function nJ(e,t,n){var i=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(i.length+1&3)&3),i}function iJ(e,t,n){return t===31?nJ(e):tJ(e,t,n)}function t6(e,t,n){return iJ(e,t,n===!1?0:4)}function UEe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return iJ(e,t,0)}function WEe(e){for(var t=e.read_shift(4),n=[],i=0;i!=t;++i){var r=e.l;n[i]=e.read_shift(0,"lpwstr").replace(Ss,""),e.l-r&2&&(e.l+=2)}return n}function jEe(e){for(var t=e.read_shift(4),n=[],i=0;i!=t;++i)n[i]=e.read_shift(0,"lpstr-cp").replace(Ss,"");return n}function $Ee(e){var t=e.l,n=o2(e,jQ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var i=o2(e,Ta);return[n,i]}function qEe(e){for(var t=e.read_shift(4),n=[],i=0;i<t/2;++i)n.push($Ee(e));return n}function FZ(e,t){for(var n=e.read_shift(4),i={},r=0;r!=n;++r){var o=e.read_shift(4),s=e.read_shift(4);i[o]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ss,"").replace(Zb,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),i}function rJ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function KEe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function o2(e,t,n){var i=e.read_shift(2),r,o=n||{};if(e.l+=2,t!==TZ&&i!==t&&EEe.indexOf(t)===-1&&!((t&65534)==4126&&(i&65534)==4126))throw new Error("Expected type "+t+" saw "+i);switch(t===TZ?i:t){case 2:return r=e.read_shift(2,"i"),o.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i"),r;case 11:return e.read_shift(4)!==0;case 19:return r=e.read_shift(4),r;case 30:return tJ(e,i,4).replace(Ss,"");case 31:return nJ(e);case 64:return A6(e);case 65:return rJ(e);case 71:return KEe(e);case 80:return t6(e,i,!o.raw).replace(Ss,"");case 81:return UEe(e,i).replace(Ss,"");case 4108:return qEe(e);case 4126:case 4127:return i==4127?WEe(e):jEe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function AZ(e,t){var n=Re(4),i=Re(4);switch(n.write_shift(4,e==80?31:e),e){case 3:i.write_shift(-4,t);break;case 5:i=Re(8),i.write_shift(8,t,"f");break;case 11:i.write_shift(4,t?1:0);break;case 64:i=zEe(t);break;case 31:case 80:for(i=Re(4+2*(t.length+1)+(t.length%2?0:2)),i.write_shift(4,t.length+1),i.write_shift(0,t,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Io([n,i])}function kZ(e,t){var n=e.l,i=e.read_shift(4),r=e.read_shift(4),o=[],s=0,a=0,l=-1,c={};for(s=0;s!=r;++s){var d=e.read_shift(4),h=e.read_shift(4);o[s]=[d,h+n]}o.sort(function(x,_){return x[1]-_[1]});var f={};for(s=0;s!=r;++s){if(e.l!==o[s][1]){var g=!0;if(s>0&&t)switch(t[o[s-1][0]].t){case 2:e.l+2===o[s][1]&&(e.l+=2,g=!1);break;case 80:e.l<=o[s][1]&&(e.l=o[s][1],g=!1);break;case 4108:e.l<=o[s][1]&&(e.l=o[s][1],g=!1);break}if((!t||s==0)&&e.l<=o[s][1]&&(g=!1,e.l=o[s][1]),g)throw new Error("Read Error: Expected address "+o[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[o[s][0]];if(f[m.n]=o2(e,m.t,{raw:!0}),m.p==="version"&&(f[m.n]=String(f[m.n]>>16)+"."+("0000"+String(f[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(f[m.n]){case 0:f[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Rc(a=f[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[m.n])}}else if(o[s][0]===1){if(a=f.CodePage=o2(e,M6),Rc(a),l!==-1){var v=e.l;e.l=o[l][1],c=FZ(e,a),e.l=v}}else if(o[s][0]===0){if(a===0){l=s,e.l=o[s+1][1];continue}c=FZ(e,a)}else{var C=c[o[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=rJ(e);break;case 30:e.l+=4,y=t6(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=t6(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Hr(e,4);break;case 64:e.l+=4,y=$i(A6(e));break;default:throw new Error("unparsed value: "+e[e.l])}f[C]=y}}return e.l=n+i,f}var oJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function XEe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function PZ(e,t,n){var i=Re(8),r=[],o=[],s=8,a=0,l=Re(8),c=Re(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),o.push(l),r.push(c),s+=8+l.length,!t){c=Re(8),c.write_shift(4,0),r.unshift(c);var d=[Re(4)];for(d[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];for(l=Re(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Io(d),o.unshift(l),s+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(oJ.indexOf(e[a][0])>-1||ZQ.indexOf(e[a][0])>-1)&&e[a][1]!=null){var f=e[a][1],g=0;if(t){g=+t[e[a][0]];var m=n[g];if(m.p=="version"&&typeof f=="string"){var v=f.split(".");f=(+v[0]<<16)+(+v[1]||0)}l=AZ(m.t,f)}else{var C=XEe(f);C==-1&&(C=31,f=String(f)),l=AZ(C,f)}o.push(l),c=Re(8),c.write_shift(4,t?g:2+a),r.push(c),s+=8+l.length}var y=8*(o.length+1);for(a=0;a<o.length;++a)r[a].write_shift(4,y),y+=o[a].length;return i.write_shift(4,s),i.write_shift(4,o.length),Io([i].concat(r).concat(o))}function OZ(e,t,n){var i=e.content;if(!i)return{};Yo(i,0);var r,o,s,a,l=0;i.chk("feff","Byte Order: "),i.read_shift(2);var c=i.read_shift(4),d=i.read_shift(16);if(d!==Pt.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(r=i.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(o=i.read_shift(16),a=i.read_shift(4),r===1&&a!==i.l)throw new Error("Length mismatch: "+a+" !== "+i.l);r===2&&(s=i.read_shift(16),l=i.read_shift(4));var h=kZ(i,t),f={SystemIdentifier:c};for(var g in h)f[g]=h[g];if(f.FMTID=o,r===1)return f;if(l-i.l==2&&(i.l+=2),i.l!==l)throw new Error("Length mismatch 2: "+i.l+" !== "+l);var m;try{m=kZ(i,null)}catch{}for(g in m)f[g]=m[g];return f.FMTID=[o,s],f}function LZ(e,t,n,i,r,o){var s=Re(r?68:48),a=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Pt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,r?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,r?68:48);var l=PZ(e,n,i);if(a.push(l),r){var c=PZ(r,null,null);s.write_shift(16,o,"hex"),s.write_shift(4,68+l.length),a.push(c)}return Io(a)}function Af(e,t){return e.read_shift(t),null}function YEe(e,t){t||(t=Re(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function ZEe(e,t,n){for(var i=[],r=e.l+t;e.l<r;)i.push(n(e,r-e.l));if(r!==e.l)throw new Error("Slurp error");return i}function Hr(e,t){return e.read_shift(t)===1}function Xs(e,t){return t||(t=Re(2)),t.write_shift(2,+!!e),t}function eo(e){return e.read_shift(2,"u")}function Gl(e,t){return t||(t=Re(2)),t.write_shift(2,e),t}function sJ(e,t){return ZEe(e,t,eo)}function QEe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function aJ(e,t,n){return n||(n=Re(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function __(e,t,n){var i=e.read_shift(n&&n.biff>=12?2:1),r="sbcs-cont",o=kd;if(n&&n.biff>=8&&(kd=1200),!n||n.biff==8){var s=e.read_shift(1);s&&(r="dbcs-cont")}else n.biff==12&&(r="wstr");n.biff>=2&&n.biff<=5&&(r="cpstr");var a=i?e.read_shift(i,r):"";return kd=o,a}function JEe(e){var t=kd;kd=1200;var n=e.read_shift(2),i=e.read_shift(1),r=i&4,o=i&8,s=1+(i&1),a=0,l,c={};o&&(a=e.read_shift(2)),r&&(l=e.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",h=n===0?"":e.read_shift(n,d);return o&&(e.l+=4*a),r&&(e.l+=l),c.t=h,o||(c.raw="<t>"+c.t+"</t>",c.r=c.t),kd=t,c}function eDe(e){var t=e.t||"",n=1,i=Re(3+(n>1?2:0));i.write_shift(2,t.length),i.write_shift(1,(n>1?8:0)|1),n>1&&i.write_shift(2,n);var r=Re(2*t.length);r.write_shift(2*t.length,t,"utf16le");var o=[i,r];return Io(o)}function Mg(e,t,n){var i;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var r=e.read_shift(1);return r===0?i=e.read_shift(t,"sbcs-cont"):i=e.read_shift(t,"dbcs-cont"),i}function x_(e,t,n){var i=e.read_shift(n&&n.biff==2?1:2);return i===0?(e.l++,""):Mg(e,i,n)}function Bg(e,t,n){if(n.biff>5)return x_(e,t,n);var i=e.read_shift(1);return i===0?(e.l++,""):e.read_shift(i,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function lJ(e,t,n){return n||(n=Re(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function tDe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function nDe(e){var t=e.read_shift(4),n=e.l,i=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),e.l=n);var r=e.read_shift((i?t-24:t)>>1,"utf16le").replace(Ss,"");return i&&(e.l+=24),r}function iDe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var i=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=e.read_shift(4);if(r===0)return n+i.replace(/\\/g,"/");var o=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(o>>1,"utf16le").replace(Ss,"");return n+s}function rDe(e,t){var n=e.read_shift(16);switch(t-=16,n){case"e0c9ea79f9bace118c8200aa004ba90b":return nDe(e,t);case"0303000000000000c000000000000046":return iDe(e,t);default:throw new Error("Unsupported Moniker "+n)}}function jT(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ss,""):"";return n}function NZ(e,t){t||(t=Re(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function oDe(e,t){var n=e.l+t,i=e.read_shift(4);if(i!==2)throw new Error("Unrecognized streamVersion: "+i);var r=e.read_shift(2);e.l+=2;var o,s,a,l,c="",d,h;r&16&&(o=jT(e,n-e.l)),r&128&&(s=jT(e,n-e.l)),(r&257)===257&&(a=jT(e,n-e.l)),(r&257)===1&&(l=rDe(e,n-e.l)),r&8&&(c=jT(e,n-e.l)),r&32&&(d=e.read_shift(16)),r&64&&(h=A6(e)),e.l=n;var f=s||a||l||"";f&&c&&(f+="#"+c),f||(f="#"+c),r&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var g={Target:f};return d&&(g.guid=d),h&&(g.time=h),o&&(g.Tooltip=o),g}function sDe(e){var t=Re(512),n=0,i=e.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),o=r>-1?31:23;switch(i.charAt(0)){case"#":o=28;break;case".":o&=-3;break}t.write_shift(4,2),t.write_shift(4,o);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)t.write_shift(4,s[n]);if(o==28)i=i.slice(1),NZ(i,t);else if(o&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));var a=r>-1?i.slice(0,r):i;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),o&8&&NZ(r>-1?i.slice(r+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));for(var l=0;i.slice(l*3,l*3+3)=="../"||i.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,i.length-3*l+1),n=0;n<i.length-3*l;++n)t.write_shift(1,i.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function cJ(e){var t=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1),r=e.read_shift(1);return[t,n,i,r]}function dJ(e,t){var n=cJ(e,t);return n[3]=0,n}function Od(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{r:t,c:n,ixfe:i}}function Fg(e,t,n,i){return i||(i=Re(6)),i.write_shift(2,e),i.write_shift(2,t),i.write_shift(2,n||0),i}function aDe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function lDe(e,t,n){return t===0?"":Bg(e,t,n)}function cDe(e,t,n){var i=n.biff>8?4:2,r=e.read_shift(i),o=e.read_shift(i,"i"),s=e.read_shift(i,"i");return[r,o,s]}function uJ(e){var t=e.read_shift(2),n=I6(e);return[t,n]}function dDe(e,t,n){e.l+=4,t-=4;var i=e.l+t,r=__(e,t,n),o=e.read_shift(2);if(i-=e.l,o!==i)throw new Error("Malformed AddinUdf: padding = "+i+" != "+o);return e.l+=o,r}function m2(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),r=e.read_shift(2);return{s:{c:i,r:t},e:{c:r,r:n}}}function hJ(e,t){return t||(t=Re(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function fJ(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(1),r=e.read_shift(1);return{s:{c:i,r:t},e:{c:r,r:n}}}var uDe=fJ;function pJ(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return e.l+=12,[n,t,i]}function hDe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function fDe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ws(e){e.l+=2,e.l+=e.read_shift(2)}var pDe={0:ws,4:ws,5:ws,6:ws,7:fDe,8:ws,9:ws,10:ws,11:ws,12:ws,13:hDe,14:ws,15:ws,16:ws,17:ws,18:ws,19:ws,20:ws,21:pJ};function gDe(e,t){for(var n=e.l+t,i=[];e.l<n;){var r=e.read_shift(2);e.l-=2;try{i.push(pDe[r](e,n-e.l))}catch{return e.l=n,i}}return e.l!=n&&(e.l=n),i}function $T(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function k6(e,t,n){var i=1536,r=16;switch(n.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Re(r);return o.write_shift(2,i),o.write_shift(2,t),r>4&&o.write_shift(2,29282),r>6&&o.write_shift(2,1997),r>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function mDe(e,t){return t===0||e.read_shift(2),1200}function vDe(e,t,n){if(n.enc)return e.l+=t,"";var i=e.l,r=Bg(e,0,n);return e.read_shift(t+i-e.l),r}function CDe(e,t){var n=!t||t.biff==8,i=Re(n?112:54);for(i.write_shift(t.biff==8?2:1,7),n&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(n?0:536870912));i.l<i.length;)i.write_shift(1,n?0:32);return i}function wDe(e,t,n){var i=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:i&16,fBelow:i&64,fRight:i&128}}function yDe(e,t,n){var i=e.read_shift(4),r=e.read_shift(1)&3,o=e.read_shift(1);switch(o){case 0:o="Worksheet";break;case 1:o="Macrosheet";break;case 2:o="Chartsheet";break;case 6:o="VBAModule";break}var s=__(e,0,n);return s.length===0&&(s="Sheet1"),{pos:i,hs:r,dt:o,name:s}}function bDe(e,t){var n=!t||t.biff>=8?2:1,i=Re(8+n*e.name.length);i.write_shift(4,e.pos),i.write_shift(1,e.hs||0),i.write_shift(1,e.dt),i.write_shift(1,e.name.length),t.biff>=8&&i.write_shift(1,1),i.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function _De(e,t){for(var n=e.l+t,i=e.read_shift(4),r=e.read_shift(4),o=[],s=0;s!=r&&e.l<n;++s)o.push(JEe(e));return o.Count=i,o.Unique=r,o}function xDe(e,t){var n=Re(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var i=[],r=0;r<e.length;++r)i[r]=eDe(e[r],t);var o=Io([n].concat(i));return o.parts=[n.length].concat(i.map(function(s){return s.length})),o}function SDe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function EDe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var i=e.read_shift(1);return e.l+=3,i&7&&(t.level=i&7),i&32&&(t.hidden=!0),i&64&&(t.hpt=n/20),t}function DDe(e){var t=aDe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function RDe(e){return e.read_shift(2),e.read_shift(4)}function BZ(e,t,n){var i=0;n&&n.biff==2||(i=e.read_shift(2));var r=e.read_shift(2);n&&n.biff==2&&(i=1-(r>>15),r&=32767);var o={Unsynced:i&1,DyZero:(i&2)>>1,ExAsc:(i&4)>>2,ExDsc:(i&8)>>3};return[o,r]}function TDe(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[i,r],Flags:o,CurTab:s,FirstTab:a,Selected:l,TabRatio:c}}function IDe(){var e=Re(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function MDe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var i=e.read_shift(2);return{RTL:i&64}}function FDe(e){var t=Re(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function ADe(){}function kDe(e,t,n){var i={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return i.name=__(e,0,n),i}function PDe(e,t){var n=e.name||"Arial",i=t&&t.biff==5,r=i?15+n.length:16+2*n.length,o=Re(r);return o.write_shift(2,(e.sz||12)*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),i||o.write_shift(1,1),o.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le"),o}function ODe(e){var t=Od(e);return t.isst=e.read_shift(4),t}function LDe(e,t,n,i){var r=Re(10);return Fg(e,t,i,r),r.write_shift(4,n),r}function NDe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var i=e.l+t,r=Od(e,6);n.biff==2&&e.l++;var o=x_(e,i-e.l,n);return r.val=o,r}function BDe(e,t,n,i,r){var o=!r||r.biff==8,s=Re(8+ +o+(1+o)*n.length);return Fg(e,t,i,s),s.write_shift(2,n.length),o&&s.write_shift(1,1),s.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),s}function VDe(e,t,n){var i=e.read_shift(2),r=Bg(e,0,n);return[i,r]}function HDe(e,t,n,i){var r=n&&n.biff==5;i||(i=Re(r?3+t.length:5+2*t.length)),i.write_shift(2,e),i.write_shift(r?1:2,t.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var o=i.length>i.l?i.slice(0,i.l):i;return o.l==null&&(o.l=o.length),o}var GDe=Bg;function VZ(e,t,n){var i=e.l+t,r=n.biff==8||!n.biff?4:2,o=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(2),l=e.read_shift(2);return e.l=i,{s:{r:o,c:a},e:{r:s,c:l}}}function zDe(e,t){var n=t.biff==8||!t.biff?4:2,i=Re(2*n+6);return i.write_shift(n,e.s.r),i.write_shift(n,e.e.r+1),i.write_shift(2,e.s.c),i.write_shift(2,e.e.c+1),i.write_shift(2,0),i}function UDe(e){var t=e.read_shift(2),n=e.read_shift(2),i=uJ(e);return{r:t,c:n,ixfe:i[0],rknum:i[1]}}function WDe(e,t){for(var n=e.l+t-2,i=e.read_shift(2),r=e.read_shift(2),o=[];e.l<n;)o.push(uJ(e));if(e.l!==n)throw new Error("MulRK read error");var s=e.read_shift(2);if(o.length!=s-r+1)throw new Error("MulRK length mismatch");return{r:i,c:r,C:s,rkrec:o}}function jDe(e,t){for(var n=e.l+t-2,i=e.read_shift(2),r=e.read_shift(2),o=[];e.l<n;)o.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var s=e.read_shift(2);if(o.length!=s-r+1)throw new Error("MulBlank length mismatch");return{r:i,c:r,C:s,ixfe:o}}function $De(e,t,n,i){var r={},o=e.read_shift(4),s=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return r.patternType=DEe[a>>26],i.cellStyles&&(r.alc=o&7,r.fWrap=o>>3&1,r.alcV=o>>4&7,r.fJustLast=o>>7&1,r.trot=o>>8&255,r.cIndent=o>>16&15,r.fShrinkToFit=o>>20&1,r.iReadOrder=o>>22&2,r.fAtrNum=o>>26&1,r.fAtrFnt=o>>27&1,r.fAtrAlc=o>>28&1,r.fAtrBdr=o>>29&1,r.fAtrPat=o>>30&1,r.fAtrProt=o>>31&1,r.dgLeft=s&15,r.dgRight=s>>4&15,r.dgTop=s>>8&15,r.dgBottom=s>>12&15,r.icvLeft=s>>16&127,r.icvRight=s>>23&127,r.grbitDiag=s>>30&3,r.icvTop=a&127,r.icvBottom=a>>7&127,r.icvDiag=a>>14&127,r.dgDiag=a>>21&15,r.icvFore=l&127,r.icvBack=l>>7&127,r.fsxButton=l>>14&1),r}function qDe(e,t,n){var i={};return i.ifnt=e.read_shift(2),i.numFmtId=e.read_shift(2),i.flags=e.read_shift(2),i.fStyle=i.flags>>2&1,t-=6,i.data=$De(e,t,i.fStyle,n),i}function HZ(e,t,n,i){var r=n&&n.biff==5;i||(i=Re(r?16:20)),i.write_shift(2,0),e.style?(i.write_shift(2,e.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,e.numFmtId||0),i.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&r&&(o|=1024),i.write_shift(4,o),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function KDe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function XDe(e){var t=Re(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function GZ(e,t,n){var i=Od(e,6);(n.biff==2||t==9)&&++e.l;var r=QEe(e,2);return i.val=r,i.t=r===!0||r===!1?"b":"e",i}function YDe(e,t,n,i,r,o){var s=Re(8);return Fg(e,t,i,s),aJ(n,o,s),s}function ZDe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var i=Od(e,6),r=xs(e,8);return i.val=r,i}function QDe(e,t,n,i){var r=Re(14);return Fg(e,t,i,r),Ig(n,r),r}var zZ=lDe;function JDe(e,t,n){var i=e.l+t,r=e.read_shift(2),o=e.read_shift(2);if(n.sbcch=o,o==1025||o==14849)return[o,r];if(o<1||o>255)throw new Error("Unexpected SupBook type: "+o);for(var s=Mg(e,o),a=[];i>e.l;)a.push(x_(e));return[o,r,s,a]}function UZ(e,t,n){var i=e.read_shift(2),r,o={fBuiltIn:i&1,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return n.sbcch===14849&&(r=dDe(e,t-2,n)),o.body=r||e.read_shift(t-2),typeof r=="string"&&(o.Name=r),o}var eRe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function WZ(e,t,n){var i=e.l+t,r=e.read_shift(2),o=e.read_shift(1),s=e.read_shift(1),a=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=Mg(e,s,n);r&32&&(c=eRe[c.charCodeAt(0)]);var d=i-e.l;n&&n.biff==2&&--d;var h=i==e.l||a===0||!(d>0)?[]:gMe(e,d,n,a);return{chKey:o,Name:c,itab:l,rgce:h}}function gJ(e,t,n){if(n.biff<8)return tRe(e,t,n);for(var i=[],r=e.l+t,o=e.read_shift(n.biff>8?4:2);o--!==0;)i.push(cDe(e,n.biff>8?12:6,n));if(e.l!=r)throw new Error("Bad ExternSheet: "+e.l+" != "+r);return i}function tRe(e,t,n){e[e.l+1]==3&&e[e.l]++;var i=__(e,t,n);return i.charCodeAt(0)==3?i.slice(1):i}function nRe(e,t,n){if(n.biff<8){e.l+=t;return}var i=e.read_shift(2),r=e.read_shift(2),o=Mg(e,i,n),s=Mg(e,r,n);return[o,s]}function iRe(e,t,n){var i=fJ(e,6);e.l++;var r=e.read_shift(1);return t-=8,[mMe(e,t,n),r,i]}function jZ(e,t,n){var i=uDe(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[i,fMe(e,t,n,i)]}function rRe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,i=e.read_shift(4);return[t,n,i]}function oRe(e,t,n){if(!(n.biff<8)){var i=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),a=Bg(e,0,n);return n.biff<8&&e.read_shift(1),[{r:i,c:r},a,s,o]}}function sRe(e,t,n){return oRe(e,t,n)}function aRe(e,t){for(var n=[],i=e.read_shift(2);i--;)n.push(m2(e,t));return n}function lRe(e){var t=Re(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)hJ(e[n],t);return t}function cRe(e,t,n){if(n&&n.biff<8)return uRe(e,t,n);var i=pJ(e,22),r=gDe(e,t-22,i[1]);return{cmo:i,ft:r}}var dRe={8:function(e,t){var n=e.l+t;e.l+=10;var i=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var r=e.read_shift(1);return e.l+=r,e.l=n,{fmt:i}}};function uRe(e,t,n){e.l+=4;var i=e.read_shift(2),r=e.read_shift(2),o=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((dRe[i]||Ds)(e,t,n)),{cmo:[r,i,o],ft:s}}function hRe(e,t,n){var i=e.l,r="";try{e.l+=4;var o=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(o)==-1?e.l+=6:s=tDe(e,6,n);var a=e.read_shift(2);e.read_shift(2),eo(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-i!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],h=Mg(e,e.lens[c+1]-e.lens[c]-1);if(r+=h,r.length>=(d?a:2*a))break}if(r.length!==a&&r.length!==a*2)throw new Error("cchText: "+a+" != "+r.length);return e.l=i+t,{t:r}}catch{return e.l=i+t,{t:r}}}function fRe(e,t){var n=m2(e,8);e.l+=16;var i=oDe(e,t-24);return[n,i]}function pRe(e){var t=Re(24),n=fr(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(i[r],16));return Io([t,sDe(e[1])])}function gRe(e,t){e.read_shift(2);var n=m2(e,8),i=e.read_shift((t-10)/2,"dbcs-cont");return i=i.replace(Ss,""),[n,i]}function mRe(e){var t=e[1].Tooltip,n=Re(10+2*(t.length+1));n.write_shift(2,2048);var i=fr(e[0]);n.write_shift(2,i.r),n.write_shift(2,i.r),n.write_shift(2,i.c),n.write_shift(2,i.c);for(var r=0;r<t.length;++r)n.write_shift(2,t.charCodeAt(r));return n.write_shift(2,0),n}function vRe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=IZ[n]||n,n=e.read_shift(2),t[1]=IZ[n]||n,t}function CRe(e){return e||(e=Re(4)),e.write_shift(2,1),e.write_shift(2,1),e}function wRe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(dJ(e,8));return n}function yRe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(dJ(e,8));return n}function bRe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mJ(e,t,n){if(!n.cellStyles)return Ds(e,t);var i=n&&n.biff>=12?4:2,r=e.read_shift(i),o=e.read_shift(i),s=e.read_shift(i),a=e.read_shift(i),l=e.read_shift(2);i==2&&(e.l+=2);var c={s:r,e:o,w:s,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function _Re(e,t){var n=Re(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var i=0;return e.hidden&&(i|=1),n.write_shift(1,i),i=e.level||0,n.write_shift(1,i),n.write_shift(2,0),n}function xRe(e,t){var n={};return t<32||(e.l+=16,n.header=xs(e,8),n.footer=xs(e,8),e.l+=2),n}function SRe(e,t,n){var i={area:!1};if(n.biff!=5)return e.l+=t,i;var r=e.read_shift(1);return e.l+=3,r&16&&(i.area=!0),i}function ERe(e){for(var t=Re(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var DRe=Od,RRe=sJ,TRe=x_;function IRe(e){var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r={fmt:t,env:n,len:i,data:e.slice(e.l,e.l+i)};return e.l+=i,r}function MRe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var i=Od(e,6);++e.l;var r=Bg(e,t-7,n);return i.t="str",i.val=r,i}function FRe(e){var t=Od(e,6);++e.l;var n=xs(e,8);return t.t="n",t.val=n,t}function ARe(e,t,n){var i=Re(15);return R_(i,e,t),i.write_shift(8,n,"f"),i}function kRe(e){var t=Od(e,6);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function PRe(e,t,n){var i=Re(9);return R_(i,e,t),i.write_shift(2,n),i}function ORe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function LRe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function NRe(e,t,n){var i=e.l+t,r=Od(e,6),o=e.read_shift(2),s=Mg(e,o,n);return e.l=i,r.t="str",r.val=s,r}var BRe=[2,3,48,49,131,139,140,245],n6=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=h2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],d=Of(1);switch(l.type){case"base64":d=Qa(el(a));break;case"binary":d=Qa(a);break;case"buffer":case"array":d=a;break}Yo(d,0);var h=d.read_shift(1),f=!!(h&136),g=!1,m=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,f=!0;break;case 49:g=!0,f=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,C=521;h==2&&(v=d.read_shift(2)),d.l+=3,h!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(C=d.read_shift(2));var y=d.read_shift(2),x=l.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(x=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var _=[],R={},I=Math.min(d.length,h==2?521:C-10-(g?264:0)),F=m?32:11;d.l<I&&d[d.l]!=13;)switch(R={},R.name=hi.utils.decode(x,d.slice(d.l,d.l+F)).replace(/[\u0000\r\n].*$/g,""),d.l+=F,R.type=String.fromCharCode(d.read_shift(1)),h!=2&&!m&&(R.offset=d.read_shift(4)),R.len=d.read_shift(1),h==2&&(R.offset=d.read_shift(2)),R.dec=d.read_shift(1),R.name.length&&_.push(R),h!=2&&(d.l+=m?13:14),R.type){case"B":(!g||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var T=0,P=0;for(c[0]=[],P=0;P!=_.length;++P)c[0][P]=_[P].name;for(;v-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,c[++T]=[],P=0,P=0;P!=_.length;++P){var L=d.slice(d.l,d.l+_[P].len);d.l+=_[P].len,Yo(L,0);var U=hi.utils.decode(x,L);switch(_[P].type){case"C":U.trim().length&&(c[T][P]=U.replace(/\s+$/,""));break;case"D":U.length===8?c[T][P]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):c[T][P]=U;break;case"F":c[T][P]=parseFloat(U.trim());break;case"+":case"I":c[T][P]=m?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":c[T][P]=!0;break;case"N":case"F":c[T][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[T][P]="##MEMO##"+(m?parseInt(U.trim(),10):L.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(c[T][P]=+U||0);break;case"@":c[T][P]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":c[T][P]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":c[T][P]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][P]=-L.read_shift(-8,"f");break;case"B":if(g&&_[P].len==8){c[T][P]=L.read_shift(8,"f");break}case"G":case"P":L.l+=_[P].len;break;case"0":if(_[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[P].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function i(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=eC(n(a,c),c);return d["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,d}function r(a,l){try{return Hf(i(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function s(a,l){var c=l||{};if(+c.codepage>=0&&Rc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ia(),h=c2(a,{header:1,raw:!0,cellDates:!0}),f=h[0],g=h.slice(1),m=a["!cols"]||[],v=0,C=0,y=0,x=1;for(v=0;v<f.length;++v){if(((m[v]||{}).DBF||{}).name){f[v]=m[v].DBF.name,++y;continue}if(f[v]!=null){if(++y,typeof f[v]=="number"&&(f[v]=f[v].toString(10)),typeof f[v]!="string")throw new Error("DBF Invalid column name "+f[v]+" |"+typeof f[v]+"|");if(f.indexOf(f[v])!==v){for(C=0;C<1024;++C)if(f.indexOf(f[v]+"_"+C)==-1){f[v]+="_"+C;break}}}}var _=Kn(a["!ref"]),R=[],I=[],F=[];for(v=0;v<=_.e.c-_.s.c;++v){var T="",P="",L=0,U=[];for(C=0;C<g.length;++C)g[C][v]!=null&&U.push(g[C][v]);if(U.length==0||f[v]==null){R[v]="?";continue}for(C=0;C<U.length;++C){switch(typeof U[C]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=U[C]instanceof Date?"D":"C";break;default:P="C"}L=Math.max(L,String(U[C]).length),T=T&&T!=P?"C":P}L>250&&(L=250),P=((m[v]||{}).DBF||{}).type,P=="C"&&m[v].DBF.len>L&&(L=m[v].DBF.len),T=="B"&&P=="N"&&(T="N",F[v]=m[v].DBF.dec,L=m[v].DBF.len),I[v]=T=="C"||P=="N"?L:o[T]||0,x+=I[v],R[v]=T}var W=d.next(32);for(W.write_shift(4,318902576),W.write_shift(4,g.length),W.write_shift(2,296+32*y),W.write_shift(2,x),v=0;v<4;++v)W.write_shift(4,0);for(W.write_shift(4,0|(+t[qv]||3)<<8),v=0,C=0;v<f.length;++v)if(f[v]!=null){var X=d.next(32),oe=(f[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);X.write_shift(1,oe,"sbcs"),X.write_shift(1,R[v]=="?"?"C":R[v],"sbcs"),X.write_shift(4,C),X.write_shift(1,I[v]||o[R[v]]||0),X.write_shift(1,F[v]||0),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(1,0),X.write_shift(4,0),X.write_shift(4,0),C+=I[v]||o[R[v]]||0}var Ie=d.next(264);for(Ie.write_shift(4,13),v=0;v<65;++v)Ie.write_shift(4,0);for(v=0;v<g.length;++v){var ae=d.next(x);for(ae.write_shift(1,0),C=0;C<f.length;++C)if(f[C]!=null)switch(R[C]){case"L":ae.write_shift(1,g[v][C]==null?63:g[v][C]?84:70);break;case"B":ae.write_shift(8,g[v][C]||0,"f");break;case"N":var Le="0";for(typeof g[v][C]=="number"&&(Le=g[v][C].toFixed(F[C]||0)),y=0;y<I[C]-Le.length;++y)ae.write_shift(1,32);ae.write_shift(1,Le,"sbcs");break;case"D":g[v][C]?(ae.write_shift(4,("0000"+g[v][C].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(g[v][C].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+g[v][C].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var Se=String(g[v][C]!=null?g[v][C]:"").slice(0,I[C]);for(ae.write_shift(1,Se,"sbcs"),y=0;y<I[C]-Se.length;++y)ae.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:r,to_sheet:i,from_sheet:s}}(),vJ=function(){var e={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ir(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(f,g){var m=e[g];return typeof m=="number"?nZ(m):m},i=function(f,g,m){var v=g.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return v==59?f:nZ(v)};e["|"]=254;function r(f,g){switch(g.type){case"base64":return o(el(f),g);case"binary":return o(f,g);case"buffer":return o(Mn&&Buffer.isBuffer(f)?f.toString("binary"):Vf(f),g);case"array":return o(Tg(f),g)}throw new Error("Unrecognized type "+g.type)}function o(f,g){var m=f.split(/[\n\r]+/),v=-1,C=-1,y=0,x=0,_=[],R=[],I=null,F={},T=[],P=[],L=[],U=0,W;for(+g.codepage>=0&&Rc(+g.codepage);y!==m.length;++y){U=0;var X=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,n),oe=X.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),Ie=oe[0],ae;if(X.length>0)switch(Ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":oe[1].charAt(0)=="P"&&R.push(X.slice(3).replace(/;;/g,";"));break;case"C":var Le=!1,Se=!1,Ge=!1,be=!1,Ae=-1,he=-1;for(x=1;x<oe.length;++x)switch(oe[x].charAt(0)){case"A":break;case"X":C=parseInt(oe[x].slice(1))-1,Se=!0;break;case"Y":for(v=parseInt(oe[x].slice(1))-1,Se||(C=0),W=_.length;W<=v;++W)_[W]=[];break;case"K":ae=oe[x].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(Ic(ae))?isNaN(Kv(ae).getDate())||(ae=$i(ae)):(ae=Ic(ae),I!==null&&Zv(I)&&(ae=p2(ae))),typeof hi<"u"&&typeof ae=="string"&&(g||{}).type!="string"&&(g||{}).codepage&&(ae=hi.utils.decode(g.codepage,ae)),Le=!0;break;case"E":be=!0;var N=jv(oe[x].slice(1),{r:v,c:C});_[v][C]=[_[v][C],N];break;case"S":Ge=!0,_[v][C]=[_[v][C],"S5S"];break;case"G":break;case"R":Ae=parseInt(oe[x].slice(1))-1;break;case"C":he=parseInt(oe[x].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+X)}if(Le&&(_[v][C]&&_[v][C].length==2?_[v][C][0]=ae:_[v][C]=ae,I=null),Ge){if(be)throw new Error("SYLK shared formula cannot have own formula");var ne=Ae>-1&&_[Ae][he];if(!ne||!ne[1])throw new Error("SYLK shared formula cannot find base");_[v][C][1]=OJ(ne[1],{r:v-Ae,c:C-he})}break;case"F":var Q=0;for(x=1;x<oe.length;++x)switch(oe[x].charAt(0)){case"X":C=parseInt(oe[x].slice(1))-1,++Q;break;case"Y":for(v=parseInt(oe[x].slice(1))-1,W=_.length;W<=v;++W)_[W]=[];break;case"M":U=parseInt(oe[x].slice(1))/20;break;case"F":break;case"G":break;case"P":I=R[parseInt(oe[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=oe[x].slice(1).split(" "),W=parseInt(L[0],10);W<=parseInt(L[1],10);++W)U=parseInt(L[2],10),P[W-1]=U===0?{hidden:!0}:{wch:U},Lf(P[W-1]);break;case"C":C=parseInt(oe[x].slice(1))-1,P[C]||(P[C]={});break;case"R":v=parseInt(oe[x].slice(1))-1,T[v]||(T[v]={}),U>0?(T[v].hpt=U,T[v].hpx=Yv(U)):U===0&&(T[v].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+X)}Q<1&&(I=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+X)}}return T.length>0&&(F["!rows"]=T),P.length>0&&(F["!cols"]=P),g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),[_,F]}function s(f,g){var m=r(f,g),v=m[0],C=m[1],y=eC(v,g);return Ir(C).forEach(function(x){y[x]=C[x]}),y}function a(f,g){return Hf(s(f,g),g)}function l(f,g,m,v){var C="C;Y"+(m+1)+";X"+(v+1)+";K";switch(f.t){case"n":C+=f.v||0,f.f&&!f.F&&(C+=";E"+V6(f.f,{r:m,c:v}));break;case"b":C+=f.v?"TRUE":"FALSE";break;case"e":C+=f.w||f.v;break;case"d":C+='"'+(f.w||f.v)+'"';break;case"s":C+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(f,g){g.forEach(function(m,v){var C="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?C+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=g_(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=m_(m.wpx)),typeof m.wch=="number"&&(C+=Math.round(m.wch))),C.charAt(C.length-1)!=" "&&f.push(C)})}function d(f,g){g.forEach(function(m,v){var C="F;";m.hidden?C+="M0;":m.hpt?C+="M"+20*m.hpt+";":m.hpx&&(C+="M"+20*v_(m.hpx)+";"),C.length>2&&f.push(C+"R"+(v+1))})}function h(f,g){var m=["ID;PWXL;N;E"],v=[],C=Kn(f["!ref"]),y,x=Array.isArray(f),_=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),f["!cols"]&&c(m,f["!cols"]),f["!rows"]&&d(m,f["!rows"]),m.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var R=C.s.r;R<=C.e.r;++R)for(var I=C.s.c;I<=C.e.c;++I){var F=qt({r:R,c:I});y=x?(f[R]||[])[I]:f[F],!(!y||y.v==null&&(!y.f||y.F))&&v.push(l(y,f,R,I,g))}return m.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:a,to_sheet:s,from_sheet:h}}(),CJ=function(){function e(o,s){switch(s.type){case"base64":return t(el(o),s);case"binary":return t(o,s);case"buffer":return t(Mn&&Buffer.isBuffer(o)?o.toString("binary"):Vf(o),s);case"array":return t(Tg(o),s)}throw new Error("Unrecognized type "+s.type)}function t(o,s){for(var a=o.split(`
`),l=-1,c=-1,d=0,h=[];d!==a.length;++d){if(a[d].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var f=a[d].trim().split(","),g=f[0],m=f[1];++d;for(var v=a[d]||"";(v.match(/["]/g)||[]).length&1&&d<a.length-1;)v+=`
`+a[++d];switch(v=v.trim(),+g){case-1:if(v==="BOT"){h[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[l][c]=!0:v==="FALSE"?h[l][c]=!1:isNaN(Ic(m))?isNaN(Kv(m).getDate())?h[l][c]=m:h[l][c]=$i(m):h[l][c]=Ic(m),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),Kb&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function n(o,s){return eC(e(o,s),s)}function i(o,s){return Hf(n(o,s),s)}var r=function(){var o=function(l,c,d,h,f){l.push(c),l.push(d+","+h),l.push('"'+f.replace(/"/g,'""')+'"')},s=function(l,c,d,h){l.push(c+","+d),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],d=Kn(l["!ref"]),h,f=Array.isArray(l);o(c,"TABLE",0,1,"sheetjs"),o(c,"VECTORS",0,d.e.r-d.s.r+1,""),o(c,"TUPLES",0,d.e.c-d.s.c+1,""),o(c,"DATA",0,0,"");for(var g=d.s.r;g<=d.e.r;++g){s(c,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var v=qt({r:g,c:m});if(h=f?(l[g]||[])[m]:l[v],!h){s(c,1,0,"");continue}switch(h.t){case"n":var C=Kb?h.w:h.v;!C&&h.v!=null&&(C=h.v),C==null?Kb&&h.f&&!h.F?s(c,1,0,"="+h.f):s(c,1,0,""):s(c,0,C,"V");break;case"b":s(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(c,1,0,!Kb||isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ul(h.z||jt[14],ho($i(h.v)))),Kb?s(c,0,h.w,"V"):s(c,1,0,h.w);break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,x=c.join(y);return x}}();return{to_workbook:i,to_sheet:n,from_sheet:r}}(),wJ=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,f){for(var g=h.split(`
`),m=-1,v=-1,C=0,y=[];C!==g.length;++C){var x=g[C].trim().split(":");if(x[0]==="cell"){var _=fr(x[1]);if(y.length<=_.r)for(m=y.length;m<=_.r;++m)y[m]||(y[m]=[]);switch(m=_.r,v=_.c,x[2]){case"t":y[m][v]=e(x[3]);break;case"v":y[m][v]=+x[3];break;case"vtf":var R=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[m][v]=!!+x[4];break;default:y[m][v]=+x[4];break}x[2]=="vtf"&&(y[m][v]=[y[m][v],R])}}}return f&&f.sheetRows&&(y=y.slice(0,f.sheetRows)),y}function i(h,f){return eC(n(h,f),f)}function r(h,f){return Hf(i(h,f),f)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var f=[],g=[],m,v="",C=Ma(h["!ref"]),y=Array.isArray(h),x=C.s.r;x<=C.e.r;++x)for(var _=C.s.c;_<=C.e.c;++_)if(v=qt({r:x,c:_}),m=y?(h[x]||[])[_]:h[v],!(!m||m.v==null||m.t==="z")){switch(g=["cell",v,"t"],m.t){case"s":case"str":g.push(t(m.v));break;case"n":m.f?(g[2]="vtf",g[3]="n",g[4]=m.v,g[5]=t(m.f)):(g[2]="v",g[3]=m.v);break;case"b":g[2]="vt"+(m.f?"f":"c"),g[3]="nl",g[4]=m.v?"1":"0",g[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var R=ho($i(m.v));g[2]="vtc",g[3]="nd",g[4]=""+R,g[5]=m.w||Ul(m.z||jt[14],R);break;case"e":continue}f.push(g.join(":"))}return f.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function d(h){return[o,s,a,s,c(h),l].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:d}}(),Xv=function(){function e(d,h,f,g,m){m.raw?h[f][g]=d:d===""||(d==="TRUE"?h[f][g]=!0:d==="FALSE"?h[f][g]=!1:isNaN(Ic(d))?isNaN(Kv(d).getDate())?h[f][g]=d:h[f][g]=$i(d):h[f][g]=Ic(d))}function t(d,h){var f=h||{},g=[];if(!d||d.length===0)return g;for(var m=d.split(/[\r\n]/),v=m.length-1;v>=0&&m[v].length===0;)--v;for(var C=10,y=0,x=0;x<=v;++x)y=m[x].indexOf(" "),y==-1?y=m[x].length:y++,C=Math.max(C,y);for(x=0;x<=v;++x){g[x]=[];var _=0;for(e(m[x].slice(0,C).trim(),g,x,_,f),_=1;_<=(m[x].length-C)/10+1;++_)e(m[x].slice(C+(_-1)*10,C+_*10).trim(),g,x,_,f)}return f.sheetRows&&(g=g.slice(0,f.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(d){for(var h={},f=!1,g=0,m=0;g<d.length;++g)(m=d.charCodeAt(g))==34?f=!f:!f&&m in n&&(h[m]=(h[m]||0)+1);m=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&m.push([h[g],g]);if(!m.length){h=i;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&m.push([h[g],g])}return m.sort(function(v,C){return v[0]-C[0]||i[v[1]]-i[C[1]]}),n[m.pop()[1]]||44}function o(d,h){var f=h||{},g="";Tr!=null&&f.dense==null&&(f.dense=Tr);var m=f.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(g=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(g=d.charAt(4),d=d.slice(6)):g=r(d.slice(0,1024)):f&&f.FS?g=f.FS:g=r(d.slice(0,1024));var C=0,y=0,x=0,_=0,R=0,I=g.charCodeAt(0),F=!1,T=0,P=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var L=f.dateNF!=null?SSe(f.dateNF):null;function U(){var W=d.slice(_,R),X={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)X.t="z";else if(f.raw)X.t="s",X.v=W;else if(W.trim().length===0)X.t="s",X.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(X.t="s",X.v=W.slice(2,-1).replace(/""/g,'"')):J2e(W)?(X.t="n",X.f=W.slice(1)):(X.t="s",X.v=W);else if(W=="TRUE")X.t="b",X.v=!0;else if(W=="FALSE")X.t="b",X.v=!1;else if(!isNaN(x=Ic(W)))X.t="n",f.cellText!==!1&&(X.w=W),X.v=x;else if(!isNaN(Kv(W).getDate())||L&&W.match(L)){X.z=f.dateNF||jt[14];var oe=0;L&&W.match(L)&&(W=ESe(W,f.dateNF,W.match(L)||[]),oe=1),f.cellDates?(X.t="d",X.v=$i(W,oe)):(X.t="n",X.v=ho($i(W,oe))),f.cellText!==!1&&(X.w=Ul(X.z,X.v instanceof Date?ho(X.v):X.v)),f.cellNF||delete X.z}else X.t="s",X.v=W;if(X.t=="z"||(f.dense?(m[C]||(m[C]=[]),m[C][y]=X):m[qt({c:y,r:C})]=X),_=R+1,P=d.charCodeAt(_),v.e.c<y&&(v.e.c=y),v.e.r<C&&(v.e.r=C),T==I)++y;else if(y=0,++C,f.sheetRows&&f.sheetRows<=C)return!0}e:for(;R<d.length;++R)switch(T=d.charCodeAt(R)){case 34:P===34&&(F=!F);break;case I:case 10:case 13:if(!F&&U())break e;break;default:break}return R-_>0&&U(),m["!ref"]=gn(v),m}function s(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?o(d,h):eC(t(d,h),h)}function a(d,h){var f="",g=h.type=="string"?[0,0,0,0]:q6(d,h);switch(h.type){case"base64":f=el(d);break;case"binary":f=d;break;case"buffer":h.codepage==65001?f=d.toString("utf8"):h.codepage&&typeof hi<"u"?f=hi.utils.decode(h.codepage,d):f=Mn&&Buffer.isBuffer(d)?d.toString("binary"):Vf(d);break;case"array":f=Tg(d);break;case"string":f=d;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?f=Si(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=Si(f):h.type=="binary"&&typeof hi<"u"&&h.codepage&&(f=hi.utils.decode(h.codepage,hi.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?wJ.to_sheet(h.type=="string"?f:Si(f),h):s(f,h)}function l(d,h){return Hf(a(d,h),h)}function c(d){for(var h=[],f=Kn(d["!ref"]),g,m=Array.isArray(d),v=f.s.r;v<=f.e.r;++v){for(var C=[],y=f.s.c;y<=f.e.c;++y){var x=qt({r:v,c:y});if(g=m?(d[v]||[])[y]:d[x],!g||g.v==null){C.push("          ");continue}for(var _=(g.w||(th(g),g.w)||"").slice(0,10);_.length<10;)_+=" ";C.push(_+(y===0?" ":""))}h.push(C.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function VRe(e,t){var n=t||{},i=!!n.WTF;n.WTF=!0;try{var r=vJ.to_workbook(e,n);return n.WTF=i,r}catch(o){if(n.WTF=i,!o.message.match(/SYLK bad record ID/)&&i)throw o;return Xv.to_workbook(e,t)}}var Eg=function(){function e(N,ne,Q){if(N){Yo(N,N.l||0);for(var Z=Q.Enum||Ae;N.l<N.length;){var le=N.read_shift(2),ke=Z[le]||Z[65535],ze=N.read_shift(2),Be=N.l+ze,ve=ke.f&&ke.f(N,ze,Q);if(N.l=Be,ne(ve,ke,le))return}}}function t(N,ne){switch(ne.type){case"base64":return n(Qa(el(N)),ne);case"binary":return n(Qa(N),ne);case"buffer":case"array":return n(N,ne)}throw"Unsupported type "+ne.type}function n(N,ne){if(!N)return N;var Q=ne||{};Tr!=null&&Q.dense==null&&(Q.dense=Tr);var Z=Q.dense?[]:{},le="Sheet1",ke="",ze=0,Be={},ve=[],St=[],Y={s:{r:0,c:0},e:{r:0,c:0}},$t=Q.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)Q.Enum=Ae,e(N,function(Ye,vt,xn){switch(xn){case 0:Q.vers=Ye,Ye>=4096&&(Q.qpro=!0);break;case 6:Y=Ye;break;case 204:Ye&&(ke=Ye);break;case 222:ke=Ye;break;case 15:case 51:Q.qpro||(Ye[1].v=Ye[1].v.slice(1));case 13:case 14:case 16:xn==14&&(Ye[2]&112)==112&&(Ye[2]&15)>1&&(Ye[2]&15)<15&&(Ye[1].z=Q.dateNF||jt[14],Q.cellDates&&(Ye[1].t="d",Ye[1].v=p2(Ye[1].v))),Q.qpro&&Ye[3]>ze&&(Z["!ref"]=gn(Y),Be[le]=Z,ve.push(le),Z=Q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ze=Ye[3],le=ke||"Sheet"+(ze+1),ke="");var yi=Q.dense?(Z[Ye[0].r]||[])[Ye[0].c]:Z[qt(Ye[0])];if(yi){yi.t=Ye[1].t,yi.v=Ye[1].v,Ye[1].z!=null&&(yi.z=Ye[1].z),Ye[1].f!=null&&(yi.f=Ye[1].f);break}Q.dense?(Z[Ye[0].r]||(Z[Ye[0].r]=[]),Z[Ye[0].r][Ye[0].c]=Ye[1]):Z[qt(Ye[0])]=Ye[1];break;default:}},Q);else if(N[2]==26||N[2]==14)Q.Enum=he,N[2]==14&&(Q.qpro=!0,N.l=0),e(N,function(Ye,vt,xn){switch(xn){case 204:le=Ye;break;case 22:Ye[1].v=Ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ye[3]>ze&&(Z["!ref"]=gn(Y),Be[le]=Z,ve.push(le),Z=Q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ze=Ye[3],le="Sheet"+(ze+1)),$t>0&&Ye[0].r>=$t)break;Q.dense?(Z[Ye[0].r]||(Z[Ye[0].r]=[]),Z[Ye[0].r][Ye[0].c]=Ye[1]):Z[qt(Ye[0])]=Ye[1],Y.e.c<Ye[0].c&&(Y.e.c=Ye[0].c),Y.e.r<Ye[0].r&&(Y.e.r=Ye[0].r);break;case 27:Ye[14e3]&&(St[Ye[14e3][0]]=Ye[14e3][1]);break;case 1537:St[Ye[0]]=Ye[1],Ye[0]==ze&&(le=Ye[1]);break;default:break}},Q);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(Z["!ref"]=gn(Y),Be[ke||le]=Z,ve.push(ke||le),!St.length)return{SheetNames:ve,Sheets:Be};for(var At={},Et=[],Dt=0;Dt<St.length;++Dt)Be[ve[Dt]]?(Et.push(St[Dt]||ve[Dt]),At[St[Dt]]=Be[St[Dt]]||Be[ve[Dt]]):(Et.push(St[Dt]),At[St[Dt]]={"!ref":"A1"});return{SheetNames:Et,Sheets:At}}function i(N,ne){var Q=ne||{};if(+Q.codepage>=0&&Rc(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=Ia(),le=Kn(N["!ref"]),ke=Array.isArray(N),ze=[];ot(Z,0,o(1030)),ot(Z,6,l(le));for(var Be=Math.min(le.e.r,8191),ve=le.s.r;ve<=Be;++ve)for(var St=Gr(ve),Y=le.s.c;Y<=le.e.c;++Y){ve===le.s.r&&(ze[Y]=hr(Y));var $t=ze[Y]+St,At=ke?(N[ve]||[])[Y]:N[$t];if(!(!At||At.t=="z"))if(At.t=="n")(At.v|0)==At.v&&At.v>=-32768&&At.v<=32767?ot(Z,13,g(ve,Y,At.v)):ot(Z,14,v(ve,Y,At.v));else{var Et=th(At);ot(Z,15,h(ve,Y,Et.slice(0,239)))}}return ot(Z,1),Z.end()}function r(N,ne){var Q=ne||{};if(+Q.codepage>=0&&Rc(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=Ia();ot(Z,0,s(N));for(var le=0,ke=0;le<N.SheetNames.length;++le)(N.Sheets[N.SheetNames[le]]||{})["!ref"]&&ot(Z,27,be(N.SheetNames[le],ke++));var ze=0;for(le=0;le<N.SheetNames.length;++le){var Be=N.Sheets[N.SheetNames[le]];if(!(!Be||!Be["!ref"])){for(var ve=Kn(Be["!ref"]),St=Array.isArray(Be),Y=[],$t=Math.min(ve.e.r,8191),At=ve.s.r;At<=$t;++At)for(var Et=Gr(At),Dt=ve.s.c;Dt<=ve.e.c;++Dt){At===ve.s.r&&(Y[Dt]=hr(Dt));var Ye=Y[Dt]+Et,vt=St?(Be[At]||[])[Dt]:Be[Ye];if(!(!vt||vt.t=="z"))if(vt.t=="n")ot(Z,23,U(At,Dt,ze,vt.v));else{var xn=th(vt);ot(Z,22,T(At,Dt,ze,xn.slice(0,239)))}}++ze}}return ot(Z,1),Z.end()}function o(N){var ne=Re(2);return ne.write_shift(2,N),ne}function s(N){var ne=Re(26);ne.write_shift(2,4096),ne.write_shift(2,4),ne.write_shift(4,0);for(var Q=0,Z=0,le=0,ke=0;ke<N.SheetNames.length;++ke){var ze=N.SheetNames[ke],Be=N.Sheets[ze];if(!(!Be||!Be["!ref"])){++le;var ve=Ma(Be["!ref"]);Q<ve.e.r&&(Q=ve.e.r),Z<ve.e.c&&(Z=ve.e.c)}}return Q>8191&&(Q=8191),ne.write_shift(2,Q),ne.write_shift(1,le),ne.write_shift(1,Z),ne.write_shift(2,0),ne.write_shift(2,0),ne.write_shift(1,1),ne.write_shift(1,2),ne.write_shift(4,0),ne.write_shift(4,0),ne}function a(N,ne,Q){var Z={s:{c:0,r:0},e:{c:0,r:0}};return ne==8&&Q.qpro?(Z.s.c=N.read_shift(1),N.l++,Z.s.r=N.read_shift(2),Z.e.c=N.read_shift(1),N.l++,Z.e.r=N.read_shift(2),Z):(Z.s.c=N.read_shift(2),Z.s.r=N.read_shift(2),ne==12&&Q.qpro&&(N.l+=2),Z.e.c=N.read_shift(2),Z.e.r=N.read_shift(2),ne==12&&Q.qpro&&(N.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function l(N){var ne=Re(8);return ne.write_shift(2,N.s.c),ne.write_shift(2,N.s.r),ne.write_shift(2,N.e.c),ne.write_shift(2,N.e.r),ne}function c(N,ne,Q){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(Z[0].c=N.read_shift(1),Z[3]=N.read_shift(1),Z[0].r=N.read_shift(2),N.l+=2):(Z[2]=N.read_shift(1),Z[0].c=N.read_shift(2),Z[0].r=N.read_shift(2)),Z}function d(N,ne,Q){var Z=N.l+ne,le=c(N,ne,Q);if(le[1].t="s",Q.vers==20768){N.l++;var ke=N.read_shift(1);return le[1].v=N.read_shift(ke,"utf8"),le}return Q.qpro&&N.l++,le[1].v=N.read_shift(Z-N.l,"cstr"),le}function h(N,ne,Q){var Z=Re(7+Q.length);Z.write_shift(1,255),Z.write_shift(2,ne),Z.write_shift(2,N),Z.write_shift(1,39);for(var le=0;le<Z.length;++le){var ke=Q.charCodeAt(le);Z.write_shift(1,ke>=128?95:ke)}return Z.write_shift(1,0),Z}function f(N,ne,Q){var Z=c(N,ne,Q);return Z[1].v=N.read_shift(2,"i"),Z}function g(N,ne,Q){var Z=Re(7);return Z.write_shift(1,255),Z.write_shift(2,ne),Z.write_shift(2,N),Z.write_shift(2,Q,"i"),Z}function m(N,ne,Q){var Z=c(N,ne,Q);return Z[1].v=N.read_shift(8,"f"),Z}function v(N,ne,Q){var Z=Re(13);return Z.write_shift(1,255),Z.write_shift(2,ne),Z.write_shift(2,N),Z.write_shift(8,Q,"f"),Z}function C(N,ne,Q){var Z=N.l+ne,le=c(N,ne,Q);if(le[1].v=N.read_shift(8,"f"),Q.qpro)N.l=Z;else{var ke=N.read_shift(2);R(N.slice(N.l,N.l+ke),le),N.l+=ke}return le}function y(N,ne,Q){var Z=ne&32768;return ne&=-32769,ne=(Z?N:0)+(ne>=8192?ne-16384:ne),(Z?"":"$")+(Q?hr(ne):Gr(ne))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(N,ne){Yo(N,0);for(var Q=[],Z=0,le="",ke="",ze="",Be="";N.l<N.length;){var ve=N[N.l++];switch(ve){case 0:Q.push(N.read_shift(8,"f"));break;case 1:ke=y(ne[0].c,N.read_shift(2),!0),le=y(ne[0].r,N.read_shift(2),!1),Q.push(ke+le);break;case 2:{var St=y(ne[0].c,N.read_shift(2),!0),Y=y(ne[0].r,N.read_shift(2),!1);ke=y(ne[0].c,N.read_shift(2),!0),le=y(ne[0].r,N.read_shift(2),!1),Q.push(St+Y+":"+ke+le)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(N.read_shift(2));break;case 6:{for(var $t="";ve=N[N.l++];)$t+=String.fromCharCode(ve);Q.push('"'+$t.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Be=Q.pop(),ze=Q.pop(),Q.push(["AND","OR"][ve-20]+"("+ze+","+Be+")");break;default:if(ve<32&&_[ve])Be=Q.pop(),ze=Q.pop(),Q.push(ze+_[ve]+Be);else if(x[ve]){if(Z=x[ve][1],Z==69&&(Z=N[N.l++]),Z>Q.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+Q.join("|")+"|");return}var At=Q.slice(-Z);Q.length-=Z,Q.push(x[ve][0]+"("+At.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}Q.length==1?ne[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function I(N){var ne=[{c:0,r:0},{t:"n",v:0},0];return ne[0].r=N.read_shift(2),ne[3]=N[N.l++],ne[0].c=N[N.l++],ne}function F(N,ne){var Q=I(N,ne);return Q[1].t="s",Q[1].v=N.read_shift(ne-4,"cstr"),Q}function T(N,ne,Q,Z){var le=Re(6+Z.length);le.write_shift(2,N),le.write_shift(1,Q),le.write_shift(1,ne),le.write_shift(1,39);for(var ke=0;ke<Z.length;++ke){var ze=Z.charCodeAt(ke);le.write_shift(1,ze>=128?95:ze)}return le.write_shift(1,0),le}function P(N,ne){var Q=I(N,ne);Q[1].v=N.read_shift(2);var Z=Q[1].v>>1;if(Q[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return Q[1].v=Z,Q}function L(N,ne){var Q=I(N,ne),Z=N.read_shift(4),le=N.read_shift(4),ke=N.read_shift(2);if(ke==65535)return Z===0&&le===3221225472?(Q[1].t="e",Q[1].v=15):Z===0&&le===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var ze=ke&32768;return ke=(ke&32767)-16446,Q[1].v=(1-ze*2)*(le*Math.pow(2,ke+32)+Z*Math.pow(2,ke)),Q}function U(N,ne,Q,Z){var le=Re(14);if(le.write_shift(2,N),le.write_shift(1,Q),le.write_shift(1,ne),Z==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var ke=0,ze=0,Be=0,ve=0;return Z<0&&(ke=1,Z=-Z),ze=Math.log2(Z)|0,Z/=Math.pow(2,ze-31),ve=Z>>>0,(ve&2147483648)==0&&(Z/=2,++ze,ve=Z>>>0),Z-=ve,ve|=2147483648,ve>>>=0,Z*=Math.pow(2,32),Be=Z>>>0,le.write_shift(4,Be),le.write_shift(4,ve),ze+=16383+(ke?32768:0),le.write_shift(2,ze),le}function W(N,ne){var Q=L(N,14);return N.l+=ne-14,Q}function X(N,ne){var Q=I(N,ne),Z=N.read_shift(4);return Q[1].v=Z>>6,Q}function oe(N,ne){var Q=I(N,ne),Z=N.read_shift(8,"f");return Q[1].v=Z,Q}function Ie(N,ne){var Q=oe(N,14);return N.l+=ne-10,Q}function ae(N,ne){return N[N.l+ne-1]==0?N.read_shift(ne,"cstr"):""}function Le(N,ne){var Q=N[N.l++];Q>ne-1&&(Q=ne-1);for(var Z="";Z.length<Q;)Z+=String.fromCharCode(N[N.l++]);return Z}function Se(N,ne,Q){if(!(!Q.qpro||ne<21)){var Z=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var le=N.read_shift(ne-21,"cstr");return[Z,le]}}function Ge(N,ne){for(var Q={},Z=N.l+ne;N.l<Z;){var le=N.read_shift(2);if(le==14e3){for(Q[le]=[0,""],Q[le][0]=N.read_shift(2);N[N.l];)Q[le][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return Q}function be(N,ne){var Q=Re(5+N.length);Q.write_shift(2,14e3),Q.write_shift(2,ne);for(var Z=0;Z<N.length;++Z){var le=N.charCodeAt(Z);Q[Q.l++]=le>127?95:le}return Q[Q.l++]=0,Q}var Ae={0:{n:"BOF",f:eo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:Le},65535:{n:""}},he={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ge},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:X},38:{n:"??"},39:{n:"NUMBER27",f:oe},40:{n:"FORMULA28",f:Ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:t}}();function HRe(e){var t={},n=e.match(Rs),i=0,r=!1;if(n)for(;i!=n.length;++i){var o=Yt(n[i]);switch(o[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!o.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(o.val=="1")break;t.cp=s6[parseInt(o.val,10)];break;case"<outline":if(!o.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=o.val;break;case"<sz":t.sz=o.val;break;case"<strike":if(!o.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!o.val)break;switch(o.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(o.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(o.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":o.rgb&&(t.color=o.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=o.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=o.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(o[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+o[0])}}return t}var GRe=function(){var e=d_("t"),t=d_("rPr");function n(o){var s=o.match(e);if(!s)return{t:"s",v:""};var a={t:"s",v:qn(s[1])},l=o.match(t);return l&&(a.s=HRe(l[1])),a}var i=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(s){return s.replace(i,"").split(r).map(n).filter(function(a){return a.v})}}(),zRe=function(){var t=/(\r\n|\n)/g;function n(r,o,s){var a=[];r.u&&a.push("text-decoration: underline;"),r.uval&&a.push("text-underline-style:"+r.uval+";"),r.sz&&a.push("font-size:"+r.sz+"pt;"),r.outline&&a.push("text-effect: outline;"),r.shadow&&a.push("text-shadow: auto;"),o.push('<span style="'+a.join("")+'">'),r.b&&(o.push("<b>"),s.push("</b>")),r.i&&(o.push("<i>"),s.push("</i>")),r.strike&&(o.push("<s>"),s.push("</s>"));var l=r.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(o.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),r}function i(r){var o=[[],r.v,[]];return r.v?(r.s&&n(r.s,o[0],o[2]),o[0].join("")+o[1].replace(t,"<br/>")+o[2].join("")):""}return function(o){return o.map(i).join("")}}(),URe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,WRe=/<(?:\w+:)?r>/,jRe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function P6(e,t){var n=t?t.cellHTML:!0,i={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=qn(Si(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=Si(e),n&&(i.h=m6(i.t))):e.match(WRe)&&(i.r=Si(e),i.t=qn(Si((e.replace(jRe,"").match(URe)||[]).join("").replace(Rs,""))),n&&(i.h=zRe(GRe(i.r)))),i):{t:""}}var $Re=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,qRe=/<(?:\w+:)?(?:si|sstItem)>/g,KRe=/<\/(?:\w+:)?(?:si|sstItem)>/;function XRe(e,t){var n=[],i="";if(!e)return n;var r=e.match($Re);if(r){i=r[2].replace(qRe,"").split(KRe);for(var o=0;o!=i.length;++o){var s=P6(i[o].trim(),t);s!=null&&(n[n.length]=s)}r=Yt(r[1]),n.Count=r.count,n.Unique=r.uniqueCount}return n}var YRe=/^\s|\s$|[\t\n\r]/;function yJ(e,t){if(!t.bookSST)return"";var n=[zr];n[n.length]=it("sst",null,{xmlns:kg[0],count:e.Count,uniqueCount:e.Unique});for(var i=0;i!=e.length;++i)if(e[i]!=null){var r=e[i],o="<si>";r.r?o+=r.r:(o+="<t",r.t||(r.t=""),r.t.match(YRe)&&(o+=' xml:space="preserve"'),o+=">"+wi(r.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function ZRe(e){return[e.read_shift(4),e.read_shift(4)]}function QRe(e,t){var n=[],i=!1;return ih(e,function(o,s,a){switch(a){case 159:n.Count=o[0],n.Unique=o[1];break;case 19:n.push(o);break;case 160:return!0;case 35:i=!0;break;case 36:i=!1;break;default:if(s.T,!i||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function JRe(e,t){return t||(t=Re(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var eTe=dEe;function tTe(e){var t=Ia();Ue(t,159,JRe(e));for(var n=0;n<e.length;++n)Ue(t,19,eTe(e[n]));return Ue(t,160),t.end()}function bJ(e){if(typeof hi<"u")return hi.utils.encode(qv,e);for(var t=[],n=e.split(""),i=0;i<n.length;++i)t[i]=n[i].charCodeAt(0);return t}function eh(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function nTe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=eh(e,4),t.U=eh(e,4),t.W=eh(e,4),t}function iTe(e){for(var t=e.read_shift(4),n=e.l+t-4,i={},r=e.read_shift(4),o=[];r-- >0;)o.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(i.name=e.read_shift(0,"lpp4"),i.comps=o,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return i}function rTe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(iTe(e));return t}function oTe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function sTe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=eh(e,4),t.U=eh(e,4),t.W=eh(e,4),t}function aTe(e){var t=sTe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function _J(e,t){var n=e.l+t,i={};i.Flags=e.read_shift(4)&63,e.l+=4,i.AlgID=e.read_shift(4);var r=!1;switch(i.AlgID){case 26126:case 26127:case 26128:r=i.Flags==36;break;case 26625:r=i.Flags==4;break;case 0:r=i.Flags==16||i.Flags==4||i.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=e.read_shift(4),i.KeySize=e.read_shift(4),i.ProviderType=e.read_shift(4),e.l+=8,i.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,i}function xJ(e,t){var n={},i=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,i),e.l=i,n}function lTe(e){var t=eh(e);switch(t.Minor){case 2:return[t.Minor,cTe(e,t)];case 3:return[t.Minor,dTe(e,t)];case 4:return[t.Minor,uTe(e,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function cTe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),i=_J(e,n),r=xJ(e,e.length-e.l);return{t:"Std",h:i,v:r}}function dTe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function uTe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),i={};return n.replace(Rs,function(o){var s=Yt(o);switch(Pd(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){i[a]=s[a]});break;case"<dataIntegrity":i.encryptedHmacKey=s.encryptedHmacKey,i.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":i.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":i.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":i.encs.push(s);break;default:throw s[0]}}),i}function hTe(e,t){var n={},i=n.EncryptionVersionInfo=eh(e,4);if(t-=4,i.Minor!=2)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);n.Flags=e.read_shift(4),t-=4;var r=e.read_shift(4);return t-=4,n.EncryptionHeader=_J(e,r),t-=r,n.EncryptionVerifier=xJ(e,t),n}function fTe(e){var t={},n=t.EncryptionVersionInfo=eh(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function O6(e){var t=0,n,i=bJ(e),r=i.length+1,o,s,a,l,c;for(n=Of(r),n[0]=i.length,o=1;o!=r;++o)n[o]=i[o-1];for(o=r-1;o>=0;--o)s=n[o],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^s;return t^52811}var SJ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(s){return(s/2|s*128)&255},r=function(s,a){return i(s^a)},o=function(s){for(var a=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var d=s[c],h=0;h!=7;++h)d&64&&(a^=n[l]),d*=2,--l;return a};return function(s){for(var a=bJ(s),l=o(a),c=a.length,d=Of(16),h=0;h!=16;++h)d[h]=0;var f,g,m;for((c&1)===1&&(f=l>>8,d[c]=r(e[0],f),--c,f=l&255,g=a[a.length-1],d[c]=r(g,f));c>0;)--c,f=l>>8,d[c]=r(a[c],f),--c,f=l&255,d[c]=r(a[c],f);for(c=15,m=15-a.length;m>0;)f=l>>8,d[c]=r(e[m],f),--c,--m,f=l&255,d[c]=r(a[c],f),--c,--m;return d}}(),pTe=function(e,t,n,i,r){r||(r=t),i||(i=SJ(e));var o,s;for(o=0;o!=t.length;++o)s=t[o],s^=i[n],s=(s>>5|s<<3)&255,r[o]=s,++n;return[r,n,i]},gTe=function(e){var t=0,n=SJ(e);return function(i){var r=pTe("",i,t,n);return t=r[1],r[0]}};function mTe(e,t,n,i){var r={key:eo(e),verificationBytes:eo(e)};return n.password&&(r.verifier=O6(n.password)),i.valid=r.verificationBytes===r.verifier,i.valid&&(i.insitu=gTe(n.password)),r}function vTe(e,t,n){var i=n||{};return i.Info=e.read_shift(2),e.l-=2,i.Info===1?i.Data=fTe(e,t):i.Data=hTe(e,t),i}function CTe(e,t,n){var i={Type:n.biff>=8?e.read_shift(2):0};return i.Type?vTe(e,t-2,i):mTe(e,n.biff>=8?t:t-2,n,i),i}var EJ=function(){function e(r,o){switch(o.type){case"base64":return t(el(r),o);case"binary":return t(r,o);case"buffer":return t(Mn&&Buffer.isBuffer(r)?r.toString("binary"):Vf(r),o);case"array":return t(Tg(r),o)}throw new Error("Unrecognized type "+o.type)}function t(r,o){var s=o||{},a=s.dense?[]:{},l=r.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,h){Array.isArray(a)&&(a[h]=[]);for(var f=/\\\w+\b/g,g=0,m,v=-1;m=f.exec(d);){switch(m[0]){case"\\cell":var C=d.slice(g,f.lastIndex-m[0].length);if(C[0]==" "&&(C=C.slice(1)),++v,C.length){var y={v:C,t:"s"};Array.isArray(a)?a[h][v]=y:a[qt({r:h,c:v})]=y}break}g=f.lastIndex}v>c.e.c&&(c.e.c=v)}),a["!ref"]=gn(c),a}function n(r,o){return Hf(e(r,o),o)}function i(r){for(var o=["{\\rtf1\\ansi"],s=Kn(r["!ref"]),a,l=Array.isArray(r),c=s.s.r;c<=s.e.r;++c){o.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)o.push("\\cellx"+(d+1));for(o.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var h=qt({r:c,c:d});a=l?(r[c]||[])[d]:r[h],!(!a||a.v==null&&(!a.f||a.F))&&(o.push(" "+(a.w||(th(a),a.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:i}}();function wTe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function p_(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function yTe(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=r-o;if(s===0)return[0,0,t];var a=0,l=0,c=r+o;switch(l=s/(c>1?2-c:c),r){case t:a=((n-i)/s+6)%6;break;case n:a=(i-t)/s+2;break;case i:a=(t-n)/s+4;break}return[a/6,l,c/2]}function bTe(e){var t=e[0],n=e[1],i=e[2],r=n*2*(i<.5?i:1-i),o=i-r/2,s=[o,o,o],a=6*t,l;if(n!==0)switch(a|0){case 0:case 6:l=r*a,s[0]+=r,s[1]+=l;break;case 1:l=r*(2-a),s[0]+=l,s[1]+=r;break;case 2:l=r*(a-2),s[1]+=r,s[2]+=l;break;case 3:l=r*(4-a),s[1]+=l,s[2]+=r;break;case 4:l=r*(a-4),s[2]+=r,s[0]+=l;break;case 5:l=r*(6-a),s[2]+=l,s[0]+=r;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function s2(e,t){if(t===0)return e;var n=yTe(wTe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),p_(bTe(n))}var DJ=6,_Te=15,xTe=1,_s=DJ;function g_(e){return Math.floor((e+Math.round(128/_s)/256)*_s)}function m_(e){return Math.floor((e-5)/_s*100+.5)/100}function a2(e){return Math.round((e*_s+5)/_s*256)/256}function V4(e){return a2(m_(g_(e)))}function L6(e){var t=Math.abs(e-V4(e)),n=_s;if(t>.005)for(_s=xTe;_s<_Te;++_s)Math.abs(e-V4(e))<=t&&(t=Math.abs(e-V4(e)),n=_s);_s=n}function Lf(e){e.width?(e.wpx=g_(e.width),e.wch=m_(e.wpx),e.MDW=_s):e.wpx?(e.wch=m_(e.wpx),e.width=a2(e.wch),e.MDW=_s):typeof e.wch=="number"&&(e.width=a2(e.wch),e.wpx=g_(e.width),e.MDW=_s),e.customWidth&&delete e.customWidth}var STe=96,RJ=STe;function v_(e){return e*96/RJ}function Yv(e){return e*RJ/96}var ETe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function DTe(e,t,n,i){t.Borders=[];var r={},o=!1;(e[0].match(Rs)||[]).forEach(function(s){var a=Yt(s);switch(Pd(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},a.diagonalUp&&(r.diagonalUp=ji(a.diagonalUp)),a.diagonalDown&&(r.diagonalDown=ji(a.diagonalDown)),t.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(i&&i.WTF&&!o)throw new Error("unrecognized "+a[0]+" in borders")}})}function RTe(e,t,n,i){t.Fills=[];var r={},o=!1;(e[0].match(Rs)||[]).forEach(function(s){var a=Yt(s);switch(Pd(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},t.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":a.patternType&&(r.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),a.indexed&&(r.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(r.bgColor.theme=parseInt(a.theme,10)),a.tint&&(r.bgColor.tint=parseFloat(a.tint)),a.rgb&&(r.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),a.theme&&(r.fgColor.theme=parseInt(a.theme,10)),a.tint&&(r.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(r.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(i&&i.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fills")}})}function TTe(e,t,n,i){t.Fonts=[];var r={},o=!1;(e[0].match(Rs)||[]).forEach(function(s){var a=Yt(s);switch(Pd(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(r),r={};break;case"<name":a.val&&(r.name=Si(a.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=a.val?ji(a.val):1;break;case"<b/>":r.bold=1;break;case"<i":r.italic=a.val?ji(a.val):1;break;case"<i/>":r.italic=1;break;case"<u":switch(a.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"<strike":r.strike=a.val?ji(a.val):1;break;case"<strike/>":r.strike=1;break;case"<outline":r.outline=a.val?ji(a.val):1;break;case"<outline/>":r.outline=1;break;case"<shadow":r.shadow=a.val?ji(a.val):1;break;case"<shadow/>":r.shadow=1;break;case"<condense":r.condense=a.val?ji(a.val):1;break;case"<condense/>":r.condense=1;break;case"<extend":r.extend=a.val?ji(a.val):1;break;case"<extend/>":r.extend=1;break;case"<sz":a.val&&(r.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(r.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(r.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(r.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=s6[parseInt(a.val,10)];break;case"<color":if(r.color||(r.color={}),a.auto&&(r.color.auto=ji(a.auto)),a.rgb)r.color.rgb=a.rgb.slice(-6);else if(a.indexed){r.color.index=parseInt(a.indexed,10);var l=xg[r.color.index];r.color.index==81&&(l=xg[1]),l||(l=xg[1]),r.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(r.color.theme=parseInt(a.theme,10),a.tint&&(r.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(r.color.rgb=s2(n.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":o=!0;break;case"</AlternateContent>":o=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":o=!0;break;case"</ext>":o=!1;break;default:if(i&&i.WTF&&!o)throw new Error("unrecognized "+a[0]+" in fonts")}})}function ITe(e,t,n){t.NumberFmt=[];for(var i=Ir(jt),r=0;r<i.length;++r)t.NumberFmt[i[r]]=jt[i[r]];var o=e[0].match(Rs);if(o)for(r=0;r<o.length;++r){var s=Yt(o[r]);switch(Pd(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=qn(Si(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}Ju(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function MTe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&(t[t.length]=it("numFmt",null,{numFmtId:i,formatCode:wi(e[i])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=it("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var qT=["numFmtId","fillId","fontId","borderId","xfId"],KT=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function FTe(e,t,n){t.CellXf=[];var i,r=!1;(e[0].match(Rs)||[]).forEach(function(o){var s=Yt(o),a=0;switch(Pd(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(i=s,delete i[0],a=0;a<qT.length;++a)i[qT[a]]&&(i[qT[a]]=parseInt(i[qT[a]],10));for(a=0;a<KT.length;++a)i[KT[a]]&&(i[KT[a]]=ji(i[KT[a]]));if(t.NumberFmt&&i.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[i.numFmtId]==t.NumberFmt[a]){i.numFmtId=a;break}}t.CellXf.push(i);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=ji(s.wrapText)),i.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(n&&n.WTF&&!r)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function ATe(e){var t=[];return t[t.length]=it("cellXfs",null),e.forEach(function(n){t[t.length]=it("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=it("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var kTe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,i=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,o=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var d={};if(!a)return d;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=a.match(t))&&ITe(h,d,c),(h=a.match(r))&&TTe(h,d,l,c),(h=a.match(i))&&RTe(h,d,l,c),(h=a.match(o))&&DTe(h,d,l,c),(h=a.match(n))&&FTe(h,d,c),d}}();function TJ(e,t){var n=[zr,it("styleSheet",null,{xmlns:kg[0],"xmlns:vt":uo.vt})],i;return e.SSF&&(i=MTe(e.SSF))!=null&&(n[n.length]=i),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=ATe(t.cellXfs))&&(n[n.length]=i),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function PTe(e,t){var n=e.read_shift(2),i=Es(e,t-2);return[n,i]}function OTe(e,t,n){n||(n=Re(6+4*t.length)),n.write_shift(2,e),Mo(t,n);var i=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),i}function LTe(e,t,n){var i={};i.sz=e.read_shift(2)/20;var r=vEe(e,2,n);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var o=e.read_shift(2);switch(o===700&&(i.bold=1),e.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(i.underline=s);var a=e.read_shift(1);a>0&&(i.family=a);var l=e.read_shift(1);switch(l>0&&(i.charset=l),e.l++,i.color=mEe(e,8),e.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Es(e,t-21),i}function NTe(e,t){t||(t=Re(25+4*32)),t.write_shift(2,e.sz*20),CEe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),i2(e.color,t);var i=0;return e.scheme=="major"&&(i=1),e.scheme=="minor"&&(i=2),t.write_shift(1,i),Mo(e.name,t),t.length>t.l?t.slice(0,t.l):t}var BTe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],H4,VTe=Ds;function $Z(e,t){t||(t=Re(4*3+8*7+16*1)),H4||(H4=h2(BTe));var n=H4[e.patternType];n==null&&(n=40),t.write_shift(4,n);var i=0;if(n!=40)for(i2({auto:1},t),i2({auto:1},t);i<12;++i)t.write_shift(4,0);else{for(;i<4;++i)t.write_shift(4,0);for(;i<12;++i)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function HTe(e,t){var n=e.l+t,i=e.read_shift(2),r=e.read_shift(2);return e.l=n,{ixfe:i,numFmtId:r}}function IJ(e,t,n){n||(n=Re(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var i=0;return n.write_shift(1,i),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Xb(e,t){return t||(t=Re(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var GTe=Ds;function zTe(e,t){return t||(t=Re(51)),t.write_shift(1,0),Xb(null,t),Xb(null,t),Xb(null,t),Xb(null,t),Xb(null,t),t.length>t.l?t.slice(0,t.l):t}function UTe(e,t){return t||(t=Re(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),n2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function WTe(e,t,n){var i=Re(2052);return i.write_shift(4,e),n2(t,i),n2(n,i),i.length>i.l?i.slice(0,i.l):i}function jTe(e,t,n){var i={};i.NumberFmt=[];for(var r in jt)i.NumberFmt[r]=jt[r];i.CellXf=[],i.Fonts=[];var o=[],s=!1;return ih(e,function(l,c,d){switch(d){case 44:i.NumberFmt[l[0]]=l[1],Ju(l[1],l[0]);break;case 43:i.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=s2(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:o[o.length-1]==617&&i.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(d),s=!0;break;case 38:o.pop(),s=!1;break;default:if(c.T>0)o.push(d);else if(c.T<0)o.pop();else if(!s||n.WTF&&o[o.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),i}function $Te(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&++n}),n!=0&&(Ue(e,615,Mc(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&Ue(e,44,OTe(r,t[r]))}),Ue(e,616))}}function qTe(e){var t=1;t!=0&&(Ue(e,611,Mc(t)),Ue(e,43,NTe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ue(e,612))}function KTe(e){var t=2;t!=0&&(Ue(e,603,Mc(t)),Ue(e,45,$Z({patternType:"none"})),Ue(e,45,$Z({patternType:"gray125"})),Ue(e,604))}function XTe(e){var t=1;t!=0&&(Ue(e,613,Mc(t)),Ue(e,46,zTe({})),Ue(e,614))}function YTe(e){var t=1;Ue(e,626,Mc(t)),Ue(e,47,IJ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ue(e,627)}function ZTe(e,t){Ue(e,617,Mc(t.length)),t.forEach(function(n){Ue(e,47,IJ(n,0))}),Ue(e,618)}function QTe(e){var t=1;Ue(e,619,Mc(t)),Ue(e,48,UTe({xfId:0,builtinId:0,name:"Normal"})),Ue(e,620)}function JTe(e){var t=0;Ue(e,505,Mc(t)),Ue(e,506)}function e2e(e){var t=0;Ue(e,508,WTe(t,"TableStyleMedium9","PivotStyleMedium4")),Ue(e,509)}function t2e(e,t){var n=Ia();return Ue(n,278),$Te(n,e.SSF),qTe(n,e),KTe(n,e),XTe(n,e),YTe(n,e),ZTe(n,t.cellXfs),QTe(n,e),JTe(n,e),e2e(n,e),Ue(n,279),n.end()}var n2e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function i2e(e,t,n){t.themeElements.clrScheme=[];var i={};(e[0].match(Rs)||[]).forEach(function(r){var o=Yt(r);switch(o[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=o.val;break;case"<a:sysClr":i.rgb=o.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":o[0].charAt(1)==="/"?(t.themeElements.clrScheme[n2e.indexOf(o[0])]=i,i={}):i.name=o[0].slice(3,o[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+o[0]+" in clrScheme")}})}function r2e(){}function o2e(){}var s2e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,a2e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,l2e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function c2e(e,t,n){t.themeElements={};var i;[["clrScheme",s2e,i2e],["fontScheme",a2e,r2e],["fmtScheme",l2e,o2e]].forEach(function(r){if(!(i=e.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](i,t,n)})}var d2e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function MJ(e,t){(!e||e.length===0)&&(e=N6());var n,i={};if(!(n=e.match(d2e)))throw new Error("themeElements not found in theme");return c2e(n[0],i,t),i.raw=e,i}function N6(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[zr];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',n[n.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',n[n.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',n[n.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function u2e(e,t,n){var i=e.l+t,r=e.read_shift(4);if(r!==124226){if(!n.cellStyles){e.l=i;return}var o=e.slice(e.l);e.l=i;var s;try{s=RQ(o,{type:"array"})}catch{return}var a=Ja(s,"theme/theme/theme1.xml",!0);if(a)return MJ(a,n)}}function h2e(e){return e.read_shift(4)}function f2e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=p2e(e,4);break;case 2:t.xclrValue=cJ(e,4);break;case 3:t.xclrValue=h2e(e,4);break;case 4:e.l+=4;break}return e.l+=8,t}function p2e(e,t){return Ds(e,t)}function g2e(e,t){return Ds(e,t)}function m2e(e){var t=e.read_shift(2),n=e.read_shift(2)-4,i=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=f2e(e,n);break;case 6:i[1]=g2e(e,n);break;case 14:case 15:i[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return i}function v2e(e,t){var n=e.l+t;e.l+=2;var i=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),o=[];r-- >0;)o.push(m2e(e,n-e.l));return{ixfe:i,ext:o}}function C2e(e,t){t.forEach(function(n){switch(n[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function w2e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Es(e,t-8)}}function y2e(e){var t=Re(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Mo(e.name,t),t.slice(0,t.l)}function b2e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function _2e(e){var t=Re(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function x2e(e,t){var n=Re(8+2*t.length);return n.write_shift(4,e),Mo(t,n),n.slice(0,n.l)}function S2e(e){return e.l+=4,e.read_shift(4)!=0}function E2e(e,t){var n=Re(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}function D2e(e,t,n){var i={Types:[],Cell:[],Value:[]},r=n||{},o=[],s=!1,a=2;return ih(e,function(l,c,d){switch(d){case 335:i.Types.push({name:l.name});break;case 51:l.forEach(function(h){a==1?i.Cell.push({type:i.Types[h[0]-1].name,index:h[1]}):a==0&&i.Value.push({type:i.Types[h[0]-1].name,index:h[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:o.push(d),s=!0;break;case 36:o.pop(),s=!1;break;default:if(!c.T){if(!s||r.WTF&&o[o.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),i}function R2e(){var e=Ia();return Ue(e,332),Ue(e,334,Mc(1)),Ue(e,335,y2e({name:"XLDAPR",version:12e4,flags:3496657072})),Ue(e,336),Ue(e,339,x2e(1,"XLDAPR")),Ue(e,52),Ue(e,35,Mc(514)),Ue(e,4096,Mc(0)),Ue(e,4097,Gl(1)),Ue(e,36),Ue(e,53),Ue(e,340),Ue(e,337,E2e(1,!0)),Ue(e,51,_2e([[1,0]])),Ue(e,338),Ue(e,333),e.end()}function T2e(e,t,n){var i={Types:[],Cell:[],Value:[]};if(!e)return i;var r=!1,o=2,s;return e.replace(Rs,function(a){var l=Yt(a);switch(Pd(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":i.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<i.Types.length;++c)i.Types[c].name==l.name&&(s=i.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":o==1?i.Cell.push({type:i.Types[l.t-1].name,index:+l.v}):o==0&&i.Value.push({type:i.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":o=1;break;case"</cellMetadata>":o=2;break;case"<valueMetadata":o=0;break;case"</valueMetadata>":o=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!r&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),i}function FJ(){var e=[zr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function I2e(e){var t=[];if(!e)return t;var n=1;return(e.match(Rs)||[]).forEach(function(i){var r=Yt(i);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r);break}}),t}function M2e(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=qt(n);var i=e.read_shift(1);return i&2&&(t.l="1"),i&8&&(t.a="1"),t}function F2e(e,t,n){var i=[],r=!1;return ih(e,function(s,a,l){switch(l){case 63:i.push(s);break;default:if(!a.T){if(!r||n.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}),i}function A2e(e,t,n,i){if(!e)return e;var r=i||{},o=!1,s=!1;ih(e,function(l,c,d){if(!s)switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:o=!0;break;case 36:o=!1;break;default:if(!c.T){if(!o||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},r)}function k2e(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}var zv=1024;function AJ(e,t){for(var n=[21600,21600],i=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),r=[it("xml",null,{"xmlns:v":Za.v,"xmlns:o":Za.o,"xmlns:x":Za.x,"xmlns:mv":Za.mv}).replace(/\/>/,">"),it("o:shapelayout",it("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),it("v:shapetype",[it("v:stroke",null,{joinstyle:"miter"}),it("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:i})];zv<e*1e3;)zv+=1e3;return t.forEach(function(o){var s=fr(o[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?it("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=it("v:fill",l,a),d={on:"t",obscured:"t"};++zv,r=r.concat(["<v:shape"+u_({id:"_x0000_s"+zv,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,it("v:shadow",null,d),it("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zo("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Zo("x:AutoFill","False"),Zo("x:Row",String(s.r)),Zo("x:Column",String(s.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function qZ(e,t,n,i){var r=Array.isArray(e),o;t.forEach(function(s){var a=fr(s.ref);if(r?(e[a.r]||(e[a.r]=[]),o=e[a.r][a.c]):o=e[s.ref],!o){o={t:"z"},r?e[a.r][a.c]=o:e[s.ref]=o;var l=Kn(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=gn(l);c!==e["!ref"]&&(e["!ref"]=c)}o.c||(o.c=[]);var d={a:s.author,t:s.t,r:s.r,T:n};s.h&&(d.h=s.h);for(var h=o.c.length-1;h>=0;--h){if(!n&&o.c[h].T)return;n&&!o.c[h].T&&o.c.splice(h,1)}if(n&&i){for(h=0;h<i.length;++h)if(d.a==i[h].id){d.a=i[h].name||d.a;break}}o.c.push(d)})}function P2e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],i=[],r=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var a=s.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var o=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return o&&o[1]&&o[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var a=s.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=Yt(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=fr(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!h&&!!h[1]&&P6(h[1])||{r:"",t:"",h:""};c.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),c.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=f.h),i.push(c)}}}}),i}function kJ(e){var t=[zr,it("comments",null,{xmlns:kg[0]})],n=[];return t.push("<authors>"),e.forEach(function(i){i[1].forEach(function(r){var o=wi(r.a);n.indexOf(o)==-1&&(n.push(o),t.push("<author>"+o+"</author>")),r.T&&r.ID&&n.indexOf("tc="+r.ID)==-1&&(n.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(i){var r=0,o=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=n.indexOf("tc="+i[1][0].ID):i[1].forEach(function(l){l.a&&(r=n.indexOf(wi(l.a))),o.push(l.t||"")}),t.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),o.length<=1)t.push(Zo("t",wi(o[0]||"")));else{for(var s=`Comment:
    `+o[0]+`
`,a=1;a<o.length;++a)s+=`Reply:
    `+o[a]+`
`;t.push(Zo("t",wi(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function O2e(e,t){var n=[],i=!1,r={},o=0;return e.replace(Rs,function(a,l){var c=Yt(a);switch(Pd(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":r.t!=null&&n.push(r);break;case"<text>":case"<text":o=l+a.length;break;case"</text>":r.t=e.slice(o,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":i=!0;break;case"</mentions>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function L2e(e,t,n){var i=[zr,it("ThreadedComments",null,{xmlns:uo.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(r){var o="";(r[1]||[]).forEach(function(s,a){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?o=l.id:l.parentId=o,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),i.push(it("threadedComment",Zo("text",s.t||""),l))})}),i.push("</ThreadedComments>"),i.join("")}function N2e(e,t){var n=[],i=!1;return e.replace(Rs,function(o){var s=Yt(o);switch(Pd(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return o}),n}function B2e(e){var t=[zr,it("personList",null,{xmlns:uo.TCMNT,"xmlns:x":kg[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,i){t.push(it("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function V2e(e){var t={};t.iauthor=e.read_shift(4);var n=Ng(e,16);return t.rfx=n.s,t.ref=qt(n.s),e.l+=16,t}function H2e(e,t){return t==null&&(t=Re(36)),t.write_shift(4,e[1].iauthor),tC(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var G2e=Es;function z2e(e){return Mo(e.slice(0,54))}function U2e(e,t){var n=[],i=[],r={},o=!1;return ih(e,function(a,l,c){switch(c){case 632:i.push(a);break;case 635:r=a;break;case 637:r.t=a.t,r.h=a.h,r.r=a.r;break;case 636:if(r.author=i[r.iauthor],delete r.iauthor,t.sheetRows&&r.rfx&&t.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,n.push(r);break;case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!o||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function W2e(e){var t=Ia(),n=[];return Ue(t,628),Ue(t,630),e.forEach(function(i){i[1].forEach(function(r){n.indexOf(r.a)>-1||(n.push(r.a.slice(0,54)),Ue(t,632,z2e(r.a)))})}),Ue(t,631),Ue(t,633),e.forEach(function(i){i[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var o={s:fr(i[0]),e:fr(i[0])};Ue(t,635,H2e([o,r])),r.t&&r.t.length>0&&Ue(t,637,hEe(r)),Ue(t,636),delete r.iauthor})}),Ue(t,634),Ue(t,629),t.end()}var j2e="application/vnd.ms-office.vbaProject";function $2e(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,i){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var r=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,r,e.FileIndex[i].content)}}),Pt.write(t)}function q2e(e,t){t.FullPaths.forEach(function(n,i){if(i!=0){var r=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Pt.utils.cfb_add(e,r,t.FileIndex[i].content)}})}var PJ=["xlsb","xlsm","xlam","biff8","xla"];function K2e(){return{"!type":"dialog"}}function X2e(){return{"!type":"dialog"}}function Y2e(){return{"!type":"macro"}}function Z2e(){return{"!type":"macro"}}var jv=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(i,r,o,s){var a=!1,l=!1;o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1)),s.length==0?a=!0:s.charAt(0)=="["&&(a=!0,s=s.slice(1,-1));var c=o.length>0?parseInt(o,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return a?d+=t.c:--d,l?c+=t.r:--c,r+(a?"":"$")+hr(d)+(l?"":"$")+Gr(c)}return function(r,o){return t=o,r.replace(e,n)}}(),B6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,V6=function(){return function(t,n){return t.replace(B6,function(i,r,o,s,a,l){var c=E6(s)-(o?0:n.c),d=S6(l)-(a?0:n.r),h=d==0?"":a?d+1:"["+d+"]",f=c==0?"":o?c+1:"["+c+"]";return r+"R"+h+"C"+f})}}();function OJ(e,t){return e.replace(B6,function(n,i,r,o,s,a){return i+(r=="$"?r+o:hr(E6(o)+t.c))+(s=="$"?s+a:Gr(S6(a)+t.r))})}function Q2e(e,t,n){var i=Ma(t),r=i.s,o=fr(n),s={r:o.r-r.r,c:o.c-r.c};return OJ(e,s)}function J2e(e){return e.length!=1}function KZ(e){return e.replace(/_xlfn\./g,"")}function Qr(e){e.l+=1}function Nf(e,t){var n=e.read_shift(t==1?1:2);return[n&16383,n>>14&1,n>>15&1]}function LJ(e,t,n){var i=2;if(n){if(n.biff>=2&&n.biff<=5)return NJ(e,t,n);n.biff==12&&(i=4)}var r=e.read_shift(i),o=e.read_shift(i),s=Nf(e,2),a=Nf(e,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:o,c:a[0],cRel:a[1],rRel:a[2]}}}function NJ(e){var t=Nf(e,2),n=Nf(e,2),i=e.read_shift(1),r=e.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:n[0],c:r,cRel:n[1],rRel:n[2]}}}function eIe(e,t,n){if(n.biff<8)return NJ(e,t,n);var i=e.read_shift(n.biff==12?4:2),r=e.read_shift(n.biff==12?4:2),o=Nf(e,2),s=Nf(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r,c:s[0],cRel:s[1],rRel:s[2]}}}function BJ(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return tIe(e,t,n);var i=e.read_shift(n&&n.biff==12?4:2),r=Nf(e,2);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function tIe(e){var t=Nf(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function nIe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function iIe(e,t,n){var i=n&&n.biff?n.biff:8;if(i>=2&&i<=5)return rIe(e,t,n);var r=e.read_shift(i>=12?4:2),o=e.read_shift(2),s=(o&16384)>>14,a=(o&32768)>>15;if(o&=16383,a==1)for(;r>524287;)r-=1048576;if(s==1)for(;o>8191;)o=o-16384;return{r,c:o,cRel:s,rRel:a}}function rIe(e){var t=e.read_shift(2),n=e.read_shift(1),i=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,i==1&&t>=8192&&(t=t-16384),r==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:r,rRel:i}}function oIe(e,t,n){var i=(e[e.l++]&96)>>5,r=LJ(e,n.biff>=2&&n.biff<=5?6:8,n);return[i,r]}function sIe(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}var s=LJ(e,o,n);return[i,r,s]}function aIe(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[i]}function lIe(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12;break}return e.l+=o,[i,r]}function cIe(e,t,n){var i=(e[e.l++]&96)>>5,r=eIe(e,t-1,n);return[i,r]}function dIe(e,t,n){var i=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[i]}function XZ(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function uIe(e,t,n){e.l+=2;for(var i=e.read_shift(n&&n.biff==2?1:2),r=[],o=0;o<=i;++o)r.push(e.read_shift(n&&n.biff==2?1:2));return r}function hIe(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function fIe(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=2,[i,e.read_shift(n&&n.biff==2?1:2)]}function pIe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function gIe(e,t,n){var i=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[i]}function VJ(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function mIe(e){return e.read_shift(2),VJ(e,2)}function vIe(e){return e.read_shift(2),VJ(e,2)}function CIe(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=BJ(e,0,n);return[i,r]}function wIe(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=iIe(e,0,n);return[i,r]}function yIe(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var o=BJ(e,0,n);return[i,r,o]}function bIe(e,t,n){var i=(e[e.l]&96)>>5;e.l+=1;var r=e.read_shift(n&&n.biff<=3?1:2);return[SMe[r],zJ[r],i]}function _Ie(e,t,n){var i=e[e.l++],r=e.read_shift(1),o=n&&n.biff<=3?[i==88?-1:0,e.read_shift(1)]:xIe(e);return[r,(o[0]===0?zJ:xMe)[o[1]]]}function xIe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function SIe(e,t,n){e.l+=n&&n.biff==2?3:4}function EIe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var i=e.read_shift(2),r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function DIe(e){return e.l++,rh[e.read_shift(1)]}function RIe(e){return e.l++,e.read_shift(2)}function TIe(e){return e.l++,e.read_shift(1)!==0}function IIe(e){return e.l++,xs(e,8)}function MIe(e,t,n){return e.l++,__(e,t-1,n)}function FIe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Hr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=rh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=xs(e,8);break;case 2:n[1]=Bg(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function AIe(e,t,n){for(var i=e.read_shift(n.biff==12?4:2),r=[],o=0;o!=i;++o)r.push((n.biff==12?Ng:m2)(e,8));return r}function kIe(e,t,n){var i=0,r=0;n.biff==12?(i=e.read_shift(4),r=e.read_shift(4)):(r=1+e.read_shift(1),i=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--i,--r==0&&(r=256));for(var o=0,s=[];o!=i&&(s[o]=[]);++o)for(var a=0;a!=r;++a)s[o][a]=FIe(e,n.biff);return s}function PIe(e,t,n){var i=e.read_shift(1)>>>5&3,r=!n||n.biff>=8?4:2,o=e.read_shift(r);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[i,0,o]}function OIe(e,t,n){if(n.biff==5)return LIe(e,t,n);var i=e.read_shift(1)>>>5&3,r=e.read_shift(2),o=e.read_shift(4);return[i,r,o]}function LIe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var i=e.read_shift(2);return e.l+=12,[t,n,i]}function NIe(e,t,n){var i=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function BIe(e,t,n){var i=e.read_shift(1)>>>5&3,r=e.read_shift(n&&n.biff==2?1:2);return[i,r]}function VIe(e,t,n){var i=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[i]}function HIe(e,t,n){var i=(e[e.l++]&96)>>5,r=e.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return e.l+=o,[i,r]}var GIe=Ds,zIe=Ds,UIe=Ds;function S_(e,t,n){return e.l+=2,[nIe(e,4,n)]}function H6(e){return e.l+=6,[]}var WIe=S_,jIe=H6,$Ie=H6,qIe=S_;function HJ(e){return e.l+=2,[eo(e),e.read_shift(2)&1]}var KIe=S_,XIe=HJ,YIe=H6,ZIe=S_,QIe=S_,JIe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eMe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(4),r=e.read_shift(2),o=e.read_shift(2),s=JIe[n>>2&31];return{ixti:t,coltype:n&3,rt:s,idx:i,c:r,C:o}}function tMe(e){return e.l+=2,[e.read_shift(4)]}function nMe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function iMe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function rMe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function oMe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function sMe(e){return e.l+=4,[0,0]}var YZ={1:{n:"PtgExp",f:EIe},2:{n:"PtgTbl",f:UIe},3:{n:"PtgAdd",f:Qr},4:{n:"PtgSub",f:Qr},5:{n:"PtgMul",f:Qr},6:{n:"PtgDiv",f:Qr},7:{n:"PtgPower",f:Qr},8:{n:"PtgConcat",f:Qr},9:{n:"PtgLt",f:Qr},10:{n:"PtgLe",f:Qr},11:{n:"PtgEq",f:Qr},12:{n:"PtgGe",f:Qr},13:{n:"PtgGt",f:Qr},14:{n:"PtgNe",f:Qr},15:{n:"PtgIsect",f:Qr},16:{n:"PtgUnion",f:Qr},17:{n:"PtgRange",f:Qr},18:{n:"PtgUplus",f:Qr},19:{n:"PtgUminus",f:Qr},20:{n:"PtgPercent",f:Qr},21:{n:"PtgParen",f:Qr},22:{n:"PtgMissArg",f:Qr},23:{n:"PtgStr",f:MIe},26:{n:"PtgSheet",f:nMe},27:{n:"PtgEndSheet",f:iMe},28:{n:"PtgErr",f:DIe},29:{n:"PtgBool",f:TIe},30:{n:"PtgInt",f:RIe},31:{n:"PtgNum",f:IIe},32:{n:"PtgArray",f:dIe},33:{n:"PtgFunc",f:bIe},34:{n:"PtgFuncVar",f:_Ie},35:{n:"PtgName",f:PIe},36:{n:"PtgRef",f:CIe},37:{n:"PtgArea",f:oIe},38:{n:"PtgMemArea",f:NIe},39:{n:"PtgMemErr",f:GIe},40:{n:"PtgMemNoMem",f:zIe},41:{n:"PtgMemFunc",f:BIe},42:{n:"PtgRefErr",f:VIe},43:{n:"PtgAreaErr",f:aIe},44:{n:"PtgRefN",f:wIe},45:{n:"PtgAreaN",f:cIe},46:{n:"PtgMemAreaN",f:rMe},47:{n:"PtgMemNoMemN",f:oMe},57:{n:"PtgNameX",f:OIe},58:{n:"PtgRef3d",f:yIe},59:{n:"PtgArea3d",f:sIe},60:{n:"PtgRefErr3d",f:HIe},61:{n:"PtgAreaErr3d",f:lIe},255:{}},aMe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lMe={1:{n:"PtgElfLel",f:HJ},2:{n:"PtgElfRw",f:ZIe},3:{n:"PtgElfCol",f:WIe},6:{n:"PtgElfRwV",f:QIe},7:{n:"PtgElfColV",f:qIe},10:{n:"PtgElfRadical",f:KIe},11:{n:"PtgElfRadicalS",f:YIe},13:{n:"PtgElfColS",f:jIe},15:{n:"PtgElfColSV",f:$Ie},16:{n:"PtgElfRadicalLel",f:XIe},25:{n:"PtgList",f:eMe},29:{n:"PtgSxName",f:tMe},255:{}},cMe={0:{n:"PtgAttrNoop",f:sMe},1:{n:"PtgAttrSemi",f:gIe},2:{n:"PtgAttrIf",f:fIe},4:{n:"PtgAttrChoose",f:uIe},8:{n:"PtgAttrGoto",f:hIe},16:{n:"PtgAttrSum",f:SIe},32:{n:"PtgAttrBaxcel",f:XZ},33:{n:"PtgAttrBaxcel",f:XZ},64:{n:"PtgAttrSpace",f:mIe},65:{n:"PtgAttrSpaceSemi",f:vIe},128:{n:"PtgAttrIfError",f:pIe},255:{}};function E_(e,t,n,i){if(i.biff<8)return Ds(e,t);for(var r=e.l+t,o=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=kIe(e,0,i),o.push(n[s][1]);break;case"PtgMemArea":n[s][2]=AIe(e,n[s][1],i),o.push(n[s][2]);break;case"PtgExp":i&&i.biff==12&&(n[s][1][1]=e.read_shift(4),o.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0];default:break}return t=r-e.l,t!==0&&o.push(Ds(e,t)),o}function D_(e,t,n){for(var i=e.l+t,r,o,s=[];i!=e.l;)t=i-e.l,o=e[e.l],r=YZ[o]||YZ[aMe[o]],(o===24||o===25)&&(r=(o===24?lMe:cMe)[e[e.l+1]]),!r||!r.f?Ds(e,t):s.push([r.n,r.f(e,t,n)]);return s}function dMe(e){for(var t=[],n=0;n<e.length;++n){for(var i=e[n],r=[],o=0;o<i.length;++o){var s=i[o];if(s)switch(s[0]){case 2:r.push('"'+s[1].replace(/"/g,'""')+'"');break;default:r.push(s[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var uMe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hMe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function GJ(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var i=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!i)return"SH33TJSERR1";var r="";if(n.biff>8)switch(e[i[0]][0]){case 357:return r=i[1]==-1?"#REF":e.SheetNames[i[1]],i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[i[0]][0];case 355:default:return"SH33TJSSRC"+e[i[0]][0]}switch(e[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":e.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+e.SheetNames[i[2]];case 14849:return e[i[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return e[i[0]][0][3]?(r=i[1]==-1?"#REF":e[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+e[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function ZZ(e,t,n){var i=GJ(e,t,n);return i=="#REF"?i:hMe(i,n)}function bs(e,t,n,i,r){var o=r&&r.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},a=[],l,c,d,h=0,f=0,g,m="";if(!e[0]||!e[0][0])return"";for(var v=-1,C="",y=0,x=e[0].length;y<x;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),v>=0){switch(e[0][v][1][0]){case 0:C=Dr(" ",e[0][v][1][1]);break;case 1:C=Dr("\r",e[0][v][1][1]);break;default:if(C="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+C,v=-1}a.push(c+uMe[_[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=e_(_[1][1],s,r),a.push(t_(d,o));break;case"PtgRefN":d=n?e_(_[1][1],n,r):_[1][1],a.push(t_(d,o));break;case"PtgRef3d":h=_[1][1],d=e_(_[1][2],s,r),m=ZZ(i,h,r);var R=m;a.push(m+"!"+t_(d,o));break;case"PtgFunc":case"PtgFuncVar":var I=_[1][0],F=_[1][1];I||(I=0),I&=127;var T=I==0?[]:a.slice(-I);a.length-=I,F==="User"&&(F=T.shift()),a.push(F+"("+T.join(",")+")");break;case"PtgBool":a.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(_[1]);break;case"PtgNum":a.push(String(_[1]));break;case"PtgStr":a.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(_[1]);break;case"PtgAreaN":g=DZ(_[1][1],n?{s:n}:s,r),a.push(L4(g,r));break;case"PtgArea":g=DZ(_[1][1],s,r),a.push(L4(g,r));break;case"PtgArea3d":h=_[1][1],g=_[1][2],m=ZZ(i,h,r),a.push(m+"!"+L4(g,r));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=_[1][2];var P=(i.names||[])[f-1]||(i[0]||[])[f],L=P?P.Name:"SH33TJSNAME"+String(f);L&&L.slice(0,6)=="_xlfn."&&!r.xlfn&&(L=L.slice(6)),a.push(L);break;case"PtgNameX":var U=_[1][1];f=_[1][2];var W;if(r.biff<=5)U<0&&(U=-U),i[U]&&(W=i[U][f]);else{var X="";if(((i[U]||[])[0]||[])[0]==14849||(((i[U]||[])[0]||[])[0]==1025?i[U][f]&&i[U][f].itab>0&&(X=i.SheetNames[i[U][f].itab-1]+"!"):X=i.SheetNames[f-1]+"!"),i[U]&&i[U][f])X+=i[U][f].Name;else if(i[0]&&i[0][f])X+=i[0][f].Name;else{var oe=(GJ(i,U,r)||"").split(";;");oe[f-1]?X=oe[f-1]:X+="SH33TJSERRX"}a.push(X);break}W||(W={Name:"SH33TJSERRY"}),a.push(W.Name);break;case"PtgParen":var Ie="(",ae=")";if(v>=0){switch(C="",e[0][v][1][0]){case 2:Ie=Dr(" ",e[0][v][1][1])+Ie;break;case 3:Ie=Dr("\r",e[0][v][1][1])+Ie;break;case 4:ae=Dr(" ",e[0][v][1][1])+ae;break;case 5:ae=Dr("\r",e[0][v][1][1])+ae;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}a.push(Ie+a.pop()+ae);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var Le={c:n.c,r:n.r};if(i.sharedf[qt(d)]){var Se=i.sharedf[qt(d)];a.push(bs(Se,s,Le,i,r))}else{var Ge=!1;for(l=0;l!=i.arrayf.length;++l)if(c=i.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){a.push(bs(c[1],s,Le,i,r)),Ge=!0;break}Ge||a.push(_[1])}break;case"PtgArray":a.push("{"+dMe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&v>=0&&be.indexOf(e[0][y][0])==-1){_=e[0][v];var Ae=!0;switch(_[1][0]){case 4:Ae=!1;case 0:C=Dr(" ",_[1][1]);break;case 5:Ae=!1;case 1:C=Dr("\r",_[1][1]);break;default:if(C="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}a.push((Ae?C:"")+a.pop()+(Ae?"":C)),v=-1}}if(a.length>1&&r.WTF)throw new Error("bad formula stack");return a[0]}function fMe(e,t,n){var i=e.l+t,r=n.biff==2?1:2,o,s=e.read_shift(r);if(s==65535)return[[],Ds(e,t-2)];var a=D_(e,s,n);return t!==s+r&&(o=E_(e,t-s-r,a,n)),e.l=i,[a,o]}function pMe(e,t,n){var i=e.l+t,r=n.biff==2?1:2,o,s=e.read_shift(r);if(s==65535)return[[],Ds(e,t-2)];var a=D_(e,s,n);return t!==s+r&&(o=E_(e,t-s-r,a,n)),e.l=i,[a,o]}function gMe(e,t,n,i){var r=e.l+t,o=D_(e,i,n),s;return r!==e.l&&(s=E_(e,r-e.l,o,n)),[o,s]}function mMe(e,t,n){var i=e.l+t,r,o=e.read_shift(2),s=D_(e,o,n);return o==65535?[[],Ds(e,t-2)]:(t!==o+2&&(r=E_(e,i-o-2,s,n)),[s,r])}function vMe(e){var t;if(Zu(e,e.l+6)!==65535)return[xs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function CMe(e){if(e==null){var t=Re(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Ig(e);return Ig(0)}function G4(e,t,n){var i=e.l+t,r=Od(e,6);n.biff==2&&++e.l;var o=vMe(e,8),s=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=pMe(e,i-e.l,n);return{cell:r,val:o[0],formula:a,shared:s>>3&1,tt:o[1]}}function wMe(e,t,n,i,r){var o=Fg(t,n,r),s=CMe(e.v),a=Re(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Re(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var h=Io([o,s,a,c]);return h}function v2(e,t,n){var i=e.read_shift(4),r=D_(e,i,n),o=e.read_shift(4),s=o>0?E_(e,o,r,n):null;return[r,s]}var yMe=v2,C2=v2,bMe=v2,_Me=v2,xMe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},zJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},SMe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function QZ(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function EMe(e){var t="of:="+e.replace(B6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function z4(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function DMe(e){return e.replace(/\./,"!")}var i_={},$v={},r_=typeof Map<"u";function G6(e,t,n){var i=0,r=e.length;if(n){if(r_?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var o=r_?n.get(t):n[t];i<o.length;++i)if(e[o[i]].t===t)return e.Count++,o[i]}}else for(;i<r;++i)if(e[i].t===t)return e.Count++,i;return e[r]={t},e.Count++,e.Unique++,n&&(r_?(n.has(t)||n.set(t,[]),n.get(t).push(r)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(r))),r}function w2(e,t){var n={min:e+1,max:e+1},i=-1;return t.MDW&&(_s=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?i=m_(t.wpx):t.wch!=null&&(i=t.wch),i>-1?(n.width=a2(i),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function Dg(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Gf(e,t,n){var i=n.revssf[t.z!=null?t.z:"General"],r=60,o=e.length;if(i==null&&n.ssf){for(;r<392;++r)if(n.ssf[r]==null){Ju(t.z,r),n.ssf[r]=t.z,n.revssf[t.z]=i=r;break}}for(r=0;r!=o;++r)if(e[r].numFmtId===i)return r;return e[o]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function UJ(e,t,n,i,r,o){try{i.cellNF&&(e.z=jt[t])}catch(a){if(i.WTF)throw a}if(!(e.t==="z"&&!i.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=$i(e.v)),(!i||i.cellText!==!1)&&e.t!=="z")try{if(jt[t]==null&&Ju(xSe[t]||"General",t),e.t==="e")e.w=e.w||rh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=c_(e.v);else if(e.t==="d"){var s=ho(e.v);(s|0)===s?e.w=s.toString(10):e.w=c_(s)}else{if(e.v===void 0)return"";e.w=Rg(e.v,$v)}else e.t==="d"?e.w=Ul(t,ho(e.v),$v):e.w=Ul(t,e.v,$v)}catch(a){if(i.WTF)throw a}if(i.cellStyles&&n!=null)try{e.s=o.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=s2(r.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),i.WTF&&(e.s.fgColor.raw_rgb=r.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=s2(r.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),i.WTF&&(e.s.bgColor.raw_rgb=r.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(i.WTF&&o.Fills)throw a}}}function RMe(e,t,n){if(e&&e["!ref"]){var i=Kn(e["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function TMe(e,t){var n=Kn(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=gn(n))}var IMe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,MMe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,FMe=/<(?:\w:)?hyperlink [^>]*>/mg,AMe=/"(\w*:\w*)"/,kMe=/<(?:\w:)?col\b[^>]*[\/]?>/g,PMe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,OMe=/<(?:\w:)?pageMargins[^>]*\/>/g,WJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,LMe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,NMe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function BMe(e,t,n,i,r,o,s){if(!e)return e;i||(i={"!id":{}}),Tr!=null&&t.dense==null&&(t.dense=Tr);var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",h=e.match(MMe);h?(c=e.slice(0,h.index),d=e.slice(h.index+h[0].length)):c=d=e;var f=c.match(WJ);f?z6(f[0],a,r,n):(f=c.match(LMe))&&HMe(f[0],f[1]||"",a,r,n,s,o);var g=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var m=c.slice(g,g+50).match(AMe);m&&TMe(a,m[1])}var v=c.match(NMe);v&&v[1]&&JMe(v[1],r);var C=[];if(t.cellStyles){var y=c.match(kMe);y&&KMe(C,y)}h&&nFe(h[1],a,t,l,o,s);var x=d.match(PMe);x&&(a["!autofilter"]=YMe(x[0]));var _=[],R=d.match(IMe);if(R)for(g=0;g!=R.length;++g)_[g]=Kn(R[g].slice(R[g].indexOf('"')+1));var I=d.match(FMe);I&&jMe(a,I,i);var F=d.match(OMe);if(F&&(a["!margins"]=$Me(Yt(F[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=gn(l)),t.sheetRows>0&&a["!ref"]){var T=Kn(a["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),a["!fullref"]=a["!ref"],a["!ref"]=gn(T))}return C.length>0&&(a["!cols"]=C),_.length>0&&(a["!merges"]=_),a}function VMe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+gn(e[n])+'"/>';return t+"</mergeCells>"}function z6(e,t,n,i){var r=Yt(e);n.Sheets[i]||(n.Sheets[i]={}),r.codeName&&(n.Sheets[i].CodeName=qn(Si(r.codeName)))}function HMe(e,t,n,i,r){z6(e.slice(0,e.indexOf(">")),n,i,r)}function GMe(e,t,n,i,r){var o=!1,s={},a=null;if(i.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}o=!0,s.codeName=Ad(wi(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+it("outlinePr",null,c)}!o&&!a||(r[r.length]=it("sheetPr",a,s))}var zMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],UMe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WMe(e){var t={sheet:1};return zMe.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),UMe.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=O6(e.password).toString(16).toUpperCase()),it("sheetProtection",null,t)}function jMe(e,t,n){for(var i=Array.isArray(e),r=0;r!=t.length;++r){var o=Yt(Si(t[r]),!0);if(!o.ref)return;var s=((n||{})["!id"]||[])[o.id];s?(o.Target=s.Target,o.location&&(o.Target+="#"+qn(o.location))):(o.Target="#"+qn(o.location),s={Target:o.Target,TargetMode:"Internal"}),o.Rel=s,o.tooltip&&(o.Tooltip=o.tooltip,delete o.tooltip);for(var a=Kn(o.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=qt({c,r:l});i?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=o):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=o)}}}function $Me(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function qMe(e){return Dg(e),it("pageMargins",null,e)}function KMe(e,t){for(var n=!1,i=0;i!=t.length;++i){var r=Yt(t[i],!0);r.hidden&&(r.hidden=ji(r.hidden));var o=parseInt(r.min,10)-1,s=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!n&&r.width&&(n=!0,L6(r.width)),Lf(r);o<=s;)e[o++]=qi(r)}}function XMe(e,t){for(var n=["<cols>"],i,r=0;r!=t.length;++r)(i=t[r])&&(n[n.length]=it("col",null,w2(r,i)));return n[n.length]="</cols>",n.join("")}function YMe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function ZMe(e,t,n,i){var r=typeof e.ref=="string"?e.ref:gn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=Ma(r);s.s.r==s.e.r&&(s.e.r=Ma(t["!ref"]).e.r,r=gn(s));for(var a=0;a<o.length;++a){var l=o[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==i){l.Ref="'"+n.SheetNames[i]+"'!"+r;break}}return a==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+r}),it("autoFilter",null,{ref:r})}var QMe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function JMe(e,t){t.Views||(t.Views=[{}]),(e.match(QMe)||[]).forEach(function(n,i){var r=Yt(n);t.Views[i]||(t.Views[i]={}),+r.zoomScale&&(t.Views[i].zoom=+r.zoomScale),ji(r.rightToLeft)&&(t.Views[i].RTL=!0)})}function eFe(e,t,n,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),it("sheetViews",it("sheetView",null,r),{})}function tFe(e,t,n,i){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var r="",o=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":r=e.v?"1":"0";break;case"n":r=""+e.v;break;case"e":r=rh[e.v];break;case"d":i&&i.cellDates?r=$i(e.v,-1).toISOString():(e=qi(e),e.t="n",r=""+(e.v=ho($i(e.v)))),typeof e.z>"u"&&(e.z=jt[14]);break;default:r=e.v;break}var a=Zo("v",wi(r)),l={r:t},c=Gf(i.cellXfs,e,i);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){a=Zo("v",""+G6(i.Strings,e.v,i.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=o&&(e.t=o,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=it("f",wi(e.f),d)+(e.v!=null?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),it("c",a,l)}var nFe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,i=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,r=/ref=["']([^"']*)["']/,o=d_("v"),s=d_("f");return function(l,c,d,h,f,g){for(var m=0,v="",C=[],y=[],x=0,_=0,R=0,I="",F,T,P=0,L=0,U,W,X=0,oe=0,Ie=Array.isArray(g.CellXf),ae,Le=[],Se=[],Ge=Array.isArray(c),be=[],Ae={},he=!1,N=!!d.sheetStubs,ne=l.split(t),Q=0,Z=ne.length;Q!=Z;++Q){v=ne[Q].trim();var le=v.length;if(le!==0){var ke=0;e:for(m=0;m<le;++m)switch(v[m]){case">":if(v[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(T=Yt(v.slice(ke,m),!0),P=T.r!=null?parseInt(T.r,10):P+1,L=-1,d.sheetRows&&d.sheetRows<P)continue;Ae={},he=!1,T.ht&&(he=!0,Ae.hpt=parseFloat(T.ht),Ae.hpx=Yv(Ae.hpt)),T.hidden=="1"&&(he=!0,Ae.hidden=!0),T.outlineLevel!=null&&(he=!0,Ae.level=+T.outlineLevel),he&&(be[P-1]=Ae)}break;case"<":ke=m;break}if(ke>=m)break;if(T=Yt(v.slice(ke,m),!0),P=T.r!=null?parseInt(T.r,10):P+1,L=-1,!(d.sheetRows&&d.sheetRows<P)){h.s.r>P-1&&(h.s.r=P-1),h.e.r<P-1&&(h.e.r=P-1),d&&d.cellStyles&&(Ae={},he=!1,T.ht&&(he=!0,Ae.hpt=parseFloat(T.ht),Ae.hpx=Yv(Ae.hpt)),T.hidden=="1"&&(he=!0,Ae.hidden=!0),T.outlineLevel!=null&&(he=!0,Ae.level=+T.outlineLevel),he&&(be[P-1]=Ae)),C=v.slice(m).split(e);for(var ze=0;ze!=C.length&&C[ze].trim().charAt(0)=="<";++ze);for(C=C.slice(ze),m=0;m!=C.length;++m)if(v=C[m].trim(),v.length!==0){if(y=v.match(n),x=m,_=0,R=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,y!=null&&y.length===2){for(x=0,I=y[1],_=0;_!=I.length&&!((R=I.charCodeAt(_)-64)<1||R>26);++_)x=26*x+R;--x,L=x}else++L;for(_=0;_!=v.length&&v.charCodeAt(_)!==62;++_);if(++_,T=Yt(v.slice(0,_),!0),T.r||(T.r=qt({r:P-1,c:L})),I=v.slice(_),F={t:""},(y=I.match(o))!=null&&y[1]!==""&&(F.v=qn(y[1])),d.cellFormula){if((y=I.match(s))!=null&&y[1]!==""){if(F.f=qn(Si(y[1])).replace(/\r\n/g,`
`),d.xlfn||(F.f=KZ(F.f)),y[0].indexOf('t="array"')>-1)F.F=(I.match(r)||[])[1],F.F.indexOf(":")>-1&&Le.push([Kn(F.F),F.F]);else if(y[0].indexOf('t="shared"')>-1){W=Yt(y[0]);var Be=qn(Si(y[1]));d.xlfn||(Be=KZ(Be)),Se[parseInt(W.si,10)]=[W,Be,T.r]}}else(y=I.match(/<f[^>]*\/>/))&&(W=Yt(y[0]),Se[W.si]&&(F.f=Q2e(Se[W.si][1],Se[W.si][2],T.r)));var ve=fr(T.r);for(_=0;_<Le.length;++_)ve.r>=Le[_][0].s.r&&ve.r<=Le[_][0].e.r&&ve.c>=Le[_][0].s.c&&ve.c<=Le[_][0].e.c&&(F.F=Le[_][1])}if(T.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(N)F.t="z";else continue;else F.t=T.t||"n";switch(h.s.c>L&&(h.s.c=L),h.e.c<L&&(h.e.c=L),F.t){case"n":if(F.v==""||F.v==null){if(!N)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!N)continue;F.t="z"}else U=i_[parseInt(F.v,10)],F.v=U.t,F.r=U.r,d.cellHTML&&(F.h=U.h);break;case"str":F.t="s",F.v=F.v!=null?Si(F.v):"",d.cellHTML&&(F.h=m6(F.v));break;case"inlineStr":y=I.match(i),F.t="s",y!=null&&(U=P6(y[1]))?(F.v=U.t,d.cellHTML&&(F.h=U.h)):F.v="";break;case"b":F.v=ji(F.v);break;case"d":d.cellDates?F.v=$i(F.v,1):(F.v=ho($i(F.v,1)),F.t="n");break;case"e":(!d||d.cellText!==!1)&&(F.w=F.v),F.v=$Q[F.v];break}if(X=oe=0,ae=null,Ie&&T.s!==void 0&&(ae=g.CellXf[T.s],ae!=null&&(ae.numFmtId!=null&&(X=ae.numFmtId),d.cellStyles&&ae.fillId!=null&&(oe=ae.fillId))),UJ(F,X,oe,d,f,g),d.cellDates&&Ie&&F.t=="n"&&Zv(jt[X])&&(F.t="d",F.v=p2(F.v)),T.cm&&d.xlmeta){var St=(d.xlmeta.Cell||[])[+T.cm-1];St&&St.type=="XLDAPR"&&(F.D=!0)}if(Ge){var Y=fr(T.r);c[Y.r]||(c[Y.r]=[]),c[Y.r][Y.c]=F}else c[T.r]=F}}}}be.length>0&&(c["!rows"]=be)}}();function iFe(e,t,n,i){var r=[],o=[],s=Kn(e["!ref"]),a="",l,c="",d=[],h=0,f=0,g=e["!rows"],m=Array.isArray(e),v={r:c},C,y=-1;for(f=s.s.c;f<=s.e.c;++f)d[f]=hr(f);for(h=s.s.r;h<=s.e.r;++h){for(o=[],c=Gr(h),f=s.s.c;f<=s.e.c;++f){l=d[f]+c;var x=m?(e[h]||[])[f]:e[l];x!==void 0&&(a=tFe(x,l,e,t,n,i))!=null&&o.push(a)}(o.length>0||g&&g[h])&&(v={r:c},g&&g[h]&&(C=g[h],C.hidden&&(v.hidden=1),y=-1,C.hpx?y=v_(C.hpx):C.hpt&&(y=C.hpt),y>-1&&(v.ht=y,v.customHeight=1),C.level&&(v.outlineLevel=C.level)),r[r.length]=it("row",o.join(""),v))}if(g)for(;h<g.length;++h)g&&g[h]&&(v={r:h+1},C=g[h],C.hidden&&(v.hidden=1),y=-1,C.hpx?y=v_(C.hpx):C.hpt&&(y=C.hpt),y>-1&&(v.ht=y,v.customHeight=1),C.level&&(v.outlineLevel=C.level),r[r.length]=it("row","",v));return r.join("")}function jJ(e,t,n,i){var r=[zr,it("worksheet",null,{xmlns:kg[0],"xmlns:r":uo.r})],o=n.SheetNames[e],s=0,a="",l=n.Sheets[o];l==null&&(l={});var c=l["!ref"]||"A1",d=Kn(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=gn(d)}i||(i={}),l["!comments"]=[];var h=[];GMe(l,n,e,t,r),r[r.length]=it("dimension",null,{ref:c}),r[r.length]=eFe(l,t,e,n),t.sheetFormat&&(r[r.length]=it("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(r[r.length]=XMe(l,l["!cols"])),r[s=r.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=iFe(l,t,e,n,i),a.length>0&&(r[r.length]=a)),r.length>s+1&&(r[r.length]="</sheetData>",r[s]=r[s].replace("/>",">")),l["!protect"]&&(r[r.length]=WMe(l["!protect"])),l["!autofilter"]!=null&&(r[r.length]=ZMe(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(r[r.length]=VMe(l["!merges"]));var f=-1,g,m=-1;return l["!links"].length>0&&(r[r.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(g={ref:v[0]},v[1].Target.charAt(0)!="#"&&(m=Ci(i,-1,wi(v[1].Target).replace(/#.*$/,""),_n.HLINK),g["r:id"]="rId"+m),(f=v[1].Target.indexOf("#"))>-1&&(g.location=wi(v[1].Target.slice(f+1))),v[1].Tooltip&&(g.tooltip=wi(v[1].Tooltip)),r[r.length]=it("hyperlink",null,g))}),r[r.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(r[r.length]=qMe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(r[r.length]=Zo("ignoredErrors",it("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(m=Ci(i,-1,"../drawings/drawing"+(e+1)+".xml",_n.DRAW),r[r.length]=it("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=h),l["!comments"].length>0&&(m=Ci(i,-1,"../drawings/vmlDrawing"+(e+1)+".vml",_n.VML),r[r.length]=it("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function rFe(e,t){var n={},i=e.l+t;n.r=e.read_shift(4),e.l+=4;var r=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=i,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=r/20),n}function oFe(e,t,n){var i=Re(145),r=(n["!rows"]||[])[e]||{};i.write_shift(4,e),i.write_shift(4,0);var o=320;r.hpx?o=v_(r.hpx)*20:r.hpt&&(o=r.hpt*20),i.write_shift(2,o),i.write_shift(1,0);var s=0;r.level&&(s|=r.level),r.hidden&&(s|=16),(r.hpx||r.hpt)&&(s|=32),i.write_shift(1,s),i.write_shift(1,0);var a=0,l=i.l;i.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var h=-1,f=-1,g=d<<10;g<d+1<<10;++g){c.c=g;var m=Array.isArray(n)?(n[c.r]||[])[c.c]:n[qt(c)];m&&(h<0&&(h=g),f=g)}h<0||(++a,i.write_shift(4,h),i.write_shift(4,f))}var v=i.l;return i.l=l,i.write_shift(4,a),i.l=v,i.length>i.l?i.slice(0,i.l):i}function sFe(e,t,n,i){var r=oFe(i,n,t);(r.length>17||(t["!rows"]||[])[i])&&Ue(e,0,r)}var aFe=Ng,lFe=tC;function cFe(){}function dFe(e,t){var n={},i=e[e.l];return++e.l,n.above=!(i&64),n.left=!(i&128),e.l+=18,n.name=fEe(e,t-19),n}function uFe(e,t,n){n==null&&(n=Re(84+4*e.length));var i=192;t&&(t.above&&(i&=-65),t.left&&(i&=-129)),n.write_shift(1,i);for(var r=1;r<3;++r)n.write_shift(1,0);return i2({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),GQ(e,n),n.slice(0,n.l)}function hFe(e){var t=Wl(e);return[t]}function fFe(e,t,n){return n==null&&(n=Re(8)),Pg(t,n)}function pFe(e){var t=Og(e);return[t]}function gFe(e,t,n){return n==null&&(n=Re(4)),Lg(t,n)}function mFe(e){var t=Wl(e),n=e.read_shift(1);return[t,n,"b"]}function vFe(e,t,n){return n==null&&(n=Re(9)),Pg(t,n),n.write_shift(1,e.v?1:0),n}function CFe(e){var t=Og(e),n=e.read_shift(1);return[t,n,"b"]}function wFe(e,t,n){return n==null&&(n=Re(5)),Lg(t,n),n.write_shift(1,e.v?1:0),n}function yFe(e){var t=Wl(e),n=e.read_shift(1);return[t,n,"e"]}function bFe(e,t,n){return n==null&&(n=Re(9)),Pg(t,n),n.write_shift(1,e.v),n}function _Fe(e){var t=Og(e),n=e.read_shift(1);return[t,n,"e"]}function xFe(e,t,n){return n==null&&(n=Re(8)),Lg(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function SFe(e){var t=Wl(e),n=e.read_shift(4);return[t,n,"s"]}function EFe(e,t,n){return n==null&&(n=Re(12)),Pg(t,n),n.write_shift(4,t.v),n}function DFe(e){var t=Og(e),n=e.read_shift(4);return[t,n,"s"]}function RFe(e,t,n){return n==null&&(n=Re(8)),Lg(t,n),n.write_shift(4,t.v),n}function TFe(e){var t=Wl(e),n=xs(e);return[t,n,"n"]}function IFe(e,t,n){return n==null&&(n=Re(16)),Pg(t,n),Ig(e.v,n),n}function $J(e){var t=Og(e),n=xs(e);return[t,n,"n"]}function MFe(e,t,n){return n==null&&(n=Re(12)),Lg(t,n),Ig(e.v,n),n}function FFe(e){var t=Wl(e),n=I6(e);return[t,n,"n"]}function AFe(e,t,n){return n==null&&(n=Re(12)),Pg(t,n),zQ(e.v,n),n}function kFe(e){var t=Og(e),n=I6(e);return[t,n,"n"]}function PFe(e,t,n){return n==null&&(n=Re(8)),Lg(t,n),zQ(e.v,n),n}function OFe(e){var t=Wl(e),n=D6(e);return[t,n,"is"]}function LFe(e){var t=Wl(e),n=Es(e);return[t,n,"str"]}function NFe(e,t,n){return n==null&&(n=Re(12+4*e.v.length)),Pg(t,n),Mo(e.v,n),n.length>n.l?n.slice(0,n.l):n}function BFe(e){var t=Og(e),n=Es(e);return[t,n,"str"]}function VFe(e,t,n){return n==null&&(n=Re(8+4*e.v.length)),Lg(t,n),Mo(e.v,n),n.length>n.l?n.slice(0,n.l):n}function HFe(e,t,n){var i=e.l+t,r=Wl(e);r.r=n["!row"];var o=e.read_shift(1),s=[r,o,"b"];if(n.cellFormula){e.l+=2;var a=C2(e,i-e.l,n);s[3]=bs(a,null,r,n.supbooks,n)}else e.l=i;return s}function GFe(e,t,n){var i=e.l+t,r=Wl(e);r.r=n["!row"];var o=e.read_shift(1),s=[r,o,"e"];if(n.cellFormula){e.l+=2;var a=C2(e,i-e.l,n);s[3]=bs(a,null,r,n.supbooks,n)}else e.l=i;return s}function zFe(e,t,n){var i=e.l+t,r=Wl(e);r.r=n["!row"];var o=xs(e),s=[r,o,"n"];if(n.cellFormula){e.l+=2;var a=C2(e,i-e.l,n);s[3]=bs(a,null,r,n.supbooks,n)}else e.l=i;return s}function UFe(e,t,n){var i=e.l+t,r=Wl(e);r.r=n["!row"];var o=Es(e),s=[r,o,"str"];if(n.cellFormula){e.l+=2;var a=C2(e,i-e.l,n);s[3]=bs(a,null,r,n.supbooks,n)}else e.l=i;return s}var WFe=Ng,jFe=tC;function $Fe(e,t){return t==null&&(t=Re(4)),t.write_shift(4,e),t}function qFe(e,t){var n=e.l+t,i=Ng(e,16),r=R6(e),o=Es(e),s=Es(e),a=Es(e);e.l=n;var l={rfx:i,relId:r,loc:o,display:a};return s&&(l.Tooltip=s),l}function KFe(e,t){var n=Re(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));tC({s:fr(e[0]),e:fr(e[0])},n),T6("rId"+t,n);var i=e[1].Target.indexOf("#"),r=i==-1?"":e[1].Target.slice(i+1);return Mo(r||"",n),Mo(e[1].Tooltip||"",n),Mo("",n),n.slice(0,n.l)}function XFe(){}function YFe(e,t,n){var i=e.l+t,r=UQ(e,16),o=e.read_shift(1),s=[r];if(s[2]=o,n.cellFormula){var a=yMe(e,i-e.l,n);s[1]=a}else e.l=i;return s}function ZFe(e,t,n){var i=e.l+t,r=Ng(e,16),o=[r];if(n.cellFormula){var s=_Me(e,i-e.l,n);o[1]=s,e.l=i}else e.l=i;return o}function QFe(e,t,n){n==null&&(n=Re(18));var i=w2(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(i.width||10)*256),n.write_shift(4,0);var r=0;return t.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),t.level&&(r|=t.level<<8),n.write_shift(2,r),n}var qJ=["left","right","top","bottom","header","footer"];function JFe(e){var t={};return qJ.forEach(function(n){t[n]=xs(e,8)}),t}function eAe(e,t){return t==null&&(t=Re(6*8)),Dg(e),qJ.forEach(function(n){Ig(e[n],t)}),t}function tAe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function nAe(e,t,n){n==null&&(n=Re(30));var i=924;return(((t||{}).Views||[])[0]||{}).RTL&&(i|=32),n.write_shift(2,i),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function iAe(e){var t=Re(24);return t.write_shift(4,4),t.write_shift(4,1),tC(e,t),t}function rAe(e,t){return t==null&&(t=Re(16*4+2)),t.write_shift(2,e.password?O6(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function oAe(){}function sAe(){}function aAe(e,t,n,i,r,o,s){if(!e)return e;var a=t||{};i||(i={"!id":{}}),Tr!=null&&a.dense==null&&(a.dense=Tr);var l=a.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=[],f=!1,g=!1,m,v,C,y,x,_,R,I,F,T=[];a.biff=12,a["!row"]=0;var P=0,L=!1,U=[],W={},X=a.supbooks||r.supbooks||[[]];if(X.sharedf=W,X.arrayf=U,X.SheetNames=r.SheetNames||r.Sheets.map(function(Ae){return Ae.name}),!a.supbooks&&(a.supbooks=X,r.Names))for(var oe=0;oe<r.Names.length;++oe)X[0][oe+1]=r.Names[oe];var Ie=[],ae=[],Le=!1;C_[16]={n:"BrtShortReal",f:$J};var Se,Ge;if(ih(e,function(he,N,ne){if(!g)switch(ne){case 148:c=he;break;case 0:m=he,a.sheetRows&&a.sheetRows<=m.r&&(g=!0),I=Gr(y=m.r),a["!row"]=m.r,(he.hidden||he.hpt||he.level!=null)&&(he.hpt&&(he.hpx=Yv(he.hpt)),ae[he.r]=he);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:he[2]},he[2]){case"n":v.v=he[1];break;case"s":R=i_[he[1]],v.v=R.t,v.r=R.r;break;case"b":v.v=!!he[1];break;case"e":v.v=he[1],a.cellText!==!1&&(v.w=rh[v.v]);break;case"str":v.t="s",v.v=he[1];break;case"is":v.t="s",v.v=he[1].t;break}if((C=s.CellXf[he[0].iStyleRef])&&UJ(v,C.numFmtId,null,a,o,s),x=he[0].c==-1?x+1:he[0].c,a.dense?(l[y]||(l[y]=[]),l[y][x]=v):l[hr(x)+I]=v,a.cellFormula){for(L=!1,P=0;P<U.length;++P){var Q=U[P];m.r>=Q[0].s.r&&m.r<=Q[0].e.r&&x>=Q[0].s.c&&x<=Q[0].e.c&&(v.F=gn(Q[0]),L=!0)}!L&&he.length>3&&(v.f=he[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>x&&(d.s.c=x),d.e.r<m.r&&(d.e.r=m.r),d.e.c<x&&(d.e.c=x),a.cellDates&&C&&v.t=="n"&&Zv(jt[C.numFmtId])){var Z=_g(v.v);Z&&(v.t="d",v.v=new Date(Z.y,Z.m-1,Z.d,Z.H,Z.M,Z.S,Z.u))}Se&&(Se.type=="XLDAPR"&&(v.D=!0),Se=void 0),Ge&&(Ge=void 0);break;case 1:case 12:if(!a.sheetStubs||f)break;v={t:"z",v:void 0},x=he[0].c==-1?x+1:he[0].c,a.dense?(l[y]||(l[y]=[]),l[y][x]=v):l[hr(x)+I]=v,d.s.r>m.r&&(d.s.r=m.r),d.s.c>x&&(d.s.c=x),d.e.r<m.r&&(d.e.r=m.r),d.e.c<x&&(d.e.c=x),Se&&(Se.type=="XLDAPR"&&(v.D=!0),Se=void 0),Ge&&(Ge=void 0);break;case 176:T.push(he);break;case 49:Se=((a.xlmeta||{}).Cell||[])[he-1];break;case 494:var le=i["!id"][he.relId];for(le?(he.Target=le.Target,he.loc&&(he.Target+="#"+he.loc),he.Rel=le):he.relId==""&&(he.Target="#"+he.loc),y=he.rfx.s.r;y<=he.rfx.e.r;++y)for(x=he.rfx.s.c;x<=he.rfx.e.c;++x)a.dense?(l[y]||(l[y]=[]),l[y][x]||(l[y][x]={t:"z",v:void 0}),l[y][x].l=he):(_=qt({c:x,r:y}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=he);break;case 426:if(!a.cellFormula)break;U.push(he),F=a.dense?l[y][x]:l[hr(x)+I],F.f=bs(he[1],d,{r:m.r,c:x},X,a),F.F=gn(he[0]);break;case 427:if(!a.cellFormula)break;W[qt(he[0].s)]=he[1],F=a.dense?l[y][x]:l[hr(x)+I],F.f=bs(he[1],d,{r:m.r,c:x},X,a);break;case 60:if(!a.cellStyles)break;for(;he.e>=he.s;)Ie[he.e--]={width:he.w/256,hidden:!!(he.flags&1),level:he.level},Le||(Le=!0,L6(he.w/256)),Lf(Ie[he.e+1]);break;case 161:l["!autofilter"]={ref:gn(he)};break;case 476:l["!margins"]=he;break;case 147:r.Sheets[n]||(r.Sheets[n]={}),he.name&&(r.Sheets[n].CodeName=he.name),(he.above||he.left)&&(l["!outline"]={above:he.above,left:he.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),he.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:h.push(ne),f=!0;break;case 38:h.pop(),f=!1;break;default:if(!N.T){if(!f||a.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=gn(c||d)),a.sheetRows&&l["!ref"]){var be=Kn(l["!ref"]);a.sheetRows<=+be.e.r&&(be.e.r=a.sheetRows-1,be.e.r>d.e.r&&(be.e.r=d.e.r),be.e.r<be.s.r&&(be.s.r=be.e.r),be.e.c>d.e.c&&(be.e.c=d.e.c),be.e.c<be.s.c&&(be.s.c=be.e.c),l["!fullref"]=l["!ref"],l["!ref"]=gn(be))}return T.length>0&&(l["!merges"]=T),Ie.length>0&&(l["!cols"]=Ie),ae.length>0&&(l["!rows"]=ae),l}function lAe(e,t,n,i,r,o,s){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=qi(t),t.z=t.z||jt[14],t.v=ho($i(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:n,c:i};switch(l.s=Gf(r.cellXfs,t,r),t.l&&o["!links"].push([qt(l),t.l]),t.c&&o["!comments"].push([qt(l),t.c]),t.t){case"s":case"str":return r.bookSST?(a=G6(r.Strings,t.v,r.revStrings),l.t="s",l.v=a,s?Ue(e,18,RFe(t,l)):Ue(e,7,EFe(t,l))):(l.t="str",s?Ue(e,17,VFe(t,l)):Ue(e,6,NFe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Ue(e,13,PFe(t,l)):Ue(e,2,AFe(t,l)):s?Ue(e,16,MFe(t,l)):Ue(e,5,IFe(t,l)),!0;case"b":return l.t="b",s?Ue(e,15,wFe(t,l)):Ue(e,4,vFe(t,l)),!0;case"e":return l.t="e",s?Ue(e,14,xFe(t,l)):Ue(e,3,bFe(t,l)),!0}return s?Ue(e,12,gFe(t,l)):Ue(e,1,fFe(t,l)),!0}function cAe(e,t,n,i){var r=Kn(t["!ref"]||"A1"),o,s="",a=[];Ue(e,145);var l=Array.isArray(t),c=r.e.r;t["!rows"]&&(c=Math.max(r.e.r,t["!rows"].length-1));for(var d=r.s.r;d<=c;++d){s=Gr(d),sFe(e,t,r,d);var h=!1;if(d<=r.e.r)for(var f=r.s.c;f<=r.e.c;++f){d===r.s.r&&(a[f]=hr(f)),o=a[f]+s;var g=l?(t[d]||[])[f]:t[o];if(!g){h=!1;continue}h=lAe(e,g,d,f,i,t,h)}}Ue(e,146)}function dAe(e,t){!t||!t["!merges"]||(Ue(e,177,$Fe(t["!merges"].length)),t["!merges"].forEach(function(n){Ue(e,176,jFe(n))}),Ue(e,178))}function uAe(e,t){!t||!t["!cols"]||(Ue(e,390),t["!cols"].forEach(function(n,i){n&&Ue(e,60,QFe(i,n))}),Ue(e,391))}function hAe(e,t){!t||!t["!ref"]||(Ue(e,648),Ue(e,649,iAe(Kn(t["!ref"]))),Ue(e,650))}function fAe(e,t,n){t["!links"].forEach(function(i){if(i[1].Target){var r=Ci(n,-1,i[1].Target.replace(/#.*$/,""),_n.HLINK);Ue(e,494,KFe(i,r))}}),delete t["!links"]}function pAe(e,t,n,i){if(t["!comments"].length>0){var r=Ci(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",_n.VML);Ue(e,551,T6("rId"+r)),t["!legacy"]=r}}function gAe(e,t,n,i){if(t["!autofilter"]){var r=t["!autofilter"],o=typeof r.ref=="string"?r.ref:gn(r.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=Ma(o);a.s.r==a.e.r&&(a.e.r=Ma(t["!ref"]).e.r,o=gn(a));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i){c.Ref="'"+n.SheetNames[i]+"'!"+o;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+n.SheetNames[i]+"'!"+o}),Ue(e,161,tC(Kn(o))),Ue(e,162)}}function mAe(e,t,n){Ue(e,133),Ue(e,137,nAe(t,n)),Ue(e,138),Ue(e,134)}function vAe(e,t){t["!protect"]&&Ue(e,535,rAe(t["!protect"]))}function CAe(e,t,n,i){var r=Ia(),o=n.SheetNames[e],s=n.Sheets[o]||{},a=o;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var l=Kn(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Ue(r,129),(n.vbaraw||s["!outline"])&&Ue(r,147,uFe(a,s["!outline"])),Ue(r,148,lFe(l)),mAe(r,s,n.Workbook),uAe(r,s,e,t,n),cAe(r,s,e,t,n),vAe(r,s),gAe(r,s,n,e),dAe(r,s),fAe(r,s,i),s["!margins"]&&Ue(r,476,eAe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&hAe(r,s),pAe(r,s,e,i),Ue(r,130),r.end()}function wAe(e){var t=[],n=e.match(/^<c:numCache>/),i;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(o){var s=o.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=n?+s[2]:s[2])});var r=qn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(o){i=o.replace(/<.*?>/g,"")}),[t,r,i]}function yAe(e,t,n,i,r,o){var s=o||{"!type":"chart"};if(!e)return o;var a=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var f=wAe(h);d.s.r=d.s.c=0,d.e.c=a,c=hr(a),f[0].forEach(function(g,m){s[c+Gr(m)]={t:"n",v:g,z:f[1]},l=m}),d.e.r<l&&(d.e.r=l),++a}),a>0&&(s["!ref"]=gn(d)),s}function bAe(e,t,n,i,r){if(!e)return e;i||(i={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},s,a=e.match(WJ);return a&&z6(a[0],o,r,n),(s=e.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=s[1]),i["!id"][o["!rel"]]&&(o["!drawel"]=i["!id"][o["!rel"]]),o}function _Ae(e,t){e.l+=10;var n=Es(e,t-10);return{name:n}}function xAe(e,t,n,i,r){if(!e)return e;i||(i={"!id":{}});var o={"!type":"chart","!drawel":null,"!rel":""},s=[],a=!1;return ih(e,function(c,d,h){switch(h){case 550:o["!rel"]=c;break;case 651:r.Sheets[n]||(r.Sheets[n]={}),c.name&&(r.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(h);break;case 38:s.pop();break;default:if(d.T>0)s.push(h);else if(d.T<0)s.pop();else if(!a||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}},t),i["!id"][o["!rel"]]&&(o["!drawel"]=i["!id"][o["!rel"]]),o}var U6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],SAe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],EAe=[],DAe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function JZ(e,t){for(var n=0;n!=e.length;++n)for(var i=e[n],r=0;r!=t.length;++r){var o=t[r];if(i[o[0]]==null)i[o[0]]=o[1];else switch(o[2]){case"bool":typeof i[o[0]]=="string"&&(i[o[0]]=ji(i[o[0]]));break;case"int":typeof i[o[0]]=="string"&&(i[o[0]]=parseInt(i[o[0]],10));break}}}function eQ(e,t){for(var n=0;n!=t.length;++n){var i=t[n];if(e[i[0]]==null)e[i[0]]=i[1];else switch(i[2]){case"bool":typeof e[i[0]]=="string"&&(e[i[0]]=ji(e[i[0]]));break;case"int":typeof e[i[0]]=="string"&&(e[i[0]]=parseInt(e[i[0]],10));break}}}function KJ(e){eQ(e.WBProps,U6),eQ(e.CalcPr,DAe),JZ(e.WBView,SAe),JZ(e.Sheets,EAe),$v.date1904=ji(e.WBProps.date1904)}function RAe(e){return!e.Workbook||!e.Workbook.WBProps?"false":ji(e.Workbook.WBProps.date1904)?"true":"false"}var TAe="][*?/\\".split("");function XJ(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return TAe.forEach(function(i){if(e.indexOf(i)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function IAe(e,t,n){e.forEach(function(i,r){XJ(i);for(var o=0;o<r;++o)if(i==e[o])throw new Error("Duplicate Sheet Name: "+i);if(n){var s=t&&t[r]&&t[r].CodeName||i;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function MAe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];IAe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)RMe(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var FAe=/<\w+:workbook/;function AAe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},i=!1,r="xmlns",o={},s=0;if(e.replace(Rs,function(l,c){var d=Yt(l);switch(Pd(d[0])){case"<?xml":break;case"<workbook":l.match(FAe)&&(r="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=d[r];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":U6.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=ji(d[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:n.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(n.WBProps.CodeName=Si(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=qn(Si(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":i=!0;break;case"</definedNames>":i=!1;break;case"<definedName":o={},o.Name=Si(d.name),d.comment&&(o.Comment=d.comment),d.localSheetId&&(o.Sheet=+d.localSheetId),ji(d.hidden||"0")&&(o.Hidden=!0),s=c+l.length;break;case"</definedName>":o.Ref=qn(Si(e.slice(s,c))),n.Names.push(o);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<revisionPtr":break;default:if(!i&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),kg.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return KJ(n),n}function YJ(e){var t=[zr];t[t.length]=it("workbook",null,{xmlns:kg[0],"xmlns:r":uo.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(U6.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(i[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(i.codeName=e.Workbook.WBProps.CodeName,delete i.CodeName)),t[t.length]=it("workbookPr",null,i);var r=e.Workbook&&e.Workbook.Sheets||[],o=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length&&!(!r[o]||!r[o].Hidden);++o);o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var s={name:wi(e.SheetNames[o].slice(0,31))};if(s.sheetId=""+(o+1),s["r:id"]="rId"+(o+1),r[o])switch(r[o].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=it("sheet",null,s)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=it("definedName",wi(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function kAe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Y4(e,t-8),n.name=Es(e),n}function PAe(e,t){return t||(t=Re(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),T6(e.strRelID,t),Mo(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function OAe(e,t){var n={},i=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var r=t>8?Es(e):"";return r.length>0&&(n.CodeName=r),n.autoCompressPictures=!!(i&65536),n.backupFile=!!(i&64),n.checkCompatibility=!!(i&4096),n.date1904=!!(i&1),n.filterPrivacy=!!(i&8),n.hidePivotFieldList=!!(i&1024),n.promptedSolutions=!!(i&16),n.publishItems=!!(i&2048),n.refreshAllConnections=!!(i&262144),n.saveExternalLinkValues=!!(i&128),n.showBorderUnselectedTables=!!(i&4),n.showInkAnnotation=!!(i&32),n.showObjects=["all","placeholders","none"][i>>13&3],n.showPivotChartFilter=!!(i&32768),n.updateLinks=["userSet","never","always"][i>>8&3],n}function LAe(e,t){t||(t=Re(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),GQ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function NAe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function BAe(e,t,n){var i=e.l+t;e.l+=4,e.l+=1;var r=e.read_shift(4),o=pEe(e),s=bMe(e,0,n),a=R6(e);e.l=i;var l={Name:o,Ptg:s};return r<268435455&&(l.Sheet=r),a&&(l.Comment=a),l}function VAe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],r=!1;t||(t={}),t.biff=12;var o=[],s=[[]];return s.SheetNames=[],s.XTI=[],C_[16]={n:"BrtFRTArchID$",f:NAe},ih(e,function(l,c,d){switch(d){case 156:s.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=bs(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,o.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,l]):s[0]=[d,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:i.push(d),r=!0;break;case 36:i.pop(),r=!1;break;case 37:i.push(d),r=!0;break;case 38:i.pop(),r=!1;break;case 16:break;default:if(!c.T){if(!r||t.WTF&&i[i.length-1]!=37&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),KJ(n),n.Names=o,n.supbooks=s,n}function HAe(e,t){Ue(e,143);for(var n=0;n!=t.SheetNames.length;++n){var i=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,r={Hidden:i,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ue(e,156,PAe(r))}Ue(e,144)}function GAe(e,t){t||(t=Re(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Mo("SheetJS",t),Mo(a_.version,t),Mo(a_.version,t),Mo("7262",t),t.length>t.l?t.slice(0,t.l):t}function zAe(e,t){t||(t=Re(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function UAe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,i=0,r=-1,o=-1;i<n.length;++i)!n[i]||!n[i].Hidden&&r==-1?r=i:n[i].Hidden==1&&o==-1&&(o=i);o>r||(Ue(e,135),Ue(e,158,zAe(r)),Ue(e,136))}}function WAe(e,t){var n=Ia();return Ue(n,131),Ue(n,128,GAe()),Ue(n,153,LAe(e.Workbook&&e.Workbook.WBProps||null)),UAe(n,e,t),HAe(n,e,t),Ue(n,132),n.end()}function jAe(e,t,n){return t.slice(-4)===".bin"?VAe(e,n):AAe(e,n)}function $Ae(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?aAe(e,i,n,r,o,s,a):BMe(e,i,n,r,o,s,a)}function qAe(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?xAe(e,i,n,r,o,s,a):bAe(e,i,n,r,o,s,a)}function KAe(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?Y2e(e,i,n,r,o,s,a):Z2e(e,i,n,r,o,s,a)}function XAe(e,t,n,i,r,o,s,a){return t.slice(-4)===".bin"?K2e(e,i,n,r,o,s,a):X2e(e,i,n,r,o,s,a)}function YAe(e,t,n,i){return t.slice(-4)===".bin"?jTe(e,n,i):kTe(e,n,i)}function ZAe(e,t,n){return MJ(e,n)}function QAe(e,t,n){return t.slice(-4)===".bin"?QRe(e,n):XRe(e,n)}function JAe(e,t,n){return t.slice(-4)===".bin"?U2e(e,n):P2e(e,n)}function eke(e,t,n){return t.slice(-4)===".bin"?F2e(e,t,n):I2e(e,t,n)}function tke(e,t,n,i){return n.slice(-4)===".bin"?A2e(e,t,n,i):void 0}function nke(e,t,n){return t.slice(-4)===".bin"?D2e(e,t,n):T2e(e,t,n)}function ike(e,t,n){return(t.slice(-4)===".bin"?WAe:YJ)(e,n)}function rke(e,t,n,i,r){return(t.slice(-4)===".bin"?CAe:jJ)(e,n,i,r)}function oke(e,t,n){return(t.slice(-4)===".bin"?t2e:TJ)(e,n)}function ske(e,t,n){return(t.slice(-4)===".bin"?tTe:yJ)(e,n)}function ake(e,t,n){return(t.slice(-4)===".bin"?W2e:kJ)(e,n)}function lke(e){return(e.slice(-4)===".bin"?R2e:FJ)()}var ZJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,QJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Dc(e,t){var n=e.split(/\s+/),i=[];if(t||(i[0]=n[0]),n.length===1)return i;var r=e.match(ZJ),o,s,a,l;if(r)for(l=0;l!=r.length;++l)o=r[l].match(QJ),(s=o[1].indexOf(":"))===-1?i[o[1]]=o[2].slice(1,o[2].length-1):(o[1].slice(0,6)==="xmlns:"?a="xmlns"+o[1].slice(6):a=o[1].slice(s+1),i[a]=o[2].slice(1,o[2].length-1));return i}function cke(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var i=e.match(ZJ),r,o,s,a;if(i)for(a=0;a!=i.length;++a)r=i[a].match(QJ),(o=r[1].indexOf(":"))===-1?n[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?s="xmlns"+r[1].slice(6):s=r[1].slice(o+1),n[s]=r[2].slice(1,r[2].length-1));return n}var o_;function dke(e,t){var n=o_[e]||qn(e);return n==="General"?Rg(t):Ul(n,t)}function uke(e,t,n,i){var r=i;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=ji(i);break;case"i2":case"int":r=parseInt(i,10);break;case"r4":case"float":r=parseFloat(i);break;case"date":case"dateTime.tz":r=$i(i);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[qn(t)]=r}function hke(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||rh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=c_(e.v):e.w=Rg(e.v):e.w=dke(t||"General",e.v)}catch(o){if(n.WTF)throw o}try{var i=o_[t]||t||"General";if(n.cellNF&&(e.z=i),n.cellDates&&e.t=="n"&&Zv(i)){var r=_g(e.v);r&&(e.t="d",e.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}catch(o){if(n.WTF)throw o}}}function fke(e,t,n){if(n.cellStyles&&t.Interior){var i=t.Interior;i.Pattern&&(i.patternType=ETe[i.Pattern]||i.Pattern)}e[t.ID]=t}function pke(e,t,n,i,r,o,s,a,l,c){var d="General",h=i.StyleID,f={};c=c||{};var g=[],m=0;for(h===void 0&&a&&(h=a.StyleID),h===void 0&&s&&(h=s.StyleID);o[h]!==void 0&&(o[h].nf&&(d=o[h].nf),o[h].Interior&&g.push(o[h].Interior),!!o[h].Parent);)h=o[h].Parent;switch(n.Type){case"Boolean":i.t="b",i.v=ji(e);break;case"String":i.t="s",i.r=vZ(qn(e)),i.v=e.indexOf("<")>-1?qn(t||e).replace(/<.*?>/g,""):i.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),i.v=($i(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),i.v!==i.v?i.v=qn(e):i.v<60&&(i.v=i.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":i.v===void 0&&(i.v=+e),i.t||(i.t="n");break;case"Error":i.t="e",i.v=$Q[e],c.cellText!==!1&&(i.w=e);break;default:e==""&&t==""?i.t="z":(i.t="s",i.v=vZ(t||e));break}if(hke(i,d,c),c.cellFormula!==!1)if(i.Formula){var v=qn(i.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),i.f=jv(v,r),delete i.Formula,i.ArrayRange=="RC"?i.F=jv("RC:RC",r):i.ArrayRange&&(i.F=jv(i.ArrayRange,r),l.push([Kn(i.F),i.F]))}else for(m=0;m<l.length;++m)r.r>=l[m][0].s.r&&r.r<=l[m][0].e.r&&r.c>=l[m][0].s.c&&r.c<=l[m][0].e.c&&(i.F=l[m][1]);c.cellStyles&&(g.forEach(function(C){!f.patternType&&C.patternType&&(f.patternType=C.patternType)}),i.s=f),i.StyleID!==void 0&&(i.ixfe=i.StyleID)}function gke(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function U4(e,t){var n=t||{};Qv();var i=Yb(v6(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(typeof hi<"u"?i=hi.utils.decode(65001,K4(i)):i=Si(i));var r=i.slice(0,1024).toLowerCase(),o=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var s=qi(n);return s.type="string",Xv.to_workbook(i,s)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(vt){r.indexOf("<"+vt)>=0&&(o=!0)}),o)return ePe(i,n);o_={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c;Tr!=null&&n.dense==null&&(n.dense=Tr);var d={},h=[],f=n.dense?[]:{},g="",m={},v={},C=Dc('<Data ss:Type="String">'),y=0,x=0,_=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},I={},F={},T="",P=0,L=[],U={},W={},X=0,oe=[],Ie=[],ae={},Le=[],Se,Ge=!1,be=[],Ae=[],he={},N=0,ne=0,Q={Sheets:[],WBProps:{date1904:!1}},Z={};h_.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"");for(var le="";a=h_.exec(i);)switch(a[3]=(le=a[3]).toLowerCase()){case"data":if(le=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?pke(i.slice(y,a.index),T,C,l[l.length-1][0]=="comment"?ae:m,{c:x,r:_},I,Le[x],v,be,n):(T="",C=Dc(a[0]),y=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(Ie.length>0&&(m.c=Ie),(!n.sheetRows||n.sheetRows>_)&&m.v!==void 0&&(n.dense?(f[_]||(f[_]=[]),f[_][x]=m):f[hr(x)+Gr(_)]=m),m.HRef&&(m.l={Target:qn(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(N=x+(parseInt(m.MergeAcross,10)|0),ne=_+(parseInt(m.MergeDown,10)|0),L.push({s:{c:x,r:_},e:{c:N,r:ne}})),!n.sheetStubs)m.MergeAcross?x=N+1:++x;else if(m.MergeAcross||m.MergeDown){for(var ke=x;ke<=N;++ke)for(var ze=_;ze<=ne;++ze)(ke>x||ze>_)&&(n.dense?(f[ze]||(f[ze]=[]),f[ze][ke]={t:"z"}):f[hr(ke)+Gr(ze)]={t:"z"});x=N+1}else++x;else m=cke(a[0]),m.Index&&(x=+m.Index-1),x<R.s.c&&(R.s.c=x),x>R.e.c&&(R.e.c=x),a[0].slice(-2)==="/>"&&++x,Ie=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(_<R.s.r&&(R.s.r=_),_>R.e.r&&(R.e.r=_),a[0].slice(-2)==="/>"&&(v=Dc(a[0]),v.Index&&(_=+v.Index-1)),x=0,++_):(v=Dc(a[0]),v.Index&&(_=+v.Index-1),he={},(v.AutoFitHeight=="0"||v.Height)&&(he.hpx=parseInt(v.Height,10),he.hpt=v_(he.hpx),Ae[_]=he),v.Hidden=="1"&&(he.hidden=!0,Ae[_]=he));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));h.push(g),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(f["!ref"]=gn(R),n.sheetRows&&n.sheetRows<=R.e.r&&(f["!fullref"]=f["!ref"],R.e.r=n.sheetRows-1,f["!ref"]=gn(R))),L.length&&(f["!merges"]=L),Le.length>0&&(f["!cols"]=Le),Ae.length>0&&(f["!rows"]=Ae),d[g]=f}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=x=0,l.push([a[3],!1]),c=Dc(a[0]),g=qn(c.Name),f=n.dense?[]:{},L=[],be=[],Ae=[],Z={name:g,Hidden:0},Q.Sheets.push(Z);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),Le=[],Ge=!1}break;case"style":a[1]==="/"?fke(I,F,n):F=Dc(a[0]);break;case"numberformat":F.nf=qn(Dc(a[0]).Format||"General"),o_[F.nf]&&(F.nf=o_[F.nf]);for(var Be=0;Be!=392&&jt[Be]!=F.nf;++Be);if(Be==392){for(Be=57;Be!=392;++Be)if(jt[Be]==null){Ju(F.nf,Be);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Se=Dc(a[0]),Se.Hidden&&(Se.hidden=!0,delete Se.Hidden),Se.Width&&(Se.wpx=parseInt(Se.Width,10)),!Ge&&Se.wpx>10){Ge=!0,_s=DJ;for(var ve=0;ve<Le.length;++ve)Le[ve]&&Lf(Le[ve])}Ge&&Lf(Se),Le[Se.Index-1||Le.length]=Se;for(var St=0;St<+Se.Span;++St)Le[Le.length]=qi(Se);break;case"namedrange":if(a[1]==="/")break;Q.Names||(Q.Names=[]);var Y=Yt(a[0]),$t={Name:Y.Name,Ref:jv(Y.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&($t.Sheet=Q.Sheets.length-1),Q.Names.push($t);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?T+=i.slice(P,a.index):P=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;F.Interior=Dc(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?VEe(U,le,i.slice(X,a.index)):X=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));gke(ae),Ie.push(ae)}else l.push([a[3],!1]),c=Dc(a[0]),ae={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var At=Dc(a[0]);f["!autofilter"]={ref:jv(At.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return oQ(i,n);var Et=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Et=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Et=!1}break;case"excelworkbook":switch(a[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Et=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Et=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(i.slice(X,a.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else X=a.index+a[0].length;break;case"header":f["!margins"]||Dg(f["!margins"]={},"xlml"),isNaN(+Yt(a[0]).Margin)||(f["!margins"].header=+Yt(a[0]).Margin);break;case"footer":f["!margins"]||Dg(f["!margins"]={},"xlml"),isNaN(+Yt(a[0]).Margin)||(f["!margins"].footer=+Yt(a[0]).Margin);break;case"pagemargins":var Dt=Yt(a[0]);f["!margins"]||Dg(f["!margins"]={},"xlml"),isNaN(+Dt.Top)||(f["!margins"].top=+Dt.Top),isNaN(+Dt.Left)||(f["!margins"].left=+Dt.Left),isNaN(+Dt.Right)||(f["!margins"].right=+Dt.Right),isNaN(+Dt.Bottom)||(f["!margins"].bottom=+Dt.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Et=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Et=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Et=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Et=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Et=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Et=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Et=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Et=!1}break;case"smarttags":break;default:Et=!1;break}if(Et||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?uke(W,le,oe,i.slice(X,a.index)):(oe=a,X=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var Ye={};return!n.bookSheets&&!n.bookProps&&(Ye.Sheets=d),Ye.SheetNames=h,Ye.Workbook=Q,Ye.SSF=qi(jt),Ye.Props=U,Ye.Custprops=W,Ye}function i6(e,t){switch(j6(t=t||{}),t.type||"base64"){case"base64":return U4(el(e),t);case"binary":case"buffer":case"file":return U4(e,t);case"array":return U4(Vf(e),t)}}function mke(e,t){var n=[];return e.Props&&n.push(HEe(e.Props,t)),e.Custprops&&n.push(GEe(e.Props,e.Custprops,t)),n.join("")}function vke(){return""}function Cke(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(i,r){var o=[];o.push(it("NumberFormat",null,{"ss:Format":wi(jt[i.numFmtId])}));var s={"ss:ID":"s"+(21+r)};n.push(it("Style",o.join(""),s))}),it("Styles",n.join(""))}function JJ(e){return it("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+V6(e.Ref,{r:0,c:0})})}function wke(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],i=0;i<t.length;++i){var r=t[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||n.push(JJ(r)))}return it("Names",n.join(""))}function yke(e,t,n,i){if(!e||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,o=[],s=0;s<r.length;++s){var a=r[s];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||o.push(JJ(a)))}return o.join("")}function bke(e,t,n,i){if(!e)return"";var r=[];if(e["!margins"]&&(r.push("<PageSetup>"),e["!margins"].header&&r.push(it("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&r.push(it("Footer",null,{"x:Margin":e["!margins"].footer})),r.push(it("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[n])if(i.Workbook.Sheets[n].Hidden)r.push(it("Visible",i.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(i.Workbook.Sheets[o]&&!i.Workbook.Sheets[o].Hidden);++o);o==n&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),e["!protect"]&&(r.push(Zo("ProtectContents","True")),e["!protect"].objects&&r.push(Zo("ProtectObjects","True")),e["!protect"].scenarios&&r.push(Zo("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?r.push(Zo("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&r.push(Zo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&r.push("<"+s[1]+"/>")})),r.length==0?"":it("WorksheetOptions",r.join(""),{xmlns:Za.x})}function _ke(e){return e.map(function(t){var n=zSe(t.t||""),i=it("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return it("Comment",i,{"ss:Author":t.a})}).join("")}function xke(e,t,n,i,r,o,s){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+wi(V6(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=fr(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=wi(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=wi(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],d=0;d!=c.length;++d)c[d].s.c!=s.c||c[d].s.r!=s.r||(c[d].e.c>c[d].s.c&&(a["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(a["ss:MergeDown"]=c[d].e.r-c[d].s.r));var h="",f="";switch(e.t){case"z":if(!i.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=rh[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||jt[14]);break;case"s":h="String",f=GSe(e.v||"");break}var g=Gf(i.cellXfs,e,i);a["ss:StyleID"]="s"+(21+g),a["ss:Index"]=s.c+1;var m=e.v!=null?f:"",v=e.t=="z"?"":'<Data ss:Type="'+h+'">'+m+"</Data>";return(e.c||[]).length>0&&(v+=_ke(e.c)),it("Cell",v,a)}function Ske(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Yv(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Eke(e,t,n,i){if(!e["!ref"])return"";var r=Kn(e["!ref"]),o=e["!merges"]||[],s=0,a=[];e["!cols"]&&e["!cols"].forEach(function(C,y){Lf(C);var x=!!C.width,_=w2(y,C),R={"ss:Index":y+1};x&&(R["ss:Width"]=g_(_.width)),C.hidden&&(R["ss:Hidden"]="1"),a.push(it("Column",null,R))});for(var l=Array.isArray(e),c=r.s.r;c<=r.e.r;++c){for(var d=[Ske(c,(e["!rows"]||[])[c])],h=r.s.c;h<=r.e.c;++h){var f=!1;for(s=0;s!=o.length;++s)if(!(o[s].s.c>h)&&!(o[s].s.r>c)&&!(o[s].e.c<h)&&!(o[s].e.r<c)){(o[s].s.c!=h||o[s].s.r!=c)&&(f=!0);break}if(!f){var g={r:c,c:h},m=qt(g),v=l?(e[c]||[])[h]:e[m];d.push(xke(v,m,e,t,n,i,g))}}d.push("</Row>"),d.length>2&&a.push(d.join(""))}return a.join("")}function Dke(e,t,n){var i=[],r=n.SheetNames[e],o=n.Sheets[r],s=o?yke(o,t,e,n):"";return s.length>0&&i.push("<Names>"+s+"</Names>"),s=o?Eke(o,t,e,n):"",s.length>0&&i.push("<Table>"+s+"</Table>"),i.push(bke(o,t,e,n)),i.join("")}function Rke(e,t){t||(t={}),e.SSF||(e.SSF=qi(jt)),e.SSF&&(Qv(),u2(e.SSF),t.revssf=f2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Gf(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(mke(e,t)),n.push(vke(e,t)),n.push(""),n.push("");for(var i=0;i<e.SheetNames.length;++i)n.push(it("Worksheet",Dke(i,t,e),{"ss:Name":wi(e.SheetNames[i])}));return n[2]=Cke(e,t),n[3]=wke(e,t),zr+it("Workbook",n.join(""),{xmlns:Za.ss,"xmlns:o":Za.o,"xmlns:x":Za.x,"xmlns:ss":Za.ss,"xmlns:dt":Za.dt,"xmlns:html":Za.html})}function Tke(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=wEe(n),n.length-n.l<=4)return t;var i=n.read_shift(4);if(i==0||i>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(i=n.read_shift(4),i!==1907505652)||(t.UnicodeClipboardFormat=yEe(n),i=n.read_shift(4),i==0||i>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var Ike=[60,1084,2066,2165,2175];function Mke(e,t,n,i,r){var o=i,s=[],a=n.slice(n.l,n.l+o);if(r&&r.enc&&r.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(a)}s.push(a),n.l+=o;for(var l=Zu(n,n.l),c=r6[l],d=0;c!=null&&Ike.indexOf(l)>-1;)o=Zu(n,n.l+2),d=n.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),a=n.slice(d,n.l+4+o),s.push(a),n.l+=4+o,c=r6[l=Zu(n,n.l)];var h=Io(s);Yo(h,0);var f=0;h.lens=[];for(var g=0;g<s.length;++g)h.lens.push(f),f+=s[g].length;if(h.length<i)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+i;return t.f(h,h.length,r)}function Id(e,t,n){if(e.t!=="z"&&e.XF){var i=0;try{i=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jt[i])}catch(o){if(t.WTF)throw o}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||rh[e.v]:i===0||i=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=c_(e.v):e.w=Rg(e.v):e.w=Ul(i,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(o){if(t.WTF)throw o}if(t.cellDates&&i&&e.t=="n"&&Zv(jt[i]||String(i))){var r=_g(e.v);r&&(e.t="d",e.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}}function XT(e,t,n){return{v:e,ixfe:t,t:n}}function Fke(e,t){var n={opts:{}},i={};Tr!=null&&t.dense==null&&(t.dense=Tr);var r=t.dense?[]:{},o={},s={},a=null,l=[],c="",d={},h,f="",g,m,v,C,y={},x=[],_,R,I=[],F=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},L=function(Te){return Te<8?xg[Te]:Te<64&&F[Te-8]||xg[Te]},U=function(Te,re,ce){var rt=re.XF.data;if(!(!rt||!rt.patternType||!ce||!ce.cellStyles)){re.s={},re.s.patternType=rt.patternType;var Ot;(Ot=p_(L(rt.icvFore)))&&(re.s.fgColor={rgb:Ot}),(Ot=p_(L(rt.icvBack)))&&(re.s.bgColor={rgb:Ot})}},W=function(Te,re,ce){if(!(he>1)&&!(ce.sheetRows&&Te.r>=ce.sheetRows)){if(ce.cellStyles&&re.XF&&re.XF.data&&U(Te,re,ce),delete re.ixfe,delete re.XF,h=Te,f=qt(Te),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Te.r<s.s.r&&(s.s.r=Te.r),Te.c<s.s.c&&(s.s.c=Te.c),Te.r+1>s.e.r&&(s.e.r=Te.r+1),Te.c+1>s.e.c&&(s.e.c=Te.c+1),ce.cellFormula&&re.f){for(var rt=0;rt<x.length;++rt)if(!(x[rt][0].s.c>Te.c||x[rt][0].s.r>Te.r)&&!(x[rt][0].e.c<Te.c||x[rt][0].e.r<Te.r)){re.F=gn(x[rt][0]),(x[rt][0].s.c!=Te.c||x[rt][0].s.r!=Te.r)&&delete re.f,re.f&&(re.f=""+bs(x[rt][1],s,Te,be,X));break}}ce.dense?(r[Te.r]||(r[Te.r]=[]),r[Te.r][Te.c]=re):r[f]=re}},X={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(X.password=t.password);var oe,Ie=[],ae=[],Le=[],Se=[],Ge=!1,be=[];be.SheetNames=X.snames,be.sharedf=X.sharedf,be.arrayf=X.arrayf,be.names=[],be.XTI=[];var Ae=0,he=0,N=0,ne=[],Q=[],Z;X.codepage=1200,Rc(1200);for(var le=!1;e.l<e.length-1;){var ke=e.l,ze=e.read_shift(2);if(ze===0&&Ae===10)break;var Be=e.l===e.length?0:e.read_shift(2),ve=r6[ze];if(ve&&ve.f){if(t.bookSheets&&Ae===133&&ze!==133)break;if(Ae=ze,ve.r===2||ve.r==12){var St=e.read_shift(2);if(Be-=2,!X.enc&&St!==ze&&((St&255)<<8|St>>8)!==ze)throw new Error("rt mismatch: "+St+"!="+ze);ve.r==12&&(e.l+=10,Be-=10)}var Y={};if(ze===10?Y=ve.f(e,Be,X):Y=Mke(ze,ve,e,Be,X),he==0&&[9,521,1033,2057].indexOf(Ae)===-1)continue;switch(ze){case 34:n.opts.Date1904=T.WBProps.date1904=Y;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(X.enc||(e.l=0),X.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:X.lastuser=Y;break;case 66:var $t=Number(Y);switch($t){case 21010:$t=1200;break;case 32768:$t=1e4;break;case 32769:$t=1252;break}Rc(X.codepage=$t),le=!0;break;case 317:X.rrtabid=Y;break;case 25:X.winlocked=Y;break;case 439:n.opts.RefreshAll=Y;break;case 12:n.opts.CalcCount=Y;break;case 16:n.opts.CalcDelta=Y;break;case 17:n.opts.CalcIter=Y;break;case 13:n.opts.CalcMode=Y;break;case 14:n.opts.CalcPrecision=Y;break;case 95:n.opts.CalcSaveRecalc=Y;break;case 15:X.CalcRefMode=Y;break;case 2211:n.opts.FullCalc=Y;break;case 129:Y.fDialog&&(r["!type"]="dialog"),Y.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),Y.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 224:I.push(Y);break;case 430:be.push([Y]),be[be.length-1].XTI=[];break;case 35:case 547:be[be.length-1].push(Y);break;case 24:case 536:Z={Name:Y.Name,Ref:bs(Y.rgce,s,null,be,X)},Y.itab>0&&(Z.Sheet=Y.itab-1),be.names.push(Z),be[0]||(be[0]=[],be[0].XTI=[]),be[be.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(Q[Y.itab-1]={ref:gn(Y.rgce[0][0][1][2])});break;case 22:X.ExternCount=Y;break;case 23:be.length==0&&(be[0]=[],be[0].XTI=[]),be[be.length-1].XTI=be[be.length-1].XTI.concat(Y),be.XTI=be.XTI.concat(Y);break;case 2196:if(X.biff<8)break;Z!=null&&(Z.Comment=Y[1]);break;case 18:r["!protect"]=Y;break;case 19:Y!==0&&X.WTF&&console.error("Password verifier: "+Y);break;case 133:o[Y.pos]=Y,X.snames.push(Y.name);break;case 10:{if(--he)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,r["!ref"]=gn(s),t.sheetRows&&t.sheetRows<=s.e.r){var At=s.e.r;s.e.r=t.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=gn(s),s.e.r=At}s.e.r++,s.e.c++}Ie.length>0&&(r["!merges"]=Ie),ae.length>0&&(r["!objects"]=ae),Le.length>0&&(r["!cols"]=Le),Se.length>0&&(r["!rows"]=Se),T.Sheets.push(P)}c===""?d=r:i[c]=r,r=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(X.biff===8&&(X.biff={9:2,521:3,1033:4}[ze]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),X.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(X.biff=5,le=!0,Rc(X.codepage=28591)),X.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(X.biff=2),he++)break;if(r=t.dense?[]:{},X.biff<8&&!le&&(le=!0,Rc(X.codepage=t.codepage||1252)),X.biff<5||Y.BIFFVer==0&&Y.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Et={pos:e.l-Be,name:c};o[Et.pos]=Et,X.snames.push(c)}else c=(o[ke]||{name:""}).name;Y.dt==32&&(r["!type"]="chart"),Y.dt==64&&(r["!type"]="macro"),Ie=[],ae=[],X.arrayf=x=[],Le=[],Se=[],Ge=!1,P={Hidden:(o[ke]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(t.dense?(r[Y.r]||[])[Y.c]:r[qt({c:Y.c,r:Y.r})])&&++Y.c,_={ixfe:Y.ixfe,XF:I[Y.ixfe]||{},v:Y.val,t:"n"},N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Y.c,r:Y.r},_,t);break;case 5:case 517:_={ixfe:Y.ixfe,XF:I[Y.ixfe],v:Y.val,t:Y.t},N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Y.c,r:Y.r},_,t);break;case 638:_={ixfe:Y.ixfe,XF:I[Y.ixfe],v:Y.rknum,t:"n"},N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Y.c,r:Y.r},_,t);break;case 189:for(var Dt=Y.c;Dt<=Y.C;++Dt){var Ye=Y.rkrec[Dt-Y.c][0];_={ixfe:Ye,XF:I[Ye],v:Y.rkrec[Dt-Y.c][1],t:"n"},N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Dt,r:Y.r},_,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){a=Y;break}if(_=XT(Y.val,Y.cell.ixfe,Y.tt),_.XF=I[_.ixfe],t.cellFormula){var vt=Y.formula;if(vt&&vt[0]&&vt[0][0]&&vt[0][0][0]=="PtgExp"){var xn=vt[0][0][1][0],yi=vt[0][0][1][1],Pi=qt({r:xn,c:yi});y[Pi]?_.f=""+bs(Y.formula,s,Y.cell,be,X):_.F=((t.dense?(r[xn]||[])[yi]:r[Pi])||{}).F}else _.f=""+bs(Y.formula,s,Y.cell,be,X)}N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W(Y.cell,_,t),a=Y}break;case 7:case 519:if(a)a.val=Y,_=XT(Y,a.cell.ixfe,"s"),_.XF=I[_.ixfe],t.cellFormula&&(_.f=""+bs(a.formula,s,a.cell,be,X)),N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W(a.cell,_,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(Y);var po=qt(Y[0].s);if(g=t.dense?(r[Y[0].s.r]||[])[Y[0].s.c]:r[po],t.cellFormula&&g){if(!a||!po||!g)break;g.f=""+bs(Y[1],s,Y[0],be,X),g.F=gn(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(f){if(!a)break;y[qt(a.cell)]=Y[0],g=t.dense?(r[a.cell.r]||[])[a.cell.c]:r[qt(a.cell)],(g||{}).f=""+bs(Y[0],s,h,be,X)}}break;case 253:_=XT(l[Y.isst].t,Y.ixfe,"s"),l[Y.isst].h&&(_.h=l[Y.isst].h),_.XF=I[_.ixfe],N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Y.c,r:Y.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:Y.ixfe,XF:I[Y.ixfe],t:"z"},N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Y.c,r:Y.r},_,t));break;case 190:if(t.sheetStubs)for(var An=Y.c;An<=Y.C;++An){var Oi=Y.ixfe[An-Y.c];_={ixfe:Oi,XF:I[Oi],t:"z"},N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:An,r:Y.r},_,t)}break;case 214:case 516:case 4:_=XT(Y.val,Y.ixfe,"s"),_.XF=I[_.ixfe],N>0&&(_.z=ne[_.ixfe>>8&63]),Id(_,t,n.opts.Date1904),W({c:Y.c,r:Y.r},_,t);break;case 0:case 512:he===1&&(s=Y);break;case 252:l=Y;break;case 1054:if(X.biff==4){ne[N++]=Y[1];for(var nr=0;nr<N+163&&jt[nr]!=Y[1];++nr);nr>=163&&Ju(Y[1],N+163)}else Ju(Y[1],Y[0]);break;case 30:{ne[N++]=Y;for(var rn=0;rn<N+163&&jt[rn]!=Y;++rn);rn>=163&&Ju(Y,N+163)}break;case 229:Ie=Ie.concat(Y);break;case 93:ae[Y.cmo[0]]=X.lastobj=Y;break;case 438:X.lastobj.TxO=Y;break;case 127:X.lastobj.ImData=Y;break;case 440:for(C=Y[0].s.r;C<=Y[0].e.r;++C)for(v=Y[0].s.c;v<=Y[0].e.c;++v)g=t.dense?(r[C]||[])[v]:r[qt({c:v,r:C})],g&&(g.l=Y[1]);break;case 2048:for(C=Y[0].s.r;C<=Y[0].e.r;++C)for(v=Y[0].s.c;v<=Y[0].e.c;++v)g=t.dense?(r[C]||[])[v]:r[qt({c:v,r:C})],g&&g.l&&(g.l.Tooltip=Y[1]);break;case 28:{if(X.biff<=5&&X.biff>=2)break;g=t.dense?(r[Y[0].r]||[])[Y[0].c]:r[qt(Y[0])];var Xn=ae[Y[2]];g||(t.dense?(r[Y[0].r]||(r[Y[0].r]=[]),g=r[Y[0].r][Y[0].c]={t:"z"}):g=r[qt(Y[0])]={t:"z"},s.e.r=Math.max(s.e.r,Y[0].r),s.s.r=Math.min(s.s.r,Y[0].r),s.e.c=Math.max(s.e.c,Y[0].c),s.s.c=Math.min(s.s.c,Y[0].c)),g.c||(g.c=[]),m={a:Y[1],t:Xn.TxO.t},g.c.push(m)}break;case 2173:C2e(I[Y.ixfe],Y.ext);break;case 125:{if(!X.cellStyles)break;for(;Y.e>=Y.s;)Le[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},Ge||(Ge=!0,L6(Y.w/256)),Lf(Le[Y.e+1])}break;case 520:{var Gi={};Y.level!=null&&(Se[Y.r]=Gi,Gi.level=Y.level),Y.hidden&&(Se[Y.r]=Gi,Gi.hidden=!0),Y.hpt&&(Se[Y.r]=Gi,Gi.hpt=Y.hpt,Gi.hpx=Yv(Y.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||Dg(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ze]]=Y;break;case 161:r["!margins"]||Dg(r["!margins"]={}),r["!margins"].header=Y.header,r["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(T.Views[0].RTL=!0);break;case 146:F=Y;break;case 2198:oe=Y;break;case 140:R=Y;break;case 442:c?P.CodeName=Y||P.name:T.WBProps.CodeName=Y||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+ze.toString(16)),e.l+=Be}return n.SheetNames=Ir(o).sort(function(Xi,Te){return Number(Xi)-Number(Te)}).map(function(Xi){return o[Xi].name}),t.bookSheets||(n.Sheets=i),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&Q.forEach(function(Xi,Te){n.Sheets[n.SheetNames[Te]]["!autofilter"]=Xi}),n.Strings=l,n.SSF=qi(jt),X.enc&&(n.Encryption=X.enc),oe&&(n.Themes=oe),n.Metadata={},R!==void 0&&(n.Metadata.Country=R),be.names.length>0&&(T.Names=be.names),n.Workbook=T,n}var s_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Ake(e,t,n){var i=Pt.find(e,"/!DocumentSummaryInformation");if(i&&i.size>0)try{var r=OZ(i,Z4,s_.DSI);for(var o in r)t[o]=r[o]}catch(c){if(n.WTF)throw c}var s=Pt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var a=OZ(s,Q4,s_.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(QQ(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function kke(e,t){var n=[],i=[],r=[],o=0,s,a=uZ(Z4,"n"),l=uZ(Q4,"n");if(e.Props)for(s=Ir(e.Props),o=0;o<s.length;++o)(Object.prototype.hasOwnProperty.call(a,s[o])?n:Object.prototype.hasOwnProperty.call(l,s[o])?i:r).push([s[o],e.Props[s[o]]]);if(e.Custprops)for(s=Ir(e.Custprops),o=0;o<s.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},s[o])||(Object.prototype.hasOwnProperty.call(a,s[o])?n:Object.prototype.hasOwnProperty.call(l,s[o])?i:r).push([s[o],e.Custprops[s[o]]]);var c=[];for(o=0;o<r.length;++o)oJ.indexOf(r[o][0])>-1||ZQ.indexOf(r[o][0])>-1||r[o][1]!=null&&c.push(r[o]);i.length&&Pt.utils.cfb_add(t,"/SummaryInformation",LZ(i,s_.SI,l,Q4)),(n.length||c.length)&&Pt.utils.cfb_add(t,"/DocumentSummaryInformation",LZ(n,s_.DSI,a,Z4,c.length?c:null,s_.UDI))}function eee(e,t){t||(t={}),j6(t),l6(),t.codepage&&a6(t.codepage);var n,i;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");n=Pt.find(e,"!CompObj"),i=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=Qa(el(e));break;case"binary":e=Qa(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Yo(e,0),i={content:e}}var r,o;if(n&&Tke(n),t.bookProps&&!t.bookSheets)r={};else{var s=Mn?"buffer":"array";if(i&&i.content)r=Fke(i.content,t);else if((o=Pt.find(e,"PerfectOffice_MAIN"))&&o.content)r=Eg.to_workbook(o.content,(t.type=s,t));else if((o=Pt.find(e,"NativeContent_MAIN"))&&o.content)r=Eg.to_workbook(o.content,(t.type=s,t));else throw(o=Pt.find(e,"MN0"))&&o.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=$2e(e))}var a={};return e.FullPaths&&Ake(e,a,t),r.Props=r.Custprops=a,t.bookFiles&&(r.cfb=e),r}function Pke(e,t){var n=t||{},i=Pt.utils.cfb_new({root:"R"}),r="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":r="/Workbook",n.biff=8;break;case"biff5":r="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Pt.utils.cfb_add(i,r,tee(e,n)),n.biff==8&&(e.Props||e.Custprops)&&kke(e,i),n.biff==8&&e.vbaraw&&q2e(i,Pt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),i}var C_={0:{f:rFe},1:{f:hFe},2:{f:FFe},3:{f:yFe},4:{f:mFe},5:{f:TFe},6:{f:LFe},7:{f:SFe},8:{f:UFe},9:{f:zFe},10:{f:HFe},11:{f:GFe},12:{f:pFe},13:{f:kFe},14:{f:_Fe},15:{f:CFe},16:{f:$J},17:{f:BFe},18:{f:DFe},19:{f:D6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BAe},40:{},42:{},43:{f:LTe},44:{f:PTe},45:{f:VTe},46:{f:GTe},47:{f:HTe},48:{},49:{f:aEe},50:{},51:{f:b2e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mJ},62:{f:OFe},63:{f:M2e},64:{f:oAe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tAe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dFe},148:{f:aFe,p:16},151:{f:XFe},152:{},153:{f:OAe},154:{},155:{},156:{f:kAe},157:{},158:{},159:{T:1,f:ZRe},160:{T:-1},161:{T:1,f:Ng},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:WFe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:w2e},336:{T:-1},337:{f:S2e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Y4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:gJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:YFe},427:{f:ZFe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:JFe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cFe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qFe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Y4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:G2e},633:{T:1},634:{T:-1},635:{T:1,f:V2e},636:{T:-1},637:{f:uEe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:_Ae},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sAe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},r6={6:{f:G4},10:{f:Af},12:{f:eo},13:{f:eo},14:{f:Hr},15:{f:Hr},16:{f:xs},17:{f:Hr},18:{f:Hr},19:{f:eo},20:{f:zZ},21:{f:zZ},23:{f:gJ},24:{f:WZ},25:{f:Hr},26:{},27:{},28:{f:sRe},29:{},34:{f:Hr},35:{f:UZ},38:{f:xs},39:{f:xs},40:{f:xs},41:{f:xs},42:{f:Hr},43:{f:Hr},47:{f:CTe},49:{f:kDe},51:{f:eo},60:{},61:{f:TDe},64:{f:Hr},65:{f:ADe},66:{f:eo},77:{},80:{},81:{},82:{},85:{f:eo},89:{},90:{},91:{},92:{f:vDe},93:{f:cRe},94:{},95:{f:Hr},96:{},97:{},99:{f:Hr},125:{f:mJ},128:{f:KDe},129:{f:wDe},130:{f:eo},131:{f:Hr},132:{f:Hr},133:{f:yDe},134:{},140:{f:vRe},141:{f:eo},144:{},146:{f:yRe},151:{},152:{},153:{},154:{},155:{},156:{f:eo},157:{},158:{},160:{f:RRe},161:{f:xRe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:WDe},190:{f:jDe},193:{f:Af},197:{},198:{},199:{},200:{},201:{},202:{f:Hr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:eo},220:{},221:{f:Hr},222:{},224:{f:qDe},225:{f:mDe},226:{f:Af},227:{},229:{f:aRe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:_De},253:{f:ODe},255:{f:SDe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Hr},353:{f:Af},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:JDe},431:{f:Hr},432:{},433:{},434:{},437:{},438:{f:hRe},439:{f:Hr},440:{f:fRe},441:{},442:{f:x_},443:{},444:{f:eo},445:{},446:{},448:{f:Af},449:{f:RDe,r:2},450:{f:Af},512:{f:VZ},513:{f:DRe},515:{f:ZDe},516:{f:NDe},517:{f:GZ},519:{f:TRe},520:{f:EDe},523:{},545:{f:jZ},549:{f:BZ},566:{},574:{f:MDe},638:{f:UDe},659:{},1048:{},1054:{f:VDe},1084:{},1212:{f:iRe},2048:{f:gRe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:$T},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Af},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:bRe,r:12},2173:{f:v2e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Hr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:nRe,r:12},2197:{},2198:{f:u2e,r:12},2199:{},2200:{},2201:{},2202:{f:rRe,r:12},2203:{f:Af},2204:{},2205:{},2206:{},2207:{},2211:{f:DDe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:eo},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:SRe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wRe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:VZ},1:{},2:{f:kRe},3:{f:FRe},4:{f:MRe},5:{f:GZ},7:{f:ORe},8:{},9:{f:$T},11:{},22:{f:eo},30:{f:GDe},31:{},32:{},33:{f:jZ},36:{},37:{f:BZ},50:{f:LRe},62:{},52:{},67:{},68:{f:eo},69:{},86:{},126:{},127:{f:IRe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:NRe},223:{},234:{},354:{},421:{},518:{f:G4},521:{f:$T},536:{f:WZ},547:{f:UZ},561:{},579:{},1030:{f:G4},1033:{f:$T},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ot(e,t,n,i){var r=t;if(!isNaN(r)){var o=i||(n||[]).length||0,s=e.next(4);s.write_shift(2,r),s.write_shift(2,o),o>0&&x6(n)&&e.push(n)}}function Oke(e,t,n,i){var r=i||(n||[]).length||0;if(r<=8224)return ot(e,t,n,r);var o=t;if(!isNaN(o)){for(var s=n.parts||[],a=0,l=0,c=0;c+(s[a]||8224)<=8224;)c+=s[a]||8224,a++;var d=e.next(4);for(d.write_shift(2,o),d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<r;){for(d=e.next(4),d.write_shift(2,60),c=0;c+(s[a]||8224)<=8224;)c+=s[a]||8224,a++;d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}function R_(e,t,n){return e||(e=Re(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function Lke(e,t,n,i){var r=Re(9);return R_(r,e,t),aJ(n,i||"b",r),r}function Nke(e,t,n){var i=Re(8+2*n.length);return R_(i,e,t),i.write_shift(1,n.length),i.write_shift(n.length,n,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function Bke(e,t,n,i){if(t.v!=null)switch(t.t){case"d":case"n":var r=t.t=="d"?ho($i(t.v)):t.v;r==(r|0)&&r>=0&&r<65536?ot(e,2,PRe(n,i,r)):ot(e,3,ARe(n,i,r));return;case"b":case"e":ot(e,5,Lke(n,i,t.v,t.t));return;case"s":case"str":ot(e,4,Nke(n,i,(t.v||"").slice(0,255)));return}ot(e,1,R_(null,n,i))}function Vke(e,t,n,i){var r=Array.isArray(t),o=Kn(t["!ref"]||"A1"),s,a="",l=[];if(o.e.c>255||o.e.r>16383){if(i.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),s=gn(o)}for(var c=o.s.r;c<=o.e.r;++c){a=Gr(c);for(var d=o.s.c;d<=o.e.c;++d){c===o.s.r&&(l[d]=hr(d)),s=l[d]+a;var h=r?(t[c]||[])[d]:t[s];h&&Bke(e,h,c,d,i)}}}function Hke(e,t){var n=t||{};Tr!=null&&n.dense==null&&(n.dense=Tr);for(var i=Ia(),r=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==n.sheet&&(r=o);if(r==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return ot(i,n.biff==4?1033:n.biff==3?521:9,k6(e,16,n)),Vke(i,e.Sheets[e.SheetNames[r]],r,n,e),ot(i,10),i.end()}function Gke(e,t,n){ot(e,49,PDe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function zke(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)t[r]!=null&&ot(e,1054,HDe(r,t[r],n))})}function Uke(e,t){var n=Re(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),ot(e,2151,n),n=Re(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),hJ(Kn(t["!ref"]||"A1"),n),n.write_shift(4,4),ot(e,2152,n)}function Wke(e,t){for(var n=0;n<16;++n)ot(e,224,HZ({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(i){ot(e,224,HZ(i,0,t))})}function jke(e,t){for(var n=0;n<t["!links"].length;++n){var i=t["!links"][n];ot(e,440,pRe(i)),i[1].Tooltip&&ot(e,2048,mRe(i))}delete t["!links"]}function $ke(e,t){if(t){var n=0;t.forEach(function(i,r){++n<=256&&i&&ot(e,125,_Re(w2(r,i),r))})}}function qke(e,t,n,i,r){var o=16+Gf(r.cellXfs,t,r);if(t.v==null&&!t.bf){ot(e,513,Fg(n,i,o));return}if(t.bf)ot(e,6,wMe(t,n,i,r,o));else switch(t.t){case"d":case"n":var s=t.t=="d"?ho($i(t.v)):t.v;ot(e,515,QDe(n,i,s,o,r));break;case"b":case"e":ot(e,517,YDe(n,i,t.v,o,r,t.t));break;case"s":case"str":if(r.bookSST){var a=G6(r.Strings,t.v,r.revStrings);ot(e,253,LDe(n,i,a,o,r))}else ot(e,516,BDe(n,i,(t.v||"").slice(0,255),o,r));break;default:ot(e,513,Fg(n,i,o))}}function Kke(e,t,n){var i=Ia(),r=n.SheetNames[e],o=n.Sheets[r]||{},s=(n||{}).Workbook||{},a=(s.Sheets||[])[e]||{},l=Array.isArray(o),c=t.biff==8,d,h="",f=[],g=Kn(o["!ref"]||"A1"),m=c?65536:16384;if(g.e.c>255||g.e.r>=m){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,m-1)}ot(i,2057,k6(n,16,t)),ot(i,13,Gl(1)),ot(i,12,Gl(100)),ot(i,15,Xs(!0)),ot(i,17,Xs(!1)),ot(i,16,Ig(.001)),ot(i,95,Xs(!0)),ot(i,42,Xs(!1)),ot(i,43,Xs(!1)),ot(i,130,Gl(1)),ot(i,128,XDe([0,0])),ot(i,131,Xs(!1)),ot(i,132,Xs(!1)),c&&$ke(i,o["!cols"]),ot(i,512,zDe(g,t)),c&&(o["!links"]=[]);for(var v=g.s.r;v<=g.e.r;++v){h=Gr(v);for(var C=g.s.c;C<=g.e.c;++C){v===g.s.r&&(f[C]=hr(C)),d=f[C]+h;var y=l?(o[v]||[])[C]:o[d];y&&(qke(i,y,v,C,t),c&&y.l&&o["!links"].push([d,y.l]))}}var x=a.CodeName||a.name||r;return c&&ot(i,574,FDe((s.Views||[])[0])),c&&(o["!merges"]||[]).length&&ot(i,229,lRe(o["!merges"])),c&&jke(i,o),ot(i,442,lJ(x,t)),c&&Uke(i,o),ot(i,10),i.end()}function Xke(e,t,n){var i=Ia(),r=(e||{}).Workbook||{},o=r.Sheets||[],s=r.WBProps||{},a=n.biff==8,l=n.biff==5;if(ot(i,2057,k6(e,5,n)),n.bookType=="xla"&&ot(i,135),ot(i,225,a?Gl(1200):null),ot(i,193,YEe(2)),l&&ot(i,191),l&&ot(i,192),ot(i,226),ot(i,92,CDe("SheetJS",n)),ot(i,66,Gl(a?1200:1252)),a&&ot(i,353,Gl(0)),a&&ot(i,448),ot(i,317,ERe(e.SheetNames.length)),a&&e.vbaraw&&ot(i,211),a&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";ot(i,442,lJ(c,n))}ot(i,156,Gl(17)),ot(i,25,Xs(!1)),ot(i,18,Xs(!1)),ot(i,19,Gl(0)),a&&ot(i,431,Xs(!1)),a&&ot(i,444,Gl(0)),ot(i,61,IDe(n)),ot(i,64,Xs(!1)),ot(i,141,Gl(0)),ot(i,34,Xs(RAe(e)=="true")),ot(i,14,Xs(!0)),a&&ot(i,439,Xs(!1)),ot(i,218,Gl(0)),Gke(i,e,n),zke(i,e.SSF,n),Wke(i,n),a&&ot(i,352,Xs(!1));var d=i.end(),h=Ia();a&&ot(h,140,CRe()),a&&n.Strings&&Oke(h,252,xDe(n.Strings,n)),ot(h,10);var f=h.end(),g=Ia(),m=0,v=0;for(v=0;v<e.SheetNames.length;++v)m+=(a?12:11)+(a?2:1)*e.SheetNames[v].length;var C=d.length+m+f.length;for(v=0;v<e.SheetNames.length;++v){var y=o[v]||{};ot(g,133,bDe({pos:C,hs:y.Hidden||0,dt:0,name:e.SheetNames[v]},n)),C+=t[v].length}var x=g.end();if(m!=x.length)throw new Error("BS8 "+m+" != "+x.length);var _=[];return d.length&&_.push(d),x.length&&_.push(x),f.length&&_.push(f),Io(_)}function Yke(e,t){var n=t||{},i=[];e&&!e.SSF&&(e.SSF=qi(jt)),e&&e.SSF&&(Qv(),u2(e.SSF),n.revssf=f2(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,$6(n),n.cellXfs=[],Gf(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var r=0;r<e.SheetNames.length;++r)i[i.length]=Kke(r,n,e);return i.unshift(Xke(e,i,n)),Io(i)}function tee(e,t){for(var n=0;n<=e.SheetNames.length;++n){var i=e.Sheets[e.SheetNames[n]];if(!(!i||!i["!ref"])){var r=Ma(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=t||{};switch(o.biff||2){case 8:case 5:return Yke(e,t);case 4:case 3:case 2:return Hke(e,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function tQ(e,t){var n=t||{};Tr!=null&&n.dense==null&&(n.dense=Tr);var i=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var r=e.match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var o=e.match(/<\/table/i),s=r.index,a=o&&o.index||e.length,l=PSe(e.slice(s,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,h=0,f=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var v=l[s].trim(),C=v.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var y=v.split(/<\/t[dh]>/i);for(a=0;a<y.length;++a){var x=y[a].trim();if(x.match(/<t[dh]/i)){for(var _=x,R=0;_.charAt(0)=="<"&&(R=_.indexOf(">"))>-1;)_=_.slice(R+1);for(var I=0;I<m.length;++I){var F=m[I];F.s.c==d&&F.s.r<c&&c<=F.e.r&&(d=F.e.c+1,I=-1)}var T=Yt(x.slice(0,x.indexOf(">")));f=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||f>1)&&m.push({s:{r:c,c:d},e:{r:c+(h||1)-1,c:d+f-1}});var P=T.t||T["data-t"]||"";if(!_.length){d+=f;continue}if(_=MQ(_),g.s.r>c&&(g.s.r=c),g.e.r<c&&(g.e.r=c),g.s.c>d&&(g.s.c=d),g.e.c<d&&(g.e.c=d),!_.length){d+=f;continue}var L={t:"s",v:_};n.raw||!_.trim().length||P=="s"||(_==="TRUE"?L={t:"b",v:!0}:_==="FALSE"?L={t:"b",v:!1}:isNaN(Ic(_))?isNaN(Kv(_).getDate())||(L={t:"d",v:$i(_)},n.cellDates||(L={t:"n",v:ho(L.v)}),L.z=n.dateNF||jt[14]):L={t:"n",v:Ic(_)}),n.dense?(i[c]||(i[c]=[]),i[c][d]=L):i[qt({r:c,c:d})]=L,d+=f}}}}return i["!ref"]=gn(g),m.length&&(i["!merges"]=m),i}function Zke(e,t,n,i){for(var r=e["!merges"]||[],o=[],s=t.s.c;s<=t.e.c;++s){for(var a=0,l=0,c=0;c<r.length;++c)if(!(r[c].s.r>n||r[c].s.c>s)&&!(r[c].e.r<n||r[c].e.c<s)){if(r[c].s.r<n||r[c].s.c<s){a=-1;break}a=r[c].e.r-r[c].s.r+1,l=r[c].e.c-r[c].s.c+1;break}if(!(a<0)){var d=qt({r:n,c:s}),h=i.dense?(e[n]||[])[s]:e[d],f=h&&h.v!=null&&(h.h||m6(h.w||(th(h),h.w)||""))||"",g={};a>1&&(g.rowspan=a),l>1&&(g.colspan=l),i.editable?f='<span contenteditable="true">'+f+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),g.id=(i.id||"sjs")+"-"+d,o.push(it("td",f,g))}}var m="<tr>";return m+o.join("")+"</tr>"}var Qke='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Jke="</body></html>";function ePe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Hf(tQ(n[0],t),t);var i=X6();return n.forEach(function(r,o){Y6(i,tQ(r,t),"Sheet"+(o+1))}),i}function tPe(e,t,n){var i=[];return i.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function nee(e,t){var n=t||{},i=n.header!=null?n.header:Qke,r=n.footer!=null?n.footer:Jke,o=[i],s=Ma(e["!ref"]);n.dense=Array.isArray(e),o.push(tPe(e,s,n));for(var a=s.s.r;a<=s.e.r;++a)o.push(Zke(e,s,a,n));return o.push("</table>"+r),o.join("")}function iee(e,t,n){var i=n||{};Tr!=null&&(i.dense=Tr);var r=0,o=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var s=typeof i.origin=="string"?fr(i.origin):i.origin;r=s.r,o=s.c}var a=t.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r,c:o}};if(e["!ref"]){var d=Ma(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),r==-1&&(c.e.r=r=d.e.r+1)}var h=[],f=0,g=e["!rows"]||(e["!rows"]=[]),m=0,v=0,C=0,y=0,x=0,_=0;for(e["!cols"]||(e["!cols"]=[]);m<a.length&&v<l;++m){var R=a[m];if(nQ(R)){if(i.display)continue;g[v]={hidden:!0}}var I=R.children;for(C=y=0;C<I.length;++C){var F=I[C];if(!(i.display&&nQ(F))){var T=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):MQ(F.innerHTML),P=F.getAttribute("data-z")||F.getAttribute("z");for(f=0;f<h.length;++f){var L=h[f];L.s.c==y+o&&L.s.r<v+r&&v+r<=L.e.r&&(y=L.e.c+1-o,f=-1)}_=+F.getAttribute("colspan")||1,((x=+F.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:v+r,c:y+o},e:{r:v+r+(x||1)-1,c:y+o+(_||1)-1}});var U={t:"s",v:T},W=F.getAttribute("data-t")||F.getAttribute("t")||"";T!=null&&(T.length==0?U.t=W||"z":i.raw||T.trim().length==0||W=="s"||(T==="TRUE"?U={t:"b",v:!0}:T==="FALSE"?U={t:"b",v:!1}:isNaN(Ic(T))?isNaN(Kv(T).getDate())||(U={t:"d",v:$i(T)},i.cellDates||(U={t:"n",v:ho(U.v)}),U.z=i.dateNF||jt[14]):U={t:"n",v:Ic(T)})),U.z===void 0&&P!=null&&(U.z=P);var X="",oe=F.getElementsByTagName("A");if(oe&&oe.length)for(var Ie=0;Ie<oe.length&&!(oe[Ie].hasAttribute("href")&&(X=oe[Ie].getAttribute("href"),X.charAt(0)!="#"));++Ie);X&&X.charAt(0)!="#"&&(U.l={Target:X}),i.dense?(e[v+r]||(e[v+r]=[]),e[v+r][y+o]=U):e[qt({c:y+o,r:v+r})]=U,c.e.c<y+o&&(c.e.c=y+o),y+=_}}++v}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,v-1+r),e["!ref"]=gn(c),v>=l&&(e["!fullref"]=gn((c.e.r=a.length-m+v-1+r,c))),e}function ree(e,t){var n=t||{},i=n.dense?[]:{};return iee(i,e,t)}function nPe(e,t){return Hf(ree(e,t),t)}function nQ(e){var t="",n=iPe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function iPe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rPe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(i,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=qn(t.replace(/<[^>]*>/g,""));return[n]}var iQ={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function oee(e,t){var n=t||{};Tr!=null&&n.dense==null&&(n.dense=Tr);var i=v6(e),r=[],o,s,a={name:""},l="",c=0,d,h,f={},g=[],m=n.dense?[]:{},v,C,y={value:""},x="",_=0,R,I=[],F=-1,T=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,U={},W=[],X={},oe=0,Ie=0,ae=[],Le=1,Se=1,Ge=[],be={Names:[]},Ae={},he=["",""],N=[],ne={},Q="",Z=0,le=!1,ke=!1,ze=0;for(h_.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=h_.exec(i);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":v[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?m["!ref"]=gn(P):m["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=P.e.r&&(m["!fullref"]=m["!ref"],P.e.r=n.sheetRows-1,m["!ref"]=gn(P)),W.length&&(m["!merges"]=W),ae.length&&(m["!rows"]=ae),d.name=d.\u540D\u79F0||d.name,typeof JSON<"u"&&JSON.stringify(d),g.push(d.name),f[d.name]=m,ke=!1):v[0].charAt(v[0].length-2)!=="/"&&(d=Yt(v[0],!1),F=T=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,m=n.dense?[]:{},W=[],ae=[],ke=!0);break;case"table-row-group":v[1]==="/"?--L:++L;break;case"table-row":case"\u884C":if(v[1]==="/"){F+=Le,Le=1;break}if(h=Yt(v[0],!1),h.\u884C\u53F7?F=h.\u884C\u53F7-1:F==-1&&(F=0),Le=+h["number-rows-repeated"]||1,Le<10)for(ze=0;ze<Le;++ze)L>0&&(ae[F+ze]={level:L});T=-1;break;case"covered-table-cell":v[1]!=="/"&&++T,n.sheetStubs&&(n.dense?(m[F]||(m[F]=[]),m[F][T]={t:"z"}):m[qt({r:F,c:T})]={t:"z"}),x="",I=[];break;case"table-cell":case"\u6570\u636E":if(v[0].charAt(v[0].length-2)==="/")++T,y=Yt(v[0],!1),Se=parseInt(y["number-columns-repeated"]||"1",10),C={t:"z",v:null},y.formula&&n.cellFormula!=!1&&(C.f=QZ(qn(y.formula))),(y.\u6570\u636E\u7C7B\u578B||y["value-type"])=="string"&&(C.t="s",C.v=qn(y["string-value"]||""),n.dense?(m[F]||(m[F]=[]),m[F][T]=C):m[qt({r:F,c:T})]=C),T+=Se-1;else if(v[1]!=="/"){++T,x="",_=0,I=[],Se=1;var Be=Le?F+Le-1:F;if(T>P.e.c&&(P.e.c=T),T<P.s.c&&(P.s.c=T),F<P.s.r&&(P.s.r=F),Be>P.e.r&&(P.e.r=Be),y=Yt(v[0],!1),N=[],ne={},C={t:y.\u6570\u636E\u7C7B\u578B||y["value-type"],v:null},n.cellFormula)if(y.formula&&(y.formula=qn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(oe=parseInt(y["number-matrix-rows-spanned"],10)||0,Ie=parseInt(y["number-matrix-columns-spanned"],10)||0,X={s:{r:F,c:T},e:{r:F+oe-1,c:T+Ie-1}},C.F=gn(X),Ge.push([X,C.F])),y.formula)C.f=QZ(y.formula);else for(ze=0;ze<Ge.length;++ze)F>=Ge[ze][0].s.r&&F<=Ge[ze][0].e.r&&T>=Ge[ze][0].s.c&&T<=Ge[ze][0].e.c&&(C.F=Ge[ze][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(oe=parseInt(y["number-rows-spanned"],10)||0,Ie=parseInt(y["number-columns-spanned"],10)||0,X={s:{r:F,c:T},e:{r:F+oe-1,c:T+Ie-1}},W.push(X)),y["number-columns-repeated"]&&(Se=parseInt(y["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=ji(y["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(y.value);break;case"percentage":C.t="n",C.v=parseFloat(y.value);break;case"currency":C.t="n",C.v=parseFloat(y.value);break;case"date":C.t="d",C.v=$i(y["date-value"]),n.cellDates||(C.t="n",C.v=ho(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=FSe(y["time-value"])/86400,n.cellDates&&(C.t="d",C.v=p2(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(y.\u6570\u636E\u6570\u503C);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",y["string-value"]!=null&&(x=qn(y["string-value"]),I=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(le=!1,C.t==="s"&&(C.v=x||"",I.length&&(C.R=I),le=_==0),Ae.Target&&(C.l=Ae),N.length>0&&(C.c=N,N=[]),x&&n.cellText!==!1&&(C.w=x),le&&(C.t="z",delete C.v),(!le||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=F))for(var ve=0;ve<Le;++ve){if(Se=parseInt(y["number-columns-repeated"]||"1",10),n.dense)for(m[F+ve]||(m[F+ve]=[]),m[F+ve][T]=ve==0?C:qi(C);--Se>0;)m[F+ve][T+Se]=qi(C);else for(m[qt({r:F+ve,c:T})]=C;--Se>0;)m[qt({r:F+ve,c:T+Se})]=qi(C);P.e.c<=T&&(P.e.c=T)}Se=parseInt(y["number-columns-repeated"]||"1",10),T+=Se-1,Se=0,C={},x="",I=[]}Ae={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((o=r.pop())[0]!==v[3])throw"Bad state: "+o}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((o=r.pop())[0]!==v[3])throw"Bad state: "+o;ne.t=x,I.length&&(ne.R=I),ne.a=Q,N.push(ne)}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!1]);Q="",Z=0,x="",_=0,I=[];break;case"creator":v[1]==="/"?Q=i.slice(Z,v.index):Z=v.index+v[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((o=r.pop())[0]!==v[3])throw"Bad state: "+o}else v[0].charAt(v[0].length-2)!=="/"&&r.push([v[3],!1]);x="",_=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(U[a.name]=l,(o=r.pop())[0]!==v[3])throw"Bad state: "+o}else v[0].charAt(v[0].length-2)!=="/"&&(l="",a=Yt(v[0],!1),r.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(r[r.length-1][0]){case"time-style":case"date-style":s=Yt(v[0],!1),l+=iQ[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(r[r.length-1][0]){case"time-style":case"date-style":s=Yt(v[0],!1),l+=iQ[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(r[r.length-1][0]){case"number-style":case"date-style":case"time-style":l+=i.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":s=Yt(v[0],!1),he=z4(s["cell-range-address"]);var St={Name:s.name,Ref:he[0]+"!"+he[1]};ke&&(St.Sheet=g.length),be.Names.push(St);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(r[r.length-1][0])>-1)break;if(v[1]==="/"&&(!y||!y["string-value"])){var Y=rPe(i.slice(_,v.index),R);x=(x.length>0?x+`
`:"")+Y[0]}else R=Yt(v[0],!1),_=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{he=z4(Yt(v[0])["target-range-address"]),f[he[0]]["!autofilter"]={ref:he[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(Ae=Yt(v[0],!1),!Ae.href)break;Ae.Target=qn(Ae.href),delete Ae.href,Ae.Target.charAt(0)=="#"&&Ae.Target.indexOf(".")>-1?(he=z4(Ae.Target.slice(1)),Ae.Target="#"+he[0]+"!"+he[1]):Ae.Target.match(/^\.\.[\\\/]/)&&(Ae.Target=Ae.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(n.WTF)throw new Error(v)}}var $t={Sheets:f,SheetNames:g,Workbook:be};return n.bookSheets&&delete $t.Sheets,$t}function rQ(e,t){t=t||{},Hl(e,"META-INF/manifest.xml")&&FEe(Jr(e,"META-INF/manifest.xml"),t);var n=Ja(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var i=oee(Si(n),t);return Hl(e,"meta.xml")&&(i.Props=XQ(Jr(e,"meta.xml"))),i}function oQ(e,t){return oee(e,t)}var oPe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+u_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zr+t}}(),sQ=function(){var e=function(o){return wi(o).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,i=function(o,s,a){var l=[];l.push('      <table:table table:name="'+wi(s.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,d=0,h=Ma(o["!ref"]||"A1"),f=o["!merges"]||[],g=0,m=Array.isArray(o);if(o["!cols"])for(d=0;d<=h.e.c;++d)l.push("        <table:table-column"+(o["!cols"][d]?' table:style-name="co'+o["!cols"][d].ods+'"':"")+`></table:table-column>
`);var v="",C=o["!rows"]||[];for(c=0;c<h.s.r;++c)v=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=h.e.r;++c){for(v=C[c]?' table:style-name="ro'+C[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),d=0;d<h.s.c;++d)l.push(t);for(;d<=h.e.c;++d){var y=!1,x={},_="";for(g=0;g!=f.length;++g)if(!(f[g].s.c>d)&&!(f[g].s.r>c)&&!(f[g].e.c<d)&&!(f[g].e.r<c)){(f[g].s.c!=d||f[g].s.r!=c)&&(y=!0),x["table:number-columns-spanned"]=f[g].e.c-f[g].s.c+1,x["table:number-rows-spanned"]=f[g].e.r-f[g].s.r+1;break}if(y){l.push(n);continue}var R=qt({r:c,c:d}),I=m?(o[c]||[])[d]:o[R];if(I&&I.f&&(x["table:formula"]=wi(EMe(I.f)),I.F&&I.F.slice(0,R.length)==R)){var F=Ma(I.F);x["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,x["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!I){l.push(t);continue}switch(I.t){case"b":_=I.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=I.v?"true":"false";break;case"n":_=I.w||String(I.v||0),x["office:value-type"]="float",x["office:value"]=I.v||0;break;case"s":case"str":_=I.v==null?"":I.v,x["office:value-type"]="string";break;case"d":_=I.w||$i(I.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=$i(I.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(t);continue}var T=e(_);if(I.l&&I.l.Target){var P=I.l.Target;P=P.charAt(0)=="#"?"#"+DMe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),T=it("text:a",T,{"xlink:href":P.replace(/&/g,"&amp;")})}l.push("          "+it("table:table-cell",it("text:p",T,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},r=function(o,s){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var a=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var h=c["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Lf(h),h.ods=a;var f=c["!cols"][d].wpx+"px";o.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),o.push(`  </style:style>
`),++a}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var h=c["!rows"][d].hpx+"px";o.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),o.push(`  </style:style>
`),++l}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(s,a){var l=[zr],c=u_({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=u_({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+d+`>
`),l.push(KQ().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),r(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)l.push(i(s.Sheets[s.SheetNames[h]],s,h,a));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function see(e,t){if(t.bookType=="fods")return sQ(e,t);var n=f6(),i="",r=[],o=[];return i="mimetype",bn(n,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",bn(n,i,sQ(e,t)),r.push([i,"text/xml"]),o.push([i,"ContentFile"]),i="styles.xml",bn(n,i,oPe(e,t)),r.push([i,"text/xml"]),o.push([i,"StylesFile"]),i="meta.xml",bn(n,i,zr+KQ()),r.push([i,"text/xml"]),o.push([i,"MetadataFile"]),i="manifest.rdf",bn(n,i,PEe(o)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",bn(n,i,AEe(r)),n}function Ag(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o6(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Si(Vf(e))}function sPe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Qa(Ad(e))}function aPe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var i=0;i<t.length;++i)if(e[n+i]!=t[i])continue e;return!0}return!1}function Bf(e){var t=e.reduce(function(r,o){return r+o.length},0),n=new Uint8Array(t),i=0;return e.forEach(function(r){n.set(r,i),i+=r.length}),n}function aQ(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function lPe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,i=e[t+14]&1,r=t+13;r>=t;--r)i=i*256+e[r];return(e[t+15]&128?-i:i)*Math.pow(10,n-6176)}function cPe(e,t,n){var i=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,r=n/Math.pow(10,i-6176);e[t+15]|=i>>7,e[t+14]|=(i&127)<<1;for(var o=0;r>=1;++o,r/=256)e[t+o]=r&255;e[t+15]|=n>=0?0:128}function w_(e,t){var n=t?t[0]:0,i=e[n]&127;e:if(e[n++]>=128&&(i|=(e[n]&127)<<7,e[n++]<128||(i|=(e[n]&127)<<14,e[n++]<128)||(i|=(e[n]&127)<<21,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(i+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),i}function vi(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function Rr(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Jn(e){for(var t=[],n=[0];n[0]<e.length;){var i=n[0],r=w_(e,n),o=r&7;r=Math.floor(r/8);var s=0,a;if(r==0)break;switch(o){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:s=4,a=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,a=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=w_(e,n),a=e.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(r," at offset ").concat(i))}var c={data:a,type:o};t[r]==null?t[r]=[c]:t[r].push(c)}return t}function Xo(e){var t=[];return e.forEach(function(n,i){n.forEach(function(r){r.data&&(t.push(vi(i*8+r.type)),r.type==2&&t.push(vi(r.data.length)),t.push(r.data))})}),Bf(t)}function W6(e,t){return e?.map(function(n){return t(n.data)})||[]}function Bl(e){for(var t,n=[],i=[0];i[0]<e.length;){var r=w_(e,i),o=Jn(e.slice(i[0],i[0]+r));i[0]+=r;var s={id:Rr(o[1][0].data),messages:[]};o[2].forEach(function(a){var l=Jn(a.data),c=Rr(l[3][0].data);s.messages.push({meta:l,data:e.slice(i[0],i[0]+c)}),i[0]+=c}),(t=o[3])!=null&&t[0]&&(s.merge=Rr(o[3][0].data)>>>0>0),n.push(s)}return n}function Bv(e){var t=[];return e.forEach(function(n){var i=[];i[1]=[{data:vi(n.id),type:0}],i[2]=[],n.merge!=null&&(i[3]=[{data:vi(+!!n.merge),type:0}]);var r=[];n.messages.forEach(function(s){r.push(s.data),s.meta[3]=[{type:0,data:vi(s.data.length)}],i[2].push({data:Xo(s.meta),type:2})});var o=Xo(i);t.push(vi(o.length)),t.push(o),r.forEach(function(s){return t.push(s)})}),Bf(t)}function dPe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],i=w_(t,n),r=[];n[0]<t.length;){var o=t[n[0]]&3;if(o==0){var s=t[n[0]++]>>2;if(s<60)++s;else{var a=s-59;s=t[n[0]],a>1&&(s|=t[n[0]+1]<<8),a>2&&(s|=t[n[0]+2]<<16),a>3&&(s|=t[n[0]+3]<<24),s>>>=0,s++,n[0]+=a}r.push(t.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var l=0,c=0;if(o==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,o==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),r=[Bf(r)],l==0)throw new Error("Invalid offset 0");if(l>r[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(r.push(r[0].slice(-l)),c-=l;c>=r[r.length-1].length;)r.push(r[r.length-1]),c-=r[r.length-1].length;r.push(r[0].slice(-l,-l+c))}}var d=Bf(r);if(d.length!=i)throw new Error("Unexpected length: ".concat(d.length," != ").concat(i));return d}function Vl(e){for(var t=[],n=0;n<e.length;){var i=e[n++],r=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(dPe(i,e.slice(n,n+r))),n+=r}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Bf(t)}function Vv(e){for(var t=[],n=0;n<e.length;){var i=Math.min(e.length-n,268435455),r=new Uint8Array(4);t.push(r);var o=vi(i),s=o.length;t.push(o),i<=60?(s++,t.push(new Uint8Array([i-1<<2]))):i<=256?(s+=2,t.push(new Uint8Array([240,i-1&255]))):i<=65536?(s+=3,t.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(s+=4,t.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(s+=5,t.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),t.push(e.slice(n,n+i)),s+=i,r[0]=0,r[1]=s&255,r[2]=s>>8&255,r[3]=s>>16&255,n+=i}return Bf(t)}function uPe(e,t,n,i){var r=Ag(e),o=r.getUint32(4,!0),s=(i>1?12:8)+aQ(o&(i>1?3470:398))*4,a=-1,l=-1,c=NaN,d=new Date(2001,0,1);o&512&&(a=r.getUint32(s,!0),s+=4),s+=aQ(o&(i>1?12288:4096))*4,o&16&&(l=r.getUint32(s,!0),s+=4),o&32&&(c=r.getFloat64(s,!0),s+=8),o&64&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:n[a]};else if(l>-1)h={t:"s",v:t[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function hPe(e,t,n){var i=Ag(e),r=i.getUint32(8,!0),o=12,s=-1,a=-1,l=NaN,c=NaN,d=new Date(2001,0,1);r&1&&(l=lPe(e,o),o+=16),r&2&&(c=i.getFloat64(o,!0),o+=8),r&4&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8),r&8&&(a=i.getUint32(o,!0),o+=4),r&16&&(s=i.getUint32(o,!0),o+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:t[a]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:n[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(r&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(r&31," : ").concat(e.slice(0,4)))}return h}function W4(e,t){var n=new Uint8Array(32),i=Ag(n),r=12,o=0;switch(n[0]=5,e.t){case"n":n[1]=2,cPe(n,r,e.v),o|=1,r+=16;break;case"b":n[1]=6,i.setFloat64(r,e.v?1:0,!0),o|=2,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,i.setUint32(r,t.indexOf(e.v),!0),o|=8,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(8,o,!0),n.slice(0,r)}function j4(e,t){var n=new Uint8Array(32),i=Ag(n),r=12,o=0;switch(n[0]=3,e.t){case"n":n[2]=2,i.setFloat64(r,e.v,!0),o|=32,r+=8;break;case"b":n[2]=6,i.setFloat64(r,e.v?1:0,!0),o|=32,r+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,i.setUint32(r,t.indexOf(e.v),!0),o|=16,r+=4;break;default:throw"unsupported cell type "+e.t}return i.setUint32(4,o,!0),n.slice(0,r)}function fPe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return uPe(e,t,n,e[0]);case 5:return hPe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ys(e){var t=Jn(e);return w_(t[1][0].data)}function lQ(e,t){var n=Jn(t.data),i=Rr(n[1][0].data),r=n[3],o=[];return(r||[]).forEach(function(s){var a=Jn(s.data),l=Rr(a[1][0].data)>>>0;switch(i){case 1:o[l]=o6(a[3][0].data);break;case 8:{var c=e[ys(a[9][0].data)][0],d=Jn(c.data),h=e[ys(d[1][0].data)][0],f=Rr(h.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var g=Jn(h.data);o[l]=g[3].map(function(m){return o6(m.data)}).join("")}break}}),o}function pPe(e,t){var n,i,r,o,s,a,l,c,d,h,f,g,m,v,C=Jn(e),y=Rr(C[1][0].data)>>>0,x=Rr(C[2][0].data)>>>0,_=((i=(n=C[8])==null?void 0:n[0])==null?void 0:i.data)&&Rr(C[8][0].data)>0||!1,R,I;if((o=(r=C[7])==null?void 0:r[0])!=null&&o.data&&t!=0)R=(a=(s=C[7])==null?void 0:s[0])==null?void 0:a.data,I=(c=(l=C[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(d=C[4])==null?void 0:d[0])!=null&&h.data&&t!=1)R=(g=(f=C[4])==null?void 0:f[0])==null?void 0:g.data,I=(v=(m=C[3])==null?void 0:m[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var F=_?4:1,T=Ag(R),P=[],L=0;L<R.length/2;++L){var U=T.getUint16(L*2,!0);U<65535&&P.push([L,U])}if(P.length!=x)throw"Expected ".concat(x," cells, found ").concat(P.length);var W=[];for(L=0;L<P.length-1;++L)W[P[L][0]]=I.subarray(P[L][1]*F,P[L+1][1]*F);return P.length>=1&&(W[P[P.length-1][0]]=I.subarray(P[P.length-1][1]*F)),{R:y,cells:W}}function gPe(e,t){var n,i=Jn(t.data),r=(n=i?.[7])!=null&&n[0]?Rr(i[7][0].data)>>>0>0?1:0:-1,o=W6(i[5],function(s){return pPe(s,r)});return{nrows:Rr(i[4][0].data)>>>0,data:o.reduce(function(s,a){return s[a.R]||(s[a.R]=[]),a.cells.forEach(function(l,c){if(s[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));s[a.R][c]=l}),s},[])}}function mPe(e,t,n){var i,r=Jn(t.data),o={s:{r:0,c:0},e:{r:0,c:0}};if(o.e.r=(Rr(r[6][0].data)>>>0)-1,o.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(o.e.c=(Rr(r[7][0].data)>>>0)-1,o.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));n["!ref"]=gn(o);var s=Jn(r[4][0].data),a=lQ(e,e[ys(s[4][0].data)][0]),l=(i=s[17])!=null&&i[0]?lQ(e,e[ys(s[17][0].data)][0]):[],c=Jn(s[3][0].data),d=0;c[1].forEach(function(h){var f=Jn(h.data),g=e[ys(f[2][0].data)][0],m=Rr(g.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var v=gPe(e,g);v.data.forEach(function(C,y){C.forEach(function(x,_){var R=qt({r:d+y,c:_}),I=fPe(x,a,l);I&&(n[R]=I)})}),d+=v.nrows})}function vPe(e,t){var n=Jn(t.data),i={"!ref":"A1"},r=e[ys(n[2][0].data)],o=Rr(r[0].meta[1][0].data);if(o!=6001)throw new Error("6000 unexpected reference to ".concat(o));return mPe(e,r[0],i),i}function CPe(e,t){var n,i=Jn(t.data),r={name:(n=i[1])!=null&&n[0]?o6(i[1][0].data):"",sheets:[]},o=W6(i[2],ys);return o.forEach(function(s){e[s].forEach(function(a){var l=Rr(a.meta[1][0].data);l==6e3&&r.sheets.push(vPe(e,a))})}),r}function wPe(e,t){var n=X6(),i=Jn(t.data),r=W6(i[1],ys);if(r.forEach(function(o){e[o].forEach(function(s){var a=Rr(s.meta[1][0].data);if(a==2){var l=CPe(e,s);l.sheets.forEach(function(c,d){Y6(n,c,d==0?l.name:l.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function $4(e){var t,n,i,r,o={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Vl(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var d;try{d=Bl(c)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){o[h.id]=h.messages,s.push(h.id)})}}),!s.length)throw new Error("File has no messages");var a=((r=(i=(n=(t=o?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:i[1])==null?void 0:r[0].data)&&Rr(o[1][0].meta[1][0].data)==1&&o[1][0];if(a||s.forEach(function(l){o[l].forEach(function(c){var d=Rr(c.meta[1][0].data)>>>0;if(d==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return wPe(o,a)}function yPe(e,t,n){var i,r,o,s;if(!((i=e[6])!=null&&i[0])||!((r=e[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var a=((s=(o=e[8])==null?void 0:o[0])==null?void 0:s.data)&&Rr(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=Ag(e[7][0].data),d=0,h=[],f=Ag(e[4][0].data),g=0,m=[],v=0;v<t.length;++v){if(t[v]==null){c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535);continue}c.setUint16(v*2,d,!0),f.setUint16(v*2,g,!0);var C,y;switch(typeof t[v]){case"string":C=W4({t:"s",v:t[v]},n),y=j4({t:"s",v:t[v]},n);break;case"number":C=W4({t:"n",v:t[v]},n),y=j4({t:"n",v:t[v]},n);break;case"boolean":C=W4({t:"b",v:t[v]},n),y=j4({t:"b",v:t[v]},n);break;default:throw new Error("Unsupported value "+t[v])}h.push(C),d+=C.length,m.push(y),g+=y.length,++l}for(e[2][0].data=vi(l);v<e[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),f.setUint16(v*2,65535,!0);return e[6][0].data=Bf(h),e[3][0].data=Bf(m),l}function bPe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=Ma(n["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(gn(i)));var o=c2(n,{range:i,header:1}),s=["~Sh33tJ5~"];o.forEach(function(Q){return Q.forEach(function(Z){typeof Z=="string"&&s.push(Z)})});var a={},l=[],c=Pt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(Q,Z){return[Q,c.FullPaths[Z]]}).forEach(function(Q){var Z=Q[0],le=Q[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var ke=Z.content,ze=Vl(ke),Be=Bl(ze);Be.forEach(function(ve){l.push(ve.id),a[ve.id]={deps:[],location:le,type:Rr(ve.messages[0].meta[1][0].data)}})}}),l.sort(function(Q,Z){return Q-Z});var d=l.filter(function(Q){return Q>1}).map(function(Q){return[Q,vi(Q)]});c.FileIndex.map(function(Q,Z){return[Q,c.FullPaths[Z]]}).forEach(function(Q){var Z=Q[0],le=Q[1];if(Z.name.match(/\.iwa/)){var ke=Bl(Vl(Z.content));ke.forEach(function(ze){ze.messages.forEach(function(Be){d.forEach(function(ve){ze.messages.some(function(St){return Rr(St.meta[1][0].data)!=11006&&aPe(St.data,ve[1])})&&a[ve[0]].deps.push(ze.id)})})})}});function h(){for(var Q=927262;Q<2e6;++Q)if(!a[Q])return Q;throw new Error("Too many messages")}for(var f=Pt.find(c,a[1].location),g=Bl(Vl(f.content)),m,v=0;v<g.length;++v){var C=g[v];C.id==1&&(m=C)}var y=ys(Jn(m.messages[0].data)[1][0].data);for(f=Pt.find(c,a[y].location),g=Bl(Vl(f.content)),v=0;v<g.length;++v)C=g[v],C.id==y&&(m=C);for(y=ys(Jn(m.messages[0].data)[2][0].data),f=Pt.find(c,a[y].location),g=Bl(Vl(f.content)),v=0;v<g.length;++v)C=g[v],C.id==y&&(m=C);for(y=ys(Jn(m.messages[0].data)[2][0].data),f=Pt.find(c,a[y].location),g=Bl(Vl(f.content)),v=0;v<g.length;++v)C=g[v],C.id==y&&(m=C);var x=Jn(m.messages[0].data);{x[6][0].data=vi(i.e.r+1),x[7][0].data=vi(i.e.c+1);var _=ys(x[46][0].data),R=Pt.find(c,a[_].location),I=Bl(Vl(R.content));{for(var F=0;F<I.length&&I[F].id!=_;++F);if(I[F].id!=_)throw"Bad ColumnRowUIDMapArchive";var T=Jn(I[F].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var P=0;P<=i.e.c;++P){var L=[];L[1]=L[2]=[{type:0,data:vi(P+420690)}],T[1].push({type:2,data:Xo(L)}),T[2].push({type:0,data:vi(P)}),T[3].push({type:0,data:vi(P)})}T[4]=[],T[5]=[],T[6]=[];for(var U=0;U<=i.e.r;++U)L=[],L[1]=L[2]=[{type:0,data:vi(U+726270)}],T[4].push({type:2,data:Xo(L)}),T[5].push({type:0,data:vi(U)}),T[6].push({type:0,data:vi(U)});I[F].messages[0].data=Xo(T)}R.content=Vv(Bv(I)),R.size=R.content.length,delete x[46];var W=Jn(x[4][0].data);{W[7][0].data=vi(i.e.r+1);var X=Jn(W[1][0].data),oe=ys(X[2][0].data);R=Pt.find(c,a[oe].location),I=Bl(Vl(R.content));{if(I[0].id!=oe)throw"Bad HeaderStorageBucket";var Ie=Jn(I[0].messages[0].data);for(U=0;U<o.length;++U){var ae=Jn(Ie[2][0].data);ae[1][0].data=vi(U),ae[4][0].data=vi(o[U].length),Ie[2][U]={type:Ie[2][0].type,data:Xo(ae)}}I[0].messages[0].data=Xo(Ie)}R.content=Vv(Bv(I)),R.size=R.content.length;var Le=ys(W[2][0].data);R=Pt.find(c,a[Le].location),I=Bl(Vl(R.content));{if(I[0].id!=Le)throw"Bad HeaderStorageBucket";for(Ie=Jn(I[0].messages[0].data),P=0;P<=i.e.c;++P)ae=Jn(Ie[2][0].data),ae[1][0].data=vi(P),ae[4][0].data=vi(i.e.r+1),Ie[2][P]={type:Ie[2][0].type,data:Xo(ae)};I[0].messages[0].data=Xo(Ie)}R.content=Vv(Bv(I)),R.size=R.content.length;var Se=ys(W[4][0].data);(function(){for(var Q=Pt.find(c,a[Se].location),Z=Bl(Vl(Q.content)),le,ke=0;ke<Z.length;++ke){var ze=Z[ke];ze.id==Se&&(le=ze)}var Be=Jn(le.messages[0].data);{Be[3]=[];var ve=[];s.forEach(function($t,At){ve[1]=[{type:0,data:vi(At)}],ve[2]=[{type:0,data:vi(1)}],ve[3]=[{type:2,data:sPe($t)}],Be[3].push({type:2,data:Xo(ve)})})}le.messages[0].data=Xo(Be);var St=Bv(Z),Y=Vv(St);Q.content=Y,Q.size=Q.content.length})();var Ge=Jn(W[3][0].data);{var be=Ge[1][0];delete Ge[2];var Ae=Jn(be.data);{var he=ys(Ae[2][0].data);(function(){for(var Q=Pt.find(c,a[he].location),Z=Bl(Vl(Q.content)),le,ke=0;ke<Z.length;++ke){var ze=Z[ke];ze.id==he&&(le=ze)}var Be=Jn(le.messages[0].data);{delete Be[6],delete Ge[7];var ve=new Uint8Array(Be[5][0].data);Be[5]=[];for(var St=0,Y=0;Y<=i.e.r;++Y){var $t=Jn(ve);St+=yPe($t,o[Y],s),$t[1][0].data=vi(Y),Be[5].push({data:Xo($t),type:2})}Be[1]=[{type:0,data:vi(i.e.c+1)}],Be[2]=[{type:0,data:vi(i.e.r+1)}],Be[3]=[{type:0,data:vi(St)}],Be[4]=[{type:0,data:vi(i.e.r+1)}]}le.messages[0].data=Xo(Be);var At=Bv(Z),Et=Vv(At);Q.content=Et,Q.size=Q.content.length})()}be.data=Xo(Ae)}W[3][0].data=Xo(Ge)}x[4][0].data=Xo(W)}m.messages[0].data=Xo(x);var N=Bv(g),ne=Vv(N);return f.content=ne,f.size=f.content.length,c}function aee(e){return function(n){for(var i=0;i!=e.length;++i){var r=e[i];n[r[0]]===void 0&&(n[r[0]]=r[1]),r[2]==="n"&&(n[r[0]]=Number(n[r[0]]))}}}function j6(e){aee([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function $6(e){aee([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function _Pe(e){return _n.WS.indexOf(e)>-1?"sheet":_n.CS&&e==_n.CS?"chart":_n.DS&&e==_n.DS?"dialog":_n.MS&&e==_n.MS?"macro":e&&e.length?e:"sheet"}function xPe(e,t){if(!e)return 0;try{e=t.map(function(i){return i.id||(i.id=i.strRelID),[i.name,e["!id"][i.id].Target,_Pe(e["!id"][i.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function SPe(e,t,n,i,r,o,s,a,l,c,d,h){try{o[i]=n_(Ja(e,n,!0),t);var f=Jr(e,t),g;switch(a){case"sheet":g=$Ae(f,t,r,l,o[i],c,d,h);break;case"chart":if(g=qAe(f,t,r,l,o[i],c,d,h),!g||!g["!drawel"])break;var m=Qb(g["!drawel"].Target,t),v=f_(m),C=k2e(Ja(e,m,!0),n_(Ja(e,v,!0),m)),y=Qb(C,m),x=f_(y);g=yAe(Ja(e,y,!0),y,l,n_(Ja(e,x,!0),y),c,g);break;case"macro":g=KAe(f,t,r,l,o[i],c,d,h);break;case"dialog":g=XAe(f,t,r,l,o[i],c,d,h);break;default:throw new Error("Unrecognized sheet type "+a)}s[i]=g;var _=[];o&&o[i]&&Ir(o[i]).forEach(function(R){var I="";if(o[i][R].Type==_n.CMNT){I=Qb(o[i][R].Target,t);var F=JAe(Jr(e,I,!0),I,l);if(!F||!F.length)return;qZ(g,F,!1)}o[i][R].Type==_n.TCMNT&&(I=Qb(o[i][R].Target,t),_=_.concat(O2e(Jr(e,I,!0),l)))}),_&&_.length&&qZ(g,_,!0,l.people||[])}catch(R){if(l.WTF)throw R}}function Ll(e){return e.charAt(0)=="/"?e.slice(1):e}function EPe(e,t){if(Qv(),t=t||{},j6(t),Hl(e,"META-INF/manifest.xml")||Hl(e,"objectdata.xml"))return rQ(e,t);if(Hl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $4<"u"){if(e.FileIndex)return $4(e);var n=Pt.utils.cfb_new();return pZ(e).forEach(function(Ie){bn(n,Ie,DQ(e,Ie))}),$4(n)}throw new Error("Unsupported NUMBERS file")}if(!Hl(e,"[Content_Types].xml"))throw Hl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Hl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var i=pZ(e),r=IEe(Ja(e,"[Content_Types].xml")),o=!1,s,a;if(r.workbooks.length===0&&(a="xl/workbook.xml",Jr(e,a,!0)&&r.workbooks.push(a)),r.workbooks.length===0){if(a="xl/workbook.bin",!Jr(e,a,!0))throw new Error("Could not find workbook");r.workbooks.push(a),o=!0}r.workbooks[0].slice(-3)=="bin"&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(i_=[],r.sst)try{i_=QAe(Jr(e,Ll(r.sst)),r.sst,t)}catch(Ie){if(t.WTF)throw Ie}t.cellStyles&&r.themes.length&&(l=ZAe(Ja(e,r.themes[0].replace(/^\//,""),!0)||"",r.themes[0],t)),r.style&&(c=YAe(Jr(e,Ll(r.style)),r.style,l,t))}r.links.map(function(Ie){try{var ae=n_(Ja(e,f_(Ll(Ie))),Ie);return tke(Jr(e,Ll(Ie)),ae,Ie,t)}catch{}});var d=jAe(Jr(e,Ll(r.workbooks[0])),r.workbooks[0],t),h={},f="";r.coreprops.length&&(f=Jr(e,Ll(r.coreprops[0]),!0),f&&(h=XQ(f)),r.extprops.length!==0&&(f=Jr(e,Ll(r.extprops[0]),!0),f&&LEe(f,h,t)));var g={};(!t.bookSheets||t.bookProps)&&r.custprops.length!==0&&(f=Ja(e,Ll(r.custprops[0]),!0),f&&(g=BEe(f,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(ae){return ae.name}):h.Worksheets&&h.SheetNames.length>0&&(s=h.SheetNames),t.bookProps&&(m.Props=h,m.Custprops=g),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var v={};t.bookDeps&&r.calcchain&&(v=eke(Jr(e,Ll(r.calcchain)),r.calcchain,t));var C=0,y={},x,_;{var R=d.Sheets;h.Worksheets=R.length,h.SheetNames=[];for(var I=0;I!=R.length;++I)h.SheetNames[I]=R[I].name}var F=o?"bin":"xml",T=r.workbooks[0].lastIndexOf("/"),P=(r.workbooks[0].slice(0,T+1)+"_rels/"+r.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Hl(e,P)||(P="xl/_rels/workbook."+F+".rels");var L=n_(Ja(e,P,!0),P.replace(/_rels.*/,"s5s"));(r.metadata||[]).length>=1&&(t.xlmeta=nke(Jr(e,Ll(r.metadata[0])),r.metadata[0],t)),(r.people||[]).length>=1&&(t.people=N2e(Jr(e,Ll(r.people[0])),t)),L&&(L=xPe(L,d.Sheets));var U=Jr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=h.Worksheets;++C){var W="sheet";if(L&&L[C]?(x="xl/"+L[C][1].replace(/[\/]?xl\//,""),Hl(e,x)||(x=L[C][1]),Hl(e,x)||(x=P.replace(/_rels\/.*$/,"")+L[C][1]),W=L[C][2]):(x="xl/worksheets/sheet"+(C+1-U)+"."+F,x=x.replace(/sheet0\./,"sheet.")),_=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(C!=t.sheets)continue e;break;case"string":if(h.SheetNames[C].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var X=!1,oe=0;oe!=t.sheets.length;++oe)typeof t.sheets[oe]=="number"&&t.sheets[oe]==C&&(X=1),typeof t.sheets[oe]=="string"&&t.sheets[oe].toLowerCase()==h.SheetNames[C].toLowerCase()&&(X=1);if(!X)continue e}}SPe(e,x,_,h.SheetNames[C],C,y,s,W,t,d,l,c)}return m={Directory:r,Workbook:d,Props:h,Custprops:g,Deps:v,Sheets:s,SheetNames:h.SheetNames,Strings:i_,Styles:c,Themes:l,SSF:qi(jt)},t&&t.bookFiles&&(e.files?(m.keys=i,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(Ie,ae){Ie=Ie.replace(/^Root Entry[\/]/,""),m.keys.push(Ie),m.files[Ie]=e.FileIndex[ae]}))),t&&t.bookVBA&&(r.vba.length>0?m.vbaraw=Jr(e,Ll(r.vba[0]),!0):r.defaults&&r.defaults.bin===j2e&&(m.vbaraw=Jr(e,"xl/vbaProject.bin",!0))),m}function DPe(e,t){var n=t||{},i="Workbook",r=Pt.find(e,i);try{if(i="/!DataSpaces/Version",r=Pt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(nTe(r.content),i="/!DataSpaces/DataSpaceMap",r=Pt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var o=rTe(r.content);if(o.length!==1||o[0].comps.length!==1||o[0].comps[0].t!==0||o[0].name!=="StrongEncryptionDataSpace"||o[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=Pt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var s=oTe(r.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=Pt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);aTe(r.content)}catch{}if(i="/EncryptionInfo",r=Pt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);var a=lTe(r.content);if(i="/EncryptedPackage",r=Pt.find(e,i),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],r.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],r.content,n.password||"",n);throw new Error("File is password-protected")}function RPe(e,t){return t.bookType=="ods"?see(e,t):t.bookType=="numbers"?bPe(e,t):t.bookType=="xlsb"?TPe(e,t):IPe(e,t)}function TPe(e,t){zv=1024,e&&!e.SSF&&(e.SSF=qi(jt)),e&&e.SSF&&(Qv(),u2(e.SSF),t.revssf=f2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,r_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",i=PJ.indexOf(t.bookType)>-1,r=F6();$6(t=t||{});var o=f6(),s="",a=0;if(t.cellXfs=[],Gf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",bn(o,s,YQ(e.Props,t)),r.coreprops.push(s),Ci(t.rels,2,s,_n.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,bn(o,s,JQ(e.Props,t)),r.extprops.push(s),Ci(t.rels,3,s,_n.EXT_PROPS),e.Custprops!==e.Props&&Ir(e.Custprops||{}).length>0&&(s="docProps/custom.xml",bn(o,s,eJ(e.Custprops,t)),r.custprops.push(s),Ci(t.rels,4,s,_n.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var d={"!id":{}},h=e.Sheets[e.SheetNames[a-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+a+"."+n,bn(o,s,rke(a-1,s,t,e,d)),r.sheets.push(s),Ci(t.wbrels,-1,"worksheets/sheet"+a+"."+n,_n.WS[0])}if(h){var g=h["!comments"],m=!1,v="";g&&g.length>0&&(v="xl/comments"+a+"."+n,bn(o,v,ake(g,v,t)),r.comments.push(v),Ci(d,-1,"../comments"+a+"."+n,_n.CMNT),m=!0),h["!legacy"]&&m&&bn(o,"xl/drawings/vmlDrawing"+a+".vml",AJ(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&bn(o,f_(s),Wv(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+n,bn(o,s,ske(t.Strings,s,t)),r.strs.push(s),Ci(t.wbrels,-1,"sharedStrings."+n,_n.SST)),s="xl/workbook."+n,bn(o,s,ike(e,s,t)),r.workbooks.push(s),Ci(t.rels,1,s,_n.WB),s="xl/theme/theme1.xml",bn(o,s,N6(e.Themes,t)),r.themes.push(s),Ci(t.wbrels,-1,"theme/theme1.xml",_n.THEME),s="xl/styles."+n,bn(o,s,oke(e,s,t)),r.styles.push(s),Ci(t.wbrels,-1,"styles."+n,_n.STY),e.vbaraw&&i&&(s="xl/vbaProject.bin",bn(o,s,e.vbaraw),r.vba.push(s),Ci(t.wbrels,-1,"vbaProject.bin",_n.VBA)),s="xl/metadata."+n,bn(o,s,lke(s)),r.metadata.push(s),Ci(t.wbrels,-1,"metadata."+n,_n.XLMETA),bn(o,"[Content_Types].xml",qQ(r,t)),bn(o,"_rels/.rels",Wv(t.rels)),bn(o,"xl/_rels/workbook."+n+".rels",Wv(t.wbrels)),delete t.revssf,delete t.ssf,o}function IPe(e,t){zv=1024,e&&!e.SSF&&(e.SSF=qi(jt)),e&&e.SSF&&(Qv(),u2(e.SSF),t.revssf=f2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,r_?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",i=PJ.indexOf(t.bookType)>-1,r=F6();$6(t=t||{});var o=f6(),s="",a=0;if(t.cellXfs=[],Gf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",bn(o,s,YQ(e.Props,t)),r.coreprops.push(s),Ci(t.rels,2,s,_n.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,bn(o,s,JQ(e.Props,t)),r.extprops.push(s),Ci(t.rels,3,s,_n.EXT_PROPS),e.Custprops!==e.Props&&Ir(e.Custprops||{}).length>0&&(s="docProps/custom.xml",bn(o,s,eJ(e.Custprops,t)),r.custprops.push(s),Ci(t.rels,4,s,_n.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},f=e.Sheets[e.SheetNames[a-1]],g=(f||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+a+"."+n,bn(o,s,jJ(a-1,t,e,h)),r.sheets.push(s),Ci(t.wbrels,-1,"worksheets/sheet"+a+"."+n,_n.WS[0])}if(f){var m=f["!comments"],v=!1,C="";if(m&&m.length>0){var y=!1;m.forEach(function(x){x[1].forEach(function(_){_.T==!0&&(y=!0)})}),y&&(C="xl/threadedComments/threadedComment"+a+"."+n,bn(o,C,L2e(m,d,t)),r.threadedcomments.push(C),Ci(h,-1,"../threadedComments/threadedComment"+a+"."+n,_n.TCMNT)),C="xl/comments"+a+"."+n,bn(o,C,kJ(m,t)),r.comments.push(C),Ci(h,-1,"../comments"+a+"."+n,_n.CMNT),v=!0}f["!legacy"]&&v&&bn(o,"xl/drawings/vmlDrawing"+a+".vml",AJ(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&bn(o,f_(s),Wv(h))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+n,bn(o,s,yJ(t.Strings,t)),r.strs.push(s),Ci(t.wbrels,-1,"sharedStrings."+n,_n.SST)),s="xl/workbook."+n,bn(o,s,YJ(e,t)),r.workbooks.push(s),Ci(t.rels,1,s,_n.WB),s="xl/theme/theme1.xml",bn(o,s,N6(e.Themes,t)),r.themes.push(s),Ci(t.wbrels,-1,"theme/theme1.xml",_n.THEME),s="xl/styles."+n,bn(o,s,TJ(e,t)),r.styles.push(s),Ci(t.wbrels,-1,"styles."+n,_n.STY),e.vbaraw&&i&&(s="xl/vbaProject.bin",bn(o,s,e.vbaraw),r.vba.push(s),Ci(t.wbrels,-1,"vbaProject.bin",_n.VBA)),s="xl/metadata."+n,bn(o,s,FJ()),r.metadata.push(s),Ci(t.wbrels,-1,"metadata."+n,_n.XLMETA),d.length>1&&(s="xl/persons/person.xml",bn(o,s,B2e(d,t)),r.people.push(s),Ci(t.wbrels,-1,"persons/person.xml",_n.PEOPLE)),bn(o,"[Content_Types].xml",qQ(r,t)),bn(o,"_rels/.rels",Wv(t.rels)),bn(o,"xl/_rels/workbook."+n+".rels",Wv(t.wbrels)),delete t.revssf,delete t.ssf,o}function q6(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=el(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function MPe(e,t){return Pt.find(e,"EncryptedPackage")?DPe(e,t):eee(e,t)}function FPe(e,t){var n,i=e,r=t||{};return r.type||(r.type=Mn&&Buffer.isBuffer(e)?"buffer":"base64"),n=RQ(i,r),EPe(n,r)}function lee(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return i6(e.slice(n),t);default:break e}return Xv.to_workbook(e,t)}function APe(e,t){var n="",i=q6(e,t);switch(t.type){case"base64":n=el(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Tg(e);break;default:throw new Error("Unrecognized type "+t.type)}return i[0]==239&&i[1]==187&&i[2]==191&&(n=Si(n)),t.type="binary",lee(n,t)}function kPe(e,t){var n=e;return t.type=="base64"&&(n=el(n)),n=hi.utils.decode(1200,n.slice(2),"str"),t.type="binary",lee(n,t)}function PPe(e){return e.match(/[^\x00-\x7F]/)?Ad(e):e}function q4(e,t,n,i){return i?(n.type="string",Xv.to_workbook(e,n)):Xv.to_workbook(t,n)}function l2(e,t){l6();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return l2(new Uint8Array(e),(n=qi(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var i=e,r=[0,0,0,0],o=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),$v={},n.dateNF&&($v.dateNF=n.dateNF),n.type||(n.type=Mn&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Mn?"buffer":"binary",i=TSe(e),typeof Uint8Array<"u"&&!Mn&&(n.type="array")),n.type=="string"&&(o=!0,n.type="binary",n.codepage=65001,i=PPe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),a=new Uint8Array(s);if(a.foo="bar",!a.foo)return n=qi(n),n.type="array",l2(c6(i),n)}switch((r=q6(i,n))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return MPe(Pt.read(i,n),n);break;case 9:if(r[1]<=8)return eee(i,n);break;case 60:return i6(i,n);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return VRe(i,n);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return CJ.to_workbook(i,n);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?FPe(i,n):q4(e,i,n,o);case 239:return r[3]===60?i6(i,n):q4(e,i,n,o);case 255:if(r[1]===254)return kPe(i,n);if(r[1]===0&&r[2]===2&&r[3]===0)return Eg.to_workbook(i,n);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return Eg.to_workbook(i,n);break;case 3:case 131:case 139:case 140:return n6.to_workbook(i,n);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return EJ.to_workbook(i,n);break;case 10:case 13:case 32:return APe(i,n);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return BRe.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?n6.to_workbook(i,n):q4(e,i,n,o)}function cee(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return b_(t.file,Pt.write(e,{type:Mn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Pt.write(e,t)}function OPe(e,t){var n=qi(t||{}),i=RPe(e,n);return LPe(i,n)}function LPe(e,t){var n={},i=Mn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=i;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=i;break;default:throw new Error("Unrecognized type "+t.type)}var r=e.FullPaths?Pt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof r=="string"){if(t.type=="binary"||t.type=="base64")return r;r=new Uint8Array(d2(r))}return t.password&&typeof encrypt_agile<"u"?cee(encrypt_agile(r,t.password),t):t.type==="file"?b_(t.file,r):t.type=="string"?Si(r):r}function NPe(e,t){var n=t||{},i=Pke(e,n);return cee(i,n)}function Fd(e,t,n){n||(n="");var i=n+e;switch(t.type){case"base64":return l_(Ad(i));case"binary":return Ad(i);case"string":return e;case"file":return b_(t.file,i,"utf8");case"buffer":return Mn?nh(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Fd(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function BPe(e,t){switch(t.type){case"base64":return l_(e);case"binary":return e;case"string":return e;case"file":return b_(t.file,e,"binary");case"buffer":return Mn?nh(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function YT(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",i=0;i<e.length;++i)n+=String.fromCharCode(e[i]);return t.type=="base64"?l_(n):t.type=="string"?Si(n):n;case"file":return b_(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function dee(e,t){l6(),MAe(e);var n=qi(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var i=dee(e,n);return n.type="array",d2(i)}var r=0;if(n.sheet&&(typeof n.sheet=="number"?r=n.sheet:r=e.SheetNames.indexOf(n.sheet),!e.SheetNames[r]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Fd(Rke(e,n),n);case"slk":case"sylk":return Fd(vJ.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"htm":case"html":return Fd(nee(e.Sheets[e.SheetNames[r]],n),n);case"txt":return BPe(hee(e.Sheets[e.SheetNames[r]],n),n);case"csv":return Fd(K6(e.Sheets[e.SheetNames[r]],n),n,"\uFEFF");case"dif":return Fd(CJ.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"dbf":return YT(n6.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"prn":return Fd(Xv.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"rtf":return Fd(EJ.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"eth":return Fd(wJ.from_sheet(e.Sheets[e.SheetNames[r]],n),n);case"fods":return Fd(see(e,n),n);case"wk1":return YT(Eg.sheet_to_wk1(e.Sheets[e.SheetNames[r]],n),n);case"wk3":return YT(Eg.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),YT(tee(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),NPe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return OPe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function VPe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function uee(e,t,n){var i=n||{};return i.type="file",i.file=t,VPe(i),dee(e,i)}function HPe(e,t,n,i,r,o,s,a){var l=Gr(n),c=a.defval,d=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,f=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch{f.__rowNum__=n}else f.__rowNum__=n;if(!s||e[n])for(var g=t.s.c;g<=t.e.c;++g){var m=s?e[n][g]:e[i[g]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;o[g]!=null&&(f[o[g]]=c);continue}var v=m.v;switch(m.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(o[g]!=null){if(v==null)if(m.t=="e"&&v===null)f[o[g]]=null;else if(c!==void 0)f[o[g]]=c;else if(d&&v===null)f[o[g]]=null;else continue;else f[o[g]]=d&&(m.t!=="n"||m.t==="n"&&a.rawNumbers!==!1)?v:th(m,v,a);v!=null&&(h=!1)}}return{row:f,isempty:h}}function c2(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},i=0,r=1,o=[],s=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?i=1:c.header==="A"?i=2:Array.isArray(c.header)?i=3:c.header==null&&(i=0),typeof d){case"string":l=Kn(d);break;case"number":l=Kn(e["!ref"]),l.s.r=d;break;default:l=d}i>0&&(r=0);var h=Gr(l.s.r),f=[],g=[],m=0,v=0,C=Array.isArray(e),y=l.s.r,x=0,_={};C&&!e[y]&&(e[y]=[]);var R=c.skipHidden&&e["!cols"]||[],I=c.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(R[x]||{}).hidden)switch(f[x]=hr(x),n=C?e[y][x]:e[f[x]+h],i){case 1:o[x]=x-l.s.c;break;case 2:o[x]=f[x];break;case 3:o[x]=c.header[x-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=s=th(n,null,c),v=_[s]||0,!v)_[s]=1;else{do a=s+"_"+v++;while(_[a]);_[s]=v,_[a]=1}o[x]=a}for(y=l.s.r+r;y<=l.e.r;++y)if(!(I[y]||{}).hidden){var F=HPe(e,l,y,f,i,o,C,c);(F.isempty===!1||(i===1?c.blankrows!==!1:c.blankrows))&&(g[m++]=F.row)}return g.length=m,g}var cQ=/"/g;function GPe(e,t,n,i,r,o,s,a){for(var l=!0,c=[],d="",h=Gr(n),f=t.s.c;f<=t.e.c;++f)if(i[f]){var g=a.dense?(e[n]||[])[f]:e[i[f]+h];if(g==null)d="";else if(g.v!=null){l=!1,d=""+(a.rawNumbers&&g.t=="n"?g.v:th(g,null,a));for(var m=0,v=0;m!==d.length;++m)if((v=d.charCodeAt(m))===r||v===o||v===34||a.forceQuotes){d='"'+d.replace(cQ,'""')+'"';break}d=="ID"&&(d='"ID"')}else g.f!=null&&!g.F?(l=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace(cQ,'""')+'"')):d="";c.push(d)}return a.blankrows===!1&&l?null:c.join(s)}function K6(e,t){var n=[],i=t??{};if(e==null||e["!ref"]==null)return"";var r=Kn(e["!ref"]),o=i.FS!==void 0?i.FS:",",s=o.charCodeAt(0),a=i.RS!==void 0?i.RS:`
`,l=a.charCodeAt(0),c=new RegExp((o=="|"?"\\|":o)+"+$"),d="",h=[];i.dense=Array.isArray(e);for(var f=i.skipHidden&&e["!cols"]||[],g=i.skipHidden&&e["!rows"]||[],m=r.s.c;m<=r.e.c;++m)(f[m]||{}).hidden||(h[m]=hr(m));for(var v=0,C=r.s.r;C<=r.e.r;++C)(g[C]||{}).hidden||(d=GPe(e,r,C,h,s,l,o,i),d!=null&&(i.strip&&(d=d.replace(c,"")),(d||i.blankrows!==!1)&&n.push((v++?a:"")+d)));return delete i.dense,n.join("")}function hee(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=K6(e,t);if(typeof hi>"u"||t.type=="string")return n;var i=hi.utils.encode(1200,n,"str");return"\xFF\xFE"+i}function zPe(e){var t="",n,i="";if(e==null||e["!ref"]==null)return[];var r=Kn(e["!ref"]),o="",s=[],a,l=[],c=Array.isArray(e);for(a=r.s.c;a<=r.e.c;++a)s[a]=hr(a);for(var d=r.s.r;d<=r.e.r;++d)for(o=Gr(d),a=r.s.c;a<=r.e.c;++a)if(t=s[a]+o,n=c?(e[d]||[])[a]:e[t],i="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;i=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)i=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)i=""+n.v;else if(n.t=="b")i=n.v?"TRUE":"FALSE";else if(n.w!==void 0)i="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?i="'"+n.v:i=""+n.v}}l[l.length]=t+"="+i}return l}function fee(e,t,n){var i=n||{},r=+!i.skipHeader,o=e||{},s=0,a=0;if(o&&i.origin!=null)if(typeof i.origin=="number")s=i.origin;else{var l=typeof i.origin=="string"?fr(i.origin):i.origin;s=l.r,a=l.c}var c,d={s:{c:0,r:0},e:{c:a,r:s+t.length-1+r}};if(o["!ref"]){var h=Kn(o["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(s=h.e.r+1,d.e.r=s+t.length-1+r)}else s==-1&&(s=0,d.e.r=t.length-1+r);var f=i.header||[],g=0;t.forEach(function(v,C){Ir(v).forEach(function(y){(g=f.indexOf(y))==-1&&(f[g=f.length]=y);var x=v[y],_="z",R="",I=qt({c:a+g,r:s+C+r});c=y_(o,I),x&&typeof x=="object"&&!(x instanceof Date)?o[I]=x:(typeof x=="number"?_="n":typeof x=="boolean"?_="b":typeof x=="string"?_="s":x instanceof Date?(_="d",i.cellDates||(_="n",x=ho(x)),R=i.dateNF||jt[14]):x===null&&i.nullError&&(_="e",x=0),c?(c.t=_,c.v=x,delete c.w,delete c.R,R&&(c.z=R)):o[I]=c={t:_,v:x},R&&(c.z=R))})}),d.e.c=Math.max(d.e.c,a+f.length-1);var m=Gr(s);if(r)for(g=0;g<f.length;++g)o[hr(g+a)+m]={t:"s",v:f[g]};return o["!ref"]=gn(d),o}function UPe(e,t){return fee(null,e,t)}function y_(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var i=fr(t);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?y_(e,qt(t)):y_(e,qt({r:t,c:n||0}))}function WPe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function X6(){return{SheetNames:[],Sheets:{}}}function Y6(e,t,n,i){var r=1;if(!n)for(;r<=65535&&e.SheetNames.indexOf(n="Sheet"+r)!=-1;++r,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&e.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);r=o&&+o[2]||0;var s=o&&o[1]||n;for(++r;r<=65535&&e.SheetNames.indexOf(n=s+r)!=-1;++r);}if(XJ(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function jPe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var i=WPe(e,t);switch(e.Workbook.Sheets[i]||(e.Workbook.Sheets[i]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[i].Hidden=n}function $Pe(e,t){return e.z=t,e}function pee(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function qPe(e,t,n){return pee(e,"#"+t,n)}function KPe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function XPe(e,t,n,i){for(var r=typeof t!="string"?t:Kn(t),o=typeof t=="string"?t:gn(t),s=r.s.r;s<=r.e.r;++s)for(var a=r.s.c;a<=r.e.c;++a){var l=y_(e,s,a);l.t="n",l.F=o,delete l.v,s==r.s.r&&a==r.s.c&&(l.f=n,i&&(l.D=!0))}return e}var Vg={encode_col:hr,encode_row:Gr,encode_cell:qt,encode_range:gn,decode_col:E6,decode_row:S6,split_cell:sEe,decode_cell:fr,decode_range:Ma,format_cell:th,sheet_add_aoa:HQ,sheet_add_json:fee,sheet_add_dom:iee,aoa_to_sheet:eC,json_to_sheet:UPe,table_to_sheet:ree,table_to_book:nPe,sheet_to_csv:K6,sheet_to_txt:hee,sheet_to_json:c2,sheet_to_html:nee,sheet_to_formulae:zPe,sheet_to_row_object_array:c2,sheet_get_cell:y_,book_new:X6,book_append_sheet:Y6,book_set_sheet_visibility:jPe,cell_set_number_format:$Pe,cell_set_hyperlink:pee,cell_set_internal_link:qPe,cell_add_comment:KPe,sheet_set_array_formula:XPe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var QRt=a_.version;var nC=class e{constructor(t){this.toaster=t}generateExcel(t,n){let[i,r]=t.reduce((l,c)=>{let d=Yu(c),T=c,{geoPositionInfo:h,longitude:f,latitude:g,error:m}=T,v=hl(T,["geoPositionInfo","longitude","latitude","error"]),C={};d.forEach(P=>{P in v&&(C[P]=v[P],delete v[P])});let y=v;l[0].push(y);let[x,_,R,I,F]=Dd(y);return l[1].push(V(De(V(V(V(V(V({},y[R]?{[R]:y[R]}:{}),y[F]?{[F]:y[F]}:{}),y[I]?{[I]:y[I]}:{}),y[_]?{[_]:y[_]}:{}),y[x]?{[x]:y[x]}:{}),{geoPositionInfo:h,longitude:f,latitude:g,error:m}),C)),l},[[],[]]),o={};i.forEach(l=>{let c=l[Hb]||"Sheet1";o[c]||(o[c]=[]);let f=l,{sheetName:d}=f,h=hl(f,["sheetName"]);o[c].push(h)});let s=Vg.book_new();Object.entries(o).forEach(([l,c])=>{let d=Vg.json_to_sheet(c);Vg.book_append_sheet(s,d,l)});let a=Vg.json_to_sheet(r);Vg.book_append_sheet(s,a,"LocationInfo");try{uee(s,n)}catch(l){this.toaster.show("error",`Failed to export excel document due to: ${l.message}`)}}importExcelFile(t,n){let i=l2(t,{type:"binary"});return i.SheetNames.forEach(r=>{let o=i.Sheets[r],s=Vg.sheet_to_json(o,{raw:!0});s.some(l=>{let c=Dd(l);return c.length===1&&c[0]||c.length>=3})&&(s.forEach(l=>{r!=="LocationInfo"&&(l[Hb]=r)}),n=Bb(s,n))}),n}hideColumns(t,n){let i=Array.from(new Set(t.flatMap(Object.keys))),r=["geoPositionInfo","longitude","latitude","error"],o=i.map(s=>r.includes(s));n["!cols"]=[],o.forEach((s,a)=>{s&&n["!cols"]&&(n["!cols"][a]={hidden:!0})})}static \u0275fac=function(n){return new(n||e)(lt(kl))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var y2=class e{constructor(t,n,i){this.dataStoreService=t;this.progressService=n;this.excelService=i}progressId=Ko;excelData=[];_bottomSheetRef=A(Ov);isDataStoreLoaded=void 0;arePicturesLoaded=void 0;destroyRef=A(Zi);ngOnInit(){let t=this.progressService.getProgress().pipe(xi(this.destroyRef)).subscribe(()=>{this.isDataStoreLoaded===void 0?this.progressService.isProgressRunning(Ko)&&(this.isDataStoreLoaded=!1):this.isDataStoreLoaded===!1&&(this.isDataStoreLoaded=!this.progressService.isProgressRunning(Ko)),this.arePicturesLoaded===void 0?this.progressService.isProgressRunning(yg)&&(this.arePicturesLoaded=!1):this.arePicturesLoaded===!1&&(this.arePicturesLoaded=!this.progressService.isProgressRunning(yg)),this.isDataStoreLoaded&&this.arePicturesLoaded&&(this.closeLink(),t.unsubscribe())});this.destroyRef.onDestroy(()=>{t.unsubscribe()})}closeLink(){setTimeout(()=>{this._bottomSheetRef.dismiss()},1e3)}onFileChange(t){let n=t.target.files[0],i=new FileReader;i.onload=r=>{r.target?.result&&(this.excelData=this.excelService.importExcelFile(r.target.result,this.excelData),this.progressService.setMaxCount(Ko,1),this.dataStoreService.store(this.excelData))},i.readAsArrayBuffer(n)}static \u0275fac=function(n){return new(n||e)(We(Cs),We(Ol),We(nC))};static \u0275cmp=et({type:e,selectors:[["app-bottom-file-selection-sheet"]],decls:11,vars:1,consts:[["fileInput",""],[1,"content"],[1,"import-button"],["type","file","accept",".xlsx, .xls",3,"change","click"],[3,"progressId"]],template:function(n,i){if(n&1){let r=wo();He(0,"div",1)(1,"span"),Pn(2,"Select excel sheet with your information about houses"),Ke(),He(3,"div",2)(4,"input",3,0),en("change",function(s){return Ui(r),Wi(i.onFileChange(s))})("click",function(){Ui(r);let s=Gs(5);return Wi(s.value="")}),Ke(),Ct(6,"app-import-progress-bar",4),Ke(),He(7,"div",1)(8,"span"),Pn(9,"Select all images you have used in your excel sheet"),Ke(),Ct(10,"app-upload-multiple-files"),Ke()()}n&2&&(tt(6),mt("progressId",i.progressId))},dependencies:[VT,Lv,Zn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;align-items:center;padding-top:8px}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]{width:auto;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:8px 0 0;transition:.3s;display:inline-block;text-decoration:none;cursor:pointer;border-radius:4px}.content[_ngcontent-%COMP%]   .import-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}"]})};var zf=class e{showSearchInput=!1;setVisibility(t){this.showSearchInput=t,this.showHideSearchInput()}toggleVisibility(){this.showSearchInput=!this.showSearchInput,this.showHideSearchInput()}getVisibility(){return this.showSearchInput}showHideSearchInput(){let t=document.getElementsByClassName("ol-geocoder")[0];t&&(t.classList.remove("visible","hidden"),t.classList.add(this.showSearchInput?"visible":"hidden"))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var b2=class extends xr{constructor(t={}){let n=A(zf),i=document.createElement("button");i.innerHTML=`<img style="height: 1em;" src="assets/folder-plus-circle.svg" alt="^" title="Select your import files (excel/foto's) to show on the map" />`;let r=document.createElement("div");r.className="import-files ol-unselectable ol-control",r.appendChild(i),super({element:r,target:t.target});let o=A(JY),s=()=>{n.setVisibility(!1),o.open(y2)};i.addEventListener("click",s.bind(this),!1),s()}};var _2=class e{createJson(t){return JSON.stringify(t,null,2)}saveJsonFile(t,n){let i=new Blob([t],{type:"application/json"}),r=window.URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=n,o.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var gee="exportedMap",x2=class extends xr{dataStoreService;geoPositionService;excelService;jsonCreatorService;loadPictureService;constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-export-excel-24.png" alt="v" title="Export converted excel sheet, containing location information" />';let r=document.createElement("div");r.className="export-file ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),this.dataStoreService=A(Cs),this.geoPositionService=A(Zr),this.excelService=A(nC),this.jsonCreatorService=A(_2),this.loadPictureService=A(Pl);let o=()=>{let s=this.dataStoreService.getStore();if(s.length>0){let a=s.map(l=>{let[c,d,h,f]=Td(l),g=Yu(l),m={};g.length>0&&g.forEach(C=>{let y=this.loadPictureService.getPicture(C);y!==C&&(m=De(V({},m),{[C]:y}))});let v=this.geoPositionService.getGeoPositionByAddress(h,f,d,c);return v?V(De(V({},l),{longitude:v.coords.longitude.toString(),latitude:v.coords.latitude.toString(),geoPositionInfo:v.geoPositionInfo}),m):De(V({},l),{error:`Different address was found for ${f} ${d}, ${h}, please verify the address in the excel sheet`})});this.excelService.generateExcel(a,gee+".xlsx"),this.jsonCreatorService.saveJsonFile(this.jsonCreatorService.createJson(this.loadPictureService.getPicturesStore()),gee+".json")}};i.addEventListener("click",o.bind(this),!1)}};vT();m4();KR();QN();br();er();yT();wT();var Z6="searchedFor",mee=(e,t,n)=>{e&&(n>14?e.setStyle(JPe(t)):e.setStyle(e3e(4,t==="Unknown")),e.setProperties({Address:t}))},JPe=e=>new Ea({image:new xc({src:"assets/icons8-house-48.png",size:[48,48],anchor:[.5,48],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.7,scale:.5}),text:new _f({text:e,font:"bold 12px Calibri,sans-serif",offsetY:-29,fill:new qs({color:e==="Unknown"?"red":"blue"}),stroke:new Sa({color:"white",width:2})})}),e3e=(e,t)=>new Ea({image:new hg({radius:e,fill:new qs({color:t?"red":"black"}),stroke:new Sa({color:"white",width:2})})}),t3e=e=>new Ea({image:new xc({src:"assets/icons8-marker-50.png",size:[50,50],anchor:[.5,50],anchorXUnits:"fraction",anchorYUnits:"pixels",opacity:.7,scale:.5}),text:new _f({text:e,font:"bold 12px Calibri,sans-serif",offsetY:-30,fill:new qs({color:e==="Unknown"?"red":"blue"}),stroke:new Sa({color:"white",width:2})})}),Hg=class e{constructor(t){this.geoPositionService=t;this.zoomInput.pipe(xi()).pipe(Wc(300)).subscribe(()=>{this.onViewChanged(this.map)})}zoomInput=new ut;zoomLevelSingleMarker=11;markers={};markersVectorLayer=new Cg;map;refreshVectorLayer(){let t=this.markersVectorLayer.getSource();t&&(t.clear(!0),t.addFeatures(Object.values(this.markers)))}updateMarkerStyle(){Object.keys(this.markers).forEach(t=>{if(t!==Z6){let n=this.geoPositionService.getGeoPosition(t),i=this.getAddressLabel(n,n?.userName||"Unknown");mee(this.markers[t],i,this.zoomLevelSingleMarker),this.markers[t].changed()}}),this.refreshVectorLayer()}getAddressLabel(t,n){if(t?.details){let[i,r,o,s]=Td(t.details);return`${i?.length?i+" ":""}${r} ${o}, ${s}`}return n}setupMap(t,n){n?.setZoom(this.zoomLevelSingleMarker),t.forEach(i=>{Object.keys(this.markers).includes(i.id)||(this.markers[i.id]=new Sf,this.geoPositionService.setGeoPositionIdUid(i.id,Wt(this.markers[i.id])));let r=[i.coords.longitude,i.coords.latitude];this.markers[i.id].setGeometry(new Vu(hs(r))),mee(this.markers[i.id],this.getAddressLabel(i,i.userName),this.zoomLevelSingleMarker)}),this.refreshVectorLayer()}addMarker(t,n,i){this.markers[t]=new Sf,this.markers[t].setGeometry(new Vu(hs(n))),this.markers[t].setStyle(t3e(i)),this.refreshVectorLayer()}onViewChanged(t){let n=t.getView();this.zoomLevelSingleMarker=n?.getZoom()||11,this.updateMarkerStyle(),console.log("zoom",this.zoomLevelSingleMarker)}initializeMarkers(t){this.map=t,this.markersVectorLayer=new Cg({source:new Ev({features:Object.values(this.markers)})}),t.addLayer(this.markersVectorLayer),t.getView().setZoom(this.zoomLevelSingleMarker),t.getView().on("change:resolution",i=>{this.zoomInput.next(i)})}static \u0275fac=function(n){return new(n||e)(lt(Zr))};static \u0275prov=Ce({token:e,factory:e.\u0275fac})};br();var S2=class extends xr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-center-of-gravity-50.png" alt="v" title="Center map on Nijkerk" />';let r=document.createElement("div");r.className="center-map ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target});let o=()=>{let s=this.getMap();s&&s.getView().animate({center:hs([5.4808,52.2211]),zoom:11})};i.addEventListener("click",o.bind(this),!1)}};var i3e=["tooltip_info"],E2=class e{constructor(t){this.mapEventHandlers=t}map;tooltipInfo;ngAfterViewInit(){this.mapEventHandlers.assignTooltipHandlers(this.map,this.tooltipInfo.nativeElement)}static \u0275fac=function(n){return new(n||e)(We(Ai))};static \u0275cmp=et({type:e,selectors:[["app-tooltip-info-component"]],viewQuery:function(n,i){if(n&1&&wr(i3e,5),n&2){let r;ni(r=ii())&&(i.tooltipInfo=r.first)}},inputs:{map:"map"},features:[mi([Ai,{provide:Ai,useExisting:Ra}])],decls:2,vars:0,consts:[["tooltip_info",""],[1,"info"]],template:function(n,i){n&1&&Ct(0,"div",1,0)},styles:[".info[_ngcontent-%COMP%]{position:absolute;display:inline-block;height:auto;width:auto;z-index:100;background-color:#333;color:#fff;text-align:center;border-radius:4px;padding:5px;left:50%;transform:translate(3%);visibility:hidden;pointer-events:none}"]})};var D2=class extends xr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/icons8-magnifier-50.png" alt="v" title="Search location" />';let r=document.createElement("div");r.className="magnifier ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),i.addEventListener("click",n.callback.bind(this),!1)}};var wee=ow(vee());br();var r3e="https://photon.komoot.io/api/";function Cee(){return new e8}var e8=class e{responses={};outstandingRequests=[];getParameters(t){return console.log("OsOpenNamesSearch.getParameters",t),this.outstandingRequests.push(t.query),{url:r3e,params:{q:t.query,limit:t.limit||1,lang:"en"}}}handleResponse(t){let n=this.outstandingRequests.shift()||"error";if(this.responses[n]=t.features,console.log("OsOpenNamesSearch.handleResponse",t,n),t&&t.features&&t.features.length!==0)return t.features.map(r=>({lon:r.geometry.coordinates[0],lat:r.geometry.coordinates[1],address:{name:r.properties.name,postcode:r.properties.postcode,city:r.properties.city,state:r.properties.state,country:r.properties.country,road:r.properties.street,house_number:r.properties.housenumber},original:{formatted:r.properties.name,details:De(V({},r.properties),{query:n})}}));let i=`No address found for "${n}", please verify address in your excel sheet`;return[{lon:0,lat:0,address:{},original:{details:{error:i,query:n}}}]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var t8="addresschosen",T_=class e{constructor(t,n,i,r,o){this.dataStoreService=t;this.geoPositionService=n;this.toaster=i;this.progressService=r;this.markers=o;this.photonProvider=Cee(),this.keyboardInput$.subscribe(()=>this.switchAddressChosenHandler(this.searchInputService.getVisibility()))}keyboardInput$=wp(window,"click").pipe(un(t=>t.target instanceof HTMLImageElement),xi());map;zoomLevelSingleMarker;responses={};isGeocodeHandlingFinished=void 0;geoCoder;photonProvider;defaultAddressHandler;activeAddressHandler;searchInputService=A(zf);geocoderCreator(t,n){return this.map=t,this.zoomLevelSingleMarker=n,this.defaultAddressHandler=this.handleAddressChosen(this.responses,this.map,this.zoomLevelSingleMarker),this.activeAddressHandler=this.defaultAddressHandler,this.geoCoder=new wee.default("nominatim",{provider:this.photonProvider,placeholder:"Search for ...",targetType:"text-input",limit:1,keepOpen:!0,target:document.body,preventDefault:!0,debug:!0}),this.geoCoder.on(t8,this.activeAddressHandler),this.geoCoder}handleAddressChosen(t,n,i){return r=>Pr(this,null,function*(){if(r.address.original.details.error)this.toaster.show("error",r.address.original.details.error,[],3e5),yield this.progressService.increaseProgressByStep(Ko);else{let{postcode:o,street:s,housenumber:a,city:l,query:c}=r.address.original.details,[d,h]=this.dataStoreService.findByApproach(o,a,s,l,c);h&&this.toaster.show("warning",h,[],0),this.geoPositionService.updateGeoPosition(r.place.lon,r.place.lat,d?d[xT]:void 0,d,JSON.stringify({postcode:o,street:s,housenumber:a,city:l,query:c})),yield this.progressService.increaseProgressByStep(Ko),console.log("responses",t),this.isGeocodeHandlingFinished&&(console.log("isGeocodeHandlingFinished",this.isGeocodeHandlingFinished),n.getView().animate({center:hs([5.4808,52.2211]),zoom:i}),this.isGeocodeHandlingFinished=!1)}})}searchAddressChosen(){return t=>Pr(this,null,function*(){if(t.address.original.details.error)this.toaster.show("error",`No address found for "${t.address.original.details.query}", please enter another address`,[],3e5),yield this.progressService.increaseProgressByStep(Ko);else{let{postcode:n,street:i,housenumber:r,city:o}=t.address.original.details;!this.dataStoreService.get({[Rf]:i,[Al]:r,[Rd]:o})&&!this.dataStoreService.getByAddr(`${i} ${r} ${o}`)&&this.markers.addMarker(Z6,[t.place.lon,t.place.lat],`${i?.length?i+" ":""}${r} ${o}, ${n}`),this.map.getView().animate({center:hs([t.place.lon,t.place.lat]),zoom:15})}})}switchAddressChosenHandler(t){this.geoCoder.un(t8,this.activeAddressHandler),t?(this.activeAddressHandler=this.searchAddressChosen(),this.geoCoder.options.limit=5):(this.activeAddressHandler=this.defaultAddressHandler,this.geoCoder.options.limit=1),this.geoCoder.on(t8,this.activeAddressHandler)}geocodeHandlingFinished(){this.isGeocodeHandlingFinished===void 0&&(this.isGeocodeHandlingFinished=!0)}requestLocation(t){let n=document.querySelector(".gcd-txt-input"),i=document.querySelector(".gcd-txt-search");if(n&&i){let[r,o,s,a]=Td(t);n.value=`${r??""} ${o}, ${s}, ${a}`.replaceAll(",,",",").replaceAll("  "," "),console.log("search street map for",n.value),i.click()}}static \u0275fac=function(n){return new(n||e)(lt(Cs),lt(Zr),lt(kl),lt(Ol),lt(Hg))};static \u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"})};var R2=class extends xr{constructor(t={}){let n=t,i=document.createElement("button");i.innerHTML='<img style="height: 20px;" src="assets/table_edit_24dp.png" alt="v" title="Edit excel" />';let r=document.createElement("div");r.className="edit-excel ol-unselectable ol-control",r.appendChild(i),super({element:r,target:n.target}),i.addEventListener("click",n.callback.bind(this),!1)}};var T2=class e{constructor(t,n,i,r,o,s,a,l){this.geoPositionService=t;this.dataStoreService=n;this.pictureStore=i;this.toaster=r;this.progressService=o;this.renderer=s;this.searchInputService=a;this.mapEventHandlers=l;this.destroyRef=A(Zi),Gh(()=>{this.renderer.addClass(document.getElementsByClassName("ol-geocoder")[0],this.searchInputService.getVisibility()?"visible":"hidden")})}map;destroyRef;fileImportControl=new b2;exportFileControl=new x2;centerControl=new S2;searchControl=new D2({callback:()=>this.showSearchControl()});editExcelControl=new R2({callback:t=>this.showExcelGrid(t)});markers=A(Hg);geoCoderService=A(T_);ngOnInit(){this.initializeMap()}ngAfterViewInit(){let t=this.geoPositionService.geoPositions$.pipe(xi(this.destroyRef),un(i=>!!i.length)).subscribe(i=>{this.markers.setupMap(i,this.map.getView())});this.progressService.getProgress().pipe(Y1(i=>!i[Ko]||i[Ko].value!==100,!0),un(i=>Object.keys(i).length>0&&!!i[Ko])).subscribe(i=>{i[Ko].value===100&&this.geoCoderService.geocodeHandlingFinished()});let n=this.dataStoreService.dataStore$.pipe(xi(this.destroyRef),un(i=>!!i.length)).subscribe(i=>Pr(this,null,function*(){let r=0,o=0,s=[];this.progressService.setMaxCount(Ko,i.length);for(let a=0;a<i.length;a++){let l=i[a];if(this.dataContainsLocation(l))r=Number(l[Tf]),o=Number(l[If]),this.geoPositionService.updateGeoPosition(r,o,l[xT],l,l[Vb]),Object.keys(l).filter(d=>Gb(d)).forEach(d=>this.pictureStore.storePicture(l[d],d)),yield this.progressService.increaseProgressByStep(Ko);else{let[c,d,h,f]=Td(l),g=this.geoPositionService.getGeoPositionByAddress(h,f,d,c);if(g)this.geoPositionService.updateGeoPosition(0,0,g.userName,l,g.geoPositionInfo),yield this.progressService.increaseProgressByStep(Ko);else try{this.geoCoderService.requestLocation(l)}catch{s.push(`${f}, ${d}, ${h}`)}}}r&&o&&setTimeout(()=>{this.map.getView().animate({center:hs([5.4808,52.2211]),zoom:this.markers.zoomLevelSingleMarker})},1e3),s.length&&this.toaster.show("error",`${s.length} location request(s) failed for following address(es)`,s,6e5)}));this.destroyRef.onDestroy(()=>{t.unsubscribe(),n.unsubscribe()})}showSearchControl(){this.searchInputService.toggleVisibility();let t=document.getElementById("gcd-input-query");t&&(t.value="")}showExcelGrid(t){t.stopPropagation(),this.dataStoreService.setSelectedData(void 0),this.dataStoreService.setEditMode(!0),this.mapEventHandlers.closePopup()}initializeMap=()=>{let t=new sg({target:"attribution"});return this.map=new iT({controls:ag({attribution:!1}).extend([t,this.fileImportControl,this.exportFileControl,this.centerControl,this.searchControl,this.editExcelControl]),target:"map",view:new ps({center:hs([0,0])}),layers:[new uT({source:new Ab})]}),this.map.on("loadstart",()=>{this.map.getTargetElement().classList.add("spinner")}),this.map.on("loadend",()=>{this.map.getTargetElement().classList.remove("spinner")}),this.markers.initializeMarkers(this.map),this.map.addControl(this.geoCoderService.geocoderCreator(this.map,this.markers.zoomLevelSingleMarker)),this.map};dataContainsLocation(t){return Object.keys(t).some(n=>_Y.includes(n)&&!!t[n])}static \u0275fac=function(n){return new(n||e)(We(Zr),We(Cs),We(Pl),We(kl),We(Ol),We(Kr),We(zf),We(Ai))};static \u0275cmp=et({type:e,selectors:[["app-houses-map"]],features:[mi([Hg,T_,Ai,{provide:Ai,useExisting:Ra}])],decls:4,vars:3,consts:[[1,"main"],[3,"map"]],template:function(n,i){n&1&&(He(0,"div",0),Ct(1,"app-ol-map",1)(2,"app-tooltip-info-component",1)(3,"app-popup-house-card",1),Ke()),n&2&&(tt(),mt("map",i.map),tt(),mt("map",i.map),tt(),mt("map",i.map))},dependencies:[NT,Tv,E2],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%;width:100%}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1 1 auto}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:40px;height:40px;margin-top:-20px;margin-left:-20px;border-radius:50%;border:5px solid rgba(180,180,180,.6);border-top-color:#0009;animation:_ngcontent-%COMP%_spinner .6s linear infinite}  .import-files{top:65px;left:.5em}  .ol-touch .import-files{top:80px}  .export-file{top:90px;left:.5em}  .ol-touch .export-file{top:115px}  .center-map{top:115px;left:.5em}  .ol-touch .center-map{top:150px}  .magnifier{top:140px;left:.5em}  .ol-touch .magnifier{top:185px}  .edit-excel{top:165px;left:.5em}  .ol-touch .edit-excel{top:220px}']})};function o3e(e,t){if(e&1&&(He(0,"li",5),Pn(1),Ke()),e&2){let n=t.$implicit;tt(),yo(n)}}var I2=class e{toast;index;remove=new ye;stopPropagation(t){t.stopPropagation()}close(t){t.stopPropagation(),this.remove.emit(this.index)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["app-toaster"]],inputs:{toast:"toast",index:"index"},outputs:{remove:"remove"},decls:7,vars:5,consts:[["tabindex","0",3,"click","keyup.enter"],[1,"toast-heading"],[1,"body-container"],["class","body",4,"ngFor","ngForOf"],["tabindex","{0}","role","button",1,"close",3,"click","keypress"],[1,"body"]],template:function(n,i){n&1&&(He(0,"div",0),en("click",function(o){return i.stopPropagation(o)})("keyup.enter",function(o){return i.stopPropagation(o)}),He(1,"h4",1),Pn(2),Ke(),He(3,"ul",2),Jt(4,o3e,2,1,"li",3),Ke(),He(5,"a",4),en("click",function(o){return i.close(o)})("keypress",function(o){return i.close(o)}),Pn(6,"\xD7"),Ke()()),n&2&&(fU("toast toast-",i.toast.type,""),tt(2),yo(i.toast.title),tt(2),mt("ngForOf",i.toast.body))},dependencies:[Zn,nd],styles:[".toast[_ngcontent-%COMP%]{position:relative;left:12px;width:400px;min-height:80px;max-height:200px;padding:.75rem 1.25rem;margin-top:1rem;border:1px solid transparent;border-radius:.25rem;animation:_ngcontent-%COMP%_move 2s both}.body-container[_ngcontent-%COMP%]{max-height:150px;overflow-y:auto;overflow-x:hidden;scrollbar-color:black transparent}.body[_ngcontent-%COMP%]{font-weight:700;list-style-type:none}.toast-success[_ngcontent-%COMP%]{color:#fff;background-color:#02ea0280;box-shadow:5px 5px 10px gray}.toast-error[_ngcontent-%COMP%]{color:#000000b0;background-color:#ff000080;box-shadow:5px 5px 10px gray}.toast-warning[_ngcontent-%COMP%]{color:#856404;background-color:#ffb20080;box-shadow:5px 5px 10px gray}.close[_ngcontent-%COMP%]{position:absolute;top:7px;right:10px;font-size:1.5em;cursor:pointer}.toast-heading[_ngcontent-%COMP%]{margin-top:10px}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(100%)}to{transform:translate(0)}}"]})};function s3e(e,t){if(e&1){let n=wo();He(0,"app-toaster",2),en("remove",function(r){Ui(n);let o=jn();return Wi(o.remove(r))}),Ke()}if(e&2){let n=t.$implicit,i=t.index;mt("toast",n)("index",i)}}var M2=class e{constructor(t){this.toaster=t;this.toaster.toast$.pipe(xi()).subscribe(n=>{this.toasts=[n,...this.toasts],n.delay&&setTimeout(()=>this.toasts.pop(),n.delay||6e3)})}toasts=[];remove(t){this.toasts=this.toasts.filter((n,i)=>i!==t)}static \u0275fac=function(n){return new(n||e)(We(kl))};static \u0275cmp=et({type:e,selectors:[["app-toaster-container"]],decls:2,vars:1,consts:[[1,"toaster-container"],[3,"toast","index","remove",4,"ngFor","ngForOf"],[3,"remove","toast","index"]],template:function(n,i){n&1&&(He(0,"div",0),Jt(1,s3e,1,2,"app-toaster",1),Ke()),n&2&&(tt(),mt("ngForOf",i.toasts))},dependencies:[I2,Zn,nd],styles:[".toaster-container[_ngcontent-%COMP%]{background-color:transparent;opacity:1;bottom:20px;width:480px;height:fit-content;max-height:calc(100vh - 40px);padding-bottom:20px;z-index:1000;position:absolute;top:10px;right:10px;overflow-y:auto;overflow-x:hidden}"]})};var Zg=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){let i=t?this.allAsyncListeners:this.allSyncListeners,r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){let i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let n=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let{frameworkOverrides:i}=this,r=a=>{let l=i?()=>i.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},o=this.getListeners(n,t,!1);if((o?.size??0)>0){let a=new Set(o);for(let l of a)o?.has(l)&&r(()=>l(e))}let s=this.getGlobalListeners(t);if(s.size>0){let a=new Set(s);for(let l of a)r(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function a3e(e,t){return t}function fB(e){return e?.getLocaleTextFunc()??a3e}function l3e(e,t,n,i){let r=t[n];return e.getLocaleTextFunc()(n,typeof r=="function"?r(i):r,i)}function ah(e){return e==null||e===""?null:e}function nt(e){return e!=null&&e!==""}function Hi(e){return!nt(e)}function k8(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function z_(e,t){let n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function c3e(e,t,n=!1){let i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!n)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var Ete=new Set(["__proto__","constructor","prototype"]);function d3e(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(let n of Object.keys(e))t(n,e[n])}}function Qs(e,t,n=!0,i=!1){nt(t)&&d3e(t,(r,o)=>{if(Ete.has(r))return;let s=e[r];s!==o&&(i&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[r]=s),yee(o)&&yee(s)&&!Array.isArray(s)?Qs(s,o,n,i):(n||o!==void 0)&&(e[r]=o))})}function L_(e,t,n){if(!t||!e)return;if(!n)return e[t];let i=t.split("."),r=e;for(let o=0;o<i.length;o++){if(r==null)return;r=r[i[o]]}return r}function yee(e){return typeof e=="object"&&e!==null}var u3e=(()=>{let e=class Gg{static applyGlobalGridOptions(n){if(!Gg.gridOptions)return V({},n);let i={};return Qs(i,Gg.gridOptions,!0,!0),Gg.mergeStrategy==="deep"?Qs(i,n,!0,!0):i=V(V({},i),n),Gg.gridOptions.context&&(i.context=Gg.gridOptions.context),n.context&&(Gg.mergeStrategy==="deep"&&i.context&&Qs(n.context,i.context,!0,!0),i.context=n.context),i}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),h3e=u3e;var f3e={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function jd(e,t,n){n==null||typeof n=="string"&&n==""?Dte(e,t):Yl(e,t,n)}function Yl(e,t,n){e.setAttribute(Rte(t),n.toString())}function Dte(e,t){e.removeAttribute(Rte(t))}function Rte(e){return`aria-${e}`}function Yf(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function p3e(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function g3e(e){return e.getAttribute("aria-label")}function bC(e,t){jd(e,"label",t)}function U_(e,t){jd(e,"labelledby",t)}function Tte(e,t){jd(e,"live",t)}function m3e(e,t){jd(e,"atomic",t)}function v3e(e,t){jd(e,"relevant",t)}function C3e(e,t){jd(e,"invalid",t)}function w3e(e,t){jd(e,"disabled",t)}function Ite(e,t){jd(e,"hidden",t)}function P8(e,t){Yl(e,"expanded",t)}function y3e(e,t){Yl(e,"setsize",t)}function b3e(e,t){Yl(e,"posinset",t)}function _3e(e,t){Yl(e,"multiselectable",t)}function x3e(e,t){Yl(e,"rowcount",t)}function pB(e,t){Yl(e,"rowindex",t)}function S3e(e,t){Yl(e,"rowspan",t)}function E3e(e,t){Yl(e,"colcount",t)}function Mte(e,t){Yl(e,"colindex",t)}function D3e(e,t){Yl(e,"colspan",t)}function R3e(e,t){Yl(e,"sort",t)}function T3e(e){Dte(e,"sort")}function O8(e,t){jd(e,"selected",t)}function I3e(e,t){jd(e,"controls",t)}function M3e(e,t){I3e(e,t.id),U_(t,e.id)}function gB(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var n8,i8,r8,o8,L8,N8,s8;function nm(){return n8===void 0&&(n8=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),n8}function Fte(){return i8===void 0&&(i8=/(firefox)/i.test(navigator.userAgent)),i8}function Ate(){return r8===void 0&&(r8=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),r8}function Wg(){return o8===void 0&&(o8=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),o8}function B8(e){if(!e)return null;let t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!Fte())?null:t.toString()}function F3e(){if(s8!==void 0)return s8;if(!document.body)return-1;let e=1e6,t=Fte()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){let i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),s8=e,e}function A3e(){return N8==null&&kte(),N8}function kte(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(N8=n,L8=n===0)}function Pte(){return L8==null&&kte(),L8}var k3e="[tabindex], input, select, button, textarea, [href]",Ote="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function mB(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,Ote),o=kc(e);return i&&!r&&o}function Ki(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||Ite(e,!t)}function P3e(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||Ite(e,!t)}function W_(e,t){let n="disabled",i=t?o=>o.setAttribute(n,""):o=>o.removeAttribute(n);i(e);let r=e.querySelectorAll("input")??[];for(let o of r)i(o)}function jg(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function im(e){let{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:h,marginRight:f,marginBottom:g,marginLeft:m,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(f||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(m||"0"),boxSizing:v}}function vB(e){let t=im(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function j_(e){let t=im(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function Lte(e){let{height:t,marginBottom:n,marginTop:i}=im(e);return Math.floor(t+n+i)}function Z2(e){let{width:t,marginLeft:n,marginRight:i}=im(e);return Math.floor(t+n+i)}function Nte(e){let t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:o}=im(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(o||0)}}function Q2(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function J2(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Is(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Zs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Bte(e){return!!e.offsetParent}function kc(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Bte(e)||window.getComputedStyle(e).visibility!=="visible")}function CB(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Vte(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function Hte(e,t){for(let n=0;n<t.length;n++){let i=t[n],r=e.children[n];r!==i&&e.insertBefore(i,r)}}function O3e(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function nx(e,t){if(t)for(let n of Object.keys(t)){let i=t[n];if(!n||!n.length||i==null)continue;let r=O3e(n),o=i.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;e.style.setProperty(r,s,a)}}function U2(e){return()=>{let t=e();return t?Gte(t):!0}}function Gte(e){return e.clientWidth<e.scrollWidth}function L3e(e){return e.clientHeight<e.scrollHeight}function eI(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Gd(e,t)}function Gd(e,t){t=wB(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function N_(e,t){t=wB(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function wB(e){return typeof e=="number"?`${e}px`:e}function yB(e){return e instanceof Node||e instanceof HTMLElement}function nl(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function tp(e,t,n){let r=Zte(e).ResizeObserver,o=r?new r(n):null;return o?.observe(t),()=>o?.disconnect()}function hh(e,t){let n=Zte(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var zte="data-ref",a8;function bee(){return a8??(a8=document.createTextNode(" ")),a8.cloneNode()}function ki(e){let{attrs:t,children:n,cls:i,ref:r,role:o,tag:s}=e,a=document.createElement(s);if(i&&(a.className=i),r&&a.setAttribute(zte,r),o&&a.setAttribute("role",o),t)for(let l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(let c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(bee()),l=!1),a.append(ki(c)),a.appendChild(bee())))}return a}var _ee={};function bB(e,t){_ee[t]||(e(),_ee[t]=!0)}function Zf(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function cC(e,...t){bB(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function dC(e,...t){bB(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var N3e={pending:!1,funcs:[]},B3e={pending:!1,funcs:[]};function V8(e,t="setTimeout",n){let i=t==="raf"?B3e:N3e;if(i.funcs.push(e),i.pending)return;i.pending=!0;let r=()=>{let o=i.funcs.slice();i.funcs.length=0,i.pending=!1,o.forEach(s=>s())};t==="raf"?hh(n,r):window.setTimeout(r,0)}function Qo(e,t,n){let i;return function(...r){let o=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(o,r)},n)}}function xee(e,t){let n=0;return function(...i){let r=this,o=Date.now();o-n<t||(n=o,e.apply(r,i))}}function V3e(e,t,n=100,i){let r=Date.now(),o=null,s=!1,a=()=>{let l=Date.now()-r>n;(e()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&i&&cC(i))};a(),s||(o=window.setInterval(a,10))}var Ute="https://www.ag-grid.com",ct="34.0.0",See=2e3,Eee=100,Wte="_version_",jte=null,H3e=!1,uC=`${Ute}/javascript-data-grid`;function G3e(e){jte=e}function z3e(e){uC=e}function $te(e,t,n){return jte?.getConsoleMessage(e,t)??[$3e(e,t,n)]}function _B(e,t,n,i){H3e||e(`error #${t}`,...$te(t,n,i))}function U3e(e){if(!e)return String(e);let t={};for(let n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function W3e(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=U3e(e)),t}function tI(e){return e===void 0?"undefined":e===null?"null":e}function H8(e,t){return`${e}?${t.toString()}`}function j3e(e,t,n){let i=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length),r=H8(e,t);for(let[o,s]of i){if(o===Wte)continue;let a=r.length-n;if(a<=0)break;let l="...",c=a+l.length,d=s.length-c>Eee?s.slice(0,s.length-c)+l:s.slice(0,Eee)+l;t.set(o,d),r=H8(e,t)}return r}function qte(e,t){let n=new URLSearchParams;if(n.append(Wte,ct),t)for(let o of Object.keys(t))n.append(o,W3e(t[o]));let i=`${uC}/errors/${e}`,r=H8(i,n);return r.length<=See?r:j3e(i,n,See)}var $3e=(e,t,n)=>{let i=qte(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function je(...e){_B(cC,e[0],e[1])}function li(...e){_B(dC,e[0],e[1])}function P_(e,t,n){_B(dC,e,t,n)}function q3e(e,t){let n=t[0];return`error #${n} `+$te(n,t[1],e).join(" ")}function zd(...e){return q3e(void 0,e)}function Kte(e,t){return e.get("rowModelType")===t}function fo(e,t){return Kte(e,"clientSide")}function DC(e,t){return Kte(e,"serverSide")}function Jo(e,t){return e.get("domLayout")===t}function $g(e){return iI(e)!==void 0}function Xte(e){return typeof e.get("getRowHeight")=="function"}function K3e(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Qf(e,t,n=!1,i){let{gos:r,environment:o}=e;if(i==null&&(i=o.getDefaultRowHeight()),Xte(r)){if(n)return{height:i,estimated:!0};let l={node:t,data:t.data},c=r.getCallback("getRowHeight")(l);if(G8(c))return c===0&&je(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&r.get("masterDetail"))return X3e(r);let s=r.get("rowHeight");return{height:s&&G8(s)?s:i,estimated:!1}}function X3e(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return G8(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function qg(e){let{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||Hi(i))return t.getDefaultRowHeight();let r=t.refreshRowHeightVariable();return r!==-1?r:(je(24),t.getDefaultRowHeight())}function G8(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Yte(e,t,n){let i=t[e.getDomDataKey()];return i?i[n]:void 0}function Qg(e,t,n,i){let r=e.getDomDataKey(),o=t[r];Hi(o)&&(o={},t[r]=o),o[n]=i}function Ao(e){let{gos:t,eGridDiv:n}=e,i=null,r=t.get("getDocument");return r&&nt(r)?i=r():n&&(i=n.ownerDocument),i&&nt(i)?i:document}function Zte(e){return Ao(e).defaultView||window}function $_(e){return e.eGridDiv.getRootNode()}function tr(e){return $_(e).activeElement}function xB(e){let t=null,n=null;try{t=Ao(e).fullscreenElement}catch{}finally{t||(t=$_(e));let i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function Y3e(e){return xB(e)?.clientWidth??(window.innerHeight||-1)}function Z3e(e){return xB(e)?.clientHeight??(window.innerHeight||-1)}function Q3e(e,t,n){let r=e.getBoundingClientRect().height,o=Y3e(n)-2,s=Z3e(n)-2;if(!e.offsetParent)return;let l=Nte(e.offsetParent),{clientY:c,clientX:d}=t,h=c-l.top-r/2,f=d-l.left-10,g=Ao(n),m=g.defaultView||window,v=m.pageYOffset||g.documentElement.scrollTop,C=m.pageXOffset||g.documentElement.scrollLeft;o>0&&f+e.clientWidth>o+C&&(f=o+C-e.clientWidth),f<0&&(f=0),s>0&&h+e.clientHeight>s+v&&(h=s+v-e.clientHeight),h<0&&(h=0),e.style.left=`${f}px`,e.style.top=`${h}px`}function Qte(e){let t=tr(e);return t===null||t===Ao(e).body}function hC(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Jte(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Jo(e,"print"))}function Bd(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function z8(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function ene(e){return e.get("grandTotalRow")}function tne(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function nne(e,t,n){return!!t.group&&!t.footer&&tne(e,n)}function _C(e){let t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(bB(()=>je(25,{id:i}),"getRowIdString"),i=String(i)),i}}function J3e(e,t){let n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function eOe(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function fC(e){return e?.checkboxes??!0}function W2(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function nI(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function l8(e){return e?.hideDisabledCheckboxes??!1}function tOe(e){return typeof e.get("rowSelection")!="string"}function dh(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function ine(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function nOe(e){let t=ine(e);return t===!0||t==="enableSelection"}function iOe(e){let t=ine(e);return t===!0||t==="enableDeselection"}function U8(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function iI(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function q_(e){return iI(e)==="multiRow"}function rOe(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function rI(e){let t=e.get("rowSelection");if(typeof t=="string"){let n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function rne(e,t=!0){let n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function K_(e){let t=rI(e);return t==="descendants"||t==="filteredDescendants"}function Dee(e){let t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function oOe(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function tl(e){return e.get("columnMenu")==="legacy"}function sOe(e){return!tl(e)}function aOe(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function one(e,t,n){typeof e!="object"&&(e={});let i=V({},e);return n.forEach(r=>{let o=t[r];typeof o<"u"&&(i[r]=o)}),i}function sne(e,t){if(!e)return;let n={},i=!1;if(Object.keys(e).forEach(s=>{n[s]=e[s],i=!0}),!i)return;let r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);let o=V({type:"componentStateChanged"},n);t.dispatchEvent(o)}function Rt(e,t){return e.addGridCommonParams(t)}function ane(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var lne="__ag_Grid_Stop_Propagation",lOe=["touchstart","touchend","touchmove","touchcancel","scroll"],cOe=["wheel"],c8={};function Jg(e){e[lne]=!0}function lh(e){return e[lne]===!0}var cne=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof c8[n]=="boolean")return c8[n];let i=document.createElement(e[n]||"div");return n="on"+n,c8[n]=n in i}})();function dne(e,t,n){let i=t;for(;i;){let r=Yte(e,i,n);if(r)return r;i=i.parentElement}return null}function dOe(e,t){return!t||!e?!1:hOe(t).indexOf(e)>=0}function uOe(e){let t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function hOe(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():uOe(t)}function fOe(e,t,n,i){let r=une(n),o;r!=null&&(o={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,o)}var une=e=>{let t=lOe.includes(e),n=cOe.includes(e);if(t)return!0;if(n)return!1},_e=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Zg),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let n=[];for(let i of Object.keys(t)){let r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return pOe(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?fOe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){let{gos:n}=this;n.addPropertyEventListener(e,t);let i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}let o={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(o)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return fB(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function pOe(e){return e.__addEventListener!==void 0}var gOe=/[&<>"']/g,mOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function RC(e){return e?.toString().toString()??null}function j2(e){return RC(e)?.replace(gOe,t=>mOe[t])??null}var vOe={resizable:!0,sortable:!0},COe=0;function hne(){return COe++}function uh(e){return e instanceof bI}var bI=class extends _e{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=hne(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Zg,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=j2(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);let r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){let i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=nt(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=nt(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Rt(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??vOe[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Rt(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Hi(this.sort)}isSorting(){return nt(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return je(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Rt(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Hi(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Hi(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){let i=this.createColumnEvent(e,t);n&&Qs(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ts(e){return e instanceof $2}var $2=class extends _e{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=hne(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(let t of this.children)uh(t)?e(t):Ts(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{uh(t)?e.push(t):Ts(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding();for(let o=0,s=i.length;o<s;o++){let a=i[o];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}let r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=n=>{n.forEach(i=>{Ts(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},wOe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Ree(e,t,n){let i={},r=e.gos;return Object.assign(i,r.get("defaultColGroupDef")),Object.assign(i,t),r.validateColDef(i,n),i}var yOe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=k8(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){let r=String(i);return e&&n>0&&je(273,{providedId:e,usedId:r}),this.existingKeys[r]=!0,r}n++}}},oI=Object.freeze([]);function ai(e){if(e?.length)return e[e.length-1]}function rm(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function F2(e,t){if(e)for(let n of e)t(n)}function Xl(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}function Tee(e,t,n){for(let i=0;i<t.length;i++)Xl(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var _I="ag-Grid-AutoColumn",fne="ag-Grid-SelectionColumn",pne="ag-Grid-RowNumbersColumn";function gne(e){let t=[],n=i=>{for(let r=0;r<i.length;r++){let o=i[r];uh(o)?t.push(o):Ts(o)&&n(o.getChildren())}};return n(e),t}function oh(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function sI(e,t,n){let i={};if(!t)return;ch(null,t,o=>{i[o.getInstanceId()]=o}),n&&ch(null,n,o=>{i[o.getInstanceId()]=null});let r=Object.values(i).filter(o=>o!=null);e.context.destroyBeans(r)}function SB(e){return e.getId().startsWith(_I)}function om(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(fne)??!1}function Kg(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(pne)??!1}function aI(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function bOe(e,t){return rm(e,t,(n,i)=>n.getColId()===i.getColId())}function _Oe(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function pC(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function mne(e,t){let n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var xOe=(e,t)=>(n,i)=>{let r={value1:void 0,value2:void 0},o=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],o=!0),nt(i)&&e[i]!==void 0&&(r.value2=e[i],o=!0)),!o&&t&&(t[n]!==void 0&&(r.value1=t[n]),nt(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function SOe(e,t=null,n,i,r){let o=new yOe,{existingCols:s,existingGroups:a,existingColKeys:l}=EOe(i);o.addExistingKeys(l);let c=vne(e,t,0,n,s,o,a,r),{colGroupSvc:d}=e,h=d?.findMaxDepth(c,0)??0,f=d?d.balanceColumnTree(c,0,h,o):c;return ch(null,f,(m,v)=>{Ts(m)&&m.setupExpandable(),m.originalParent=v}),{columnTree:f,treeDepth:h}}function EOe(e){let t=[],n=[],i=[];return e&&ch(null,e,r=>{if(Ts(r)){let o=r;n.push(o)}else{let o=r;i.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function vne(e,t,n,i,r,o,s,a){if(!t)return[];let{colGroupSvc:l}=e,c=new Array(t.length);for(let d=0;d<c.length;d++){let h=t[d];l&&FOe(h)?c[d]=l.createProvidedColumnGroup(i,h,n,r,o,s,a):c[d]=DOe(e,i,h,r,o,a)}return c}function DOe(e,t,n,i,r,o){let s=TOe(n,i);s&&i?.splice(s.idx,1);let a=s?.column;if(a){let l=W8(e,n,a.getColId());a.setColDef(l,n,o),ROe(e,a,l,o)}else{let l=r.getUniqueKey(n.colId,n.field),c=W8(e,n,l);a=new bI(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function Cne(e,t,n,i,r,o,s,a){let{sortSvc:l,pinnedCols:c,colFlex:d}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),o!==void 0&&c?.setColPinned(t,o),s!==void 0&&d?.setColFlex(t,s)}function ROe(e,t,n,i){Cne(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);let r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{let o=t.getActualWidth();t.setActualWidth(o,i)}}function TOe(e,t){if(t)for(let n=0;n<t.length;n++){let i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function W8(e,t,n,i){let{gos:r,dataTypeSvc:o}=e,s={},a=r.get("defaultColDef");Qs(s,a,!1,!0);let l=IOe(e,s,t,n);l&&MOe(e,l,s),Qs(s,t,!1,!0);let c=r.get("autoGroupColumnDef"),d=Bd(r);return t.rowGroup&&c&&d&&Qs(s,{sort:c.sort,initialSort:c.initialSort},!1,!0),o&&(o.postProcess(s),o.validateColDef(s)),r.validateColDef(s,n,i),s}function IOe(e,t,n,i){let r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),o=n.type??r??t.type;return t.type=o,o?aI(o):void 0}function MOe(e,t,n){if(!t.length)return;let i=Object.assign({},wOe),r=e.gos.get("columnTypes")||{};for(let o of Object.keys(r)){let s=r[o];o in i?je(34,{key:o}):(s.type&&je(35),i[o]=s)}t.forEach(o=>{let s=i[o.trim()];s?Qs(n,s,!1,!0):je(36,{t:o})})}function FOe(e){return e.children!==void 0}function ch(e,t,n){if(t)for(let i=0;i<t.length;i++){let r=t[i];Ts(r)&&ch(r,r.getChildren(),n),n(r,e)}}function wne(e,t){let n=[],i=[],r=[];return e.forEach(s=>{let a=s.getColDef().lockPosition;a==="right"?r.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function yne(e,t){let n=!0;return ch(null,t,i=>{if(!Ts(i))return;let r=i,o=r.getColGroupDef();if(!(o&&o.marryChildren))return;let a=[];r.getLeafColumns().forEach(f=>{let g=e.indexOf(f);a.push(g)});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,h=r.getLeafColumns().length-1;d>h&&(n=!1)}),n}function bne(e,t){if(!e||e.length==0)return;let n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function _ne(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=bne(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function AOe(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=bne(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function kOe(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function xC(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function Ac(e,t,n){let{colModel:i,rowGroupColsSvc:r,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:d,environment:h,valueColsSvc:f,eventSvc:g,gos:m}=e,v=i.getColDefCols()??[],C=a?.getColumns();if(!v?.length&&!C?.length)return!1;if(t?.state&&!t.state.forEach)return je(32),!1;let y=(I,F,T,P,L)=>{if(!I)return;let U=xOe(F,t.defaultState),W=U("flex").value1;if(Cne(e,I,U("hide").value1,U("sort").value1,U("sortIndex").value1,U("pinned").value1,W,n),W==null){let X=U("width").value1;if(X!=null){let oe=I.getColDef().minWidth??h.getDefaultColumnMinWidth();oe!=null&&X>=oe&&I.setActualWidth(X,n)}}L||!I.isPrimary()||(f?.syncColumnWithState(I,n,U),r?.syncColumnWithState(I,n,U,T),o?.syncColumnWithState(I,n,U,P))},x=(I,F,T)=>{let P=xne(e,n),L=F.slice(),U={},W={},X=[],oe=[],Ie=[],ae=0,Le=r?.columns.slice()??[],Se=o?.columns.slice()??[];I.forEach(Ae=>{let he=Ae.colId;if(he.startsWith(_I)){X.push(Ae),Ie.push(Ae);return}if(om(he)){oe.push(Ae),Ie.push(Ae);return}let ne=T(he);ne?(y(ne,Ae,U,W,!1),Xl(L,ne)):(Ie.push(Ae),ae+=1)});let Ge=Ae=>y(Ae,null,U,W,!1);L.forEach(Ge),r?.sortColumns(Iee.bind(r,U,Le)),o?.sortColumns(Iee.bind(o,W,Se)),i.refreshCols(!1);let be=(Ae,he,N=[])=>{he.forEach(ne=>{let Q=Ae(ne.colId);Xl(N,Q),y(Q,ne,null,null,!0)}),N.forEach(Ge)};return be(Ae=>s?.getColumn(Ae)??null,X,s?.getColumns()?.slice()),be(Ae=>a?.getColumn(Ae)??null,oe,a?.getColumns()?.slice()),OOe(t,i,m),c.refresh(n),g.dispatchEvent({type:"columnEverythingChanged",source:n}),P(),{unmatchedAndAutoStates:Ie,unmatchedCount:ae}};l?.start();let{unmatchedAndAutoStates:_,unmatchedCount:R}=x(t.state||[],v,I=>i.getColDefCol(I));if(_.length>0||nt(t.defaultState)){let I=d?.getPivotResultCols()?.list??[];R=x(_,I,F=>d?.getPivotResultCol(F)??null).unmatchedCount}return l?.finish(),R===0}function POe(e,t){let{colModel:n,autoColSvc:i,selectionColSvc:r,eventSvc:o,gos:s}=e,a=n.getColDefCols();if(!a?.length)return;let l=n.getColDefColTree(),c=gne(l),d=[],h=1e3,f=1e3,g=x=>{let _=Sne(x);Hi(_.rowGroupIndex)&&_.rowGroup&&(_.rowGroupIndex=h++),Hi(_.pivotIndex)&&_.pivot&&(_.pivotIndex=f++),d.push(_)};i?.getColumns()?.forEach(g),r?.getColumns()?.forEach(g),c?.forEach(g),Ac(e,{state:d},t);let m=i?.getColumns()??[],y=[...r?.getColumns()??[],...m,...a].map(x=>({colId:x.colId}));Ac(e,{state:y,applyOrder:!0},t),o.dispatchEvent(Rt(s,{type:"columnsReset",source:t}))}function xne(e,t){let{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},c=lI(e),d={};return c.forEach(h=>{d[h.colId]=h}),()=>{let h=(F,T,P,L)=>{let U=T.map(L),W=P.map(L);if(rm(U,W))return;let oe=new Set(T);P.forEach(ae=>{oe.delete(ae)||oe.add(ae)});let Ie=[...oe];a.dispatchEvent({type:F,columns:Ie,column:Ie.length===1?Ie[0]:null,source:t})},f=F=>{let T=[];return o.forAllCols(P=>{let L=d[P.getColId()];L&&F(L,P)&&T.push(P)}),T},g=F=>F.getColId();h("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],g),h("columnPivotChanged",l.pivotColumns,i?.columns??[],g);let v=f((F,T)=>{let P=F.aggFunc!=null,L=P!=T.isValueActive(),U=P&&F.aggFunc!=T.getAggFunc();return L||U});v.length>0&&kOe(a,"columnValueChanged",v,t),xC(a,f((F,T)=>F.width!=T.getActualWidth()),!0,t),_ne(a,f((F,T)=>F.pinned!=T.getPinned()),t),AOe(a,f((F,T)=>F.hide==T.isVisible()),t);let R=f((F,T)=>F.sort!=T.getSort()||F.sortIndex!=T.getSortIndex());R.length>0&&s?.dispatchSortChangedEvents(t,R);let I=lI(e);NOe(c,I,t,o,a)}}function lI(e){let{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(Hi(r)||!t.isAlive())return[];let o=n?.columns,s=i?.columns,a=[],l=d=>{let h=d.isRowGroupActive()&&o?o.indexOf(d):null,f=d.isPivotActive()&&s?s.indexOf(d):null,g=d.isValueActive()?d.getAggFunc():null,m=d.getSort()!=null?d.getSort():null,v=d.getSortIndex()!=null?d.getSortIndex():null;a.push({colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:m,sortIndex:v,aggFunc:g,rowGroup:d.isRowGroupActive(),rowGroupIndex:h,pivot:d.isPivotActive(),pivotIndex:f,flex:d.getFlex()??null})};t.forAllCols(d=>l(d));let c=new Map(t.getCols().map((d,h)=>[d.getColId(),h]));return a.sort((d,h)=>{let f=c.has(d.colId)?c.get(d.colId):-1,g=c.has(h.colId)?c.get(h.colId):-1;return f-g}),a}function Sne(e){let t=(m,v)=>m??v??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex),c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let h=t(n.pivotIndex,n.initialPivotIndex),f=t(n.pivot,n.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);let g=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:o,pinned:s,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:h,aggFunc:g}}function OOe(e,t,n){if(!e.applyOrder||!e.state)return;let i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),LOe(t.cols,i,t,n)}function LOe(e,t,n,i){if(e==null)return;let r=[],o={};t.forEach(a=>{if(o[a])return;let l=e.map[a];l&&(r.push(l),o[a]=!0)});let s=0;if(e.list.forEach(a=>{let l=a.getColId();if(o[l]!=null)return;l.startsWith(_I)?r.splice(s++,0,a):r.push(a)}),r=wne(r,i),!yne(r,n.getColTree())){je(39);return}e.list=r}function NOe(e,t,n,i,r){let o={};t.forEach(d=>o[d.colId]=d);let s={};e.forEach(d=>{o[d.colId]&&(s[d.colId]=!0)});let a=e.filter(d=>s[d.colId]),l=t.filter(d=>s[d.colId]),c=[];l.forEach((d,h)=>{let f=a&&a[h];if(f&&f.colId!==d.colId){let g=i.getCol(f.colId);g&&c.push(g)}}),c.length&&r.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var Iee=(e,t,n,i)=>{let r=e[n.getId()],o=e[i.getId()],s=r!=null,a=o!=null;if(s&&a)return r-o;if(s)return-1;if(a)return 1;let l=t.indexOf(n),c=t.indexOf(i),d=l>=0,h=c>=0;return d&&h?l-c:d?-1:1},BOe=class extends _e{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(pC(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),pC(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,colViewport:l,eventSvc:c}=t,d=this.colDefs?xne(t,e):void 0;n?.expire();let h=this.colDefCols?.list,f=this.colDefCols?.tree,g=SOe(t,this.colDefs,!0,f,e);sI(t,this.colDefCols?.tree,g.columnTree);let m=g.columnTree,v=g.treeDepth,C=gne(m),y={};C.forEach(x=>y[x.getId()]=x),this.colDefCols={tree:m,treeDepth:v,list:C,map:y},r?.extractCols(e,h),o?.extractCols(e,h),s?.extractCols(e,h),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),c.dispatchEvent({type:"columnEverythingChanged",source:e}),d&&(this.changeEventsDispatching=!0,d(),this.changeEventsDispatching=!1),c.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:o,pivotResultCols:s,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:d,eventSvc:h}=this.beans,f=this.selectCols(s,this.colDefCols);this.createColumnsForService([n,i,r],f);let g=K3e(this.gos,this.showingPivotResult);(!e||g)&&this.restoreColOrder(f),this.positionLockedCols(f),a?.refresh(),o?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(f),c.clear(),d.clear(),!rm(t,this.cols.tree)&&h.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(let n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){let n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;let{map:i,list:r,tree:o,treeDepth:s}=n??t;return this.cols={list:r.slice(),map:V({},i),tree:o.slice(),treeDepth:s},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(i=>{let r=SB(i);if(e){let o=t?.includes(i);return r||o}else return r||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Ac(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let n=t.filter(h=>e.map[h.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}let i=h=>{let f=h.getOriginalParent();return f?f.getChildren().length>1?!0:i(f):!1};if(!n.some(h=>i(h))){let h=new Set(n);for(let f of e.list)h.has(f)||n.push(f);e.list=n;return}let r=new Map;for(let h=0;h<n.length;h++){let f=n[h];r.set(f,h)}let o=e.list.filter(h=>!r.has(h));if(o.length===0){e.list=n;return}let s=(h,f)=>{let g=f?f.getOriginalParent():h.getOriginalParent();if(!g)return null;let m=null,v=null;for(let C of g.getChildren())if(!(C===f||C===h)){if(C instanceof bI){let y=r.get(C);if(y==null)continue;(m==null||m<y)&&(m=y,v=C);continue}C.forEachLeafColumn(y=>{let x=r.get(y);x!=null&&(m==null||m<x)&&(m=x,v=y)})}return v??s(h,g)},a=[],l=new Map;for(let h of o){let f=s(h,null);if(f==null){a.push(h);continue}let g=l.get(f);g===void 0?l.set(f,h):Array.isArray(g)?g.push(h):l.set(f,[g,h])}let c=new Array(e.list.length),d=c.length-1;for(let h=a.length-1;h>=0;h--)c[d--]=a[h];for(let h=n.length-1;h>=0;h--){let f=n[h],g=l.get(f);if(g)if(Array.isArray(g))for(let m=g.length-1;m>=0;m--){let v=g[m];c[d--]=v}else c[d--]=g;c[d--]=f}e.list=c}positionLockedCols(e){e.list=wne(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=pC(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){sI(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;F2(this.colDefCols?.list,e),F2(n?.columns?.list,e),F2(i?.columns?.list,e),F2(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;let{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(mne(i[r],e))return i[r];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}};var Ene=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function ix(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Dne=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){let i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.toggleCss(r,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},VOe=0,st=null,Gn=class extends _e{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=VOe++,this.cssManager=new Dne(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(zte):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let r=this[t];if(r===st)this[t]=i??e;else{let o=n&&n[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){let n=[];for(let i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;let r=this.createComponentFromElement(i,o=>{let s=o.getGui();if(s)for(let a of i.attributes??[])s.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);let o=Array.prototype.slice.call(i.children);r.addItems(o)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){let i=e.nodeName,r=this.getDataRefAttribute(e),o=i.indexOf("AG-")===0,s=o?this.componentSelectors.get(i):null,a=null;if(s){let l=n&&r?n[r]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){let i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=CB(e):i=ki(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){let o=t[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),yB(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=t;P3e(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=t;Ki(this.eGui,e,{skipAriaHidden:n});let i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function Rne(e){return typeof e=="object"&&!!e.component}var pr=class O_{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new O_(n=>{let i=t.length,r=new Array(i);t.forEach((o,s)=>{o.then(a=>{r[s]=a,i--,i===0&&n(r)})})}):O_.resolve()}static resolve(t=null){return new O_(n=>n(t))}then(t){return new O_(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function HOe(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Tne(e,t,n,i){let{name:r}=n,o,s,a,l,c,d;if(t){let h=t,f=h[r+"Selector"],g=f?f(i):null,m=v=>{typeof v=="string"?o=v:v!=null&&v!==!0&&(e.isFrameworkComponent(v)?a=v:s=v)};g?(m(g.component),l=g.params,c=g.popup,d=g.popupPosition):m(h[r])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}var GOe=class extends _e{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){let{name:o,cellRenderer:s}=t,{compName:a,jsComp:l,fwComp:c,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:f}=Tne(this.beans.frameworkOverrides,e,t,i),g,m,v=_=>{let R=this.registry.getUserComponent(o,_);R&&(l=R.componentFromFramework?void 0:R.component,c=R.componentFromFramework?R.component:void 0,g=R.params,m=R.processParams)};if(a!=null&&v(a),l==null&&c==null&&n!=null&&v(n),l&&s&&!HOe(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){let{validation:_}=this.beans;r&&(a!==n||!n)?a?_?.isProvidedUserComp(a)||li(50,{compName:a}):n?_||li(260,De(V({},this.gos.getModuleErrorParams()),{propName:o,compName:n})):li(216,{name:o}):n&&!_&&li(146,{comp:n});return}let C=this.mergeParams(e,t,i,d,g,m),y=l==null,x=l??c;return{componentFromFramework:y,componentClass:x,params:C,type:t,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(x,y,C,t)}}newAgStackInstance(e,t,n,i){let r=!t,o;r?o=new e:o=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(o);let s=o.init?.(n);return s==null?pr.resolve(o):s.then(()=>o)}mergeParams(e,t,n,i=null,r,o){let s=V(V({},n),r),a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){let c=l(n);Qs(s,c)}else typeof l=="object"&&Qs(s,l);return Qs(s,i),o?o(s):s}},zOe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},UOe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},WOe={name:"headerComponent",optionalMethods:["refresh"]},jOe={name:"innerHeaderComponent"},$Oe={name:"innerHeaderGroupComponent"},qOe={name:"headerGroupComponent"};var KOe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var XOe={name:"loadingCellRenderer",cellRenderer:!0},YOe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},ZOe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},QOe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},JOe={name:"tooltipComponent"},EB={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},eLe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},tLe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},nLe={name:"loadingCellRenderer",cellRenderer:!0},iLe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},rLe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function oLe(e,t){return e.getCompDetailsFromGridOptions(UOe,"agDragAndDropImage",t,!0)}function sLe(e,t,n){return e.getCompDetails(t,WOe,"agColumnHeader",n)}function aLe(e,t,n){return e.getCompDetails(t,jOe,void 0,n)}function lLe(e,t){let n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,qOe,"agColumnGroupHeader",t)}function cLe(e,t,n){return e.getCompDetails(t,$Oe,void 0,n)}function dLe(e,t){return e.getCompDetailsFromGridOptions(tLe,void 0,t,!0)}function uLe(e,t){return e.getCompDetailsFromGridOptions(nLe,"agLoadingCellRenderer",t,!0)}function hLe(e,t){return e.getCompDetailsFromGridOptions(iLe,"agGroupRowRenderer",t,!0)}function fLe(e,t){return e.getCompDetailsFromGridOptions(rLe,"agDetailCellRenderer",t,!0)}function Mee(e,t,n){return e.getCompDetails(t,KOe,void 0,n)}function Fee(e,t,n){return e.getCompDetails(t,XOe,"agSkeletonCellRenderer",n,!0)}function Ine(e,t,n){return e.getCompDetails(t,YOe,"agCellEditor",n,!0)}function pLe(e,t,n,i){let r=t.filter;return Rne(r)&&(t={filter:r.component,filterParams:t.filterParams}),e.getCompDetails(t,EB,i,n,!0)}function gLe(e,t,n){return e.getCompDetails(t,zOe,"agDateInput",n,!0)}function mLe(e,t){return e.getCompDetailsFromGridOptions(ZOe,"agLoadingOverlay",t,!0)}function vLe(e,t){return e.getCompDetailsFromGridOptions(QOe,"agNoRowsOverlay",t,!0)}function CLe(e,t){return e.getCompDetails(t.colDef,JOe,"agTooltipComponent",t,!0)}function wLe(e,t,n,i){return e.getCompDetails(t,eLe,i,n)}function Mne(e,t){return Tne(e,t,EB)}function d8(e,t,n){return e.mergeParams(t,EB,n)}function X_(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Fne=new Set,cI={},gC={},q2,Ane=!1,kne=!1,yLe=!1;function bLe(e){let[t,n]=e.version.split(".")||[],[i,r]=q2.split(".")||[];return t===i&&n===r}function _Le(e){q2||(q2=e.version);let t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?bLe(e)||dC(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${q2}.`)):dC(t(`'${e.moduleName}' is incompatible.`)),e.validate){let n=e.validate();n.isValid||dC(`${n.message}`)}}function Y_(e,t,n=!1){n||(Ane=!0),_Le(e);let i=e.rowModels??["all"];Fne.add(e);let r;t!==void 0?(kne=!0,gC[t]===void 0&&(gC[t]={}),r=gC[t]):r=cI,i.forEach(o=>{r[o]===void 0&&(r[o]={}),r[o][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(o=>Y_(o,t,n))}function xLe(e){delete gC[e]}function j8(e,t,n){let i=r=>!!cI[r]?.[e]||!!gC[t]?.[r]?.[e];return i(n)||i("all")}function DB(){return kne}function SLe(e,t){let n=gC[e]??{};return[...Object.values(cI.all??{}),...Object.values(n.all??{}),...Object.values(cI[t]??{}),...Object.values(n[t]??{})]}function ELe(){return new Set(Fne)}function DLe(){return Ane}function RLe(){return yLe}var Pne=class{static register(e){Y_(e,void 0)}static registerModules(e){e.forEach(t=>Y_(t,void 0))}},TLe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{let n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{let{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function ILe(e){return typeof e=="object"&&!!e.getComp}var MLe=class extends TLe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),xLe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},FLe=class extends _e{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new One,this.rowValidations=new Lne,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;let n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;let n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){let i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;let n=this.getEditRow(e),i=e.pinnedSibling,r=t&&i&&this.getEditRow(i);if(!n&&!r)return e.data;let o=Object.assign({},e.data),s=(a,l)=>a.forEach(({newValue:c},d)=>{c!==rl&&(l[d.getColId()]=c)});return n&&s(n,o),r&&s(r,o),o}getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;let t=new Map;return this.edits.forEach((n,i)=>t.set(i,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{let i=new Map;t.forEach((r,o)=>i.set(o,V({},r))),this.edits.set(n,i)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map),this.getEditRow(e.rowNode).set(e.column,t)}clearEditValue(e){let{rowNode:t,column:n}=e;if(t)if(n){let i=this.getEdit(e);i&&(i.newValue=i.oldValue,i.state="changed")}else this.getEditRow(t)?.forEach(i=>{i.newValue=i.oldValue,i.state="changed"})}setState(e,t){if(!e.rowNode||!e.column)return;let{rowNode:n,column:i}=e,r=this.getEditRow(n),o=r?.get(i);o?o.state=t:(r||(r=new Map,this.edits.set(n,r)),r.set(i,{newValue:void 0,oldValue:void 0,state:t}))}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||this.edits.size===0)return[];let t=[];return(e??this.edits).forEach((n,i)=>{for(let r of n.keys())t.push(V({rowNode:i,column:r},n.get(r)))}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;let{rowNode:n,column:i}=e,{withOpenEditor:r}=t;if(n){let o=this.getEditRow(n,t);return o?i?r?this.getEdit(e)?.state==="editing":o.has(i)??!1:o.size!==0?r?Array.from(o.values()).some(({state:s})=>s==="editing"):!0:!1:!1}return r?this.getEditPositions().some(({state:o})=>o==="editing"):this.edits.size>0}start(e){let t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{newValue:rl,oldValue:this.beans.valueSvc.getValue(i,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(let e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},One=class{constructor(){this.cellValidations=new Map}getCellValidation(e){let{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){let{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){let{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},Lne=class{constructor(){this.rowValidations=new Map}getRowValidation(e){let{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function ALe(e){let{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function Nne(e,t){let n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function kLe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(nt(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function PLe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function OLe(e){let t=0,n,{pinnedRowModel:i,rowModel:r,pageBounds:o}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=o.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function LLe(e){let t,n=null,{pinnedRowModel:i,pageBounds:r}=e,o=i?.getPinnedBottomRowCount(),s=i?.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):s&&(n="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Jf(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function aC(e,t){let n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;let i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function NLe(e,t,n){let{rowModel:i,pinnedRowModel:r}=e,o;return o??(o=i?.getRowNode(t)),n?o??(o=r?.getPinnedRowById(t,n)):(o??(o=r?.getPinnedRowById(t,"top")),o??(o=r?.getPinnedRowById(t,"bottom"))),o}function dI(e,t){let{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(n===0)return i==="top"?null:i==="bottom"&&s.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:o?.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;let a=i?void 0:s.getRow(n);return Bne(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function Aee(e,t){let{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(BLe(e,t))return i==="bottom"?null:i==="top"&&s.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:o?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;let a=i?void 0:s.getRow(n);return Bne(e,a)??{rowIndex:n+1,rowPinned:i}}function Bne(e,t,n){let{gos:i,rowRenderer:r}=e;if(!t?.sticky||!Jte(i))return;let o=n?r.getStickyTopRowCtrls():r.getStickyBottomRowCtrls(),s;for(let a=0;a<o.length;a++)if(o[a].rowNode.rowIndex===t.rowIndex){s=o[a+(n?-1:1)];break}return s?{rowIndex:s.rowNode.rowIndex,rowPinned:null}:void 0}function BLe(e,t){let{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:o}=e;return n==="top"?(r?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(r?.getPinnedBottomRowCount()??0)-1<=i:o.getLastRow()<=i}function uI(e,t={}){let{rowIndex:n,rowId:i,rowCtrl:r,rowPinned:o}=t;if(r)return r;let{rowModel:s,rowRenderer:a}=e,{rowNode:l}=t;return l??(l=i?NLe(e,i,o):s.getRow(n)),a.getRowCtrls(l?[l]:[])?.[0]}function Ur(e,t={}){let{cellCtrl:n,colId:i,columnId:r,column:o}=t;if(n)return n;let s=e.colModel.getCol(i??r??$8(o)),a=t.rowCtrl??uI(e,t),l=a?.getCellCtrl(s)??void 0;if(l)return l;let c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[s])?.[0]}function kee(e){let{editSvc:t}=e;t?.isBatchEditing()?mC(e):t?.stopEditing(void 0,{source:"api"})}function VLe(e,t,n){let{gos:i,popupSvc:r}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;let o=s=>{let a=s.relatedTarget;if(B8(a)===null){kee(t);return}let l=n.some(c=>c.contains(a))&&Yne(i,a);l||(l=!!r&&(r.getActivePopups().some(c=>c.contains(a))||r.isElementWithinCustomPopup(a))),l||kee(t)};n.forEach(s=>e.addManagedElementListeners(s,{focusout:o}))}function $8(e){if(e)return typeof e=="string"?e:e.getColId()}var rl=Symbol("unedited");function Vne(e,t={}){let n=[],i=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(let r of i){let o=r.comp?.getCellEditor();o&&n.push({ctrl:r,editor:X_(o)})}return n}var HLe=(e,t={})=>Vne(e,t).map(n=>n.editor);function GLe(e,t,n,i,r,o){t.length===0&&n?.rowNode&&n?.column&&Z_(e,n,i,r,o);let{valueSvc:s,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:d}=n??{};for(let h of t){let{rowNode:f,column:g}=h,m=Ur(e,h);if(!m){if(f&&g){let C=s.getValue(g,f,void 0,"api"),_=(n?.rowNode===f&&n?.column===g&&i||void 0)??a?.getCellDataValue(h)??s.getValueForDisplay(g,f)?.value??C??rl;l?.setEdit(h,{newValue:_,oldValue:C,state:"editing"})}continue}let v=o&&c===m.rowNode&&m.column===d;Z_(e,{rowNode:c,column:m.column},v?i:null,v?r:null,v)}}function Xf({newValue:e,oldValue:t}){return e===rl&&(e=t),e!==t}function Z_(e,t,n,i,r){let o=Ur(e,t),s=o?.comp?.getCellEditor(),a=Gne(e,t,n,r),l=e.valueSvc.getValue(t.column,t.rowNode,void 0,"api"),c=n?.length===1?n:a.value;if(c===void 0&&(c=l),e.editModelSvc?.setEdit(t,{newValue:c??rl,oldValue:l,state:"editing"}),s){s.refresh?.(a);return}let d=t.column.getColDef(),h=Ine(e.userCompFactory,d,a),f=h?.popupFromSelector!=null?h.popupFromSelector:!!d.cellEditorPopup,g=h?.popupPositionFromSelector!=null?h.popupPositionFromSelector:d.cellEditorPopupPosition;zne(h.params,i),o&&(o.editCompDetails=h,o.comp?.setEditDetails(h,f,g,e.gos.get("reactiveCustomComponents")),o?.rowCtrl?.refreshRow({suppressFlash:!0}),e.editSvc?.dispatchCellEvent(t,null,"cellEditingStarted"))}function Hne(e,t){let n={newValueExists:!1};if(e)return n;let i=t?.getCellEditor();return!i||i.isCancelAfterEnd?.()||(i.getValidationErrors?.()?.length??0)>0?n:{newValue:i.getValue(),newValueExists:!0}}function Gne(e,t,n,i){let{valueSvc:r,gos:o,editSvc:s}=e,a=Ur(e,t),l=t.rowNode?.rowIndex??void 0,c=s?.isBatchEditing(),d=e.colModel.getCol(t.column.getId()),{rowNode:h,column:f}=t,g=s?.getCellDataValue(t)??Hne(!1,a?.comp)?.newValue,m=g===rl?r.getValueForDisplay(d,h)?.value:g;return Rt(o,{value:m,eventKey:n??null,column:f,colDef:f.getColDef(),rowIndex:l,node:h,data:h.data,cellStartedEdit:i??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:v=>{s.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:v}),hI(e,t)},eGridCell:a?.eGui,parseValue:v=>r.parseValue(d,h,v,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{s?.validateEdit()}})}function q8(e,t){let{editModelSvc:n}=e;n?.getEditMap().forEach((i,r)=>{i.forEach((o,s)=>{!t&&(o.state==="editing"||o.newValue===rl)||!Xf(o)&&(o.state!=="editing"||t)&&n?.removeEdits({rowNode:r,column:s})})})}function zLe(e,t){let n=t.comp?.getCellEditor();if(!n?.refresh)return;let{eventKey:i,cellStartedEdit:r}=t.editCompDetails.params,{column:o}=t,s=Gne(e,t,i,r),a=o.getColDef(),l=Ine(e.userCompFactory,a,s);n.refresh(zne(l.params,i))}function zne(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Kf(e){e.editModelSvc?.getEditPositions().forEach(t=>{let n=Ur(e,t);if(!n)return;let{newValue:i,newValueExists:r}=Hne(!1,n.comp);r&&K8(e,t,i)})}function K8(e,t,n,i){let{editModelSvc:r,valueSvc:o,eventSvc:s}=e;if(!r)return;let{rowNode:a,column:l}=t;if(!(a&&l))return;let c=o.getValue(l,a,void 0,"api"),h=!!Ur(e,t)?.comp?.getCellEditor(),f=r?.getEdit(t)?.newValue;n===void 0&&(n=rl),r.setEdit(t,{newValue:n,oldValue:c,state:h?"editing":"changed"});let{value:g}=o.getValueForDisplay(l,a,!0);if(r.getEdit(t).newValue=g,f===n||h)return;let{rowIndex:m,rowPinned:v,data:C}=a;s.dispatchEvent({type:"cellEditValuesChanged",value:n,colDef:l.getColDef(),newValue:n,oldValue:c,source:i,column:l,rowIndex:m,rowPinned:v,data:C,node:a})}function mC(e,t){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(n=>hI(e,n))}function hI(e,t){let{rowNode:n,column:i}=t,r=Ur(e,t);if(!r){e.editModelSvc?.hasEdits(t)&&n&&i&&e.editModelSvc?.setState(t,"changed");return}let{comp:o}=r;if(o&&!o.getCellEditor())return;let s=o?.getCellEditor()?.getValidationErrors?.(),a=e.editModelSvc?.getCellValidationModel();s?.length?a?.setCellValidation(t,{errorMessages:s}):a?.clearCellValidation(t),o?.setEditDetails(),e.editModelSvc?.hasEdits(t)&&n&&i&&e.editModelSvc?.setState(t,"changed"),o?.refreshEditStyles(!1,!1),r?.refreshCell({force:!0,suppressFlash:!0});let l=e.editModelSvc?.getEdit(t);e.editSvc?.dispatchCellEvent(t,null,"cellEditingStopped",{valueChanged:l&&Xf(l)})}function ep(e){let t=Vne(e),n=new One,{ariaAnnounce:i,localeSvc:r,editModelSvc:o,gos:s}=e,a=s.get("editType")==="fullRow",c=fB(r)("ariaValidationErrorPrefix","Cell Editor Validation");for(let h of t){let{ctrl:f,editor:g}=h,{rowNode:m,column:v}=f,C=g.getValidationErrors?.()??[],y=g.getValidationElement?.();if(y){let x=C!=null&&C.length>0,_=x?C.join(". "):"";C3e(y,x),x&&i.announceValue(`${c} ${C}`,"editorValidation"),y instanceof HTMLInputElement?y.setCustomValidity(_):y.classList.toggle("invalid",x)}C?.length>0&&n.setCellValidation({rowNode:m,column:v},{errorMessages:C})}Kf(e),o?.setCellValidationModel(n);let d=new Set;for(let{ctrl:h}of t)d.add(h.rowCtrl);if(a){let h=ULe(e);o?.setRowValidationModel(h)}for(let h of d.values()){h.rowEditStyleFeature?.applyRowStyles();for(let f of h.getAllCellCtrls())f.tooltipFeature?.refreshTooltip(!0),f.editorTooltipFeature?.refreshTooltip(!0),f.editStyleFeature?.applyCellStyles?.()}}var ULe=e=>{let t=new Lne,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(let r of i.keys()){let o=i.get(r);if(!o)continue;let s=[],{rowIndex:a,rowPinned:l}=r;for(let d of o.keys()){let h=o.get(d);h&&s.push(De(V({column:d,colId:d.getColId(),rowIndex:a,rowPinned:l},h),{newValue:h.newValue===rl?void 0:h.newValue}))}let c=n?.({editorsState:s})??[];c.length>0&&t.setRowValidation({rowNode:r},{errorMessages:c})}return t};function WLe(e){ep(e);let t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;let n=[];return t.forEach((i,r)=>{i.forEach(({errorMessages:o},s)=>{n.push({column:s,rowIndex:r.rowIndex,rowPinned:r.rowPinned,messages:o??null})})}),n}var jLe="ag-column-first",$Le="ag-column-last";function Une(e,t,n,i){return Hi(e)?[]:KLe(e.headerClass,e,t,n,i)}function Wne(e,t,n){e.toggleCss(jLe,n.isColAtEdge(t,"first")),e.toggleCss($Le,n.isColAtEdge(t,"last"))}function qLe(e,t,n,i){return Rt(t,{colDef:e,column:n,columnGroup:i})}function KLe(e,t,n,i,r){if(Hi(e))return[];let o;if(typeof e=="function"){let s=qLe(t,n,i,r);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}function rx(e){return!!(e.rowPinned&&e.pinnedSibling)}function jl(e,t,n,i){let r=t==="top";if(!n)return jl(e,t,r?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){let l=r?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return jl(e,t,n,r?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let o=!1,s=!1,a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!o){o=!0,a.push(l);return}if(o&&l===i){s=!0,a.push(l);return}o&&!s&&a.push(l)}),a}var me={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},X8=!1,fI=0;function XLe(e){fI>0||(e.addEventListener("keydown",pI),e.addEventListener("mousedown",pI))}function YLe(e){fI>0||(e.removeEventListener("keydown",pI),e.removeEventListener("mousedown",pI))}function pI(e){let t=X8,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(X8=n)}function ZLe(e){let t=Ao(e);return XLe(t),fI++,()=>{fI--,YLe(t)}}function QLe(){return X8}function JLe(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===me.TAB){let r=i.shiftKey;sm(e,n,!1,r)||SC(e,r)&&i.preventDefault()}}})}function vC(e,t,n=!1){let i=k3e,r=Ote;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');let o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>kc(l)),s=Array.prototype.slice.apply(e.querySelectorAll(r));return s.length?((l,c)=>l.filter(d=>c.indexOf(d)===-1))(o,s):o}function em(e,t=!1,n=!1,i=!1){let r=vC(e,i?".ag-tab-guard":null,n),o=t?ai(r):r[0];return o?(o.focus({preventScroll:!0}),!0):!1}function sm(e,t,n,i){let r=vC(t,n?':not([tabindex="-1"])':null),o=tr(e),s;n?s=r.findIndex(l=>l.contains(o)):s=r.indexOf(o);let a=s+(i?-1:1);return a<0||a>=r.length?null:r[a]}function jne(e,t=5){let n=0;for(;e&&B8(e)===null&&++n<=t;)e=e.parentElement;return B8(e)===null?null:e}function eNe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Xg(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function xI(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function SC(e,t,n=!1){let i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function tNe(e,t,n,{rowNode:i,column:r},o){return Rt(e.gos,{type:n,node:i,data:i.data,value:o,column:r,colDef:r.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function nNe(e,t=!1){return e===me.DELETE?!0:!t&&e===me.BACKSPACE?Ate():!1}var iNe=class extends _e{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case me.ENTER:this.onEnterKeyDown(e);break;case me.F2:this.onF2KeyDown(e);break;case me.ESCAPE:this.onEscapeKeyDown(e);break;case me.TAB:this.onTabKeyDown(e);break;case me.BACKSPACE:case me.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case me.DOWN:case me.UP:case me.RIGHT:case me.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){let{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let r=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:n}=this.beans;if(!t)return;let i=t.extendLatestRangeInDirection(e);i&&n?.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:n,beans:i,rowNode:r}=this,{gos:o,rangeSvc:s,eventSvc:a,editSvc:l}=i;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),nNe(e,o.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(s&&dh(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){let{column:c}=n,d=this.beans.valueSvc.getDeleteValue(c,r);r.setDataValue(c,d,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){let{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:r}=n,o=i?.isEditing(t),s=t.rowNode,a=i?.isRowEditing(s),l=c=>{i?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(o||a){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(ep(n),i?.checkNavWithValidation(t,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?i?.stopEditing({rowNode:s},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){let c=e.shiftKey?me.UP:me.DOWN;r?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===me.ENTER}onF2KeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){let{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){let n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:r}=this;if(n||i?.isEditing(r,{withOpenEditor:!0}))return;if(e.key===me.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(r,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(r))return;i?.startEditing(r,{startedEdit:!0,event:e,source:"api"}),!r.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){let{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&$g(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}};function $ne(e,t,n){if(n===0)return!1;let i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}function Pee({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var rNe=class extends _e{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!lh(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:r,frameworkOverrides:o}=this.beans,s=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;n&&s&&n.getCellRangeCount(c)>1&&n.intersectLastRange(!0);let d=a.createEvent(e,"cellClicked");t.dispatchEvent(d);let h=l.getColDef();if(h.onCellClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{h.onCellClicked(d)})},0),r?.getState(a)!=="editing"){let f=i?.isEditing(),g=r?.getCellValidationModel().getCellValidationMap().size??0,m=r?.getRowValidationModel().getRowValidationMap().size??0;if(f&&(g>0||m>0))return;i?.shouldStartEditing(a,e)?i?.startEditing(a,{event:e}):i?.shouldStopEditing(a,e)&&i?.stopEditing(a)}}onCellDoubleClicked(e){let{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:o,editSvc:s,editModelSvc:a}=n,l=t.getColDef(),c=i.createEvent(e,"cellDoubleClicked");if(r.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),s?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){let d=s?.isEditing(),h=a?.getCellValidationModel().getCellValidationMap().size??0,f=a?.getRowValidationModel().getRowValidationMap().size??0;if(d&&(h>0||f>0))return;s?.startEditing(i,{event:e})}}onMouseDown(e){let{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:o,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:d,gos:h,editSvc:f}=s;if(this.isRightClickInExistingRange(e))return;let g=l&&!l.isEmpty(),m=this.containsWidget(r),{cellPosition:v,column:C}=o,y=Kg(C);if(c&&y&&!c.handleMouseDownOnCell(v,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!g){let x=f?.isEditing(o),R=h.get("enableCellTextSelection")&&e.defaultPrevented,I=(nm()||R)&&!x&&!mB(r)&&!m;o.focusCell(I,e)}if(i&&g&&!d.isCellFocused(v)){e.preventDefault();let x=d.getFocusedCell();if(x){let{column:_,rowIndex:R,rowPinned:I}=x;f?.isEditing(x)&&f?.stopEditing(x),d.setFocusedCell({column:_,rowIndex:R,rowPinned:I,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!m){if(l){y&&e.preventDefault();let x=Pee(this.beans,e)&&y;if(i)l.extendLatestRangeToCell(v);else if(!x){let _=t||n;l.setRangeToCell(v,_)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=Pee(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return jg(e,"ag-selection-checkbox",3)||jg(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},oNe=class extends _e{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){let t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();rm(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e,o=e.getPinned();for(let s=0;r&&s<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||Hi(r)||o!==r.getPinned()));s++);}return i}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=ai(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let n=qg(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},sNe="ag-cell",aNe="ag-cell-auto-height",lNe="ag-cell-normal-height",cNe="ag-cell-focus",dNe="ag-cell-first-right-pinned",uNe="ag-cell-last-left-pinned",hNe="ag-cell-not-inline-editing",fNe="ag-cell-wrap-text",gI="cellCtrl";function qne(e,t){return dne(e,t,gI)}var pNe=0,CC=class extends _e{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;let{colId:r}=e;this.instanceId=r+"-"+pNe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new oNe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new rNe(this,e,this.column),this.keyboardListener=new iNe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();let{rangeSvc:t}=e;t&&dh(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Kg(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),ep(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGui=t,this.printLayout=r,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),o&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){let{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:r}=e,o=t.getColDef(),s=this.createCellRendererParams();s.deferRender=!0;let a=Fee(n,o,s);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l,c=new pr(d=>{l=d});return this.addManagedListeners(r,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:pr.resolve()}}showValue(e,t){let{beans:n,column:i,rowNode:r,rangeFeature:o}=this,{userCompFactory:s}=n,a=this.getValueToDisplay(),l,c=r.stub&&r.groupData?.[i.getId()]==null,d=i.getColDef();if(c||this.isCellRenderer()){let h=this.createCellRendererParams();!c||Kg(i)?l=Mee(s,d,h):l=Fee(s,d,h)}if(!l&&!c&&n.findSvc?.isMatch(r,i)){let h=this.createCellRendererParams();l=Mee(s,De(V({},i.getColDef()),{cellRenderer:"agFindCellRenderer"}),h)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(r,{checkSiblings:!0})){let h=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});h&&(h.compDetails?l=h.compDetails:h.valueToDisplay&&(a=h.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&o&&hh(n,()=>o?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&rx(this.rowNode))&&!!e}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=nI(t),r=om(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&fC(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){let{editSvc:e}=this.beans;e?.isEditing(this)&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){let{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:o,beans:{valueSvc:s,gos:a,editSvc:l}}=this;return Rt(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(n,i).value,setValue:d=>l?.setDataValue({rowNode:i,column:n},d)||s.setValue(i,n,d),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:r.getParentOfValue(),registerRowDragger:(d,h,f,g)=>this.registerRowDragger(d,h,g),setTooltip:(d,h)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,h),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;let i=this.column.getColDef(),r=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=e||r||n,s=!!this.comp,a=this.updateAndFormatValue(s),l=o||a;if(s){if(l){this.showValue(!!n,!1);let c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&i.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,n=this.valueFormatted,{value:i,valueFormatted:r}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=i,this.valueFormatted=r,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){let n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){let t=this.eGui;Qg(this.beans.gos,t,gI,this),e.addDestroyFunc(()=>Qg(this.beans.gos,t,gI,null))}createEvent(e,t){let{rowNode:n,column:i,value:r,beans:o}=this;return tNe(o,e,t,{rowNode:n,column:i},r)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:n}=this;Wne(e,t,n.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);Mte(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){this.beans.focusSvc.setFocusedCell(De(V({},this.getFocusedCellPosition()),{forceBrowserFocus:e,sourceEvent:t}))}restoreFocus(e=!1){let{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;let r=()=>{if(!this.isAlive())return;let o=i.getFocusableElement();this.isCellFocused()&&o.focus({preventScroll:!0})};if(e){setTimeout(r,0);return}r()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(Kg(this.column)&&(e=!0),nl(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.toggleCss(dNe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.toggleCss(uNe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(xI(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(cNe,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(i){let o=vC(r,null,!0);o.length&&(r=o[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:ah(t),column:this.column}}applyStaticCssClasses(){let{comp:e}=this;e.toggleCss(sNe,!0),e.toggleCss(hNe,!0);let t=this.column.isAutoHeight()==!0;e.toggleCss(aNe,t),e.toggleCss(lNe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(fNe,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(tr(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){let i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},Kne="__ag_grid_instance";function Xne(e,t){t[Kne]=e.gridInstanceId}function Q_(e,t){return Yne(e,t.target)}function Yne(e,t){let n=t;for(;n;){let i=n[Kne];if(nt(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function gNe(e,t){return qne(e,t.target)?.getFocusedCellPosition()??null}function Oee(e,t){let n=Jo(e.gos,"normal"),i=t,r,o;i.clientX!=null||i.clientY!=null?(r=i.clientX,o=i.clientY):(r=i.x,o=i.y);let{pageFirstPixel:s}=e.pageBounds.getCurrentPagePixelRange();if(o+=s,n){let a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();r+=c.left,o+=l.top}return{x:r,y:o}}var mNe=class extends _e{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){let n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),Xl(t,i))}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let r=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),o=this.findCurrentDropTarget(e,r),{lastDropTarget:s,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(o!==s){if(this.leaveLastTargetIfExists(e,n,i,t),s!==null&&o===null&&a?.onGridExit?.(c),s===null&&o!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(o,e,n,i,t),o&&l){let{comp:d,promise:h}=l;d?d.setIcon(o.getIconName?o.getIconName():null,!1):h.then(f=>{f&&f.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){let d=this.createDropTargetEvent(o,e,n,i,t);o.onDragging(d)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){let n=this.getAllContainersFromDropTarget(t),i=!1,r=(a,l)=>{for(let c of l){let{width:d,height:h,left:f,right:g,top:m,bottom:v}=c.getBoundingClientRect();if(d===0||h===0)return!1;let C=a.clientX>=f&&a.clientX<g,y=a.clientY>=m&&a.clientY<v;if(!C||!y)return!1}return!0};for(let a of n)if(r(e,a)){i=!0;break}let{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:i&&t.isInterestedIn(s,o)}findCurrentDropTarget(e,t){let n=t.length;if(n===0)return null;if(n===1)return t[0];let r=$_(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let o of r)for(let s of t)if(this.getAllContainersFromDropTarget(s).flatMap(l=>l).indexOf(o)!==-1)return s;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){let o=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,n,i){let{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){let s=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(s)}let o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){let t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){let o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,d=t.clientX-s.left,h=t.clientY-s.top;return Rt(c,{event:t,x:d,y:h,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&Q3e(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;let i=oLe(n,Rt(t,{dragSource:e}));if(!i)return;let r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){let{dragSource:t,environment:n}=this;if(!t)return;let i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),Xne(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";let o=xB(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(i):je(54)}registerGridDropTarget(e,t){let n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},vNe=class extends _e{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){let i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){let{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),Xl(t,n))}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let o=null,s=this.gos.get("suppressTouch");i&&!s&&(o=a=>{mB(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let n=t.touches[0];this.touchLastTime=n,this.touchStart=n;let i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:$_(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:s,type:"touchmove",listener:i,options:{passive:!0}},{target:s,type:"touchend",listener:r,options:{passive:!0}},{target:s,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){let n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let i=c=>this.onMouseMove(c,e.eElement),r=c=>this.onMouseUp(c,e.eElement),o=c=>c.preventDefault(),s=c=>{c.key===me.ESCAPE&&this.cancelDrag(e.eElement)},a=$_(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:n,type:i,listener:r,options:o}=t;n.addEventListener(i,r,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:n,type:i,listener:r,options:o}=t;n.removeEventListener(i,r,o)})})}isEventNearStartEvent(e,t){let{dragStartPixels:n}=this.currentDragParams,i=nt(n)?n:4;return $ne(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){let n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){nm()&&Ao(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=o=>!!o.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&Q_(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function Zne(e,t){return e+"_"+t}function gr(e){return e instanceof Qne}var Qne=class extends _e{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return Zne(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{gr(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=ai(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{uh(t)?e.push(t):gr(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{uh(t)?e.push(t):gr(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(gr(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Y8="row-group-",RB="t-",TB="b-",CNe=0,tm=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=CNe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:n,eventSvc:i}=this.beans,r=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();let o=this.createDataChangedEvent(e,r,t);if(this.__localEventService?.dispatchEvent(o),this.sibling){this.sibling.data=e;let a=this.sibling.createDataChangedEvent(e,r,t);this.sibling.__localEventService?.dispatchEvent(a)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});let s=this.pinnedSibling;s&&(s.data=e,s.__localEventService?.dispatchEvent(s.createDataChangedEvent(e,r,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:s}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(li(13),null):this.rowPinned==="top"?RB+this.rowIndex:this.rowPinned==="bottom"?TB+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));let o=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(o)}setId(e){let t=_C(this.beans.gos);if(t)if(this.data){let n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Y8)&&li(14,{groupPrefix:Y8})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){let{colModel:i,valueSvc:r,gos:o,editSvc:s}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;let l=r.getValueForDisplay(a,this).value;if(o.get("readOnlyEdit")){let{beans:{eventSvc:h},data:f,rowIndex:g,rowPinned:m}=this;return h.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:g,rowPinned:m,column:a,colDef:a.colDef,data:f,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(s){let h=s.setDataValue({rowNode:this,column:a},t,n);if(h!=null)return h}let c=r.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);let d=this.pinnedSibling;return d&&c&&d.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){let i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Zg),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Zg),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(je(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function wNe(e,t,n){return Rt(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var yNe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function bNe(e,t){let n=new tm(t);return Object.keys(e).forEach(i=>{yNe.has(i)||(n[i]=e[i])}),n.oldRowTop=null,n}var Jne={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},_Ne=new Set(Object.values(Jne));function Uf(e,t){let n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;let i=n.create(n.refreshed),r=n;return r.created=!0,r.promise=i,i}function xNe(e,t,n,i,r,o){return t.refresh?.(De(V({},n),{model:i,source:o})),e().then(s=>{if(s){let{filter:a,filterParams:l}=s;eie(a,l,i,r,o)}})}function eie(e,t,n,i,r){e?.refresh?.(De(V({},t),{model:n,state:i,source:r}))}function tie(e,t,n){let i=e();i?.created&&i.promise.then(r=>{let o=t();eie(r,i.filterParams,o,n()??{model:o},"ui")})}function Lee(e,t,n,i,r,o){let s,a=!1,l;switch(e){case"apply":{let c=i();l=c?.model??null,s={state:c?.state,model:l},a=!0;break}case"clear":{s={model:null};break}case"reset":{s={model:null},a=!0,l=null;break}case"cancel":{s={model:n()};break}}r(s),a?o(l):tie(t,n,i)}function Fo(e,t){return e[t]??null}var SNe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function qf(e,t,n){return l3e(e,SNe,t,n)}function ENe(e){return{tag:"div",cls:e}}var DNe=class extends Gn{constructor(e){let{className:t="ag-filter-apply-panel"}=e??{};super(ENe(t)),this.listeners=[],this.className=t}updateButtons(e,t){let n=this.buttons;if(this.buttons=e,n===e)return;let i=this.getGui();Is(i);let r;this.destroyListeners();let o=document.createDocumentFragment(),s=this.className,a=l=>{let c=`${l}Filter`,d=l?qf(this,c):void 0,h=y=>{this.dispatchLocalEvent({type:l,event:y})};["apply","clear","reset","cancel"].includes(l)||je(75);let f=l==="apply",m=ki({tag:"button",attrs:{type:f&&t?"submit":"button"},ref:`${l}FilterButton`,cls:`ag-button ag-standard-button ${s}-button${f?" "+s+"-apply-button":""}`,children:d});this.activateTabIndex([m]),f&&(r=m);let v=y=>{y.key===me.ENTER&&(y.preventDefault(),h(y))},C=this.listeners;m.addEventListener("click",h),C.push(()=>m.removeEventListener("click",h)),m.addEventListener("keydown",v),C.push(()=>m.removeEventListener("keydown",v)),o.append(m)};e.forEach(l=>a(l)),this.eApply=r,i.append(o)}updateValidity(e){let t=this.eApply;t&&W_(t,e===!1)}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}};function IB(e,t){let{debounceMs:n}=e;return SI(e)?(n!=null&&je(71),0):n??t}function SI(e){return(e.buttons?.indexOf("apply")??-1)>=0}var RNe=class extends Gn{constructor(e,t,n,i,r,o){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=r,this.enableGlobalButtonCheck=o,this.hidePopup=null,this.applyActive=!1}postConstruct(){let{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,r=i?"form":"div";this.setTemplate({tag:r,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:o=>{o?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,V({filterParamsChanged:({column:o,params:s})=>{o===this.column&&this.resetButtonsPanel(s,this.params)},filterStateChanged:({column:o,state:s})=>{o===this.column&&this.eButtons?.updateValidity(s.valid)},filterAction:({column:o,action:s,event:a})=>{o===this.column&&this.afterAction(s,a)}},this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:o})=>{if(o!==this.isGlobalButtons){this.isGlobalButtons=o;let s=this.params;this.resetButtonsPanel(s,s,!0)}}}:void 0))}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){let{buttons:i,readOnly:r}=t??{},{buttons:o,readOnly:s,useForm:a}=e;if(!n&&r===s&&z_(i,o))return;let l=o&&o.length>0&&!e.readOnly&&!this.isGlobalButtons,c=this.eButtons;if(l){if(this.applyActive=SI(this.params),!c){c=this.createBean(new DNe),this.appendChild(c.getGui());let d=this.column,h=f=>({event:g})=>{this.updateModel(d,f),this.afterAction(f,g)};c?.addManagedListeners(c,{apply:h("apply"),clear:h("clear"),reset:h("reset"),cancel:h("cancel")}),this.eButtons=c}c.updateButtons(o,a)}else this.applyActive=!1,c&&(Zs(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){let t=this.hidePopup;if(!t)return;let n=e,i=n&&n.key,r;(i===me.ENTER||i===me.SPACE)&&(r={keyboardEvent:n}),t(r),this.hidePopup=null}afterAction(e,t){let{params:n,applyActive:i}=this,r=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),r&&i&&this.close(t);break}case"reset":{r&&i&&this.close();break}case"cancel":{r&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===me.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},TNe={tag:"div",cls:"ag-filter"},INe=class extends Gn{constructor(e,t,n){super(TNe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??pr.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:n,beans:{colFilter:i}}=this,r=i.getFilterUiForDisplay(t)??null;this.wrapper=r,r?.then(o=>{if(!o)return;let{isHandler:s,comp:a}=o,l;if(s){let c=!!this.enableGlobalButtonCheck,d=this.createBean(new RNe(t,o,i,i.updateModel.bind(i),c&&i.isGlobalButtons,c));this.comp=d,l=d.getGui()}else l=a.getGui(),nt(l)||je(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){let{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Is(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},MB="T",MNe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${MB}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Vd(e,t){return e.toString().padStart(t,"0")}function il(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Vd(r,2)).join(n);return t&&(i+=MB+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Vd(r,2)).join(":")),i}function A2(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Vd(e.getDate(),2),Vd(e.getHours(),2),`:${Vd(e.getMinutes(),2)}`,`:${Vd(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Vd(e.getDate(),2)].map(String):null}var u8=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Z8(e,t){if(t==null)return il(e,!1);let n=Vd(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>Vd(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${u8(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${u8(e.getDate())}`,DD:()=>Vd(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${u8(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,a=>a in o?o[a]():a)}function K2(e,t=!1){return!!ka(e,t)}function FNe(e){return!!e&&K2(e,!0)&&!!e.match(MNe)?.[1]}function ka(e,t=!1){if(!e)return null;let[n,i]=e.split(MB);if(!n)return null;let r=n.split("-").map(f=>parseInt(f,10));if(r.filter(f=>!isNaN(f)).length!==3)return null;let[o,s,a]=r,l=new Date(o,s-1,a);if(l.getFullYear()!==o||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!i||i==="00:00:00")return l;let[c,d,h]=i.split(":").map(f=>parseInt(f,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(d>=0&&d<60)l.setMinutes(d);else if(t)return null;if(h>=0&&h<60)l.setSeconds(h);else if(t)return null;return l}var Nee={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Bee=["january","february","march","april","may","june","july","august","september","october","november","december"];function ANe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function Vee(e){return e instanceof Date&&!isNaN(e.getTime())}var Q8={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:Vee}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{let i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&Vee(e.dateParser(t))}),dateTime:e=>Q8.date(e),dateTimeString:e=>Q8.dateString(e),object:()=>{},text:()=>{}},J8={number:()=>({comparator:ANe}),boolean:({t:e})=>({valueFormatter:t=>nt(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{let i=e(n);return nt(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){let r=Bee[Number(n)-1];return t(r,Nee[r])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>A2(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{let r=e(i);return nt(r)?r:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>A2(t.dateParser(i??void 0),!1),treeListFormatter:(i,r)=>{if(r===1&&i!=null){let o=Bee[Number(i)-1];return n(o,Nee[o])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{let t=J8.date(e);return t.treeListPathGetter=A2,t},dateTimeString(e){let t=e.dataTypeDefinition.dateParser,n=J8.dateString(e);return n.treeListPathGetter=i=>A2(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{let i=e(n);return nt(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function kNe(e,t,n,i,r,o,s){let a=t,l=n,c=e==="agSetColumnFilter";!l&&i.baseDataType==="object"&&!c&&(l=({column:g,node:m})=>r({column:g,node:m,value:o.valueSvc.getValue(g,m)}));let h=(c?J8:Q8)[i.baseDataType],f=h({dataTypeDefinition:i,formatValue:r,t:s});return a=typeof t=="object"?V(V({},f),t):f,{filterParams:a,filterValueGetter:l}}var PNe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},ONe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function LNe(e,t=!1){return(t?ONe:PNe)[e??"text"]}var nie="ag-resizer-wrapper",Wf=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),NNe={tag:"div",cls:nie,children:[Wf("eTopLeft","topLeft"),Wf("eTop","top"),Wf("eTopRight","topRight"),Wf("eRight","right"),Wf("eBottomRight","bottomRight"),Wf("eBottom","bottom"),Wf("eBottomLeft","bottomLeft"),Wf("eLeft","left")]},BNe=class extends _e{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,d=kc(this.element);if(d){let h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(f.minWidth!=null){let g=h.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-g}if(f.minHeight!=null){let g=h.offsetHeight-this.element.offsetHeight;l=parseInt(f.minHeight,10)-g}}if(this.minHeight=r||l,this.minWidth=n||c,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(d&&t){let h=this.boundaryEl,f=!0;if(h||(h=this.findBoundaryElement(),f=!1),h){let g=parseFloat(h.style.top),m=parseFloat(h.style.left);f?this.offsetElement(isNaN(m)?0:m,isNaN(g)?0:g):this.setPosition(m,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let i=!!e[t],r=this.getResizerElement(t),o={dragStartPixels:0,eElement:r,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(o),this.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,n=this.element,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)N_(n,e),e=Lte(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?N_(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,s=e?0:r.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-i.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:n}=this.config,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Gd(t,e),e=Z2(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Gd(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=tp(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,s)?0:s,c=this.shouldSkipY(t,!!i,o,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,i){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=i<0&&e.clientX>a+o.left||i>0&&e.clientX<a+o.left:n?l=i<0&&e.clientX>s.right||i>0&&e.clientX<a+o.left:l=i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)}shouldSkipY(e,t,n=0,i){let r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=i<0&&e.clientY>a+o.top+n||i>0&&e.clientY<a+o.top:l=i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)}createResizeMap(){let e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(ki(NNe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${nie}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,n=0;for(let i=0;i<e.length;i++){let r=e[i],o=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){let l=window.getComputedStyle(r);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null,n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){let r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:o,isLeft:s}=this.currentResizer,a=r||s,l=o||i,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:s,isTop:i}),h=this.position.x,f=this.position.y,g=0,m=0;if(a&&c){let v=s?-1:1,C=this.getWidth(),y=C+c*v,x=!1;s&&(g=C-y,(h+g<=0||y<=this.minWidth)&&(x=!0,g=0)),x||this.setWidth(y)}if(l&&d){let v=i?-1:1,C=this.getHeight(),y=C+d*v,x=!1;i?(m=C-y,(f+m<=0||y<=this.minHeight)&&(x=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(x=!0),x||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&g||m)&&this.offsetElement(h+g,f+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:n}=this.position,i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());let{movementX:r,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},VNe="ag-focus-managed",TC=class extends _e{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks=V({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;let i=sm(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())}},t)}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(VNe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||lh(t))return;let{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Jg(t);return}t.key===me.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},HNe=class extends Gn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){let e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new TC(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new BNe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){let t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){let t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);let r=t.state,o=this.state;return this.state=r,(r.model!==o.model||r.state!==o.state)&&this.setModelIntoUi(r.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=SI(e),this.setupApplyDebounced()}doesFilterPass(e){je(283);let{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass(De(V({},e),{model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)}))}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return je(284),this.params.model!=null}setupApplyDebounced(){let e=IB(this.params,this.defaultDebounceMs),t=Qo(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return je(285),this.params.model}setModel(e){je(286);let{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){let{params:t,state:n}=this,i=!this.areModelsEqual(t.model,n.model);return i&&t.onAction("apply",e),i}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();let n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;let r=this.params;r.onStateChange(i),r.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:r.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:n}=this;if(!t)return;let i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return qf(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function GNe(e){return!!e.operator}function zNe(e,t,n){if(t==null)return null;let i=null,{compName:r,jsComp:o,fwComp:s}=Mne(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:o==null&&s==null&&t.filter===!0&&(i=n()),i}var Fc={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},FB=class extends _e{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Fc.AUTO_HEIGHT:t.print?Fc.PRINT:Fc.NORMAL;this.view.updateLayoutClasses(n,t)}},jf="Viewport",Hee="fakeVScrollComp",Gee=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],zee=100,h8=150,UNe=class extends _e{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Qo(this,()=>this.lastScrollSource[1]=null,h8),this.resetLastVScrollDebounced=Qo(this,()=>this.lastScrollSource[0]=null,h8)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,jf)});for(let e of Gee){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Qo(this,this.onVScroll.bind(this,jf),zee):this.onVScroll.bind(this,jf),i=t?Qo(this,this.onVScroll.bind(this,Hee),zee):this.onVScroll.bind(this,Hee);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...Gee,jf]){if(this.lastScrollSource[1]===t)continue;let n=this.getViewportForSource(t);J2(n,e,this.enableRtl)}}getViewportForSource(e){return e===jf?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;let i=Q2(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===jf?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===jf?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent(De(V({},t),{type:"bodyScrollEnd"}))},h8)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Wg()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=vB(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(jf)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),J2(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:n}=this.beans,i=n.getRowCount(),r=-1;for(let o=0;o<i;o++){let s=n.getRow(o);if(typeof e=="function"){if(s&&e(s)){r=o;break}}else if(e===s||e===s.data){r=o;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t,n=0){if(Jo(this.gos,"print"))return;let{rowModel:i}=this.beans,r=i.getRowCount();if(typeof e!="number"||e<0||e>=r){je(88,{index:e});return}this.clearRetryListeners();let{frameworkOverrides:o,pageBounds:s,rowContainerHeight:a,rowRenderer:l}=this.beans;o.wrapIncoming(()=>{let c=this.ctrlsSvc.getGridBodyCtrl(),d=i.getRow(e),h,f,g=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:m,stickyBottomHeight:v}=c,C=d.rowTop,y=d.rowHeight,x=s.getPixelOffset(),_=d.rowTop-x,R=_+d.rowHeight,I=this.getVScrollPosition(),F=a.divStretchOffset,T=I.top+F,P=I.bottom+F,L=P-T,U=a.getScrollPositionForPixel(_),W=a.getScrollPositionForPixel(R-L),X=Math.min((U+W)/2,_),oe=T+m>_,Ie=P-v<R,ae=null;t==="top"?ae=U-m:t==="bottom"?ae=W+v:t==="middle"?ae=X:oe?ae=U-m:Ie&&(W-U>L?ae=U-m:ae=W+v),ae!==null&&(this.setVerticalScrollPosition(ae),l.redraw({afterScroll:!0})),h=C!==d.rowTop||y!==d.rowHeight,f=m!==c.stickyTopHeight||v!==c.stickyBottomHeight,g++}while((h||f)&&g<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(d?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){let m=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{let v=this.getVScrollPosition().top;m!==v&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){let{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;let o=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,a=(s?n:i)||r,l=s?i:n;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:d,colMiddle:h,colRight:f}=this.getColumnBounds(e);return c?h-o/2:a?s?f:d:s?d-o:f-o}return null}isColumnOutsideViewport(e){let{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>r:n<r,a=o?n<i:t>i;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,s=t?n-r:r,a=s+i*o,l=s+i/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},AB=class extends _e{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=Jo(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth(),s;e?s=i+r+o:(s=i,this.addSpacer&&(this.gos.get("enableRtl")?r:o)===0&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())),this.callback(s)}},WNe=class extends _e{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{hh(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=vB(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function kB(e,t,n,i,r,o){if(n==null&&t==null)return;let s={},a={},l=(c,d)=>{c.split(" ").forEach(h=>{h.trim()!=""&&d(h)})};if(n){let c=Object.keys(n);for(let d=0;d<c.length;d++){let h=c[d],f=n[h],g;typeof f=="string"?g=e?e.evaluate(f,i):!0:typeof f=="function"&&(g=f(i)),l(h,m=>{g?s[m]=!0:a[m]=!0})}}t&&o&&Object.keys(t).forEach(c=>l(c,d=>{s[d]||(a[d]=!0)})),o&&Object.keys(a).forEach(o),Object.keys(s).forEach(r)}function Uee(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var jNe=class extends _e{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){let n=this.gos,i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);let o=n.getCallback("getRowClass");if(o){let s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){let{gos:i,expressionSvc:r}=this.beans,o=Rt(i,{data:e.data,node:e,rowIndex:e.rowIndex});kB(r,void 0,i.get("rowClassRules"),o,t,n)}processStylesFromGridOptions(e){let t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle"),r;if(i){let o={data:e.data,node:e,rowIndex:e.rowIndex};r=i(o)}if(r||n)return Object.assign({},n,r)}},$Ne=0,mI="renderedRow",vI=class extends _e{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+$Ne++,this.rowId=j2(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Uee(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=j2(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){let{context:r,focusSvc:o}=this.beans;i=ix(this,r,i);let s={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s);let a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let d=this.fullWidthGui?.element;d&&!this.beans.editSvc?.isEditing(this)&&o.isRowFocused(a.rowIndex,a.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>d.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),$g(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.toggleCss(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&P8(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Qg(t,e.element,mI,this),e.compBean.addDestroyFunc(()=>Qg(t,e.element,mI,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=j2(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(V8(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(V8(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),o=!!t,s=!!n||!i.isPinningRight();return r&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),r=nne(this.gos,this.rowNode,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new CC(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){let i={list:[],map:{}},r=(c,d,h)=>{h!=null?i.list.splice(h,0,d):i.list.push(d),i.map[c]=d},o=[];for(let c of t){let d=c.getInstanceId(),h=e.map[d];h&&!this.isCorrectCtrlForSpan(h)&&(h.destroy(),h=void 0),h||(h=this.getNewCellCtrl(c)),h&&r(d,h)}for(let c of e.list){let d=c.column.getInstanceId();if(i.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?o.push([d,c]):c.destroy()}if(o.length)for(let[c,d]of o){let h=i.list.findIndex(g=>g.column.getLeft()>d.column.getLeft()),f=h===-1?void 0:Math.max(h-1,0);r(c,d,f)}let{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==n){let c=l.column.getInstanceId();if(!i.map[c]&&a.allCols.includes(l.column)){let h=this.createFocusedCellCtrl();if(h){let f=i.list.findIndex(m=>m.column.getLeft()>h.column.getLeft()),g=f===-1?void 0:Math.max(f-1,0);r(c,h,g)}}}return i}createFocusedCellCtrl(){let{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;let i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");let r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){let{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;let{visibleCols:o,editSvc:s}=this.beans,a=s?.isEditing(e),l=e.isCellFocused();return a||l?!(o.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Jo(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=nt(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){let{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}else{let{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){let{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:r,context:o,rowSpanSvc:s}=e;this.addManagedListeners(this.rowNode,V({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},i?.getRowExpandedListeners(this)??{})),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(r,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),s&&this.addManagedListeners(s,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(let e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",r=t==="below",s=this.gos.get("treeData")&&(r||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{let c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",i),c.toggleCss("ag-row-highlight-below",r),c.toggleCss("ag-row-highlight-indent",s),s?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:ah(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:n,column:i}=t;if(!(n.element===e.target))return;let s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),d={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:c?.column??i};l?.navigateToNextCell(e,e.key,d,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||lh(e))return;let t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=tr(this.beans),o=!1;n&&r&&(o=n.contains(r)&&r.classList.contains("ag-cell"));let s=null;!i&&!o&&(s=sm(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!s)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>kc(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{nl(n.element,"tabindex",t)})}onFullWidthRowFocused(e){let t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{let o=this.beans.colModel.getCol(e?.column)?.pinned;o?i=o==="right"?this.rightGui?.element:this.leftGui?.element:i=this.centerGui?.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:n}=this;return Rt(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){let n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){lh(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=jg(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();let r=this.findFullWidthInfoForEvent(e);if(!r)return;let{rowGui:o,column:s}=r,a=o.element,l=e.target,c=e.defaultPrevented||nm();a&&a.contains(l)&&mB(l)&&(c=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(lh(e)||this.lastMouseDownOnDragger)return;let{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:n,rowNode:i}=this,r=Rt(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,c)=>this.addFullWidthRowDragging(s,a,l,c),setTooltip:(s,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return fLe(o,r);case"FullWidthGroup":{let{value:s,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return r.value=s,r.valueFormatted=a,hLe(o,r)}case"FullWidthLoading":return uLe(o,r);default:return dLe(o,r)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){let{rowDragSvc:r,context:o}=this.beans;if(!r||!this.isFullWidth())return;let s=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){let e=Uee(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(o.push("ag-row-pinned"),r.pinnedRowModel?.isManual()&&o.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&o.push("ag-row-pinned-source"),i.isSelected()&&o.push("ag-row-selected"),i.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),i.stub&&o.push("ag-row-loading"),n&&o.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(o,i),i.dragging&&o.push("ag-row-dragging");let{rowStyleSvc:s}=r;return s&&(s.processClassesFromGridOptions(o,i),s.preProcessRowClassRules(o,i)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),n&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:o}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(n=>n.element);for(let n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=Xte(this.gos)?Qf(this.beans,this.rowNode).height:void 0,o=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&hC(this.gos)&&!t.sticky)if(t.rowTop!=null){let r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(tr(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;let e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&nt(e)){let t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,n;if(t.sticky)n=t.stickyRowTop;else{let i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i?.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",i),o.rowComp.toggleCss("ag-row-odd",!i),pB(o.element,r)})}};function iie(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function eB(e,t,n,i,r){let o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;let s=Rt(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(o&&o(s))}function qNe(e){let{pinnedRowModel:t,rowModel:n}=e,[i,r]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],o=i?null:"top",s,a;r?(s=null,a=n.getRowCount()-1):(s="bottom",a=t?.getPinnedBottomRowCount()??-1);let{visibleCols:l,rangeSvc:c}=e,d=l.allCols;!c||!d?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s})}var KNe=65,XNe=67,YNe=86,ZNe=68,QNe=90,JNe=89;function e4e(e){let{keyCode:t}=e,n;switch(t){case KNe:n=me.A;break;case XNe:n=me.C;break;case YNe:n=me.V;break;case ZNe:n=me.D;break;case QNe:n=me.Z;break;case JNe:n=me.Y;break;default:n=e.code}return n}var t4e=class extends _e{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",cne("touchstart")?"touchstart":"mousedown"].forEach(n=>{let i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){if(!Q_(this.gos,t)||lh(t))return;let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:qne(t,e),rowCtrl:dne(t,e,mI)}}processKeyboardEvent(e,t){let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){let i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!eB(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),iie(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){let{rowNode:i}=e,{focusSvc:r,navigation:o}=this.beans,a=r.getFocusedCell()?.column;if(!eB(this.gos,n,i,a,!1)){let c=n.key;if(t==="keydown")switch(c){case me.PAGE_HOME:case me.PAGE_END:case me.PAGE_UP:case me.PAGE_DOWN:o?.handlePageScrollingKey(n,!0);break;case me.LEFT:case me.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case me.UP:case me.DOWN:e.onKeyboardNavigate(n);break;case me.TAB:e.onTabKeyDown(n);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Q_(this.gos,e))return;let n=e4e(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===me.A)return this.onCtrlAndA(e);if(n===me.C)return this.onCtrlAndC(i,e);if(n===me.D)return this.onCtrlAndD(i,e);if(n===me.V)return this.onCtrlAndV(i,e);if(n===me.X)return this.onCtrlAndX(i,e);if(n===me.Y)return this.onCtrlAndY(r);if(n===me.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&dh(r)&&t.isRowsToRender()?qNe(this.beans):i&&i?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:rne(r)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},rie=class extends _e{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},k2=e=>e.topRowCtrls,P2=e=>e.getStickyTopRowCtrls(),O2=e=>e.getStickyBottomRowCtrls(),L2=e=>e.bottomRowCtrls,N2=e=>e.allRowCtrls,f8=e=>e.getCtrls("top"),p8=e=>e.getCtrls("center"),g8=e=>e.getCtrls("bottom"),n4e={center:{type:"center",name:"center-cols",getRowCtrls:N2,getSpannedRowCtrls:p8},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:N2,getSpannedRowCtrls:p8},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:N2,getSpannedRowCtrls:p8},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:N2},topCenter:{type:"center",name:"floating-top",getRowCtrls:k2,getSpannedRowCtrls:f8},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:k2,getSpannedRowCtrls:f8},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:k2,getSpannedRowCtrls:f8},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:k2},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:P2},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:P2},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:P2},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:P2},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:O2},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:O2},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:O2},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:O2},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:L2,getSpannedRowCtrls:g8},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:L2,getSpannedRowCtrls:g8},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:L2,getSpannedRowCtrls:g8},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:L2}};function oie(e){return`ag-${ox(e).name}-viewport`}function X2(e){let t=ox(e);return t.container??`ag-${t.name}-container`}function i4e(e){return`ag-${ox(e).name}-spanned-cells-container`}function ox(e){return n4e[e]}var r4e=["topCenter","topLeft","topRight"],o4e=["bottomCenter","bottomLeft","bottomRight"],s4e=["center","left","right"],a4e=["center","left","right","fullWidth"],l4e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],c4e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],d4e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],sie=["stickyTopCenter","stickyTopLeft","stickyTopRight"],aie=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],u4e=[...sie,"stickyTopFullWidth",...aie,"stickyBottomFullWidth"],h4e=[...r4e,...o4e,...s4e,...sie,...aie],f4e=class extends _e{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=ox(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new WNe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new t4e(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:r,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(c4e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(d4e,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(a4e,()=>this.createManagedBean(new rie(this.eContainer,this.name==="center"?i:void 0))),o&&this.forContainers(h4e,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(l4e,()=>this.createManagedBean(new AB(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(u4e.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let n=this.gos.get("ensureDomOrder"),i=Jo(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return j_(this.eViewport)}getCenterViewportScrollLeft(){return Q2(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=tp(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Bte(this.eViewport)}getViewportScrollLeft(){return Q2(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Gte(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){J2(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=Jo(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,o=t.filter(s=>{let a=s.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},lie="ag-force-vertical-scroll",p4e="ag-selectable",g4e="ag-column-moving",m4e=class extends _e{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${oie("center")}`),this.eFullWidthContainer=n.querySelector(`.${X2("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${X2("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${X2("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new FB(this.comp)),this.scrollFeature=this.createManagedBean(new UNe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){let t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let n=t&&e.getScrollbarWidth()||0,i=Pte()?16:0,r=`calc(100% + ${n+i}px)`;hh(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,n=this.gos.get("treeData");if(!n){let i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{let{target:i}=n,r=jg(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{let{target:i,relatedTarget:r}=n,o=t.contains(r),s=jg(r,"ag-root",t);jg(i,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(g4e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(p4e,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?lie:null,n=Jo(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&L3e(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,n=t.sizesMeasured,i=()=>{let r=n&&hC(this.gos)&&!e.stretching,o=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){let{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:r,beans:{popupSvc:o,touchSvc:s}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),s?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});let l=this.onStickyWheel.bind(this);for(let d of[t,n,i,r])this.addManagedElementListeners(d,{wheel:l});let c=this.onHorizontalWheel.bind(this);for(let d of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(d).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&Q_(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();let{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),r=t.getPinnedRowBorderWidth(),o=t.getRowBorderWidth(),s=r-o,a=n?s+n:0,l=i?s+i:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=i+o;n.setStickyBottomBottom(`${s}px`)}},cie=class extends Gn{constructor(e,t){super(),this.direction=t,this.eViewport=st,this.eContainer=st,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",Ate()||Wg())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Pte(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),hh(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;V3e(()=>kc(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},v4e={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},C4e=class extends cie{constructor(){super(v4e,"horizontal"),this.eLeftSpacer=st,this.eRightSpacer=st,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new AB(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),Gd(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),Gd(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:i===0&&t?16:i,s=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),N_(this.getGui(),o),N_(this.eViewport,o),N_(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return Q2(this.eViewport,this.enableRtl)}setScrollPosition(e){kc(this.eViewport)||this.attemptSettingScrollPosition(e),J2(this.eViewport,e,this.enableRtl)}},w4e={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:C4e},y4e={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},b4e=class extends cie{constructor(){super(y4e,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new rie(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),Gd(this.getGui(),r),Gd(this.eViewport,r),Gd(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!kc(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},_4e={selector:"AG-FAKE-VERTICAL-SCROLL",component:b4e};function x4e(e){return e.cols?e.cols.treeDepth+1:-1}function Hd(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function PB(e){let t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let i of n){if(!i)continue;let r=i.getGroupRowCount()||0;for(let o=0;o<r;o++){let s=i.getGroupRowCtrlAtIndex(o),a=t[o];if(s){let l=S4e(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function S4e(e,t){let i=e.colModel.isPivotMode()?D4e(e):uie(e),r=t.getHeaderCellCtrls();for(let o of r){let{column:s}=o,a=s.getAutoHeaderHeight();a!=null&&a>i&&s.isAutoHeaderHeight()&&(i=a)}return i}function OB(e){let n=e.colModel.isPivotMode()?E4e(e):sx(e);return e.colModel.forAllCols(i=>{let r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function sx(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function die(e){return e.gos.get("floatingFiltersHeight")??sx(e)}function uie(e){return e.gos.get("groupHeaderHeight")??sx(e)}function E4e(e){return e.gos.get("pivotHeaderHeight")??sx(e)}function D4e(e){return e.gos.get("pivotGroupHeaderHeight")??uie(e)}var R4e=class extends _e{setComp(e,t,n){this.comp=e,this.eGui=t;let{beans:i}=this,{headerNavigation:r,touchSvc:o,ctrlsSvc:s}=i;r&&this.createManagedBean(new TC(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();let a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o?.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>hh(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,n=PB(e).reduce((o,s)=>o+s,0),i=OB(e);if(e.filterManager?.hasFloatingFilters()&&(t+=die(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;let r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:o,focusSvc:s}=r;(o.navigateHorizontally(i,!0,e)||!n&&s.focusOverlay(!1)||SC(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:n}=this.beans;switch(e.key){case me.LEFT:t="LEFT";case me.RIGHT:{nt(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case me.UP:t="UP";case me.DOWN:{nt(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(tr(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){let{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;let{target:o}=e??t;(o===this.eGui||o===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},LB=class extends Gn{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},T4e={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},I4e=class extends LB{constructor(e){super(T4e,e),this.eResize=st,this.eHeaderCompWrapper=st,this.headerCompVersion=0}postConstruct(){let e=this.getGui(),t=(r,o)=>{o!=null&&o!=""?e.setAttribute(r,o):e.removeAttribute(r)},n=()=>{let r=this.ctrl.getSelectAllGui();r&&(this.eResize.insertAdjacentElement("afterend",r),this.addDestroyFunc(()=>r.remove()))};t("col-id",this.ctrl.column.getColId());let i={setWidth:r=>e.style.width=r,toggleCss:(r,o)=>this.toggleCss(r,o),setUserStyles:r=>nx(e,r),setAriaSort:r=>r?R3e(e,r):T3e(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp,refreshSelectAllGui:n,removeSelectAllGui:()=>this.ctrl.getSelectAllGui()?.remove()};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0),n()}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},M4e={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},F4e=class extends LB{constructor(e){super(M4e,e),this.eResize=st,this.eHeaderCompWrapper=st}postConstruct(){let e=this.getGui(),t=(i,r)=>r!=null?e.setAttribute(i,r):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let n={toggleCss:(i,r)=>this.toggleCss(i,r),setUserStyles:i=>nx(e,i),setHeaderWrapperHidden:i=>{i?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:i=>{i!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${i}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",i!=null)},setResizableDisplayed:i=>Ki(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let n=this.getGui(),i=e.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(n)}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:n}=this;t?n.style.setProperty(e,t):n.style.removeProperty(e)}},A4e={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},k4e=class extends LB{constructor(e){super(A4e,e),this.eFloatingFilterBody=st,this.eButtonWrapper=st,this.eButtonShowMainFilter=st}postConstruct(){let e=this.getGui(),t={toggleCss:(n,i)=>this.toggleCss(n,i),setUserStyles:n=>nx(e,n),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>Ki(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},P4e=class extends Gn{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){pB(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let n=this.headerComps;if(this.headerComps={},e.forEach(i=>{let r=i.instanceId,o=n[r];delete n[r],o==null&&(o=this.createHeaderComp(i),this.getGui().appendChild(o.getGui())),this.headerComps[r]=o}),Object.values(n).forEach(i=>{this.getGui().removeChild(i.getGui()),this.destroyBean(i)}),t){let i=Object.values(this.headerComps);i.sort((o,s)=>{let a=o.getCtrl().column.getLeft(),l=s.getCtrl().column.getLeft();return a-l});let r=i.map(o=>o.getGui());Hte(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new F4e(e);break;case"filter":t=new k4e(e);break;default:t=new I4e(e);break}return this.createBean(t),t.setParentComponent(this),t}},NB=class extends _e{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?ai(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=nt(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:n,visibleCols:i}=this.beans;if(!Jo(n,"print")||e.getPinned()==="left")return t;let o=i.getColsLeftWidth();if(e.getPinned()==="right"){let s=i.bodyWidth;return o+s+t}return o+t}setLeft(e){if(nt(e)&&(this.eCell.style.left=`${e}px`),gr(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&D3e(this.ariaEl,t.length)}}},O4e=0,hie="headerCtrl",BB=class extends _e{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+O4e++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){let{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!nt(r))return!1;let o=Rt(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(o)}getWrapperHasFocus(){return tr(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,n;if(typeof t=="function"){let i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,o=h=>{if(!this.isAlive()||!i.isAlive())return;let{paddingTop:f,paddingBottom:g,borderBottomWidth:m,borderTopWidth:v}=im(this.eGui),C=f+g+m+v,x=t.offsetHeight+C;if(h<5){let _=Ao(r),R=!_||!_.contains(t),I=x==0;if(R||I){V8(()=>o(h+1),"raf",r);return}}this.setColHeaderHeight(this.column,x)},s=!1,a,l=()=>{let h=this.column.isAutoHeaderHeight();h&&!s&&c(),!h&&s&&d()},c=()=>{s=!0,o(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=tp(this.beans,t,()=>o(0))},d=()=>{s=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>d()),i.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),i.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),n&&n(l)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(Wne(e,t,n.visibleCols),Mte(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=Xg(this.beans);this.eGui&&nl(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=tr(this.beans),n=e.key===me.LEFT||e.key===me.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;let r=e.key===me.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:n}=this,i=e.key===me.LEFT!==t.get("enableRtl"),r=n.getPinned(),o=t.get("enableRtl");return r&&o!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=hie,{eGui:n,gos:i}=this;Qg(i,n,t,this),e.addDestroyFunc(()=>Qg(i,n,t,null))}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){let i=e??t,{menuSvc:r,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},L4e=class extends BB{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;let{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:c,colHover:d,rangeSvc:h}=a,f=ix(this,c,r);this.setGui(t,f),this.updateState(),this.setupWidth(f),this.setupMovingCss(f),this.setupMenuClass(f),this.setupSortableClass(f),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:m=>this.setRefreshFunction("measuring",m),compBean:f}),this.addColumnHoverListener(f),this.setupFilterClass(f),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(f),this.setupSelectAll(f),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=f.createManagedBean(l.createResizeFeature(o.pinned,s,n,e,this)):Ki(n,!1),d?.createHoverFeature(f,[s],t),h?.createRangeHighlightFeature(f,s,e),f.createManagedBean(new NB(s,t,a)),f.createManagedBean(new TC(t,{shouldStopEventPropagation:m=>this.shouldStopEventPropagation(m),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(f),f.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),f.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),f.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let g=()=>this.checkDisplayName();f.addManagedEventListeners({columnValueChanged:g,columnRowGroupChanged:g,columnPivotChanged:g,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),f.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return Rt(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return sLe(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return Rt(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||tl(this.gos)),showColumnMenu:(o,s)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t?.setSortForColumn(this.column,o,!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{let n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===me.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===me.ENTER&&this.onEnterKeyDown(e),e.key===me.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){let n=this.comp.getUserCompInstance();Wee(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),QLe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),n=Une(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.toggleCss(r,!0)}),i.forEach(r=>this.comp.toggleCss(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:n,beans:i}=this,r=PB(this.beans),o=r.reduce((d,h)=>d+=h,0)===0;if(n.toggleCss("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}let{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",s>0);let l=OB(i);if(s===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);let c=0;for(let d=0;d<s;d++)c+=r[r.length-1-d];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${l+c}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(p3e(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!tl(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(tr(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return Wee(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Wee(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var N4e=0,m8=class extends _e{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=N4e++,this.allCtrls=[];let i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=Jo(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=ix(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Jo(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],n=PB(this.beans),i=OB(this.beans);t.push(...n),t.push(i),e?.hasFloatingFilters()&&t.push(die(this.beans));let r=0;for(let s=0;s<this.rowIndex;s++)r+=t[s];let o=t[this.rowIndex];return{topOffset:r,rowHeight:o}}onVirtualColumnsChanged(e=!1){let t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);let n=i=>{let{focusSvc:r,visibleCols:o}=this.beans;return r.isHeaderWrapperFocused(i)?o.isVisible(i.column):!1};if(e)for(let[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;let i=e.getUniqueId(),r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new L4e(e,this));break}t.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{let r=n.getHeadersToRender(i,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){let n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},B4e=class extends _e{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:o,filterManager:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);let a=this.onDisplayedColumnsChanged.bind(this,s);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});let l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,colModel:n,filterManager:i}=this.beans,r=0,o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{let d=x4e(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let h=0;h<d;h++){let f=this.createBean(new m8(r++,this.pinned,"group"));this.groupsRowCtrls.push(f)}},a=()=>{let d=r++,h=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==d);(h||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),h&&(this.columnsRowCtrl=this.createBean(new m8(d,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!i?.hasFloatingFilters()&&!this.hidden;let d=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){d();return}let h=r++;if(this.filtersRowCtrl){let f=this.filtersRowCtrl.rowIndex!==h;(!e||f)&&d()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new m8(h,this.pinned,"filter")))};s(),a(),l();let c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){let t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(uh(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){let i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;let{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new AB(e=>this.comp.setCenterWidth(`${e}px`),!0))}},V4e=class extends _e{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&tl(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(tl(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&uh(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(Wg()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!tl(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!tl(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return tl(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){let{positionBy:r,onClosedCallback:o}=t,s=t.column;if(r==="button"){let{buttonElement:a}=t;e?.showMenuAfterButtonClick(s,a,n,o,i)}else if(r==="mouse"){let{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(s,a,n,o,i)}else if(s){let a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),hh(a,()=>{let c=l.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);c&&e?.showMenuAfterButtonClick(s,c.getAnchorElementForMenu(i),n,o,i)})}}};function jee(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var VB=class extends Gn{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},EI=class extends VB{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},fie=class extends Gn{constructor(){super()}},H4e={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},G4e=class extends fie{init(){let e=ah(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??H4e),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},z4e={tag:"span",cls:"ag-overlay-no-rows-center"},U4e=class extends fie{init(){let e=ah(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??z4e),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function W4e(e,t,n){let i=Kl(e,t,n);if(i){let{className:o}=i;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return i}let r=ki({tag:"span"});return r.appendChild(i),r}function Kl(e,t,n){let i=null;e==="smallDown"?je(262):e==="smallLeft"?je(263):e==="smallRight"&&je(264);let r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){let o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{je(38,{iconName:e});return}if(typeof o=="string")return CB(o);if(yB(o))return o;je(133,{iconName:e});return}else{let o=t.registry.getIcon(e);return o||t.validation?.validateIcon(e),ki({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var j4e=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",$4e={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},q4e=class extends Gn{constructor(){super(),this.dragSource=null,this.eIcon=st,this.eLabel=st,this.eGhost=st,this.registerCSS(j4e)}postConstruct(){let e=t=>W4e(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate($4e),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eIcon:n,dragSource:i,dropIconMap:r,gos:o}=this;Is(n);let s=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),s=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(s===r.hide&&o.get("suppressDragLeaveHidesColumns"))&&s&&n.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},K4e=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",X4e=class extends Gn{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(K4e)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;Is(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ki(t,!1),Yf(t,"presentation")):(Ki(t,!0),Yf(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(eI(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return W_(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},pie=class extends X4e{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||g3e(e)!==null?U_(e,""):U_(e,t??"")}setAriaLabel(e){return bC(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Gd(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Y4e(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Ug=class extends pie{constructor(e,t,n="text",i="input"){super(e,e?.template??Y4e(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=st,this.eWrapper=st,this.eInput=st}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);let{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;let{inputName:r,inputWidth:o}=this.config;r!=null&&this.setInputName(r),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,nl(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return eI(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return nl(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return bC(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return W_(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)nl(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";nl(this.eInput,"autocomplete",t)}return this}},HB=class extends Ug{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});let i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},GB={selector:"AG-CHECKBOX",component:HB},Z4e=".ag-checkbox-cell{height:100%}",Q4e={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},J4e=class extends Gn{constructor(){super(Q4e,[GB]),this.eCheckbox=st,this.registerCSS(Z4e)}init(e){this.refresh(e);let{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),Tte(i,"polite"),this.addManagedListeners(i,{click:r=>{if(Jg(r),t.isDisabled())return;let o=t.getValue();this.onCheckboxChanged(o)},dblclick:r=>{Jg(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===me.SPACE&&!t.isDisabled()){e.eGridCell===tr(n)&&t.toggle();let o=t.getValue();this.onCheckboxChanged(o),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0,{value:i,column:r,node:o}=e;if(o.group&&r)if(typeof i=="boolean")t=i;else{let h=r.getColId();h.startsWith(_I)?t=i==null||i===""?void 0:i==="true":o.aggData&&o.aggData[h]!==void 0?t=i??void 0:n=!1}else t=i??void 0;let{eCheckbox:s}=this;if(!n){s.setDisplayed(!1);return}s.setValue(t);let a=e.disabled??!r?.isCellEditable(o);s.setDisabled(a);let l=this.getLocaleTextFunc(),c=gB(l,t),d=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;s.setInputAriaLabel(d)}onCheckboxChanged(e){let{params:t}=this,{column:n,node:i,value:r}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:i.rowIndex,rowPinned:i.rowPinned,state:"changed",oldValue:r,newValue:r}],{update:!0});let o=i.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:i,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),o||this.updateCheckbox(t)}},$ee=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){let{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Xl(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(let t of this.visible)if(t.id==e)return t}clear(){let{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){let{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],r=n6e(this.order);if(this.order.sort((s,a)=>(s.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,i)??this.order,!r)return;let o=ene(n);o==="bottom"||o==="pinnedBottom"?this.order.push(r):this.order.unshift(r)}hide(e){let{all:t,visible:n}=this;t.forEach(i=>e(i)?n.delete(i):n.add(i)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function gie(e){if(e.level===-1)return!0;let t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?gie(t):!1}function v8(e,t){let{gos:n,rowModel:i,filterManager:r}=e;return DC(n,i)?!i.getRowNode(t.id):r?.isAnyFilterPresent()?!gie(t):n.get("pivotMode")?!t.group:!1}function e6e(e){return!!e.footer&&e.level===-1}function t6e(e){return!!e.pinnedSibling&&e6e(e.pinnedSibling)}function n6e(e){let t=e.findIndex(t6e);if(t>-1)return e.splice(t,1)?.[0]}var qee=class extends _e{postConstruct(){let{gos:e,beans:t}=this;this.top=new $ee(t,"top"),this.bottom=new $ee(t,"bottom");let n=r=>v8(t,r.pinnedSibling),i=()=>{let r=e.get("isRowPinned");r&&e.get("enableRowPinning")&&t.rowModel.forEachNode(o=>this.pinRow(o,r(o)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:()=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(r=>r.hide(n)),this.refreshRowPositions(),this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(r6e),this.refreshRowPositions()},rowNodeDataChanged:({node:r})=>{(e.get("isRowPinnable")?.(r)??!0)||this.pinRow(r,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(r=>r.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:r})=>{this._grandTotalPinned=r==="pinnedBottom"?"bottom":r==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{let n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,s6e(this.beans);return}let i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){let s=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(s,null,n),this.pinRow(a,t,n);return}let o=n&&o6e(this.beans,e,n);if(o){o.forEach(s=>this.pinRow(s,t));return}if(t==null){let s=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(s);if(!a)return;a.delete(s);let l=s.pinnedSibling;C8(s),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{let s=Kee(this.beans,e,t),a=this.getContainer(t);a.add(s),v8(this.beans,e)&&a.hide(l=>v8(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=Qf(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return Xee(this.top)}getPinnedBottomTotalHeight(){return Xee(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){let e=t=>{let n=[];return this.forEachPinnedRow(t,i=>n.push(i.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(let i of e[n]){let r=this.beans.rowModel.getRowNode(i);r?this.pinRow(r,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{let n=new Set;e.forEachQueued(i=>{let r=this.beans.rowModel.getRowNode(i);r&&n.add(r)});for(let i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){let{gos:e,beans:t,_grandTotalPinned:n}=this,i=t.rowModel;if(!fo(e,i))return;let r=i.rootNode?.sibling;if(!r)return;let o=r.pinnedSibling,s=o&&this.findPinnedRowNode(o);if(n){if(s&&s.floating!==n&&(s.delete(o),C8(o)),!s||s.floating!==n){let a=Kee(t,r,n);this.getContainer(n).add(a)}}else{if(!s)return;s.delete(o),C8(o)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){let t=n=>i6e(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function i6e(e,t){let n=0;t.forEach((i,r)=>{i.setRowTop(n),(i.rowHeightEstimated||i.rowHeight==null)&&i.setRowHeight(Qf(e,i).height),i.setRowIndex(r),n+=i.rowHeight})}function Kee(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;let i=bNe(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;let r=n==="top"?RB:TB;return i.id=`${r}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function C8(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);let t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function r6e(e){let t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function o6e(e,t,n){let{rowSpanSvc:i}=e,r=(n&&i?.isCellSpanning(n,t))??!1;if(n&&r)return i?.getCellSpan(n,t)?.spannedNodes}function Xee(e){let t=e.size();if(t===0)return 0;let n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function s6e({gos:e,rowModel:t}){fo(e,t)&&t.refreshModel({step:"map"})}var Yee=class extends _e{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){let t=n=>{n.setRowHeight(n.rowHeight,!0)};I_(this.pinnedBottomRows,t),I_(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=Qf(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return I_(this.pinnedBottomRows,n),t=0,I_(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}let i=_C(this.gos),r=t==="top"?RB:TB,o=new Set(n.order),s=[],a=new Set,l=0,c=-1;for(let d of e){let h=i?.({data:d,level:0,rowPinned:t})??r+this.nextId++;if(a.has(h)){je(96,{id:h,data:d});continue}c++,a.add(h),s.push(h);let f=B_(n,h);if(f!==void 0)f.data!==d&&f.updateData(d),l+=this.setRowTopAndRowIndex(f,l,c),o.delete(h);else{let g=new tm(this.beans);g.id=h,g.data=d,g.rowPinned=t,l+=this.setRowTopAndRowIndex(g,l,c),n.cache[h]=g,n.order.push(h)}}o.forEach(d=>{B_(n,d)?.clearRowTopAndRowIndex(),delete n.cache[d]}),n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Qf(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return Zee(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return Zee(this.pinnedBottomRows)}getPinnedTopRowCount(){return nB(this.pinnedTopRows)}getPinnedBottomRowCount(){return nB(this.pinnedBottomRows)}getPinnedTopRow(e){return tB(this.pinnedTopRows,e)}getPinnedBottomRow(e){return tB(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return B_(this.getCache(t),e)}forEachPinnedRow(e,t){return I_(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function Zee(e){let t=nB(e);if(t===0)return 0;let n=tB(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function B_(e,t){return e.cache[t]}function tB(e,t){return B_(e,e.order[t])}function I_(e,t){e.order.forEach((n,i)=>{let r=B_(e,n);r&&t(r,i)})}function nB(e){return e.order.length}var a6e=class extends _e{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){let{gos:e}=this,t=()=>{let n=e.get("enableRowPinning"),i=ene(e),o=!!n||(i==="pinnedBottom"||i==="pinnedTop"),s=o?this.inner instanceof Yee:this.inner instanceof qee;this.inner&&s&&this.destroyBean(this.inner),(s||!this.inner)&&(this.inner=this.createManagedBean(o?new qee:new Yee))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},l6e="ROOT_NODE_ID",c6e=class extends _e{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=l6e,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){let n=_C(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,o=new Set,s=this.rootNode,a=s.allLeafChildren,l=a.length,c=!1,d=!1,h=!1,f=!1;for(let m=0,v=-1,C=t.length;m<C;m++){let y=t[m],x=this.getRowNode(n({data:y,level:0}));if(!x)c=!0,x=this.createRowNode(y,-1),r.add(x);else{if(i){let _=x.sourceRowIndex;f||(f=_<=v||c),v=_}x.data!==y&&(h=!0,x.updateData(y),r.update(x))}o.add(x)}let g=[];for(let m=0;m<l;m++){let v=a[m];o.has(v)||(d=!0,v.isSelected()&&g.push(v),v.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(v.pinnedSibling,null),this.rowNodeDeleted(v),r.remove(v))}if(c||d||f){let m=new Array(o.size),v=0;if(!i)for(let y=0;y<l;++y){let x=a[y];o.delete(x)&&(x.sourceRowIndex=v,m[v++]=x)}for(let y of o)y.sourceRowIndex=v,m[v++]=y;s.allLeafChildren=m;let C=s.sibling;C&&(C.allLeafChildren=m),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=f)}(c||d||f||h)&&(this.deselectNodes(g),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();let t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=_C(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){let n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let h=0;h<i.length;h++)if(i[h]?.rowIndex==r-1){r=h+1;break}}let o=n.length,s=t.changedRowNodes,a=new Array(o);for(let d=0;d<o;d++){let h=this.createRowNode(n[d],r+d);s.add(h),a[d]=h}let l=this.rootNode;if(r<i.length){let d=i.slice(0,r),h=i.slice(r,i.length),f=d.length+a.length;for(let g=0,m=h.length;g<m;++g)h[g].sourceRowIndex=f+g;i=[...d,...a,...h],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;let c=l.sibling;c&&(c.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{remove:o}=t;if(!o?.length)return;let s={};o.forEach(c=>{let d=this.lookupRowNode(e,c);d&&(d.isSelected()&&r.push(d),d.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(d.pinnedSibling,null),d.clearRowTopAndRowIndex(),s[d.id]=!0,delete this.allNodesMap[d.id],i.remove.push(d),n.remove(d))});let a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!s[c.id])??null,a.allLeafChildren?.forEach((c,d)=>{c.sourceRowIndex=d});let l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{update:o}=t;o?.length&&o.forEach(s=>{let a=this.lookupRowNode(e,s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){let t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){let n=new tm(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&je(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){let i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return li(4,{id:i}),null}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return li(5,{data:t}),null;return n||null}};var d6e={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},u6e=class extends Gn{constructor(){super(d6e,[GB]),this.eCheckbox=st}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=gB(e,i),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Jg,click:i=>{Jg(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let o=typeof i=="object"?l8(i):void 0,s=typeof r=="object"?l8(r):void 0;o!==s&&this.onSelectableChanged()}),U8(this.gos)||typeof this.getIsVisible()=="function"){let i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){let{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,o=this.getIsVisible(),s;if(typeof o=="function"){let h=n?.callbackParams;if(!e)s=o(De(V({},h),{node:t,data:t.data}));else{let f=e.createColumnFunctionCallbackParams(t);s=o(V(V({},h),f))}}else s=o??!1;let a=r&&!s||!r&&s,l=r||s,c=i.get("rowSelection"),d=c&&typeof c!="string"?!l8(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?d:!0)),this.setDisplayed(l&&(a?d:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?fC(t):this.column?.getColDef()?.checkboxSelection}},h6e=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t,{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){let r=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:o}:{keep:o,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){let n=this.getRoot();if(n==null){let r=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&r.push(o)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}let i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}getNodesInRange(e,t){let{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return jl(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){let r=jl(n,"bottom",void 0,e),o=i.getRowCount(),s=i.getRow(o-1);return(i.getNodesInRangeForSelection(t,s)??[]).concat(r)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return jl(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){let r=jl(n,"top",t,void 0),o=jl(n,"bottom",void 0,e),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(!e.rowPinned&&t.rowPinned==="top")return jl(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){let r=jl(n,"top",e,void 0),o=jl(n,"bottom",void 0,t),s=i.getRow(0),a=i.getRow(i.getRowCount()-1);return r.concat(i.getNodesInRangeForSelection(s,a)??[]).concat(o)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return jl(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){let r=jl(n,"bottom",void 0,t),o=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,o)??[]).concat(r)}return null}},f6e=class extends _e{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(tr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new HB);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Yf(t.getGui(),"presentation"),this.showOrHideSelectAll();let n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let o=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;o(i)!==o(r)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);let r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${s})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return q_(this.gos)?!0:(je(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:n}=this.beans;return fo(t)||DC(t)?!0:(je(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");let i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){let{column:e,gos:t,beans:n}=this,o=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return mie(n,e)&&this.checkRightRowModelType(o)&&this.checkSelectionType(o)}getSelectAllMode(){let e=rne(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function mie({gos:e,selectionColSvc:t},n){let i=e.get("rowSelection"),r=n.getColDef(),{headerCheckboxSelection:o}=r,s=!1;if(typeof i=="object"){let l=om(n),c=SB(n);(nI(i)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(s=W2(i))}else typeof o=="function"?s=o(Rt(e,{column:n,colDef:r})):s=!!o;return s}var p6e=class extends _e{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new h6e(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let n=U8(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=U8(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new u6e}createSelectAllFeature(e){if(mie(this.beans,e))return new f6e(e)}isMultiSelect(){return q_(this.gos)}onRowCtrlSelected(e,t,n){let i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.toggleCss("ag-row-selected",i);let o=r.element;O8(o,i),o.contains(tr(this.beans))&&t(r)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected();if(!e.selectable)return;let i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!rx(e)||!$g(this.gos)}updateRowSelectable(e,t){let n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(K_(this.gos)){let r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){let r=e.childrenAfterGroup[i],o=r.isSelected();if(!r.selectable){let s=this.calculateSelectedFromChildren(r);if(s===null)continue;o=s}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){let r=!e.selectable&&t,o=e.__selected===t;if(r||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let s=e.sibling;s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected");let a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(De(V({},wNe(e,this.gos,"rowSelected")),{event:n||null,source:i})),!0}isCellCheckboxSelection(e,t){let n=this.gos.get("rowSelection");if(n&&typeof n!="string"){let i=om(e)&&fC(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){let{gos:r,selectionCtx:o}=this,s=e.isSelected(),a=K_(r),l=nOe(r),c=iOe(r),d=this.isMultiSelect(),h=i==="rowClicked";if(h&&!(l||c))return null;if(t&&n&&d){let f=o.getRoot();if(f)if(f.isSelected()){let g=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:g.discard,select:g.keep,reset:!1}}else{let g=o.extend(e,a);return{select:[],deselect:g.keep,reset:!1}}else return null}else if(t&&d){let f=o.selectAll?this.beans.rowModel.getRow(0):void 0,g=o.getRoot(f),m=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:m.keep,deselect:m.discard,reset:o.selectAll||!!(g&&!g.isSelected())}}else if(n){if(h){let f=!s;return f&&!l||!f&&!c?null:(o.setRoot(e),{node:e,newValue:f,clearSelection:!1})}return o.setRoot(e),{node:e,newValue:!s,clearSelection:!d}}else{o.setRoot(e);let f=rOe(r),g=rI(r)==="filteredDescendants",m=h&&(!f||!l);if(g&&s===void 0&&fo(r))return{node:e,newValue:!1,clearSelection:!d||m};if(h){let v=s?!f:l;return v===s&&!m||v&&!l||!v&&!c?null:{node:e,newValue:v,clearSelection:!d||m,keepDescendants:e.group&&a}}return{node:e,newValue:!s,clearSelection:!d||m}}}},g6e=class extends HB{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}};var am=class extends Ug{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let n=this.eInput;return n.value!==e&&(n.value=nt(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{iie(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{let i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},DI={selector:"AG-INPUT-TEXT-FIELD",component:am},m6e=class extends Ug{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},v6e={selector:"AG-INPUT-TEXT-AREA",component:m6e},zB=class extends am{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let o=parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){tr(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){let n=this.precision;if(n==null)return e;if(t){let r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}let i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,nl(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,nl(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,nl(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(nt(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);let r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},C6e={selector:"AG-INPUT-NUMBER-FIELD",component:zB},w6e=class extends am{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=nm();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){tr(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?il(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,nl(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?il(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,nl(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,nl(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return ka(this.getValue())??void 0}setDate(e,t){this.setValue(il(e??null,this.includeTime),t)}},vie={selector:"AG-INPUT-DATE-FIELD",component:w6e},y6e=class extends Gn{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case me.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case me.DOWN:case me.UP:e.preventDefault(),this.navigate(t);break;case me.PAGE_DOWN:case me.PAGE_UP:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===me.DOWN,n,{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let s=i.indexOf(r)+(t?1:-1);s=Math.min(Math.max(s,0),i.length-1),n=i[s]}this.highlightItem(n)}navigateToPage(e){let{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;let i=t.indexOf(n),r=this.options.length-1,o=t[0].clientHeight,s=Math.floor(this.getGui().clientHeight/o),a=-1;e===me.PAGE_HOME?a=0:e===me.PAGE_END?a=r:e===me.PAGE_DOWN?a=Math.min(i+s,r):e===me.PAGE_UP&&(a=Math.max(i-s,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Zs(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){let e=this.getGui();Yf(e,this.options.length===0?"presentation":"listbox")}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{b3e(t,n+1),y3e(t,e.length)})}renderOption(e,t){let n=ki({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),i=ki({tag:"span",children:t});n.appendChild(i),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let n=this.options.findIndex(i=>i.value===e);if(n!==-1){let i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!kc(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),O8(e,!0);let t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:o}=e;(r+o>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){let e=this.highlightedEl;!e||!kc(e)||(e.classList.remove(this.activeClass),O8(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},b6e=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.ag-picker-has-focus:not(.invalid)),&:where(:focus-within:not(.invalid)){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}&:disabled{opacity:.5}}",_6e={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},x6e=class extends pie{constructor(e){if(super(e,e?.template||_6e,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=st,this.eWrapper=st,this.eDisplayField=st,this.eIcon=st,this.registerCSS(b6e),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:i}=this.config;if(n){let r=Kl(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),P8(e,!1),this.ariaRole&&Yf(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case me.UP:case me.DOWN:case me.ENTER:case me.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case me.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:d}=this,h={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let v=Qte(c);this.beforeHidePicker(),v&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:d};e.style.position="absolute";let f=c.popupSvc,g=f.addPopup(h);l?(s&&(e.style.minWidth=s),e.style.width=wB(Z2(d)),a&&(e.style.maxWidth=a)):eI(e,a??Z2(d));let m=o??`${vB(f.getPopupParent())}px`;return e.style.setProperty("max-height",m),this.alignPickerToComponent(),g.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:o}=this,s=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();P8(t,e);let n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return eI(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},S6e=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",UB=class extends x6e{constructor(e){super(V({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(S6e)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:U2(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new y6e("select",!0));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),M3e(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===me.TAB&&this.hidePicker(),t){case me.ENTER:case me.UP:case me.DOWN:case me.PAGE_UP:case me.PAGE_DOWN:case me.PAGE_HOME:case me.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case me.ESCAPE:super.onKeyDown(e);break;case me.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){let{listComponent:i,config:{placeholder:r},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),o.textContent=l,s?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},E6e={selector:"AG-SELECT",component:UB},w8={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},D6e=class extends _e{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:h,handleKeyDown:f,isEmpty:g,eFocusableElement:m}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=m,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=f,this.providedIsEmpty=g}postConstruct(){this.createManagedBean(new TC(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():vC(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=Ao(this.beans),n=vC(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,o;e?(r=0,o=i):(r=i+1,o=n.length);let s=n.slice(r,o),a=this.gos.get("tabIndex");s.sort((l,c)=>{let d=parseInt(l.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===a?1:d===a?-1:d===0?1:h===0?-1:d-h}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=vC(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return sm(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},R6e=class extends _e{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],o={setTabIndex:C=>{r.forEach(y=>C!=null?y.setAttribute("tabindex",C):y.removeAttribute("tabindex"))}};this.addTabGuards(t,n);let{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:h,shouldStopEventPropagation:f,isEmpty:g,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}=e;this.tabGuardCtrl=this.createManagedBean(new D6e({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:h,shouldStopEventPropagation:f,isEmpty:g,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:v}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=Ao(this.beans).createElement("div"),n=e==="top"?w8.TAB_GUARD_TOP:w8.TAB_GUARD_BOTTOM;return t.classList.add(w8.TAB_GUARD,n),Yf(t,"presentation"),t}addTabGuards(e,t){let n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];Is(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){yB(t)||(t=t.getGui());let{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;Zs(e),Zs(t),super.destroy()}},Cie=class extends Gn{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new R6e(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},zg=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Zg,this.preventMouseClick=t;let n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;let i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!$ne(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};var T6e=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},WB=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${Ute}/${this.frameworkName}-data-grid`,z3e(this.baseDocLink)}setInterval(e,t){return new pr(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){let o=une(t);o!=null&&(r.passive=o)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function I6e(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var M6e=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],Qee=Object.fromEntries(M6e.map((e,t)=>[e,t]));function F6e(e,t){let n=(e.beanName?Qee[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?Qee[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function A6e(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var k6e={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},P6e={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},O6e={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},y8=class extends Gn{constructor(e){super(),this.eCenterContainer=st,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{let i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new B4e(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",n=e?k6e:t?P6e:O6e;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==st?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n,i=r=>{let o=r.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),n&&Vte(this.eRowContainer,o,n),n=o};e.forEach(r=>{let o=r.instanceId,s=t[o];delete t[o];let a=s||this.createBean(new P4e(r));this.headerRowComps[o]=a,this.rowCompsList.push(a),i(a)}),Object.values(t).forEach(r=>this.destroyRowComp(r))}},L6e={tag:"div",cls:"ag-header",role:"presentation"},N6e=class extends Gn{constructor(){super(L6e)}postConstruct(){let e={toggleCss:(i,r)=>this.toggleCss(i,r),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new R4e).setComp(e,this.getGui(),this.getFocusableElement());let n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new y8("left")),n(new y8(null)),n(new y8("right"))}},B6e={selector:"AG-HEADER-ROOT",component:N6e},V6e=class extends Gn{constructor(e,t,n,i,r){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.gos=e.gos,this.column=t.column,this.rowNode=t.rowNode,this.eRow=i;let o=ki({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.column.colIdSanitised}});this.eCell=o;let s;t.isCellSpanning()?(s=ki({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),s.appendChild(o),this.setTemplateFromElement(s)):this.setTemplateFromElement(o),this.cellCssManager=new Dne(()=>o),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let a={toggleCss:(l,c)=>this.cellCssManager.toggleCss(l,c),setUserStyles:l=>nx(o,l),getFocusableElement:()=>o,setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue(),refreshEditStyles:(l,c)=>this.refreshEditStyles(l,c)};t.setComp(a,o,s,this.eCellWrapper,n,r,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){let e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;i&&(this.eCellWrapper=ki({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));let r=!n&&this.eCellWrapper!=null;r&&(Zs(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssManager.toggleCss("ag-cell-value",!n);let o=!e&&n,s=o&&this.eCellValue==null;s&&(this.eCellValue=ki({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));let a=!o&&this.eCellValue!=null;a&&(Zs(this.eCellValue),this.eCellValue=void 0);let l=i||r||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){let{cellCtrl:e,eCellWrapper:t,eCellValue:n,includeRowDrag:i,includeDndSource:r,includeSelection:o}=this,s=a=>{a&&t.insertBefore(a.getGui(),n)};i&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),s(this.rowDraggingComp)),r&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),s(this.dndSourceComp)),o&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),s(this.checkboxSelectionComp))}createCellEditorInstance(e,t,n){let i=this.editorVersion,r=e.newAgStackInstance(),{params:o}=e;r.then(a=>this.afterCellEditorCreated(i,a,o,t,n)),Hi(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();Is(t);let n=RC(e);n!=null&&(t.textContent=n)}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Zs(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(tr(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Zs(this.cellEditorGui),this.cellCtrl.disableEditorTooltipFeature(),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let t=this.rendererVersion,n=o=>s=>{if(this.rendererVersion!==t||!this.isAlive())return;let l=o.newAgStackInstance(),c=this.afterCellRendererCreated.bind(this,t,o.componentClass);l?.then(c)},{animationFrameSvc:i}=this.beans,r;if(i?.active&&this.firstRender?r=(o,s=!1)=>{i.createTask(n(o),this.rowNode.rowIndex,"p2",o.componentFromFramework,s)}:r=o=>n(o)(),e.params?.deferRender&&!this.cellCtrl.rowNode.group){let{loadingComp:o,onReady:s}=this.cellCtrl.getDeferLoadingCellRenderer();o&&(r(o),s.then(()=>r(e,!0)))}else r(e)}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}this.cellRenderer=n,this.cellRendererClass=t;let r=n.getGui();if(this.cellRendererGui=r,r!=null){let o=this.getParentOfValue();Is(o),o.appendChild(r)}}afterCellEditorCreated(e,t,n,i,r){let o=e!==this.editorVersion,{context:s}=this.beans;if(o){s.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){s.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){je(97,{colId:this.column.getId()}),s.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let l=i||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached?.(),this.cellCtrl.enableEditorTooltipFeature(t),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssManager:n}=this;n.toggleCss("ag-cell-inline-editing",e&&!t),n.toggleCss("ag-cell-popup-editing",e&&!!t),n.toggleCss("ag-cell-not-inline-editing",!e||!!t)}addInCellEditor(){let{eCell:e}=this;e.contains(tr(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),Is(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){let{gos:n,context:i,popupSvc:r,localeSvc:o,editSvc:s}=this.beans;n.get("editType")==="fullRow"&&je(98);let a=this.cellEditor;this.cellEditorPopupWrapper=i.createBean(s.createPopupEditorWrapper(e));let l=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&l.appendChild(this.cellEditorGui);let c=n.get("stopEditingWhenCellsLoseFocus"),d=t??a.getPopupPosition?.()??"over",h=n.get("enableRtl"),f={ePopup:l,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:d,alignSide:h?"right":"left",keepWithinBounds:!0},g=r.positionPopupByComponent.bind(r,f),m=fB(o),v=r.addPopup({modal:c,eChild:l,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:g,ariaLabel:m("ariaLabelCellEditor","Cell Editor")});v&&(this.hideEditorPopup=v.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},H6e=class extends Gn{constructor(e,t,n){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;let i=ki({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(i,n),this.setTemplateFromElement(i);let r=i.style;this.domOrder=this.rowCtrl.getDomOrder();let o={setDomOrder:s=>this.domOrder=s,setCellCtrls:s=>this.setCellCtrls(s),showFullWidth:s=>this.showFullWidth(s),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,toggleCss:(s,a)=>this.toggleCss(s,a),setUserStyles:s=>nx(i,s),setTop:s=>r.top=s,setTransform:s=>r.transform=s,setRowIndex:s=>i.setAttribute("row-index",s),setRowId:s=>i.setAttribute("row-id",s),setRowBusinessKey:s=>i.setAttribute("row-business-key",s),refreshFullWidth:s=>this.fullWidthCellRenderer?.refresh?.(s())??!1};e.setComp(o,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}setInitialStyle(e,t){let n=this.rowCtrl.getInitialTransform(t);if(n)e.style.setProperty("transform",n);else{let i=this.rowCtrl.getInitialRowTop(t);i&&e.style.setProperty("top",i)}}showFullWidth(e){let t=i=>{if(this.isAlive()){let r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=new Map(this.cellComps);for(let n of e){let i=n.instanceId;this.cellComps.has(i)?t.delete(i):this.newCellComp(n)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];for(let n of e){let i=this.cellComps.get(n.instanceId);i&&t.push(i.getGui())}Hte(this.getGui(),t)}newCellComp(e){let t=this.beans.editSvc?.isEditing(e,{withOpenEditor:!0})??!1,n=new V6e(this.beans,e,this.rowCtrl.printLayout,this.getGui(),t);this.cellComps.set(e.instanceId,n),this.getGui().appendChild(n.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(let t of e.values()){if(!t)return;let n=t.cellCtrl.instanceId;if(this.cellComps.get(n)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(n)}}};function G6e(e,t,n){let i=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,r={tag:"div",ref:"eContainer",cls:X2(e),role:"rowgroup"};if(t.type==="center"||i){let o={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${i4e(e)}`,role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:`ag-viewport ${oie(e)}`,role:"presentation",children:[r,i?o:null]}}return r}var z6e=class extends Gn{constructor(e){super(),this.eViewport=st,this.eContainer=st,this.eSpannedContainer=st,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=ox(this.name)}postConstruct(){this.setTemplate(G6e(this.name,this.options,this.beans));let e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setSpannedRowCtrls:n=>this.setRowCtrls(n,!0),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>{this.eContainer.style.width=n,this.eSpannedContainer&&(this.eSpannedContainer.style.width=n)},setOffsetTop:n=>{let i=`translateY(${n})`;this.eContainer.style.transform=i,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=i)}};this.createManagedBean(new f4e(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:n,options:i}=this,r=t?this.eSpannedContainer:this.eContainer,o=t?V({},this.rowCompsWithSpan):V({},this.rowCompsNoSpan),s={};t?this.rowCompsWithSpan=s:this.rowCompsNoSpan=s,this.lastPlacedElement=null;let a=[];for(let l of e){let c=l.instanceId,d=o[c],h;if(d)h=d,delete o[c];else{if(!l.rowNode.displayed)continue;h=new H6e(l,n,i.type)}s[c]=h,a.push([h,!d])}this.removeOldRows(Object.values(o),r),this.addRowNodes(a,r)}addRowNodes(e,t){let{domOrder:n}=this;for(let[i,r]of e){let o=i.getGui();n?this.ensureDomOrder(o,t):r&&t.appendChild(o)}}removeOldRows(e,t){for(let n of e)t.removeChild(n.getGui()),n.destroy()}ensureDomOrder(e,t){Vte(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},U6e={selector:"AG-ROW-CONTAINER",component:z6e};function M_(e,t){return t.map(n=>{let i=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[i]={name:n},{tag:"ag-row-container",ref:i,attrs:{name:n}}})}function W6e(e){let t={},n={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:M_(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:M_(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:M_(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:M_(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:M_(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:n}}var j6e=class extends Gn{constructor(){super(...arguments),this.eGridRoot=st,this.eBodyViewport=st,this.eStickyTop=st,this.eStickyBottom=st,this.eTop=st,this.eBottom=st,this.eBody=st}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,n=e?.getOverlayWrapperSelector(),{paramsMap:i,elementParams:r}=W6e(!!n);this.setTemplate(r,[...n?[n]:[],w4e,_4e,B6e,U6e],i);let o=(a,l)=>{let c=`${a}px`;l.style.minHeight=c,l.style.height=c},s={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>E3e(this.getGui(),a),setRowCount:a=>x3e(this.getGui(),a),setTopHeight:a=>o(a,this.eTop),setBottomHeight:a=>o(a,this.eBottom),setTopInvisible:a=>this.eTop.classList.toggle("ag-invisible",a),setBottomInvisible:a=>this.eBottom.classList.toggle("ag-invisible",a),setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-invisible",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.toggleCss(a,l),updateLayoutClasses:(a,l)=>{let c=[this.eBodyViewport.classList,this.eBody.classList];for(let d of c)d.toggle(Fc.AUTO_HEIGHT,l.autoHeight),d.toggle(Fc.NORMAL,l.normal),d.toggle(Fc.PRINT,l.print);this.toggleCss(Fc.AUTO_HEIGHT,l.autoHeight),this.toggleCss(Fc.NORMAL,l.normal),this.toggleCss(Fc.PRINT,l.print)},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle(lie,l),registerBodyViewportResizeListener:a=>{let l=tp(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(c=>c.classList.toggle(a,l))},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>Yf(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new m4e),this.ctrl.setComp(s,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&dh(this.gos)||q_(this.gos))&&_3e(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let n=this.eBodyViewport.classList;n.toggle("ag-row-animation",t),n.toggle("ag-row-no-animation",!t)}},$6e={selector:"AG-GRID-BODY",component:j6e},q6e=class extends _e{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),Xne(this.gos,t),this.createManagedBean(new FB(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let o=tp(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),r.register("gridCtrl",this)}isDetailGrid(){return jne(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){let{visibleCols:r,focusSvc:o}=this.beans,s=r.allCols,a=ai(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,o=r.allCols;if(e){if(n.length>1)return this.focusContainer(ai(n),e);let s=ai(o);if(i.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Xg(this.beans)){if(i.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<n.length;s++)if(em(n[s].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;let r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!xI(e)||!Xg(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let n=tr(this.beans),i=e.findIndex(o=>o.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){e.setAllowFocus?.(!0);let n=em(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},K6e=class extends Cie{constructor(e){super(),this.gridBody=st,this.sideBar=st,this.pagination=st,this.rootWrapperBody=st,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCss(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new q6e),n=t.getOptionalSelectors(),i=this.createTemplate(n),r=[$6e,...Object.values(n).filter(o=>!!o)];this.setTemplate(i,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),Zf(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let n=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=Fc,{autoHeight:s,normal:a,print:l}=t;n.toggle(i,s),n.toggle(r,a),n.toggle(o,l),this.toggleCss(i,s),this.toggleCss(r,a),this.toggleCss(o,l)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,n=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,i=e.statusBarSelector?{tag:"ag-status-bar"}:null,r=e.watermarkSelector?{tag:"ag-watermark"}:null,o=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},n]},i,o,r]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>kc(t.getGui()))}},Kt=(e,t)=>{for(let n of Object.keys(t))t[n]=e;return t},Jee=V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V(V({dispatchEvent:"CommunityCore"},Kt("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0})),Kt("GridState",{getState:0,setState:0})),Kt("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),Kt("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),Kt("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),Kt("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),Kt("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),Kt("ValueCache",{expireValueCache:0})),Kt("CellApi",{getCellValue:0})),Kt("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),Kt("Sort",{onSortChanged:0})),Kt("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0})),Kt("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),Kt("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),Kt("HighlightChanges",{flashCells:0})),Kt("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0})),Kt("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),Kt("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),Kt("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),Kt("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),Kt("ColumnResize",{setColumnWidths:0})),Kt("ColumnHover",{isColumnHovered:0})),Kt("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0})),Kt("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0})),Kt("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),Kt("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),Kt("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0})),Kt("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),Kt("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),Kt("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),Kt("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),Kt("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Kt("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),Kt("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),Kt("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Kt("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Kt("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Kt("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Kt("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Kt("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Kt("ContextMenu",{showContextMenu:0})),Kt("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),Kt("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Kt("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),Kt("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),Kt("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Kt("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),Kt("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Kt("StatusBar",{getStatusPanel:0})),b8={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},X6e=(e,t)=>e.eventSvc.dispatchEvent(t),wie=class{};Reflect.defineProperty(wie,"name",{value:"GridApi"});var Y6e=class extends _e{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new wie,this.fns=De(V({},b8),{dispatchEvent:X6e}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(Jee))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:n,beans:i}=this;n!==b8&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:n,preDestroyLink:i}=this;if(!t)je(26,{fnName:e,preDestroyLink:i});else{let r=Jee[e];n.assertModuleRegistered(r,`api.${e}`)&&je(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=b8,this.beans=null}};function Z6e(e){return e.context.getGridId()}function Q6e(e){e.gridDestroySvc.destroy()}function J6e(e){return e.gridDestroySvc.destroyCalled}function e8e(e,t){return e.gos.get(t)}function t8e(e,t,n){yie(e,{[t]:n})}function yie(e,t){e.gos.updateGridOptions({options:t})}function n8e(e,t){let n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var i8e={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},r8e=class extends Gn{constructor(e,t,n){super(i8e),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Kl("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:n,eCell:i,gos:r}=this,o=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(i,0,0),o){let a=Rt(r,{rowNode:t,dragEvent:e});o(a)}else try{let a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function o8e(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function s8e(e,t){let n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function a8e(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function l8e(e){let t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function c8e(e,t){let n=e.rowDropHighlightSvc;if(!n)return;let i=t?.row,r=t?.dropIndicatorPosition;r!=="above"&&r!=="below"&&r!=="inside"&&(r="none");let o=i?.rowIndex;o==null||r==="none"?n.clear():n.set(i,r)}var d8e=class extends _e{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},u8e={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},h8e=class extends Gn{constructor(e,t,n,i,r,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(u8e),this.getGui().appendChild(Kl("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){let r=i.get("rowDragManaged")?new p8e(this,t,n):new f8e(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault()}})[0]);let n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let i=this.getDragItem(),r=i.rowNodes?.length||1,o=this.getRowDragText(this.column);return o?o(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},bie=class extends _e{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){let n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let i=!t,r=!1,{column:o,rowNode:s,parent:a}=this;if(o){let l=o.getColDef().rowDrag;r=typeof l=="function",i=(t?!!l:o.isRowDrag(s))||a.isCustomGui()}r?(a.setDisplayed(!0,n),a.setVisible(i&&!t,n)):(a.setDisplayed(i,n),a.setVisible(!t,n))}}},f8e=class extends bie{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},p8e=class extends bie{postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),o=n.get("suppressRowDrag"),s=t.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a,this.rowNode.footer)}},J_=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){let i=e.childrenAfterGroup;if(i)for(let r=0,o=i.length;r<o;++r){let s=i[r];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,n):n&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){let i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){let r=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},g8e=class extends _e{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;let t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){let{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;fo(t,e)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{let r=i.gridBodyCtrl,o=0,s=()=>r.scrollFeature.getVScrollPosition().top;this.autoScrollService=new T6e({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:s,setVerticalPosition:a=>r.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{let a=s();if(o!==a){o=a;let l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();let e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let i=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((r,o)=>r.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(o));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){let{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e);if(!(i.get("rowDragManaged")&&this.shouldPreventRowMove()))if(i.get("suppressMoveWhenRowDragging")||!r){if(n.isDropZoneWithinThisGrid(e)){let s=this.managedRowsDrop(e,t),a=s?.target,l=this.beans.rowDropHighlightSvc;a&&s.rows.length?l.set(a,s.position):l.clear()}}else{let s=this.managedRowsDrop(e,t);s&&this.dropRows(s)}}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(ai(t.split("-")),10)}managedRowsDrop(e,t){let{rowNode:n,rowNodes:i}=e.dragItem,o=i?.length&&(n??i[0]);if(!o)return this.makeGroupThrottleClear(),null;let{beans:s,gos:a,clientSideRowModel:l}=this,c=l.rootNode,d=Oee(s,e).y,h=l.getRowIndexAtPixel(d),f=l.getRow(h)??null,g=o!==f,m=f?(d-f.rowTop-f.rowHeight/2)/f.rowHeight||0:1,v=this.isFromThisGrid(e),y=ane(a)!=="group"&&v,x=null;if(y&&f?.footer){x=f.sibling??c;let W=V_(l,-1,f)??V_(l,1,f);m=W&&W.rowIndex>f.rowIndex?-.5:.5,f=W??null}let _=m<0,R=!1;if(v&&f){if(g){if(R=i.indexOf(f)>=0,R){let W=m8e(l,h<o.rowIndex,i);W?.parent===f.parent&&(f=W,h=f.rowIndex)}}else{if(Math.abs(m)<=.5)return this.makeGroupThrottleClear(),null;R=!0}(R||!y&&Math.abs(h-o.rowIndex)===1)&&(_=h<o.rowIndex)}let I=this.makeGroupThrottleTarget;I!==null&&I!==f&&this.makeGroupThrottleClear(),f?.expanded&&f.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=f),x===null&&y&&(!f||m>=.5&&f.rowIndex===s.pageBounds.getLastRow()?x=c:this.targetShouldBeParent(f,m,R,i)&&(this.makeGroupThrottled&&(x=f),t&&(x===null||!f.expanded)&&(this.makeGroupThrottleTarget=f,this.makeGroupThrottleStart())),x??(x=f?.parent??c));let F=!1;if(x!==null){if(x===f&&x!==c){F=!0;let W=x.expanded?V_(l,1,f):null;W?.parent===x&&(f=W,F=!1,_=!0)}if(f&&!F){let W=f;for(;W&&W!==c&&W!==x;)f=W,W=W.parent}C8e(i,x)&&(x=null)}if(!x&&R&&(y||o===f))return null;let T=F?"inside":_?"above":"below",P={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:v,position:T,source:o,target:f,newParent:x,rows:i},L=!1,U=a.get("isRowValidDropPosition");if(U){let W=U(P);W?typeof W=="object"&&(W.rows!==void 0&&(P.rows=W.rows??oI),W.newParent!==void 0&&(P.newParent=W.newParent),W.target!==void 0&&(P.target=W.target),W.position&&(L=!0,P.position=W.position)):P.rows=oI}return(!P.newParent||!P.rows.length)&&!L&&(P.position=_?"above":"below"),P}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;let e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,i){let r=e?.rowIndex;if(n||r===null)return!1;let o=.25;if(t<-.5+o)return!1;if(t<.5-o)return!0;let s,a=r+1,l=this.clientSideRowModel;do s=l.getRow(a++);while(s&&s.footer);let c=e.childrenAfterGroup;if(s&&s.parent===e&&c?.length){let d=new Set(i);for(let h of c)if(h.rowIndex!==null&&!d.has(h))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){je(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e)){je(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));let i=V({isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0},n);t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){let t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this),s=this.onDragCancel.bind(this),a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:o,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){let n=this.beans,{pageBounds:i,rowModel:r,gos:o}=n,s=Oee(this.beans,t).y,a=s>i.getCurrentPagePixelRange().pageLastPixel,l=-1,c;return a||(l=r.getRowIndexAtPixel(s),c=r.getRow(l)),Rt(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:s,vDirection:t.vDirection})}dispatchGridEvent(e,t){let n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){let i=this.managedRowsDrop(e,!1);i&&this.dropRows(i),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){let i=_C(this.gos),r=this.clientSideRowModel,o=n.filter(({data:a,rowPinned:l})=>!r.getRowNode(i?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(o.length===0)return!1;let s=t?ete(t)+(e==="above"?0:1):void 0;return r.updateRowData({add:o,addIndex:s}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new J_(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:i}){let r=!1,o=this.clientSideRowModel,s=new Set;for(let d of n){if(d.footer||d.rowTop===null&&d!==o.getRowNode(d.id))continue;if(i&&d.parent!==i){if(v8e(d,i))continue;d.treeParent=i,r=!0}let h=_ie(d);h&&s.add(h)}if(!r&&s.size===0)return!1;let a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&aC(this.beans,l);return s.size&&this.reorderLeafChildren(s,...this.getMoveRowsBounds(s,t,e==="above"))&&(r=!0),r?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){let i=this.clientSideRowModel.rootNode?.allLeafChildren.length??0,r=ete(t);r<0||r>=i?r=i:n||++r;let o=r,s=Math.min(r,i-1);for(let a of e){let l=a.sourceRowIndex;l<o&&(o=l),l>s&&(s=l)}return[o,r,s]}reorderLeafChildren(e,t,n,i){let r=!1,o=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!o)return!1;let s=t;for(let l=t;l<n;++l){let c=o[l];e.has(c)||(c.sourceRowIndex!==s&&(c.sourceRowIndex=s,o[s]=c,r=!0),++s)}let a=i;for(let l=i;l>=n;--l){let c=o[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,o[a]=c,r=!0),--a)}for(let l of e)l.sourceRowIndex!==s&&(l.sourceRowIndex=s,o[s]=l,r=!0),++s;return r}},m8e=(e,t,n)=>t?V_(e,-1,n[0]):V_(e,1,ai(n)),V_=(e,t,n)=>{if(n){let i=e.getRowCount(),r=n.rowIndex+t;for(;r>=0&&r<i;){let o=e.getRow(r);if(!o||!o.footer)return o;r+=t}}},v8e=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},C8e=(e,t)=>{for(let n=0,i=e.length;n<i;++n)if(e[n].parent!==t)return!1;return!0},ete=e=>{let t=_ie(e);return t!==void 0?t.sourceRowIndex:-1},_ie=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;let t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},w8e=class extends _e{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){let n=t.createManagedBean(new g8e(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,o){return new h8e(e,t,n,i,r,o)}createRowDragCompForRow(e,t){if(dh(this.gos))return;let n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,o){let s=this.gos;return s.get("rowDragManaged")&&(!fo(s)||s.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,o)}},y8e=class extends _e{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){let e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){let e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){let n=e!==this.row,i=e.uiLevel,r=t!==this.position,o=i!==this.uiLevel;(n||r||o)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},xie={moduleName:"Drag",version:ct,beans:[vNe]},b8e={moduleName:"DragAndDrop",version:ct,dynamicBeans:{dndSourceComp:r8e},icons:{rowDrag:"grip"}},Sie={moduleName:"SharedDragAndDrop",version:ct,beans:[mNe],dependsOn:[xie],userComponents:{agDragAndDropImage:q4e},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},_8e={moduleName:"RowDrag",version:ct,beans:[y8e,w8e],apiFunctions:{addRowDropZone:o8e,removeRowDropZone:s8e,getRowDropZoneParams:a8e,getRowDropPositionIndicator:l8e,setRowDropPositionIndicator:c8e},dependsOn:[Sie]},x8e={moduleName:"HorizontalResize",version:ct,beans:[d8e],dependsOn:[xie]},S8e=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",E8e=class extends _e{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}let r=o=>{for(;o.length;){let s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function D8e(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function R8e(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var T8e=class extends _e{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function I8e(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{let o=e.indexOf(i),s=e.indexOf(r);return o-s})}function Eie(e){let{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:c,visibleCols:d}=e,{allMovingColumns:h}=e;if(t){let I=[];h.forEach(F=>{let T=null,P=F.getParent();for(;P!=null&&P.getDisplayedLeafColumns().length===1;)T=P,P=P.getParent();T!=null?(!!T.getColGroupDef()?.marryChildren?T.getProvidedColumnGroup().getLeafColumns():T.getLeafColumns()).forEach(W=>{I.includes(W)||I.push(W)}):I.includes(F)||I.push(F)}),h=I}let f=h.slice();I8e(l.getCols(),f);let g=k8e({movingCols:f,draggingRight:n,xPosition:i,pinned:s,gos:a,colModel:l,visibleCols:d}),m=M8e(f,l);if(g.length===0)return;let v=g[0],C=m!==null&&!r;if(t&&(C=m!==null),C&&!o&&(!n&&v>=m||n&&v<=m))return;let y=d.allCols,x=[],_=null;for(let I=0;I<g.length;I++){let F=g[I],T=c.getProposedColumnOrder(f,F);if(!c.doesOrderPassRules(T))continue;let P=T.filter(U=>y.includes(U));if(_===null)_=P;else if(!rm(P,_))break;let L=F8e(T);x.push({move:F,fragCount:L})}if(x.length===0)return;x.sort((I,F)=>I.fragCount-F.fragCount);let R=x[0].move;if(!(R>l.getCols().length-h.length))return{columns:h,toIndex:R}}function Die(e){let{columns:t,toIndex:n}=Eie(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function M8e(e,t){let n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),r=i[0];return ai(i)-r!==i.length-1?null:r}function F8e(e){function t(i){let r=[],o=i.getOriginalParent();for(;o!=null;)r.push(o),o=o.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),o=t(e[i+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach(s=>{o.indexOf(s)===-1&&n++})}return n}function A8e(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function k8e(e){let{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(_=>_.getColDef().suppressMovable))return[];let c=A8e(a,r),d=s.getCols(),h=c.filter(_=>t.includes(_)),f=c.filter(_=>!t.includes(_)),g=d.filter(_=>!t.includes(_)),m=0,v=i;if(n){let _=0;h.forEach(R=>_+=R.getActualWidth()),v-=_}if(v>0){for(let _=0;_<f.length;_++){let R=f[_];if(v-=R.getActualWidth(),v<0)break;m++}n&&m++}let C;if(m>0){let _=f[m-1];C=g.indexOf(_)+1}else C=g.indexOf(f[0]),C===-1&&(C=0);let y=[C],x=(_,R)=>_-R;if(n){let _=C+1,R=d.length-1;for(;_<=R;)y.push(_),_++;y.sort(x)}else{let _=C,R=d.length-1,I=d[_];for(;_<=R&&c.indexOf(I)<0;)_++,y.push(_),I=d[_];_=C-1;let F=0;for(;_>=F;)y.push(_),_--;y.sort(x).reverse()}return y}function iB(e){let{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:o,skipScrollPadding:s}=e,a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function _8(e,t){for(let n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var tte=7,rB=100,B2=rB/2,P8e=5,O8e=100,L8e=class extends _e{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!nt(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(let r of i){let o=r.getPinned();if(r.getColDef().lockPinned){if(o==e)return"move";continue}let s=n?.containerType;if(s===e||!e)return"move";if(e&&(!o||s!==e))return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{let r=t.visibleState,o=(n||[]).filter(s=>r[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){let{gos:r,ctrlsSvc:o}=this.beans,s=r.get("suppressMoveWhenColumnDragging");if(i&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Hi(e.hDirection))return;let a=iB({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;let i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){let{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;let t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){let o=this.getAllMovingColumns(e,!0);if(r){let s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){let o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:i,fromLeft:s,fromEnter:t,fakeEvent:n}),c=Die(De(V({},l),{finished:r}));c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let n=e.dragSource.getDragItem(),i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;let r=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:c,visibleCols:d}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:c,visibleCols:d}}highlightHoveredColumn(e,t){let{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),o=i.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned),s=null,a=null,l=null;for(let d of o){if(a=d.getActualWidth(),s=this.getNormalisedColumnLeft(d,0,r),s!=null){let h=s+a;if(s<=t&&h>=t){l=d;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){let h=o[d],f=o[d].getParent();if(!f){l=h;break}let g=f?.getDisplayedLeafColumns();if(g.length){l=ai(g);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let c;t-s<a/2!==r?c=0:c=1,nte(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){let{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!o||!s||a==null)return;let l=i.allCols,c=l.indexOf(o),d=l.indexOf(s),h=a===0!==r,f=c<d||c===d&&!h,g=0;if(h?f&&(g-=1):f||(g+=1),d+g===c)return;let m=l[d+g];if(!m)return;let v=this.getNormalisedColumnLeft(m,20,r);return{fromLeft:f,xPosition:v}}getColumnMoveAndTargetInfo(e,t,n){let i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:o}=N8e(e);if(!r||!o||i.column||!t)return V({firstMovingCol:r},i);let a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){let{gos:i,ctrlsSvc:r}=this.beans,o=e.getLeft();if(o==null)return null;let s=e.getActualWidth();return iB({x:n?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>tte;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=Eie(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(nte(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth(),r,o;this.gos.get("enableRtl")?(r=e<n+B2,o=e>i-B2):(o=e<n+B2,r=e>i-B2),this.needToMoveRight=r,this.needToMoveLeft=o,o||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),O8e),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*P8e,e>rB&&(e=rB);let t=null,n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:i,dragAndDrop:r,gos:o}=this.beans;if(this.failedMoveAttempts<=tte+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!o.get("suppressMoveWhenColumnDragging")){let s=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){let i=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());let{pinnedCols:r,dragAndDrop:o}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&o.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function nte(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function N8e(e){let t=e.length,n,i;for(let r=0;r<t;r++){if(!n){let o=e[r];o.getLeft()!=null&&(n=o)}if(!i){let o=e[t-1-r];o.getLeft()!=null&&(i=o)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var B8e=class extends _e{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r,o=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[o,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[o,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[o,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new L8e(n)),this.bodyDropPivotTarget=this.createManagedBean(new T8e(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},V8e=class extends _e{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){let i=this.beans.colModel.getCols();if(!i)return;let r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){let{colModel:r,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){je(30,{toIndex:t});return}o?.start();let c=r.getColsForKeys(e);this.doesMovePassRules(c,t)&&(Tee(r.getCols(),c,t),s.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:i,source:n})),o?.finish()}doesMovePassRules(e,t){let n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){let{colModel:t,gos:n}=this.beans;return!(!yne(e,t.getColTree())||!(r=>{let o=c=>c?c==="left"||c===!0?-1:1:0,s=n.get("enableRtl"),a=s?1:-1,l=!0;return r.forEach(c=>{let d=o(c.getColDef().lockPosition);s?d>a&&(l=!1):d<a&&(l=!1),a=d}),l})(e))}getProposedColumnOrder(e,t){let i=this.beans.colModel.getCols().slice();return Tee(i,e,t),i}createBodyDropTarget(e,t){return new B8e(e,t)}moveHeader(e,t,n,i,r){let{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:c}=this.beans,d=t.getBoundingClientRect(),h=d.left,f=gr(n),g=f?d.width:n.getActualWidth(),m=e==="left"!==s.get("enableRtl"),v=iB({x:m?h-20:h+g+20,pinned:i,fromKeyboard:!0,gos:s,ctrlsSvc:o}),C=c.focusedHeader;Die({allMovingColumns:f?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:v,pinned:i,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let y;if(f){let x=n.getDisplayedLeafColumns();y=m?x[0]:ai(x)}else y=n;if(o.getScrollFeature().ensureColumnVisible(y,"auto"),(!r.isAlive()||s.get("ensureDomOrder"))&&C){let x;if(f){let _=n.getGroupId(),R=n.getLeafColumns();if(!R.length)return;let I=R[0].getParent();if(!I)return;x=H8e(I,_)}else x=n;x&&c.focusHeaderPosition({headerPosition:De(V({},C),{column:x})})}}setDragSourceForHeader(e,t,n){let{gos:i,colModel:r,dragAndDrop:o,visibleCols:s}=this.beans,a=!i.get("suppressDragLeaveHidesColumns"),l=gr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],h={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>z8e(t,s.allCols):()=>G8e(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),_8(c,!0)},onDragStopped:()=>_8(c,!1),onDragCancelled:()=>_8(c,!1),onGridEnter:f=>{if(a){let{columns:g=[],visibleState:m}=f??{},v=l?y=>!m||m[y.getColId()]:()=>!0,C=g.filter(y=>!y.getColDef().lockVisible&&v(y));r.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:f=>{if(a){let g=f?.columns?.filter(m=>!m.getColDef().lockVisible)||[];r.setColsVisible(g,!1,"uiColumnMoved")}}};return o.addDragSource(h,!0),h}};function H8e(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function G8e(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function z8e(e,t){let n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());let r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),Xl(n,a))}),n.forEach(a=>r.push(a));let o=[],s=e.getLeafColumns();for(let a of r)s.indexOf(a)!==-1&&o.push(a);return{columns:r,columnsInSplit:o,visibleState:i,containerType:o[0]?.pinned}}var U8e={moduleName:"ColumnMove",version:ct,beans:[V8e,E8e],apiFunctions:{moveColumnByIndex:D8e,moveColumns:R8e},dependsOn:[Sie],css:[S8e]},W8e=class extends _e{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let n=document.createElement("form");n.style.position="fixed";let i=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,n)),i.appendChild(n);let r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{let i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){let n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";let i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){let c=s.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}s=s.parentElement}i.appendChild(n),t.appendChild(i)}},Rie={moduleName:"AutoWidth",version:ct,beans:[W8e]};function j8e(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var $8e=class extends _e{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){let i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){let t=l=>l.reduce((c,d)=>c+d.getActualWidth(),0),n=(l,c)=>l.map(d=>d.getActualWidth()/c),i=this.getColumnsToResize(),r=t(i),o=n(i,r),s={columnsToResize:i,resizeStartWidth:r,resizeRatios:o},a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){let l=a.getDisplayedLeafColumns(),c=s.groupAfterColumns=l.filter(h=>h.isResizable()),d=s.groupAfterStartWidth=t(c);s.groupAfterRatios=n(c,d)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){let{columnsToResize:r,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:r,ratios:s,width:t}),a){let h=t-o;d.push({columns:a,ratios:c,width:l-h})}this.beans.colResize?.resizeColumnSets({resizeSets:d,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},q8e=class extends _e{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){let e=[],t,n,i=()=>{if(Ki(this.eResize,t),!t)return;let{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(s=>s()),e.length=0},o=()=>{let s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==n)&&(t=s,n=a,r(),i())};o(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){let{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:o}=this,s=this.normaliseResizeAmount(t),a=r+s,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:d,colResize:h}=o;if(this.column.getPinned()){let f=c?.leftWidth??0,g=c?.rightWidth??0,m=j_(d.getGridBodyCtrl().eBodyViewport)-50;if(f+g+(s-i)>m)return}this.lastResizeAmount=s,h?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},K8e=class extends _e{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){let r=[],{colModel:o,gos:s,visibleCols:a}=this.beans;e.forEach(l=>{let c=o.getColDefCol(l.key)||o.getCol(l.key);if(!c)return;if(r.push({width:l.newWidth,ratios:[1],columns:[c]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){let h=a.getColAfter(c);if(!h)return;let f=c.getActualWidth()-l.newWidth,g=h.getActualWidth()+f;r.push({width:g,ratios:[1],columns:[h]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){let{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(d=>X8e(d)))){if(n){let d=t&&t.length>0?t[0].columns:null;xC(this.eventSvc,d,n,i)}return}let o=[],s=[];t.forEach(d=>{let{width:h,columns:f,ratios:g}=d,m={},v={};f.forEach(x=>s.push(x));let C=!0,y=0;for(;C;){if(y++,y>1e3){li(31);break}C=!1;let x=[],_=0,R=h;f.forEach((F,T)=>{if(v[F.getId()])R-=m[F.getId()];else{x.push(F);let L=g[T];_+=L}});let I=1/_;x.forEach((F,T)=>{let P=T===x.length-1,L;P?L=R:(L=Math.round(g[T]*h*I),R-=L);let U=F.getMinWidth(),W=F.getMaxWidth();L<U?(L=U,v[F.getId()]=!0,C=!0):W>0&&L>W&&(L=W,v[F.getId()]=!0,C=!0),m[F.getId()]=L})}f.forEach(x=>{let _=m[x.getId()];x.getActualWidth()!==_&&(x.setActualWidth(_,i),o.push(x))})});let a=o.length>0,l=[];if(a){let{colFlex:d,visibleCols:h,colViewport:f}=this.beans;l=d?.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0})??[],h.setLeftValues(i),h.updateBodyWidths(),f.checkViewportColumns()}let c=s.concat(l);(a||n)&&xC(this.eventSvc,c,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;let i=e.getActualWidth(),r=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(i+t,r),o);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new q8e(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new $8e(e,t,n,i)}};function X8e(e){let{columns:t,width:n}=e,i=0,r=0,o=!0;t.forEach(l=>{let c=l.getMinWidth();i+=c||0;let d=l.getMaxWidth();d>0?r+=d:o=!1});let s=n>=i,a=!o||n<=r;return s&&a}var Y8e={moduleName:"ColumnResize",version:ct,beans:[K8e],apiFunctions:{setColumnWidths:j8e},dependsOn:[x8e,Rie]},Z8e=class extends _e{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},Q8e=class extends BB{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){let{column:o,beans:s}=this,{context:a,colNames:l,colHover:c,rangeSvc:d,colResize:h}=s;this.comp=e,r=ix(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let f=this.rowCtrl.pinned,g=o.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(r,g,t),d?.createRangeHighlightFeature(r,o,e),r.createManagedBean(new NB(o,t,s)),r.createManagedBean(new Z8e(e,o)),h?this.resizeFeature=r.createManagedBean(h.createGroupResizeFeature(e,n,f,o)):e.setResizableDisplayed(!1),r.createManagedBean(new TC(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,g),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.getDefinition();return Rt(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=ai(t)===e;if(!n&&!i)return;let r=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving()),s=!1,a=!1;if(o){let l=this.beans.gos.get("enableRtl"),c=r===1,d=r===0;n&&(l?a=c:s=d),i&&(l?s=d:a=c)}this.comp.toggleCss("ag-header-highlight-before",s),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){let{resizeFeature:n}=this;if(!n)return;let i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,r=this.column,o=r.getProvidedColumnGroup(),s=Rt(n,{displayName:this.displayName,columnGroup:r,setExpanded:l=>{e.setColumnGroupOpened(o,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>i?.showMenuAfterButtonClick(o,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>i?.showMenuAfterMouseEvent(o,l,"columnMenu",c),eGridHeader:this.eGui}),a=lLe(t,s);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),n=Une(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.toggleCss(i,!0))}setupMovingCss(e){let{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());i.forEach(o=>{e.addManagedListeners(o,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===me.ENTER){let n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function J8e(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function eBe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function tBe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function nBe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function iBe(e){return e.colGroupSvc?.getColumnGroupState()??[]}function rBe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function oBe(e){e.colGroupSvc?.resetColumnGroupState("api")}function sBe(e){return e.visibleCols.treeLeft}function aBe(e){return e.visibleCols.treeCenter}function lBe(e){return e.visibleCols.treeRight}function cBe(e){return e.visibleCols.getAllTrees()}function dBe(e,t){for(let n=0;n<t.length;n++){let i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var uBe=class extends _e{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colFlex:n,colModel:i,colGroupSvc:r,colViewport:o,selectionColSvc:s}=this.beans;t||this.buildTrees(i,r),r?.updateOpenClosedVisibility(),this.leftCols=x8(this.treeLeft),this.centerCols=x8(this.treeCenter),this.rightCols=x8(this.treeRight),s?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),o.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){let e=oh(this.centerCols),t=oh(this.leftCols),n=oh(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,o;this.gos.get("enableRtl")?(r=t?t[0]:null,o=n?ai(n):null):(r=t?ai(t):null,o=n?n[0]:null),e.getCols().forEach(s=>{s.setLastLeftPinned(s===r,i),s.setFirstRightPinned(s===o,i)})}buildTrees(e,t){let n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),o=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new Ene,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),n=[],i=[],r=[];for(let o of t){let s=o.getPinned();s?s===!0||s==="left"?n.push(o):r.push(o):i.push(o)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return gr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{gr(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(r){let s=oh(o);o.forEach(a=>{s-=a.getActualWidth(),a.setLeft(s,e)})}else{let s=0;o.forEach(a=>{a.setLeft(s,e),s+=a.getActualWidth()})}dBe(i,o)}),i.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){let r=[],o=null;for(let s=0;s<t.length;s++){let a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){let f=c-1;for(let g=1;g<=f;g++)d.push(t[s+g]);s+=f}let h;n?(h=!1,d.forEach(f=>{n(f)&&(h=!0)})):h=!0,h&&(r.length===0&&o&&(i&&i(a))&&r.push(o),r.push(a)),o=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Yg(this.treeCenter,!1,e),Yg(this.treeLeft,!1,e),Yg(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){let i=this[t[n]];if(i.length)return e?ai(i):i[0]}return null}getColAfter(e){let t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return oh(this.leftCols)}getDisplayedColumnsRightWidth(){return oh(this.rightCols)}isColAtEdge(e,t){let n=this.allCols;if(!n.length)return!1;let i=t==="first",r;if(gr(e)){let o=e.getDisplayedLeafColumns();if(!o.length)return!1;r=i?o[0]:ai(o)}else r=e;return(i?n[0]:ai(n))===r}};function Yg(e,t,n){if(e)for(let i=0;i<e.length;i++){let r=e[i];if(gr(r)){let o=t?r.getDisplayedChildren():r.getChildren();Yg(o,t,n)}n(r)}}function x8(e){let t=[];return Yg(e,!0,n=>{uh(n)&&t.push(n)}),t}var hBe=class extends _e{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return ch(null,t,n=>{Ts(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let n=[];ch(null,t,i=>{if(Ts(i)){let r=i.getColGroupDef(),o={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){let{colModel:n,colAnimation:i,visibleCols:r,eventSvc:o}=this.beans;if(!n.getColTree().length)return;i?.start();let a=[];e.forEach(l=>{let c=l.groupId,d=l.open,h=this.getProvidedColGroup(c);h&&h.isExpanded()!==d&&(h.setExpanded(d),a.push(h))}),r.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i?.finish()}setColumnGroupOpened(e,t,n){let i;Ts(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return ch(null,this.beans.colModel.getColTree(),n=>{Ts(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?ai(i):i[0],o=`getCol${t}`;for(;;){let s=this.beans.visibleCols[o](r);if(!s)return null;let a=this.getColGroupAtLevel(s,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();Yg(e,!1,t=>{gr(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(gr(e))return e;let n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number",r=null;return Yg(n,!1,o=>{if(gr(o)){let s=o,a;i?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(r=s)}}),r}createColumnGroups(e){let{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(r),a=[],l=t;for(;l.length;){let c=l;l=[];let d=0,h=f=>{let g=d;d=f;let m=c[g],C=(gr(m)?m.getProvidedColumnGroup():m).getOriginalParent();if(C==null){for(let x=g;x<f;x++)a.push(c[x]);return}let y=this.createColumnGroup(C,n,s,i,o);for(let x=g;x<f;x++)y.addChild(c[x]);l.push(y)};for(let f=1;f<c.length;f++){let g=c[f],v=(gr(g)?g.getProvidedColumnGroup():g).getOriginalParent(),C=c[d],x=(gr(C)?C.getProvidedColumnGroup():C).getOriginalParent();v!==x&&h(f)}d<c.length&&h(c.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,o,s){let a=r.getUniqueKey(t.groupId||null,null),l=Ree(this.beans,t,a),c=new $2(l,a,!1,n);this.createBean(c);let d=this.findExistingGroup(t,o);d&&o.splice(d.idx,1);let h=d?.group;h&&c.setExpanded(h.isExpanded());let f=vne(this.beans,l.children,n+1,e,i,r,o,s);return c.setChildren(f),c}balanceColumnTree(e,t,n,i){let r=[];for(let o=0;o<e.length;o++){let s=e[o];if(Ts(s)){let a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let c=n-1;c>=t;c--){let d=i.getUniqueKey(null,null),h=Ree(this.beans,null,d),f=new $2(h,d,!0,t);this.createBean(f),l&&l.setChildren([f]),l=f,a||(a=l)}if(a&&l)if(r.push(a),e.some(d=>Ts(d))){l.setChildren([s]);continue}else{l.setChildren(e);break}r.push(s)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Ts(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){let r=e[i];if(Ts(r)){let o=r,s=this.findMaxDepth(o.getChildren(),t+1);n<s&&(n=s)}}return n}balanceTreeForAutoCols(e,t){let n=[];return e.forEach(i=>{let r=i;for(let o=t-1;o>=0;o--){let s=new $2(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([r]),r.originalParent=s,r=s}t===0&&(i.originalParent=null),n.push(r)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){let r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){let o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=Zne(o,s),l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),nt(l)?l.reset():(l=new Qne(e,o,s,i),r||this.createBean(l)),l}mapOldGroupsById(e){let t={},n=i=>{i.forEach(r=>{if(gr(r)){let o=r;t[r.getUniqueId()]=o,n(o.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,gr(n)){let i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},fBe={moduleName:"ColumnGroup",version:ct,dynamicBeans:{headerGroupCellCtrl:Q8e},beans:[hBe],apiFunctions:{getAllDisplayedColumnGroups:cBe,getCenterDisplayedColumnGroups:aBe,getColumnGroup:eBe,getColumnGroupState:iBe,getDisplayNameForColumnGroup:nBe,getLeftDisplayedColumnGroups:sBe,getProvidedColumnGroup:tBe,getRightDisplayedColumnGroups:lBe,resetColumnGroupState:oBe,setColumnGroupOpened:J8e,setColumnGroupState:rBe}},pBe={tag:"div",cls:"ag-skeleton-container"},gBe=class extends Gn{constructor(){super(pBe)}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>U_(e.eParentOfValue)),U_(e.eParentOfValue,t),e.deferRender?this.setupLoading(e):e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.getLocaleTextFunc();this.getGui().textContent=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");bC(this.getGui(),t)}setupLoading(e){let t=ki({tag:"div",cls:"ag-skeleton-effect"}),n=e.node.rowIndex;if(n!=null){let o=75+25*(n%2===0?Math.sin(n):Math.cos(n));t.style.width=`${o}%`}this.getGui().appendChild(t);let i=this.getLocaleTextFunc(),r=e.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");bC(this.getGui(),r)}refresh(e){return!1}},mBe={moduleName:"CheckboxCellRenderer",version:ct,userComponents:{agCheckboxCellRenderer:J4e}},vBe={moduleName:"SkeletonCellRenderer",version:ct,userComponents:{agSkeletonCellRenderer:gBe}};function CBe(e,t){let n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function wBe(e){return e.colModel.getColumnDefs()}function yBe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function bBe(e,t){return e.colModel.getColDefCol(t)}function _Be(e){return e.colModel.getColDefCols()}function xBe(e,t){return Ac(e,t,"api")}function SBe(e){return lI(e)}function EBe(e){POe(e,"api")}function DBe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function RBe(e){return e.visibleCols.isPinningLeft()}function TBe(e){return e.visibleCols.isPinningRight()}function IBe(e,t){return e.visibleCols.getColAfter(t)}function MBe(e,t){return e.visibleCols.getColBefore(t)}function FBe(e,t,n){e.colModel.setColsVisible(t,n,"api")}function ABe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function kBe(e){return e.colModel.getCols()}function PBe(e){return e.visibleCols.leftCols}function OBe(e){return e.visibleCols.centerCols}function LBe(e){return e.visibleCols.rightCols}function NBe(e){return e.visibleCols.allCols}function BBe(e){return e.colViewport.getViewportColumns()}function oB(e,t){if(!e)return;let n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||Ete.has(r))return;let o=n[r];typeof o=="object"&&o!==null&&o.constructor===Object?i[r]=oB(o):i[r]=o}),i}var VBe=class extends _e{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){let r=e.slice();t?r.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&r.sort((a,l)=>i.indexOf(a)-i.indexOf(l));let o=this.rowGroupColsSvc?.columns,s=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,o,s)}buildColumnDefs(e,t=[],n=[]){let i=[],r={};return e.forEach(o=>{let s=this.createDefFromColumn(o,t,n),a=!0,l=s,c=o.getOriginalParent(),d=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}let f=r[c.getGroupId()];if(f){f.children.push(l),a=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[l],r[h.groupId]=h,l=h,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&i.push(l)}),i}createDefFromGroup(e){let t=oB(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){let i=oB(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},HBe=class extends _e{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let n=this.flexViewportWidth;if(!n)return[];let{visibleCols:i}=this.beans,r=i.centerCols,o=-1;if(e.resizingCols){let m=new Set(e.resizingCols);for(let v=r.length-1;v>=0;v--)if(m.has(r[v])){o=v;break}}let s=!1,a=r.map((m,v)=>{let C=m.getFlex(),y=C!=null&&C>0&&v>o;return s||(s=y),{col:m,isFlex:y,flex:Math.max(0,C??0),initialSize:m.getActualWidth(),min:m.getMinWidth(),max:m.getMaxWidth(),targetSize:0}});if(!s)return[];let l=a.length,c=a.reduce((m,v)=>m+v.flex,0),d=n,h=(m,v)=>{m.frozenSize=v,m.col.setActualWidth(v,t),d-=v,c-=m.flex,l-=1},f=m=>m.frozenSize!=null;for(let m of a)m.isFlex||h(m,m.initialSize);for(;l>0;){let m=Math.round(c<1?d*c:d),v,C=0,y=0;for(let R of a){if(f(R))continue;v=R,y+=m*(R.flex/c);let I=y-C,F=Math.round(I);R.targetSize=F,C+=F}v&&(v.targetSize+=m-C);let x=0;for(let R of a){if(f(R))continue;let I=R.targetSize,F=Math.min(Math.max(I,R.min),R.max);x+=F-I,R.violationType=F===I?void 0:F<I?"max":"min",R.targetSize=F}let _=x===0?"all":x>0?"min":"max";for(let R of a)f(R)||(_==="all"||R.violationType===_)&&h(R,R.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();let g=a.filter(m=>m.isFlex&&!m.violationType).map(m=>m.col);if(e.fireResizedEvent){let m=a.filter(C=>C.initialSize!==C.frozenSize).map(C=>C.col),v=a.filter(C=>C.flex).map(C=>C.col);xC(this.eventSvc,m,!0,t,v)}return g}initCol(e){let{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},GBe=["dateTimeString","dateString","text","number","boolean","date"],zBe=class extends _e{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===me.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,r)=>{let o=t.getColDefCol(n),s=o?.getColDef();if(!o||!s)return 0;let a=i==null?"":e({column:o,node:null,value:i}),l=r==null?"":e({column:o,node:null,value:r});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={},n={},i=d=>h=>{let{column:f,node:g,value:m}=h,v=f.getColDef().valueFormatter;return v===d.groupSafeValueFormatter&&(v=d.valueFormatter),this.beans.valueSvc.formatValue(f,g,m,v)};for(let d of Object.keys(e)){let h=e[d],f=De(V({},h),{groupSafeValueFormatter:ote(h,this.gos)});t[d]=f,n[d]=i(f)}let r=this.gos.get("dataTypeDefinitions")??{},o={};for(let d of Object.keys(r)){let h=r[d],f=this.processDataTypeDefinition(h,r,[d],e);f&&(t[d]=f,h.dataTypeMatcher&&(o[d]=h.dataTypeMatcher),n[d]=i(f))}let{valueParser:s,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==s,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){let n=V({},e);for(let i of GBe)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let r,o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=i[o],a=t[o];if(s&&a&&(s=a),!rte(e,s,o))return;r=ite(s,e)}else{if(n.includes(o)){je(44);return}let s=t[o];if(!rte(e,s,o))return;let a=this.processDataTypeDefinition(s,t,[...n,o],i);if(!a)return;r=ite(a,e)}return De(V({},r),{groupSafeValueFormatter:ote(r,this.gos)})}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t,{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}let o=this.dataTypeDefinitions[i];if(!o){je(47,{cellDataType:i});return}return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){let{gos:n}=this;if(!fo(n))return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(S8(t,i))return!1;let r=t.type===null?e.type:t.type;if(r){let o=n.get("columnTypes")??{};if(aI(r).some(a=>{let l=o[a.trim()];return l&&S8(l,i)}))return!1}return!S8(e,i)}inferCellDataType(e,t){if(!e)return;let n,i=this.getInitialData();if(i){let o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=L_(i,e,o)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(o=>this.dataTypeMatchers[o](n))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);let[r]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:s}=o;s&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let i={},r={};for(let o of Object.keys(this.columnStateUpdatesPendingInference)){let s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;let l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let d=WBe(a,s);d.rowGroup&&d.rowGroupIndex==null&&(i[o]=d),d.pivot&&d.pivotIndex==null&&(r[o]=d),n.push(d)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&Ac(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){let n=e.getUserProvidedColDef();if(!n)return!1;let i=W8(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){let t=n=>je(48,{property:n});if(e.cellDataType==="object"){let{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){let t=e.cellDataType;if(!t)return;let{dataTypeDefinitions:n,beans:i,formatValueFuncs:r}=this,o=n[t];i.colFilter?.setColDefPropsForDataType(e,o,r[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){let r=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:r});Object.assign(e,o)}getDateObjectTypeDef(e){let t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>ka(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):il(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){let t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>ka(n)??void 0,dateFormatter:n=>il(n??null,t)??void 0,valueParser:n=>K2(String(n.newValue))?n.newValue:null,valueFormatter:n=>K2(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&K2(n)}}getDefaultDataTypes(){let e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:k8(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:De(V({},this.getDateStringTypeDef("dateTimeString")),{dataTypeMatcher:t=>typeof t=="string"&&FNe(t)}),object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>k8(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function ite(e,t){let n=V(V({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...aI(e.columnTypes),...aI(t.columnTypes)]),n}function rte(e,t,n){return t?t.baseDataType!==e.baseDataType?(je(46),!1):!0:(je(45,{parentCellDataType:n}),!1)}function ote(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){let i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(De(V({},n),{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(De(V({},n),{value:n.value.value}))}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function UBe(e,t,n,i){if(!t[n])return!1;let r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function S8(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>UBe(e,t,n,i))}function WBe(e,t){let n=Sne(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var jBe={moduleName:"DataType",version:ct,beans:[zBe],dependsOn:[mBe]},$Be={moduleName:"ColumnFlex",version:ct,beans:[HBe]},qBe={moduleName:"ColumnApi",version:ct,beans:[VBe],apiFunctions:{getColumnDef:CBe,getDisplayNameForColumn:yBe,getColumn:bBe,getColumns:_Be,applyColumnState:xBe,getColumnState:SBe,resetColumnState:EBe,isPinning:DBe,isPinningLeft:RBe,isPinningRight:TBe,getDisplayedColAfter:IBe,getDisplayedColBefore:MBe,setColumnsVisible:FBe,setColumnsPinned:ABe,getAllGridColumns:kBe,getDisplayedLeftColumns:PBe,getDisplayedCenterColumns:OBe,getDisplayedRightColumns:LBe,getAllDisplayedColumns:NBe,getAllDisplayedVirtualColumns:BBe,getColumnDefs:wBe}};function KBe(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var XBe=class extends _e{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;let i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){let i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){let o=e.headerValueGetter;if(o){let s=Rt(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof o=="function"?o(s):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,s)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return KBe(e.field)}return""}},YBe=class extends _e{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){let{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let s=i.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||ZBe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,o=t<i&&n<i,s=t>r&&n>r;return!o&&!s}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=o=>{let s=o.getLeft();return nt(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);let a=(l,c,d)=>{let h=!1;for(let f=0;f<l.length;f++){let g=l[f],m=!1;if(uh(g))m=e[g.getId()]===!0;else{let C=g.getDisplayedChildren();C&&(m=a(C,c,d+1))}m&&(h=!0,c[d]||(c[d]=[]),c[d].push(g))}return h};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function ZBe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var QBe=class extends _e{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){let o=t(r),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=CB("<span>"+o+"</span>");return}if(o==null){this.eGui=ki({tag:"span"});return}this.eGui=o}}return n}},JBe={moduleName:"CellRendererFunction",version:ct,beans:[QBe]},e5e=class extends _e{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){let o=(s,a,l,c)=>{this.agGridDefaults[s]=a,(l||c)&&(this.agGridDefaultOverrides[s]={params:l,processParams:c})};for(let s of Object.keys(n)){let a=n[s];if(ILe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){let{classImp:l,params:c,processParams:d}=a;o(s,l,c,d)}else o(s,a)}}if(i){this.dynamicBeans??(this.dynamicBeans={});for(let o of Object.keys(i))this.dynamicBeans[o]=i[o]}if(r?.forEach(o=>{this.selectors[o.selector]=o}),t)for(let o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){let n=(a,l,c,d)=>({componentFromFramework:l,component:a,params:c,processParams:d}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);let o=this.jsComps[t];if(o){let a=i.isFrameworkComponent(o);return n(o,a)}let s=this.agGridDefaults[t];if(s){let a=this.agGridDefaultOverrides[t];return n(s,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(zd(279,{name:e}));let i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??zd(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},t5e=23,n5e=class extends _e{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===t5e&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},i5e=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&.invalid{box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',jB=typeof window!="object"||!window?.document?.fonts?.forEach,EC=(e,t,n,i,r,o)=>{if(jB||aB)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let s=wC.map.get(t);if(s||(s=[],wC.map.set(t,s)),s.find(d=>d.css===e))return;let a=document.createElement("style");o&&a.setAttribute("nonce",o),a.dataset.agGlobalCss=n,a.textContent=e;let l={css:e,el:a,priority:r},c;for(let d of s){if(d.priority>r)break;c=d}if(c){c.el.insertAdjacentElement("afterend",a);let d=s.indexOf(c);s.splice(d+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},Tie=(e,t,n)=>{EC(i5e,e,"core",t,0,n),Array.from(ELe()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>i.css?.forEach(r=>EC(r,e,`module-${i.moduleName}`,t,0,n)))},r5e=e=>{wC.grids.add(e)},o5e=e=>{if(wC.grids.delete(e),wC.grids.size===0){wC.map=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},ste,wC=(ste=typeof window=="object"?window:{}).agStyleInjectionState??(ste.agStyleInjectionState={map:new WeakMap,grids:new Set}),Ud=e=>new Iie(e),$f="$default",s5e=0,Iie=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams=V({[$f]:V(V({},n[$f]??{}),t??{})},n)}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){let o=`ag-theme-${this.feature??"part"}-${++s5e}`;typeof r=="function"&&(r=r()),r=`:where(.${o}) {
${r}
}
`;for(let s of this.cssImports??[])r=`@import url(${JSON.stringify(s)});
${r}`;i={css:r,class:o}}else i=!1;this._inject=i}return i&&e&&EC(i.css,e,i.class,t,1,n),i?i.class:!1}},a5e=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),Mie=e=>`--ag-${a5e(e)}`,Wd=e=>`var(${Mie(e)})`,l5e=(e,t,n)=>Math.max(t,Math.min(n,e)),c5e=e=>{let t=new Map;return n=>{let i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Nd=e=>({ref:"accentColor",mix:e}),$l=e=>({ref:"foregroundColor",mix:e}),ql=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),d5e=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Aa={ref:"backgroundColor"},oC={ref:"foregroundColor"},sh={ref:"accentColor"},CI={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:$l(.15),chromeBackgroundColor:ql(.02),browserColorScheme:"light"},u5e=De(V({},CI),{textColor:oC,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Aa,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:sh,rangeSelectionBackgroundColor:Nd(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Nd(.5),rangeHeaderHighlightColor:d5e(.08),rowNumbersSelectedColor:Nd(.5),rowHoverColor:Nd(.08),columnHoverColor:Nd(.05),selectedRowBackgroundColor:Nd(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Aa,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Aa,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:$l(.7),focusShadow:{spread:3,color:Nd(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:$l(.1),iconButtonActiveColor:sh,iconButtonActiveBackgroundColor:Nd(.28),iconButtonActiveIndicatorColor:sh,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:sh,toggleButtonOffBackgroundColor:ql(.3),toggleButtonSwitchBackgroundColor:Aa,toggleButtonSwitchInset:2,menuBorder:{color:$l(.2)},menuBackgroundColor:ql(.03),menuTextColor:ql(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:$l(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:sh},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:$l(.2)},panelBackgroundColor:Aa,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:$l(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:$l(.13)},selectCellBackgroundColor:$l(.07),selectCellBorder:{color:$l(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Aa,filterPanelApplyButtonBackgroundColor:sh,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:oC,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:oC,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:$l(.15),statusBarLabelColor:oC,statusBarLabelFontWeight:500,statusBarValueColor:oC,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}}),h5e=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",Fie={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},f5e=De(V({},Fie),{cellBatchEditTextColor:"#f3d0b3"}),p5e=()=>Ud({feature:"batchEditStyle",params:Fie,css:h5e}),g5e=p5e(),m5e=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",v5e={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}};var C5e=()=>Ud({feature:"buttonStyle",params:De(V({},v5e),{buttonBackgroundColor:Aa,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:sh}}),css:m5e}),w5e=C5e();var y5e=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}";var b5e=()=>Ud({feature:"columnDropStyle",css:y5e}),Aie=b5e();var _5e=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],x5e=c5e(e=>(e=e.toLowerCase(),_5e.find(t=>e.endsWith(t.toLowerCase()))??"length")),RI=e=>typeof e=="object"&&e?.ref?Wd(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,$B=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Wd(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Wd(e.onto):"transparent"}, ${t} ${l5e(e.mix*100,0,100)}%)`}return!1},S5e=RI,lC=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Wd(n)} `)})`:e&&"ref"in e?Wd(e.ref):!1,E5e=RI,sB=(e,t)=>typeof e=="string"?e:e===!0?sB({},t):e===!1?t==="columnBorder"?sB({color:"transparent"},t):"none":e&&"ref"in e?Wd(e.ref):kie(e.style??"solid")+" "+lC(e.width??{ref:"borderWidth"})+" "+$B(e.color??{ref:"borderColor"}),D5e=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Wd(e.ref):[lC(e.offsetX??0),lC(e.offsetY??0),lC(e.radius??0),lC(e.spread??0),$B(e.color??{ref:"foregroundColor"})].join(" "),kie=RI,Pie=e=>typeof e=="string"?e.includes(",")?e:ate(e):e&&"googleFont"in e?Pie(e.googleFont):e&&"ref"in e?Wd(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),ate(t))).join(", "):!1,ate=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),R5e=RI,Oie=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?Oie({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Wd(e.ref):!1,T5e=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&li(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Wd(e.ref):!1,I5e={color:$B,colorScheme:S5e,length:lC,scale:E5e,border:sB,borderStyle:kie,shadow:D5e,image:Oie,fontFamily:Pie,fontWeight:R5e,duration:T5e},M5e=(e,t)=>{let n=x5e(e);return I5e[n](t,e)},aB=!1;var F5e=()=>new Lie().withPart(w5e).withPart(Aie).withPart(g5e),Lie=class Nie{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Iie?new Nie([...this.parts,t]):(P_(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Ud({feature:t}))}withParams(t,n=$f){return this.withPart(Ud({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(jB||aB)return;k5e(),Tie(t,n,i);let o=A5e(this);if(o.length>0)for(let s of o)r&&O5e(s,i);for(let s of this.parts)s.use(t,n,i)}_getCssClass(){return aB?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=lte(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let n={[$f]:V({},u5e)};for(let i of lte(this.parts))for(let r of Object.keys(i.modeParams)){let o=i.modeParams[r];if(o){let s=n[r]??(n[r]={}),a=new Set;for(let l of Object.keys(o)){let c=o[l];c!==void 0&&(s[l]=c,a.add(l))}if(r===$f)for(let l of Object.keys(n)){let c=n[l];if(l!==$f)for(let d of a)delete c[d]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){let n="##SELECTOR##",i=this._paramsCssCache;if(!i){let r="",o="",s=this._getModeParams();for(let l of Object.keys(s)){let c=s[l];if(l!==$f){let h=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=h,o+=h}for(let d of Object.keys(c).sort()){let h=c[d],f=M5e(d,h);if(f===!1)li(107,{key:d,value:h});else{let g=Mie(d),m=g.replace("--ag-","--ag-inherited-");r+=`	${g}: var(${m}, ${f});
`,o+=`	${m}: var(${g});
`}}l!==$f&&(r+=`}
`,o+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${o}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},lte=e=>{let t=new Map;for(let i of e)t.set(i.feature,i);let n=[];for(let i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},A5e=e=>{let t=new Set,n=o=>{if(Array.isArray(o))o.forEach(n);else{let s=o?.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(n),Array.from(t).sort()},cte=!1,k5e=()=>{if(!cte){cte=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},P5e=new Set,O5e=(e,t)=>Pr(void 0,null,function*(){P5e.add(e);let n=`@import url('https://${L5e}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;EC(n,document.head,`googleFont:${e}`,void 0,0,t)}),L5e="fonts.googleapis.com",N5e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',B5e=()=>Ud({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Aa,checkboxUncheckedBorderColor:ql(.3),checkboxCheckedBackgroundColor:sh,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Aa,checkboxIndeterminateBackgroundColor:ql(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Aa,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:N5e}),V5e=B5e();var Bie=()=>De(V(V({},CI),f5e),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ql(.05),rowHoverColor:Nd(.15),selectedRowBackgroundColor:Nd(.2),menuBackgroundColor:ql(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:oC,findMatchColor:Aa,findActiveMatchColor:Aa,checkboxUncheckedBorderColor:ql(.4),toggleButtonOffBackgroundColor:ql(.4),rowBatchEditBackgroundColor:ql(.1)});var H5e=()=>De(V({},Bie()),{backgroundColor:"#1f2836"});var G5e=()=>Ud({feature:"colorScheme",params:CI,modeParams:{light:CI,dark:Bie(),"dark-blue":H5e()}}),z5e=G5e();var Vie={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Hie={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},U5e=(e={})=>{let t="";for(let n of[...Object.keys(Vie),...Object.keys(Hie)]){let i=W5e(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},W5e=(e,t=1.5)=>{let n=Hie[e];if(n)return n;let i=Vie[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},j5e=(e={})=>Ud({feature:"iconSet",css:()=>U5e(e)});var $5e=j5e();var q5e=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',K5e=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}";var X5e={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}};var Y5e=()=>Ud({feature:"inputStyle",params:De(V({},X5e),{inputBackgroundColor:Aa,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:sh},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ql(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>q5e+K5e}),Z5e=Y5e();var Q5e='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}';var J5e={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};var eVe=()=>Ud({feature:"tabStyle",params:De(V({},J5e),{tabBarBorder:!0,tabBarBackgroundColor:$l(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Aa}),css:Q5e}),tVe=eVe();var nVe=()=>F5e().withPart(V5e).withPart(z5e).withPart($5e).withPart(tVe).withPart(Z5e).withPart(Aie).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),iVe=nVe();var rVe={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},oVe={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},sVe={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},dte={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},ute={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},hte={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},E8={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},fte={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},aVe=0,lVe=class extends _e{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++aVe}`,this.globalCSS=[]}wireBeans(e){let{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(dte),this.getSizeEl(ute),this.getSizeEl(hte),this.getSizeEl(E8),this.getSizeEl(fte),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>o5e(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(fte)}getRowBorderWidth(){return this.getCSSVariablePixelValue(E8)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(dte)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(ute)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(rVe)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(oVe),n=this.getCSSVariablePixelValue(sVe);return e-1+n*t}getCellPadding(){let e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(hte)}applyThemeClasses(e){let{gridTheme:t}=this,n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(let o of Array.from(i.classList))o.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${o}`:o);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(let i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){let i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?EC(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let n=t.offsetWidth;return n===D8?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=ki({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.getMeasurementContainer();t=ki({tag:"div"});let{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${D8}px)`)):t.style.width=`var(${e.cssName}, ${D8}px)`,n.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!r&&je(9,{variable:e});let s=tp(this.beans,t,()=>{let a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==o&&(o=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(E8);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme"),o;if(r==="legacy")o=void 0;else{let s=r??iVe;s instanceof Lie?o=s:li(240,{theme:s})}if(o!==i){if(o){r5e(this),Tie(this.eStyleContainer,this.cssLayer,this.styleNonce);for(let[a,l]of n)EC(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=o,o?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let s=this.eParamsStyle;if(!s){s=this.eParamsStyle=ki({tag:"style"});let a=this.gos.get("styleNonce");a&&s.setAttribute("nonce",a),t.appendChild(s)}jB||(s.textContent=o?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&li(r?106:239)}},D8=15538,cVe=class extends _e{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new Zg}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(Rt(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(Rt(this.gos,e))}};function Gie(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function lB(e,t){let n;if(gr(e)&&Gie(e)&&e.isPadding()){let i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}var dVe=class extends _e{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});let t=Ao(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n,{colModel:i,colGroupSvc:r,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;let a=o.getHeaderRowContainerCtrl()?.getAllCtrls(),l=ai(a||[]).type==="filter",c=Hd(this.beans)-1,d=-1,h=n;for(;h;)d++,h=h.getParent();let f=d;return t&&l&&f===c-1&&f++,f===-1?null:{headerRowIndex:f,column:n}}navigateVertically(e,t){let n=this.beans.focusSvc,i=n.focusedHeader;if(!i)return!1;let{headerRowIndex:r}=i,o=i.column,s=Hd(this.beans),a=e==="UP",l=this.getHeaderRowType(r),{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:h}=a?uVe(l,o,r):hVe(l,o,r),f=!1;return c<0&&(c=0,d=o,f=!0),c>=s?(c=-1,this.currentHeaderRowWithoutSpan=-1):h!==void 0&&(this.currentHeaderRowWithoutSpan=h),!f&&!d?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){let{focusSvc:i,gos:r}=this.beans,o=V({},i.focusedHeader),s,a;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a));let l=r.getCallback("tabToNextHeader");if(t&&l){let c=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(c){let{headerRowIndex:d}=i.focusedHeader||{};d!=null&&d!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=d)}return c}return s||!t?i.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,a,n)}focusNextHeaderRow(e,t,n){let i=e.headerRowIndex,r=null,o,s=this.beans;if(t==="Before"?i>0&&(o=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,this.currentHeaderRowWithoutSpan<Hd(s)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(o,"start")),!r)return!1;let{column:a,headerRowIndex:l}=lB(r.column,r?.headerRowIndex);return s.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(gr(e)){let i=e.getDisplayedLeafColumns();n=t==="Before"?ai(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i,{colGroupSvc:r,visibleCols:o}=this.beans;if(gr(e.column)?n=r?.getGroupAtDirection(e.column,t)??void 0:(i=`getCol${t}`,n=o[i](e.column)),!n)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){let c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[Math.max(0,c.length-1-s)]}let{column:a,headerRowIndex:l}=lB(n,s);return{column:a,headerRowIndex:l}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,o=n.allCols,s=o[t==="start"?0:o.length-1];if(!s)return;let l=i.getHeaderRowContainerCtrl(s.getPinned())?.getRowType(e);if(l=="group"){let c=r?.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:c}}return{headerRowIndex:l==null?-1:e,column:s}}};function uVe(e,t,n){let i=e==="filter",r=e==="column",o=i?t:t.getParent(),s=n-1,a=s;if(r&&Gie(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),s--;a=s,s<0&&(o=t,s=n,a=void 0)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:a}}function hVe(e,t,n,i="After"){let r=t,o=n+1,s=o;if(e==="group"){let a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:ai(a),c=[],d=l;for(;d.getParent()!==t;)d=d.getParent(),c.push(d);if(r=l,l.isSpanHeaderHeight())for(let h=c.length-1;h>=0;h--){let f=c[h];if(!f.isPadding()){r=f;break}o++}else r=ai(c),r||(r=l)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:s}}var fVe=class extends _e{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(ZLe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){let{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(tr(this.beans),hie)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=tr(this.beans);return this.isDomDataPresentInHierarchy(e,gI)?!0:this.isDomDataPresentInHierarchy(e,mI)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(Yte(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(V({type:"cellFocusCleared"},e))}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:s}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:ah(i),column:a};let l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent(De(V(V({type:"cellFocused"},l),this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams}),{forceBrowserFocus:r,preventScrollOnBrowserFocus:o,sourceEvent:s})),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:Nne(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:o}=this.focusedHeader;return t===r&&n===o&&i==r.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Xg(this.beans))return!1;let{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:o,rowWithoutSpanValue:s}=e,{headerPosition:a}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){let l=this.focusedHeader,c=Hd(this.beans);if(n){let d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{let d=this.gos.getCallback("navigateToNextHeader");if(d&&r){let h={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:r};a=d(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:o,rowWithoutSpanValue:s}):!1}focusHeaderPositionFromUserFunc(e){if(Xg(this.beans))return!1;let{userFunc:t,headerPosition:n,direction:i,event:r}=e,o=this.focusedHeader,s=Hd(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:o}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:o});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:o}=e,{column:s,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:d}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:o});d?.scrollToColumn(s,n);let f=c.getHeaderRowContainerCtrl(s.getPinned())?.focusHeader(t.headerRowIndex,s,o)||!1;return d&&f&&(r!=null||i)&&(d.currentHeaderRowWithoutSpan=r??-1),f}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let n=lB(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=Hd(this.beans)-1,n=ai(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===ah(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&em(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(xI(this.beans))return t&&!Xg(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:SC(this.beans,t);let r=t?LLe(this.beans):OLe(this.beans);if(r){let o=e.column??this.focusedHeader?.column,{rowIndex:s,rowPinned:a}=r,l=Jf(this.beans,r);if(!o||!l||s==null)return!1;if(o.isSuppressNavigable(l)){let c=this.gos.get("enableRtl"),d;return!i||i.key===me.TAB?d=c?me.LEFT:me.RIGHT:d=i.key,this.beans.navigation?.navigateToNextCell(null,d,{rowIndex:s,column:o,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:s,column:o,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(r,t)||(this.setFocusedCell({rowIndex:s,column:o,rowPinned:ah(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:s,rowPinned:a,column:o})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Hd(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},pVe=class extends _e{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:A3e();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},gVe=class extends _e{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},Y2=new Set(["gridPreDestroyed","fillStart","pasteStart"]),mVe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset"];var qB=mVe.reduce((e,t)=>(e[t]=aOe(t),e),{}),F_=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),vVe={tag:"span",cls:"ag-sort-indicator-container",children:[F_("Order","order"),F_("Asc","ascending-icon"),F_("Desc","descending-icon"),F_("Mixed","mixed-icon"),F_("None","none-icon")]},KB=class extends Gn{constructor(e){super(),this.eSortOrder=st,this.eSortAsc=st,this.eSortDesc=st,this.eSortMixed=st,this.eSortNone=st,e||this.setTemplate(vVe)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;let i=Kl(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:o}=this,s=o.sortSvc.getDisplaySortForColumn(i);if(e&&Ki(e,s==="asc",{skipAriaHidden:!0}),t&&Ki(t,s==="desc",{skipAriaHidden:!0}),n){let a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=s==null;Ki(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);let i=t.getColDef().showRowGroup;Bd(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:n}=this;if(e){let i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ki(e,i,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;let i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,o=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),s=r>=0&&o;Ki(e,s,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():Is(e)}},CVe={selector:"AG-SORT-INDICATOR",component:KB},ex=["asc","desc",null],wVe=class extends _e{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){let i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){let i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);let{gos:r,showRowGroupCols:o}=this.beans,s=Bd(r),a=[e];if(s&&e.getColDef().showRowGroup){let h=o?.getSourceColumnsForGroupColumn?.(e)?.filter(f=>f.isSortable());h&&(a=[e,...h])}a.forEach(d=>this.setColSort(d,t,i));let l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),c=[];if(!l){let d=this.clearSortBarTheseColumns(a,i);c.push(...d)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(i,c)}updateSortIndex(e){let{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Bd(t),o=i?.getShowRowGroupCol(e.getId()),s=r&&o||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(d=>this.setColSortIndex(d,null));let l=a.filter(d=>r&&d.getColDef().showRowGroup?!1:d!==s);(s.getSort()?[...l,s]:l).forEach((d,h)=>this.setColSortIndex(d,h))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){let n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){let n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??ex,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans,r=[];if(t.forAllCols(c=>{c.getSort()&&r.push(c)}),t.isPivotMode()){let c=Bd(e);r=r.filter(d=>{let h=!!d.getAggFunc(),f=!d.isPrimary(),g=c?n?.getShowRowGroupCol(d.getId()):d.getColDef().showRowGroup;return h||f||g})}let o=i?.columns.filter(c=>!!c.getSort())??[],s={};r.forEach((c,d)=>s[c.getId()]=d),r.sort((c,d)=>{let h=c.getSortIndex(),f=d.getSortIndex();if(h!=null&&f!=null)return h-f;if(h==null&&f==null){let g=s[c.getId()],m=s[d.getId()];return g>m?1:-1}else return f==null?-1:1});let a=Bd(e)&&!!o.length;a&&(r=[...new Set(r.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);let l=new Map;return r.forEach((c,d)=>l.set(c,d)),a&&o.forEach(c=>{let d=n.getShowRowGroupCol(c.getId());l.set(c,l.get(d))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=Bd(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(s=>s.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:o=>{let s=t.isMoving(),l=Date.now()-i<50;s||l||this.progressSortFromEvent(t,o)}});let r=()=>{let o=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",o==="asc"),e.toggleCss("ag-header-cell-sorted-desc",o==="desc"),e.toggleCss("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){let l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){let{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new KB(e)}getSortIndicatorSelector(){return CVe}},yC={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},yVe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),bVe={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?yC[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:yC[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?yC[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},_Ve=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{let n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return zd(262);if(t.smallLeft)return zd(263);if(t.smallRight)return zd(264)}return null}},sortingOrder:{validate:t=>{let n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){let i=n.filter(r=>!ex.includes(r));if(i.length>0)return`sortingOrder must be an array with elements from [${ex.map(tI).join()}], currently it includes [${i.map(tI).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{let n=t.type;return n instanceof Array?n.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:r,enableCellSpan:o,rowDragEntireRow:s,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":o?s?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),xVe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},SVe=()=>Object.keys(xVe),EVe=()=>({objectName:"colDef",allProperties:SVe(),docsUrl:"column-properties/",deprecations:yVe(),validations:_Ve()}),DVe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],RVe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],TVe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],zie=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],IVe=["theme","rowSelection"],XB=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Uie=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers"],MVe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],FVe=()=>[...TVe,...RVe,...DVe,...zie,...MVe,...Uie,...XB,...IVe],AVe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Ld(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var kVe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},PVe=()=>{let e={autoSizePadding:{validate({autoSizePadding:n}){return Ld("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Ld("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Ld("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{let i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:r}){return n&&(i||r)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:r,pinnedBottomRowData:o}){return i&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:r,pinnedBottomRowData:o}){return i&&(r||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return zd(262);if(n.smallLeft)return zd(263);if(n.smallRight)return zd(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Ld("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Ld("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Ld("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{let i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Ld("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{let i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Ld("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{let i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){let r=i.filter(o=>!ex.includes(o));if(r.length>0)return`sortingOrder must be an array with elements from [${ex.map(tI).join()}], currently it includes [${r.map(tI).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{let i=n.rowModelType??"clientSide";switch(i){case"clientSide":{let{treeDataChildrenField:r,treeDataParentIdField:o,getDataPath:s,getRowId:a}=n;if(!r&&!o&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{let r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Ld("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Ld("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{let i=n.renderingMode,r=["default","legacy"];return i&&!r.includes(i)?`renderingMode must be one of [${r.join()}], currently it's ${i}`:null}}},t={};return Uie.forEach(n=>{t[n]={expectedType:"boolean"}}),zie.forEach(n=>{t[n]={expectedType:"number"}}),Qs(t,e),t},OVe=()=>({objectName:"gridOptions",allProperties:[...FVe(),...Object.values(qB)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:AVe(),validations:PVe()}),LVe=0,NVe=0,BVe=class extends _e{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=NVe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Zg,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;let i=Y2.has(t);if(i&&!e||!i&&e||!VVe(t))return;let r=(o,s)=>{let a=qB[o],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(s))};if(this.gridReadyFired)r(t,n);else if(t==="gridReady"){r(t,n),this.gridReadyFired=!0;for(let o of this.queueEvents)r(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??f3e[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return nt(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){let i={id:LVe++,properties:[]},r=[],{gridOptions:o,validation:s}=this;for(let a of Object.keys(e)){let l=e[a];s?.warnOnInitialPropertyUpdate(n,a);let c=t||typeof l=="object"&&n==="api",d=o[a];if(c||d!==l){o[a]=l;let h={type:a,currentValue:l,previousValue:d,changeSet:i,source:n};r.push(h)}}this.validateGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{Zf(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(let n of Object.keys(e)){let i=e[n];if(i==null||i===!1)continue;let r=t[n];typeof r=="function"&&(r=r(e,this.gridOptions,this.beans)),r&&this.assertModuleRegistered(r,n)}}validateGridOptions(e){this.validateOptions(e,kVe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,bVe),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){let n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||li(200,De(V({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:DB(),rowModelType:this.get("rowModelType"),isUmd:RLe()}}isModuleRegistered(e){return j8(e,this.gridId,this.get("rowModelType"))}};function VVe(e){return!!qB[e]}function Wie(e){let t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var HVe=Wie(!0),GVe=Wie(!1),zVe=class extends Gn{constructor(){super(...arguments),this.eFilter=st,this.eFilterButton=st,this.eSortIndicator=st,this.eMenu=st,this.eLabel=st,this.eText=st,this.eSortOrder=st,this.eSortAsc=st,this.eSortDesc=st,this.eSortMixed=st,this.eSortNone=st,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let n=V({},e);Qs(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let n=e.template;return n?n?.trim?n.trim():n:t?HVe:GVe}init(e){this.params=e;let{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,o=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let n=aLe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){let{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=RC(t))}addInIcon(e,t,n){let i=Kl(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Zs(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:n}=this,i=tl(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);let r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:n,beans:i,eMenu:r,eFilterButton:o}=this,s=t.column,a=tl(n);if(e&&!a){if(i.menuSvc?.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??o??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:i,eSortOrder:r,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,o,s,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;if(!e)return;let n=()=>{let i=t.column.isFilterActive();Ki(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return Zs(t),!1;let r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},UVe={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},WVe=class extends Gn{constructor(){super(UVe),this.agOpened=st,this.agClosed=st,this.agLabel=st,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&je(89)}workOutInnerHeaderGroupComponent(e,t){let n=cLe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let r=l=>{if(lh(l))return;let c=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);let o=l=>{Jg(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();let s=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){let i=n.isExpanded();Ki(e,i),Ki(t,!i)}else Ki(e,!1),Ki(t,!1)}addInIcon(e,t){let n=Kl(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:n}=this;Ki(t,!1),Ki(n,!1);return}}setupLabel(e){let{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;nt(t)&&!i&&(this.agLabel.textContent=RC(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},jVe={moduleName:"ColumnHeaderComp",version:ct,userComponents:{agColumnHeader:zVe},icons:{menu:"menu",menuAlt:"menu-alt"}},$Ve={moduleName:"ColumnGroupHeaderComp",version:ct,userComponents:{agColumnGroupHeader:WVe},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},qVe=class extends _e{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&je(92)}createTask(e,t,n,i,r=!1){this.verify();let o=n;i&&this.batchFrameworkComps&&(o="f1");let s={task:e,index:t,createOrder:++this.taskCount,deferred:r};this.addTaskToList(this[o],s),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:n,f1:i,destroyTasks:r,beans:o}=this,{ctrlsSvc:s,frameworkOverrides:a}=o,l=t.list,c=n.list,d=i.list,h=Date.now(),f=0,g=e<=0,m=s.getScrollFeature();for(;g||f<e;){if(!m.scrollGridIfNeeded()){let C;if(l.length)this.sortTaskList(t),C=l.pop().task;else if(c.length)this.sortTaskList(n),C=c.pop().task;else if(d.length)a.wrapOutgoing(()=>{for(;(g||f<e)&&!m.scrollGridIfNeeded();){if(d.length)this.sortTaskList(i),C=d.pop().task,C();else break;f=Date.now()-h}}),C=()=>{};else if(r.length)C=r.pop();else break;C()}f=Date.now()-h}l.length||c.length||d.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);hh(this.beans,e)}isQueueEmpty(){return!this.ticking}},KVe={moduleName:"AnimationFrame",version:ct,beans:[qVe]},XVe=class extends _e{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Wg())return;let t=(n,i,r)=>{let{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget(r?.target??null);s?.column&&s.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Wg()||cne("dblclick"))return!1;let i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;let{params:r,eMenu:o,eFilterButton:s}=e,a=new zg(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&nt(o)&&r.enableMenu,d=c?new zg(o,!0):a;if(r.enableMenu||i?.isHeaderContextMenuEnabled(r.column)){let h=c?"tap":"longTap",f=g=>r.showColumnMenuAfterMouseClick(g.touchStart);e.addManagedListeners(d,{[h]:f})}if(r.enableSorting){let h=f=>{let g=f.touchStart.target;l&&(o?.contains(g)||s?.contains(g))||n?.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:h})}if(r.enableFilterButton&&s){let h=new zg(s,!0);e.addManagedListeners(h,{tap:()=>r.showFilter(s)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e){let t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){let n=new zg(t.eGridHeader,!0),i=r=>t.showColumnMenuAfterMouseClick(r.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){let i=new zg(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Wg())return;let i=new zg(t),r=o=>{Q_(this.gos,o.touchEvent)&&n(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},YVe={moduleName:"Touch",version:ct,beans:[XVe]},ZVe=class extends _e{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let n=e===me.UP,i=e===me.DOWN,r=e===me.LEFT,o,s,{pageBounds:a,gos:l,visibleCols:c}=this.beans;if(n||i)s=n?a.getFirstRow():a.getLastRow(),o=t.column;else{let d=l.get("enableRtl");s=t.rowIndex,o=(r!==d?c.allCols:[...c.allCols].reverse()).find(f=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:f}))}return o?{rowIndex:s,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case me.UP:n=this.getCellAbove(n);break;case me.DOWN:n=this.getCellBelow(n);break;case me.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case me.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,je(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){let t=e.column,n,{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,n=Aee(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,n=dI(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:n}=this.beans,i=t.allCols,r=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=i[0];let a=Aee(this.beans,e);if(Hi(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols,o=e.rowIndex,s=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=ai(r);let l=dI(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Hi(l)||!l.rowPinned&&!(i?.isRowInPage(l.rowIndex)??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:a,rowPinned:s}}isSuppressNavigable(e,t){let{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){let i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function QVe(e){return e.focusSvc.getFocusedCell()}function JVe(e){return e.focusSvc.clearFocusedCell()}function eHe(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function tHe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function nHe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function iHe(e,t,n=!1){let i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var rHe=class extends _e{constructor(){super(),this.beanName="navigation",this.onPageDown=xee(this.onPageDown,100),this.onPageUp=xee(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=gNe(this.gos,e),a=!1;switch(n){case me.PAGE_HOME:case me.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:if(!s)return!1;r&&!i&&!o&&(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case me.PAGE_DOWN:case me.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===me.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:o}=e,{scrollFeature:s}=this.gridBodyCon;nt(i)&&!i.isPinned()&&s.ensureColumnVisible(i),nt(t)&&s.ensureIndexVisible(t,n),e.isAsync||s.ensureIndexVisible(r);let{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(e){let t=this.beans,n=R8(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:o,rowAutoHeight:s}=t,a=r.getPixelOffset(),l=n.top+i,c=o.getRowIndexAtPixel(l+a);s?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){let t=this.beans,n=R8(t),{pageBounds:i,rowModel:r,rowAutoHeight:o}=t,s=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+s);o?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){let{pageBounds:i,rowModel:r}=this.beans,o=this.getViewportHeight(),s=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),c=r.getRow(e.rowIndex),d=n?c?.rowHeight-o-l:o-l,h=c?.rowTop+d,f=r.getRowIndexAtPixel(h+l);if(f===e.rowIndex){let m=n?-1:1;t=f=e.rowIndex+m}let g;n?(g="bottom",f<s&&(f=s),t<s&&(t=s)):(g="top",f>a&&(f=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(f))&&(t=f,g="top"),this.navigateTo({scrollIndex:t,scrollType:g,scrollColumn:null,focusIndex:f,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:o}=this.beans,s=r.getLastRow(),a=0,l=e.rowIndex;for(;l>=0&&l<=s;){let c=o.getRow(l);if(c){let d=c.rowHeight??0;if(a+d>i)break;a+=d}l+=n}return Math.max(0,Math.min(l,s))}getViewportHeight(){let e=this.beans,t=R8(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth(),i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){let t=e===me.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,o=n.allCols,s=t?i.getFirstRow():i.getLastRow(),a=r.getRow(s);if(!a)return;let l=(t?o:[...o].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){let n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){let{rowIndex:c,rowPinned:d}=e.getRowPosition();(d?c===0:c===s.getFirstRow())&&(l.get("headerHeight")===0||Xg(r)?SC(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof CC&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||SC(r,n))&&t.preventDefault()}tabToNextCell(e,t){let n=this.beans,{focusSvc:i,rowRenderer:r}=n,o=i.getFocusedCell();if(!o)return!1;let s=aC(n,o);return!s&&(s=r.getRowByPosition(o),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){let{editSvc:r,focusSvc:o}=this.beans,s,a=e instanceof CC?e:e.getAllCellCtrls()?.[0];return r?.isEditing()?s=r?.moveToNextCell(a,t,n,i):s=this.moveToNextCellNotEditing(e,t,n),s===null?s:s||!!o.focusedHeader}moveToNextCellNotEditing(e,t,n){let i=this.beans.visibleCols.allCols,r;if(e instanceof vI){if(r=De(V({},e.getRowPosition()),{column:t?i[0]:ai(i)}),this.gos.get("embedFullWidthRows")&&n){let s=e.findFullWidthInfoForEvent(n);s&&(r.column=s.column)}}else r=e.getFocusedCellPosition();let o=this.findNextCellToFocusOn(r,{backwards:t,startEditing:!1});if(o===!1)return null;if(o instanceof CC)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return nt(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let r=e,o=this.beans,{cellNavigation:s,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:d}=o;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=s.getNextTabbedCell(r,t);let h=a.getCallback("tabToNextCell");if(nt(h)){let v=h({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(v===!0)r=e;else{if(v===!1)return!1;r={rowIndex:v.rowIndex,column:v.column,rowPinned:v.rowPinned}}}if(!r)return null;if(r.rowIndex<0){let m=Hd(o);return l.focusHeaderPosition({headerPosition:{headerRowIndex:m+r.rowIndex,column:r.column},fromCell:!0}),null}let f=a.get("editType")==="fullRow";if(n&&(!f||i)&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);let g=aC(o,r);if(!g){let m=c.getRowByPosition(r);if(!m||!m.isFullWidth()||n)continue;return De(V({},m.getRowPosition()),{column:r?.column})}if(!s.isSuppressNavigable(g.column,g.rowNode))return g.setFocusedCellPosition(r),d?.setRangeToCell(r),g}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,o=!1,s=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=s;for(;r&&(r===n||!this.isValidNavigateCell(r));)c.get("enableRtl")?t===me.LEFT&&(r=this.getLastCellOfColSpan(r)):t===me.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),o=Hi(r);if(o&&e&&e.key===me.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){let h=c.getCallback("navigateToNextCell");if(nt(h)){let g=h({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});nt(g)?r={rowPinned:g.rowPinned,rowIndex:g.rowIndex,column:g.column}:r=null}}if(!r)return;if(r.rowIndex<0){let h=Hd(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:h+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let d=this.getNormalisedPosition(r);d?this.focusPosition(d):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let n=aC(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:o}=this.beans,s=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;let l=r.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?ai(s):s[0])};this.focusPosition(c);let d=t??(l!=null&&kLe(c,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:d}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Jf(this.beans,e)}getLastCellOfColSpan(e){let t=aC(this.beans,e);if(!t)return e;let n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:ai(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=Jte(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&Hi(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}};function R8(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var oHe={moduleName:"KeyboardNavigation",version:ct,beans:[rHe,ZVe,dVe],apiFunctions:{getFocusedCell:QVe,clearFocusedCell:JVe,setFocusedCell:eHe,setFocusedHeader:iHe,tabToNextCell:tHe,tabToPreviousCell:nHe}},sHe=class extends _e{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},aHe=class extends _e{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){let{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;let r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},lHe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",cHe=class extends _e{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let n of this.elements)n&&(Ki(n,t),Gd(n,e))}},dHe=class extends _e{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Jo(e,"print"),r=i?0:t.getColsLeftWidth(),o=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=j_(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:o}=n,s=r;!s.length&&!o||(i&&(s=i({columns:s,viewportWidth:t})),!(!s||!s.length)&&(s=s.filter(a=>!Kg(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new cHe(e,t)}setColsPinned(e,t,n){let{colModel:i,colAnimation:r,visibleCols:o,gos:s}=this.beans;if(!i.cols||!e?.length)return;if(Jo(s,"print")){je(37);return}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;let l=[];e.forEach(c=>{if(!c)return;let d=i.getCol(c);d&&d.getPinned()!==a&&(this.setColPinned(d,a),l.push(d))}),l.length&&(o.refresh(n),_ne(this.eventSvc,l,n)),r?.finish()}initCol(e){let{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;let r=()=>{let o=n?this.leftWidth:this.rightWidth;if(o==null)return;let s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),h=t.verticalScrollShowing&&(l&&n||!l&&i)?o+c:o;e.comp.setPinnedContainerWidth(`${h}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:i,rightWidth:r}=this,o=j_(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>o)if(o>i+r)e=o-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,n=this.leftWidth??0,i=t+n,r=!1;if(i<e)return{columns:[],hasLockedPinned:r};let{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols],l=0,c=0,d=0,h=[],f=i-d-e;for(;(c<s.length||l<a.length)&&f>0;){if(l<a.length){let g=a[l++];if(g.colDef.lockPinned){r=!0;continue}f-=g.getActualWidth(),h.push(g)}if(c<s.length&&f>0){let g=s[c++];if(g.colDef.lockPinned){r=!0;continue}f-=g.getActualWidth(),h.push(g)}}return{columns:h,hasLockedPinned:r}}},uHe={moduleName:"PinnedColumn",version:ct,beans:[dHe],css:[lHe]},hHe=class extends _e{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Qo(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=Ao(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),Tte(n,"polite"),v3e(n,"additions text"),m3e(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}\u200B`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(Is(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},fHe={moduleName:"Aria",version:ct,beans:[hHe]};function pHe(e){e.overlays?.showLoadingOverlay()}function gHe(e){e.overlays?.showNoRowsOverlay()}function mHe(e){e.overlays?.hideOverlay()}var vHe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",CHe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},jie=class extends Gn{constructor(){super(CHe),this.eOverlayWrapper=st,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(vHe)}handleKeyDown(e){if(e.key!==me.TAB||e.defaultPrevented||lh(e))return;let t=this.beans;if(sm(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:ai(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=SC(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){let n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=Fc;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(o,t.print)}postConstruct(){this.createManagedBean(new FB(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){let r=tr(this.beans);r&&!Qte(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){let o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:s})=>{o.refresh?.(Rt(this.gos,V({},s??{})))})}n&&this.isGridFocused()&&em(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Is(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=tr(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},wHe={selector:"AG-OVERLAY-WRAPPER",component:jie},yHe=class extends _e{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=fo(this.gos),this.isServerSide=!this.isClientSide&&DC(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){je(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return wHe}getOverlayWrapperCompClass(){return jie}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:o}}=this,s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!i.get("suppressLoadingOverlay")&&(s=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(mLe(this.beans.userCompFactory,Rt(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(vLe(this.beans.userCompFactory,Rt(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){let i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},bHe={moduleName:"Overlay",version:ct,userComponents:{agLoadingOverlay:G4e,agNoRowsOverlay:U4e},apiFunctions:{showLoadingOverlay:pHe,showNoRowsOverlay:gHe,hideOverlay:mHe},beans:[yHe]},_He=class extends _e{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=F3e(),Zf(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Zf(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},xHe=400,SHe=class extends _e{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{dh(this.gos)?n():i()}),dh(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{let i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Jo(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new EHe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){let n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},o=()=>{n(l=>l.onFirstRightPinnedChanged())},s=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let e=Jo(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(n=>{let i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){let{pinnedRowModel:i,beans:r,printLayout:o}=this,s=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));i?.forEachPinnedRow(t,(l,c)=>{let d=e[c];d&&i.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in s&&n?(e[c]=s[l.id],delete s[l.id]):e[c]=new vI(l,r,!1,!1,o)});let a=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let n=i=>{let r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){let{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&hC(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:o,gos:s}=this;if(o){o.checkStickyRows();let a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(s.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(zd(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:Hd(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell(De(V({},n),{preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}));return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Rt(this.gos,De(V({},n),{forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})))}findPositionToFocus(e){let{pagination:t,pageBounds:n}=this.beans,i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=dI(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});let r=this.getRowByPosition(i);if(r?.isAlive())return De(V({},r.getRowPosition()),{column:e.column});i=dI(this.beans,i)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){let r=t[i].getAllCellCtrls(),o=r.length;for(let s=0;s<o;s++)e.push(r[s])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){let i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){let r={force:n,newData:!1,suppressFlash:i};for(let o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(r);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=cB(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{let r=i.rowNode;return dB(r,t)})}getCellCtrls(e,t){let n;nt(t)&&(n={},t.forEach(r=>{let o=this.colModel.getCol(r);nt(o)&&(n[o.getId()]=!0)}));let i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(o=>{let s=o.column.getId();n&&!n[s]||i.push(o)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);let t={};for(let n of Object.values(this.rowCtrlsByRowIndex)){let i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{let i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e,r,o=this.stickyRowFeature;o&&(r=t?.getFocusCellToUseAfterRefresh()||void 0);let s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();let d=o.extraTopHeight+o.extraBottomHeight;d&&this.updateContainerHeights(d)}let c=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if(!(i&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){let d=t?.getFocusCellToUseAfterRefresh();r!=null&&d==null&&(n?.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){let n={};e.forEach(o=>n[o]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){let t=[];for(let s=this.firstRenderedRow;s<=this.lastRenderedRow;s++)t.push(s);let n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);let r=s=>{let a=s.rowNode.rowIndex;a==null||a===i||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};for(let s of Object.values(this.rowCtrlsByRowIndex))r(s);if(e)for(let s of Object.values(e))r(s);t.sort((s,a)=>s-a);let o=[];for(let s=0;s<t.length;s++){let a=t[s],l=this.rowModel.getRow(a);l&&!l.sticky&&o.push(a)}return o}recycleRows(e,t=!1,n=!1){let i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);let r=[];if(i.forEach(o=>{let s=this.createOrUpdateRowCtrl(o,e,t,n);nt(s)&&r.push(s)}),e){let{animationFrameSvc:o}=this.beans;o?.active&&n&&!this.printLayout?o.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=cB(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;let i=n.rowNode;return!(t!=null&&!dB(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,o=this.rowCtrlsByRowIndex[e];if(o||(r=this.rowModel.getRow(e),nt(r)&&nt(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null)),!o)if(r||(r=this.rowModel.getRow(e)),nt(r))o=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){let n=[];if(e){for(let i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){let r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),xHe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=qg(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{let d=this.getRowBufferInPixels(),h=this.ctrlsSvc.getScrollFeature(),f=this.gos.get("suppressRowVirtualisation"),g=!1,m,v;do{let R=t.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:F}=t.getCurrentPagePixelRange(),T=e.divStretchOffset,P=h.getVScrollPosition(),L=P.top,U=P.bottom;f?(m=I+T,v=F+T):(m=Math.max(L+R-d,I)+T,v=Math.min(U+R+d,F)+T),this.firstVisibleVPixel=Math.max(L+R,I)+T,this.lastVisibleVPixel=Math.min(U+R,F)+T,g=this.ensureAllRowsInRangeHaveHeightsCalculated(m,v)}while(g);let C=n.getRowIndexAtPixel(m),y=n.getRowIndexAtPixel(v),x=t.getFirstRow(),_=t.getLastRow();C<x&&(C=x),y>_&&(y=_),i=C,r=y}let o=Jo(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&r-i>a&&(r=i+a);let l=i!==this.firstRenderedRow,c=r!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,hh(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(s||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||s||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),o=this.editSvc?.isEditing(e),s=i.detail;return r||o||s?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){let i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;let r=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new vI(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t,{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},EHe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Xl(this.entriesList,n)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],Xl(this.entriesList,e)}getEntries(){return this.entriesList}};function cB(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(n=>{let i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function dB(e,t){let n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var DHe=class extends _e{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Bd(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Bd(e))}doFullSort(e,t){let n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){let i=t.rowNode,r=n.rowNode;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=a.sort==="desc",c=this.getValue(i,a.column),d=this.getValue(r,a.column),h,f=this.getComparator(a,i);if(f?h=f(c,d,i,r,l):h=c3e(c,d,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-n.currentPos}getComparator(e,t){let n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;let r=!t.group&&n.getColDef().field;if(!r)return;let o=this.beans.colModel.getColDefCol(r);if(o)return o.getColDef().comparator}getValue(e,t){let{valueSvc:n,colModel:i,showRowGroupCols:r,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(tne(o,i.isPivotActive())){let c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0}let l=r?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function RHe(e){e.sortSvc?.onSortChanged("api")}var $ie={moduleName:"Sort",version:ct,beans:[wVe,DHe],apiFunctions:{onSortChanged:RHe},userComponents:{agSortIndicator:KB},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},THe=class extends _e{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Zf(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,pC(e.source))}}};function IHe(e){e.valueCache?.expire()}function MHe(e,t){let{colKey:n,rowNode:i,useFormatter:r}=t,o=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Hi(o))return null;let s=e.valueSvc.getValueForDisplay(o,i).value;return r?e.valueSvc.formatValue(o,i,s)??RC(s):s}var FHe="paste",AHe=class extends _e{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;fo(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:n}=this.beans;if(e.source===FHe||t.get("suppressChangeDetection"))return;let i=e.node,r=[i],o=this.clientSideRowModel,s=o?.rootNode;if(s&&!i.isRowPinned()){let a=t.get("aggregateOnlyChangedColumns"),l=new J_(a,s);l.addParentNode(i.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{r.push(c),c.sibling&&r.push(c.sibling)})}n.refreshCells({rowNodes:r})}},kHe=class extends _e{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);li(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return li(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},PHe=class extends _e{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){let i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},OHe={moduleName:"ValueCache",version:ct,beans:[PHe],apiFunctions:{expireValueCache:IHe}},LHe={moduleName:"Expression",version:ct,beans:[kHe]},NHe={moduleName:"ChangeDetection",version:ct,beans:[AHe]},BHe={moduleName:"CellApi",version:ct,apiFunctions:{getCellValue:MHe}},V2={checkSiblings:!0},VHe=class extends _e{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=DC(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,i=!1,r="ui"){let{showRowGroupColValueSvc:o}=this.beans,s=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(o&&l&&(s||a)){let v=o.getGroupValue(t,e);if(v==null)return{value:null,valueFormatted:null};if(!n)return{value:v.value,valueFormatted:null};let C=o.formatAndPrefixGroupColValue(v,e,i);return{value:v.value,valueFormatted:C}}if(!e)return{value:t.key,valueFormatted:null};let c=t.leafGroup&&this.colModel.isPivotMode(),d=t.group&&t.expanded&&!t.footer&&!c,h=this.gos.get("groupSuppressBlankHeader")||!t.sibling,f=d&&!h,g=this.getValue(e,t,f,r),m=n&&!(i&&e.colDef.useValueFormatterForExport===!1);return{value:g,valueFormatted:m?this.formatValue(e,t,g):null}}getValue(e,t,n=!1,i="ui"){if(this.initialised||this.init(),!t)return;let r=e.getColDef(),o=r.field,s=e.getColId(),a=t.data;if(this.hasEdit&&i==="ui"){let v=this.editSvc;if(v.isRowEditing(t,V2)&&(a=v.getRowDataValue(t,V2)),v.isEditing()){let C=v.getCellDataValue({rowNode:t,column:e});if(C!==void 0)return C}}let l,c=r.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;let d=typeof c!="string"||!t.group,h=t.groupData&&s in t.groupData,f=!n&&t.aggData&&t.aggData[s]!==void 0,g=this.isSsrm&&n&&!!r.aggFunc,m=this.isSsrm&&t.footer&&t.field&&(r.showRowGroup===!0||r.showRowGroup===t.field);if(this.isTreeData&&f)l=t.aggData[s];else if(this.isTreeData&&r.valueGetter)l=this.executeValueGetter(r.valueGetter,a,e,t);else if(this.isTreeData&&o&&a)l=L_(a,o,e.isFieldContainsDots());else if(h)l=t.groupData[s];else if(f)l=t.aggData[s];else if(r.valueGetter&&!g){if(!d)return l;l=this.executeValueGetter(r.valueGetter,a,e,t)}else if(m)l=L_(a,t.field,e.isFieldContainsDots());else if(o&&a&&!g){if(!d)return l;l=L_(a,o,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){let v=l.substring(1);l=this.executeValueGetter(v,a,e,t)}return l}parseValue(e,t,n,i){let r=e.getColDef(),o=r.valueParser;if(nt(o)){let s=Rt(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof o=="function"?o(s):this.expressionSvc?.evaluate(o,s)}return n}getDeleteValue(e,t){return nt(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,i,r=!0){let{expressionSvc:o}=this.beans,s=null,a,l=e.getColDef();if(i?a=i:r&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){let h={rowNode:t};if(this.hasEdit){let f=this.editSvc;f.isEditing(h,V2)&&(c=f.getRowDataValue(t,V2))}}let d=Rt(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?s=a(d):s=o?o.evaluate(a,d):null}else if(l.refData)return l.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}setValue(e,t,n,i){let r=this.colModel.getColDefCol(t);if(!e||!r)return!1;Hi(e.data)&&(e.data={});let{field:o,valueSetter:s}=r.getColDef();if(Hi(o)&&Hi(s))return je(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return je(135),!1;let a=Rt(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e,void 0,i),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(nt(s)?typeof s=="function"?l=s(a):l=this.expressionSvc?.evaluate(s,a):l=this.setValueUsingField(e.data,o,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let c=this.getValue(r,e);return this.dispatchCellValueChangedEvent(e,a,c,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,i),!0}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{let o=t.split("."),s=e;for(;o.length>0&&s;){let a=o.shift();o.length===0?(r=s[a]===n,r||(s[a]=n)):s=s[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){let r=n.getColId(),o=this.valueCache.getValue(i,r);if(o!==void 0)return o;let s=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,s),s}executeValueGetterWithoutValueCache(e,t,n,i){let r=Rt(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)}),o;return typeof e=="function"?o=e(r):o=this.expressionSvc?.evaluate(e,r),o}getValueCallback(e,t){let n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){let n=this.getValue(e,t),i=e.getColDef().keyCreator,r=n;if(i){let o=Rt(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(o)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&je(121)),r}},HHe={moduleName:"CommunityCore",version:ct,beans:[gVe,Y6e,e5e,GOe,_He,uBe,cVe,BVe,BOe,aHe,sHe,SHe,VHe,fVe,lVe,pVe,n5e,THe,XBe,YBe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Z6e,destroy:Q6e,isDestroyed:J6e,getGridOption:e8e,setGridOption:t8e,updateGridOptions:yie,isModuleRegistered:n8e},dependsOn:[jBe,U8e,Y8e,$ie,jVe,fBe,$Ve,bHe,NHe,KVe,oHe,uHe,fHe,YVe,JBe,$Be,LHe,vBe]};function qie(e){let{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e,o=n.map((l,c)=>({value:l,relevance:GHe(t,l),idx:c}));if(o.sort((l,c)=>c.relevance-l.relevance),i&&(o=o.filter(l=>l.relevance!==0)),o.length>0&&r&&r>0){let c=o[0].relevance*r;o=o.filter(d=>c-d.relevance<0)}let s=[],a=[];for(let l of o)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function GHe(e,t){if(e===t)return 1e3;let n=e.length,i=t.length;if(n===0||i===0)return 0;let r=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),s=o.indexOf(r);if(s!==-1)return 980-s*2;if([...r].filter(h=>o.includes(h)).length===0)return 0;let l=Array.from({length:i+1},(h,f)=>f);for(let h=0;h<n;h++){let f=[h+1];for(let g=0;g<i;g++){let m=l[g+1]+1,v=f[g]+1,C=l[g]+(e[h]!==t[g]?1:0);i>10&&g>i/2&&(C+=1),h>0&&g>0&&e[h-1]===t[g-1]&&(C-=4),f.push(Math.min(m,v,C))}l=f}let c=Math.round(l[i]),d=Math.max(1,1e3-c*30);return Math.max(1,d)}var Kie={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},T8=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],zHe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:T8,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...T8,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...T8,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},UHe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function WHe(e,t){let n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{let r=zHe[i];r?r.forEach(o=>{let s=UHe[o];(!s||s===t)&&n.push(o)}):n.push(i)}),n}var Xie=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,jHe=e=>{let t=e.map(i=>`import { ${H_(i)} } from '${Kie[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>H_(i,!0)).join(", ")} ]); 

For more info see: ${uC}/modules/`};function H_(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function $He(e,t){let n=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines"),i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>Kie[o])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function Yie({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var pte=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:o,isUmd:s})=>{let a=WHe(t,r),l=typeof e=="string"?e:YHe[e];if(s)return $He(l,a);let c=a.filter(f=>f==="IntegratedCharts"||f==="Sparklines"),d=c.length>0?`${c.map(f=>H_(f)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(f=>H_(f)).join(", "):H_(a[0])} is not registered${n?" for gridId: "+i:""}. ${d} Check if you have registered the module:
`}
${jHe(a)}`+(o?` 

${o}`:"")},gte=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,qHe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,KHe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${qHe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{let r=[],o=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],s=qie({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&r.push(`         Did you mean: [${s.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${uC}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:pte,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${uC}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>gte("IntegratedChartsModule"),258:()=>gte("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>pte({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:yC[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${uC}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>Xie(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:Yie,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`};function XHe(e,t){let n=KHe[e];if(!n)return[`Missing error text for error id ${e}!`];let i=n(t),o=`
See ${qte(e,t)}`;return Array.isArray(i)?i.concat(o):[i,o]}var YHe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"};function Zie(e,t,n){if(!t)return li(11),{};let i=n,r;if(!i?.setThemeOnGridDiv){let s=ki({tag:"div"});s.style.height="100%",e.appendChild(s),e=s,r=()=>e.remove()}return new QHe().create(e,t,s=>{let a=new K6e(e);s.createBean(a)},void 0,n,r)}var ZHe=1,QHe=class{create(e,t,n,i,r,o){let s=h3e.applyGlobalGridOptions(t),a=s.gridId??String(ZHe++),l=this.getRegisteredModules(r,a,s.rowModelType),c=this.createBeansList(s.rowModelType,l,a),d=this.createProvidedBeans(e,s,r);if(!c)return;let h={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:F6e,beanDestroyComparator:A6e,derivedBeans:[I6e],destroyCallback:o},f=new MLe(h);return this.registerModuleFeatures(f,l),n(f),f.getBean("syncSvc").start(),i&&i(f),f.getBean("gridApi")}getRegisteredModules(e,t,n){return Y_(HHe,void 0,!0),e?.modules?.forEach(i=>Y_(i,t)),SLe(t,mte(n))}registerModuleFeatures(e,t){let n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);let o=r.apiFunctions;o&&Object.keys(o).forEach(a=>{i?.addFunction(a,o[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;Hi(i)&&(i=new WB);let r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){let i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},r=mte(e),o=i[r];if(!o){P_(201,{rowModelType:r},`Unknown rowModelType ${r}.`);return}if(!DLe()){P_(272,void 0,Xie());return}if(!e){let a=Object.entries(i).filter(([l,c])=>j8(c,n,l));if(a.length==1){let[l,c]=a[0];if(l!==r){let d={moduleName:c,rowModelType:l};P_(275,d,Yie(d));return}}}if(!j8(o,n,r)){P_(200,{reasonOrId:`rowModelType = '${r}'`,moduleName:o,gridScoped:DB(),gridId:n,rowModelType:r},`Missing module ${o}Module for rowModelType ${r}.`);return}let s=new Set;return t.forEach(a=>a.beans?.forEach(l=>s.add(l))),Array.from(s)}};function mte(e){return e??"clientSide"}function $d(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function TI(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Qie(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var JHe=class extends _e{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,o)=>t({key:i,defaultValue:r,variableValues:o});let n=e.get("localeText");return(i,r,o)=>{let s=n&&n[i];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??r}}};function e7e(e,t=!1){let n=[],i=[],r=[],o=[],s=[],a=[],l=[],c=[],d=[],h=0;for(let f=0;f<e.length;f++){let{colId:g,sort:m,sortIndex:v,rowGroup:C,rowGroupIndex:y,aggFunc:x,pivot:_,pivotIndex:R,pinned:I,hide:F,width:T,flex:P}=e[f];d.push(g),m&&(n[v??h++]={colId:g,sort:m}),C&&(i[y??0]=g),typeof x=="string"&&r.push({colId:g,aggFunc:x}),_&&(o[R??0]=g),I&&(I==="right"?a:s).push(g),F&&l.push(g),(P!=null||T)&&c.push({colId:g,flex:P??void 0,width:T})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}function t7e(e){let t=[];return e.forEach(({groupId:n,open:i})=>{i&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var Jie=class{wrap(e,t,n,i){let r=this.createWrapper(e,i);return t?.forEach(o=>{this.createMethod(r,o,!0)}),n?.forEach(o=>{this.createMethod(r,o,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&je(49,{methodName:t}),null)}}},n7e={tag:"div",cls:"ag-tooltip"},i7e=class extends VB{constructor(){super(n7e)}init(e){let{value:t}=e,n=this.getGui();n.textContent=RC(t);let i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},r7e=1e3,o7e=1e3,vte=100,Cte,H2=!1,s7e=class extends _e{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Wg()&&(H2?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},vte):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||H2)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-Cte<r7e}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!nt(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let n=t.getRowNode?.(),i=Rt(this.gos,V({location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0)},t.getAdditionalParams?.()??{}));this.state=2,this.tooltipInstanceCount++;let r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);CLe(this.userCompFactory,i)?.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Cte=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");let r=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let s=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:s,columnMoved:s})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Ao(this.beans),{keydown:s=>{i.contains(s?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=tr(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent(De(V({},e),{mouseEvent:this.lastMouseEvent})):this.popupSvc?.positionPopupByComponent(De(V({},e),{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?o7e:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){H2=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},vte)}unlockService(){H2=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function I8(e){return e.get("tooltipShowMode")==="whenTruncated"}var a7e=class extends _e{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){let n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new s7e(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function l7e(e,t){if(typeof e!="number")return"";let n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var c7e=class extends _e{getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},d7e=class{constructor(e){let{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){if(this.processRowGroupCallback&&(this.gos.get("treeData")||r.group)&&e.isRowGroupDisplayed(r.rowGroupColumn?.getColId()??""))return{value:this.processRowGroupCallback(Rt(this.gos,{column:e,node:r}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Rt(this.gos,{accumulatedRowIndex:n,column:e,node:r,value:this.valueSvc.getValueForDisplay(e,r,void 0,void 0).value,type:i,parseValue:f=>this.valueSvc.parseValue(e,r,f,this.valueSvc.getValue(e,r,void 0)),formatValue:f=>this.valueSvc.formatValue(e,r,f)??f}))??""};let o=this.gos.get("treeData"),s=this.valueSvc,a=r.level===-1&&r.footer,l=t===0&&nne(this.gos,r,this.colModel.isPivotMode()),c=e.colDef.showRowGroup===!0&&(r.group||o);if(!a&&(l||c)){let f="",g=r;for(;g&&g.level!==-1;){let{value:m,valueFormatted:v}=s.getValueForDisplay(l?void 0:e,g,!0,!0);f=` -> ${v??m??""}${f}`,g=g.parent}return{value:f,valueFormatted:f}}let{value:d,valueFormatted:h}=s.getValueForDisplay(e,r,!0,!0);return{value:d??"",valueFormatted:h}}getHeaderName(e,t){return e?e(Rt(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function u7e(e,t){let n=document.defaultView||window;if(!n){je(52);return}let i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var h7e={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Fa="clientSide",Ys="serverSide",iC="infinite",f7e={onGroupExpandedOrCollapsed:[Fa],refreshClientSideRowModel:[Fa],isRowDataEmpty:[Fa],forEachLeafNode:[Fa],forEachNodeAfterFilter:[Fa],forEachNodeAfterFilterAndSort:[Fa],resetRowHeights:[Fa],applyTransaction:[Fa],applyTransactionAsync:[Fa],flushAsyncTransactions:[Fa],getBestCostNodeSelection:[Fa],getServerSideSelectionState:[Ys],setServerSideSelectionState:[Ys],applyServerSideTransaction:[Ys],applyServerSideTransactionAsync:[Ys],applyServerSideRowData:[Ys],retryServerSideLoads:[Ys],flushServerSideAsyncTransactions:[Ys],refreshServerSide:[Ys],getServerSideGroupLevelState:[Ys],refreshInfiniteCache:[iC],purgeInfiniteCache:[iC],getInfiniteRowCount:[iC],isLastRowIndexKnown:[iC,Ys],expandAll:[Fa,Ys],collapseAll:[Fa,Ys],onRowHeightChanged:[Fa,Ys],setRowCount:[iC,Ys],getCacheBlockState:[iC,Ys]},p7e={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function g7e(e,t,n){let i=p7e[e];if(i){let{version:o,new:s,old:a,message:l}=i,c=a??e;return(...d)=>{let h=s?`Please use ${s} instead. `:"";return cC(`Since ${o} api.${c} is deprecated. ${h}${l??""}`),t.apply(t,d)}}let r=f7e[e];return r?(...o)=>{let s=n.rowModel.getType();if(!r.includes(s)){dC(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,o)}:t}var m7e={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},v7e={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},C7e={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},w7e=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),y7e=class extends _e{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,G3e(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&h7e[t]&&je(22,{key:t})}processGridOptions(e){this.processOptions(e,OVe())}validateApiFunction(e,t){return g7e(e,t,this.beans)}missingUserComponent(e,t,n,i){let r=yC[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):je(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){let t=m7e[e];return t?zd(200,De(V({},this.gos.getModuleErrorParams()),{moduleName:t,reasonOrId:e})):void 0}checkRowEvents(e){_7e.has(e)&&je(10,{eventType:e})}validateIcon(e){if(w7e.has(e)&&je(43,{iconName:e}),v7e[e])return;let t=C7e[e];if(t){li(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:DB(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}je(134,{iconName:e})}isProvidedUserComp(e){return!!yC[e]}validateColDef(e){this.processOptions(e,EVe())}processOptions(e,t){let{validations:n,deprecations:i,allProperties:r,propertyExceptions:o,objectName:s,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(i)],r,s,a);let l=new Set;Object.keys(e).forEach(d=>{let h=i[d];if(h){let{message:x,version:_}=h;l.add(`As of v${_}, ${String(d)} is deprecated. ${x??""}`)}let f=e[d];if(f==null||f===!1)return;let g=n[d];if(!g)return;let{dependencies:m,validate:v,supportedRowModels:C,expectedType:y}=g;if(y){let x=typeof f;if(x!==y){l.add(`${String(d)} should be of type '${y}' but received '${x}' (${f}).`);return}}if(C){let x=this.gridOptions.rowModelType??"clientSide";if(!C.includes(x)){l.add(`${String(d)} is not supported with the '${x}' row model. It is only valid with: ${C.join(", ")}.`);return}}if(m){let x=this.checkForRequiredDependencies(d,m,e);if(x){l.add(x);return}}if(v){let x=v(e,this.gridOptions,this.beans);if(x){l.add(x);return}}}),l.size>0&&l.forEach(d=>{cC(d)})}checkForRequiredDependencies(e,t,n){let r=Object.entries(t).filter(([o,s])=>{let a=n[o];return!s.required.includes(a)});return r.length===0?null:r.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){let o=["__ob__","__v_skip","__metadata__"],s=b7e(Object.getOwnPropertyNames(e),[...o,...t,...n],n),a=Object.keys(s);for(let l of a){let c=s[l],d=`invalid ${i} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),cC(d)}if(a.length>0&&r){let l=this.beans.frameworkOverrides.getDocLink(r);cC(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return XHe(e,t)}};function b7e(e,t,n){let i={},r=e.filter(o=>!t.some(s=>s===o));return r.length>0&&r.forEach(o=>i[o]=qie({inputValue:o,allSuggestions:n}).values),i}var _7e=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),x7e={moduleName:"Validation",version:ct,beans:[y7e]};function ere(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var S7e=class extends _e{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(o=>{let s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):i.childrenAfterFilter=i.childrenAfterGroup,ere(i)};if(this.doingTreeDataFiltering()){let i=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){let l=o.childrenAfterGroup[a],c=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(o.childrenAfterGroup[a],c):n(l,c)}n(o,s)},r=o=>i(o,!1);t.executeFromRootNode(r)}else{let i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},E7e=class extends BB{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;let o=ix(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o);let s=()=>this.onColDefChanged(o);o.addManagedListeners(this.column,{colDefChanged:s}),o.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&s()}}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,n=e.colDef;return Rt(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=Kl("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new TC(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();bC(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){let{beans:t}=this;if(tr(t)===this.eGui)return;let r=sm(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return}let o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case me.UP:case me.DOWN:case me.LEFT:case me.RIGHT:if(t)return;Jg(e);case me.ENTER:t&&em(this.eGui)&&e.preventDefault();break;case me.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&jg(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){let r=this.lastFocusEvent,o=!!(r&&r.key===me.TAB);if(r&&o){let s=r.shiftKey;em(this.eGui,s)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new NB(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!tl(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{beans:{colFilter:t},column:n,gos:i}=this,r=o=>{if(o?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;let s=this.comp.getFloatingFilterComp();s&&s.then(a=>{if(a){if(i.get("enableFilterHandlers")){let d=o,h="filter";d?.afterFloatingFilter?h="ui":d?.afterDataChange?h="dataChanged":o?.source==="api"&&(h="api"),this.updateFloatingFilterParams(this.userCompDetails,h);return}let l=t?.getCurrentFloatingFilterParentModel(n),c=o?De(V({},o),{columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}):null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:r}),t?.isFilterActive(n)&&r(null)}setupWidth(e){let t=()=>{let n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let i=this.beans.colFilter,r=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!r?this.updateCompDetails(e,r,n):o.then(s=>{!s||i?.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n=De(V({},n),{model:Fo(this.beans.colFilter?.model??{},this.column.getColId()),source:t})),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function D7e(e,t){let n=e.colModel.getCol(t);if(!n){li(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function R7e(e){e.menuSvc?.hidePopupMenu()}var T7e={moduleName:"SharedMenu",version:ct,beans:[V4e],apiFunctions:{showColumnMenu:D7e,hidePopupMenu:R7e}},I7e=0,M7e=200,F7e=class extends _e{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:n,column:i,node:r,event:o}=e,s=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1,c=()=>{let d=this.keepXYWithinBounds(n,s.top-a.top,0),h=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${h}px`,l=!0);let g=a.right-a.left-h,m;return this.gos.get("enableRtl")?(m=C(),m<0&&(m=v(),this.setAlignedStyles(n,"left")),m>g&&(m=0,this.setAlignedStyles(n,"right"))):(m=v(),m>g&&(m=C(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),{x:m,y:d};function v(){return s.right-a.left-2}function C(){return s.left-a.left-h}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,o instanceof MouseEvent?o:void 0,i,r)})}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:c,type:d}=e,h=o.getBoundingClientRect(),f=this.getParentRect();this.setAlignedTo(o,t);let g=()=>{let m=h.left-f.left;s==="right"&&(m-=t.offsetWidth-h.width);let v;return a==="over"?(v=h.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,f,e.nudgeY||0)==="under"?v=h.top-f.top+h.height:v=h.top-t.offsetHeight-(i||0)*2-f.top),{x:m,y:v}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(d,t,o,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,i){let r=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+i;return r>s?"under":o>s||o>r?"above":"under"}setAlignedStyles(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(s=>{r.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let n=this.getPopupIndex(t);if(n!==-1){let i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,o){let s=this.gos.getCallback("postProcessPopup");s&&s({column:r,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){let{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:h}=s();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(d+=i),r&&(h+=r),n&&(d=this.keepXYWithinBounds(t,d,1),h=this.keepXYWithinBounds(t,h,0)),t.style.left=`${d}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){let c=tp(this.beans,t,()=>l(!0));setTimeout(()=>c(),M7e)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){let e=Ao(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Nte(t)}keepXYWithinBounds(e,t,n){let i=n===0,r=i?"clientHeight":"clientWidth",o=i?"top":"left",s=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=Ao(this.beans),c=l.documentElement,d=this.getPopupParent(),h=e.getBoundingClientRect(),f=d.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),m=d===l.body,v=Math.ceil(h[s]),y=m?(i?Lte:Z2)(c)+c[a]:d[r];m&&(y-=Math.abs(g[o]-f[o]));let x=y-v;return Math.min(Math.max(t,0),Math.abs(x))}addPopup(e){let t=Ao(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:o,anchorToElement:s}=e;if(!t)return je(122),{hideFunc:()=>{}};let a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);let l=this.createPopupWrapper(n,i,!!r),c=this.addEventListenersToPopup(De(V({},e),{wrapperEl:l}));return o&&o(),this.addPopupToPopupList(n,l,c,s),{hideFunc:c}}initialisePopupPosition(e){let n=this.getPopupParent().getBoundingClientRect();nt(e.style.top)||(e.style.top=`${n.top*-1}px`),nt(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){let i=this.getPopupParent(),{environment:r,gos:o}=this.beans,s=ki({tag:"div"});return r.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Yf(e,"dialog"),bC(e,t),s.appendChild(e),i.appendChild(s),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){let t=this.beans,n=Ao(t),i=this.getPopupParent(),{wrapperEl:r,eChild:o,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:c}=e,d=!1,h=v=>{if(!r.contains(tr(t)))return;v.key===me.ESCAPE&&!lh(v)&&m({keyboardEvent:v})},f=v=>m({mouseEvent:v}),g=v=>m({touchEvent:v}),m=(v={})=>{let{mouseEvent:C,touchEvent:y,keyboardEvent:x,forceHide:_}=v;!_&&(this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:y},o)||d)||(d=!0,i.removeChild(r),n.removeEventListener("keydown",h),n.removeEventListener("mousedown",f),n.removeEventListener("touchstart",g),n.removeEventListener("contextmenu",f),this.eventSvc.removeEventListener("dragStarted",f),s&&s(C||y||x),this.removePopupFromPopupList(o))};return a&&a({hidePopup:m}),window.setTimeout(()=>{l&&n.addEventListener("keydown",h),c&&(n.addEventListener("mousedown",f),this.eventSvc.addEventListener("dragStarted",f),n.addEventListener("touchstart",g),n.addEventListener("contextmenu",f))},0),m}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:I7e++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;let r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,o=i.getBoundingClientRect(),s=h=>parseInt(h.substring(0,h.length-1),10),a=(h,f)=>{let g=n[h]-o[h],m=s(r.style[h]);return{initialDiff:g,lastDiff:g,initial:m,last:m,direction:f}},l=a("top",0),c=a("left",1),d=this.beans.frameworkOverrides;return new pr(h=>{d.wrapIncoming(()=>{d.setInterval(()=>{let f=t.getBoundingClientRect(),g=i.getBoundingClientRect();if(g.top==0&&g.left==0&&g.height==0&&g.width==0){e.hidePopup();return}let v=(C,y)=>{let x=s(r.style[y]);C.last!==x&&(C.initial=x,C.last=x);let _=f[y]-g[y];if(_!=C.lastDiff){let R=this.keepXYWithinBounds(r,C.initial+C.initialDiff-_,C.direction);r.style[y]=`${R}px`,C.last=R}C.lastDiff=_};v(l,"top"),v(c,"left")},200).then(f=>{h(()=>{f!=null&&window.clearInterval(f)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;let o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){let a=this.popupList[s];if(dOe(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){let t=Ao(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){let t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;let o=[],s=[];for(let f of n)f!==r&&(f.classList.contains("ag-always-on-top")?s.push(f):o.push(f));let a=[],l=s.length,h=r.classList.contains("ag-always-on-top")||!l?[...o,...s,r]:[...o,r,...s];for(let f=0;f<=i;f++){let g=h[f];if(n[f]===h[f]||g===r)continue;g.querySelectorAll("div").forEach(v=>{v.scrollTop!==0&&a.push([v,v.scrollTop])}),f===0?t.insertAdjacentElement("afterbegin",g):h[f-1].insertAdjacentElement("afterend",g)}for(;a.length;){let f=a.pop();f[0].scrollTop=f[1]}}},II={moduleName:"Popup",version:ct,beans:[F7e]},A7e=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function k7e(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function P7e(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function O7e(e,t){let n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function L7e(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function N7e(e){return e.filterManager?.getFilterModel()??{}}function B7e(e,t,n){let{gos:i,colModel:r,colFilter:o}=e;n&&!i.get("enableFilterHandlers")&&(je(288),n=!1);let s=r.getColDefCol(t);return s?o?.getModelForColumn(s,n)??null:null}function V7e(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function H7e(e,t){let n=e.colModel.getCol(t);if(!n){li(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function G7e(e,t){let n=e.colModel.getCol(t);if(!n){li(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function z7e(e,t){let{colModel:n,colFilter:i,gos:r}=e;if(!r.get("enableFilterHandlers")){je(287);return}let{colId:o,action:s}=t;if(o){let a=n.getColById(o);a&&i?.updateModel(a,s)}else i?.updateAllModels(s)}var U7e={filterHandler:()=>({doesFilterPass:()=>!0})},W7e=class extends _e{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap=V({},Jne),this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n,groupsChanged:i})=>{(i||n.rowDataUpdated)&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});let e=this.gos,t=V({},e.get("initialState")?.filter?.filterModel??{});this.initialModel=t,this.model=V({},t),e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}setModel(e,t="api"){let{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}let o=[],s=this.getModel(!0);if(e){let a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{let d=e[c];o.push(this.setModelOnFilterWrapper(l,d)),a.delete(c)}),a.forEach(l=>{let c=n.getColDefCol(l)||n.getCol(l);if(!c){je(62,{colId:l});return}if(!c.isFilterAllowed()){je(63,{colId:l});return}let d=this.getOrCreateFilterWrapper(c,!0);if(!d){je(64,{colId:l});return}o.push(this.setModelOnFilterWrapper(d,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{o.push(this.setModelOnFilterWrapper(a,null))});pr.all(o).then(()=>{let a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,d)=>{let h=s?s[d]:null,f=a?a[d]:null;z_(h,f)||l.push(c.column)}),l.length>0&&r?.onFilterChanged({columns:l,source:t})})}getModel(e){let t={},{allColumnFilters:n,initialModel:i,beans:{colModel:r}}=this;if(n.forEach((o,s)=>{let a=this.getModelFromFilterWrapper(o);nt(a)&&(t[s]=a)}),!e)for(let o of Object.keys(i)){let s=i[o];nt(s)&&!n.has(o)&&r.getCol(o)?.isFilterAllowed()&&(t[o]=s)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(let i of Object.keys(t)){let r=t[i];this.state.set(i,{model:Fo(this.model,i),state:r})}this.setModel(e,n)}getState(){let e=this.state;if(!e.size)return;let t={},n=!1;return e.forEach((i,r)=>{let o=i.state;o!=null&&(n=!0,t[r]=o)}),n?t:void 0}getModelFromFilterWrapper(e){let n=e.column.getColId();if(e.isHandler)return Fo(this.model,n);let i=e.filter;return i?typeof i.getModel!="function"?(je(66),null):i.getModel():Fo(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){let e=c=>c?c.isFilterActive?c.isFilterActive():(je(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!z8(n),r=c=>{if(!c.isPrimary())return!0;let h=!t.isPivotActive();return!c.isValueActive()||!h?!1:t.isPivotMode()?!0:i},o=[],s=[],a=(c,d,h)=>{d&&(r(c)?o.push(h):s.push(h))},l=[];return this.allColumnFilters.forEach(c=>{let d=c.column,h=d.getColId();if(c.isHandler)l.push(pr.resolve().then(()=>{a(d,this.isHandlerActive(d),{colId:h,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{let f=Uf(c);f&&l.push(f.then(g=>{a(d,e(g),{colId:h,isHandler:!1,comp:g})}))}}),pr.all(l).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){let n=[];return this.allColumnFilters.forEach(i=>{let r=i.column;if(i.isHandler)n.push(pr.resolve().then(()=>{this.setColFilterActive(r,this.isHandlerActive(r),e,t)}));else{let o=Uf(i);o&&n.push(o.then(s=>{this.setColFilterActive(r,s.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),pr.all(n)}doFiltersPass(e,t,n){let{data:i,aggData:r}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:i,a=this.model;for(let l=0;l<o.length;l++){let c=o[l],{colId:d,isHandler:h}=c;if(d!==t)if(h){let{handler:f,handlerParams:g}=c;if(!f.doesFilterPass({node:e,data:s,model:Fo(a,d),handlerParams:g}))return!1}else{let f=c.comp;if(typeof f.doesFilterPass!="function"){li(91);continue}if(!f.doesFilterPass({node:e,data:s}))return!1}}return!0}getHandlerParams(e){let t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){let{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{let{column:o,isHandler:s}=r;i!==o.getColId()&&(s&&r.handler.onAnyFilterChanged?.(),Uf(r,s)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){let t=[];this.allColumnFilters.forEach(n=>{let i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();let r=Uf(n,i);r&&t.push(r.then(o=>{o.onNewRowsLoaded?.()}))}),pr.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){let{filterValueSvc:n,colModel:i}=this.beans;return(r,o)=>{let s=o?i.getCol(o):e;return s?n.getValue(s,r,t):void 0}}isFilterActive(e){let t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);let n=t?.filter;return n?n.isFilterActive():Fo(this.initialModel,e.getColId())!=null}isHandlerActive(e){let t=nt(Fo(this.model,e.getColId()));if(t)return t;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){let t=this.getOrCreateFilterWrapper(e,!0);return t?Uf(t):null}getFilterUiForDisplay(e){let t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;let n=Uf(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){let n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return oOe(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":LNe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,r,o){let s=()=>{let c=this.createFilterCompParams(e,r,o),d=i(c,r);return pLe(this.beans.userCompFactory,t,d,n)},a=s();return a?{compDetails:a,createFilterUi:c=>(c?s():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){let r=this.beans.selectableFilter;r?.isSelectable(t)&&(t=r.getFilterDef(e,t));let{handler:o,handlerParams:s,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,i,!!o,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:o,handlerGenerator:a,handlerParams:s};let{compDetails:c,createFilterUi:d}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||je(281,{colId:e.getColId()})),{compDetails:c,handler:o,handlerGenerator:a,handlerParams:s,createFilterUi:d}}createBaseFilterParams(e,t){let{filterManager:n,rowModel:i}=this.beans;return Rt(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:r=>n?.doesRowPassOtherFilters(e.getColId(),r)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){let r=this.filterChangedCallbackFactory(e),o=this.createBaseFilterParams(e,i);if(o.filterChangedCallback=r,o.filterModifiedCallback=i?()=>{}:s=>this.filterModified(e,s),t){let s=o,a=e.getColId(),l=Fo(this.model,a);s.model=l,s.state=this.state.get(a)??{model:l},s.onModelChange=(c,d)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{r(De(V({},d),{source:"columnFilter"}))})},s.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},s.onAction=(c,d,h)=>{this.updateModel(e,c,d),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:h})},s.getHandler=()=>this.getHandler(e,!0),s.onUiChange=c=>this.filterUiChanged(e,c),s.source=n}return o}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){let i=t(),r={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),r}createFilterWrapper(e){let{compDetails:t,handler:n,handlerGenerator:i,handlerParams:r,createFilterUi:o}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),s=e.getColId();if(n)return delete this.initialModel[s],n.init?.(De(V({},r),{source:"init",model:Fo(this.model,s)})),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:r,filterUi:this.createFilterUiForHandler(t,o)};if(o){let a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,o,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){let{gos:n,frameworkOverrides:i,registry:r}=this.beans,o,s=h=>{let f=h.filter;if(Rne(f)){let g=f.handler;return g||(o=f.doesFilterPass,o?()=>({doesFilterPass:o}):void 0)}return typeof f=="string"?f:void 0},a=n.get("enableFilterHandlers")?s(e):void 0,l=h=>()=>this.createBean(r.createDynamicBean(h,!0)),c,d;if(typeof a=="string"){let h=n.get("filterHandlers")?.[a];h!=null?c=h:_Ne.has(a)&&(c=l(a),d=a)}else c=a;if(!c){let h,{compName:f,jsComp:g,fwComp:m}=Mne(i,e);f?h=f:g==null&&m==null&&e.filter===!0&&(h=t),d=this.handlerMap[h],d&&(c=l(d))}if(c)return{filterHandler:c,handlerNameOrCallback:o??d}}createHandler(e,t,n){let i=this.createHandlerFunc(t,n);if(!i){let c=this.gos;if(!c.get("enableFilterHandlers"))return;fo(c)&&je(277,{colId:e.getColId()}),i=U7e}let r=d8(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:o,filterHandler:s}=i,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,s,r);return{handler:a,handlerParams:l,handlerGenerator:o??s}}createHandlerFromFunc(e,t,n){let i=e.getColDef(),r=t(Rt(this.gos,{column:e,colDef:i})),o=this.createHandlerParams(e,n);return{handler:r,handlerParams:o}}createHandlerParams(e,t){let n=e.getColDef(),i=e.getColId(),r=this.filterChangedCallbackFactory(e);return Rt(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:o=>this.beans.filterManager?.doesRowPassOtherFilters(i,o)??!0,onModelChange:(o,s)=>{this.updateStoredModel(i,o),this.refreshHandlerAndUi(e,o,"handler").then(()=>{r(De(V({},s),{source:"columnFilter"}))})},filterParams:t})}onColumnsChanged(){let e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((o,s)=>{let a;o.column.isPrimary()?a=t.getColDefCol(s):a=t.getCol(s),!(a&&a===o.column)&&(e.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(s))});let r=i&&e.every(o=>i.isGroupFilter(o));e.length>0&&!r&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){let{userCompFactory:n,frameworkOverrides:i,selectableFilter:r}=this.beans,o=f=>{let g=this.getOrCreateFilterUi(e);g?.then(m=>{f(X_(m))})},s=e.getColDef(),a=r?.isSelectable(s)?r.getFilterDef(e,s):s,l=zNe(i,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),d=d8(n,a,this.createFilterCompParams(e,c,"init",!0)),h=Rt(this.gos,{column:e,filterParams:d,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:o,showParentFilter:t});if(c){let f=h,g=e.getColId(),m=this.filterChangedCallbackFactory(e);f.onUiChange=v=>this.floatingFilterUiChanged(e,v),f.model=Fo(this.model,g),f.onModelChange=(v,C)=>{this.updateStoredModel(g,v),this.refreshHandlerAndUi(e,v,"floating",!0).then(()=>{m(De(V({},C),{source:"columnFilter"}))})},f.getHandler=()=>this.getHandler(e,!0),f.source="init"}return wLe(n,s,h,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){if(e.isHandler){let r=t.getColId();delete this.initialModel[r],this.state.delete(r);let o=e.filterUi,s=this.createFilterUiForHandler(n,i);e.filterUi=s,o?.created&&o.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){let n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{r&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1,{column:i,isHandler:r,filterUi:o}=e,s=i.getColId();r&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[s],this.state.delete(s));let a=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(s),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(o){if(o.created)return o.promise.then(l=>(n=r?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return pr.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){let n=this.allColumnFilters.get(e);if(!n)return;let i=this.beans,r=n.column,o=r.getColDef(),s=r.isFilterAllowed(),a=this.getDefaultFilter(r),l=i.selectableFilter,c=l?.isSelectable(o)?l.getFilterDef(r,o):o,d=s?this.createHandlerFunc(c,this.getDefaultFilter(r)):void 0,h=!!d,f=n.isHandler;if(f!=h){this.destroyFilter(r,"paramsUpdated");return}let{compDetails:g,createFilterUi:m}=(s?this.createFilterComp(r,c,a,C=>C,h,"colDef"):null)??{compDetails:null,createFilterUi:null},v=g?.params??d8(i.userCompFactory,c,this.createFilterCompParams(r,h,"colDef"));if(f){let C=d?.handlerNameOrCallback??d?.filterHandler,y=Fo(this.model,e);if(n.handlerGenerator!=C){let x=n.handler,{handler:_,handlerParams:R}=this.createHandlerFromFunc(r,d.filterHandler,v);n.handler=_,n.handlerParams=R,n.handlerGenerator=C,delete this.model[e],_.init?.(De(V({},R),{source:"init",model:null})),this.destroyBean(x),y!=null&&this.beans.filterManager?.onFilterChanged({columns:[r],source:t})}else{let x=this.createHandlerParams(r,g?.params);n.handlerParams=x,n.handler.refresh?.(De(V({},x),{source:"colDef",model:y}))}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,g)||!n.filterUi||!g){this.destroyFilterUi(n,r,g,m);return}n.filterUi.filterParams=v,Uf(n,f)?.then(C=>{(C?.refresh?C.refresh(v):!0)===!1?this.destroyFilterUi(n,r,g,m):this.dispatchLocalEvent({type:"filterParamsChanged",column:r,params:v})})}refreshHandlerAndUi(e,t,n,i){let r=this.cachedFilter(e);if(!r)return i&&this.getOrCreateFilterWrapper(e,!0),pr.resolve();if(!r.isHandler)return pr.resolve();let{filterUi:o,handler:s,handlerParams:a}=r;return xNe(()=>{if(o){let{created:l,filterParams:c}=o;if(l)return o.promise.then(d=>d?{filter:d,filterParams:c}:void 0);o.refreshed=!0}return pr.resolve(void 0)},s,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){let n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){let t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);let n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(r=>{i(X_(r))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){let{state:i,model:r}=this,o=e.getColId(),s=i.get(o);return s?s.model??null:Fo(r,o)}let n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{},i=new Promise(r=>{n=r});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:Fo(this.model,e)}}setModelForColumnLegacy(e,t){let n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):pr.resolve()}setColDefPropsForDataType(e,t,n){let i=e.filter,r=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof r!="string")return;let o,s,a=this.beans,{filterParams:l,filterValueGetter:c}=e;r==="agMultiColumnFilter"?{filterParams:o,filterValueGetter:s}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:o,filterValueGetter:s}=kNe(r,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=o,s&&(e.filterValueGetter=s)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new pr(i=>{if(e.isHandler){let o=e.column,s=o.getColId(),a=this.model[s];if(this.updateStoredModel(s,t),n&&t===a){i();return}this.refreshHandlerAndUi(o,t,"api").then(()=>i());return}let r=Uf(e);if(r){r.then(o=>{if(typeof o?.setModel!="function"){je(65),i();return}(o.setModel(t)||pr.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){nt(t)?this.model[e]=t:delete this.model[e];let n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent(V({type:"filterModified",column:e,filterInstance:n},t))})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(V({type:"filterUiChanged",column:e},t))}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent(V({type:"floatingFilterUiChanged",column:e},t))}updateModel(e,t,n){let i=e.getColId(),r=()=>this.cachedFilter(e)?.filterUi;Lee(t,r,()=>Fo(this.model,i),()=>this.state.get(i),o=>this.updateState(e,o),o=>r()?.filterParams?.onModelChange(o,n))}updateAllModels(e,t){let n=[];this.allColumnFilters.forEach((i,r)=>{let o=this.beans.colModel.getColDefCol(r);o&&Lee(e,()=>i.filterUi,()=>Fo(this.model,r),()=>this.state.get(r),s=>this.updateState(o,s),s=>{this.updateStoredModel(r,s),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),n.push(this.refreshHandlerAndUi(o,s,"ui"))})}),n.length&&pr.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){let t=e.getColId();tie(()=>this.cachedFilter(e)?.filterUi,()=>Fo(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){let{state:e,model:t,activeFilterComps:n}=this;for(let r of n)if(r.source==="COLUMN_MENU")return!1;let i=!1;for(let r of e.keys()){let o=e.get(r);if(o.valid===!1)return!1;(o.model??null)!==Fo(t,r)&&(i=!0)}return i}hasUnappliedModel(e){let{model:t,state:n}=this;return(n.get(e)?.model??null)!==Fo(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;let n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function j7e(e){return!!e.filterManager?.isAnyFilterPresent()}function $7e(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var q7e=class extends _e{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){z8(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):pr.resolve()).then(()=>{let r={source:t,type:"filterChanged",columns:i};n&&Qs(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!z8(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){je(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},K7e=class extends _e{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,r=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,tl(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let r=-1,o="left",s=tl(this.gos);!s&&this.gos.get("enableRtl")&&(r=1,o="right");let a=s?void 0:4*r,l=s?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},n,t,s,i)}showPopup(e,t,n,i,r,o){let s=e?this.createBean(new INe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){li(57);return}let a=ki({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:v=>this.trapFocusWithin(v,a)}),a.appendChild(s?.getGui());let l,c=()=>s?.afterGuiDetached(),d=sOe(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,h=v=>{jee(e,!1,"contextMenu");let C=v instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),C&&i&&kc(i)&&jne(i)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),o?.()},f=this.getLocaleTextFunc(),g=r&&n!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),m=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(a),anchorToElement:d,ariaLabel:g});m&&(this.hidePopup=l=m.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:n,hidePopup:l})}),jee(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==me.TAB||e.defaultPrevented||sm(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),em(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},X7e=class extends _e{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;let i=e.getColDef(),{selectableFilter:r,valueSvc:o}=this.beans,s=n??r?.getFilterValueGetter(e.getColId())??i.filterValueGetter;return s?this.executeFilterValueGetter(s,t.data,e,t,i):o.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){let{expressionSvc:o,valueSvc:s}=this.beans,a=Rt(this.gos,{data:t,node:i,column:n,colDef:r,getValue:s.getValueCallback.bind(s,i)});return typeof e=="function"?e(a):o?.evaluate(e,a)}},Y7e={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},Z7e=class extends Gn{constructor(){super(Y7e,[DI]),this.eFloatingFilterText=st}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){let n=e,i=n.getHandler();if(i.getModelAsString){let r=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(r)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},YB=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){let n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){let{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;let n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(o=>t[o]!=null)?!0:(je(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){let{filterOptions:t}=this;if(e)return e;if(t.length>=1){let n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;je(73)}else je(74)}getCustomOption(e){return this.customFilterOptions[e]}};function G_(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function wI(e){return e==null||typeof e=="string"&&e.trim().length===0}function Q7e(e){return e==="AND"||e==="OR"?e:"AND"}function J7e(e,t,n){if(e==null)return;let{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function eGe(e,t){let n=e.length;return n>t&&(e.splice(t),je(78),n=t),n}function tx(e,t){let n=t.getCustomOption(e);if(n){let{numberOfInputs:r}=n;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var ZB=class extends HNe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);let t=new YB;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=Q7e(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();let t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{let i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){let n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let o;if(n){let s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{let s=e,a=t;o=s.operator===a.operator&&rm(s.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),pr.resolve();if(e.operator){let i=e,r=i.conditions;r==null&&(r=[],je(77));let o=eGe(r,this.maxNumConditions),s=this.getNumConditions();if(o<s)this.removeConditionsAndOperators(o);else if(o>s)for(let l=s;l<o;l++)this.createJoinOperatorPanel(),this.createOption();let a=i.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),r.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),pr.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(je(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(je(80),n=1),n>t&&(je(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){let e=this.getGui(),t=this.createManagedBean(new UB);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());let n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);let i=this.getNumConditions()-1;this.forEachPositionInput(i,r=>this.resetInput(r)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){let e=ki({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);let t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);let i=this.eJoinPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){let i=this.createManagedBean(new g6e);e.push(i);let r="ag-filter-condition-operator";return i.addCss(r),i.addCss(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);let i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{let o=this.isConditionDisabled(r,e);i.setDisabled(o||this.filterListOptions.length<=1),r===1&&(W_(this.eJoinPanels[0],o),this.eJoinAnds[0].setDisabled(o),this.eJoinOrs[0].setDisabled(o))}),this.eConditionBodies.forEach((i,r)=>{Ki(i,this.isConditionBodyVisible(r))});let n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOrs.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,o,s)=>{this.setElementDisplayed(i,r<s),this.setElementDisabled(i,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:n,eConditionBodies:i,eJoinPanels:r,eJoinAnds:o,eJoinOrs:s}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);let a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,n){G_(e,t,n).forEach(r=>Zs(r))}removeComponents(e,t,n){G_(e,t,n).forEach(r=>{Zs(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){let n=this.getInputs(0)[0];n instanceof Ug&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();let e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1,r=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{let a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),i=!0,l&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){let i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof Ug))return;let o=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",s=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,i)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof Ug&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Gn&&Ki(e.getGui(),t)}setElementDisabled(e,t){e instanceof Gn&&W_(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Ug&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){let i=tx(t,this.optionsFactory),r=this.getInputs(e);for(let o=0;o<r.length;o++){let s=r[o];s!=null&&n(s,o,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return tx(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){let n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){let e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,r,o)=>{o===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},tre=class{constructor(e,t,n,i,r,o){this.alive=!0,this.context=e,this.eParent=r;let s=gLe(t,n,i);s&&s.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),a?.afterGuiAttached?.();let{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),o?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Ki(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},QB=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function nre(e,t){let{dateFrom:n,dateTo:i,type:r}=e||{};return[n&&ka(n)||null,i&&ka(i)||null].slice(0,tx(r,t))}var wte=1e3,yte=1/0,tGe=class extends ZB{constructor(){super("dateFilter",nre,QB),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=wte,this.maxValidYear=yte,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);let t=(l,c)=>{let d=e[l];if(d!=null)if(isNaN(d))je(82,{param:l});else return d==null?c:Number(d);return c},n=t("minValidYear",wte),i=t("maxValidYear",yte);this.minValidYear=n,this.maxValidYear=i,n>i&&je(83);let{minValidDate:r,maxValidDate:o}=e,s=r instanceof Date?r:ka(r);this.minValidDate=s;let a=o instanceof Date?o:ka(o);this.maxValidDate=a,s&&a&&s>a&&je(84)}createDateCompWrapper(e){let{beans:{userCompFactory:t,context:n,gos:i},params:r}=this,o=new tre(n,t,r.colDef,Rt(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){let e=ki({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){let r=ki({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(r),e.appendChild(r),n.push(this.createDateCompWrapper(r))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),G_(this.eConditionPanelsFrom,e,t),G_(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){G_(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,o)=>{r!==e||!t||i>=o||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=il(i[0])),i.length>1&&(n.dateTo=il(i[1])),V({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},n)}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},ire=class extends _e{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){let t=e.filterParams,n=new YB;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){let t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){let t=e.model;if(t==null)return!0;let{operator:n}=t,i=[];if(n){let s=t;i.push(...s.conditions??[])}else i.push(t);let r=n&&n==="OR"?"some":"every",o=this.params.getValue(e.node);return i[r](s=>this.individualConditionPasses(e,s,o))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){let{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let o=GNe(t)?t.conditions:[t],s=n?.map(d=>typeof d=="string"?d:d.displayKey)??this.defaultOptions;if(!(!o||o.every(d=>s.find(h=>h===d.type)!==void 0))){this.params=De(V({},e),{model:null}),e.onModelChange(null);return}let l=!1,c=this.filterType;if((o&&!o.every(d=>d.filterType===c)||t.filterType!==c)&&(o=o.map(d=>De(V({},d),{filterType:c})),l=!0),typeof i=="number"&&o&&o.length>i&&(o=o.slice(0,i),l=!0),l){let d=o.length>1?De(V({},t),{filterType:c,conditions:o}):De(V({},o[0]),{filterType:c});this.params=De(V({},e),{model:d}),e.onModelChange(d);return}}individualConditionPasses(e,t,n){let i=this.optionsFactory,r=this.mapValuesFromModel(t,i),o=i.getCustomOption(t.type),s=J7e(o,r,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}},rre=class extends ire{evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:o}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){let i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";let r=this.comparator(),o=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let s=r(e[1],t);return this.params.filterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return wI(t);case"notBlank":return!wI(t);default:return je(76,{filterModelType:i}),!0}}},ore={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},nGe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},JB=class extends _e{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){let n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?qf(this,"filterSummaryInactive"):null;if(e.operator!=null){let o=e,a=(o.conditions??[]).map(c=>this.getModelAsString(c,t)),l=o.operator==="AND"?"andCondition":"orCondition";return a.join(` ${qf(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?qf(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{let o=e,s=this.optionsFactory.getCustomOption(o.type),{displayKey:a,displayName:l,numberOfInputs:c}=s||{};return a&&l&&c===0?n(a,l):this.conditionToString(o,i,o.type==="inRange"||c===2,a,l)}}}updateParams(e){let{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,r,o){let s,a=this.getTypeKey(e);return a&&(s=qf(this,a)),r&&o&&(s=this.getLocaleTextFunc()(r,o)),s!=null?t?`${s} ${qf(this,"filterSummaryInRangeValues",[n(),i()])}`:`${s} ${n()}`:null}getTypeKey(e){let t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e)}},sre=class extends JB{constructor(e,t){super(e,t,n=>{let{dataTypeSvc:i,valueSvc:r}=this.beans,o=t.column,a=i?.getDateFormatterFunction(o)?.(n??void 0);return r.formatValue(o,null,a)}),this.filterTypeKeys=ore}conditionToString(e,t,n,i,r){let{type:o}=e,s=ka(e.dateFrom),a=ka(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):f=>Z8(f,l),d=()=>s!==null?c(s):"null",h=()=>a!==null?c(a):"null";if(t){let f=this.conditionForToolPanel(o,n,d,h,i,r);if(f!=null)return f}return n?`${d()}-${h()}`:s!=null?c(s):`${o}`}};function iGe(e,t){let n=t;return n<e?-1:n>e?1:0}var rGe=class extends rre{constructor(){super(nre,QB),this.filterType="date",this.FilterModelFormatterClass=sre}comparator(){return this.params.filterParams.comparator??iGe}isValid(e){let t=this.params.filterParams.isValidDate;return!t||t(e)}},are=class extends Gn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;let t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){let n=e;this.onModelUpdated(n.model)}}setParams(e){let t=new YB;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;let t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){let{source:i,model:r}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(r)}}updateParams(e){let t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},oGe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},sGe=class extends are{constructor(){super(oGe,[DI]),this.eReadOnlyText=st,this.eDateWrapper=st,this.FilterModelFormatterClass=sre,this.filterType="date",this.defaultOptions=QB}setParams(e){super.setParams(e),this.createDateComponent();let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let n=e?ka(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ki(this.eDateWrapper,e),Ki(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){let e=this.dateComp.getDate();if(this.reactive){let t=this.params;t.onUiChange();let n=t.model,i=il(e),r=i==null?null:De(V({},n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption}),{dateFrom:i});t.onModelChange(r,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){let{filterParams:e}=this.params,t=IB(e,this.defaultDebounceMs);return Rt(this.gos,{onDateChanged:Qo(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new tre(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},aGe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},lGe=class extends Gn{constructor(){super(aGe,[DI]),this.eDateInput=st,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){let t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&nm();let{minValidYear:i,maxValidYear:r,minValidDate:o,maxValidDate:s,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},d=this.beans.dataTypeSvc,h=l??d?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?h?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",o&&i&&je(85),s&&r&&je(86),o&&s){let[f,g]=[o,s].map(m=>m instanceof Date?m:ka(m));f&&g&&f.getTime()>g.getTime()&&je(87)}o?o instanceof Date?t.min=Z8(o):t.min=o:i&&(t.min=`${i}-01-01`),s?s instanceof Date?t.max=Z8(s):t.max=s:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return ka(this.eDateInput.getValue())}setDate(e){let t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(il(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},e5=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function uB(e){let{allowedCharPattern:t}=e??{};return t??null}function hB(e){return e==null||isNaN(e)?null:e}function lre(e,t){let{filter:n,filterTo:i,type:r}=e||{};return[hB(n),hB(i)].slice(0,tx(r,t))}var cGe=class extends ZB{constructor(){super("numberFilter",lre,e5),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){let{numberFormatter:i}=this.params,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createEValue(){let e=uB(this.params),t=ki({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){let r=this.createManagedBean(i?new am({allowedCharPattern:i}):new zB);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){let n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(hB(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=ah(e);t!=null&&t.trim()===""&&(t=null);let n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},cre=class extends JB{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=ore}conditionToString(e,t,n,i,r){let{filter:o,filterTo:s,type:a}=e,l=this.formatValue.bind(this);if(t){let c=this.conditionForToolPanel(a,n,()=>l(o),()=>l(s),i,r);if(c!=null)return c}return n?`${l(o)}-${l(s)}`:o!=null?l(o):`${a}`}},dGe=class extends rre{constructor(){super(lre,e5),this.filterType="number",this.FilterModelFormatterClass=cre}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},dre=class extends _e{constructor(e){super(),this.params=e,this.eInput=st,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new am(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){let{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function ure(e){let t=e?.trim();return t===""?e:t}function hre(e,t){let{filter:n,filterTo:i,type:r}=e||{};return[n||null,i||null].slice(0,tx(r,t))}var uGe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},fre=class extends are{constructor(){super(...arguments),this.eFloatingFilterInputContainer=st,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(uGe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){let t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=SI(e.filterParams),!r){let o=IB(e.filterParams,i),s=Qo(this,this.syncUpWithParentFilter.bind(this),o);n.setValueChangedListener(s)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,n=t.getValue();Is(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){let t=e.key===me.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;let{inputSvc:i,params:r,lastType:o}=this,s=i.getValue();if(r.filterParams.trimInput&&(s=ure(s),i.setValue(s,!0)),n){let a=r,l=a.model,c=this.convertValue(s),d=c==null?null:De(V({},l??{filterType:this.filterType,type:o??this.optionsFactory.defaultOption}),{filter:c});a.onModelChange(d,{afterFloatingFilter:!0})}else r.parentFilterInstance(a=>{a?.onFloatingFilterChanged(o||null,s||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},hGe=class extends _e{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new zB),this.eTextInput=this.createManagedBean(new am),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},fGe=class extends fre{constructor(){super(...arguments),this.FilterModelFormatterClass=cre,this.filterType="number",this.defaultOptions=e5}updateParams(e){uB(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=uB(e.filterParams),this.allowedCharPattern?this.createManagedBean(new dre({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new hGe)}convertValue(e){return e?Number(e):null}},t5=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],pGe=class extends ZB{constructor(){super("textFilter",hre,t5),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let n=[];return this.forEachPositionInput(e,(i,r,o,s)=>{if(r<s){let a=ah(i.getValue());t&&this.params.trimInput&&(a=ure(a)??null,i.setValue(a,!0)),n.push(a)}}),n}createEValue(){let e=ki({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){let i=this.createManagedBean(new am);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){let n=o=>this.removeComponents(o,e,t),{eValuesFrom:i,eValuesTo:r}=this;n(i),n(r)}},pre=class extends JB{constructor(){super(...arguments),this.filterTypeKeys=nGe}conditionToString(e,t,n,i,r){let{filter:o,filterTo:s,type:a}=e;if(t){let l=d=>()=>qf(this,"filterSummaryTextQuote",[d]),c=this.conditionForToolPanel(a,n,l(o),l(s),i,r);if(c!=null)return c}return n?`${o}-${s}`:o!=null?`${o}`:`${a}`}},gGe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{let i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},mGe=e=>e,vGe=e=>e==null?null:e.toString().toLowerCase(),CGe=class extends ire{constructor(){super(hre,t5),this.filterType="text",this.FilterModelFormatterClass=pre}updateParams(e){super.updateParams(e),this.matcher=e.textMatcher??gGe,this.formatter=e.textFormatter??(e.caseSensitive?mGe:vGe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){let r=e.map(f=>this.formatter(f))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:c,filterParams:{textFormatter:d}}=this.params;if(n.type==="blank")return wI(t);if(n.type==="notBlank")return!wI(t);let h={api:s,colDef:a,column:l,context:c,node:i.node,data:i.data,filterOption:n.type,value:o,textFormatter:d};return r.some(f=>this.matcher(De(V({},h),{filterText:f})))}},wGe=class extends fre{constructor(){super(...arguments),this.FilterModelFormatterClass=pre,this.filterType="text",this.defaultOptions=t5}createFloatingFilterInputService(){return this.createManagedBean(new dre)}};function yGe(e){return!!e.quickFilter?.isFilterPresent()}function bGe(e){return e.quickFilter?.getText()}function _Ge(e){e.quickFilter?.resetCache()}var xGe=class extends _e{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),o=e?.getColumns(),s=t.getColDefCols(),a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return nt(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){je(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{let i=this.getTextForColumn(n,e);return nt(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);let{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t),i=e.getColDef();if(i.getQuickFilterText){let r=Rt(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return nt(n)?n.toString().toUpperCase():null}getAggText(e){let t=[];return this.colsToUse.forEach(n=>{let i=this.getTextForColumn(n,e);nt(i)&&t.push(i)}),t.join(`
`)}},SGe={moduleName:"ClientSideRowModelFilter",version:ct,rowModels:["clientSide"],beans:[S7e]},n5={moduleName:"FilterCore",version:ct,beans:[q7e],apiFunctions:{isAnyFilterPresent:j7e,onFilterChanged:$7e},css:[A7e],dependsOn:[SGe]},gre={moduleName:"FilterValue",version:ct,beans:[X7e]},MI={moduleName:"ColumnFilter",version:ct,beans:[W7e,K7e],dynamicBeans:{headerFilterCellCtrl:E7e},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:k7e,getColumnFilterInstance:P7e,destroyFilter:O7e,setFilterModel:L7e,getFilterModel:N7e,getColumnFilterModel:B7e,setColumnFilterModel:V7e,showColumnFilter:H7e,getColumnFilterHandler:G7e,doFilterAction:z7e},dependsOn:[n5,II,gre,T7e]},EGe={moduleName:"CustomFilter",version:ct,userComponents:{agReadOnlyFloatingFilter:Z7e},dependsOn:[MI]},DGe={moduleName:"TextFilter",version:ct,dependsOn:[MI],userComponents:{agTextColumnFilter:{classImp:pGe,params:{useForm:!0}},agTextColumnFloatingFilter:wGe},dynamicBeans:{agTextColumnFilterHandler:CGe}},RGe={moduleName:"NumberFilter",version:ct,dependsOn:[MI],userComponents:{agNumberColumnFilter:{classImp:cGe,params:{useForm:!0}},agNumberColumnFloatingFilter:fGe},dynamicBeans:{agNumberColumnFilterHandler:dGe}},TGe={moduleName:"DateFilter",version:ct,dependsOn:[MI],userComponents:{agDateColumnFilter:{classImp:tGe,params:{useForm:!0}},agDateInput:lGe,agDateColumnFloatingFilter:sGe},dynamicBeans:{agDateColumnFilterHandler:rGe}},IGe={moduleName:"QuickFilterCore",version:ct,rowModels:["clientSide"],beans:[xGe],dependsOn:[n5,gre]},MGe={moduleName:"QuickFilter",version:ct,apiFunctions:{isQuickFilterPresent:yGe,getQuickFilter:bGe,resetQuickFilter:_Ge},dependsOn:[IGe]},FGe={moduleName:"ExternalFilter",version:ct,dependsOn:[n5]},AGe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",M8=(e,t,n)=>{let{editModelSvc:i}=e,r=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,o=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,s=r||o;return s&&s.length?s.join(n("tooltipValidationErrorSeparator",". ")):void 0},kGe=class extends _e{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);let r=I8(this.gos),{column:o,eGui:s}=t,a=o.getColDef();!i&&r&&!a.headerComponent&&(i=U2(()=>s.querySelector(".ag-header-cell-text")));let l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>n??o.getColDef().headerTooltip,shouldDisplayTooltip:i},c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);let r=I8(this.gos),{column:o,eGui:s}=t,a=o.getColGroupDef();!i&&r&&!a?.headerGroupComponent&&(i=U2(()=>s.querySelector(".ag-header-group-text")));let l={getColumn:()=>o,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);let c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){let{beans:i}=this,{gos:r,editSvc:o}=i,{column:s,rowNode:a}=e,l="cell",c=()=>{let g=!!!o?.isEditing(e)&&M8(i,e,this.getLocaleTextFunc());if(g)return l="cellEditor",g;l="cell";let m=s.getColDef(),v=a.data;if(m.tooltipField&&nt(v))return L_(v,m.tooltipField,s.isTooltipFieldContainsDots());let C=m.tooltipValueGetter;return C?C(Rt(r,{location:"cell",colDef:s.getColDef(),column:s,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},d=I8(r);n||(d&&!e.isCellRenderer()?n=()=>{let f=!!o?.isEditing(e);if(!f&&M8(i,e,this.getLocaleTextFunc()))return!0;if(!s.isTooltipEnabled())return!1;let v=U2(()=>{let C=e.eGui;return C.children.length===0?C:C.querySelector(".ag-cell-value")});return!f&&v()}:n=()=>!o?.isEditing(e));let h={getColumn:()=>s,getColDef:()=>s.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(h,i)}setupFullWidthRowTooltip(e,t,n,i){let r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},o=this.beans,s=o.context;e&&t.destroyBean(e,s);let a=this.createTooltipFeature(r,o);if(a)return t.createBean(a,s)}setupCellEditorTooltip(e,t){let{beans:n}=this,{context:i}=n,r=t.getValidationElement?.();if(!r)return;let o={getGui:()=>r,getTooltipValue:()=>M8(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{let{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),d=!!l&&l.size>0,h=!!c&&c.size>0;return d||h}},s=this.createTooltipFeature(o,n);if(s)return e.createBean(s,i)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=nt(t.tooltipField)||nt(t.tooltipValueGetter)||nt(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},mre={moduleName:"Tooltip",version:ct,beans:[kGe],dynamicBeans:{tooltipFeature:a7e},userComponents:{agTooltipComponent:i7e},dependsOn:[II],css:[AGe]},sC=class{constructor(e){this.cellValueChanges=e}},F8=class extends sC{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},PGe=10,bte=class{constructor(e){this.actionStack=[],this.maxStackSize=e||PGe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},OGe=class extends _e{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&Nne(this.activeCellEdit,t),i=this.activeRowEdit!==null&&PLe(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;let{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:c}=e,d={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new bte(n),this.redoStack=new bte(n),this.addListeners();let i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});let r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});let r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;let o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,s=>s[i],r),o instanceof F8?this.processRange(o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{let{rowIndex:r,rowPinned:o,columnId:s}=i,a={rowIndex:r,rowPinned:o},l=Jf(this.beans,a);l.displayed&&l.setDataValue(s,t(i),n)})}processRange(e){let t,n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;let o=i.startRow,s=i.endRow;r===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));let a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},o=Jf(this.beans,r),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){let{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:o,rangeSvc:s}=this.beans,a=r.getCol(n);if(!a)return;let{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);let c={rowIndex:t,column:a,rowPinned:i};o.setFocusedCell(De(V({},c),{forceBrowserFocus:!0})),s?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new sC(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let n=new sC(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new sC(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new F8(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:n}=this.beans;t&&dh(n)?e=new F8(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new sC(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>{this.batchEditing=!0},batchEditingStopped:e=>{if(!this.batchEditing||(this.batchEditing=!1,e.changes?.length===0))return;let t=new sC(e.changes??[]);this.pushActionsToUndoStack(t),this.cellValueChanges=[]}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},LGe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",NGe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},BGe=class extends EI{constructor(){super(NGe,[GB]),this.eEditor=st}initialiseEditor(e){let t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),n=gB(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},FI=class extends EI{constructor(e){super(),this.cellEditorInput=e,this.eEditor=st}initialiseEditor(e){let{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());let{eEditor:n}=this,{cellStartedEdit:i,eventKey:r,suppressPreventDefault:o}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let s,a=!0;i?(this.focusAfterAttached=!0,r===me.BACKSPACE||r===me.DELETE?s="":r&&r.length===1?o?a=!1:s=r:(s=t.getStartValue(),r!==me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=t.getStartValue()),a&&s!=null&&n.setStartValue(s),this.addGuiEventListener("keydown",l=>{let{key:c}=l;(c===me.PAGE_UP||c===me.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;nm()||t.getFocusableElement().focus();let n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},VGe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},HGe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return VGe}getAgComponents(){return[vie]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:i,step:r,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:r,getValidationErrors:o}=n,s=[],a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){let l=i instanceof Date?i:new Date(i);if(t<l){let c=l.toLocaleDateString();s.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(r){let l=r instanceof Date?r:new Date(r);if(t>l){let c=l.toLocaleDateString();s.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return s.length||(s=null),o?o({value:t,cellEditorParams:n,internalErrors:s}):s}getValue(){let{eEditor:e,params:t}=this,n=e.getDate();return!nt(n)&&!nt(t.value)?t.value:n??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return il(e,this.includeTime??!1)}},GGe=class extends FI{constructor(){super(new HGe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},zGe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},UGe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return zGe}getAgComponents(){return[vie]}init(e,t){this.eEditor=e,this.params=t;let{min:n,max:i,step:r,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){let{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:r,max:o,getValidationErrors:s}=t,a=[];if(i){let l=new Date(i),c=this.getLocaleTextFunc();if(r){let d=new Date(r);if(l<d){let h=d.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${h}`,[h]))}}if(o){let d=new Date(o);if(l>d){let h=d.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${h}`,[h]))}}}return a.length||(a=null),s?s({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){let{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!nt(n)&&!nt(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return il(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ka(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):il(e??null,this.includeTime??!1)??void 0}},WGe=class extends FI{constructor(){super(new UGe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},jGe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},$Ge=class extends EI{constructor(){super(jGe,[v6e]),this.eEditor=st}initialiseEditor(e){let{eEditor:t}=this,{cellStartedEdit:n,value:i,maxLength:r,cols:o,rows:s}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(r||200).setCols(o||60).setRows(s||10),i!=null&&t.setValue(i.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===me.LEFT||t===me.UP||t===me.RIGHT||t===me.DOWN||e.shiftKey&&t===me.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.getLocaleTextFunc();this.eEditor.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eEditor.getFocusableElement().focus()}getValue(){let{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!nt(i)&&!nt(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),r=this.getValue(),o=[];return typeof r=="string"&&t!=null&&r.length>t&&o.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:r,internalErrors:o,cellEditorParams:e}):o}},qGe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},KGe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return qGe}getAgComponents(){return[C6e]}init(e,t){this.eEditor=e,this.params=t;let{max:n,min:i,precision:r,step:o}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),o!=null&&e.setStep(o);let s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}getValidationErrors(){let{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,o=this.eEditor.getInputElement().valueAsNumber,s=this.getLocaleTextFunc(),a=[];return typeof o=="number"&&(t!=null&&o<t&&a.push(s("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&o>n&&a.push(s("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),i?i({value:o,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===me.UP||e.key===me.DOWN)&&e.preventDefault()}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();if(!nt(n)&&!nt(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){nm()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},XGe=class extends FI{constructor(){super(new KGe(()=>this.getLocaleTextFunc()))}},YGe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},ZGe=class extends EI{constructor(){super(YGe,[E6e]),this.eEditor=st,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;let{eEditor:t,valueSvc:n,gos:i}=this,{values:r,value:o,eventKey:s}=e;if(Hi(r)){je(58);return}this.startedByEnter=s!=null?s===me.ENTER:!1;let a=!1;r.forEach(h=>{let f={value:h},g=n.formatValue(e.column,null,h),m=g!=null;f.text=m?g:h,t.addOption(f),a=a||o===h}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){let{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue(),r=[];if(t&&!t.includes(i)){let o=this.getLocaleTextFunc();r.push(o("invalidSelectionValidation","Invalid selection."))}else r=null;return n?n({value:i,internalErrors:r,cellEditorParams:e}):r}},QGe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},JGe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return QGe}getAgComponents(){return[DI]}init(e,t){this.eEditor=e,this.params=t;let n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){let{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),r=this.getLocaleTextFunc(),o=[];return t!=null&&typeof i=="string"&&i.length>t&&o.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:i,cellEditorParams:e,internalErrors:o}):o}getValue(){let{eEditor:e,params:t}=this,n=e.getValue();return!nt(n)&&!nt(t.value)?t.value:t.parseValue(n)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){let e=this.eEditor,t=e.getValue(),n=nt(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},_te=class extends FI{constructor(){super(new JGe(()=>this.getLocaleTextFunc()))}};function eze(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function tze(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function vre(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function Cre(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function nze(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function ize(e){e.undoRedo?.undo("api")}function rze(e){e.undoRedo?.redo("api")}function oze(e){let t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,r)=>{let{rowIndex:o,rowPinned:s}=r;i.forEach(({newValue:a,oldValue:l,state:c},d)=>{let h=Xf({newValue:a,oldValue:l});a===rl&&(a=void 0);let f={newValue:a,oldValue:l,state:c,column:d,colId:d.getColId(),colKey:d.getColId(),rowIndex:o,rowPinned:s};(c==="editing"||c==="changed"&&h)&&n.push(f)})}),n}function sze(e,t=!1){let{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(i=>{i.state==="editing"&&n.revertSingleCellEdit(i)}):Kf(e),mC(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function aze(e,t){let n=Ur(e,t);return e.editSvc?.isEditing(n)??!1}function lze(e,t){let{key:n,colKey:i,rowIndex:r,rowPinned:o}=t,{editSvc:s,colModel:a}=e,l=a.getCol(i);if(!l){je(12,{colKey:i});return}let c={rowIndex:r,rowPinned:o||null,column:l};o==null&&Cre(e,r),vre(e,i),aC(e,c)&&s?.setEditingCells([De(V({},c),{colId:l.getColId(),newValue:n,state:"editing"})],{update:!0})}function cze(e){return e.editSvc?.validateEdit()||null}function dze(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function uze(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var hze={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},fze=class extends VB{constructor(e){super(hze),this.params=e}postConstruct(){Qg(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,n=i=>{eB(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},yI=(e,t=!1)=>{if(e!==void 0)return Xf(e)||t&&e.state==="editing"};function wre(e,t,n=!1){return yI(e.editModelSvc?.getEdit(t),n)}function yre(e,t){let{editModelSvc:n}=e,{column:i,rowNode:r}=t;if(e.gos.get("groupTotalRow")&&!r?.footer)return!1;for(let o of r?.allLeafChildren??[])if(yI(n?.getEdit({rowNode:o,column:i}))||yI(n?.getEdit({rowNode:o.pinnedSibling,column:i})))return!0}function bre(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return yI(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var pze=class extends _e{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){let{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){let r=wre(n,e)||yre(n,e)||bre(n,e);this.applyBatchingStyle(r)}else this.applyBatchingStyle(!1);let i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},gze=class extends _e{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){let{rowCtrl:e,editModelSvc:t,beans:n}=this,i=e.rowNode,r=t?.getEditRow(i),o=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!r&&i.pinnedSibling&&(i=i.pinnedSibling,r=t?.getEditRow(i)),r){let s=Array.from(r.keys()).some(a=>{let l={rowNode:i,column:a};return wre(n,l,!0)||yre(n,l)||bre(n,l)});this.applyStyle(o,s);return}this.applyStyle(o)}applyStyle(e=!1,t=!1){let n=this.editSvc?.isBatchEditing()??!1,i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:r})=>{r.toggleCss("ag-row-editing",i&&t),r.toggleCss("ag-row-batch-edit",i&&t&&n),r.toggleCss("ag-row-inline-editing",t),r.toggleCss("ag-row-not-inline-editing",!t),r.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},mze=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{let r=new Set;return e.forEachNode(o=>i.has(o)&&r.add(o)),t?.forEachPinnedRow("top",o=>i.has(o)&&r.add(o)),t?.forEachPinnedRow("bottom",o=>i.has(o)&&r.add(o)),i.forEach(o=>{r.has(o)||n.removeEdits({rowNode:o})}),r},vze=({editModelSvc:e},t,n)=>{t.forEach(i=>e?.getEditRow(i)?.forEach((r,o)=>!n.has(o)&&e.removeEdits({rowNode:i,column:o})))},Cze=e=>()=>{let t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());vze(e,mze(e,i),t)},_re={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},wze=new Set(Object.keys(_re)),G2={cancel:!0,source:"api"},yze={cancel:!1,source:"api"},A_={checkSiblings:!0},z2={force:!0,suppressFlash:!0},bze=class extends _e{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){let{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,G2),this.createStrategy(i)});let t=Cze(e),n=()=>{let i=this.model.getCellValidationModel().getCellValidationMap().size>0,r=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||r?this.stopEditing(void 0,G2):this.isEditing()&&(this.isBatchEditing()?mC(e,this.model.getEditPositions()):this.stopEditing(void 0,yze)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,rowDataUpdated:n,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,G2)):(this.stopEditing(void 0,G2),this.batch=!1)}createStrategy(e){let{beans:t,gos:n,strategy:i}=this,r=e??n.get("editType")??"singleCell";if(i){if(i.beanName===r)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(r,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,i)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return WLe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??A_)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){let{startedEdit:n=!0,event:i=null,source:r="ui",ignoreEventKey:o=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;let s=Ur(this.beans,e);if(s&&!s.comp){s.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}let a=this.shouldStartEditing?.(e,i,n,r);if(a===!1&&r!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,r)&&this.stopEditing(void 0,{source:r}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,i,r,o)}stopEditing(e,t){let{event:n,cancel:i,source:r="ui",suppressNavigateAfterEdit:o}=t||{},{beans:s,model:a}=this;if(wze.has(r))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,De(V({},t),{source:_re[r]}));if(!this.isEditing()||!this.strategy)return!1;let l=Ur(s,e);l&&(l.onEditorAttachedFuncs=[]);let c=a.getEditMap(!0),d=!1,h=!i&&!!this.shouldStopEditing(e,n,r),f=i&&!!this.shouldCancelEditing(e,n,r);if(h||f){Kf(s);let g=a.getEditMap();this.processEdits(g,i),this.strategy?.stop(i),this.bulkRefresh(void 0,c),c=g,d||(d=h)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){let g=n.key,m=g===me.ENTER,v=g===me.ESCAPE;(m||v)&&(m?Kf(s):v&&this.revertSingleCellEdit(l,!1),mC(s,a.getEditPositions()),n.preventDefault(),this.bulkRefresh(e,c,{suppressFlash:!0}),c=a.getEditMap())}else Kf(s),c=a.getEditMap();return d&&e&&this.model.removeEdits(e),!o&&l&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,l.cellPosition),q8(s),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),f&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(c.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),d&&h&&this.dispatchBatchEvent("batchEditingStopped",c)),d}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let i=e?me.UP:me.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1)}}processEdits(e,t=!1){let n=Array.from(e.keys()),{beans:i}=this,r=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0;for(let o of n){let s=e.get(o);for(let a of s.keys()){let l=s.get(a),d=Ur(i,{rowNode:o,column:a}),h=Xf(l);!t&&h&&!r&&(d&&(d.suppressRefreshCell=!0),o.setDataValue(a,l.newValue,"commit"),d&&(d.suppressRefreshCell=!1),d?.refreshCell(z2))}}}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(z2)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;let{newValue:i,oldValue:r}=n,{rowIndex:o,rowPinned:s,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:o,rowPinned:s,column:t,source:"api",data:a,newValue:i,oldValue:r,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){let{beans:i,gos:r}=this,{editModelSvc:o,rowModel:s}=i;fo(r,s)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&o?.getEditMap(!1)?.forEach((a,l)=>{for(let c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,i={}){let{beans:r,gos:o}=this,s=new Set([e]),a=new Set,l=e.pinnedSibling;l&&s.add(l);let c=e.sibling;c&&a.add(c);let d=e.parent;for(;d;)d.sibling?.footer&&o.get("groupTotalRow")||!d.parent&&d.sibling&&o.get("grandTotalRow")?a.add(d.sibling):a.add(d),d=d.parent;s.forEach(h=>this.dispatchEditValuesChanged({rowNode:h,column:t},n)),s.forEach(h=>Ur(r,{rowNode:h,column:t})?.refreshCell(i)),a.forEach(h=>Ur(r,{rowNode:h,column:t})?.refreshCell(i))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){let{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t){if(this.hasValidationErrors(e)){let n=Ur(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.(),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){let n=Ur(this.beans,e);n?.comp?.getCellEditor()&&(this.model.clearEditValue(e),mC(this.beans,[e]),Z_(this.beans,e),ep(this.beans),n?.refreshCell(z2),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){ep(this.beans);let t=Ur(this.beans,e);t&&(t.refreshCell(z2),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let r;return e instanceof CC&&this.isEditing()&&(r=this.strategy?.moveToNextEditingCell(e,t,n,i)),r===null||(r=r||!!this.beans.focusSvc.focusedHeader,r===!1&&this.stopEditing()),r}getCellDataValue({rowNode:e,column:t}){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t}),i=e.pinnedSibling;if(i){let o=this.model.getEdit({rowNode:i,column:t});o&&(n=o)}let r=n?.newValue;return r===rl||!n?this.valueSvc.getValue(t,e,!0,"api"):r}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){VLe(this,this.beans,e)}createPopupEditorWrapper(e){return new fze(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&n!=="paste"&&n!=="rangeSvc"&&n!=="renderer"&&n!=="cellClear")return;let{beans:i}=this;this.strategy??(this.strategy=this.createStrategy());let r=this.isBatchEditing()?"ui":"api",o=this.model.getEdit(e);if(o){if(o.newValue===t)return!1;if(o.oldValue!==t)return K8(i,e,t,n),this.stopEditing(e,{source:r}),!0;if(o.oldValue===t)return i.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{newValue:t,oldValue:o.oldValue}),!0}return K8(i,e,t,n),this.stopEditing(e,{source:r}),!0}handleColDefChanged(e){zLe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,A_))return;let{rowNode:i,column:r}=e,{compDetails:o,valueToDisplay:s}=t;if(o){let{params:l}=o;return l.data=this.model.getEditRowDataValue(i,A_),{compDetails:o}}let a=this.model.getEditRow(e.rowNode,A_);if(s!==void 0&&a?.has(r))return{valueToDisplay:this.valueSvc.getValue(r,i)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Rt(this.gos,V({type:e},e==="batchEditingStopped"?{changes:this.model.getEditPositions(t).map(n=>De(V({},n),{rowIndex:n.rowNode.rowIndex,rowPinned:n.rowNode.rowPinned,columnId:n.column.getColId()}))}:{}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;let{beans:i,rangeSvc:r,valueSvc:o}=this;Kf(i);let s=this.model.getEditMap(!0),a=s.get(e)?.get(t)?.newValue;n.forEach(c=>{if(r?.forEachRowInRange(c,d=>{let h=Jf(i,d);if(h===void 0)return;let f=s.get(h)??new Map;for(let g of c.columns)if(g&&this.isCellEditable({rowNode:h,column:g},"api")){let m=o.getValue(g,h,!0,"api"),v=o.parseValue(g,h??null,a,m);Number.isNaN(v)&&(v=null),f.set(g,{newValue:v,oldValue:m,state:"changed"})}f.size>0&&s.set(h,f)}),this.setEditMap(s),this.batch){this.cleanupEditors(),q8(i),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"})}),this.bulkRefresh();let l=Ur(i,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new pze(e,t)}createRowStyleFeature(e,t){return new gze(e,t)}setEditingCells(e,t){let{beans:n}=this,{colModel:i,valueSvc:r}=n,o=new Map;e.forEach(({colId:s,column:a,colKey:l,rowIndex:c,rowPinned:d,newValue:h,state:f})=>{let g=s?i.getCol(s):l?i.getCol(l):a;if(!g)return;let m=Jf(n,{rowIndex:c,rowPinned:d});if(!m)return;let v=r.getValue(g,m,!0,"api");if(!Xf({newValue:h,oldValue:v})&&f!=="editing")return;let C=o.get(m);C||(C=new Map,o.set(m,C)),h===void 0&&(h=rl),C.set(g,{newValue:h,oldValue:v,state:f??"changed"})}),this.setEditMap(o,t)}onCellFocused(e){let t=Ur(this.beans,e);if(!t||!this.isEditing(t,A_))return;let n=this.model.getEdit(t);if(!n||!Xf(n))return;let r=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(r,"pendingChange")}},xre=class extends _e{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t,n=e.previousParams,{editSvc:i,beans:r}=this;n&&(t=Ur(r,n));let{gos:o,editModelSvc:s}=r,a=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){if(t&&!a&&i.checkNavWithValidation(t,e)==="block-stop")return;let{column:l,rowIndex:c,rowPinned:d}=e,h={column:l,rowNode:Jf(r,{rowIndex:c,rowPinned:d})},g=o.get("invalidEditValueMode")==="block"&&!!s?.getCellValidationModel().hasCellValidation(h);(n||a?i.stopEditing(void 0,{cancel:g,source:a?"api":void 0}):!0)||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e){let t=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};if(t.forEach(r=>{if(n.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0){n.fail.push(r);return}n.pass.push(r)}),e)return t.forEach(r=>{hI(this.beans,r),this.model.stop(r)}),!0;let i=this.processValidationResults(n);return i.destroy.length>0&&i.destroy.forEach(r=>{hI(this.beans,r),this.model.stop(r)}),i.keep.length>0&&i.keep.forEach(r=>{let o=Ur(this.beans,r);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){Kf(this.beans);let n=this.model.getEditPositions(),i=[];e?n.forEach(r=>{!e||r.rowNode===e||i.push(r)}):n.forEach(r=>{i.push(r)}),mC(this.beans,i),q8(this.beans,t)}stopAllEditing(){Kf(this.beans),this.stop()}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){let t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{let i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,i,r=!1){let o=i instanceof KeyboardEvent&&!r&&i.key||void 0;GLe(this.beans,e,t,o,i,n)}dispatchCellEvent(e,t,n,i){let r=Ur(this.beans,e);r&&this.eventSvc.dispatchEvent(V(V({},r.createEvent(t??null,n)),i))}dispatchRowEvent(e,t){let n=uI(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,i="ui"){if(t instanceof KeyboardEvent&&(t.key===me.TAB||t.key===me.ENTER||t.key===me.F2||t.key===me.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;let o=e?.getColDef(),s=this.deriveClickCount(o),a=t?.type;return a==="click"&&t?.detail===1&&s===1||a==="dblclick"&&t?.detail===2&&s===2?!0:i==="api"?n??!1:!1}shouldStop(e,t,n="ui"){let i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===me.ENTER:null}shouldCancel(e,t,n="ui"){let i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===me.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});let n=[];if(e.forEach((i,r)=>{i.forEach((o,s)=>{o.state==="editing"&&n.push(De(V({},o),{rowNode:r,column:s}))})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){let i=n.at(-1),r=i.newValue===rl?void 0:i.newValue;this.start(i,new KeyboardEvent("keydown",{key:r}),"api");let o=Ur(this.beans,i);o&&this.setFocusInOnEditor(o)}}deriveClickCount(e){let{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},_ze=class extends xre{constructor(){super(...arguments),this.beanName="fullRow"}isCellEditable(e,t="ui"){let n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(r=>super.isCellEditable({rowNode:e.rowNode,column:r},t))}shouldStop(e,t,n="ui"){let{rowNode:i}=e||{};if(!uI(this.beans,{rowNode:this.rowNode}))return!0;let o=super.shouldStop({rowNode:this.rowNode},t,n);return o!==null?o:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",i){let{rowNode:r}=e;this.rowNode!==r&&super.cleanupEditors(e),this.model.hasEdits({rowNode:r})||this.dispatchRowEvent({rowNode:r},"rowEditingStarted");let o=this.beans.visibleCols.allCols,s=[];o.forEach(a=>{if(!a.isCellEditable(r))return;let l={rowNode:r,column:a};s.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=r,this.setupEditors(s,e,!0,t,i)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e){let{rowNode:t}=this;if(t&&!this.model.hasRowEdits(t))return!1;let n=this.model.getEditRow(t),i=!1;for(let[,r]of n)if(Xf(r)){i=!0;break}return ep(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:t})==="block-stop"?!1:(super.stop(e),t&&(i&&this.dispatchRowEvent({rowNode:t},"rowValueChanged"),this.dispatchRowEvent({rowNode:t},"rowEditingStopped")),this.rowNode=void 0,!0)}onCellFocusChanged(e){let{rowIndex:t}=e;if(e.previousParams?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent||this.model.getRowValidationModel().getRowValidationMap().size>0)return;super.onCellFocusChanged(e);let i=e.previousParams;i&&uI(this.beans,i)?.refreshRow({suppressFlash:!0,force:!0})}cleanupEditors({rowNode:e}={},t){super.cleanupEditors({rowNode:e},t),e&&this.dispatchRowEvent({rowNode:this.rowNode},"rowEditingStopped")}moveToNextEditingCell(e,t,n,i="ui"){let r=this.editSvc.checkNavWithValidation(void 0,n)==="block-stop",o=e.cellPosition,s;this.model.suspend(!0);try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(s===!1)return null;if(s==null)return r;let a=s.cellPosition,l=e.isCellEditable(),c=s.isCellEditable(),d=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(!d){if(ep(this.beans),this.model.getRowValidationModel().getRowValidationMap().size>0){if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0}else if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0;if(r&&this.model.getRowValidationModel().getRowValidation(e))return!0}return l&&this.setFocusOutOnEditor(e),c&&!r?(s.comp?.getCellEditor()||Z_(this.beans,s,void 0,n,!0),this.setFocusInOnEditor(s),s.focusCell(!1,n)):s.focusCell(!0,n),!d&&!r&&(super.cleanupEditors(s,!0),this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0}},xze=class extends xre{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){let i=super.shouldStop(e,t,n);if(i!==null)return i;let{rowNode:r,column:o}=e||{};return(!this.rowNode||!this.column)&&r&&o?null:this.rowNode!==r||this.column!==o}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",i){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,i)}dispatchRowEvent(e,t){}stop(e){return super.stop(e),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){let{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:r,rowPinned:o}=e,s=Jf(this.beans,{rowIndex:i,rowPinned:o}),a=$8(r),l=t.getCol(a),c=e.previousParams;if(c){let d=$8(c.column);if(c?.rowIndex===i&&d===a&&c?.rowPinned===o)return}n?.isEditing({rowNode:s,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui"){let r=this.editSvc.checkNavWithValidation(void 0,n)==="block-stop",o=e.cellPosition,s,a=this.beans.gos.get("editType")==="fullRow";a?this.model.suspend(!0):(e.eGui.focus(),e.stopEditing());try{s=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(s===!1)return null;if(s==null)return r;let l=s.cellPosition,c=e.isCellEditable(),d=s.isCellEditable(),h=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;if(!h){if(ep(this.beans),this.model.getRowValidationModel().getRowValidationMap().size>0){if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0}else if(this.editSvc.checkNavWithValidation(e,n)==="block-stop")return!0;if(r&&this.model.getRowValidationModel().getRowValidation(e))return!0}if(c&&this.setFocusOutOnEditor(e),!h&&!r&&(super.cleanupEditors(s,!0),this.editSvc.startEditing(s,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0})),d&&!r)s.focusCell(!1,n),s.comp?.getCellEditor()||Z_(this.beans,s,void 0,n,!0),this.setFocusInOnEditor(s);else{if(r&&this.model.getCellValidationModel().getCellValidation(e))return!0;s.focusCell(!0,n)}return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},np={moduleName:"EditCore",version:ct,beans:[FLe,bze],apiFunctions:{getEditingCells:oze,getCellEditorInstances:HLe,startEditingCell:lze,stopEditing:sze,isEditing:aze,validateEdit:cze},dynamicBeans:{singleCell:xze,fullRow:_ze},dependsOn:[II,mre],css:[LGe]},Sze={moduleName:"UndoRedoEdit",version:ct,beans:[OGe],apiFunctions:{undoCellEditing:ize,redoCellEditing:rze,getCurrentUndoSize:dze,getCurrentRedoSize:uze},dependsOn:[np]},Eze={moduleName:"TextEditor",version:ct,userComponents:{agCellEditor:_te,agTextCellEditor:_te},dependsOn:[np]},Dze={moduleName:"NumberEditor",version:ct,userComponents:{agNumberCellEditor:{classImp:XGe}},dependsOn:[np]},Rze={moduleName:"DateEditor",version:ct,userComponents:{agDateCellEditor:GGe,agDateStringCellEditor:WGe},dependsOn:[np]},Tze={moduleName:"CheckboxEditor",version:ct,userComponents:{agCheckboxCellEditor:BGe},dependsOn:[np]},Ize={moduleName:"SelectEditor",version:ct,userComponents:{agSelectCellEditor:ZGe},dependsOn:[np]},Mze={moduleName:"LargeTextEditor",version:ct,userComponents:{agLargeTextCellEditor:$Ge},dependsOn:[np]},Fze={moduleName:"CustomEditor",version:ct,dependsOn:[np]},Aze=class extends _e{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,pC(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),_Oe(e))}createColumns(e,t){let n=()=>{sI(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,o=(this.columns?.treeDepth??-1)==i,s=this.generateSelectionCols();if(bOe(s,this.columns?.list??[])&&o)return;n();let{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,d=l?.balanceTreeForAutoCols(s,c)??[];this.columns={list:s,tree:d,treeDepth:c,map:{}},t(f=>{if(!f)return null;let g=f.filter(m=>!om(m));return[...s,...g]})}updateColumns(e){let t=pC(e.source);this.columns?.list.forEach(n=>{let i=this.createSelectionColDef(e.currentValue);n.setColDef(i,null,t),Ac(this.beans,{state:[De(V({},i),{colId:n.getColId()})]},t)})}getColumn(e){return this.columns?.list.find(t=>mne(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!$g(e))return!1;let i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;let r=!!fC(n),o=W2(n);return r||o}createSelectionColDef(e){let{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),a=n??{},{rowSpan:r,spanRows:o}=a,s=hl(a,["rowSpan","spanRows"]);return De(V({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,c,d,h){let f=d.isSelected(),g=h.isSelected();return f===g?0:f?1:-1},editable:!1,suppressFillHandle:!0,pinned:null},s),{colId:fne,chartDataType:"excluded"})}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);let n=new bI(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){let i=t&&typeof t!="string"?fC(t):void 0,r=e&&typeof e!="string"?fC(e):void 0,o=i!==r,s=t&&typeof t!="string"?W2(t):void 0,a=e&&typeof e!="string"?W2(e):void 0,l=s!==a,c=nI(e),d=nI(t);(o||l||c!==d)&&this.beans.colModel.refreshAll(n)}destroy(){sI(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;let i=e.length+t.length+n.length;if(i===0)return;let r=this.columns.list[0];if(!r.isVisible())return;let o=()=>{let l;switch(r.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Xl(l,r)};(this.beans.rowNumbersSvc?.getColumn(pne)?2:1)===i&&o()}};function kze(e,t){if(!t.nodes.every(s=>s.rowPinned&&!rx(s)?(je(59),!1):s.id===void 0?(je(60),!1):!0))return;let{nodes:i,source:r,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:r??"api",newValue:o})}function Pze(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function Oze(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function Lze(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function Nze(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function Bze(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function Vze(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Hze(e){return e.selectionSvc?.getSelectedNodes()??[]}function Gze(e){return e.selectionSvc?.getSelectedRows()??[]}var zze=class extends p6e{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=iI(e),this.groupSelectsDescendants=K_(e),this.groupSelectsFiltered=rI(e)==="filteredDescendants",this.masterSelectsDetail=Dee(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=K_(e),n=iI(e),i=rI(e)==="filteredDescendants";this.masterSelectsDetail=Dee(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:o,keepDescendants:s=!1}){if(!$g(this.gos)&&e)return je(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return je(130),0;let a=0;for(let l=0;l<i.length;l++){let c=i[l],d=rC(c),h=this.groupSelectsFiltered&&d.group;if(d.rowPinned&&!rx(d)){je(59);continue}if(d.id===void 0){je(60);continue}h||this.selectRowNode(d,e,r,o)&&(this.detailSelection.delete(d.id),a++),this.groupSelectsDescendants&&d.childrenAfterGroup?.length&&(a+=this.selectChildren(d,e,o))}return n||(i.length===1&&o==="api"&&this.selectionCtx.setRoot(rC(i[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(rC(i[0]),s,o)),a>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),a}selectRange(e,t,n){let i=0;return e.forEach(r=>{let o=rC(r);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){let i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:n,rowModel:i}=this.beans;if(!fo(n,i))return!1;let r=i.rootNode;if(!r)return!1;t||(t=new J_(!0,r),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==r){let a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t,n){let i=new Map,r=0;return this.selectedNodes.forEach(o=>{let s=o.id==e.id;if((t?!Wze(e,o):!0)&&!s){let l=this.selectedNodes.get(o.id);r+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&o.parent&&i.set(o.parent.id,o.parent)}}),i.forEach(o=>{let s=this.calculateSelectedFromChildren(o);this.selectRowNode(o,s===null?!1:s,void 0,n)}),r}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new tm(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!fo(e,t))return;let n=t.getTopLevelNodes();if(n===null)return;let i=[];function r(o){for(let s=0,a=o.length;s<a;s++){let l=o[s];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let n=fo(this.gos),i=!1,r=o=>{let s=this.selectRowNode(rC(o),!1,void 0,e);i||(i=s)};if(t==="currentPage"||t==="filtered"){if(!n){li(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){let o=this.updateGroupsFromChildrenSelections(e);i||(i=o)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return Sre(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[],n=r=>t.push(r);if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){n(r);return}if(!r.expanded&&!r.footer){let o=s=>{n(s),s.childrenAfterFilter?.forEach(o)};o(r);return}this.groupSelectsDescendants||n(r)}),t;let i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let o=i;o<=r;o++){let s=n.getRow(o);s&&e(s)}}selectAllRowNodes(e){let{gos:t,selectionCtx:n}=this;if(!$g(t)){je(132);return}if(tOe(t)&&!q_(t)){je(130);return}if(!this.canSelectAll())return;let{source:i,selectAll:r}=e,o=!1;if(this.getNodesToSelect(r).forEach(s=>{let a=this.selectRowNode(rC(s),!0,void 0,i);o||(o=a)}),n.selectAll=!0,fo(t)&&this.groupSelectsDescendants){let s=this.updateGroupsFromChildrenSelections(i);o||(o=s)}o&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){li(103);return}let i=new Set(e),r=[];this.beans.rowModel.forEachNode(o=>{i.has(o.id)&&r.push(o)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){let{gos:e}=this.beans;return!!fo(e)}updateSelectable(e){let{gos:t,rowModel:n}=this.beans;if(!$g(t))return;let i="selectableChanged",r=e!==void 0,o=fo(t)&&this.groupSelectsDescendants,s=[],a=l=>{if(r&&!l.group)return;if(o&&l.group){let d=l.childrenAfterGroup?.some(h=>h.selectable)??!1;this.setRowSelectable(l,d,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&s.push(l)};if(o){if(e===void 0){let l=n.rootNode;e=l?new J_(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:i}),!r&&o&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let n=e.detailNode?.detailGridInfo?.api;if(!n)return;let i=Uze(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){let o=this.detailSelection.get(e.id)??new Set;for(let s of n.getSelectedNodes())o.add(s.id);this.detailSelection.set(e.id,o)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!q_(t)){je(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{let i=this.detailSelection.get(e.id);if(i){let r=[];for(let o of i){let s=n.getRowNode(o);s&&r.push(s)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function rC(e){return rx(e)?e.pinnedSibling:e.footer?e.sibling:e}function Uze(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),Sre(t,n)}function Sre(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function Wze(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var jze={moduleName:"SharedRowSelection",version:ct,beans:[Aze],apiFunctions:{setNodesSelected:kze,selectAll:Pze,deselectAll:Oze,selectAllFiltered:Lze,deselectAllFiltered:Nze,selectAllOnCurrentPage:Bze,deselectAllOnCurrentPage:Vze,getSelectedNodes:Hze,getSelectedRows:Gze}},$ze={moduleName:"RowSelection",version:ct,rowModels:["clientSide","infinite","viewport"],beans:[zze],dependsOn:[jze]};function qze(e){e.expansionSvc?.expandAll(!0)}function Kze(e){e.expansionSvc?.expandAll(!1)}function Xze(e){let t=$d(e),n=Qie(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Yze(e,t,n){let i=Qie(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){li(238);return}i.setRowCount(t,n);return}li(28);return}let r=TI(e);if(r){r.setRowCount(t,n);return}}function Zze(e){return DC(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function Qze(e){return e.rowModel.isLastRowIndexKnown()}var Jze={moduleName:"CsrmSsrmSharedApi",version:ct,apiFunctions:{expandAll:qze,collapseAll:Kze,onRowHeightChanged:Xze}},eUe={moduleName:"SsrmInfiniteSharedApi",version:ct,apiFunctions:{setRowCount:Yze,getCacheBlockState:Zze,isLastRowIndexKnown:Qze}},tUe=class extends _e{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){li(18),t||li(20);return}if(this.isGridApi(i))return i;let r=i;return"current"in r?r.current?.api:(r.api||li(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":je(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,n=null,i=this.beans,{colResize:r,ctrlsSvc:o,colModel:s}=i;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;let a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let h=e.api.getColumnState().map(f=>({colId:f.colId}));Ac(i,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let h=e.api.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));Ac(i,{state:h},"alignedGridChanged")}break;case"columnPinned":{let h=e.api.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));Ac(i,{state:h},"alignedGridChanged")}break;case"columnResized":{let d=e,h={};a.forEach(f=>{h[f.getId()]={key:f.getColId(),newWidth:f.getActualWidth()}}),d.flexColumns?.forEach(f=>{h[f.getId()]&&delete h[f.getId()]}),r?.setColumnWidths(Object.values(h),!1,d.finished,"alignedGridChanged");break}}let c=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",c)})}},nUe={moduleName:"AlignedGrids",version:ct,beans:[tUe]},iUe=class extends c6e{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},A8=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function rUe(e){if(Hi(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let n=0;n<t.length;n++){let i=t[n],r=n===0,o=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==o&&(i.lastChild=o,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function Ere(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),rUe(e)}var oUe=class extends _e{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){let t=this.beans,n=t.sortSvc.getSortOptions(),i=nt(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=n.some(({column:s})=>Bd(t.gos)?s.isPrimary()&&s.isRowGroupActive():!!s.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,o)}sort(e,t,n,i,r,o,s){let{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:d,rowRenderer:h,showRowGroupCols:f}=e,g=a.get("groupMaintainOrder"),m=l.getCols().some(_=>_.isRowGroupActive()),v=l.isPivotMode(),C=a.getCallback("postSortRows"),y=!1,x=_=>{let R=v&&_.leafGroup,I=g&&m&&!_.leafGroup&&!s,F;if(I){let P=c?.columns?.[_.level+1]?.getSort()===null,L=_.childrenAfterAggFilter.slice(0);if(_.childrenAfterSort&&!P){let U={};_.childrenAfterSort.forEach((W,X)=>{U[W.id]=X}),L.sort((W,X)=>(U[W.id]??0)-(U[X.id]??0))}F=L}else!n||R?F=_.childrenAfterAggFilter.slice(0):i&&r?F=sUe(d,_,r,o,t):F=d.doFullSort(_.childrenAfterAggFilter,t);if(y||(y=_.childrenAfterSort?.[0]!==F[0]),_.childrenAfterSort=F,Ere(_),C){let T={nodes:_.childrenAfterSort};C(T)}};if(o?.forEachChangedNodeDepthFirst(x),y&&this.gos.get("groupHideOpenParents")){let _=f?.getShowRowGroupCols();_?.length&&h.refreshCells({columns:_,force:!0})}}};function sUe(e,t,n,i,r){let o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,r);let a=new Set,l=[],{updates:c,adds:d}=n;for(let f=0,g=o.length;f<g;++f){let m=o[f];c.has(m)||d.has(m)||i&&!i.canSkip(m)?l.push({currentPos:l.length,rowNode:m}):a.add(m.id)}let h=s.filter(f=>a.has(f.id)).map((f,g)=>({currentPos:g,rowNode:f}));return l.sort((f,g)=>e.compareRowNodes(r,f,g)),aUe(e,r,l,h)}function aUe(e,t,n,i){let r=[],o=0,s=0,a=n.length,l=i.length;for(;o<a&&s<l;){let c=n[o],d=i[s],h=e.compareRowNodes(t,c,d),f;h<0?(f=c,++o):(f=d,++s),r.push(f.rowNode)}for(;o<a;)r.push(n[o++].rowNode);for(;s<l;)r.push(i[s++].rowNode);return r}var lUe=class extends _e{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.lastHighlightedRow=null,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Qo(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new tm(this.beans);let n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){let{gos:e,beans:t}=this;return ane(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,o=!1;do{r=!1;let s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),c=Math.min(a,i);for(let d=l;d<=c;d++){let h=this.getRow(d);if(h.rowHeightEstimated){let f=Qf(this.beans,h);h.setRowHeight(f.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}onPropChange(e){if(!this.rootNode)return;let t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),o=this.nodeManager,s=this.getNewNodeManager(),a=o!==s||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData"),l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,je(1))),a&&(r||(l=o?.extractRowData()??l),o!==s&&(o?.deactivate(),this.nodeManager=s),s.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new A8,s.setImmutableRowData(i,l);else{i.rowDataUpdated=!0,i.newData=!0;let{selectionSvc:d,pinnedRowModel:h}=this.beans;d?.reset("rowDataChanged"),h?.isManual()&&h.reset(),this.rowNodesCountReady=!0,s.setNewRowData(l)}if(i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(let{refreshProps:c,step:d}of this.orderedStages)if(e.some(h=>c.has(h))){i.step=d;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){let{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight(),i=0,r=new Set,o=Jo(this.gos,"normal");for(let s=0,a=t.length;s<a;++s){let l=t[s];if(l.id!=null&&r.add(l.id),l.rowHeight==null){let c=Qf(e,l,o,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(i),l.setRowIndex(s),i+=l.rowHeight}return r}clearRowTopAndRowIndex(e,t){let n=e.active,i=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},r=o=>{if(o!==null&&(i(o),i(o.detailNode),i(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){let s=o.level==-1;n&&!s&&!o.expanded||o.childrenAfterGroup.forEach(r)}};r(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let n=e.childrenAfterSort,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let{childrenAfterSort:r}=t,o=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:s}=this.beans;return s?s.getTopDisplayIndex(n,e,r,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;let o=t.childrenAfterSort?.findIndex(s=>s===r);return o===-1?e:o??e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=hC(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=hC(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=hC(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new J_(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}beforeRefreshModel(e,t=!1){this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e,groupsChanged:t}),this.started&&e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"})}refreshModel(e){if(!this.rootNode)return;let t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if(!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)){this.beforeRefreshModel(e);return}switch(this.isRefreshingModel=!0,e.step!=="group"&&this.beforeRefreshModel(e),e.step){case"group":{let i=this.doRowGrouping(e);this.beforeRefreshModel(e,i),e.step==="group"&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}let n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1,r=[],o=K_(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(i)return;if(n&&(s===t||s===e)&&(i=!0,s.group&&o)){r.push(...s.allLeafChildren);return}if(!n){if(s!==t&&s!==e)return;n=!0}if(!s.group||!o){r.push(s);return}}),r}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(ai(t).rowTop<=e)return t.length-1;let o=-1,s=-1;for(;;){let a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),o===n&&s===i))return a;o=n,s=i}}isRowInPixel(e,t){let n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){let{colModel:i,rowGroupColsSvc:r}=this.beans;if(!i.isPivotMode())return;if(!r?.columns.length){e(this.rootNode,0);return}let o=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,s=>s.leafGroup?null:s[o])}depthFirstSearchRowNodes(e,t=!1,n=o=>o.childrenAfterGroup,i=this.rootNode,r=0){let o=r;if(!i)return o;let s=i===this.rootNode;s||e(i,o++);let{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){let l=n(i);if(l){o=a?.addTotalRows(o,i,e,t,s,"top")??o;for(let c of l)o=this.depthFirstSearchRowNodes(e,t,n,c,o);return a?.addTotalRows(o,i,e,t,s,"bottom")??o}}return o}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),Ere(n)})}doRowGrouping(e){let t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;let i=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,i&&(i.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,ere(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){let t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(Y8)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],n=new A8,i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:o,rowsInserted:s}=this.nodeManager.updateRowData(r.rowDataTransaction,n);s&&(i=!0),t.push(o),r.callback&&e.push(r.callback.bind(null,o))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new A8,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(let i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=oI,this.rowsToDisplay=oI}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function cUe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function dUe(e,t){let n=$d(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function uUe(e){return $d(e)?.isEmpty()??!0}function hUe(e,t){$d(e)?.forEachLeafNode(t)}function fUe(e,t){$d(e)?.forEachNodeAfterFilter(t)}function pUe(e,t){$d(e)?.forEachNodeAfterFilterAndSort(t)}function gUe(e){if(e.rowAutoHeight?.active){je(3);return}$d(e)?.resetRowHeights()}function mUe(e,t){return e.frameworkOverrides.wrapIncoming(()=>$d(e)?.updateRowData(t))}function vUe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>$d(e)?.batchUpdateRowData(t,n))}function CUe(e){e.frameworkOverrides.wrapIncoming(()=>$d(e)?.flushAsyncTransactions())}function wUe(e){return e.selectionSvc?.getBestCostNodeSelection()}var yUe={moduleName:"ClientSideRowModel",version:ct,rowModels:["clientSide"],beans:[iUe,lUe,oUe],dependsOn:[$ie]},bUe={moduleName:"ClientSideRowModelApi",version:ct,apiFunctions:{onGroupExpandedOrCollapsed:cUe,refreshClientSideRowModel:dUe,isRowDataEmpty:uUe,forEachLeafNode:hUe,forEachNodeAfterFilter:fUe,forEachNodeAfterFilterAndSort:pUe,resetRowHeights:gUe,applyTransaction:mUe,applyTransactionAsync:vUe,flushAsyncTransactions:CUe,getBestCostNodeSelection:wUe},dependsOn:[Jze]},_Ue=class extends _e{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){let r=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,c=!!i.footer,d=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&J3e(this.gos,i);if(!l&&!c&&(t.skipRowGroups||d||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!l&&!c||r(Rt(this.gos,{node:i})))return;let g=e.onNewBodyRow(i);if(n.forEach((m,v)=>{g.onColumn(m,v,i)}),t.getCustomContentBelowRow){let m=t.getCustomContentBelowRow(Rt(this.gos,{node:i}));m&&e.addCustomContent(m)}}appendContent(e){return t=>{let n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{let n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){let i=new Ene,{colGroupSvc:r}=this.beans,o=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){let i=n.onNewHeaderRow();t.forEach((r,o)=>{i.onColumn(r,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{let i=this.rowModel,r=fo(this.gos,i),o=DC(this.gos,i),s=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>i.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||s){let c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?i.forEachNode(a):r||o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;let i=t.getSortOptions(),r=(o,s)=>o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?o.parent?.id===s.parent?.id?n.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(o.parent,s.parent):o.level>s.level?r(o.parent,s):r(o,s.parent);e.sort(r)}processPinnedBottomRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,o)=>r.rowIndex-o.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),c=f=>om(f)?!1:!Kg(f)||i;if(r&&r.length)return o.getColsForKeys(r).filter(c);let d=s.get("treeData"),h=[];return t&&!l?h=o.getCols():h=a.allCols,h=h.filter(f=>c(f)&&(n&&!d?!SB(f):!0)),h}recursivelyAddHeaderGroups(e,t,n){let i=[];e.forEach(r=>{let o=r;o.getChildren&&o.getChildren().forEach(s=>i.push(s))}),e.length>0&&gr(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){let i=e.onNewHeaderGroupingRow(),r=0;t.forEach(o=>{let s=o,a;n?a=n(Rt(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");let l=s.getLeafColumns().reduce((c,d,h,f)=>{let g=ai(c);return d.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[h],c.push(g)):g&&g[1]==null&&(g[1]=h-1),h===f.length-1&&g&&g[1]==null&&(g[1]=h),c},[]);i.onColumn(s,a||"",r++,s.getLeafColumns().length-1,l)})}},xUe={moduleName:"SharedExport",version:ct,beans:[_Ue]},xte=`\r
`,SUe=class extends d7e{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,xte),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);let i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(je(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=xte),this.isFirstLine=!1}},EUe=class extends c7e{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){je(51);return}let t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(Rt(this.gos,{})):t.fileName;u7e(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:h}=e;return new SUe({colModel:t,colNames:n,valueSvc:r,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:h||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function DUe(e,t){return e.csvCreator?.getDataAsCsv(t)}function RUe(e,t){e.csvCreator?.exportDataAsCsv(t)}var TUe={moduleName:"CsvExport",version:ct,beans:[EUe],apiFunctions:{getDataAsCsv:DUe,exportDataAsCsv:RUe},dependsOn:[xUe]},IUe=class extends _e{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){let t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let o=0;o<e;o++){let s=n+o,a=new tm(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),r.push(a)}}getBlockStateJson(){let{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){nt(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Hi(this.params.datasource.getRows)){je(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:Rt(o,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){let{rowNodes:t,beans:n}=this;t.forEach((r,o)=>{let s=e.rowData?e.rowData[o]:void 0;!r.id&&r.alreadyRendered&&s&&(t[o]=new tm(n),t[o].setRowIndex(r.rowIndex),t[o].setRowTop(r.rowTop),t[o].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[o],s,this.startRow+o)});let i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},MUe=2,FUe=class extends _e{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let n=Math.floor(e/this.params.blockSize),i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){let t=this.params,n=this.createBean(new IUe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Zf(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(n);let i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,o=MUe-1;t.forEach((s,a)=>{let l=s.state==="needsLoading"&&a>=o,c=i?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:n,overflowSize:i}=this.params,o=(e.id+1)*n+i;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,nt(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let n=[],i=-1,r=!1,o={value:0},s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(r&&i+1!==l.id){s=!0;return}i=l.id,l.forEachNode(c=>{let d=c===e||c===t;(r||d)&&n.push(c),d&&(r=!r)},o,this.rowCount)}}),s||r?[]:n}},AUe=class extends _e{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=qg(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=qg(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!z_(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;_C(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:qg(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new FUe(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function kUe(e){TI(e)?.refreshCache()}function PUe(e){TI(e)?.purgeCache()}function OUe(e){return TI(e)?.getRowCount()}var LUe=class extends _e{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=eOe(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Qo(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Xl(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Zf(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){Zf(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},NUe={moduleName:"InfiniteRowModelCore",version:ct,rowModels:["infinite"],beans:[AUe,LUe]},BUe={moduleName:"InfiniteRowModel",version:ct,apiFunctions:{refreshInfiniteCache:kUe,purgeInfiniteCache:PUe,getInfiniteRowCount:OUe},dependsOn:[NUe,eUe]},VUe="\u2191",HUe="\u2193",GUe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},zUe=class extends Gn{constructor(){super(GUe),this.eValue=st,this.eDelta=st,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let n=Math.abs(t),i=e.formatValue(n),r=nt(i)?i:n,o=t>=0,s=this.eDelta;o?s.textContent=VUe+r:s.textContent=HUe+r,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Is(this.eDelta)}refresh(e,t=!1){let{value:n,valueFormatted:i}=e,{eValue:r,lastValue:o,beans:s}=this;if(n===o||(nt(i)?r.textContent=i:nt(n)?r.textContent=n:Is(r),s.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;let a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){let c=a-l;this.showDelta(e,c)}return o&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},UUe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",WUe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},jUe=class extends Gn{constructor(){super(WUe),this.eCurrent=st,this.refreshCount=0,this.registerCSS(UUe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let{beans:t,eCurrent:n}=this,i=ki({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(Hi(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;let i=this.eCurrent;return nt(e.valueFormatted)?i.textContent=e.valueFormatted:nt(e.value)?i.textContent=n:Is(i),!0}},$Ue=class extends _e{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){let r=this.animations[t];r.delete(e);let o=Date.now(),s=o+n,a=o+n+i,l={phase:"flash",flashEndTime:s,fadeEndTime:a};r.set(e,l);let c=`ag-cell-${t}`,d=`${c}-animation`,{comp:h,eGui:{style:f}}=e;h.toggleCss(c,!0),h.toggleCss(d,!1),f.removeProperty("transition"),f.removeProperty("transition-delay"),this.nextAnimationTime&&s+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=s)}advanceAnimations(){let e=Date.now(),t=null;for(let n of Object.keys(this.animations)){let i=this.animations[n],r=`ag-cell-${n}`,o=`${r}-animation`;for(let[s,a]of i){if(!s.isAlive()||!s.comp){i.delete(s);continue}let{phase:l,flashEndTime:c,fadeEndTime:d}=a,h=l==="flash"?c:d;if(!(e+15>=h)){t=Math.min(h,t??1/0);continue}let{comp:g,eGui:{style:m}}=s;switch(l){case"flash":g.toggleCss(r,!1),g.toggleCss(o,!0),m.transition=`background-color ${d-c}ms`,m.transitionDelay=`${c-e}ms`,t=Math.min(d,t??1/0),a.phase="fade";break;case"fade":g.toggleCss(r,!1),g.toggleCss(o,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),i.delete(s);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;let n=ALe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(let e of Object.keys(this.animations))this.animations[e].clear()}};function qUe(e,t={}){let{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var KUe={moduleName:"HighlightChanges",version:ct,beans:[$Ue],userComponents:{agAnimateShowChangeCellRenderer:zUe,agAnimateSlideCellRenderer:jUe},apiFunctions:{flashCells:qUe}};function XUe(e){return e.stateSvc?.getState()??{}}function YUe(e,t,n){return e.stateSvc?.setState(t,n)}function Ste(e){switch(e=V({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=ZUe(e)}return e.version=ct,e}function ZUe(e){return e.cellSelection=QUe(e,"rangeSelection"),e}function QUe(e,t){if(e&&typeof e=="object")return e[t]}var JUe=class extends _e{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Qo(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Qo(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Qo(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=fo(this.gos);let e=Ste(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;let n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));let[i,r,o]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(i(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{r?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{o?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){let n=Ste(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();let i="api",r=t?new Set(t):void 0;this.setGridReadyState(n,i,r),this.setColumnsInitialisedState(n,i,!1,r),this.setRowCountState(n,i,r),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,r),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");let t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);let n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){let{filter:i,rowGroupExpansion:r,rowSelection:o,pagination:s}=e,a=(c,d)=>!n?.has(c)&&(d||t==="api");a("filter",i)&&this.setFilterState(i),a("rowGroupExpansion",r)&&this.setRowGroupExpansionState(r,t),a("rowSelection",o)&&this.setRowSelectionState(o,t),a("pagination",s)&&this.setPaginationState(s,t);let l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");let t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},i=()=>t("filter",this.getFilterState()),{gos:r,colFilter:o}=this.beans;this.addManagedEventListeners({filterChanged:i,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(r.get("groupDefaultExpanded")!==0||r.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&t("pagination",this.getPaginationState())}}),o&&this.addManagedListeners(o,{filterStateChanged:i})}setFirstDataRenderedState(e,t,n){let{scroll:i,cellSelection:r,focusedCell:o,columnOrder:s,rowPinning:a}=e,l=(h,f)=>!n?.has(h)&&(f||t==="api");l("focusedCell",o)&&this.setFocusedCellState(o),l("cellSelection",r)&&this.setCellSelectionState(r),l("scroll",i)&&this.setScrollState(i),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!s?.orderedColIds,t);let c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());let d=this.getRangeSelectionState();c("rangeSelection",d),c("cellSelection",d),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");let t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){let i=this.getRangeSelectionState();t("rangeSelection",i),t("cellSelection",i)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){let e=this.beans;return e7e(lI(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){let{sort:r,rowGroup:o,aggregation:s,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:d,columnOrder:h}=e,f=(U,W)=>!i?.has(U)&&(W||t==="api"),g={},m=U=>{let W=g[U];return W||(W={colId:U},g[U]=W,W)},v={},C=f("sort",r);C&&r?.sortModel.forEach(({colId:U,sort:W},X)=>{let oe=m(U);oe.sort=W,oe.sortIndex=X}),(C||!n)&&(v.sort=null,v.sortIndex=null);let y=f("rowGroup",o);y&&o?.groupColIds.forEach((U,W)=>{let X=m(U);X.rowGroup=!0,X.rowGroupIndex=W}),(y||!n)&&(v.rowGroup=null,v.rowGroupIndex=null);let x=f("aggregation",s);x&&s?.aggregationModel.forEach(({colId:U,aggFunc:W})=>{m(U).aggFunc=W}),(x||!n)&&(v.aggFunc=null);let _=f("pivot",a);_&&(a?.pivotColIds.forEach((U,W)=>{let X=m(U);X.pivot=!0,X.pivotIndex=W}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(_||!n)&&(v.pivot=null,v.pivotIndex=null);let R=f("columnPinning",l);R&&(l?.leftColIds.forEach(U=>{m(U).pinned="left"}),l?.rightColIds.forEach(U=>{m(U).pinned="right"})),(R||!n)&&(v.pinned=null);let I=f("columnVisibility",c);I&&c?.hiddenColIds.forEach(U=>{m(U).hide=!0}),(I||!n)&&(v.hide=null);let F=f("columnSizing",d);F&&d?.columnSizingModel.forEach(({colId:U,flex:W,width:X})=>{let oe=m(U);oe.flex=W??null,oe.width=X}),(F||!n)&&(v.flex=null);let T=h?.orderedColIds,P=!!T?.length&&!i?.has("columnOrder"),L=P?T.map(U=>m(U)):Object.values(g);L.length&&(this.columnStates=L,Ac(this.beans,{state:L,applyOrder:P,defaultState:v},t))}setColumnPivotState(e,t){let n=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;this.columnGroupStates=void 0;let r=this.beans,{pivotResultCols:o,colGroupSvc:s}=r;if(o?.isPivotResultColsPresent()){if(n){let a=[];for(let l of n)o.getPivotResultCol(l.colId)&&a.push(l);Ac(r,{state:a,applyOrder:e},t)}i&&s?.setColumnGroupState(i,t)}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState();return t7e(t)}setColumnGroupState(e,t,n){let i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let r=new Set(e.columnGroup?.openColumnGroupIds),s=i.getColumnGroupState().map(({groupId:a})=>{let l=r.has(a);return l&&r.delete(a),{groupId:a,open:l}});r.forEach(a=>{s.push({groupId:a,open:!0})}),s.length&&(this.columnGroupStates=s),i.setColumnGroupState(s,t)}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let n=e?.getFilterState(),i=e?.getAdvFilterModel()??void 0;return t||i||n?{filterModel:t,columnFilterState:n,advancedFilterModel:i}:void 0}setFilterState(e){let t=this.beans.filterManager,{filterModel:n,columnFilterState:i,advancedFilterModel:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||i!==void 0)&&t?.setFilterState(n??null,i??null,"columnFilter"),r!==void 0&&t?.setAdvFilterModel(r??null,"advancedFilter")}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:n,type:i,startRow:r,endRow:o,columns:s,startColumn:a}=t;return{id:n,type:i,startRow:r,endRow:o,colIds:s.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!dh(t)||!n)return;let o=[];e?.cellRanges.forEach(s=>{let a=[];if(s.colIds.forEach(c=>{let d=i.getCol(c);d&&a.push(d)}),!a.length)return;let l=i.getCol(s.startColId);if(!l){let c=r.allCols,d=new Set(a);l=c.find(h=>d.has(h))}o.push(De(V({},s),{columns:a,startColumn:l}))}),n.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:o,ctrlsSvc:s}=this.beans;i.wrapIncoming(()=>{s.get("center").setCenterViewportScrollLeft(n),s.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}let{colId:i,rowIndex:r,rowPinned:o}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){let{pagination:n,gos:i}=this.beans;if(!n)return;let{pageSize:r,page:o}=e??{page:0,pageSize:i.get("paginationPageSize")},s=t==="gridInitializing";r&&!i.get("paginationAutoPageSize")&&n.setPageSize(r,s?"initialState":"pageSizeSelector"),typeof o=="number"&&(s?n.setPage(o):n.goToPage(o))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){let{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;let n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){let t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){let n=this.beans.expansionSvc;if(!n)return;let i=e?.expandedRowGroupIds??[],r;if(t==="api"){let o=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(o?.length){let s=new Set(o);for(let a of i)s.delete(a);r=Array.from(s)}}n.expandRows(i,r)}updateColumnState(e){let t=this.getColumnState(),n=!1,i=this.cachedState;for(let r of Object.keys(t)){let o=t[r];z_(o,i[r])||(n=!0)}this.cachedState=V(V({},i),t),n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let n=this.cachedState[e];this.setCachedStateValue(e,t),z_(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=De(V({},this.cachedState),{[e]:t})}refreshStaleState(){let e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},e9e={moduleName:"GridState",version:ct,beans:[JUe],apiFunctions:{getState:XUe,setState:YUe}};function t9e(e){return e.rowModel.isLastRowIndexKnown()}function n9e(e){return e.pagination?.getPageSize()??100}function i9e(e){return e.pagination?.getCurrentPage()??0}function r9e(e){return e.pagination?.getTotalPages()??1}function o9e(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function s9e(e){e.pagination?.goToNextPage()}function a9e(e){e.pagination?.goToPreviousPage()}function l9e(e){e.pagination?.goToFirstPage()}function c9e(e){e.pagination?.goToLastPage()}function d9e(e,t){e.pagination?.goToPage(t)}var u9e=class extends _e{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,n=()=>{let i=Math.max(qg(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?Qo(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},k_="paginationPageSizeSelector",h9e={tag:"span",cls:"ag-paging-page-size"},f9e=class extends Gn{constructor(){super(h9e),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(k_,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Is(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(k_)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){let r=this.gos.exists("paginationPageSize"),o=this.gos.get(k_)!==!0;je(94,{pageSizeSet:r,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||je(95,{paginationPageSizeOption:t,paginationPageSizeSelector:k_}),e.unshift("")}let i=String(n?"":t);this.selectPageSizeComp?(rm(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new UB).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(k_);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},p9e={selector:"AG-PAGE-SIZE-SELECTOR",component:f9e},g9e=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",m9e=class extends Cie{constructor(){super(),this.btFirst=st,this.btPrevious=st,this.btNext=st,this.btLast=st,this.lbRecordCount=st,this.lbFirstRowOnPage=st,this.lbLastRowOnPage=st,this.lbCurrent=st,this.lbTotal=st,this.pageSizeComp=st,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(g9e)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[p9e]);let{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",Kl(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Kl(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Kl(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Kl(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):eNe(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===me.ENTER||i.key===me.SPACE)&&(i.preventDefault(),n())}})}),JLe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):l7e(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){w3e(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),o=this.pagination.getPageSize(),s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*r+1,a=s+o-1,e&&a>i&&(a=i));let l=s+o-1,c=!e&&n<l,d=this.formatNumber(s);this.lbFirstRowOnPage.textContent=d;let h,f=this.getLocaleTextFunc();c?h=f("pageLastRowUnknown","?"):h=this.formatNumber(a),this.lbLastRowOnPage.textContent=h;let m=t>0?r+1:0,v=this.formatNumber(m);this.lbCurrent.textContent=v;let C,y;if(e)C=this.formatNumber(t),y=this.formatNumber(i);else{let x=f("more","more");C=x,y=x}this.lbTotal.textContent=C,this.lbRecordCount.textContent=y,this.announceAriaStatus(d,h,y,v,C)}announceAriaStatus(e,t,n,i,r){let o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,d=`${s} ${i} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnounce?.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},v9e={selector:"AG-PAGINATION",component:m9e},C9e=class extends _e{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return v9e}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){let t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;let{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return nt(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:nt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:nt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:nt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();let r=this.currentPage,o=n*r,s=n*(r+1)-1;if(s>i&&(s=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},w9e={moduleName:"Pagination",version:ct,beans:[C9e,u9e],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:t9e,paginationGetPageSize:n9e,paginationGetCurrentPage:i9e,paginationGetTotalPages:r9e,paginationGetRowCount:o9e,paginationGoToNextPage:s9e,paginationGoToPreviousPage:a9e,paginationGoToFirstPage:l9e,paginationGoToLastPage:c9e,paginationGoToPage:d9e},dependsOn:[II]};function y9e(e,t={}){let n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function Dre(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&Dre(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function b9e(e,t){return e.rowModel.getRowNode(t)}function _9e(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function x9e(e){return e.rowRenderer.getRenderedNodes()}function S9e(e,t,n){e.rowModel.forEachNode(t,n)}function E9e(e){return e.rowRenderer.firstRenderedRow}function D9e(e){return e.rowRenderer.lastRenderedRow}function R9e(e,t){return e.rowModel.getRow(t)}function T9e(e){return e.rowModel.getRowCount()}var I9e={moduleName:"RowApi",version:ct,apiFunctions:{redrawRows:y9e,setRowNodeExpanded:Dre,getRowNode:b9e,addRenderedRowListener:_9e,getRenderedNodes:x9e,forEachNode:S9e,getFirstDisplayedRowIndex:E9e,getLastDisplayedRowIndex:D9e,getDisplayedRowAtIndex:R9e,getDisplayedRowCount:T9e}},M9e={moduleName:"ScrollApi",version:ct,apiFunctions:{getVerticalPixelRange:eze,getHorizontalPixelRange:tze,ensureColumnVisible:vre,ensureIndexVisible:Cre,ensureNodeVisible:nze}};function F9e(e,t,n){if(!t)return;let i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function A9e(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function k9e(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function P9e(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function O9e(e){e.animationFrameSvc?.flushAllFrames()}function L9e(e){return{rowHeight:qg(e),headerHeight:sx(e)}}function N9e(e,t={}){let n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{let s=o.getCellRenderer();s!=null&&n.push(X_(s))}),t.columns?.length)return n;let i=[],r=cB(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(r&&!dB(o.rowNode,r)||!o.isFullWidth())return;let s=o.getFullWidthCellRenderers();for(let a=0;a<s.length;a++){let l=s[a];l!=null&&i.push(X_(l))}}),[...i,...n]}var B9e={moduleName:"RenderApi",version:ct,apiFunctions:{setGridAriaProperty:F9e,refreshCells:A9e,refreshHeader:k9e,isAnimationFrameQueueEmpty:P9e,flushAllAnimationFrames:O9e,getSizesForCurrentTheme:L9e,getCellRendererInstances:N9e}};function V9e(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function Rre({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function H9e(e,t){t&&typeof t=="object"?Rre(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var G9e=class extends _e{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,defaultMaxWidth:o,defaultMinWidth:s,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:d,colModel:h,autoWidthCalc:f,visibleCols:g}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&d&&!d.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;let m=[],v=-1,C=Object.fromEntries(a.map(({colId:_,maxWidth:R,minWidth:I})=>[_,{maxWidth:R,minWidth:I}])),y=n??this.gos.get("skipHeaderOnAutoSize"),x=i??y;for(;v!==0;){v=0;let _=[];t.forEach(R=>{if(!R||om(R))return;let I=h.getCol(R);if(!I||Kg(I)||m.indexOf(I)>=0)return;let F=f.getPreferredWidthForColumn(I,y);if(F>0){let T=C[I.colId]??{};T.minWidth??(T.minWidth=s),T.maxWidth??(T.maxWidth=o);let P=z9e(I,F,T);I.setActualWidth(P,l),m.push(I),v++}_.push(I)}),_.length&&g.refresh(l)}x||this.autoSizeColumnGroupsByColumns(t,l,r),xC(this.eventSvc,m,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){let{colModel:i,ctrlsSvc:r}=this.beans,o=new Set;i.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||o.add(d),d=d.getParent()});let a,l=[];for(let c of o){for(let d of r.getHeaderRowContainerCtrls())if(a=d.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}let t=this.beans.visibleCols.allCols;this.autoSizeCols(V({colKeys:t},e))}addColumnAutosize(e,t){let n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);let r=new zg(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){let i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{let o=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),s=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=j_(r.eGridBody)-s;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):je(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}let r={};i&&i?.columnLimits?.forEach(v=>{var C=v,{key:g}=C,m=hl(C,["key"]);r[typeof g=="string"?g:g.getColId()]=m});let o=this.beans.visibleCols.allCols;if(e<=0||!o.length||e===oh(o)&&o.every(m=>{if(m.colDef.suppressSizeToFit)return!0;let v=r?.[m.getId()],C=v?.minWidth??i?.defaultMinWidth,y=v?.maxWidth??i?.defaultMaxWidth,x=m.getActualWidth();return(C==null||x>=C)&&(y==null||x<=y)}))return;let a=[],l=[];o.forEach(g=>{g.getColDef().suppressSizeToFit===!0?l.push(g):a.push(g)});let c=a.slice(0),d=!1,h=g=>{Xl(a,g),l.push(g)};for(a.forEach(g=>{g.resetActualWidth(t);let m=r?.[g.getId()],v=m?.minWidth??i?.defaultMinWidth,C=m?.maxWidth??i?.defaultMaxWidth,y=g.getActualWidth();typeof v=="number"&&y<v?g.setActualWidth(v,t,!0):typeof C=="number"&&y>C&&g.setActualWidth(C,t,!0)});!d;){d=!0;let g=e-oh(l);if(g<=0)a.forEach(m=>{let v=r?.[m.getId()]?.minWidth??i?.defaultMinWidth;if(typeof v=="number"){m.setActualWidth(v,t,!0);return}m.setActualWidth(m.minWidth,t)});else{let m=g/oh(a),v=g;for(let C=a.length-1;C>=0;C--){let y=a[C],x=r?.[y.getId()],_=x?.minWidth??i?.defaultMinWidth,R=x?.maxWidth??i?.defaultMaxWidth,I=y.getMinWidth(),F=y.getMaxWidth(),T=typeof _=="number"&&_>I?_:I,P=typeof R=="number"&&R<F?R:F,L=Math.round(y.getActualWidth()*m);L<T?(L=T,h(y),d=!1):L>P?(L=P,h(y),d=!1):C===0&&(L=v),y.setActualWidth(L,t,!0),v-=L}}}c.forEach(g=>{g.fireColumnWidthChangedEvent(t)});let f=this.beans.visibleCols;f.setLeftValues(t),f.updateBodyWidths(),!n&&xC(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,o=n?.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:n,defaultMaxWidth:i,defaultMinWidth:r,columnLimits:o}=e;setTimeout(()=>{let s={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:i,defaultMinWidth:r,columnLimits:o};t?this.autoSizeCols(V({colKeys:t},s)):this.autoSizeAllColumns(s)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function z9e(e,t,n={}){let i=n.minWidth??e.getMinWidth();t<i&&(t=i);let r=n.maxWidth??e.getMaxWidth();return t>r&&(t=r),t}var U9e={moduleName:"ColumnAutoSize",version:ct,beans:[G9e],apiFunctions:{sizeColumnsToFit:V9e,autoSizeColumns:Rre,autoSizeAllColumns:H9e},dependsOn:[Rie]},W9e=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function j9e(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function $9e(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function q9e(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function K9e(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function X9e(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var Y9e={moduleName:"PinnedRow",version:ct,beans:[a6e],css:[W9e],apiFunctions:{getPinnedTopRowCount:j9e,getPinnedBottomRowCount:$9e,getPinnedTopRow:q9e,getPinnedBottomRow:K9e,forEachPinnedRow:X9e},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},Z9e=class extends CC{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,o,s){this.eWrapper=n,super.setComp(e,t,n,i,r,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&pB(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){S3e(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(xI(t)){this.focusedCellPosition=void 0;return}let n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Q9e=class extends vI{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new Z9e(t,this,this.beans)}isCorrectCtrlForSpan(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},J9e=class extends _e{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){let{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,o=this.getAllRelevantRowControls(e),s=new Map,a=!1;for(let c of o)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(d,h)=>{if(s.has(h.firstNode))return;let f=i.get(h.firstNode);if(f){s.set(h.firstNode,f),i.delete(h.firstNode);return}a=!0;let g=new Q9e(h.firstNode,this.beans,!1,!1,!1);s.set(h.firstNode,g)});this[n]=s;let l=s.size===r;if(!(!a&&l)){for(let c of i.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;let i=`${Tre(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){let t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){let t=`${e}Ctrls`;for(let n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Tre=e=>e??"center",eWe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},tWe=class extends _e{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:o,pagination:s}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,d=n.getCallback("isFullWidthRow"),h=a.equals,f=a.spanRows,g=typeof f=="function",m=null,v=null,C,y=(_,R)=>{m=_,v=null,C=R},x=_=>{let R=!_.isExpandable()&&!_.group&&!_.detail&&(d?!d({rowNode:_}):!0);if(_.rowIndex==null||!R){y(null,null);return}if(m==null||_.level!==m.level||_.footer||v&&_.rowIndex-1!==v?.getLastNode().rowIndex){y(_,o.getValue(t,_));return}let I=o.getValue(t,_);if(g){let F=Rt(n,{valueA:C,nodeA:m,valueB:I,nodeB:_,column:t,colDef:a});if(!f(F)){y(_,I);return}}else if(h?!h(C,I):C!==I){y(_,I);return}if(!v){let F=l?.get(m);F?.firstNode===m?(F.reset(),v=F):v=new eWe(t,m),c.set(m,v)}v.addSpannedNode(_),c.set(_,v)};switch(e){case"center":r.forEachDisplayedNode?.(_=>{(!s||s.isRowInPage(_.rowIndex))&&x(_)});break;case"top":i?.forEachPinnedRow("top",x);break;case"bottom":i?.forEachPinnedRow("bottom",x);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${Tre(e.rowPinned)}ValueNodeMap`].get(e)}},nWe=class extends _e{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Qo(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Qo(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;let n=this.createManagedBean(new tWe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){let n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,o=this.spanningColumns.get(i);if(!o)return;let s;switch(e.rowPinned){case"top":s=t?.getPinnedTopRow(r);break;case"bottom":s=t?.getPinnedBottomRow(r);break;default:s=n.getRow(r)}if(s)return o.getCellSpan(s)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?De(V({},e),{rowIndex:t.firstNode.rowIndex}):e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?De(V({},e),{rowIndex:t.getLastNode().rowIndex}):e}getCellSpan(e,t){let n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){let r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},iWe={moduleName:"CellSpan",version:ct,beans:[nWe,J9e]},rWe=class extends _e{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);kB(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,o=>t.toggleCss(o,!0),o=>t.toggleCss(o,!1)),this.cellClassRules=i}applyUserStyles(){let e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){let r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(o=>t.toggleCss(o,!1));let r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(o=>t.toggleCss(o,!0))}getCellClassParams(e,t){let{value:n,rowNode:i}=this.cellCtrl;return Rt(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},oWe=class extends _e{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){kB(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){let{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new rWe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},sWe={moduleName:"CellStyle",version:ct,beans:[oWe]},aWe={moduleName:"RowStyle",version:ct,beans:[jNe]};function lWe(e,t){return!!e.colHover?.isHovered(t)}var cWe=class extends _e{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{let{beans:i,gos:r,element:o,columns:s}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:a.setMouseOver.bind(a,s),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},dWe="ag-column-hover",uWe=class extends _e{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){let i=()=>{let r=this.isHovered(n);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;let n=this.isHovered(e);t.toggleCss(dWe,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);let r=()=>{let o=this.isHovered(n);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new cWe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},hWe={moduleName:"ColumnHover",version:ct,beans:[uWe],apiFunctions:{isColumnHovered:lWe}},fWe=class extends _e{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){let n=this.wrapSvc?.wrap(e,t)??t,i=!Y2.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){let n=this.wrapSvc?.unwrap(e,t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,n=(o,s)=>{Y2.has(o)&&t(o,s)},i=(o,s)=>{Y2.has(o)||t(o,s)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});let r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){let{syncListener:s,asyncListener:a}=i.get(r);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function pWe(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function gWe(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function mWe(e,t){e.apiEventSvc?.addGlobalListener(t)}function vWe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var CWe={moduleName:"EventApi",version:ct,apiFunctions:{addEventListener:pWe,addGlobalListener:mWe,removeEventListener:gWe,removeGlobalListener:vWe},beans:[fWe]},wWe={moduleName:"Locale",version:ct,beans:[JHe]},yWe=class extends _e{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Qo(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols,o=!1,s=a=>{let l=a.__autoHeights,c=Qf(this.beans,a).height;for(let d of r){let h=l?.[d.getColId()],f=n?.getCellSpan(d,a);if(f){if(f.getLastNode()!==a)continue;if(h=n?.getCellSpan(d,a)?.getLastNodeAutoHeight(),!h)return}if(h==null){if(this.colSpanSkipCell(d,a))continue;return}c=Math.max(h,c)}c!==a.rowHeight&&(a.setRowHeight(c),o=!0)};i?.forEachPinnedRow?.("top",s),i?.forEachPinnedRow?.("bottom",s),t.forEachDisplayedNode?.(s),o&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}let i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=r.getLeftColsForRow(t);break;case"right":o=r.getRightColsForRow(t);break;case null:o=i.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let i=t.parentElement,{rowNode:r,column:o}=e,s=this.beans,a=d=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;let{paddingTop:h,paddingBottom:f,borderBottomWidth:g,borderTopWidth:m}=im(i),v=h+f+g+m,y=t.offsetHeight+v;if(d<5){let x=Ao(s),_=!x||!x.contains(t),R=y==0;if(_||R){window.setTimeout(()=>a(d+1),0);return}}this.setRowAutoHeight(r,y,o)},l=()=>a(0);l();let c=tp(s,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(r,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;let e=this.beans.rowRenderer.getAllRowCtrls(),t=null;for(let{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(r=>r.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(let i of t){let r=n.__autoHeights[i.getColId()];if(!r||n.rowHeight<r)return!1}}return!0}},bWe={moduleName:"RowAutoHeight",version:ct,beans:[yWe]},Ire={moduleName:"AllCommunity",version:ct,dependsOn:[yUe,TUe,BUe,x7e,Eze,Dze,Rze,Tze,Ize,Mze,Fze,Sze,DGe,RGe,TGe,EGe,MGe,FGe,e9e,nUe,w9e,qBe,I9e,M9e,B9e,U9e,_8e,Y9e,$ze,OHe,sWe,hWe,aWe,CWe,BHe,KUe,mre,wWe,bWe,b8e,bUe,iWe]};var _We=(()=>{class e{constructor(){this.vcr=A(Lr)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=et({type:e,selectors:[["ag-component-container"]],standalone:!1,decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),Are=16,i5=0;function xWe(e){let t=new Map;for(let n=0;n<Are;n++){let i=e.createComponent(_We);t.set(n,i),Zs(i.location.nativeElement)}return t}var SWe=new Set(["doesFilterPass","isFilterActive"]),Mre=(()=>{class e extends Jie{setViewContainerRef(n,i){this.viewContainerRef=n,this.angularFrameworkOverrides=i}createWrapper(n){let i=this.angularFrameworkOverrides,r=this;r.compShards??=xWe(this.viewContainerRef);class o extends r5{init(l){i.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.createComponent(n)}hasMethod(l){return s.getFrameworkComponentInstance()[l]!=null}callMethod(l,c){let d=this.getFrameworkComponentInstance(),h=d[l];return SWe.has(l)?h.apply(d,c):i.runInsideAngular(()=>h.apply(d,c))}addMethod(l,c){s[l]=c}}let s=new o;return s}createComponent(n){return i5=(i5+1)%Are,this.compShards.get(i5).instance.vcr.createComponent(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=fa(e)))(r||e)}})()}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),r5=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Zs(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef?.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},AI=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t,n){let{frameworkOverrides:i,wrappedListeners:r}=this,o=n;if(i.shouldWrapOutgoing){o=a=>{i.wrapOutgoing(()=>n(a))};let s=r.get(t);s||(s=new Map,r.set(t,s)),s.set(n,o)}return o}wrapGlobal(t){let{frameworkOverrides:n,wrappedGlobalListeners:i}=this,r=t;return n.shouldWrapOutgoing&&(r=(o,s)=>{n.wrapOutgoing(()=>t(o,s))},i.set(t,r)),r}unwrap(t,n){let{wrappedListeners:i}=this,r=i.get(t);if(r){let o=r.get(n);if(o)return r.delete(n),r.size===0&&i.delete(t),o}return n}unwrapGlobal(t){let{wrappedGlobalListeners:n}=this,i=n.get(t);return i?(n.delete(t),i):t}},Fre=(()=>{class e extends WB{constructor(n){super("angular"),this._ngZone=n,this.batchFrameworkComps=!0,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(i,r)=>r==="resize-observer"||r==="popupPositioning"?this._ngZone.runOutsideAngular(i):i():this.runOutside=i=>this._ngZone.runOutsideAngular(i):this.runOutside=i=>i()}get shouldWrapOutgoing(){return this._ngZone&&pt.isInAngularZone()}createLocalEventListenerWrapper(n,i){if(this.shouldWrapOutgoing)return n??(i.setFrameworkOverrides(this),new AI(this))}createGlobalEventListenerWrapper(){return new AI(this)}isFrameworkComponent(n){if(!n)return!1;let i=n.prototype;return i&&"agInit"in i}runInsideAngular(n){return!this._ngZone||pt.isInAngularZone()?n():this._ngZone.run(n)}runOutsideAngular(n,i){return this.runOutside(n,i)}static{this.\u0275fac=function(i){return new(i||e)(lt(pt))}}static{this.\u0275prov=Ce({token:e,factory:e.\u0275fac})}}return e})(),kre=(()=>{class e{constructor(n,i,r,o){this._viewContainerRef=i,this._angularFrameworkOverrides=r,this._frameworkCompWrapper=o,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(s=>{this._resolveFullyReady=s}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.getFullRowEditValidationErrors=void 0,this.invalidEditValueMode=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.findSearchValue=void 0,this.findOptions=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableFilterHandlers=void 0,this.filterHandlers=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.rowDragInsertDelay=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.treeDataParentIdField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.enableRowPinning=void 0,this.isRowPinnable=void 0,this.isRowPinned=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.styleNonce=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.isRowValidDropPosition=void 0,this.toolPanelVisibleChanged=new ye,this.toolPanelSizeChanged=new ye,this.columnMenuVisibleChanged=new ye,this.contextMenuVisibleChanged=new ye,this.cutStart=new ye,this.cutEnd=new ye,this.pasteStart=new ye,this.pasteEnd=new ye,this.columnVisible=new ye,this.columnPinned=new ye,this.columnResized=new ye,this.columnMoved=new ye,this.columnValueChanged=new ye,this.columnPivotModeChanged=new ye,this.columnPivotChanged=new ye,this.columnGroupOpened=new ye,this.newColumnsLoaded=new ye,this.gridColumnsChanged=new ye,this.displayedColumnsChanged=new ye,this.virtualColumnsChanged=new ye,this.columnEverythingChanged=new ye,this.columnsReset=new ye,this.columnHeaderMouseOver=new ye,this.columnHeaderMouseLeave=new ye,this.columnHeaderClicked=new ye,this.columnHeaderContextMenu=new ye,this.componentStateChanged=new ye,this.cellValueChanged=new ye,this.cellEditRequest=new ye,this.rowValueChanged=new ye,this.cellEditingStarted=new ye,this.cellEditingStopped=new ye,this.rowEditingStarted=new ye,this.rowEditingStopped=new ye,this.undoStarted=new ye,this.undoEnded=new ye,this.redoStarted=new ye,this.redoEnded=new ye,this.cellSelectionDeleteStart=new ye,this.cellSelectionDeleteEnd=new ye,this.rangeDeleteStart=new ye,this.rangeDeleteEnd=new ye,this.fillStart=new ye,this.fillEnd=new ye,this.filterOpened=new ye,this.filterChanged=new ye,this.filterModified=new ye,this.filterUiChanged=new ye,this.floatingFilterUiChanged=new ye,this.advancedFilterBuilderVisibleChanged=new ye,this.findChanged=new ye,this.chartCreated=new ye,this.chartRangeSelectionChanged=new ye,this.chartOptionsChanged=new ye,this.chartDestroyed=new ye,this.cellKeyDown=new ye,this.gridReady=new ye,this.firstDataRendered=new ye,this.gridSizeChanged=new ye,this.modelUpdated=new ye,this.virtualRowRemoved=new ye,this.viewportChanged=new ye,this.bodyScroll=new ye,this.bodyScrollEnd=new ye,this.dragStarted=new ye,this.dragStopped=new ye,this.dragCancelled=new ye,this.stateUpdated=new ye,this.paginationChanged=new ye,this.rowDragEnter=new ye,this.rowDragMove=new ye,this.rowDragLeave=new ye,this.rowDragEnd=new ye,this.rowDragCancel=new ye,this.rowResizeStarted=new ye,this.rowResizeEnded=new ye,this.columnRowGroupChanged=new ye,this.rowGroupOpened=new ye,this.expandOrCollapseAll=new ye,this.pivotMaxColumnsExceeded=new ye,this.pinnedRowDataChanged=new ye,this.pinnedRowsChanged=new ye,this.rowDataUpdated=new ye,this.asyncTransactionsFlushed=new ye,this.storeRefreshed=new ye,this.headerFocused=new ye,this.cellClicked=new ye,this.cellDoubleClicked=new ye,this.cellFocused=new ye,this.cellMouseOver=new ye,this.cellMouseOut=new ye,this.cellMouseDown=new ye,this.rowClicked=new ye,this.rowDoubleClicked=new ye,this.rowSelected=new ye,this.selectionChanged=new ye,this.cellContextMenu=new ye,this.rangeSelectionChanged=new ye,this.cellSelectionChanged=new ye,this.tooltipShow=new ye,this.tooltipHide=new ye,this.sortChanged=new ye,this._nativeElement=n.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let n=Object.keys(this).filter(a=>!(a.startsWith("_")||a=="gridOptions"||a=="modules"||this[a]instanceof ye)),i={};n.forEach(a=>{let l=DWe(a,this[a]);i[a]=l});let r=one(this.gridOptions,i,n),o={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},s=Zie(this._nativeElement,r,o);s&&(this.api=s),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(n){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let i={};for(let r of Object.keys(n)){let o=n[r];i[r]=o.currentValue}sne(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){let r=this[n],o=r?.observed??r?.observers?.length>0,s=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[s];return o||a}globalListener(n,i){if(this._destroyed)return;let r=this[n];if(r&&this.isEmitterUsed(n)){let o=()=>this._angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));this._holdEvents?this._fullyReady.then(()=>o()):o()}}static{this.\u0275fac=function(i){return new(i||e)(We(Mt),We(Lr),We(Fre),We(Mre))}}static{this.\u0275cmp=et({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",ue],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",ue],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",ue],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",ue],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",ue],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",ue],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",ue],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",ue],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",ue],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",ue],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",ue],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",ue],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",ue],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",ue],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",ue],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",ue],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",ue],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",ue],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",ue],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",ue],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",ue],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",ue],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",ue],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",ue],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",ue],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",ue],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",ue],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",getFullRowEditValidationErrors:"getFullRowEditValidationErrors",invalidEditValueMode:"invalidEditValueMode",singleClickEdit:[2,"singleClickEdit","singleClickEdit",ue],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",ue],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",ue],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",ue],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",ue],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",ue],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",ue],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",ue],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",ue],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",ue],excelStyles:"excelStyles",findSearchValue:"findSearchValue",findOptions:"findOptions",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",ue],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",ue],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",ue],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",ue],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",ue],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",ue],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",ue],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",ue],enableFilterHandlers:[2,"enableFilterHandlers","enableFilterHandlers",ue],filterHandlers:"filterHandlers",enableCharts:[2,"enableCharts","enableCharts",ue],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",ue],keepDetailRows:[2,"keepDetailRows","keepDetailRows",ue],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",ue],context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",ue],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",ue],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",ue],suppressTouch:[2,"suppressTouch","suppressTouch",ue],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",ue],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",ue],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",ue],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",ue],debug:[2,"debug","debug",ue],loading:[2,"loading","loading",ue],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",ue],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",ue],pagination:[2,"pagination","pagination",ue],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",ue],paginateChildRows:[2,"paginateChildRows","paginateChildRows",ue],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",ue],pivotMode:[2,"pivotMode","pivotMode",ue],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",ue],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",ue],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",ue],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",ue],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",ue],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",ue],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",ue],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",ue],animateRows:[2,"animateRows","animateRows",ue],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",ue],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",ue],enableCellSpan:[2,"enableCellSpan","enableCellSpan",ue],enableRtl:[2,"enableRtl","enableRtl",ue],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",ue],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",ue],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",ue],rowDragManaged:[2,"rowDragManaged","rowDragManaged",ue],rowDragInsertDelay:"rowDragInsertDelay",suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",ue],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",ue],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",ue],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",ue],rowDragText:"rowDragText",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",ue],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",ue],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",ue],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",ue],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",ue],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",ue],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",ue],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",ue],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",ue],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",ue],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",ue],treeDataChildrenField:"treeDataChildrenField",treeDataParentIdField:"treeDataParentIdField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",ue],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",ue],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",enableRowPinning:"enableRowPinning",isRowPinnable:"isRowPinnable",isRowPinned:"isRowPinned",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",ue],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",ue],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",ue],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",ue],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",ue],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",ue],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",ue],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",ue],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",ue],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",ue],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",ue],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",ue],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",ue],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",ue],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",ue],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",ue],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",ue],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",ue],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",ue],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",ue],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",ue],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",ue],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",ue],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",ue],enableFillHandle:[2,"enableFillHandle","enableFillHandle",ue],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",ue],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",ue],unSortIcon:[2,"unSortIcon","unSortIcon",ue],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",ue],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",ue],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",ue],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",ue],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",ue],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",ue],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",ue],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",ue],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",ue],themeCssLayer:"themeCssLayer",styleNonce:"styleNonce",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",ue],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow",isRowValidDropPosition:"isRowValidDropPosition"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnsReset:"columnsReset",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",filterUiChanged:"filterUiChanged",floatingFilterUiChanged:"floatingFilterUiChanged",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",findChanged:"findChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",rowResizeStarted:"rowResizeStarted",rowResizeEnded:"rowResizeEnded",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",pinnedRowsChanged:"pinnedRowsChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[mi([Fre,Mre]),Hs],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),EWe=new Set(XB);function DWe(e,t){return EWe.has(e)?t===""?!0:t==="false"?!1:t:t}var kI=class e{show=!1;position="left";offset="10";className="overflow-pane-css-class";get displayStyle(){return this.show?"unset":"none"}get leftStyle(){return this.position==="left"?`${this.offset}px`:"unset"}get rightStyle(){return this.position==="right"?`${this.offset}px`:"unset"}width="480px";static \u0275fac=function(n){return new(n||e)};static \u0275dir=Bt({type:e,selectors:[["","appOverflowPane",""]],hostVars:10,hostBindings:function(n,i){n&2&&(cc(i.className),lc("display",i.displayStyle)("left",i.leftStyle)("right",i.rightStyle)("width",i.width))},inputs:{show:"show",position:"position",offset:"offset",width:"width"}})};var Pre=ow(bT());var PI=class e{constructor(t){this.dataStoreService=t}gridApi;close(){this.dataStoreService.setEditMode(!1)}clearFilters(){this.gridApi.setFilterModel(null)}static \u0275fac=function(n){return new(n||e)(We(Cs))};static \u0275cmp=et({type:e,selectors:[["app-top-buttons"]],inputs:{gridApi:"gridApi"},decls:8,vars:0,consts:[[1,"button-row"],[1,"flex-container"],["matMiniFab","","aria-label","Button with a filter off icon"],[3,"click"],["mat-icon-button","","aria-label","Button with a close icon",1,"close-button"],[1,"close-icon",3,"click"]],template:function(n,i){n&1&&(He(0,"div",0)(1,"div",1)(2,"button",2)(3,"mat-icon",3),en("click",function(){return i.clearFilters()}),Pn(4,"filter_list_off"),Ke()(),He(5,"button",4)(6,"mat-icon",5),en("click",function(){return i.close()}),Pn(7,"close"),Ke()()()())},dependencies:[Ub,R4,Tu,Ru],styles:["section[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:8px}.button-row[_ngcontent-%COMP%]{background:color-mix(in srgb,#fff,#181d1f 2%);border:none;border-radius:8px}.button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:0}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px;border-radius:8px;border-color:wheat}.close-icon[_ngcontent-%COMP%]{color:red;float:right;cursor:pointer}.close-button[_ngcontent-%COMP%]{border-style:hidden;background-color:transparent;margin:4px!important}"]})};Pne.registerModules([Ire]);var OI=class e{constructor(t,n){this.dataStoreService=t;this.eRef=n;this.inEditMode=this.dataStoreService.isInEditMode()}clickout(t){this.eRef.nativeElement.contains(t.target)||this.dataStoreService.setEditMode(!1)}destroyRef=A(Zi);defaultColDef={filter:!0,minWidth:60,flex:1};inEditMode=!1;rowData=[];colDefs=[];autoSizeStrategy={type:"fitCellContents"};gridApi;dataStore=[];selectedIndex;rowSelection=()=>({mode:"singleRow",checkboxes:!1,enableClickSelection:!0});onGridReady(t){this.gridApi=t.api,this.dataStoreService.editMode$.pipe(xi(this.destroyRef)).subscribe(n=>Pr(this,null,function*(){if(this.inEditMode=n,n){this.dataStore=this.dataStoreService.getStore();let i=this.dataStoreService.getSelectedData();i?this.selectedIndex=this.dataStore.findIndex(o=>(0,Pre.isEqual)(o,i)):this.selectedIndex=void 0,this.rowData=this.dataStore.map((o,s)=>{let g=o,{geoPositionInfo:a,longitude:l,latitude:c,error:d,sheetName:h}=g,f=hl(g,["geoPositionInfo","longitude","latitude","error","sheetName"]);return V({id:s.toString()},f)});let r=EY(this.rowData);this.colDefs=r.map(o=>({headerName:o,field:o,hide:o==="id",editable:!0,cellEditor:"agTextCellEditor",cellEditorParams:{maxLength:20}})),this.selectedIndex!==void 0&&this.gridApi.setFilterModel(null),this.gridApi.setGridOption("columnDefs",this.colDefs),this.gridApi.setGridOption("rowData",this.rowData),this.selectedIndex!==void 0?this.gridApi.getRowNode(this.selectedIndex?.toString())?.setSelected(!0):this.gridApi.deselectAll(),setTimeout(()=>{if(this.gridApi.autoSizeAllColumns(),this.selectedIndex!==void 0){let o=this.gridApi.paginationGetPageSize(),s=Math.floor((this.selectedIndex||0)/o);console.log("pageSize",o),console.log("selectedIndex",this.selectedIndex),console.log("page",s),console.log("totalPages",this.gridApi.paginationGetTotalPages()),this.gridApi.paginationGoToPage(s),this.gridApi.ensureIndexVisible(this.selectedIndex)}else this.gridApi.paginationGoToPage(0)},10)}}))}onGetRowId(t){return t.data.id}onCellValueChanged(t){let n=t.data;this.dataStoreService.updateData(n),this.inEditMode&&(this.rowData=this.dataStoreService.getStore().map((i,r)=>{let h=i,{geoPositionInfo:o,longitude:s,latitude:a,error:l,sheetName:c}=h,d=hl(h,["geoPositionInfo","longitude","latitude","error","sheetName"]);return V({id:r.toString()},d)}))}onRowSelected(t){this.dataStoreService.setSelectedData(t.data)}static \u0275fac=function(n){return new(n||e)(We(Cs),We(Mt))};static \u0275cmp=et({type:e,selectors:[["app-excel-grid"]],hostBindings:function(n,i){n&1&&en("click",function(o){return i.clickout(o)},!1,sz)},decls:3,vars:9,consts:[["appOverflowPane","","width","70%","offset","0",3,"show"],[3,"gridApi"],[2,"width","100%","height","calc(100% - 49px)",3,"gridReady","cellValueChanged","rowSelected","defaultColDef","paginationAutoPageSize","pagination","suppressFieldDotNotation","rowSelection","autoSizeStrategy","getRowId"]],template:function(n,i){n&1&&(He(0,"div",0),Ct(1,"app-top-buttons",1),He(2,"ag-grid-angular",2),en("gridReady",function(o){return i.onGridReady(o)})("cellValueChanged",function(o){return i.onCellValueChanged(o)})("rowSelected",function(o){return i.onRowSelected(o)}),Ke()()),n&2&&(mt("show",i.inEditMode),tt(),mt("gridApi",i.gridApi),tt(),mt("defaultColDef",i.defaultColDef)("paginationAutoPageSize",!0)("pagination",!0)("suppressFieldDotNotation",!0)("rowSelection",i.rowSelection())("autoSizeStrategy",i.autoSizeStrategy)("getRowId",i.onGetRowId))},dependencies:[kre,kI,Zn,PI],encapsulation:2})};var LI=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["app-houses"]],decls:4,vars:0,consts:[[1,"content"],["show",""]],template:function(n,i){n&1&&(He(0,"div",0),Ct(1,"app-excel-grid",1)(2,"app-houses-map")(3,"app-toaster-container"),Ke())},dependencies:[T2,Zn,Gy,M2,OI],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 1 100%}.content[_ngcontent-%COMP%]{display:flex;flex:1 1 100%;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   .import-icon[_ngcontent-%COMP%]{color:#2190e4;position:fixed;top:95px;left:10px}"]})};var Ore=[{path:"hangout/:userId/:username",component:TT},{path:"home",component:zb},{path:"location",component:zb},{path:"",component:LI}];var o5={providers:[DU({eventCoalescing:!0}),GP(Ore),mP(vP())]};var NI=class e{title="app";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=et({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){n&1&&Ct(0,"router-outlet")},dependencies:[my],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;flex-direction:column;flex:1 1 100%}"]})};cP(NI,De(V({},o5),{providers:[...o5.providers,{provide:GD,useValue:{subscriptSizing:"dynamic"}}]})).catch(e=>console.error(e));
